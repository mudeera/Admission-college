"use strict";(self.webpackChunkskype4life=self.webpackChunkskype4life||[]).push([[321],{322671:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(667294),s=i(705465),a=i(246923);t.default=function({children:e,valueFrom:t,valueTo:i,value:r,maxHeight:l,inputMapper:c=a.defaultInputMapper}){const d=(0,o.useRef)(new s.Animated.Value(0)).current;(0,o.useEffect)((()=>{d.setValue(c(t,i,r))}));const u=d.interpolate({inputRange:[0,1],outputRange:[l,0],extrapolate:"clamp"}),g=d.interpolate({inputRange:[0,1],outputRange:[1,0],extrapolate:"clamp"});return(0,n.jsx)(s.Animated.View,Object.assign({style:{height:u,opacity:g}},{children:e}))}},935001:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(667294),s=i(705465),a=i(246923);t.default=function({children:e,value:t,valueFrom:i,valueTo:r,maxOpacity:l=1,inputMapper:c=a.defaultInputMapper}){const d=(0,o.useRef)(new s.Animated.Value(0)).current;(0,o.useEffect)((()=>{d.setValue(c(i,r,t))}));const u=d.interpolate({inputRange:[0,1],outputRange:[0,l],extrapolate:"clamp"});return(0,n.jsx)(s.Animated.View,Object.assign({style:{opacity:u}},{children:e}))}},101970:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(667294),s=i(705465),a=i(246923);t.default=function({children:e,value:t,valueFrom:i,valueTo:r,maxSlideValue:l,minSlideValue:c=0,zIndex:d=2,inputMapper:u=a.defaultInputMapper}){const g=(0,o.useRef)(new s.Animated.Value(0)).current;(0,o.useEffect)((()=>{g.setValue(u(i,r,t))}));const h=g.interpolate({inputRange:[0,1],outputRange:[c,l],extrapolate:"clamp"});return(0,n.jsx)(s.Animated.View,Object.assign({style:{top:h,zIndex:d}},{children:e}))}},246923:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultInputMapper=void 0,t.defaultInputMapper=function(e,t,i){return(e<t?i<e:i>e)?0:(e<t?i>t:i<t)?1:Number.parseFloat((Math.abs(i-e)/Math.abs(t-e)).toFixed(2))}},166454:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Sliding=t.Fading=t.CollapsibleRow=void 0;var n=i(322671);Object.defineProperty(t,"CollapsibleRow",{enumerable:!0,get:function(){return n.default}});var o=i(935001);Object.defineProperty(t,"Fading",{enumerable:!0,get:function(){return o.default}});var s=i(101970);Object.defineProperty(t,"Sliding",{enumerable:!0,get:function(){return s.default}})},996074:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forNavigation=t.BaseNavigationWrapper=t.BaseNavigationView=void 0;const n=i(785893),o=i(496486),s=i(217041),a=i(462033),r=i(258187),l=i(746096),c=i(436237),d=i(104735),u=i(861253),g=i(24576),h=i(853374),p=i(677381),S="StatusBar:";class m extends p.default{constructor(e){super(e),this._onBackButtonPressed=()=>{const e=h.default.newCauseId(),t=this._goBack(e);return c.log(l.LogTraceArea.HardwareBackButton,"goBack: "+t+" causeId: "+e),t},this._statusBarKey=o.uniqueId(S)}componentDidMount(){super.componentDidMount(),a.default.subscribe(this._onBackButtonPressed)}componentWillUnmount(){super.componentWillUnmount(),a.default.unsubscribe(this._onBackButtonPressed)}setVisible(e){var t;null===(t=this._getContext().componentVisibilityStatus)||void 0===t||t.updateVisibility(e)}_componentId(){return"BaseNavigationView"}_goBack(e){const t=this._getContext();return!!t.goBack&&t.goBack(e)}}t.BaseNavigationView=m;class C extends g.default{constructor(e){super(e),this._onBackButtonPressed=()=>{const e=h.default.newCauseId(),t=this._goBack(e);return c.log(l.LogTraceArea.HardwareBackButton,"goBack: "+t+" causeId: "+e),t},this._statusBarKey=o.uniqueId(S)}componentDidMount(){super.componentDidMount(),a.default.subscribe(this._onBackButtonPressed)}componentWillUnmount(){super.componentWillUnmount(),a.default.unsubscribe(this._onBackButtonPressed)}setVisible(e){const t=this._getContext();t.componentVisibilityStatus&&t.componentVisibilityStatus.updateVisibility(e)}_componentId(){return"BaseNavigationComponent"}_goBack(e){const t=this._getContext();return!!t.goBack&&t.goBack(e)}}t.default=C;class y extends s.ComponentBase{constructor(e,t){super(e),this._goBack=e=>!!(this._context.isPresentedByMobileStackNavigator||this._context.isPresentedInDesktopSubview||this._context.isPresentedInDesktopContentPanel)&&(c.log(l.LogTraceArea.Navigation,"BaseNavigationWrapper._goBack causeId: "+e),d.default.navigateBack(e,this._context)),this._customGoBack=e=>!(!this.props.goBack||!this.props.goBack(e))||this._goBack(e),this._context=this._createContext(e,t)}_createContext(e,t){var i,n;const o=Object.assign({},t);return e.isPresentedInDesktopSubview&&(o.isPresentedInDesktopSubview=!0),e.isPresentedInDesktopLeftNav&&(o.isPresentedInDesktopSubview=!0,o.isPresentedInDesktopLeftNav=!0),e.isPresentedInDesktopRightNav&&(o.isPresentedInDesktopSubview=!0,o.isPresentedInDesktopRightNav=!0),e.isPresentedInGenericDesktopModal&&(o.isPresentedInDesktopSubview=!0,o.isPresentedInGenericDesktopModal=!0),e.isPresentedInManagedModal&&(o.isPresentedInDesktopSubview=!1!==e.isPresentedInDesktopSubview,o.isPresentedInManagedModal=!0),e.isPresentedInSplitView&&(o.isPresentedInSplitView=!0),e.isPresentedInDesktopContentPanel&&(o.isPresentedInDesktopContentPanel=!0),e.isPresentedByMobileStackNavigator&&(o.componentVisibilityStatus||(o.componentVisibilityStatus=null!==(n=null===(i=this._context)||void 0===i?void 0:i.componentVisibilityStatus)&&void 0!==n?n:new r.ComponentVisibilityStatus),o.isPresentedByMobileStackNavigator=!0),e.goBack?o.goBack=this._customGoBack:o.goBack=this._goBack,o}render(){const e=this._createContext(this.props,this.context);return this._context&&(0,u.default)(e,this._context)||(this._context=e),(0,n.jsx)(r.CommonContext.Provider,Object.assign({value:this._context},{children:this.props.children}))}}y.contextType=r.CommonContext,t.BaseNavigationWrapper=y;t.forNavigation=e=>t=>(0,n.jsx)(e,Object.assign({},t.route.params))},67930:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseNavigationViewPresentedInModal=void 0;const n=i(996074);class o extends n.default{constructor(e){super(e)}componentDidMount(){var e,t;super.componentDidMount(),null===(t=(e=this.props).onAccessibilityTitleChange)||void 0===t||t.call(e,this._getHeaderText(this.state))}}t.default=o;class s extends n.BaseNavigationView{constructor(e){super(e)}componentDidMount(){var e,t;super.componentDidMount(),null===(t=(e=this.props.route.params).onAccessibilityTitleChange)||void 0===t||t.call(e,this._getHeaderText(this.state))}}t.BaseNavigationViewPresentedInModal=s},398293:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(967593),a=i(665768),r=i(516778),l=i(351077),c=i(898278),d=i(539549),u=i(952262),g=i(676679),h=i(746096),p=i(436237),S=i(915877),m=i(232638),C=i(326385),y=i(89808),f=i(104735),b=i(330124),_=i(597223),v=i(29130),T=i(451070),P=i(681115),k=i(33714),A=i(581760),I=i(711828),w=i(680837),x=i(24576),N=i(912770),M=i(198762),L=i(853374),O=i(215069),D=(0,S.lazyProperties)({toastContainer:()=>r.Styles.createViewStyle({top:0,bottom:0,left:0,right:0,position:"absolute",overflow:"visible"}),desktopToastContainer:()=>r.Styles.createViewStyle({justifyContent:"flex-start",alignItems:"center"}),desktopToastContent:()=>r.Styles.createViewStyle({width:425,height:80,justifyContent:"center",backgroundColor:A.Color.transparent}),mobileToastContent:()=>r.Styles.createViewStyle({alignSelf:"stretch",marginHorizontal:10,height:80,justifyContent:"center",backgroundColor:A.Color.transparent}),browserMobileToastContent:()=>r.Styles.createViewStyle({width:screen.width}),mobileToastContentNoMargins:()=>r.Styles.createViewStyle({marginHorizontal:0}),gestureViewOverlayDesktop:()=>r.Styles.createViewStyle({backgroundColor:A.Color.transparent,justifyContent:"center",alignItems:"center",overflow:"visible"}),gestureViewOverlayMobile:()=>r.Styles.createViewStyle({alignSelf:"stretch",backgroundColor:A.Color.transparent,justifyContent:"center",alignItems:"center",overflow:"visible"}),backgroundViewDesktopIOS:()=>r.Styles.createViewStyle({borderRadius:5}),shadow:()=>r.Styles.createViewStyle({shadowColor:A.Color.black,shadowOpacity:.7,shadowRadius:2,shadowOffset:{height:0,width:0}})});class R extends x.default{constructor(){super(...arguments),this._wasToastTapped=!1,this._onAnimatedViewRef=e=>{this._animatedView=e||void 0},this._handleIncomingNotification=e=>{this.isComponentMounted()&&(this._recalcDisplay(e),void 0!==this.state.notificationType&&void 0!==this.state.conversationId&&(this._toastEventToSend=new C.MessagingToastEvent(this.state.conversationId,this.state.notificationType,C.MessagingToastActionType.Ignored)))},this._onPanVertical=e=>{o.isUndefined(this._hideToastTimerId)||!this.state.currentMessage&&!this.state.messageText||(N.default.clearTimeout(this._hideToastTimerId),this._hideToastTimerId=void 0);let t=e.pageY-e.initialPageY,i=!1;t>30&&(t=30),this._animatedView&&this._animatedView.setValue({y:t});let n=t/30;n<0&&(n=0);i=this.state.toastHeight-Math.abs(t)<this.state.toastHeight/2||Math.abs(e.velocityY)>.35||t>=30,e.isComplete&&(i?(this._hideToast(0),void 0!==this.state.notificationType&&void 0!==this.state.conversationId&&(this._toastEventToSend=new C.MessagingToastEvent(this.state.conversationId,this.state.notificationType,C.MessagingToastActionType.Panned))):this._showToast(0))},this._onTapDismiss=e=>{var t;const i=L.default.newCauseId();p.log(h.LogTraceArea.Notifications,"NotificationToast._onTapDismiss "+i),this._wasToastTapped=!0,this.state.conversationId&&(void 0!==this.state.notificationType&&(this._toastEventToSend=new C.MessagingToastEvent(this.state.conversationId,this.state.notificationType,C.MessagingToastActionType.Tapped)),f.default.navigateToConversation({convId:this.state.conversationId,causeId:i,scrollToTimestamp:null===(t=this.state.currentMessage)||void 0===t?void 0:t.createdTime,origin:h.NavigationConversationOrigin.InAppNotification})),this._isToastCurrentlyHiding||(o.isUndefined(this._hideToastTimerId)||(N.default.clearTimeout(this._hideToastTimerId),this._hideToastTimerId=void 0),this._hideToast(0))},this._onToastDismissed=()=>{this.state.onToastDismissed&&this.state.onToastDismissed(this._wasToastTapped),this.setState({onToastDismissed:void 0}),this._wasToastTapped=!1},this._hideToastCallback=()=>{this._isToastCurrentlyHiding=!1,M.default.hideCurrentToastMessage(),this._onToastDismissed(),o.isUndefined(this._toastEventToSend)||p.track(this._toastEventToSend)}}static _topStartingValue(e){return(e.toastHeight?-e.toastHeight:0)-10}_recalcDisplay(e){const t=L.default.newCauseId();p.log(h.LogTraceArea.Notifications,"NotificationToast._recalcDisplay "+t);const i={},n=this._getRootViewId();if(e){const o=v.default.getDeviceOrientation(n),s=T.default.leavePaddingForStatusBar(),a=b.default.isUsingStackNavigationContext(),r=T.default.statusBarHeight(),l=80+(s?r:0);if(this._animatedView&&this._animatedView.setValue({y:-l},t),i.leavePaddingForStatusBar=s,i.statusBarHeight=r,i.toastHeight=l,i.toastWidth=v.default.getWidth(n)||0,i.deviceOrientation=o,i.safeAreaHorizontalPaddingStyle=T.default.horizontalPaddingStyle(c.HorizontalInsetDefault),i.isUsingStackNavigationContext=a,e instanceof M.SkypeNotificationToastMessage){i.messageText=void 0,i.currentMessage=e.message,i.notificationType=m.getMessageNotificationType(e.message);const t=(0,d.default)().getConversation(e.message.conversationId),n=u.default.getDisplayName(e.message.conversationId),o=u.default.getDisplayName(e.message.creator),s=u.default.getShortDisplayName(e.message.creator),a=g.getCompactNotificationDisplayInfo(e.message,t,o,s,n);i.headerText=a.title,i.toastCreator=t&&t.isOneOnOne()?t.getOtherPartyMri():void 0,i.conversationId=e.message.conversationId}else if(e instanceof M.TextNotificationToastMessage)i.messageText=e.textMessage,i.currentMessage=void 0,i.notificationType=void 0,i.headerText=void 0,i.toastCreator=void 0,i.conversationId=e.conversationId,i.onToastDismissed=e.onToastDismissed;else if(e instanceof M.ScheduledCallToastMessage){let t,n;switch(e.scheduledCallInfo.type){case k.ScheduleCallAlertTypes.Received:n=e.skypeMessage.creator,t=g.getScheduledCallDisplayInfoForInvitationReceivedAlert(n);break;case k.ScheduleCallAlertTypes.InvitationAccepted:case k.ScheduleCallAlertTypes.InvitationDeclined:n=e.scheduledCallInfo.initiator,t=g.getScheduledCallDisplayInfoForInvitationAlert(n,e.scheduledCallInfo.type,e.scheduledCallInfo.subject);break;case k.ScheduleCallAlertTypes.Edited:case k.ScheduleCallAlertTypes.Canceled:n=e.skypeMessage.creator,t=g.getScheduledCallDisplayInfoForInvitationUpdatedAlert(n,e.scheduledCallInfo.type,e.scheduledCallInfo.subject);break;default:return L.default.switchStatementExhaustiveChecking(e.scheduledCallInfo.type)}t&&(i.currentMessage=e.skypeMessage,i.notificationType=_.MessageNotificationType.ScheduledCall,i.messageText=t.body,i.messageTextIcon=I.SkypeIcon.Schedule,i.headerText=t.title,i.conversationId=e.skypeMessage.conversationId,i.toastCreator=n)}this.setState(i),this._animatedView&&this._animatedView.setValue({y:R._topStartingValue(i)},t),this._showToast()}else i.messageText=void 0,i.currentMessage=void 0,i.notificationType=void 0,this.setState(i)}_buildState(e,t){const i=this._getRootViewId();if(t){M.default.event_localNotificationReady.subscribe(this._handleIncomingNotification);const e={},t=v.default.getDeviceOrientation(i),n=T.default.leavePaddingForStatusBar(),o=b.default.isUsingStackNavigationContext(),s=T.default.statusBarHeight(),a=80+(n?s:0);return e.currentMessage=void 0,e.notificationType=void 0,e.messageText=void 0,e.messageTextIcon=void 0,e.headerText=void 0,e.toastCreator=void 0,e.leavePaddingForStatusBar=n,e.statusBarHeight=s,e.toastHeight=a,e.toastWidth=v.default.getWidth(i)||0,e.deviceOrientation=t,e.safeAreaHorizontalPaddingStyle=T.default.horizontalPaddingStyle(c.HorizontalInsetDefault),e.isUsingStackNavigationContext=o,this._isToastCurrentlyHiding=!1,e}return{}}componentWillUnmount(){super.componentWillUnmount(),M.default.event_localNotificationReady.unsubscribe(this._handleIncomingNotification)}render(){return this.state.currentMessage||this.state.messageText?this.state.currentMessage&&this.state.currentMessage.messagetype===l.MessageTypes.PopCard?null:this._renderSimpleToast():null}_renderSimpleToast(){let e=this._renderNotificationContent();if(!e)return null;const t=[D.toastContainer,D.desktopToastContainer],i=[this.state.isUsingStackNavigationContext?D.mobileToastContent:D.desktopToastContent];O.BrowserEnvironment.isMobile()&&!this.state.isUsingStackNavigationContext&&i.push(D.browserMobileToastContent),this.state.isUsingStackNavigationContext&&i.push(D.mobileToastContentNoMargins);const o=this.state.leavePaddingForStatusBar?Math.max(this.state.statusBarHeight,10):(this.state.isUsingStackNavigationContext,0);o&&i.push(P.default.marginTopStyle(o));const s=this.state.isUsingStackNavigationContext?D.gestureViewOverlayMobile:D.gestureViewOverlayDesktop,l=y.default.getGradientColorsNoSubscription();return e=(0,n.jsxs)(r.View,Object.assign({style:i},{children:[this._getBackgroundView(l,!1),e]})),(0,n.jsx)(a.View,Object.assign({ref:this._onAnimatedViewRef,style:t,ignorePointerEvents:!0,y:-this.state.toastHeight},{children:(0,n.jsx)(r.GestureView,Object.assign({style:s,onTap:this._onTapDismiss,onPanVertical:this._onPanVertical,releaseOnRequest:!1},{children:e}))}),"toast")}_getBackgroundView(e,t=!1){const i=[w.default.absoluteFill];return t&&i.push(D.backgroundViewDesktopIOS),this._themeStyles.notificationColorStyle?(0,n.jsx)(r.View,{style:[i,this._themeStyles.notificationColorStyle]}):(0,n.jsx)(s.GradientView,{style:i,direction:s.GradientDirection.RIGHT,colors:e})}_showToast(e=500){const t=L.default.newCauseId();p.log(h.LogTraceArea.Notifications,"NotificationToast._showToast causeId: "+t),N.default.setTimeout((()=>{if(this.isComponentMounted()&&this._animatedView){const e=0;this._animatedView.getAnimation({y:{toValue:e,duration:266,easing:a.Easing.SkypeExpoInOut5}},t).start((()=>{this.isComponentMounted()&&(this._hideToast(),this._announceForAccessibility())}))}}),e)}_hideToast(e=2500){const t=L.default.newCauseId();p.log(h.LogTraceArea.Notifications,"NotificationToast._hideToast causeId: "+t),this._hideToastTimerId=N.default.setTimeout((()=>{this.isComponentMounted()&&this._animatedView&&(this._isToastCurrentlyHiding=!0,this._animatedView.getAnimation({y:{toValue:R._topStartingValue(this.state),duration:266,easing:a.Easing.SkypeExpoInOut5}},t).start(this._hideToastCallback))}),e)}_announceForAccessibility(){this.state.messageText&&r.Accessibility.announceForAccessibility(this.state.messageText)}}t.default=R},277484:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(996074),r=i(746096),l=i(436237),c=i(915877),d=i(706250),u=i(104735),g=i(833348),h=i(581760),p=i(24576),S=i(912770),m=(0,c.lazyProperties)({sceneContainer:()=>s.Styles.createViewStyle({flex:1,flexDirection:"row",alignSelf:"stretch"},!1),cardStyleAndroid:()=>s.Styles.createViewStyle({backgroundColor:h.Color.transparent},!1)});class C extends p.default{constructor(){super(...arguments),this._mountedRefsMap=new d.default,this._navigateBackCompleted=()=>{},this._transitionStarted=(e,t,i,n,o)=>{const s=t?this._navContextForNavigatorRouteId(parseInt(t,10)):void 0,a=i?this._navContextForNavigatorRouteId(parseInt(i,10)):void 0;u.default.stackNavigationStarted(e,s,a,n,o)},this._transitionCompleted=()=>{l.log(r.LogTraceArea.Navigation,"RootStackNavigationView: _transitionCompleted"),this._clearPendingNavigationAnimation(!1),o.defer((()=>{this._updateComponentVisibility(),u.default.stackNavigationCompleted()}))},this._onNavigatorRef=e=>{this._navigator=e||void 0},this._renderScene=e=>{if(!e)return null;const t=this._navContextForNavigatorRoute(e);t||l.warn(r.LogTraceArea.Navigation,"No nav context found corresponding to the Navigator Route");const i=this._routeIdKey(e),o=this._renderSceneContent(t,i);return(0,n.jsx)(a.BaseNavigationWrapper,Object.assign({isPresentedByMobileStackNavigator:!0},{children:(0,n.jsx)(s.View,Object.assign({accessibilityViewIsModalIOS:!0,style:m.sceneContainer},{children:o}))}))}}UNSAFE_componentWillUpdate(e,t,i){if(super.UNSAFE_componentWillUpdate(e,t,i),this._prevNavContextStack=this.props.navContextStack,!this._navigator)return;const n=e.navContextStack;let o=this._prevNavContextStack.length;n.length<o&&(o=n.length);let s=0;for(;s<o&&this._prevNavContextStack[s].id===n[s].id;s++);const a=this._prevNavContextStack.length-s,c=n.length-s;if(c>1&&l.warn(r.LogTraceArea.Navigation,"Only 1 scene can be added to the stack in a single transaction."),a||c){if(n[n.length-1].id===this._prevNavContextStack[this._prevNavContextStack.length-1].id||c>1){l.log(r.LogTraceArea.Navigation,"RootStackNavigationView: UNSAFE_componentWillUpdate immediatelyResetRouteStack");const e=this._createNavigatorRouteStack(n);return void this._navigator.immediatelyResetRouteStack(e)}}let d;if(1===c){const e=n[s],t=s>0?n[s-1]:void 0;d=this._createNavigatorRoute(e,t)}l.log(r.LogTraceArea.Navigation,"RootStackNavigationView: UNSAFE_componentWillUpdate prev stack length: "+this._prevNavContextStack.length+" next stack length: "+n.length+" totalPushing: "+c+" totalPopping: "+a),d&&a>=1?(l.log(r.LogTraceArea.Navigation,"RootStackNavigationView: UNSAFE_componentWillUpdate replaceAtIndex, routeId: "+d.routeId),this._registerPendingNavigationAnimation(),this._navigator.replaceAtIndex(d,s)):d?(l.log(r.LogTraceArea.Navigation,"RootStackNavigationView: UNSAFE_componentWillUpdate push, routeId: "+d.routeId),this._registerPendingNavigationAnimation(),this._navigator.push(d)):a>0&&(l.log(r.LogTraceArea.Navigation,"RootStackNavigationView: UNSAFE_componentWillUpdate popToRoute"),this._navigator.popToRoute(this._navigator.getCurrentRoutes()[s-1]))}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._updateComponentVisibility()}componentDidMount(){super.componentDidMount();const e=this._createNavigatorRouteStack(this.props.navContextStack);l.log(r.LogTraceArea.Navigation,"RootStackNavigationView: componentDidMount immediatelyResetRouteStack"),this._navigator&&this._navigator.immediatelyResetRouteStack(e),this._updateComponentVisibility()}_updateComponentVisibility(){const e=this._navigator?o.last(this._navigator.getCurrentRoutes()):void 0,t=this._routeIdKey(e);o.each(this._mountedRefsMap.allRefs(),((e,i)=>{e.ref&&e.ref.setVisible&&e.ref.setVisible(!this.props.isWholeStackInvisible&&i===t)}))}render(){const e=this._themeStyles.primaryBackgroundColorStyle;return(0,n.jsx)(s.Navigator,{renderScene:this._renderScene,navigateBackCompleted:this._navigateBackCompleted,transitionStarted:this._transitionStarted,transitionCompleted:this._transitionCompleted,ref:this._onNavigatorRef,cardStyle:e,delegateSelector:s.NavigatorDelegateSelector})}_registerPendingNavigationAnimation(){this._clearPendingNavigationAnimation(!1),this._pendingAnimationHandle=g.default.createPendingAnimation(),l.log(r.LogTraceArea.Navigation,"RootStackNavigationView: _registerPendingNavigationAnimation "+this._pendingAnimationHandle),this._pendingAnimationTimeout=S.default.setTimeout((()=>{this._clearPendingNavigationAnimation(!0)}),1e3)}_clearPendingNavigationAnimation(e){if(this._pendingAnimationTimeout&&(S.default.clearTimeout(this._pendingAnimationTimeout),this._pendingAnimationTimeout=void 0),this._pendingAnimationHandle){l.log(r.LogTraceArea.Navigation,"RootStackNavigationView: _clearPendingNavigationAnimation "+this._pendingAnimationHandle+" timed out: "+e);const t=this._pendingAnimationHandle;this._pendingAnimationHandle=void 0,g.default.clearPendingAnimation(t)}}_navContextForNavigatorRoute(e){if(e)return this._navContextForNavigatorRouteId(e.routeId)}_navContextForNavigatorRouteId(e){let t=o.find(this.props.navContextStack,(t=>t.id===e));return t||(t=o.find(this._prevNavContextStack,(t=>t.id===e))),t}_routeIdKey(e){return"routeId"+(e?e.routeId:o.uniqueId())}_createNavigatorRouteStack(e){return o.map(e,((t,i)=>{const n=i>0?e[i-1]:void 0;return this._createNavigatorRoute(t,n)}))}_createNavigatorRoute(e,t){const i=this._navigatorSceneConfigTypeForNavContext(e,t);return{routeId:e.id,sceneConfigType:i.direction,gestureResponseDistance:i.gestureResponseDistance,customSceneConfig:i.customSceneConfig}}}t.default=C},66020:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(994224),a=i(297869),r=i(671830),l=i(757139),c=(i(952262),i(759799)),d=i(746096),u=i(436237),g=i(116812),h=i(733754),p=i(104735),S=i(938985),m=i(615301),C=i(906262),y=i(711828),f=i(853374);t.default=new class{constructor(){this.showInvitePrompt=(e,t,i,o,s,r)=>{const c=f.default.newCauseId();u.log(d.LogTraceArea.Navigation,"CallOrInvitePrompt.showInvitePrompt causeId: "+c);const p=i||"",S=(s&&s.length,r?r.length:0),m=()=>e();if(1===S)return s&&0===S?this._inviteViaNativeShareSheet(o,t,m):r&&this._inviteViaEmail(r[0],p,o,t,m),void l.default.close(t,c);const C=i=>{u.log(d.LogTraceArea.CallNavigation,"CallOrInvitePrompt.onClose causeId: "+i),this._closePrompt(e,t)},y=S,b=a.default.getMinimumMenuHeightForItems(y);l.default.showWithContent({menuId:l.default.menuId(),anchor:e,rootViewId:t,menuHeight:b,content:(0,n.jsx)(g.default,{contactName:p,phoneNumbers:void 0,emails:r,inviteOrigin:o,onInviteViaEmail:this._inviteViaEmail,onInviteViaSms:this._inviteViaSms,onCloseMenu:C,anchor:m}),getTitle:()=>h.getString("CallOrInviteMenu.InviteTitle",{userDisplayName:p}),onCloseMenu:C},c)},this.showSendSmsPrompt=(e,t,i,n,o,s)=>{let a;if(s){const i=h.getString("SMSMessaging.SendViaSkype",{target:h.getString("SMSMessaging.SendViaSkypeStatic"),chevron:""});a=[{title:i,accessibilityLabel:i,icon:y.SkypeIcon.Message,onPress:()=>{this._closePrompt(e,t),o(void 0)}}]}const r={rootViewId:t,skypeMri:i,onStartSMSConversation:(i,n)=>{this._closePrompt(e,t,!0),o(n)},customButtons:a,phones:n,anchor:e,suppressVideoOption:!0,suppressInvite:!0,suppressCalling:!0,inviteOrigin:d.ContactInviteOrigin.Unknown,popupTitleOverride:s?h.getString("DetailsPanelHeader.SendMessageButtonTitle"):h.getString("SMSMessaging.ContactOptionsPopupSendSMSLabel"),showGroupTitles:s,callOrigin:d.NavigationCallOrigin.Unknown};this._showCallOrInvitePrompt(r)},this._closePrompt=(e,t,i=!1,n=!1)=>{const o=f.default.newCauseId();if(u.log(d.LogTraceArea.Navigation,"CallOrInvitePrompt._closePrompt causeId: "+o),i||m.default.clearNextFlowId(),l.default.close(t,o),!n){const t=e();t&&t.requestFocus&&t.requestFocus()}},this._inviteViaEmail=(e,t,i,n,o)=>{S.default.initiateJoinLinkInvite({target:new S.EmailInvite([e]),origin:i,showLoadingModalWhileGettingJoinLink:!0,recipientName:t,rootViewId:n,anchor:o})},this._inviteViaSms=(e,t,i,n,o)=>{S.default.initiateJoinLinkInvite({target:new S.SmsInvite(e),origin:i,showLoadingModalWhileGettingJoinLink:!0,recipientName:t,rootViewId:n,anchor:o})},this._inviteViaNativeShareSheet=(e,t,i)=>{S.default.initiateJoinLinkInvite({target:new S.ShareSheetInvite,origin:e,showLoadingModalWhileGettingJoinLink:!0,rootViewId:t,anchor:i})},this._startPstnCall=e=>{const t=f.default.newCauseId(),i=r.sanitizeMri(e,r.Namespaces.PSTN);u.log(d.LogTraceArea.CallNavigation,"CallActionMenu._callNumber causeId: "+t),s.default.CallNavigationHelper.startCall({conversationMri:i,withVideo:!1,origin:d.NavigationCallOrigin.CallOrInvitePrompt},t)},this._startSmsConversation=(e,t)=>{const i=f.default.newCauseId();u.log(d.LogTraceArea.Navigation,"CallOrInvitePrompt._startSmsConversation causeId: "+i),p.default.navigateToConversation({convId:e,origin:d.NavigationConversationOrigin.CallOrInvitePrompt,selectedNumberForSMS:r.isPhoneMri(e)?void 0:t,causeId:i})}}showForSkypeMri(e,t,i,n,o,s,a,l,c,g,h,p,S){if(i&&r.isPhoneMri(i))return void u.error(d.LogTraceArea.CallNavigation,"CallingOptionsPopup: MRI passed can not be a phone number.");C.default.isPaidUser()||(p=!1);const m={anchor:e,rootViewId:t,inviteOrigin:s,callOrigin:a,skypeMri:i,encryptedThreadId:n,onStartSkypeCall:l,suppressVideoOption:o,phones:h,onStartPstnCall:c,onStartSMSConversation:p?this._startSmsConversation:void 0,onStartEncryptedCall:g,popupTitleOverride:S};this._showCallOrInvitePrompt(m)}showForPhoneNumber(e,t,i,n,o){const s={anchor:e,rootViewId:t,inviteOrigin:n,phones:i,onStartPstnCall:this._startPstnCall,suppressInvite:!0,callOrigin:d.NavigationCallOrigin.CallOrInvitePrompt,popupTitleOverride:o};this._showCallOrInvitePrompt(s)}showForAddressContact(e,t,i,n,s,a,r,l,c,d){if(C.default.isPaidUser()||(c=!1),o.isEmpty(a))return void this.showInvitePrompt(e,t,i,n,void 0,r);const u={anchor:e,rootViewId:t,inviteOrigin:n,callOrigin:s,phones:a,contactName:i,emails:r,suppressInvite:l,popupTitleOverride:d,suppressVideoOption:!0,onStartPstnCall:this._startPstnCall,onStartSMSConversation:c?this._startSmsConversation:void 0};this._showCallOrInvitePrompt(u)}_showCallOrInvitePrompt(e){const t=f.default.newCauseId();u.log(d.LogTraceArea.Navigation,"CallOrInvitePrompt._showCallOrInvitePrompt causeId: "+t);const i=()=>this._closePrompt(e.anchor,e.rootViewId);let o;e.onStartSMSConversation&&(o=(t,i)=>{this._closePrompt(e.anchor,e.rootViewId,!0),e.onStartSMSConversation&&e.onStartSMSConversation(t,i)});const r={anchor:e.anchor,rootViewId:e.rootViewId,hasCameras:s.default.DeviceStore.hasCameras(),skypeToSkypeMri:e.skypeMri,encryptedThreadId:e.encryptedThreadId,suppressVideoOption:e.suppressVideoOption,phoneNumbers:e.phones,contactName:e.contactName,emails:e.emails,inviteOrigin:e.inviteOrigin,onStartSkypeCall:t=>{this._closePrompt(e.anchor,e.rootViewId,!1,!0),e.skypeMri?e.onStartSkypeCall&&e.onStartSkypeCall(e.skypeMri,t,e.callOrigin):u.error(d.LogTraceArea.CallNavigation,"CallingOptionsPopup: We must have a Skype MRI to make a call.")},onStartPstnCall:(i,n)=>{this._closePrompt(e.anchor,e.rootViewId,!1,!0);const o=()=>{e.onStartPstnCall&&e.onStartPstnCall(i,n,e.callOrigin)};c.default.shouldRequestAcknowledgementNoSubscription()?p.default.navigateToE911AcknowledgementPanel(t,e.rootViewId,o):o()},onStartEncryptedCall:t=>{e.onStartEncryptedCall&&e.onStartEncryptedCall(t)},onStartSmsConversation:o,onCloseMenu:i,onOpenInvitePrompt:this.showInvitePrompt,suppressInvite:e.suppressInvite,suppressCalling:e.suppressCalling,customButtons:e.customButtons,showGroupTitles:e.showGroupTitles},g=(0,n.jsx)(a.default,Object.assign({},r)),h=a.default.getMenuHeight(r);l.default.showWithContent({menuId:l.default.menuId(),anchor:e.anchor,rootViewId:e.rootViewId,menuHeight:h,content:g,onCloseMenu:i,getTitle:t=>e.popupTitleOverride&&!t?e.popupTitleOverride:void 0},t)}}},956305:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=(i(667294),i(281878)),s=i(185453),a=i(91545),r=i(600212);t.default=e=>{const{isMobileLandscape:t}=e,i=(0,r.useSkypeTheme)().mode.isDark?.5:.3;return(0,n.jsxs)(o.Box,Object.assign({position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex"},{children:[(0,n.jsx)(o.Box,Object.assign({opacity:i,position:"absolute",width:"100%",height:"100%"},{children:(0,n.jsx)(s.ColorfulGradientOverlay,{})})),(0,n.jsx)(a.CloudsMiddleOverlay,{isLandscape:t})]}))}},803056:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(785893),s=i(667294),a=i(258187),r=i(861253),l=i(600212),c=i(134952),d=i(89808);class u extends s.PureComponent{constructor(e,t){super(e),this._createContext(e,t)}_createContext(e,t){const i=Object.assign(Object.assign({},t),e),{children:o}=i,s=n.__rest(i,["children"]);if(e.theme&&t.theme!==e.theme){const t=e.theme,{colors:i,themeMode:n}=(0,c.skypeThemeConnector)(t,d.default.getColorInfo().key);s.theme=t,s.themeStyles=l.default.themeStylesForTheme(t),s.themeColors=i,s.mode=n}(0,r.default)(s,this._context)||(this._context=s)}render(){return this._createContext(this.props,this.context),(0,o.jsx)(a.CommonContext.Provider,Object.assign({value:this._context},{children:this.props.children}))}}u.contextType=a.CommonContext,t.default=u},948942:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(480200),a=i(953143),r=i(913944),l=i(110117),c=i(915877),d=i(733754),u=i(581760),g=i(711828),h=i(619675),p=i(24576),S=i(359433),m=i(889391),C=g.IconSize.size20,y=(0,c.lazyProperties)({container:()=>o.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingHorizontal:20,paddingVertical:10}),contentContainer:()=>o.Styles.createViewStyle({flex:1,flexDirection:"row",flexWrap:"wrap",paddingHorizontal:10,alignItems:"center"}),textComposite:()=>o.Styles.createTextStyle({flex:-1,lineHeight:24,alignSelf:"center",wordBreak:"break-word"}),avSettingsLinkStyle:()=>o.Styles.createTextStyle({flex:-1,lineHeight:24,alignSelf:"center",wordBreak:"break-word",marginLeft:4,color:u.Color.sxBlue}),buttonContainer:()=>o.Styles.createViewStyle({flex:1,flexDirection:"row",flexWrap:"wrap",paddingLeft:10}),buttonStyle:()=>o.Styles.createButtonStyle({paddingLeft:10})});class f extends p.default{constructor(){super(...arguments),this._onDownloadLinkPress=e=>{o.Linking.openUrl(this.state.downloadLink)},this._onCloseButtonPress=e=>{a.default.removeToast(this.props.toastId,s.ToastActionType.ManualDismissed)}}_buildState(e){return{downloadLink:m.default.getS4LUiFeatures().limitedSupportBrowserToastConfig.downloadGoLink}}render(){return(0,n.jsxs)(o.View,Object.assign({style:y.container},{children:[(0,n.jsx)(l.default,{icon:g.SkypeIcon.Warning,size:g.IconSize.size24,color:this._themeColors.headerIconColor}),this._getTextContent(),(0,n.jsx)(r.default,{icon:g.SkypeIcon.ClosePanel,size:C,color:this._themeColors.headerIconColor,hoverColor:this._themeColors.primaryIconColor,title:d.getString("Global.CloseButtonTitle"),onPress:this._onCloseButtonPress})]}))}_getTextContent(){const e=d.getParts("LimitedSupportBrowserToast.LimitedSupportText",{downloadLink:this._getDownloadLink()});return(0,n.jsx)(o.View,Object.assign({style:y.contentContainer},{children:(0,n.jsx)(h.BodyText,Object.assign({style:[this._themeStyles.headerTextColorStyle,y.textComposite]},{children:e}))}),"textContentContainer")}_getDownloadLink(){return(0,n.jsx)(S.default,Object.assign({url:"#",blue:!0,onPress:this._onDownloadLinkPress},{children:d.getString("LimitedSupportBrowserToast.LimitedSupportDownloadLink")}),"downloadLink")}}t.default=f},925310:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(244770),r=i(889391),l=i(746096),c=i(139285),d=i(436237),u=i(915877),g=i(875913),h=i(733754),p=i(10909),S=i(89808),m=i(104735),C=i(795691),y=i(24148),f=i(593486),b=i(695697),_=i(581760),v=i(311010),T=i(359433),P=i(24576),k=i(494109),A=(0,u.lazyProperties)({container:()=>s.Styles.createViewStyle({minHeight:32,alignItems:"center",justifyContent:"space-between",flexDirection:"row",flexWrap:"wrap",paddingRight:8}),containerWithoutPreview:()=>s.Styles.createViewStyle({paddingLeft:8}),innerContainer:()=>s.Styles.createViewStyle({flexDirection:"row",flex:-1,alignSelf:"stretch",alignItems:"center"}),webFooterText:()=>s.Styles.createTextStyle({font:v.default.font.uiDisplayRegular,fontSize:v.default.controlFontSize.webFooter}),linkText:()=>s.Styles.createTextStyle({color:_.Color.gray200,marginHorizontal:4,marginVertical:4}),spacerText:()=>s.Styles.createTextStyle({color:_.Color.gray200,marginHorizontal:4,top:-2}),shadow:()=>s.Styles.createViewStyle({position:"absolute",left:0,right:0,top:0,height:10,opacity:.6}),previewContainer:()=>s.Styles.createViewStyle({paddingHorizontal:6,alignSelf:"stretch",justifyContent:"center",marginRight:4}),borderStyle:()=>s.Styles.createViewStyle({borderTopWidth:1})});var I;!function(e){e[e.Feedback=0]="Feedback",e[e.Download=1]="Download",e[e.Language=2]="Language",e[e.TermsOfUse=3]="TermsOfUse",e[e.Privacy=4]="Privacy",e[e.Copyright=5]="Copyright",e[e.Preview=6]="Preview",e[e.PublicWebSafety=7]="PublicWebSafety",e[e.SignOut=8]="SignOut"}(I||(I={}));const w=[I.Preview,I.Download,I.Feedback,I.Language,I.PublicWebSafety,I.SignOut],x=[I.TermsOfUse,I.Privacy,I.Copyright];class N extends P.default{constructor(){super(...arguments),this._renderFooterElement=(e,t)=>{let i,o,a=!1;switch(e){case I.Preview:this.state.showPreviewBadge&&(i=h.getString("WebFooter.Preview2"),a=!0);break;case I.Feedback:this.state.isChild||(i=h.getString("WebFooter.Feedback"),o=this._openFeedback);break;case I.Language:const e=h.getLocale();i=h.getString("WebFooter.Language")+(e?" ("+e+")":""),o=this._openLanguagePicker;break;case I.Download:i=h.getString("WebFooter.Download"),o=this._openDownloadPage;break;case I.TermsOfUse:i=h.getString("WebFooter.TermsOfUse"),o=this._openTerms;break;case I.PublicWebSafety:i=h.getString("WebFooter.PublicWebSafety"),o=this._openPublicWebSafety;break;case I.SignOut:i=h.getString("WebFooter.SignOut"),o=this._signOut;break;case I.Privacy:i=h.getString("WebFooter.Privacy"),o=this._openPrivacy;break;case I.Copyright:i=h.getString("WebFooter.Copyright")}if(i){const r=this._useAccessibleTheme();let l;const d=[A.webFooterText,A.linkText];let u;a?u=s.Styles.createTextStyle({color:r?this._themeColors.primaryBackgroundColor:_.Color.white},!1):r&&(u=this._themeStyles.primaryTextColorStyle);const g=[A.webFooterText,A.spacerText];if(u&&(d.push(u),g.push(u)),o?l=(0,n.jsx)(T.default,Object.assign({style:d,url:"#",onPress:o},{children:i}),"link"+e):(l=(0,n.jsx)(c.HiddenText,Object.assign({style:d},{children:i}),"text"+e),a||(l=(0,n.jsx)(s.View,Object.assign({accessibilityLabel:i,tabIndex:-1,importantForAccessibility:s.Types.ImportantForAccessibility.Yes},{children:l}),"text"+e))),a){const t=r?s.Styles.createViewStyle({backgroundColor:this._themeColors.primaryTextColor},!1):this.state.previewBackgroundStyle;l=(0,n.jsx)(s.View,Object.assign({style:[A.previewContainer,t],accessibilityLabel:i,tabIndex:-1,importantForAccessibility:s.Types.ImportantForAccessibility.Yes},{children:l}),"badge"+e)}return[l,t&&!a?(0,n.jsx)(c.HiddenText,Object.assign({style:g},{children:"."}),"spacer"+e):void 0]}},this._openPrivacy=()=>{g.default.openPrivacy()},this._openTerms=()=>{g.default.openTerms()},this._openLanguagePicker=()=>{m.default.navigateToLanguagePicker(!0,this._getRootViewId())},this._openDownloadPage=()=>{s.Linking.openUrl(r.default.getConfigSettingsNoSubscription().downloadSkype.downloadSkypeUrl)},this._openPublicWebSafety=()=>{s.Linking.openUrl(r.default.getConfigSettingsNoSubscription().skypeGoLinks.publicWebSafety)},this._signOut=()=>{k.default.showSignOutConfirmation(l.LogoutReason.CompositeNavigationFooter,this._getRootViewId())},this._openFeedback=()=>{d.track(new y.NavigationHelpAndFeedback(C.NavigationSettingsItem.SendFeedback,C.NavigationSettingsOrigin.WebFooter)),b.default.openFeedbackUrl(r.default.getConfigSettings().feedbackAndProblemGoParam.feedback,h.getString("MyProfilePanel.SendFeedbackButtonTitle"),this._getRootViewId(),!0)},this._onLayout=e=>{p.default.setBottomMarginBase(e.height+10)}}_buildState(e,t){return{previewBackgroundStyle:S.default.getPrimaryBackgroundColorStyle(),showPreviewBadge:r.default.getS4LUiFeatures().enableWebFooterPreviewBadge,isChild:f.default.isChild()}}componentWillUnmount(){super.componentWillUnmount(),p.default.setBottomMarginBase(0)}_renderFooterElements(e){return o.map(e,((t,i)=>this._renderFooterElement(t,i!==e.length-1)))}render(){const e=this._useAccessibleTheme(),t=e?this._themeStyles.primaryBackgroundColorStyle:s.Styles.createViewStyle({backgroundColor:this._themeColors.webFooterColor},!1),i=[A.container,t];this.state.showPreviewBadge||i.push(A.containerWithoutPreview),e&&i.push(this._themeStyles.dividerBorderColorStyle,A.borderStyle);const o=e?void 0:(0,n.jsx)(s.Image,{style:A.shadow,resizeMode:"stretch",source:a.Collection.PHOTO_SHIM});return(0,n.jsxs)(s.View,Object.assign({style:i,onLayout:this._onLayout},{children:[o,(0,n.jsx)(s.View,Object.assign({style:A.innerContainer},{children:this._renderFooterElements(w)})),(0,n.jsx)(s.View,Object.assign({style:A.innerContainer},{children:this._renderFooterElements(x)}))]}))}}t.default=N},911896:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(889391),a=i(898278),r=i(953143),l=i(913944),c=i(915877),d=i(733754),u=i(695697),g=i(581760),h=i(711828),p=i(359433),S=i(619675),m=i(24576),C=(0,c.lazyProperties)({container:()=>o.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",paddingHorizontal:a.CompositeNotificationToastInfo.horizontal,paddingVertical:a.CompositeNotificationToastInfo.vertical+3,minHeight:44}),contentContainer:()=>o.Styles.createViewStyle({flex:1,flexDirection:"row",flexWrap:"wrap",paddingHorizontal:10,alignItems:"center"}),notificationTextStyle:()=>o.Styles.createTextStyle({flex:-1,wordBreak:"break-word",paddingRight:5}),closeButtonStyle:()=>o.Styles.createButtonStyle({flex:1,paddingLeft:10,alignItems:"flex-end",justifyContent:"flex-start"}),linkText:()=>o.Styles.createTextStyle({color:g.Color.sxBlue})});class y extends m.default{constructor(){super(...arguments),this._onCloseButtonPress=e=>{r.default.removeToast(this.props.toastId)},this._onReportAProblemPress=()=>{u.default.reportProblem(!0,this._getRootViewId())},this._onLeaveFeedbackPress=()=>{u.default.openFeedbackUrl(s.default.getConfigSettings().feedbackAndProblemGoParam.feedback,d.getString("MyProfilePanel.SendFeedbackButtonTitle"),this._getRootViewId())}}render(){const e=this._useAccessibleTheme()?this._themeStyles.headerTextColorStyle:C.linkText,t=(0,n.jsx)(p.default,Object.assign({style:e,url:"#",linkTextStyle:a.LinkTextStyle.BodyTextSmall,onPress:this._onReportAProblemPress},{children:d.getString("WebBanner.ReportAProblemLink")}),"problemlink"),i=(0,n.jsx)(p.default,Object.assign({style:e,url:"#",linkTextStyle:a.LinkTextStyle.BodyTextSmall,onPress:this._onLeaveFeedbackPress},{children:d.getString("WebBanner.LeaveFeedbackLink")}),"feedbacklink"),s=d.getParts("WebBanner.BannerText",{link1:t,link2:i});return(0,n.jsxs)(o.View,Object.assign({style:C.container},{children:[(0,n.jsx)(o.View,Object.assign({style:C.contentContainer},{children:(0,n.jsx)(S.BodyText,Object.assign({style:[C.notificationTextStyle,this._themeStyles.headerTextColorStyle],size:S.BodyTextSize.SmallDeprecated},{children:s}))})),(0,n.jsx)(l.default,{size:h.IconSize.size20,color:this._themeColors.headerIconColor,hoverColor:this._themeColors.primaryIconColor,icon:h.SkypeIcon.ClosePanel,style:C.closeButtonStyle,title:d.getString("Global.CloseButtonTitle"),onPress:this._onCloseButtonPress})]}))}}t.default=y},653785:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(217041),a=i(915877),r=i(374606),l=(0,a.lazyProperties)({checkboxView:()=>o.Styles.createViewStyle({flexDirection:"row",alignSelf:"flex-start",paddingVertical:6}),reasonTextWrapper:()=>o.Styles.createTextStyle({flex:1,flexDirection:"column",justifyContent:"center"})});class c extends s.ComponentBase{constructor(){super(...arguments),this._onPress=e=>{this.props.onPress(this.props.reportedCategory)}}render(){return(0,n.jsxs)(o.Button,Object.assign({style:l.checkboxView,onPress:this._onPress,accessibilityLabel:this.props.accessibilityLabel},{children:[(0,n.jsx)(r.default,{isOn:this.props.isSelected}),(0,n.jsxs)(o.View,Object.assign({style:l.reasonTextWrapper},{children:[(0,n.jsx)(o.Text,Object.assign({style:this.props.textStyle},{children:this.props.displayedCategory})),this._maybeRenderSubtextForCategory()]}))]}))}_maybeRenderSubtextForCategory(){if(void 0!==this.props.displayedSubtextForCategory)return this.props.displayedSubtextForCategory}}t.default=c},273145:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopContextMenuTarget=void 0;const n=i(785893),o=i(496486),s=i(516778),a=(i(889391),i(677381)),r=i(933790),l=i(861253),c=i(915877),d=i(293194),u=i(581760),g="menutarget_",h="context-menu",p=(0,c.lazyProperties)({wrapper:()=>s.Styles.createViewStyle({flex:1,overflow:"visible"}),targetOnly:()=>s.Styles.createViewStyle({position:"absolute",height:1,width:1}),target:()=>s.Styles.createViewStyle({height:1,width:1,position:"absolute",backgroundColor:u.Color.transparent})});class S extends a.default{constructor(){super(...arguments),this._contextMenuAnchorX=new s.Animated.Value(0),this._contextMenuAnchorY=new s.Animated.Value(0),this._contextMenuStyle=s.Styles.createAnimatedViewStyle({top:this._contextMenuAnchorY,left:this._contextMenuAnchorX}),this._getMenuTarget=()=>this._menuTarget,this._onMenuTargetRef=e=>{this._menuTarget=e||void 0}}_buildState(e,t=!1){return{position:r.default.getAnchorPosition()}}requestFocus(){}componentDidMount(){super.componentDidMount(),m.addMenuTargetCallback(this._getRootViewId(),this._getMenuTarget),this.state.position&&(this._contextMenuAnchorX.setValue(this.state.position.x),this._contextMenuAnchorY.setValue(this.state.position.y))}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),t.position&&!(0,l.default)(t.position,this.state.position)&&(this._contextMenuAnchorX.setValue(t.position.x),this._contextMenuAnchorY.setValue(t.position.y))}render(){return(0,n.jsx)(s.Animated.View,{ref:this._onMenuTargetRef,style:[p.target,this._contextMenuStyle]})}}t.DesktopContextMenuTarget=S;class m extends a.default{constructor(){super(...arguments),this.showContextMenu=e=>{if(!this.isComponentMounted())return;const t=this._getRootViewId();if(this.state.isShowingMenu)m.dismissContextMenu(t);else if(this.props.getMenuItems){m._showContextMenu(t,{getMenuItems:this.props.getMenuItems,onItemSelected:this.props.onItemSelected,onDismiss:()=>{this.props.onDismiss&&this.props.onDismiss(),this.isComponentMounted()&&this.setState({isShowingMenu:!1})}})&&!!1&&this.setState({isShowingMenu:!0})}},this._handleClick=e=>{e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),this._handleOnContextMenu(e)},this._handleOnContextMenu=e=>{this.isComponentMounted()&&(r.default.setAnchorPosition({x:e.pageX||0,y:e.pageY||0}),o.defer((()=>this.showContextMenu(e))))}}static dismissContextMenu(e){d.default.dismiss(h,e)}static addMenuTargetCallback(e,t){this._menuTargetAnchors[g+e]=t}static getMenuTargetCallback(e){return this._menuTargetAnchors[g+e]||(()=>{})}_buildState(e,t=!1){return t?{isShowingMenu:!1}:{}}show(e){this._handleClick(e)}showOnTap(e){this._handleOnContextMenu(e)}render(){const e=this.props.isAnimated?this.props.renderAsText?s.Animated.Text:s.Animated.View:this.props.renderAsText?s.Text:s.View,t=[this.props.targetOnly?p.targetOnly:p.wrapper,this.props.wrapperStyle];return(0,n.jsx)(e,Object.assign({style:t,onContextMenu:this.props.wrapperOnly?void 0:this._handleClick,onPress:this.props.wrapperOnly?void 0:this.props.onPress,onLongPress:this.props.wrapperOnly?void 0:this.props.onLongPress},{children:this.props.children}))}static _showContextMenu(e,t,i){return!!t.getMenuItems&&d.default.showWithOptions(Object.assign(Object.assign({},this._getActionMenuConfig(e,t)),{getMenuItems:t.getMenuItems,delay:1,enableMiniContextMenu:i}))}static _showGroupContextMenu(e,t){return!!t.getMenuGroups&&d.default.showGroupWithOptions(Object.assign(Object.assign({},this._getActionMenuConfig(e,t)),{getMenuGroups:t.getMenuGroups}))}}m._menuTargetAnchors={},m.showContextMenu=(e,t,i,n)=>{e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),r.default.setAnchorPosition({x:e.pageX||0,y:e.pageY||0}),o.defer((()=>i.getMenuItems?m._showContextMenu(t,i,n):m._showGroupContextMenu(t,i)))},m._getActionMenuConfig=(e,t)=>{const i=r.default.getAnchorPosition();return{id:h,config:{anchor:m.getMenuTargetCallback(e),useTheme:!0,popupDisableContextMenu:!0,popupBeakSize:{height:0,width:0},positionPriorities:["bottom","right","left","top"]},handleMenuCommand:e=>{t.onItemSelected&&t.onItemSelected(e)},onDismiss:()=>{t.onDismiss&&t.onDismiss()},rootViewId:e,invokingEvent:i?{pageX:i.x,pageY:i.y}:void 0}},t.default=m},628433:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProfileSelectionInput=void 0;const n=i(785893),o=i(496486),s=i(583367),a=i(516778),r=i(217041),l=i(752754),c=i(780128),d=i(677381),u=i(341444),g=i(952262),h=i(172490),p=i(915877),S=i(733754),m=i(330124),C=i(29130),y=i(451070),f=i(210541),b=i(29165),_=i(680837);r.StoreBase;const v=(0,p.lazyProperties)({inputContainer:()=>a.Styles.createViewStyle({alignSelf:"stretch"})});class T extends d.default{constructor(){super(...arguments),this._searchActive=!1,this._removeProfileFromSelection=e=>{const t=e.getConversationId();t&&this.props.selectorController.removeConversation(t),this.props.onProfileRemoved&&this.props.onProfileRemoved()},this._onInputChange=e=>{this.props.onInputChanged(e)},this._onSubmitEditing=()=>{this.props.onSubmit&&this.props.onSubmit()},this._onEscape=()=>(this.props.onCancel(),!0),this._searchInputRefCallback=e=>{this._searchInput=e||void 0},this._onSearchActive=e=>{this._showOrHideHeader(!e,!0),e||this.props.onInputChanged("")}}_buildState(e,t){const i={},n=this._getRootViewId();return t&&(this._headerAnimatedHeightValue=new a.Animated.Value(c.default.expandedHeight(n)),this._headerAnimatedTopValue=new a.Animated.Value(0),this._headerAnimatedHeightStyle=a.Styles.createAnimatedViewStyle({height:this._headerAnimatedHeightValue}),this._headerAnimatedTopStyle=a.Styles.createAnimatedViewStyle({transform:[{translateY:this._headerAnimatedTopValue}]})),i.statusBarPadding=y.default.statusBarPadding(),i.isPortrait=C.default.getDeviceOrientation(n)===s.DeviceOrientation.Portrait,i.selectedConversations=e.selectorController.getSelectedConversations(),i.canSubmit=e.allowSubmitWithNoProfile||e.selectorController.getSelectedConversations().length>0,i.isUsingStackNavigationContext=m.default.isUsingStackNavigationContext(),i.isSmallDevice=C.default.isSmallDevice(n),i.displayableProfiles=o.map(i.selectedConversations,(e=>g.default.getDisplayableProfile(e))),i}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this._addSubscription({store:this.props.selectorController})}componentDidMount(){super.componentDidMount(),this.props.autoFocusOnInput&&this.requestFocus(),this._showOrHideHeader(!this._searchActive,!1),h.default.addEscapeHandler(this._onEscape)}componentWillUnmount(){super.componentWillUnmount(),h.default.removeEscapeHandler(this._onEscape)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.statusBarPadding===t.statusBarPadding&&this.state.isPortrait===t.isPortrait||this._showOrHideHeader(!this._searchActive,!1),this.props.autoFocusOnInput&&!e.autoFocusOnInput&&o.delay((()=>{this.isComponentMounted()&&this.props.autoFocusOnInput&&this.requestFocus()}),1e3)}render(){let e=S.getString("SetConversationParticipantsPanel.InputPlaceholderTextPeopleAndBot");this.props.peopleType===f.PeopleType.AllExcludingBots||this.props.peopleType===f.PeopleType.AllWithPhoneNumbers?e=this.props.includeGroups?S.getString("SetConversationParticipantsPanel.InputPlaceholderTextPeopleAndGroup"):S.getString("SetConversationParticipantsPanel.InputPlaceholderTextPeople"):this.props.peopleType===f.PeopleType.Bots&&(e=S.getString("SetConversationParticipantsPanel.InputPlaceholderTextBot"));let t,i=this.props.headerConfig&&!this._shouldRemoveHeader()?this.props.headerConfig.getHeader():void 0;t=this.props.useCollapsableHeader||this.state.isUsingStackNavigationContext?(0,n.jsx)(l.default,{ref:this._searchInputRefCallback,initialValue:1,showButtonWhenInactive:!0,placeholderText:e,rawSearchQuery:this.props.inputText,onInputTextChange:this._onInputChange,onSubmitEditing:this._onSubmitEditing,onActive:this._onSearchActive}):(0,n.jsx)(a.View,Object.assign({style:_.default.flexOne},{children:(0,n.jsx)(u.default,{ref:this._searchInputRefCallback,showButtonWhenInactive:!0,placeholderText:e,rawSearchQuery:this.props.inputText,autoFocus:this.props.autoFocusOnInput,autoFocusWhenActive:this.props.autoFocusWhenActive,forceInputValueUpdate:!0,onInputTextChange:this._onInputChange,onSubmitEditing:this._onSubmitEditing,onKeyDown:this.props.onKeyDown})})),i&&!this.state.isUsingStackNavigationContext&&(i=(0,n.jsx)(a.View,{children:i}));const o=this.props.showSendButtonOnEverySearchItemUI?void 0:(0,n.jsx)(b.default,{selectedProfiles:this.state.displayableProfiles,onProfileRemoved:this._removeProfileFromSelection,colorThemeOverride:this.props.colorThemeOverride});let s;return s=this.state.isUsingStackNavigationContext?(0,n.jsx)(a.Animated.View,Object.assign({style:[_.default.flexOne,this.props.noFixedHeight?void 0:this._headerAnimatedHeightStyle]},{children:(0,n.jsxs)(a.Animated.View,Object.assign({style:this.props.noFixedHeight?void 0:this._headerAnimatedTopStyle},{children:[i,t]}))})):(0,n.jsxs)(a.View,{children:[i,t]}),(0,n.jsxs)(a.View,{children:[(0,n.jsx)(a.View,Object.assign({style:[v.inputContainer,this.props.style]},{children:s})),o]})}_shouldRemoveHeader(){return this.props.noFixedHeight&&this.state.isUsingStackNavigationContext&&this._searchActive}requestFocus(){this.isComponentMounted()&&this._searchInput&&this._searchInput.focusInput()}_showOrHideHeader(e,t=!0){if(this._searchActive=!e,this.props.noFixedHeight&&this.state.isUsingStackNavigationContext)return void this.setState({forceRerender:!this.state.forceRerender});let i;const n=this._headerHeight(),o=e?0:-1*n;if(this.state.isUsingStackNavigationContext){const t=this._getRootViewId();i=e?n+c.default.collapsableHeight(t):c.default.expandedHeight(t)+this.state.statusBarPadding}else i=n+u.DesktopSearchHeaderHeight;t?a.Animated.parallel([a.Animated.timing(this._headerAnimatedTopValue,{toValue:o,duration:200,easing:a.Animated.Easing.Out()}),a.Animated.timing(this._headerAnimatedHeightValue,{toValue:i,duration:200,easing:a.Animated.Easing.Out()})]).start():(this._headerAnimatedTopValue.setValue(o),this._headerAnimatedHeightValue.setValue(i))}_headerHeight(){return this.props.headerConfig?this.props.headerConfig.getHeaderHeight():0}}t.ProfileSelectionInput=T,t.default=T},420570:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(217041),a=i(671830),r=i(822854),l=i(952262),c=i(110117),d=i(915877),u=i(89808),g=i(581760),h=i(711828),p=i(619675),S=i(24576),m=i(418037),C=i(702301),y=i(567977),f=(0,d.lazyProperties)({button:()=>o.Styles.createViewStyle({marginLeft:8,marginRight:8,alignItems:"center"}),cancelBadge:()=>o.Styles.createViewStyle({borderRadius:12,borderWidth:2,borderStyle:"solid",height:24,width:24,position:"absolute",right:-2,top:-2,justifyContent:"center",alignItems:"center"}),userName:()=>o.Styles.createTextStyle({maxWidth:y.UserIconSize.Size60}),lockWrapperStyle:()=>o.Styles.createViewStyle({backgroundColor:g.Color.red,borderRadius:9,width:18,height:18,alignItems:"center",justifyContent:"center",position:"absolute",left:0,bottom:0})});class b extends S.default{constructor(){super(...arguments),this._remove=()=>{this.props.onRemoveClickUserProfile(this.props.profile)}}_buildState(e,t){let i=!1;if(e.profile){const t=e.profile.getMri();i=!!t&&a.isUserMri(t)}return{isUserMri:i,backgroundColorStyle:m.default.isAccessibleTheme()?this._themeStyles.primaryViewColorStyle:u.default.getPrimaryBackgroundColorStyle()}}render(){const e=this.props.profile.getMri();let t;t=this.state.isUserMri?(0,n.jsx)(C.UserIcon,{userMri:e,size:y.UserIconSize.Size60}):(0,n.jsx)(r.ConversationIcon,{conversationId:e,size:y.ConversationIconSize.Size60});const i=[f.cancelBadge,this._themeStyles.primaryBorderColorStyle,this.state.backgroundColorStyle],s=this.props.accessibilityLabel||(this.props.profile?this.props.profile.getDisplayName():void 0),a=this.props.profile&&this.props.profile.isEncrypted()?(0,n.jsx)(o.View,Object.assign({style:f.lockWrapperStyle},{children:(0,n.jsx)(c.default,{icon:h.SkypeIcon.Lock,color:g.Color.white,size:h.IconSize.size12})})):void 0,l=this._useAccessibleTheme()&&this._themeColors.primaryBadgeTextColor?this._themeColors.primaryBadgeTextColor:g.Color.white;return(0,n.jsxs)(o.Button,Object.assign({style:[f.button,this.props.style],onPress:this._remove,accessibilityLabel:s},{children:[(0,n.jsxs)(o.View,{children:[t,(0,n.jsx)(o.View,Object.assign({style:i},{children:(0,n.jsx)(c.default,{icon:h.SkypeIcon.Cancel,color:l,size:h.IconSize.size12})})),a]}),(0,n.jsx)(_,{userMri:e,useShortName:!0,style:[f.userName,this._themeStyles.primaryTextColorStyle]})]}))}}class _ extends s.ComponentBase{_buildState(e,t){return{displayName:this._getDisplayName()}}_getDisplayName(){if(this.props.userMri)return this.props.useShortName?l.default.getShortDisplayName(this.props.userMri):l.default.getDisplayName(this.props.userMri)}render(){return(0,n.jsx)(p.Caption,Object.assign({small:!0,style:this.props.style,numberOfLines:1},{children:this.state.displayName}))}}t.default=b},29165:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(217041),r=i(915877),l=i(733754),c=i(420570),d=i(640363),u=(0,r.lazyProperties)({scrollViewContainer:()=>s.Styles.createViewStyle({alignSelf:"stretch",justifyContent:"center"}),selectedList:()=>s.Styles.createViewStyle({flexDirection:"row"}),selectedListRTL:()=>s.Styles.createViewStyle({flexDirection:"row-reverse"}),flippedView:()=>s.Styles.createViewStyle({transform:[{scaleX:-1}]})});class g extends a.ComponentBase{constructor(e){super(e),this._onRemoveClickUserProfile=e=>{this.props.onProfileRemoved&&this.props.onProfileRemoved(e);const t=e.getDisplayName();t&&this._announceRemoval(t)},this._createProfileBubble=(e,t)=>{const i=e.getDisplayName(),o=l.getString("AccessibilityLabel.SelectedProfileBubbleRemoveUserOnDesktop",{displayName:i,index:t+1,totalCount:this.props.selectedProfiles.length});return(0,n.jsx)(c.default,{style:d.default.isRTL()?u.flippedView:void 0,profile:e,onRemoveClickUserProfile:this._onRemoveClickUserProfile,accessibilityLabel:o,colorThemeOverride:this.props.colorThemeOverride},"we-hub-user-tag-"+(e.getUniqueId()||i))},this._onInvitedListRef=e=>{this._selectedListRef=e||void 0},this._animatedHeightValue=new s.Animated.Value(e.selectedProfiles.length>0?84:0),this._animatedHeightStyle=s.Styles.createAnimatedViewStyle({height:this._animatedHeightValue})}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.props.selectedProfiles.length>e.selectedProfiles.length&&this._selectedListRef&&this._selectedListRef.setScrollLeft(0);const n=e.selectedProfiles.length>0,o=this.props.selectedProfiles.length>0;n!==o&&s.Animated.timing(this._animatedHeightValue,{toValue:o?84:0,duration:250,easing:s.Animated.Easing.InOut()}).start()}render(){const e=o.map(this.props.selectedProfiles,this._createProfileBubble),t=d.default.isRTL(),i=t?u.selectedListRTL:u.selectedList,a=[i];return t&&a.push([u.selectedListRTL,u.flippedView]),(0,n.jsx)(s.Animated.View,Object.assign({style:[u.scrollViewContainer,this._animatedHeightStyle,this.props.style]},{children:(0,n.jsx)(s.ScrollView,Object.assign({ref:this._onInvitedListRef,style:a,horizontal:!0,vertical:!1,scrollsToTop:!1},{children:(0,n.jsx)(s.View,Object.assign({style:i},{children:e}))}))}))}_announceRemoval(e){s.Accessibility.announceForAccessibility(l.getString("AccessibilityLabel.SelectedProfileBubbleRemoved",{displayName:e}))}}t.default=g},235251:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyStateHeader=void 0;const n=i(785893),o=i(516778),s=i(915877),a=i(29130),r=i(311010),l=i(619675),c=i(24576),d=(0,s.lazyProperties)({headerStyle:()=>o.Styles.createTextStyle({marginTop:20,marginBottom:4,textAlign:"center"})});class u extends c.default{_buildState(e,t){const i=this._getRootViewId();return{isSmallDevice:a.default.isSmallDevice(i)}}render(){const e=[d.headerStyle,this.state.isSmallDevice?r.default.fontStyle.panelHeaderLandscape:r.default.fontStyle.h5];return(0,n.jsx)(l.PanelHeader,Object.assign({style:e},{children:this.props.headerText}))}}t.EmptyStateHeader=u,t.default=u},652525:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(889391),r=i(978547),l=i(75672),c=i(996074),d=i(905531),u=i(911934),g=i(496418),h=i(711930),p=i(898278),S=i(731761),m=i(746096),C=i(172146),y=i(211375),f=i(436237),b=i(710400),_=i(615530),v=i(780263),T=i(915877),P=i(647662),k=i(733754),A=i(895016),I=i(706250),w=i(18078),x=i(445026),N=i(795691),M=i(887226),L=i(938980),O=i(393818),D=i(210541),R=i(22222),E=i(360305),B=i(619675),F=i(912770),V=i(567977),U=i(172758),j=i(286259),H=i(853374),W=i(73877),z=i(115340);var G;!function(e){e[e.StartNewConversation=0]="StartNewConversation"}(G||(G={}));const K=(0,T.lazyProperties)({container:()=>s.Styles.createViewStyle({flex:1,paddingHorizontal:45,alignItems:"center",justifyContent:"center"}),innerContainer:()=>s.Styles.createViewStyle({flex:1,alignItems:"center",justifyContent:"center",alignSelf:"stretch"}),headerText:()=>s.Styles.createTextStyle({textAlign:"center",wordBreak:"break-word"}),welcomeSectionContainer:()=>s.Styles.createViewStyle({alignSelf:"stretch",flexDirection:"row",marginVertical:50}),welcomeSectionContainerVertical:()=>s.Styles.createViewStyle({flexDirection:"column"}),avatarContainer:()=>s.Styles.createViewStyle({alignItems:"center",alignSelf:"center"}),profileUpdateWrapper:()=>s.Styles.createViewStyle({alignItems:"center",alignSelf:"stretch",justifyContent:"center",marginVertical:38}),startConversationButton:()=>s.Styles.createViewStyle({marginTop:36,marginBottom:24,alignSelf:"center"}),startConversationWrapper:()=>s.Styles.createViewStyle({maxWidth:350}),startConversationDescription:()=>s.Styles.createTextStyle({textAlign:"center"})});class q extends c.default{constructor(){super(...arguments),this._wasWelcomeTextAnnounced=!1,this._animatedOpacityValue=new s.Animated.Value(0),this._animatedOpacityStyle=s.Styles.createAnimatedViewStyle({opacity:this._animatedOpacityValue}),this._mountedRefsMap=new I.default,this._landingViewDisplayEventTracked=!1,this._landingPageShownTracked=!1,this._maybeLaunchTutorial=e=>{if(!e.isTutorialReady)return;const t=!e.isFirstRun&&!e.wasTutorialLaunched;e.enableCoachMarks&&t&&F.default.setTimeout((()=>{this.isComponentMounted()&&(L.default.track(new M.TutorialLaunched(M.TutorialLaunchOrigin.LandingScreenStandard,!1)),this._launchTutorial())}),1e3)},this._maybeAnnounceWelcomeText=()=>{this._wasWelcomeTextAnnounced||(this._wasWelcomeTextAnnounced=!0,s.Accessibility.announceForAccessibility(this._getWelcomeText()))},this._launchTutorial=()=>{const e=H.default.newCauseId();f.log(m.LogTraceArea.Navigation,"LandingScreen._launchTutorial, causeId: "+e),g.default.runFirstRunSequence(m.CoachMarkOrigin.LandingPage,this.state.useTabletUI),C.default.setWasTutorialStarted(!0)},this._onLayoutProfileLanding=e=>{if(this.isComponentMounted()){const t=e.height<440;this.state.showSmallProfileLanding!==t&&this.setState({showSmallProfileLanding:t})}},this._onContainerLayout=e=>{if(this.isComponentMounted()){const t=e.height<700;this.state.showCompactCheckAccountSection!==t&&this.setState({showCompactCheckAccountSection:t})}},this._onMyAvatarSelected=()=>{f.track(new O.MyAvatarChanged(m.AvatarUpdateLocation.LandingScreen))},this._onMyAvatarRemoved=()=>{f.track(new O.MyAvatarRemoved(m.AvatarUpdateLocation.LandingScreen))},this._onMainScreenCtaButtonClick=e=>{e.stopPropagation(),this._onCtaButtonPress(G.StartNewConversation)}}_buildState(e,t){var i;const n=w.default.getSkypeMri(),o=U.default.getFullUserProfileByMri(n),s=a.default.getOnboardingFeatures(),l=E.default.isTabletUI(),c={displayName:o.getShortName(),gender:o.gender,userMri:n,enableCoachMarks:s.enableCoachMarks&&d.default.onboarding().canSeeCoachMarks,isFirstRun:C.default.isStartupFirstRun(),isNewUser:C.default.isStartupNewUser(),isSetupWizardCompleted:C.default.isSetupWizardCompleted(),checkAccountGoParam:a.default.getConfigSettings().checkAccountUrl.goParam,fixedHeight:l?W.default.windowHeightWithoutStatusBar(this._getRootViewId()):0,useTabletUI:l,isKeyboardShown:l&&b.default.isKeyboardSeen(),isMigrationLandingScreenSeen:C.default.isMigrationLandingScreenSeen(),isTutorialReady:C.default.isCoachmarkTutorialReady(),wasTutorialLaunched:C.default.wasTutorialStarted(),signedInAsId:w.default.getMsaIdFromSignIn(),enableOnboardingLandingScreenConfigs:s.landingPageWithCards,setupWizardCompletionTimestamp:C.default.setupWizardCompletionTimestamp(),whatsNewFlowAfterAppUpdate:s.landingPageWithCards.whatsNewCardAfterUpdate,enableRefreshedPalette:a.default.getS4LUiFeatures().enableRefreshedPalette};return t&&(c.showSmallProfileLanding=!1,c.showCompactCheckAccountSection=!1,c.enableOnboardingLandingScreenConfigs&&c.enableOnboardingLandingScreenConfigs.enabled&&(c.landingPageCardIdsForToday=v.default.getLandingPageCardsIdsForToday(),c.enableLandingPageCardsShareProfileButton=v.default.shouldDisplayProfileButtonToday()),(null===(i=c.whatsNewFlowAfterAppUpdate)||void 0===i?void 0:i.enabled)&&r.default.isAppUpdated()&&c.landingPageCardIdsForToday&&(c.landingPageCardIdsForToday=v.default.getLandingPageCardsWithWhatsNewCard(c.landingPageCardIdsForToday)),s.landingPageWithCards.inviteFriendsConfig.enabled&&c.landingPageCardIdsForToday&&(c.landingPageCardIdsForToday=v.default.getLandingPageInviteFriendsCardId(c.landingPageCardIdsForToday))),c}componentDidMount(){super.componentDidMount(),x.default.timing(this._animatedOpacityValue,{toValue:1,delay:x.default.delayDuration(1e3),duration:300,easing:s.Animated.Easing.Out(),useNativeDriver:!0}).start((()=>{this.state.isSetupWizardCompleted&&this._maybeAnnounceWelcomeText()})),this._maybeLaunchTutorial(this.state),this._landingPageShownTracked||(L.default.track(new M.LandingPageShown),this._landingPageShownTracked=!0)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),!t.isSetupWizardCompleted&&this.state.isSetupWizardCompleted&&this._maybeAnnounceWelcomeText(),!t.isTutorialReady&&this.state.isTutorialReady&&this._maybeLaunchTutorial(this.state),this._landingViewDisplayEventTracked||(this._landingViewDisplayEventTracked=!0,L.default.track(new M.WelcomeViewWithProfileUpdateDisplayed))}_getWelcomeText(){const e=P.getLocalizeParamForGender(this.state.gender);return this.state.displayName?k.getString("Onboarding.LandingScreenTitle",{name:this.state.displayName,gender:e}):k.getString("Onboarding.LandingScreenTitleNoName")}_renderWelcomeViewWithProfileUpdate(){const e=k.getString("Onboarding.LandingScreenStartConversationAlternativeCallToAction"),t=[K.welcomeSectionContainer,K.welcomeSectionContainerVertical,K.profileUpdateWrapper];let i;return this.state.showSmallProfileLanding||(i=(0,n.jsx)(l.default,{style:K.avatarContainer,mri:w.default.getSkypeMri(),iconSize:V.UserIconSize.Size120,statusTypes:j.myAllowedStatuses(),statusBorderColor:this._themeColors.primaryBackgroundColor,accessibilityLabel:k.getString("MyProfilePanel.SelectAvatarAccessibilityLabel"),onAvatarSelected:this._onMyAvatarSelected,onAvatarRemoved:this._onMyAvatarRemoved,origin:m.AvatarPickerOrigin.LandingScreen})),(0,n.jsx)(z.KeyboardAvoidingView,{children:(0,n.jsxs)(s.View,Object.assign({style:K.innerContainer,onLayout:this._onLayoutProfileLanding},{children:[(0,n.jsx)(B.Header,Object.assign({size:this.state.showSmallProfileLanding?3:2,style:K.headerText},{children:this._getWelcomeText()})),(0,n.jsxs)(s.View,Object.assign({style:t},{children:[i,(0,n.jsx)(A.default,{userMri:this.state.userMri}),(0,n.jsxs)(s.View,Object.assign({style:K.startConversationWrapper},{children:[(0,n.jsx)(R.default,{ref:this._mountedRefsMap.onComponentRef("cta"+G.StartNewConversation),style:K.startConversationButton,buttonStyle:p.SXButtonStyle.ThemeFill,onPress:this._onMainScreenCtaButtonClick,buttonSize:this.state.showSmallProfileLanding?p.SXButtonSize.Small:p.SXButtonSize.Medium,title:e}),(0,n.jsx)(B.BodyText,Object.assign({style:K.startConversationDescription,textThemeColor:B.TextThemeColor.Secondary},{children:k.getString("Onboarding.LandingScreenStartConversationDescription")}))]}))]}))]}))})}_renderWelcomeViewWithCards(e,t={}){return(0,n.jsx)(s.View,Object.assign({style:K.innerContainer},{children:(0,n.jsx)(_.LandingPage,{cards:e,settings:t})}))}_renderCheckAccountSection(){if(!this.state.isKeyboardShown&&!this.state.useTabletUI)return(0,n.jsx)(u.default,{signedInAsId:this.state.signedInAsId,checkAccountGoParam:this.state.checkAccountGoParam,useCompactLayout:this.state.showCompactCheckAccountSection})}render(){const e=[K.container,this._themeStyles.primaryBackgroundColorStyle,this._animatedOpacityStyle],t=this._shouldRenderEngagementLandingScreen();let i;return this.state.useTabletUI&&e.push(s.Styles.createViewStyle({height:this.state.fixedHeight},!1)),this.state.enableRefreshedPalette&&e.push(s.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfacePrimary},!1)),i=t?this._renderEngagementWelcomeScreen():this._renderWelcomeViewWithProfileUpdate(),(0,n.jsxs)(s.Animated.View,Object.assign({onLayout:this._onContainerLayout,style:e},{children:[i,this._renderCheckAccountSection()]}))}_onCtaButtonPress(e){if(h.default.registerMobileFocusHandler(y.FocusEvent.CloseMobileModal,(()=>this._mountedRefsMap.ref("cta"+e))),e===G.StartNewConversation){f.track(new M.StartNewConversationClicked);new S.default({navigationOrigin:m.NavigationConversationOrigin.HomeScreen,creating1on1Conversation:!0,isSingleContactSelect:!0,peopleType:D.PeopleType.All,filterPeopleType:D.FilterType.None,wizardSteps:[N.WizardSteps.setConvParticipants]}).start(this._getRootViewId())}}_shouldRenderEngagementLandingScreen(){const e=!!this.state.enableOnboardingLandingScreenConfigs&&this.state.enableOnboardingLandingScreenConfigs.enabled,t=!!this.state.landingPageCardIdsForToday&&!o.isEmpty(this.state.landingPageCardIdsForToday);return e&&t}_renderEngagementWelcomeScreen(){if(!this.state.landingPageCardIdsForToday)return;const e={cardTextAlignCenter:!1,cardHideImageBackground:!0,cardImageAlignBottom:!1,cardSmallImage:!0,renderSimplifiedHeader:!1,renderUserFullName:!0,renderHeaderSubtitle:!0,renderProfileShareButton:!!this.state.enableLandingPageCardsShareProfileButton};return this._renderWelcomeViewWithCards(this.state.landingPageCardIdsForToday,e)}}t.default=q},821101:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPickerWrapperView=void 0;const n=i(785893),o=i(496486),s=i(930640),a=i(759923),r=i(823113),l=i(516778),c=i(397691),d=i(301065),u=i(677381),g=i(746096),h=(i(753559),i(436237)),p=i(915877),S=i(733754),m=i(581736),C=i(364956),y=i(404057),f=i(581760),b=i(478262),_=i(853374),v=(0,p.lazyProperties)({container:()=>l.Styles.createViewStyle({flex:1,backgroundColor:f.Color.white}),containerDark:()=>l.Styles.createViewStyle({flex:1,backgroundColor:f.Color.gray400}),rnGalleryDefaultStyle:()=>l.Styles.createViewStyle({flex:1,justifyContent:"center",backgroundColor:f.Color.gray400,borderColor:f.Color.blue})});class T extends u.default{constructor(){super(...arguments),this._pendingSelectionItemIds=[],this._mediaItemCache={},this._onMediaPickerViewRef=e=>{this._mediaPickerView=e||void 0},this._onSelectImages=e=>{if(this.props.onItemSelected&&e.nativeEvent.edge){const t=e.nativeEvent.edge;if(!t||!t.node||!t.node.image)return;const i=!!e.nativeEvent.selected,n=t.node.image.uri,a=e.nativeEvent.count,r=this._mediaItemCache[n];r?this.props.onItemSelected(n,r,i,a):i?(this._pendingSelectionItemIds.push(n),s.default.prepareMediaSelection(0,n,t).then((e=>{o.includes(this._pendingSelectionItemIds,n)&&(this.props.onItemSelected&&this.props.onItemSelected(n,e,i,a),this._pendingSelectionItemIds=o.without(this._pendingSelectionItemIds,n))}))):(this.props.onItemSelected(n,r,i,a),this._pendingSelectionItemIds=o.without(this._pendingSelectionItemIds,n))}},this._onScrolledToTop=e=>{this.props.onScrolledToTop&&this.props.onScrolledToTop(e.nativeEvent.scrolledToTop)},this._onPhotosLoaded=e=>{this.props.onPhotosLoaded&&this.props.onPhotosLoaded(e.nativeEvent.loadedCount)}}_buildState(e,t){return{cameraRollPermissionStatus:m.default.permissionStatus(b.PermissionType.CameraRoll)}}componentDidMount(){if(super.componentDidMount(),!this.props.pauseLoading){const e=_.default.newCauseId();h.log(g.LogTraceArea.MediaPickerWrapperView,"componentDidMount causeId:",e),this._maybeLoadPhotos(e)}}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),this.props.albumName!==e.albumName){const e=_.default.newCauseId();h.log(g.LogTraceArea.MediaPickerWrapperView,"componentDidUpdate album change causeId:",e),this._reset(),this._maybeLoadPhotos(e)}if(!this.props.pauseLoading&&e.pauseLoading){const e=_.default.newCauseId();h.log(g.LogTraceArea.MediaPickerWrapperView,"componentDidUpdate pauseLoading change causeId: ",e),this._maybeLoadPhotos(e)}}scrollToTop(){this._mediaPickerView&&this._mediaPickerView.scrollToTop()}_maybeLoadPhotos(e){this.props.pauseLoading||(h.log(g.LogTraceArea.MediaPickerWrapperView,"_maybeLoadPhotos: causeId:",e),this._getCameraRollPermission().catch((e=>{h.log(g.LogTraceArea.MediaPickerWrapperView,"_maybeLoadPhotos: error:",y.default.errorAsString(e)),this.props.onClose()})))}_getCameraRollPermission(){return m.default.shouldShowLimitedPhotoSelectionPrompt()?(C.default.showLimitedCameraRollPrompt(this._getRootViewId()),m.default.closeLimitedPhotoSelectionPrompt(),c.Resolved()):this.state.cameraRollPermissionStatus===r.PermissionStatus.Granted?c.Resolved():m.default.requestPermission(b.PermissionType.CameraRoll,b.PermissionPromptOptions.SkipPrePrompt|b.PermissionPromptOptions.PromptAgainIfDenied).then((e=>e===r.PermissionStatus.Granted?c.Resolved():(C.default.showDeniedPromptWithSettingsOption(b.PermissionType.CameraRoll,this._getRootViewId()),c.Rejected("Permission denied"))))}_reset(){this._pendingSelectionItemIds=[],this._mediaItemCache={},this.props.onReset()}_desiredThumbnailSize(){return this.props.maxThumbnailSize||120}_maxSelectionCount(){return o.isUndefined(this.props.maxSelectionCount)||o.isNull(this.props.maxSelectionCount)?5:this.props.maxSelectionCount}render(){const e=this._maxSelectionCount(),t=this.state.cameraRollPermissionStatus!==r.PermissionStatus.Granted||this.props.pauseLoading?null:(0,n.jsx)(a.default,{ref:this._onMediaPickerViewRef,allowMultipleSelections:e>1,style:v.rnGalleryDefaultStyle,maxSelectionCount:e,gridPadding:0,disableGifs:this.props.disableGifs,allowVideo:this.props.mediaType!==d.MediaType.PhotoOnly,disableScrolling:this.props.disableScrolling,maxThumbnailSize:this._desiredThumbnailSize(),album:this.props.albumName,onSelectImages:this._onSelectImages,onScrolledToTop:this._onScrolledToTop,onPhotosLoaded:this._onPhotosLoaded,typePhotoAccessibilityLabel:S.getString("Global.Photo"),typeVideoAccessibilityLabel:S.getString("Global.Video"),accessibilityLabelSelected:S.getString("MediaPickerPanel.MediaPickerGalleryItemSelected",{index:a.MediaPickerConsts.IndexReplacementKey,total:a.MediaPickerConsts.TotalReplacementKey,type:a.MediaPickerConsts.TypeReplacementKey}),accessibilityLabelDefault:S.getString("MediaPickerPanel.MediaPickerGalleryItem",{index:a.MediaPickerConsts.IndexReplacementKey,total:a.MediaPickerConsts.TotalReplacementKey,type:a.MediaPickerConsts.TypeReplacementKey}),screenChangeOnSelection:this.props.screenChangeOnSelection});return(0,n.jsx)(l.View,Object.assign({style:this.props.darkTheme?v.containerDark:v.container},{children:t}))}}t.MediaPickerWrapperView=T,t.default=T},297122:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(953143),s=i(1650),a=i(24576),r=i(897634);class l extends a.default{_buildState(e,t){const i={},n=o.default.getToast(e.toastId);if(n&&n.state){const e=n.state;i.alertType=e.toastType,i.themeOverride=r.matchingLightOrDarkTheme(this._currentTheme)}return i}render(){return(0,n.jsx)(s.default,{fromToast:!0,alertType:this.state.alertType,colorThemeOverride:this.state.themeOverride})}}t.default=l},3415:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(861614),a=i(915877),r=i(330124),l=i(1650),c=i(24576),d=i(897634),u=(0,a.lazyProperties)({container:()=>o.Styles.createViewStyle({flex:1,overflow:"hidden"})});class g extends c.default{constructor(){super(...arguments),this._alertAnimatedHeightValue=new o.Animated.Value(0),this._alertAnimatedStyle=o.Styles.createAnimatedViewStyle({height:this._alertAnimatedHeightValue})}_buildState(e,t){const i=r.default.isUsingStackNavigationContext(),n=s.default.getConnectivityAlertType(),o={alertType:n,height:n?i?l.HeightStack:l.HeightComposite:0,themeOverride:d.matchingLightOrDarkTheme(this._currentTheme)};return t&&o.height&&this._alertAnimatedHeightValue.setValue(o.height),o}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.height!==t.height&&this._toggleAlert(this.state.height)}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),0===t.height&&this.state.height>0&&this._toggleAlert(t.height)}_toggleAlert(e){o.Animated.timing(this._alertAnimatedHeightValue,{toValue:e,duration:250,easing:o.Animated.Easing.Out()}).start()}render(){const e=o.Styles.createViewStyle({backgroundColor:this._themeColors.primaryTextColor},!1);return(0,n.jsx)(o.Animated.View,Object.assign({style:this._alertAnimatedStyle},{children:(0,n.jsx)(o.View,Object.assign({style:[u.container,e]},{children:(0,n.jsx)(l.default,{fromToast:!1,alertType:this.state.alertType,colorThemeOverride:this.state.themeOverride})}))}))}}t.default=g},1650:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeightStack=t.HeightComposite=void 0;const n=i(785893),o=i(516778),s=i(889391),a=i(711930),r=i(898278),l=i(861614),c=i(746096),d=i(913944),u=i(110117),g=i(436237),h=i(915877),p=i(733754),S=i(104735),m=i(330124),C=i(476192),y=i(17791),f=i(886045),b=i(581760),_=i(711828),v=i(619675),T=i(24576),P=i(853374);t.HeightComposite=59,t.HeightStack=44;const k=(0,h.lazyProperties)({container:()=>o.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center"}),simpleText:()=>o.Styles.createViewStyle({flex:1,flexDirection:"row",justifyContent:"flex-start"}),button:()=>o.Styles.createButtonStyle({flex:1,flexDirection:"row",justifyContent:"flex-start"}),icon:()=>o.Styles.createViewStyle({alignSelf:"center"}),iconComposite:()=>o.Styles.createViewStyle({marginLeft:18,marginRight:11}),iconStack:()=>o.Styles.createViewStyle({marginLeft:8,marginRight:8}),textStack:()=>o.Styles.createTextStyle({lineHeight:20}),textComposite:()=>o.Styles.createTextStyle({lineHeight:24,alignSelf:"center"}),buttonTextStack:()=>o.Styles.createTextStyle({marginLeft:8}),buttonTextComposite:()=>o.Styles.createTextStyle({marginLeft:4}),closeButtonStyle:()=>o.Styles.createButtonStyle({flex:0,paddingHorizontal:10,justifyContent:"center"}),backgroundStyleStack:()=>o.Styles.createViewStyle({height:t.HeightStack}),backgroundStyleComposite:()=>o.Styles.createViewStyle({height:t.HeightComposite,paddingVertical:r.CompositeNotificationToastInfo.vertical})});class A extends T.default{constructor(){super(...arguments),this._onButtonPressed=e=>{e.stopPropagation(),g.log(c.LogTraceArea.GenericUnsafe,"NetworkConnectionAlertContent._onButtonPressed"),S.default.navigateToInAppBrowser({origin:c.BrowserOrigin.NetworkConnectionAlert,url:this.state.browserUrl,openUrlOptions:{onInAppWebBrowserClose:()=>y.default.runConnectivityCheck()}},this._getRootViewId());const t=new C.CaptivePortalOpenBrowserEvent;g.track(t)},this._onCloseButtonPress=e=>{const t=P.default.newCauseId();if(g.log(c.LogTraceArea.GenericUnsafe,"NetworkConnectionAlertContent._onCloseButtonPress, causeId: "+t),l.default.dismissConnectivityAlert(),this.state.showQuestionnaire&&S.default.navigateToCaptivePortalQuestionnaire(t,this._getRootViewId()),this.props.alertType){const e=new C.ConnectivityAlertDismissEvent(this.props.alertType);g.track(e)}}}_buildState(e,t){return{isUsingStackNavigationContext:m.default.isUsingStackNavigationContext(),browserUrl:s.default.getConfigSettings().captivePortalDetection.browserUrl,showQuestionnaire:l.default.shouldShowCaptivePortalQuestionnaire()}}componentDidMount(){super.componentDidMount(),this.props.alertType&&this._announceForAccessibility()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),!e.alertType&&this.props.alertType&&this._announceForAccessibility()}_announceForAccessibility(){f.default.shouldAnnounceForAccessibility()&&(this.props.alertType===c.ConnectivityAlertType.CaptivePortal?o.Accessibility.announceForAccessibility(p.getString("ConnectivityStatusBar.CaptivePortalAlert")):this.props.alertType===c.ConnectivityAlertType.NoNetwork&&o.Accessibility.announceForAccessibility(p.getString("ConnectivityStatusBar.NoInternetConnectionAccessibilityAnnouncement")))}render(){const e=[k.container,this.state.isUsingStackNavigationContext?k.backgroundStyleStack:k.backgroundStyleComposite,o.Styles.createViewStyle({backgroundColor:this._themeColors.primaryBackgroundColor},!1)];return(0,n.jsx)(o.View,Object.assign({style:e},{children:this._renderContent()}))}_renderContent(){if(!this.props.alertType)return null;let e;return this.props.alertType!==c.ConnectivityAlertType.NoNetwork&&(e=(0,n.jsx)(d.default,{size:_.IconSize.size20,color:this._themeColors.primaryTextColor,hoverColor:this._themeColors.textHoverColor,icon:_.SkypeIcon.ClosePanel,style:k.closeButtonStyle,title:p.getString("Global.CloseButtonTitle"),onPress:this._onCloseButtonPress},"connectionAlertClose")),[this._renderText(),e]}_renderText(){const e=this.state.isUsingStackNavigationContext?k.iconStack:k.iconComposite,t=this._useAccessibleTheme()?this._themeStyles.primaryTextColorStyle:o.Styles.createTextStyle({color:this._themeColors.linkTextColor||b.Color.blueDark},!1),i=this.state.isUsingStackNavigationContext?v.Caption:v.BodyText,s=this.state.isUsingStackNavigationContext?[this._themeStyles.primaryTextColorStyle,k.textStack]:[this._themeStyles.primaryTextColorStyle,k.textComposite],r=this.state.isUsingStackNavigationContext?[t,k.textStack,k.buttonTextStack]:[t,k.textComposite,k.buttonTextComposite],l=(0,n.jsx)(u.default,{color:this._themeColors.primaryTextColor,style:[k.icon,e],size:this.state.isUsingStackNavigationContext?_.IconSize.size20:_.IconSize.size24,icon:_.SkypeIcon.Warning});if(this.props.alertType===c.ConnectivityAlertType.CaptivePortal){const e=p.getString("ConnectivityStatusBar.CaptivePortalAlert"),t=p.getString("ConnectivityStatusBar.CaptivePortalAlertAction");return(0,n.jsxs)(o.Button,Object.assign({style:k.button,accessibilityLabel:a.default.combinedAccessibilityLabel(e,t),onPress:this._onButtonPressed,tabIndex:-1},{children:[l,(0,n.jsx)(i,Object.assign({style:s},{children:e})),(0,n.jsx)(i,Object.assign({style:r},{children:t}))]}),"connectionAlertCaptivePortal")}return this.props.alertType===c.ConnectivityAlertType.NoNetwork?(0,n.jsxs)(o.View,Object.assign({style:k.simpleText},{children:[l,(0,n.jsx)(i,Object.assign({style:s},{children:p.getString("ConnectivityStatusBar.NoInternetConnection")}))]}),"connectionAlertNoNetwork"):null}}t.default=A},364822:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(653785),a=i(889391),r=i(581760),l=i(547126),c=i(915877),d=i(267824),u=i(733754),g=(i(540522),i(593486)),h=i(746096),p=i(311010),S=i(24576),m=i(853374),C=i(619675),y=i(680837),f=i(711930),b=[h.ReportCategory.Spam,h.ReportCategory.Fraud,h.ReportCategory.ChildExploitation,h.ReportCategory.Terrorism,h.ReportCategory.HateSpeech,h.ReportCategory.Harm,h.ReportCategory.NonConsensualIntimateImagery,h.ReportCategory.SelfHarm,h.ReportCategory.Harassment,h.ReportCategory.FalseInfo,h.ReportCategory.SexuallyInappropriate,h.ReportCategory.Infringement,h.ReportCategory.MalwareOrVirus],_=[...b,h.ReportCategory.FeedbackBotChat],v=[...b,h.ReportCategory.FeedbackBotImage],T=h.ReportCategory.Spam,P=(0,c.lazyProperties)({checkBoxContainer:()=>o.Styles.createViewStyle({paddingVertical:16}),reportReasonText:()=>o.Styles.createTextStyle({flex:-1,paddingRight:10,paddingTop:16}),selectReasonText:()=>o.Styles.createTextStyle({alignSelf:"center",marginBottom:16,font:p.default.font.uiDisplayBold}),reportDetails:()=>o.Styles.createTextStyle({backgroundColor:r.Color.gray200Overlay20,paddingVertical:10,paddingHorizontal:10,marginTop:20,marginBottom:20,borderRadius:3,textAlign:"left"}),reasonSubtext:()=>o.Styles.createTextStyle({fontSize:12})});class k extends S.default{constructor(){super(...arguments),this._onPress=e=>{this.setState({selectedReason:e}),this._announceSelectedReasonForAccessibility(e),this.props.reasonSelected(e)},this._onKeyPress=e=>{e.keyCode===l.default.ENTER&&e.stopPropagation()},this._getReportDetails=()=>this._showInputFieldToUser()?(0,n.jsx)(o.TextInput,{style:[P.reportDetails,{color:this._themeColors.primaryTextColor}],onChangeText:this._updateReportDetails,placeholder:u.getString("BlockUnblockDialog.reportDetailsInputFieldPlaceholder"),returnKeyType:"done",blurOnSubmit:!0,multiline:!0,placeholderTextColor:this._themeColors.primaryTextColor,autoCapitalize:"sentences",autoCorrect:!0,onKeyPress:this._onKeyPress}):null,this._updateReportDetails=e=>{this.props.onChangeDetails(e)},this._onPrivacyLinkPress=()=>{0},this._onCopyrightLinkPress=()=>{0}}_buildState(e,t){const i=a.default.getConfigSettings(),{enableMagicBotReportReasons:n}=a.default.getS4LMessagingFeatures(),o={selectedReason:T,enableMagicBotReportReasons:n};return t&&(o.linkToPrivacyStatementPage=i.privacyUrl.host,o.linkToInfringementPage=i.infringementUrl.host,o.isAdult=g.default.isAdult(),o.reportReasonCategories=n&&e.isMagicBotConversation?this._getBingReasonCategories():b),o}render(){const e=u.getString("BlockUnblockDialog.SelectReasonText"),t=this._prepareReportButtons(e);return(0,n.jsxs)(o.View,Object.assign({style:P.checkBoxContainer},{children:[(0,n.jsx)(o.Text,Object.assign({style:[P.selectReasonText,{color:this._themeColors.primaryTextColor}]},{children:e})),t,this._getReportDetails(),this._getPrivacyNote()]}))}_prepareReportButtons(e){const t=[o.Styles.createTextStyle({color:this._themeColors.primaryTextColor},!1)];return this.state.reportReasonCategories.map((i=>{const o=this.state.selectedReason===i,a=this.getDisplayTextForBlockReason(i),r=u.getString("BlockUnblockDialog.ReportReasonAccessibilityLabel",{groupName:e,categoryName:a,isSelected:o?u.getString("Global.SelectedAccessibilityLabel"):""});return(0,n.jsx)(s.default,{displayedCategory:a,displayedSubtextForCategory:this._getDisplaySubTextForBlockReason(i),reportedCategory:i,textStyle:t,isSelected:o,onPress:this._onPress,linkToPrivacyStatementPage:this.state.linkToPrivacyStatementPage,accessibilityLabel:r},h.ReportCategory[i]+"button")}))}_getBingReasonCategories(){return this.props.isPictureMessage?v:_}_showInputFieldToUser(){return this.state.isAdult&&!this._isReportedExternally()}_isReportedExternally(){return this.state.selectedReason===h.ReportCategory.Infringement||this.state.selectedReason===h.ReportCategory.NonConsensualIntimateImagery}_getPrivacyNote(){if(!this._showInputFieldToUser())return;const e=this._getPrivacyLink(),t=u.getParts("BlockUnblockDialog.PersonalInformationDisplayText",{learnMoreLink:e}),i=f.default.linkAccessibilityInfo(u.getString("BlockUnblockDialog.PersonalInformationDisplayText",{learnMoreLink:u.getString("Global.LearnMore")}),!0);return(0,n.jsx)(o.View,Object.assign({accessibilityLabel:null==i?void 0:i.label,accessibilityTraits:null==i?void 0:i.traits,importantForAccessibility:void 0,onPress:this._onPrivacyLinkPress,style:[P.reportReasonText,{color:this._themeColors.primaryTextColor}]},{children:(0,n.jsx)(C.Caption,Object.assign({style:y.default.flexOne},{children:t}))}))}_getPrivacyLink(){return(0,n.jsx)(d.Link,Object.assign({url:this.state.linkToPrivacyStatementPage,textElement:C.Caption,correctiveMargin:-3},{children:u.getString("Global.LearnMore")}),"privacyLearnMore")}_getDisplaySubTextForBlockReason(e){if(e!==h.ReportCategory.Infringement)return;const t=f.default.linkAccessibilityInfo(u.getString("BlockUnblockDialog.CopyrightInformationDisplayText",{copyrightClaimsLink:u.getString("BlockUnblockDialog.CopyrightInformationDisplayLink")}),!0),i=this._getCopyrightClaimsLink(),s=u.getParts("BlockUnblockDialog.CopyrightInformationDisplayText",{copyrightClaimsLink:i});return(0,n.jsx)(o.View,Object.assign({accessibilityLabel:null==t?void 0:t.label,accessibilityTraits:null==t?void 0:t.traits,importantForAccessibility:void 0,onPress:this._onCopyrightLinkPress,style:[P.reasonSubtext,{color:this._themeColors.primaryTextColor}]},{children:(0,n.jsx)(C.Caption,Object.assign({style:y.default.flexOne},{children:s}))}))}_getCopyrightClaimsLink(){return(0,n.jsx)(d.Link,Object.assign({url:this.state.linkToInfringementPage,textElement:C.Caption,correctiveMargin:-3},{children:u.getString("BlockUnblockDialog.CopyrightInformationDisplayLink")}),"copyrightClaimsLink")}getDisplayTextForBlockReason(e){switch(e){case h.ReportCategory.Spam:return u.getString("BlockUnblockDialog.SpamDisplayText");case h.ReportCategory.Fraud:return u.getString("BlockUnblockDialog.FraudDisplayText");case h.ReportCategory.ChildExploitation:return u.getString("BlockUnblockDialog.ChildExploitationDisplayText");case h.ReportCategory.Terrorism:return u.getString("BlockUnblockDialog.TerrorismDisplayText");case h.ReportCategory.HateSpeech:return u.getString("BlockUnblockDialog.HateSpeechDisplayText");case h.ReportCategory.SelfHarm:return u.getString("BlockUnblockDialog.SelfHarmDisplayText");case h.ReportCategory.Harm:return u.getString("BlockUnblockDialog.HarmDisplayText");case h.ReportCategory.Harassment:return u.getString("BlockUnblockDialog.HarassmentDisplayText");case h.ReportCategory.FalseInfo:return u.getString("BlockUnblockDialog.FalseInfoDisplayText");case h.ReportCategory.Pornography:return u.getString("BlockUnblockDialog.PornographyDisplayText");case h.ReportCategory.MalwareOrVirus:return u.getString("BlockUnblockDialog.MalwareDisplayText");case h.ReportCategory.Infringement:return u.getString("BlockUnblockDialog.InfringementDisplayText");case h.ReportCategory.NonConsensualIntimateImagery:return u.getString("BlockUnblockDialog.NonConsensualIntimateImageryDisplayText");case h.ReportCategory.SexuallyInappropriate:return u.getString("BlockUnblockDialog.SexuallyInappropriateDisplayText");case h.ReportCategory.FeedbackBotChat:return u.getString("BlockUnblockDialog.GiveFeedbackAboutBing");case h.ReportCategory.FeedbackBotImage:return u.getString("BlockUnblockDialog.GiveFeedbackAboutBingImageCreator");default:m.default.switchStatementExhaustiveChecking(e,`Unexpected reason code: ${e}`)}}_announceSelectedReasonForAccessibility(e){const t=this.getDisplayTextForBlockReason(e),i=u.getString("BlockUnblockDialog.ReportReasonSelectedAccessibilityAnnounce",{categoryName:t});o.Accessibility.announceForAccessibility(i)}}t.default=k},803729:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(174958),s=i(915666),a=i(217041),r=i(265976),l=i(746096),c=i(436237),d=i(916724),u=i(971349),g=i(640363);class h extends a.ComponentBase{constructor(e){super(e),this._isMuted=!1,this._isLoaded=!1,this._onVideoPlayerRef=e=>{this._videoPlayer=e||void 0},this._onLoadStart=()=>{this._telemetryEvent=new d.FileReceived(this.props.source?o.pii.Omit(this.props.source):void 0,this.props.sizeInBytes,void 0),this._telemetryEvent.startDownload(),this._telemetryEvent.setMediaProfile(this.props.mediaProfile),this._telemetryEvent.setIntent(l.MediaDownloadIntent.VideoViewer),this._telemetryPlaybackEvent=new u.VideoPlayback(this.props.source,this.props.mediaProvider,this.props.size,this.props.origin,this.props.amsReferences,this.props.messagetype),this._telemetryPlaybackEvent.setCachingStatus(!0,this.props.cacheMode,this.props.cachingDuration),this._telemetryPlaybackEvent.startLoad(),this.props.playbackIntentScenario&&!this.props.playbackIntentScenario.isResolved()&&(this.props.playbackIntentScenario.setDuplicateStepMarkingEnabled(),this.props.playbackIntentScenario.markStepCompleted("LoadStart"),this.props.playbackIntentScenario.setDuplicateStepMarkingEnabled(!1)),this.props.onLoadStart&&this.props.onLoadStart()},this._onCanPlay=()=>{this._telemetryPlaybackEvent&&(this._telemetryPlaybackEvent.startPlay(),this._telemetryPlaybackEvent.setPlayStatus(!0)),this.props.playbackIntentScenario&&!this.props.playbackIntentScenario.isResolved()&&(this.props.playbackIntentScenario.markStepCompleted("UserPerception"),this.props.playbackIntentScenario.finish(),this.props.playbackIntentScenario.reset(),this.props.playbackIntentScenario.start()),this.props.onCanPlay&&this.props.onCanPlay()},this._onError=e=>{c.log(l.LogTraceArea.VideoWithTelemetry,`Video playback failed with source: ${this.props.source} authToken: ${this.props.authToken?o.pii.Omit(this.props.authToken):"undefined"} clientVersion: ${this._clientVersion} loop: ${this.props.loop} showControls: ${this.props.showControls} preload: ${this.props.preload} resizeMode: ${this.props.resizeMode}`);const t=e&&e.error?JSON.stringify(e.error):"";this._telemetryEvent&&(this._telemetryEvent.endDownload(),this._telemetryEvent.setSuccess(!1,l.MessagingFailureReason.AMSFailure,1,void 0,t),c.track(this._telemetryEvent),this._telemetryEvent=void 0),this._telemetryPlaybackEvent?(this._telemetryPlaybackEvent.endLoad(),this._telemetryPlaybackEvent.setLoadStatus(!1,0,l.MessagingFailureReason.AMSFailure,t),c.track(this._telemetryPlaybackEvent),c.log(l.LogTraceArea.VideoWithTelemetry,"Sent video playback telemetry"),this._telemetryPlaybackEvent=void 0):c.log(l.LogTraceArea.VideoWithTelemetry,"Video playback telemetry was not sent"),this.props.onError&&this.props.onError(e)},this._onLoadedData=e=>{this._isLoaded=!0,this._telemetryPlaybackEvent&&(this._telemetryPlaybackEvent.endLoad(),this._telemetryPlaybackEvent.setLoadStatus(!0,e.duration?1e3*e.duration:0,l.MessagingFailureReason.None)),this.props.onLoadedData&&this.props.onLoadedData(e)},this._onEnded=()=>{this._telemetryPlaybackEvent?(this._telemetryPlaybackEvent.endPlay(),c.track(this._telemetryPlaybackEvent),c.log(l.LogTraceArea.VideoWithTelemetry,"Sent video playback telemetry"),this._telemetryPlaybackEvent=void 0):c.log(l.LogTraceArea.VideoWithTelemetry,"Video playback telemetry was not sent"),this.props.onEnded&&this.props.onEnded()},this._onWaiting=()=>{this._telemetryPlaybackEvent&&this._telemetryPlaybackEvent.startRebuffering(),this.props.onWaiting&&this.props.onWaiting()},this._onPlaying=()=>{this._telemetryPlaybackEvent&&this._telemetryPlaybackEvent.endRebuffering(),this.props.onPlaying&&this.props.onPlaying()},this._onCanPlayThrough=()=>{this._telemetryEvent?(this._telemetryEvent.endDownload(),this._telemetryEvent.setSuccess(!0,l.MessagingFailureReason.None),c.track(this._telemetryEvent),this._telemetryEvent=void 0):c.log(l.LogTraceArea.VideoWithTelemetry,"Video playback telemetry was not sent"),this.props.onCanPlayThrough&&this.props.onCanPlayThrough()},this._clientVersion=g.default.getUIVersionWithPartnerID(),c.log(l.LogTraceArea.VideoWithTelemetry,`Client version: ${this._clientVersion}`)}play(){this._videoPlayer&&this._videoPlayer.play()}seek(e){this._videoPlayer&&this._videoPlayer.seek(e)}seekPercent(e){this._videoPlayer&&this._videoPlayer.seekPercent(e)}pause(){this._videoPlayer&&this._videoPlayer.pause()}stop(){this._videoPlayer&&this._videoPlayer.stop()}mute(e){!!e!==this._isMuted&&(this._videoPlayer&&this._videoPlayer.mute(e),this._isMuted=e)}componentDidMount(){super.componentDidMount(),this._checkIfSourceIsValid()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),e.source===this.props.source&&e.sourceObj===this.props.sourceObj||this._checkIfSourceIsValid()}componentWillUnmount(){super.componentWillUnmount(),this._telemetryPlaybackEvent&&(this._telemetryPlaybackEvent.endPlay(),this._isLoaded||(this._telemetryPlaybackEvent.setLoadStatus(!1,0,l.MessagingFailureReason.None),this._telemetryPlaybackEvent.endLoad()),c.track(this._telemetryPlaybackEvent),c.log(l.LogTraceArea.VideoWithTelemetry,"Sent video playback telemetry"),this._telemetryPlaybackEvent=void 0)}render(){return(0,n.jsx)(s.default,{ref:this._onVideoPlayerRef,style:this.props.style,children:this.props.children,source:this.props.source,sourceObj:this.props.sourceObj,authToken:this.props.authToken,clientVersion:this._clientVersion,mediaProvider:this.props.mediaProvider,accessibilityLabel:this.props.accessibilityLabel,ariaHidden:this.props.ariaHidden,loop:this.props.loop,showControls:this.props.showControls,preload:this.props.preload,resizeMode:this.props.resizeMode,onLoadedData:this._onLoadedData,onError:this._onError,onProgress:this.props.onProgress,onSeek:this.props.onSeek,onLoadStart:this._onLoadStart,onCanPlay:this._onCanPlay,onCanPlayThrough:this._onCanPlayThrough,onEnded:this._onEnded,onWaiting:this._onWaiting,onPlaying:this._onPlaying,onClick:this.props.onClick,shouldRedirectForAndroidHLS:this.props.shouldRedirectForAndroidHLS,resumeAfterForeground:this.props.resumeAfterForeground})}_checkIfSourceIsValid(){this.props.source||this.props.sourceObj||c.warn(l.LogTraceArea.VideoWithTelemetry,"The video source is not valid"),this.props.source&&r.checkIfSafeDomainToRender(this.props.source,this.props.origin)}}t.default=h},677381:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(217041),o=i(258187),s=(i(746096),i(436237),i(360305));class a extends n.ComponentBase{constructor(e){super(e),this._visibilityChanged=e=>{const t=!e;this._paused!==t&&(this._paused=t,t||this._shouldUpdateWhenResumed&&(this.forceUpdate(),this._shouldUpdateWhenResumed=!1))}}shouldComponentUpdate(e,t,i){if(this._pauseResumeDesired){const n=this._shouldComponentUpdate(this._paused,e,t,this._renderedProps||this.props,this._renderedState||this.state,i);return!this._paused||n||this._shouldUpdateWhenResumed||(this._shouldUpdateWhenResumed=super.shouldComponentUpdate(e,t,i)),n}return super.shouldComponentUpdate(e,t,i)}componentDidMount(){super.componentDidMount(),this._pauseResumeDesired=this._pauseWhenNotVisible(),this._pauseResumeDesired&&this.context.componentVisibilityStatus&&(this._pauseResumeEnabled=!0,this._paused=!this.context.componentVisibilityStatus.isVisible(),this._renderedProps=this.props,this._renderedState=this.state,this._baseVisibilitySubscriptionToken=this.context.componentVisibilityStatus.isVisibleEvent().subscribe(this._visibilityChanged))}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),this._pauseResumeDesired&&this._componentWillUpdate(e,t,this._renderedProps||this.props,this._renderedState||this.state,i)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._pauseResumeDesired&&this._componentDidUpdate(this._renderedProps||e,this._renderedState||t,i),this._pauseResumeEnabled&&(this._renderedState=this.state,this._renderedProps=this.props)}componentWillUnmount(){super.componentWillUnmount(),this._baseVisibilitySubscriptionToken&&(this._baseVisibilitySubscriptionToken.unsubscribe(),this._baseVisibilitySubscriptionToken=void 0)}_shouldComponentUpdate(e,t,i,n,o,s){return!e&&super.shouldComponentUpdate(t,i,s)}_componentWillUpdate(e,t,i,n,o){}_componentDidUpdate(e,t,i){}_componentDidRender(){super._componentDidRender(),this._pauseResumeEnabled&&(this._shouldUpdateWhenResumed=!1,this._paused)}_getContext(){return this.context}_getRootViewId(){return this.context.rootViewId}_getRootViewType(){return this.context.rootViewType}_isComponentVisible(){const e=this.context.componentVisibilityStatus;return!e||e.isVisible()}_isPresentedInDesktopLeftNav(){return!!this.context.isPresentedInDesktopLeftNav&&!0}_isPresentedInTabletLeftNav(){return!!this.context.isPresentedInDesktopLeftNav&&s.default.isTabletUINoSubscription()}_isPresentedInTabletRightNav(){return!!this.context.isPresentedInDesktopRightNav&&s.default.isTabletUINoSubscription()}_isPresentedInDesktopModal(){const e=this.context;return e.isPresentedInDesktopSubview&&!e.isPresentedInDesktopLeftNav&&!e.isPresentedInDesktopRightNav}_pauseWhenNotVisible(){return!1}}a.contextType=o.CommonContext,t.default=a},279108:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(293194),s=i(258187),a=i(898278);t.default=function({id:e,config:t,variant:i,items:r,onCommand:l,trigger:c}){const{rootViewId:d}=(0,s.useCommonContext)();return(0,n.jsx)(n.Fragment,{children:c((n=>{"flat"===i&&o.default.showWithOptions({id:e,config:Object.assign(Object.assign({},t),{useTheme:!0}),getMenuItems:()=>r.map((e=>Object.assign(Object.assign({},e),{selectableType:a.SXMenuItemSelectableType.Checkbox}))),handleMenuCommand:l,rootViewId:d,invokingEvent:n}),"grouped"===i&&o.default.showGroupWithOptions({id:e,rootViewId:d,config:Object.assign(Object.assign({},t),{useTheme:!0}),getMenuGroups:()=>r.map((e=>Object.assign(Object.assign({},e),{menuItems:e.items.map((e=>Object.assign(Object.assign({},e),{selectableType:a.SXMenuItemSelectableType.Checkbox})))}))),handleMenuCommand:l,invokingEvent:n})}))})}},781110:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(711930),a=i(139285),r=i(110117),l=i(915877),c=i(733754),d=i(581760),u=i(24576),g=i(587331),h=(0,l.lazyProperties)({container:()=>o.Styles.createViewStyle({alignSelf:"stretch",justifyContent:"center",margin:2}),iconStyle:()=>o.Styles.createViewStyle({marginRight:5})});class p extends u.default{constructor(){super(...arguments),this._onComponentRef=e=>{this._componentRef=e||void 0},this._toggleButton=e=>{this.props.onChange&&this.props.onChange(e,!this.props.isOn)},this._onAccessibilityTapIOS=e=>{e.stopPropagation(),this._toggleButton(e)},this._getAccessibilityLabel=e=>e?c.getString("ToggleSwitch.OnWithTextAccessibilityLabel",{text:this.props.accessibilityLabel||""}):c.getString("ToggleSwitch.OffWithTextAccessibilityLabel",{text:this.props.accessibilityLabel||""}),this._onPress=e=>{e.stopPropagation(),this._toggleButton(e)}}requestFocus(){var e;null===(e=this._componentRef)||void 0===e||e.requestFocus()}render(){const e=this._getAccessibilityLabel(!!this.props.isOn),t=s.default.buttonAccessibilityInfo(e,!!this.props.disable),i=h.iconStyle;return(0,n.jsx)(o.Button,Object.assign({ref:this._onComponentRef,style:h.container,onPress:this.props.disable?void 0:this._onPress,title:t.accessibilityLabel,accessibilityTraits:t.accessibilityTraits,onAccessibilityTapIOS:this.props.disable?void 0:this._onAccessibilityTapIOS,disabled:this.props.disable},{children:(0,n.jsxs)(a.default,Object.assign({style:this.props.style},{children:[(0,n.jsx)(r.default,{icon:this.props.icon,size:this.props.iconSize,color:d.Color.white,style:i}),(0,n.jsx)(g.default,{isOn:this.props.isOn,disableInteraction:!0,disable:this.props.disable,overlayColorAndroid:this.props.overlayColorAndroid,accessibilityLabel:this.props.accessibilityLabel,onChange:this.props.onChange})]}))}))}}t.default=p},787720:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(711930),a=i(898278),r=i(139285),l=i(915877),c=i(733754),d=i(536150),u=i(915415),g=i(24576),h=i(587331),p=(0,l.lazyProperties)({container:()=>o.Styles.createViewStyle({alignSelf:"stretch"})});class S extends g.default{constructor(){super(...arguments),this._onToggleSwitchRef=e=>{var t,i;this._toggleSwitchRef=e||void 0,e&&(null===(i=null===(t=this.props)||void 0===t?void 0:t.onToggleRef)||void 0===i||i.call(t,e))},this._onComponentRef=e=>{this._componentRef=e||void 0},this._toggleButton=e=>{this.props.onChange&&this.props.onChange(e,!this.props.isOn)},this._onAccessibilityTapIOS=e=>{e.stopPropagation(),this._toggleButton(e)},this._onPress=e=>{e.stopPropagation(),this._toggleButton(e)}}_buildState(e,t){return{isMobileScreenReaderEnabled:d.default.isMobileScreenReaderEnabled()}}focusToggle(){this._componentRef?this._componentRef.requestFocus():this._toggleSwitchRef&&this._toggleSwitchRef.requestFocus()}render(){const e=this.state.isMobileScreenReaderEnabled,t=this.props.showSpinner?(0,n.jsx)(u.default,{size:a.SXActivityIndicatorSize.Small,tintColor:this._themeColors.primaryTextColor}):(0,n.jsx)(h.default,{ref:this._onToggleSwitchRef,isOn:this.props.isOn,disableInteraction:e,disable:this.props.disable,overlayColorAndroid:this.props.overlayColorAndroid,accessibilityLabel:this.props.accessibilityLabel,onChange:this.props.onChange,toggleSwitchStyles:this.props.toggleSwitchStyles});if(e){const e=this.props.isOn?c.getString("ToggleSwitch.OnWithTextAccessibilityLabel",{text:this.props.accessibilityLabel||""}):c.getString("ToggleSwitch.OffWithTextAccessibilityLabel",{text:this.props.accessibilityLabel||""}),i=s.default.buttonAccessibilityInfo(e,!!this.props.disable);return(0,n.jsx)(o.Button,Object.assign({ref:this._onComponentRef,style:p.container,onPress:this.props.disable?void 0:this._onPress,title:i.accessibilityLabel,accessibilityTraits:i.accessibilityTraits,onAccessibilityTapIOS:this.props.disable?void 0:this._onAccessibilityTapIOS,disabled:this.props.disable},{children:(0,n.jsxs)(r.default,Object.assign({style:this.props.style},{children:[this.props.children,t]}))}))}return(0,n.jsxs)(o.View,Object.assign({style:this.props.style},{children:[this.props.children,t]}))}}t.default=S},4736:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ActionButton=t.ActionButtonSize=void 0;const n=i(570655),o=i(785893),s=i(667294),a=i(967593),r=i(665768),l=i(516778),c=i(10102),d=i(746096),u=i(110117),g=i(436237),h=i(915877),p=(i(733754),i(89808)),S=i(581760),m=i(711828),C=i(24576),y=i(897634),f=i(853374);var b;!function(e){e[e.Default=0]="Default",e[e.Medium=1]="Medium",e[e.Small=2]="Small",e[e.Tiny=3]="Tiny",e[e.FAB=4]="FAB"}(b=t.ActionButtonSize||(t.ActionButtonSize={}));const _=m.IconSize.size24,v=m.IconSize.size28,T=m.IconSize.size20,P=m.IconSize.size16,k=(0,h.lazyProperties)({common:()=>l.Styles.createViewStyle({alignItems:"center",justifyContent:"center",overflow:"visible"}),container:()=>l.Styles.createViewStyle({height:60,width:60}),containerMedium:()=>l.Styles.createViewStyle({height:54,width:54}),containerSmall:()=>l.Styles.createViewStyle({height:44,width:44}),containerTiny:()=>l.Styles.createViewStyle({height:44,width:44}),containerFAB:()=>l.Styles.createViewStyle({height:64,width:64}),backgroundView:()=>l.Styles.createViewStyle({position:"absolute",height:60,width:60,borderRadius:30,top:0,left:0,alignItems:"center",justifyContent:"center"}),backgroundViewMedium:()=>l.Styles.createViewStyle({position:"absolute",height:50,width:50,borderRadius:25,top:2,left:2,alignItems:"center",justifyContent:"center"}),backgroundViewSmall:()=>l.Styles.createViewStyle({position:"absolute",height:40,width:40,borderRadius:20,top:2,left:2,alignItems:"center",justifyContent:"center"}),backgroundViewTiny:()=>l.Styles.createViewStyle({position:"absolute",height:30,width:30,borderRadius:15,top:7,left:7,alignItems:"center",justifyContent:"center"}),backgroundViewFAB:()=>l.Styles.createViewStyle({position:"absolute",height:56,width:56,borderRadius:28,top:4,left:4,alignItems:"center",justifyContent:"center"}),thickBorder:()=>l.Styles.createViewStyle({borderWidth:2}),backgroundNoBorder:()=>l.Styles.createViewStyle({borderColor:S.Color.transparent,borderWidth:0}),iconViewDisabled:()=>l.Styles.createViewStyle({opacity:.5}),sendIconView:()=>l.Styles.createViewStyle({marginLeft:2}),sendIconViewRTL:()=>l.Styles.createViewStyle({marginRight:2}),flippedView:()=>l.Styles.createViewStyle({transform:[{scaleX:-1}]}),shadow:()=>l.Styles.createViewStyle({overflow:"visible",shadowColor:S.Color.blackOverlay20,shadowOpacity:.25,shadowRadius:2,shadowOffset:{height:2,width:0},elevation:2})});class A extends C.default{constructor(){super(...arguments),this._buttonRef=(0,s.createRef)()}_buildState(e,t){const i=e.backgroundColor?void 0:e.userColor?c.gradientColorsForColorInfo(e.userColor):e.reverseGradientColor?p.default.getReversedGradientColors():p.default.getGradientColors(),[,n]=null!=i?i:[],o={gradientColors:i,defaultHoverColors:n?[n,n]:void 0};return t&&(o.isHovering=!1),o}requestFocus(){var e;null===(e=this._buttonRef.current)||void 0===e||e.requestFocus()}_useAccessibleTheme(){return this.props.themeOverride?y.isAccessibleTheme(this.props.themeOverride):super._useAccessibleTheme()}render(){return(0,o.jsx)(I,Object.assign({primaryBackgroundColor:this._themeColors.primaryBackgroundColor,headerIconColor:this._themeColors.headerIconColor,isUseAccessibleTheme:this._useAccessibleTheme(),buttonBackgroundColorStyle:this._themeStyles.buttonBackgroundColorStyle,primaryViewColorStyle:this._themeStyles.primaryViewColorStyle,primaryBorderColorStyle:this._themeStyles.primaryBorderColorStyle,defaultHoverColors:this.state.defaultHoverColors,gradientColors:this.state.gradientColors},this.props,{ref:this._buttonRef}))}}t.ActionButton=A;const I=(0,s.memo)((0,s.forwardRef)(((e,t)=>{var{accessibilityLabel:i,accessibilityTraits:c,autoFocus:h,backgroundColor:p,buttonBackgroundColorStyle:C,defaultHoverColors:y,deselected:A,disabled:I,disabledOpacity:w,flipIcon:x,gradientColors:N,headerIconColor:M,hideBorder:L,icon:O,iconColor:D,iconSize:R,isUseAccessibleTheme:E,importantForAccessibility:B,primaryBackgroundColor:F,primaryBorderColorStyle:V,primaryViewColorStyle:U,size:j,style:H,tabIndex:W,title:z,useSmallIcon:G,renderIcon:K,onHoverStart:q,onHoverEnd:Q}=e,X=n.__rest(e,["accessibilityLabel","accessibilityTraits","autoFocus","backgroundColor","buttonBackgroundColorStyle","defaultHoverColors","deselected","disabled","disabledOpacity","flipIcon","gradientColors","headerIconColor","hideBorder","icon","iconColor","iconSize","isUseAccessibleTheme","importantForAccessibility","primaryBackgroundColor","primaryBorderColorStyle","primaryViewColorStyle","size","style","tabIndex","title","useSmallIcon","renderIcon","onHoverStart","onHoverEnd"]);const J=(0,s.useRef)(null),[$,Y]=(0,s.useState)(!1),Z=(0,s.useRef)(null);(0,s.useImperativeHandle)(t,(()=>({requestFocus:()=>{var e;return null===(e=Z.current)||void 0===e?void 0:e.requestFocus()},blur:()=>{var e;return null===(e=Z.current)||void 0===e?void 0:e.blur()}})));const[ee,te]=(0,s.useMemo)((()=>{const e=[k.common];let t;switch(j){case b.Medium:t=[k.backgroundViewMedium],e.push(k.containerMedium);break;case b.Small:t=[k.backgroundViewSmall],e.push(k.containerSmall);break;case b.Tiny:t=[k.backgroundViewTiny],e.push(k.containerTiny);break;case b.FAB:t=[k.backgroundViewFAB,k.shadow],e.push(k.containerFAB);break;default:case b.Default:t=[k.backgroundView],e.push(k.container)}return[e,t]}),[j]),ie=(0,s.useMemo)((()=>{const e=[];let t,i;t=R||(j===b.Tiny?P:j===b.Medium?v:G?T:_),i=D||(A?M:E?F:S.Color.white),O===m.SkypeIcon.Send&&e.push(x?k.sendIconViewRTL:k.sendIconView),I&&1===w&&e.push(k.iconViewDisabled),x&&e.push(k.flippedView);const n={icon:O,size:t,color:i,style:e};return K?K(n):(0,o.jsx)(u.IconView,Object.assign({},n))}),[A,I,w,x,M,O,D,R,E,F,j,G,K]),ne=(0,s.useMemo)((()=>{let e;if(p)e=(0,o.jsx)(l.View,Object.assign({style:[...te,l.Styles.createViewStyle({backgroundColor:p},!1)]},{children:ie}));else if(A)e=(0,o.jsx)(l.View,Object.assign({style:[...te,C]},{children:ie}));else if(E){const t=[...te,U,V,k.thickBorder];L&&t.push(k.backgroundNoBorder),e=(0,o.jsx)(l.View,Object.assign({style:t},{children:ie}))}else N&&(e=(0,o.jsx)(a.GradientView,Object.assign({style:te,colors:$?y:N,direction:a.GradientDirection.BOTTOM_RIGHT},{children:ie})));return e}),[ie,p,te,C,y,A,N,L,$,E,U,V]),[oe,se]=(0,s.useMemo)((()=>{let e=c||[l.Types.AccessibilityTrait.Button],t=i||z;return I&&(Array.isArray(e)?e.push(l.Types.AccessibilityTrait.Disabled):e=[e,l.Types.AccessibilityTrait.Disabled]),[e,t]}),[I,z,i,c]),[ae,re]=(0,s.useState)(!1),le=(0,s.useCallback)((()=>{!I&&re(!0)}),[I]),ce=(0,s.useCallback)((()=>{re(!1)}),[]),de=(0,s.useCallback)((e=>{Y(!0),null==q||q(e)}),[q]),ue=(0,s.useCallback)((e=>{Y(!1),re(!1),null==Q||Q(e)}),[Q]),ge=(0,s.useRef)();return(0,s.useEffect)((()=>{if(!J.current)return;const e=ae?.9:1,t=f.default.newCauseId();return g.log(d.LogTraceArea.SXAnimated,"ActionButton._internalUpdateButton causeId: "+t),ge.current=J.current.getAnimation({scale:{toValue:e,easing:r.Easing.SkypeExpoInOut5,duration:r.Common.Duration.Tiny}},t),ge.current.start((()=>{ge.current=void 0})),()=>{var e;null===(e=ge.current)||void 0===e||e.stop()}}),[ae]),(0,o.jsx)(r.View,Object.assign({ref:J,style:l.Styles.combine(ee,H)},{children:(0,o.jsx)(l.Button,Object.assign({accessibilityLabel:se,accessibilityTraits:oe,autoFocus:h,disabled:I,disabledOpacity:w,disableTouchOpacityAnimation:!0,importantForAccessibility:B,onHoverEnd:ue,onHoverStart:de,onPressIn:I?void 0:le,onPressOut:I?void 0:ce,style:ee,tabIndex:W,title:z,ref:Z},X,{children:ne}))}))})));t.default=A},250940:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(217041),a=i(839696),r=i(898278),l=i(915877),c=i(78780),d=i(853374),u=(0,l.lazyProperties)({extraSmall:()=>o.Styles.createViewStyle({width:20,height:20}),small:()=>o.Styles.createViewStyle({width:40,height:40}),medium:()=>o.Styles.createViewStyle({width:60,height:60}),large:()=>o.Styles.createViewStyle({width:80,height:80})});class g extends s.ComponentBase{render(){let e,t;switch(this.props.size){case r.SXActivityIndicatorSize.ExtraSmall:e=u.extraSmall;break;case r.SXActivityIndicatorSize.Small:e=u.small;break;case r.SXActivityIndicatorSize.Medium:e=u.medium;break;case r.SXActivityIndicatorSize.Large:e=u.large;break;default:e=d.default.switchStatementExhaustiveChecking(this.props.size)}switch(this.props.size){case r.SXActivityIndicatorSize.ExtraSmall:t=c.default.CIRCLE_SPINNER_40;break;default:case r.SXActivityIndicatorSize.Small:case r.SXActivityIndicatorSize.Medium:case r.SXActivityIndicatorSize.Large:t=c.default.CIRCLE_SPINNER}return(0,n.jsx)(o.View,Object.assign({style:[e,this.props.style]},{children:(0,n.jsx)(a.default,{animation:t,loop:!0,delay:this.props.deferTimeMs,hiddenWhileWaiting:!!this.props.deferTimeMs,tintColor:this.props.tintColor,sizeToFit:!0})}))}}t.default=g},681806:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(174958),s=i(496486),a=i(285788),r=i(903913),l=i(603751),c=i(516778),d=i(667294),u=i(889391),g=i(841190),h=i(265976),p=i(38566),S=i(898278),m=i(662602),C=i(816402),y=i(746096),f=i(552115),b=i(913944),_=i(110117),v=i(436237),T=i(916724),P=i(915877),k=i(733754),A=i(265822),I=i(812056),w=i(886045),x=i(404057),N=i(915415),M=i(581760),L=i(711828),O=i(782176),D=i(619675),R=i(815188),E=i(626712),B=i(853374),F=i(721956),V=i(465915),U=i(24576);var j,H,W;!function(e){e[e.Loading=0]="Loading",e[e.Loaded=1]="Loaded",e[e.Failed=2]="Failed"}(j||(j={})),function(e){e[e.NotStarted=0]="NotStarted",e[e.Playing=1]="Playing",e[e.Paused=2]="Paused"}(H||(H={})),function(e){e[e.Normal=1]="Normal",e[e.Faster=1.5]="Faster",e[e.Double=2]="Double"}(W||(W={}));const z=L.IconSize.size24,G=L.IconSize.size20,K=z-12,q=[1,1.5,2],Q=(0,P.lazyProperties)({controlsContainer:()=>c.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",flexDirection:"row",justifyContent:"center"}),controlsWithWaveAndSpeed:()=>(0,P.lazyProperties)({controlsContainer:()=>c.Styles.createViewStyle({paddingTop:16,paddingBottom:8,paddingLeft:10}),icon:()=>c.Styles.createViewStyle({padding:0,marginRight:10}),timer:()=>c.Styles.createTextStyle({fontSize:12,marginRight:15}),playSpeed:()=>c.Styles.createViewStyle({borderRadius:12,width:24,height:24,justifyContent:"center",alignItems:"center"}),playSpeedText:()=>c.Styles.createTextStyle({fontSize:10}),playInfo:()=>c.Styles.createViewStyle({flexDirection:"row",flex:1,justifyContent:"flex-start",alignItems:"center"})}),progressContainer:()=>c.Styles.createViewStyle({flex:1,flexDirection:"column",marginRight:8,width:196,marginTop:10,marginBottom:4}),loadingContainer:()=>c.Styles.createViewStyle({backgroundColor:"transparent",position:"absolute",top:0,bottom:0,left:0,right:0,justifyContent:"center",alignItems:"center"}),gestureView:()=>c.Styles.createViewStyle({flex:1,alignSelf:"stretch",flexDirection:"row",marginTop:14}),progressTrack:()=>c.Styles.createViewStyle({flex:1,height:4,borderRadius:4,backgroundColor:M.Color.blackOverlay20}),progressBar:()=>c.Styles.createViewStyle({position:"absolute",top:0,bottom:0,width:0,left:0,height:4,borderRadius:4,backgroundColor:M.Color.gray400}),icon:()=>c.Styles.createViewStyle({padding:12}),fileName:()=>c.Styles.createTextStyle({color:M.Color.gray400}),timer:()=>c.Styles.createTextStyle({marginTop:3}),transcriptionButton:()=>c.Styles.createViewStyle({marginRight:8})});class X extends U.default{constructor(){super(...arguments),this._progressBarAnimatedValue=new c.Animated.Value(0),this._progressBarAnimatedStyle=c.Styles.createAnimatedViewStyle({width:this._progressBarAnimatedValue}),this._waveFormViewMobile=d.createRef(),this._attemptedTokenRefresh=!1,this._handleToTextPress=()=>{V.default.setAudioTranscription(this.props.audioTranscriptionUrl||"")},this._onProgressViewRef=e=>{this._progressView=e||void 0},this._onProgressBarTap=e=>{this._progressView&&m.default.measureLayoutRelativeToWindow((()=>this._progressView)).then((t=>{if(this.isComponentMounted()){const i=e.pageX-t.x;let n=this._progressBarWidth?i/this._progressBarWidth:0;const o=this.state.duration||0;w.default.isMobileScreenReaderEnabled()&&(n=0),n=Math.max(n,0),n=Math.min(n,1),this._progressBarAnimatedValue.setValue(n),this._seekTo(n*o)}}),(e=>{v.warn(y.LogTraceArea.AudioPlayer,"Progress bar component not measured: "+x.default.errorAsString(e))}))},this._onLayoutProgress=e=>{this._progressBarWidth=e.width,this._getProgressBarPosition()},this._onPlaySpeedPress=()=>{const e=(this.state.playSpeedIndex+1)%q.length;this.setState({playSpeedIndex:e},(()=>{this._player&&this._player.setSpeed(q[this.state.playSpeedIndex],this.state.playbackState===H.Playing)}))},this.onPausePlay=e=>{e&&e.stopPropagation();const t=B.default.newCauseId();v.log(y.LogTraceArea.AudioPlayer,"onPausePlay causeId:",t),this.state.playbackState===H.Playing?(this._queueToPlay=!1,this._pause(t),this.setState({playbackState:H.Paused})):(this.state.playbackState===H.NotStarted&&this.props.message&&v.track(new I.MessageContentClicked(this.props.message)),this.state.playerState!==j.Loaded?(this._createPlayerIfNotExists(this.props.contentUrl,this.props.contentExtension),this._queueToPlay=!0,this._telemetryEvent=new T.FileReceived(o.pii.Omit(this.props.contentUrl),void 0,O.default.extractExtensionForTelemetry(this.props.displayFilename)),this._telemetryEvent.startDownload(),this.setState({playerState:j.Loading,playbackState:H.Playing})):this.setState({playbackState:H.Playing}))}}_buildState(e,t){var i,n;const o=this.props,{enableAudioMessageDuration:a,enableAudioMessageWaveAndSpeed:r,enableAudioTranscription:l}=u.default.getS4LMessagingFeatures(),c={isUploading:E.default.isFileOrBlob(e.contentUrl),isDurationEnabled:a,isWaveAndSpeedEnabled:r,isAudioTransciptionEnabled:l,nextAudioCuid:F.default.getNextCuid(null!==(n=null===(i=e.message)||void 0===i?void 0:i.conversationId)&&void 0!==n?n:"")};if(t&&(this._audioManagerClient=new p.default(p.AudioManagerSource.AudioPlayer),c.playbackState=H.NotStarted,c.playSpeedIndex=0),t||e.contentUrl!==o.contentUrl&&this.state&&this.state.playbackState===H.NotStarted){const t=B.default.newCauseId();v.log(y.LogTraceArea.AudioPlayer,"AudioNode.buildState side effect causeId: "+t),this._releaseAudioPlayer(t),this._attemptedTokenRefresh=!1,c.progressInSeconds=0,c.duration=s.isUndefined(e.defaultDurationMs)?void 0:Math.round(e.defaultDurationMs/1e3)}const d=A.default.getActivePlayerToken();return t||this._playerToken===d||this.state.playbackState!==H.Playing||(this._queueToPlay=!1,c.playbackState=H.Paused),c}componentDidMount(){super.componentDidMount(),h.checkIfSafeDomainToRender(this.props.contentUrl,this.props.origin),this._playerToken=A.default.registerAsPlayer()}componentDidUpdate(e,t,i){var n;super.componentDidUpdate(e,t,i),e.contentUrl!==this.props.contentUrl&&h.checkIfSafeDomainToRender(this.props.contentUrl,this.props.origin);const o=B.default.newCauseId();if(v.log(y.LogTraceArea.AudioPlayer,"componentDidUpdate causeId:",o),t.nextAudioCuid!==this.state.nextAudioCuid&&(null===(n=this.props.message)||void 0===n?void 0:n.cuid)===this.state.nextAudioCuid&&this.onPausePlay(),this.state.playerState!==j.Loaded||this.state.playbackState!==H.Playing||this._audioManagerClient.hasToken())this.state.playbackState===H.Paused&&this._pause(o);else{const e=w.default.isMobileScreenReaderEnabled()?a.AudioModes.AudioPlaybackWithScreenReader:a.AudioModes.AudioPlayback;this._audioManagerClient.requestMode(e,o).then((e=>{var t,i;e&&this.isComponentMounted()&&this.state.playbackState===H.Playing&&this._player&&(s.isUndefined(this._playerToken)||A.default.setAsActive(this._playerToken),this._waveFormViewMobile.current&&(null===(i=(t=this._waveFormViewMobile.current).startAnimation)||void 0===i||i.call(t)),this._player.setSpeed(q[this.state.playSpeedIndex]),this._player.play(this.props.autoloop,!0))}))}this._getProgressBarPosition()}componentWillUnmount(){super.componentWillUnmount();const e=B.default.newCauseId();v.log(y.LogTraceArea.AudioPlayer,"componentWillUnmount causeId:",e),this._releaseAudioPlayer(e)}_createPlayerIfNotExists(e,t){this._player||this._createPlayer(e,t)}_createPlayer(e,t){this._player=l.Audio.openFile(e,t,l.AudioPlayerSoundType.Media),this._player.progressEvent.subscribe((t=>{this.isComponentMounted()&&s.isNumber(t.currentPosition)&&t.currentPosition>0&&this.state.duration&&this.state.duration>0&&(this.setState({progressInSeconds:t.currentPosition,currentProgress:t.currentPosition>=this.state.duration?1:Number((t.currentPosition/this.state.duration).toFixed(2))}),V.default.setProgressInSeconds(e,t.currentPosition))})),this._player.endedEvent.subscribe((()=>{const t=B.default.newCauseId();if(v.log(y.LogTraceArea.AudioPlayer,"playerEndedEvent causeId:",t),this._audioManagerClient.release(t),this.isComponentMounted()){e!==this.props.contentUrl&&this._releaseAudioPlayer(t);const{message:i}=this.props;i&&F.default.setAudioEndedForConversation(i.conversationId,i.cuid),this.setState({playbackState:H.NotStarted,progressInSeconds:0,playSpeedIndex:0,currentProgress:1})}})),this._player.loadedEvent.subscribe((e=>{if(this._telemetryEvent?(this._telemetryEvent.setSuccess(!0),this._telemetryEvent.endDownload(),v.track(this._telemetryEvent),this._telemetryEvent=void 0):v.log(y.LogTraceArea.AudioPlayer,"Audio playback telemetry was not sent"),this.isComponentMounted()){let t=H.NotStarted;this._queueToPlay&&(t=H.Playing),this.setState({playbackState:t,duration:Math.round(e.duration),playerState:j.Loaded})}})),this._player.errorEvent.subscribe((i=>{var n;const o=B.default.newCauseId();v.log(y.LogTraceArea.AudioPlayer,"playerErrorEvent causeId:",o),(null===(n=null==i?void 0:i.error)||void 0===n?void 0:n.code)&&v.error(y.LogTraceArea.AudioPlayer,"playerErrorEvent MediaError:",i.error.code),this._player&&!this._attemptedTokenRefresh?(this._attemptedTokenRefresh=!0,g.attemptTokenRefresh(e).then((()=>{this._player&&(this._player.release(),this._createPlayer(e,t))}),s.noop)):(this._releaseAudioPlayer(o),this.isComponentMounted()&&this.setState({playerState:j.Failed}),this._telemetryEvent&&(this._telemetryEvent.setSuccess(!1),this._telemetryEvent.endDownload(),v.track(this._telemetryEvent),this._telemetryEvent=void 0),v.error(y.LogTraceArea.AudioPlayer,"Audio playback failed to initialize."))}))}_releaseAudioPlayer(e){v.log(y.LogTraceArea.AudioPlayer,"_releaseAudioPlayer causeId:",e),this._audioManagerClient.release(e),this._player&&this._player.release(),this._player=void 0,this._queueToPlay=!1,this._telemetryEvent=void 0}_renderAudioWavePlayInfo(e){var t;const{timerStyles:i,timeToDisplay:o,elapsedTimeAccessibilityLabel:s,accessibilityLabel:a}=e,{controlsWithWaveAndSpeed:l}=Q,{themeColors:{iconSecondary:d,textOnColor:u,surfaceTertiary:g},gradients:{secondary:h}}=this._getContext(),p=(0,n.jsx)(c.View,Object.assign({accessibilityLabel:s},{children:(0,n.jsx)(c.Text,Object.assign({style:i,importantForAccessibility:c.Types.ImportantForAccessibility.No},{children:C.default.getElapsedTimeStringFromS(o)}))})),S=(0,n.jsx)(c.View,Object.assign({style:[l.playSpeed,{backgroundColor:d}],onPress:this._onPlaySpeedPress},{children:(0,n.jsxs)(c.Text,Object.assign({style:[l.playSpeedText,{color:u}]},{children:[q[this.state.playSpeedIndex],"x"]}))})),m=(0,n.jsx)(r.default,{ref:this._waveFormViewMobile,contentUrl:this.props.contentUrl,playbackRate:q[this.state.playSpeedIndex],progressColor:h[1],colorForBackground:g,duration:null!==(t=this.state.duration)&&void 0!==t?t:0,currentProgress:this.state.currentProgress});return(0,n.jsxs)(c.View,Object.assign({style:[l.playInfo],accessibilityLabel:a},{children:[m,p,S]}))}_renderPlayerInfo(e){if(this.props.hidePlayerInfo)return;const t=this.props.playerStyles||{},{controlsWithWaveAndSpeed:i}=Q,o=[Q.progressContainer],s=t.fileNameColor?c.Styles.createTextStyle({color:t.fileNameColor},!1):Q.fileName;t.progressContainerStyle&&o.push(t.progressContainerStyle);const a=[this.state.isWaveAndSpeedEnabled?i.timer:Q.timer];t.timerColor&&a.push(c.Styles.createTextStyle({color:t.timerColor},!1));const r=[Q.progressTrack];t.progressTrackStyle&&r.push(t.progressTrackStyle),t.progressTrackColor&&r.push(c.Styles.createViewStyle({backgroundColor:t.progressTrackColor},!1));const l=[Q.progressBar,this._progressBarAnimatedStyle];if(t.progressBarColor&&l.push(c.Styles.createViewStyle({backgroundColor:t.progressBarColor},!1)),t.timerColor&&a.push(c.Styles.createTextStyle({color:t.timerColor},!1)),this.props.renderInformationOnstop&&this.state.playbackState!==H.Playing)return(0,n.jsxs)(c.View,Object.assign({style:o},{children:[(0,n.jsx)(D.BodyText,Object.assign({style:s,numberOfLines:1,ellipsizeMode:"middle"},{children:this.props.displayFilename})),(0,n.jsx)(D.Caption,Object.assign({style:a},{children:f.default.formatFileSize(this.props.fileSizeInBytes||0,1).formattedString}))]}));{const t=this.state.playerState===j.Failed?k.getString("ConfirmationDialog.ReportFailMessage"):this.state.playbackState!==H.Playing?k.getString("AccessibilityLabel.SeekToStart"):k.getString("AccessibilityLabel.ReplayButton");let i=this.state.progressInSeconds;if(this.state.isDurationEnabled){const e=this.state.duration||0;i=this.state.playbackState===H.NotStarted?e:this.state.progressInSeconds}return(0,n.jsxs)(c.View,Object.assign({style:o},{children:[(0,n.jsxs)(c.GestureView,Object.assign({ref:this._onProgressViewRef,style:Q.gestureView,onTap:this._onProgressBarTap,mouseOverCursor:c.Types.GestureMouseCursor.Pointer,accessibilityLabel:t,accessibilityTraits:c.Types.AccessibilityTrait.Button,importantForAccessibility:void 0},{children:[(0,n.jsx)(c.View,{style:r,onLayout:this._onLayoutProgress}),(0,n.jsx)(c.Animated.View,{style:l})]})),(0,n.jsx)(c.View,Object.assign({accessibilityLabel:e},{children:(0,n.jsx)(c.Text,Object.assign({style:a,importantForAccessibility:c.Types.ImportantForAccessibility.No},{children:C.default.getElapsedTimeStringFromS(i)}))}))]}))}}_renderIcon(e){const{controlsWithWaveAndSpeed:t}=Q,i=this.props.playerStyles||{},o=i.iconColor||this._themeColors.iconPrimary,s=i.iconHoverColor||this._themeColors.iconHoverColor,a=this.state.isWaveAndSpeedEnabled?[t.icon]:[Q.icon,i.iconStyle];let r;const l=this.state.isWaveAndSpeedEnabled?G:z;if(this.state.playerState===j.Failed)r=(0,n.jsx)(_.default,{icon:L.SkypeIcon.Warning,size:l,color:o});else{const t=this.state.progressInSeconds?e:"";let i;i=this.state.playbackState===H.Playing?this.props.origin===y.AudioPlayerOrigin.SwiftCard?k.getString("AccessibilityLabel.SwiftCardPauseButton"):k.getString("AccessibilityLabel.PauseButton"):this.props.origin===y.AudioPlayerOrigin.SwiftCard?k.getString("AccessibilityLabel.SwiftCardPlayButton",{timeElapsedLabel:t}):k.getString("AccessibilityLabel.PlayButton",{timeElapsedLabel:t});let a=null;a=this.state.playbackState!==H.Playing?this.state.isWaveAndSpeedEnabled?L.SkypeIcon.PlayGradient:L.SkypeIcon.Play:this.state.isWaveAndSpeedEnabled?L.SkypeIcon.PauseGradient:L.SkypeIcon.Pause;const{themeColors:{iconPrimary:d},gradients:{secondary:u}}=this._getContext();r=this.state.isWaveAndSpeedEnabled?(0,n.jsx)(c.View,Object.assign({onPress:this.onPausePlay,accessibilityLabel:i},{children:(0,L.getIcon)(a,l,d,{gradientcolor1:u[0],gradientcolor2:u[1]})})):(0,n.jsx)(b.default,{size:l,color:o,hoverColor:s,icon:a,onPress:this.onPausePlay,title:i,accessibilityLabel:i})}let d;return this.state.playerState===j.Loading?d=(0,n.jsx)(c.View,Object.assign({style:Q.loadingContainer},{children:(0,n.jsx)(N.default,{size:S.SXActivityIndicatorSize.Medium,tintColor:o})})):this.state.isUploading&&(d=(0,n.jsx)(R.default,{contentUrls:[this.props.contentUrl],strokeColor:o,size:K})),(0,n.jsxs)(c.View,Object.assign({style:a},{children:[d,r]}))}render(){const e=C.default.getElapsedTimePartsFromS(this.state.progressInSeconds),t=k.getString("AccessibilityLabel.NumberOfMinutesSecondsPlayed",{minuteCount:e.minutes,secondCount:e.seconds}),i=this._renderPlayerInfo(t),o=this._renderIcon(t),{controlsWithWaveAndSpeed:s}=Q,a=this.state.isWaveAndSpeedEnabled&&this.state.isAudioTransciptionEnabled&&this.props.willRenderTranscription?(0,n.jsx)(c.View,Object.assign({style:Q.transcriptionButton},{children:(0,n.jsx)(_.default,{size:L.IconSize.size20,color:this._themeColors.iconPrimary,icon:L.SkypeIcon.ToText,onPress:this._handleToTextPress,title:k.getString("AccessibilityLabel.AudioTranscriptionButton"),accessibilityLabel:k.getString("AccessibilityLabel.AudioTranscriptionButton")})})):null,r=[Q.controlsContainer,this.props.style];return this.props.hidePlayerInfo&&r.push({paddingLeft:8}),(0,n.jsxs)(c.View,Object.assign({style:r,importantForAccessibility:this.props.importantForAccessibility},{children:[o,a,i]}))}_pause(e){var t,i;v.log(y.LogTraceArea.AudioPlayer,"_pause causeId:",e),this._waveFormViewMobile.current&&(null===(i=(t=this._waveFormViewMobile.current).pauseAnimation)||void 0===i||i.call(t)),this._player&&this._player.pause(),this._audioManagerClient.release(e)}_seekTo(e){this.state.playerState!==j.Failed&&this._player&&this._player.seek(e)}_getProgressBarPosition(){const e=this.state.progressInSeconds&&this.state.duration?Math.min(this.state.progressInSeconds/this.state.duration,1):0;this._progressBarAnimatedValue.setValue(e*(this._progressBarWidth||0))}}X.MediaType="Audio",t.default=X},839696:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(667294),s=i(496486),a=i(643789),r=i(516778),l=i(217041),c=i(889391),d=i(336801),u=i(680837);class g extends l.ComponentBase{constructor(){super(...arguments),this._animationCount=0,this._animatedOpacityValue=new r.Animated.Value(0),this._animatedOpacityStyle=r.Styles.createAnimatedViewStyle({opacity:this._animatedOpacityValue}),this._onAEAnimationViewRef=e=>{this._aeAnimationView=e||void 0,this._aeAnimationView&&(this.props.startPaused?this._aeAnimationView.reset():this.props.delay?(this._aeAnimationView.reset(),s.delay((()=>{this.isComponentMounted()&&this.play()}),this.props.delay)):this._aeAnimationView.play())}}_buildState(e,t){return{isEnabled:c.default.getS4LUiFeatures().jsonAnimationEnabled}}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this._currentAnimation=this._getAnimationContext(this.props)}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),this.props.animation.key===e.animation.key&&this.props.tintColor===e.tintColor||(this._animationCount++,this._currentAnimation=this._getAnimationContext(e))}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.props.animation.key!==e.animation.key&&this._aeAnimationView&&this.isComponentMounted()&&this._aeAnimationView.play()}play(){this._animatedOpacityValue.setValue(1),this._aeAnimationView&&this._aeAnimationView.play()}reset(){this._aeAnimationView&&this._aeAnimationView.reset()}_getAnimationContext(e){return d.default.getAssetSourceWithColor(e.animation,e.tintColor)}render(){const e=this.props.animation;let t=this._currentAnimation&&this.state.isEnabled?(0,o.createElement)(a.default,Object.assign({},this._currentAnimation,{key:"animation"+this._animationCount,ref:this._onAEAnimationViewRef,style:u.default.flexOne,loop:this.props.loop})):null;if(this.props.hiddenWhileWaiting&&(t=(0,n.jsx)(r.Animated.View,Object.assign({style:[u.default.flexOne,this._animatedOpacityStyle]},{children:t}))),this.props.sizeToFit)return t;{const i=this.props.shortSide||(this.props.preferHeight?e.intrinsicSize.height:e.intrinsicSize.width),o=i/(this.props.preferHeight?e.intrinsicSize.height:e.intrinsicSize.width),s=r.Styles.createViewStyle({width:this.props.preferHeight?o*e.intrinsicSize.width:i,height:this.props.preferHeight?i:o*e.intrinsicSize.height},!1);let a=(0,n.jsx)(r.View,Object.assign({style:s},{children:t}));if(e.containerSize){const t=e.containerOffset?e.containerOffset.y*o:0,s=e.containerOffset?e.containerOffset.x*o:0,l=r.Styles.createViewStyle({width:this.props.preferHeight?o*e.containerSize.width:i,height:this.props.preferHeight?i:o*e.containerSize.height,top:t<0?t:0,left:s<0?s:0,paddingTop:t>=0?t:0,paddingLeft:s>=0?s:0},!1);a=(0,n.jsx)(r.View,Object.assign({style:l},{children:a}))}return a}}}t.default=g},77605:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BadgeCounter=t.BadgeSize=t.BorderWidth=void 0;const n=i(785893),o=i(516778),s=i(967593),a=i(898278),r=i(866127),l=i(915877),c=i(330124),d=i(29130),u=i(581760),g=i(311010),h=i(360305),p=i(24576);var S,m;!function(e){e[e.None=0]="None",e[e.Thin=1]="Thin",e[e.Thick=2]="Thick"}(S=t.BorderWidth||(t.BorderWidth={})),function(e){e[e.Default=0]="Default",e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Desktop=3]="Desktop"}(m=t.BadgeSize||(t.BadgeSize={}));const C=(0,l.lazyProperties)({defaultBadge:()=>o.Styles.createViewStyle({justifyContent:"center",alignItems:"center",height:24,minWidth:24,borderRadius:12,backgroundColor:u.Color.gray300}),defaultBadgeSmall:()=>o.Styles.createViewStyle({height:12,minWidth:12,borderRadius:6}),defaultBadgeMedium:()=>o.Styles.createViewStyle({height:20,minWidth:20,borderRadius:10}),defaultBadgeText:()=>o.Styles.createTextStyle({color:u.Color.white,font:g.default.font.uiDisplayBold,fontSize:g.default.controlFontSize.smallBadge,lineHeight:g.default.controlFontSize.smallBadge,textAlign:"center",textAlignVertical:"center",backgroundColor:u.Color.transparent}),defaultBadgeTextSmall:()=>o.Styles.createTextStyle({fontSize:g.default.controlFontSize.tinyBadge,lineHeight:g.default.controlFontSize.tinyBadge}),defaultBadgeTextMedium:()=>o.Styles.createTextStyle({fontSize:g.default.controlFontSize.smallBadge,lineHeight:g.default.controlFontSize.smallBadge}),badgeDarkBackground:()=>o.Styles.createViewStyle({backgroundColor:u.Color.white}),badgeTextLight:()=>o.Styles.createTextStyle({color:u.Color.white}),badgeTextDark:()=>o.Styles.createTextStyle({color:u.Color.gray400}),badgeIOS:()=>o.Styles.createTextStyle({paddingTop:1}),badgeAndroid:()=>o.Styles.createViewStyle({paddingRight:.5}),badgeSingleDigit:()=>o.Styles.createViewStyle({width:24}),badgeSingleDigitSmall:()=>o.Styles.createViewStyle({width:12}),badgeSingleDigitMedium:()=>o.Styles.createViewStyle({width:20}),badgeDoubleDigit:()=>o.Styles.createViewStyle({paddingHorizontal:4}),badgeWithBorder:()=>o.Styles.createViewStyle({borderColor:u.Color.white,borderWidth:1,borderStyle:"solid"}),badgeWithThickBorder:()=>o.Styles.createViewStyle({borderColor:u.Color.white,borderWidth:2,borderStyle:"solid"}),gradientView:()=>o.Styles.createViewStyle({position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:u.Color.transparent}),gradientViewWithBorder:()=>o.Styles.createViewStyle({position:"absolute",left:-1,top:-1,right:0,bottom:0,backgroundColor:u.Color.transparent}),compositeNav:()=>(0,l.lazyProperties)({defaultBadge:()=>o.Styles.createViewStyle({height:16,borderRadius:8,minWidth:16,paddingHorizontal:4}),badgeSingleDigit:()=>o.Styles.createViewStyle({width:16})})});class y extends p.default{_buildState(e,t){const i=r.default.canModernizeConversationList();return{useMobileUI:c.default.isUsingStackNavigationContext()||!i&&h.default.isTabletUI(),contentSizeMultiplier:e.fixedSize?1:d.default.getContentSizeMultiplier()}}_useDesktopBadges(){return!this.state.useMobileUI||this.props.badgeSize===m.Desktop}render(){const e=[C.defaultBadge],t=[C.defaultBadgeText],i=[C.badgeTextLight];if(this._useDesktopBadges()&&e.push(C.compositeNav.defaultBadge),this.props.darkBackground)e.push(C.badgeDarkBackground),i.push(C.badgeTextDark);else{const t=this.props.isHighPriority?this._themeStyles.primaryBadgeColorStyle:this._themeStyles.secondaryBadgeColorStyle;!this.props.colorStyle||t&&!this.props.themeOverride?t&&e.push(t):e.push(this.props.colorStyle),this._themeStyles.primaryBadgeTextColorStyle&&i.push(this._themeStyles.primaryBadgeTextColorStyle),this.props.themeOverride&&i.push(o.Styles.createTextStyle({color:this._themeColors.primaryTextColor},!1))}this.props.badgeSize===m.Small?(t.push(C.defaultBadgeTextSmall),e.push(C.defaultBadgeSmall)):this.props.badgeSize===m.Medium&&(t.push(C.defaultBadgeTextMedium),e.push(C.defaultBadgeMedium));const r=this.props.rawCount>=0&&this.props.rawCount<10;if(r?this.props.badgeSize===m.Small?e.push(C.badgeSingleDigitSmall):this.props.badgeSize===m.Medium?e.push(C.badgeSingleDigitMedium):e.push(this._useDesktopBadges()?C.compositeNav.badgeSingleDigit:C.badgeSingleDigit):e.push(C.badgeDoubleDigit),this.state.contentSizeMultiplier>1){let t=this._useDesktopBadges()?16:24;this.props.badgeSize===m.Small?t=12:this.props.badgeSize===m.Medium&&(t=20);const i=t*Math.min(this.state.contentSizeMultiplier,a.MaxContentSizeMultiplier);e.push(o.Styles.createViewStyle({borderRadius:i/2,height:i,minWidth:i},!1)),r&&e.push(o.Styles.createViewStyle({width:i},!1))}let l;this.props.gradientColors&&(l=(0,n.jsx)(s.GradientView,{style:[...e,this.props.borderColor?C.gradientViewWithBorder:C.gradientView],colors:this.props.gradientColors,direction:s.GradientDirection.BOTTOM_RIGHT})),(this.props.borderColor||this.props.borderWidth)&&(e.push(this.props.borderWidth===S.Thick?C.badgeWithThickBorder:C.badgeWithBorder),this.props.borderColor&&e.push(o.Styles.createViewStyle({borderColor:this.props.borderColor},!1))),t.push(i),e.push(this.props.style);const c=isNaN(this.props.rawCount)?void 0:(0,n.jsx)(o.Text,Object.assign({style:t,numberOfLines:1,allowFontScaling:!this.props.fixedSize},{children:this.props.count||""}));return(0,n.jsxs)(o.Animated.View,Object.assign({style:[e,this.props.style],blockPointerEvents:this.props.blockPointerEvents,importantForAccessibility:this.props.importantForAccessibility},{children:[l,c]}))}}t.BadgeCounter=y,t.default=y},247409:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarouselScrollViewBase=t.ScrollDirecton=t.CarouselHeaderMarginBottom=t.CarouselMarginTop=t.CarouselHeightWithHeader=t.CarouselHeightBase=void 0;const n=i(785893),o=i(516778),s=i(915877),a=(i(640363),i(619675)),r=i(24576);t.CarouselHeightBase=150,t.CarouselHeightWithHeader=195,t.CarouselMarginTop=10,t.CarouselHeaderMarginBottom=10;const l=(0,s.lazyProperties)({containerWithHeader:()=>o.Styles.createViewStyle({alignItems:"stretch",height:t.CarouselHeightWithHeader}),heading:()=>o.Styles.createTextStyle({paddingLeft:10,paddingTop:20,marginBottom:t.CarouselHeaderMarginBottom}),headingRight:()=>o.Styles.createButtonStyle({justifyContent:"flex-start",paddingRight:10,paddingTop:20,marginBottom:t.CarouselHeaderMarginBottom}),headerContainerWrapper:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"stretch",alignSelf:"stretch",justifyContent:"space-between"}),scrollView:()=>o.Styles.createViewStyle({flexDirection:"row",marginTop:t.CarouselMarginTop}),scrollViewRTL:()=>o.Styles.createViewStyle({flexDirection:"row-reverse"}),flippedView:()=>o.Styles.createViewStyle({transform:[{scaleX:-1}]}),scrollWithButtons:()=>o.Styles.createViewStyle({flexDirection:"row"})});var c;!function(e){e[e.Previous=0]="Previous",e[e.Next=1]="Next"}(c=t.ScrollDirecton||(t.ScrollDirecton={}));class d extends r.default{constructor(){super(...arguments),this._scrollLeft=0,this._scrollTop=0,this._useGestureTrap=!1,this._keyboardShouldPersistTaps=!1,this._titleRightOnPress=e=>{},this._onLayout=e=>{},this._renderScrollDirectionButton=()=>{},this._onTrapPan=()=>{},this._onMoveShouldSetResponder=e=>(e.preventDefault(),e.stopPropagation(),!1),this._onScrollViewRef=e=>{this._scrollViewRef=e},this._onScroll=(e,t)=>{this._scrollTop=e,this._scrollLeft=t}}_renderEmptyStateElement(){}_title(){}_titleRight(){}_height(){return t.CarouselHeightBase}_marginTop(){}_enableOnScroll(){return!1}setScrollLeft(e){this._scrollViewRef&&this._scrollViewRef.setScrollLeft(e,!0)}render(){if(this._elementCount()){const e=[l.scrollView];void 0!==this._marginTop()&&e.push(o.Styles.createViewStyle({marginTop:this._marginTop()},!1));const t=!1,i=this._renderElements(t),s=i?i.elements:void 0;let r;if(i&&i.useStaticContainer)r=(0,n.jsx)(o.View,Object.assign({style:e},{children:s}));else{t&&(e.push(l.scrollViewRTL),e.push(l.flippedView));const i=this._getContext().isPresentedInTabView||this.props.preventBubblingOnSwipe,a={ref:this._onScrollViewRef,style:e,horizontal:!0,keyboardShouldPersistTaps:this._keyboardShouldPersistTaps,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,onMoveShouldSetResponder:i?this._onMoveShouldSetResponder:void 0,onScroll:this._enableOnScroll()?this._onScroll:void 0};r=(0,n.jsx)(o.ScrollView,Object.assign({},a,{children:s})),this._useGestureTrap&&i&&(r=(0,n.jsx)(o.GestureView,Object.assign({onPan:this._onTrapPan,panPixelThreshold:5,releaseOnRequest:!1},{children:r})))}const d=this._title(),u=d?(0,n.jsx)(a.Subtitle,Object.assign({style:l.heading},{children:d})):void 0,g=this._titleRight();let h,p;g&&(h=(0,n.jsx)(o.Button,Object.assign({style:l.headingRight,onPress:this._titleRightOnPress,accessibilityLabel:g},{children:(0,n.jsx)(a.Subtitle,Object.assign({style:this._themeStyles.primaryTextColorStyle},{children:g}))}))),p=d||g?l.containerWithHeader:o.Styles.createViewStyle({alignItems:"stretch",height:this._height()},!1);const S=this._renderScrollDirectionButton(c.Previous),m=this._renderScrollDirectionButton(c.Next);return(S||m)&&(r=(0,n.jsxs)(o.View,Object.assign({style:l.scrollWithButtons},{children:[S,r,m]}))),(0,n.jsxs)(o.View,Object.assign({style:p,onLayout:this._onLayout},{children:[(0,n.jsxs)(o.View,Object.assign({style:l.headerContainerWrapper},{children:[u,h]})),r]}))}{const e=this._renderEmptyStateElement();if(!e)return null;const t=o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",height:this._height()},!1);return(0,n.jsx)(o.View,Object.assign({style:t},{children:e}))}}}t.CarouselScrollViewBase=d,t.default=d},213282:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(662602),a=i(139285),r=i(915877),l=i(374606),c=i(733754),d=i(24576),u=(0,r.lazyProperties)({checkboxButton:()=>o.Styles.createViewStyle({flexDirection:"column",alignSelf:"flex-start",alignItems:"center",justifyContent:"center"}),checkboxLabel:()=>o.Styles.createTextStyle({flex:-1,marginLeft:5,lineHeight:24}),checkboxButtonView:()=>o.Styles.createViewStyle({flexDirection:"row",alignSelf:"flex-start"}),secondaryTextStyle:()=>o.Styles.createTextStyle({paddingTop:4,paddingLeft:40,alignSelf:"stretch"})});class g extends d.default{constructor(){super(...arguments),this._onButtonRef=e=>{this._componentRef=e||void 0},this._onViewRef=e=>{this._componentRef=e||void 0},this._onKeyPress=e=>s.default.maybeHandleKeyPress(e,(()=>{this._onPress(e)})),this._onPress=e=>{e.stopPropagation();this.props.onShouldToggleCheckbox(!!this.props.value);this.props.onPress&&this.props.onPress(e)}}requestFocus(){this._componentRef&&this._componentRef.requestFocus()}render(){const e=[o.Types.AccessibilityTrait.CheckBox];let t="";this.props.value&&e.push(o.Types.AccessibilityTrait.Checked),this.props.accessibilityLabelPrefix&&(t+=`${this.props.accessibilityLabelPrefix}, `);const i=o.Button,s=this._onButtonRef;return t+=this.props.text,this.props.secondaryText&&(t+=" "+this.props.secondaryText),this.props.disable&&(t+=". "+c.getString("AccessibilityLabel.Disabled")),(0,n.jsxs)(i,Object.assign({ref:s,style:[u.checkboxButton,this.props.style],onPress:this.props.disable?void 0:this._onPress,onKeyPress:void 0,accessibilityTraits:e,accessibilityLabel:t,tabIndex:void 0,importantForAccessibility:o.Types.ImportantForAccessibility.Yes},{children:[(0,n.jsxs)(a.default,Object.assign({style:u.checkboxButtonView},{children:[(0,n.jsx)(l.default,{isOn:!!this.props.value,disable:this.props.disable,disableSelectionAnimation:this.props.disableSelectionAnimation,style:this.props.toggleStyle}),(0,n.jsx)(o.Text,Object.assign({style:[u.checkboxLabel,this.props.textStyle]},{children:this.props.text}))]})),this._secondaryText()]}))}_secondaryText(){if(this.props.secondaryText)return(0,n.jsx)(a.HiddenText,Object.assign({style:[u.secondaryTextStyle,this.props.secondaryTextStyle]},{children:this.props.secondaryText}))}_getCheckboxAccessibilityLabel(e,t){const i=this._getCheckboxCheckedState(t);return c.getString("FeedbackMechanism.AccLabelCheckbox",{checkboxTitle:e,state:i})}_getCheckboxCheckedState(e){return e?c.getString("FeedbackMechanism.AccLabelCheckboxChecked"):c.getString("FeedbackMechanism.AccLabelCheckboxUnchecked")}}t.default=g},944973:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeIcon=void 0;const n=i(785893),o=i(496486),s=i(516778),a=i(139285),r=i(110117),l=i(680837),c=i(24576);class d extends c.default{constructor(){super(...arguments),this._iconForIconConfig=(e,t,i)=>{const a=[];return i&&a.push(l.default.absoluteFill),!o.isUndefined(t.opacity)&&t.opacity<1&&a.push(s.Styles.createViewStyle({opacity:t.opacity},!1)),(0,n.jsx)(r.default,{style:[a,this.props.style],size:this.props.iconSize||24,color:t.color||this.props.color||this._themeColors.primaryIconColor,icon:t.icon},e)}}render(){const e=o.map(this.props.icons,((e,t)=>this._iconForIconConfig("icon"+t,e,t>0)));return(0,n.jsx)(a.default,Object.assign({style:this.props.style},{children:e}))}}t.CompositeIcon=d,t.default=d},273865:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DismissibleModalWrapperLoaded=void 0;const n=i(785893),o=i(516778),s=i(217041),a=i(974634),r=i(732235),l=i(915877),c=i(520751),d=i(581760),u=(0,l.lazyProperties)({modalInnerContainer:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch",backgroundColor:d.Color.transparent,overflow:"visible"})});t.DismissibleModalWrapperLoaded=new a.default;class g extends s.ComponentBase{constructor(){super(...arguments),this._arbitrateFocus=e=>(t.DismissibleModalWrapperLoaded.fire(),(0,r.arbitrateModalOrPopupFocus)("DismissibleModalWrapper",e))}componentWillUnmount(){super.componentWillUnmount(),this.props.onDismiss&&this.props.onDismiss(),t.DismissibleModalWrapperLoaded.dispose()}render(){return(0,n.jsxs)(o.View,Object.assign({style:u.modalInnerContainer,restrictFocusWithin:!0,arbitrateFocus:this._arbitrateFocus},{children:[this.props.children,(0,n.jsx)(c.default,{},"miniToast")]}))}}t.default=g},587134:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(915877),a=i(24576),r={},l={},c={},d={},u=(0,s.lazyProperties)({itemDivider:()=>o.Styles.createViewStyle({height:1,alignSelf:"stretch"})});class g extends a.default{render(){const e=this._getDividerStyle(this.props.marginLeft||0,this.props.marginRight||0,this.props.marginTop||0,this.props.marginBottom||0),t=this._getDividerColorStyle(),i=[u.itemDivider,t,...e,this.props.style];return(0,n.jsx)(o.View,{style:i})}_getDividerColorStyle(){return this.props.color?o.Styles.createViewStyle({backgroundColor:this.props.color},!1):this.props.useLightTheme?this._themeStyles.headerShadowColorStyle:o.Styles.createViewStyle({backgroundColor:this._themeColors.dividerPrimary},!1)}_getDividerStyle(e,t,i,n){let s=c[e],a=d[t],u=r[i],g=l[n];return s||(s=o.Styles.createViewStyle({marginLeft:e}),c[e]=s),a||(a=o.Styles.createViewStyle({marginRight:t}),d[t]=a),u||(u=o.Styles.createViewStyle({marginTop:i}),r[i]=u),g||(g=o.Styles.createViewStyle({marginBottom:n}),l[n]=g),[s,a,u,g]}}t.default=g},403782:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(809206),a=i(274840),r=i(516778),l=i(397691),c=i(219784),d=i(889391),u=i(698172),g=i(502278),h=i(871908),p=i(61375),S=i(671830),m=i(677381),C=i(539549),y=i(557102),f=i(103291),b=i(103291),_=i(746096),v=i(753559),T=i(281020),P=i(436237),k=i(733754),A=i(318743),I=i(206286),w=i(812056),x=i(844972),N=i(104735),M=i(785207),L=i(415963),O=i(886045),D=i(655759),R=i(311010),E=i(626712),B=i(853374),F=i(211276),V=i(954543),U=i(640363),j=i(628108),H=i(947193),W=i(400984);class z extends m.default{constructor(){super(...arguments),this._dragAndDropCount=0,this._onDragEnter=e=>{e.preventDefault(),e.stopPropagation();const t=f.default.isContactEntityInDataTransfer(e)&&this._isDroppingContactAllowed(),i=f.default.isFileEntityFromConversationInDataTransfer(e)&&this._isDroppingFileFromConversationAllowed(),n=f.default.isDataTransferFilesFromDesktop(e)&&this._isDroppingFileFromDesktopAllowed(),o=f.default.isTextOrLink(e)&&this.state.enableDragAndDropTextAndLink;(t||i||n||o)&&0==this._dragAndDropCount++&&(this.props.onDragEnter&&this.props.onDragEnter(e),o&&P.track(new V.DragAndDropTelemetry(V.DragAction.DragStart,V.DragOrigin.Unknown,V.DragType.TextOrLink,this.props.dropTargetSource===b.DropTargetOrigin.MessagePanel?V.DropTarget.MessagePanel:V.DropTarget.ConversationListItem)))},this._onDragOver=e=>{e.preventDefault(),e.stopPropagation(),s.BrowserEnvironment.supportsDragAndDropEffect()&&(e.dataTransfer.effectAllowed=b.DropEffect,e.dataTransfer.dropEffect=b.DropEffect)},this._onDragLeave=e=>{e.preventDefault(),e.stopPropagation(),0==--this._dragAndDropCount&&(this.props.onDragLeave&&this.props.onDragLeave(e),this._dragAndDropCount=0)},this._isMediaPreviewEnabled=e=>e&&I.default.isMediaPreviewEnabled(e)&&this.props.dropTargetSource===b.DropTargetOrigin.MessagePanel,this._maybeAddToGroupButton=e=>{if(!d.default.getS4LMessagingFeaturesNoSubscription().enableContactAddDragAndDrop)return;if(!e||!e.userMri||!this.props.conversationId)return;if(e.isS4B)return;const t=(0,C.default)().getConversation(this.props.conversationId);if(t&&(0,x.isRegularMemberInModeratedGroup)(t))return;const i=S.sanitizeMri(e.userMri,S.Namespaces.SkypeId);return t&&!t.isUserMember(i)?{text:k.getString("MessageStream.DragAndDropContactToGroupAddButton"),onPress:()=>this._onAddToGroupPress(i,t),textStyle:R.default.font.uiDisplayBold}:void 0},this._onAddToGroupPress=(e,t)=>{this.props.conversationId&&!S.isGroupConversation(this.props.conversationId)?this._maybeCreateNewGroupConversation(e):h.addMemberToThread(S.asSkypeThreadId(t.id),e,p.AddMemberToThreadSource.AddUserToGroupCallDragAndDrop)},this._onDragDrop=e=>{switch(e.preventDefault(),e.stopPropagation(),this._currentDragDropType=f.default.getDataTransferType(e),this._fileStringDrop=void 0,this._files=void 0,this._textOrLinkDataTransfer=void 0,this._currentDragDropType){case b.DragDropType.ContactFromRecentsToConversation:const t=f.default.extractContactEntityFromDataTransfer(e);this._sendContact(t);break;case b.DragDropType.FileFromConversationToRecents:this.props.conversationId&&this._isDroppingFileFromConversationAllowed()&&(this._fileStringDrop=e.dataTransfer.getData(b.DragDropType.FileFromConversationToRecents),this.props.onDropStarted?this.props.onDropStarted():this.onDragDropContinue(this.props.conversationId));break;case b.DragDropType.FileFromDesktop:this._files=e.dataTransfer.files,this.props.onDropStarted?this.props.onDropStarted():this.onDragDropContinue(this.props.conversationId);break;case b.DragDropType.TextOrLink:this.state.enableDragAndDropTextAndLink&&(this.props.onDropStarted?(this._textOrLinkDataTransfer=e.dataTransfer,this.props.onDropStarted()):this.props.onDragDropText&&(this.props.onDragDropText(e),this._dragAndDropCount=0),P.track(new V.DragAndDropTelemetry(V.DragAction.Drop,V.DragOrigin.Unknown,V.DragType.TextOrLink,this.props.dropTargetSource===b.DropTargetOrigin.MessagePanel?V.DropTarget.MessagePanel:V.DropTarget.ConversationListItem)))}this.props.onDropCompleted&&this.props.onDropCompleted()},this._onContainerRef=e=>{this._container=e||void 0}}_buildState(e,t){return{enableDragAndDropTextAndLink:d.default.getS4LMessagingFeatures().enableDragAndDropTextAndLink&&U.default.isEdgeShoreline()&&(e.dropTargetSource===b.DropTargetOrigin.MessagePanel||e.dropTargetSource===b.DropTargetOrigin.ConversationListItem)}}_sendFiles(e,t,i,n){if(!this._isMediaPreviewEnabled(n)&&n){const o=this.props.callId;if(o){const s={callId:this.props.callId,scenarioInfo:t,properties:i};M.default.postUpload([n],e,_.PostSource.DragDrop,!1,s,this._getRootViewType()).then((()=>{t.name===L.ScenarioName.SendPicture&&(g.default.updateCallTelemetry(o,"MediaPicker",(e=>e.postMediaPickerPhotoReaction())),O.default.maybeAnnounceForAccessibility(k.getString("MessageComposer.FileSentLabel")))}))}else{const o={scenarioInfo:t,properties:i};M.default.postUpload([n],e,_.PostSource.DragDrop,!1,o,this._getRootViewType()).then((()=>{O.default.maybeAnnounceForAccessibility(k.getString("MessageComposer.FileSentLabel"))}))}}}_navigateToConversation(e){P.log(_.LogTraceArea.Navigation,"DragAndDropTarget._navigateToConversation, causeId: "+e.causeId),N.default.navigateToConversation(e)}_maybeCreateNewGroupConversation(e){if(!this.props.conversationId)return;const t=(0,C.default)().getConversation(this.props.conversationId),i=t?[...t.getMemberMrisWithoutMe(),e]:[],n=_.NavigationConversationOrigin.DragDropFromConversationToRecentLists,o=B.default.newCauseId();return y.ConversationUtils.createNewGroupConversationFromOneOnOne(i,n).then((e=>{this._navigateToConversation({causeId:o,convId:e,origin:n,isNewConversation:!0})}))}_sendContact(e){if(this._dragAndDropCount=0,!e||!e.skypeId)return;if(!this._isDroppingContactAllowed())return;const{enableContactAddDragAndDrop:t}=d.default.getS4LMessagingFeaturesNoSubscription();if(this.props.conversationId&&!S.isGroupConversation(this.props.conversationId)&&!t)return void this._handleContactDrop(e);const i=this._maybeAddToGroupButton(e);if(i){const t=[{text:k.getString("MessageStream.DragAndDropContactToGroupShareButton"),onPress:()=>this._handleContactDrop(e),textStyle:R.default.font.uiDisplayBold},i,{text:k.getString("Global.CancelLabel"),isCancel:!0}],n=k.getString("MessageStream.DragAndDropContactToGroupChatTitleWithAdd"),o=k.getString("MessageStream.DragAndDropContactToGroupChatConfirmationWithAdd",{displayName:e.fullName});c.default.showWithOptions({title:n,dialogAccessibilityTitle:n,message:o,buttons:t,rootViewId:this._getRootViewId(),useFocussedWindowFallback:!0})}else{let i=k.getString("MessageStream.DragAndDropContactToGroupChatConfirmation",{displayName:e.fullName});const n=k.getString("MessageStream.DragAndDropContactToGroupChatTitle");t&&!e.isS4B&&(i=k.getString("MessageStream.DragAndDropContactToGroupChatConfirmationAlreadyExistingParticipant",{displayName:e.fullName})),c.default.showWithOptions({title:n,dialogAccessibilityTitle:n,message:i,rootViewId:this._getRootViewId(),buttons:[{text:k.getString("Global.ConfirmLabel"),textStyle:R.default.font.uiDisplayBold,onPress:()=>this._handleContactDrop(e)},{text:k.getString("Global.CancelLabel"),isCancel:!0}]})}}onDragDropContinue(e){switch(this._currentDragDropType){case b.DragDropType.FileFromConversationToRecents:e&&(S.isEncryptedThread(e)?this._showCannotSendFileAlert():(this._dragAndDropCount=0,f.default.dropFileFromConversationToRecents(e,void 0,this._fileStringDrop)));break;case b.DragDropType.FileFromDesktop:this._files&&this._isDroppingFileFromDesktopAllowed()&&this.uploadFiles(this._files,e);break;case b.DragDropType.TextOrLink:if(e&&this._textOrLinkDataTransfer){const t=(0,j.handlePaste)(this._textOrLinkDataTransfer,(0,H.getConversationMaxMessageLength)(W.default.isConversationAccepted(e)),!1,!0,(e=>E.default.isUrlValid(e)),!0);(null==t?void 0:t.extractedEntities)&&f.default.dropTextOrLinkToConversation(e,t),P.track(new V.DragAndDropTelemetry(V.DragAction.Drop,V.DragOrigin.Unknown,V.DragType.TextOrLink,V.DropTarget.ConversationListItem))}}}uploadFiles(e,t){this._dragAndDropCount=0;const i=[],n=[],s=this._isMediaPreviewEnabled(t);o.each(e,(e=>{const r=v.default.extractFileExtension(e.name),l={file:e,extension:r};if(v.default.isImageExtension(r))n.push(a.default.getImageSize(E.default.getFileUrl(l)).then((e=>{e&&(l.dimensions=e),i.push(l);const n={name:L.ScenarioName.SendPicture},o=this.props.parentConversationId?u.default.getReactionsThreadPostParams(this.props.parentConversationId):void 0;this._sendFiles(l,n,o,t)})));else if(v.default.isVideoExtension(r))n.push((0,F.captureFrameFromVideo)(URL.createObjectURL(e)).then((n=>{if(n&&n.blob&&n.blob.size>0){const i=n.blob;let a=e.name;const r=e.name.lastIndexOf(".");if(r>0&&(a=a.substring(0,r)+"-thumbnail."+n.extension),o.attempt((()=>i.name=a)),o.attempt((()=>i.lastModifiedDate=new Date(e.lastModified))),l.thumbnail={file:i,extension:n.extension},n.width>=0&&n.height>=0){const e={width:n.width,height:n.height};l.dimensions=e,l.thumbnail.dimensions=e}if(t&&!s){const e={name:L.ScenarioName.SendVideo};M.default.postVideoWithThumbnail([t],l,_.PostSource.DragDrop,!1,e)}}else{const e={name:L.ScenarioName.SendFile};this._sendFiles(l,e,void 0,t)}i.push(l)})));else{if(t){const e={name:L.ScenarioName.SendFile},i=this.props.parentConversationId?u.default.getReactionsThreadPostParams(this.props.parentConversationId):void 0;this._sendFiles(l,e,i,t)}i.push(l)}})),l.all(n).then((()=>{if(t&&s)return I.default.addPreviews(i,t,_.PostSource.DragDrop);P.track(new A.FilesSentViaPicker(this.props.origin,0,!1,o.map(i,(e=>e.extension)))),this.props.onFileDataCallback&&this.props.onFileDataCallback(i)}))}render(){return this._isDroppingAllowed()?(0,n.jsx)(r.View,Object.assign({ref:this._onContainerRef,style:this.props.style,onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDrop:this._onDragDrop},{children:this.props.children})):(0,n.jsx)(r.View,Object.assign({ref:this._onContainerRef,style:this.props.style},{children:this.props.children}))}_handleContactDrop(e){this.props.conversationId&&(D.shareContact(e,this.props.conversationId,_.PostSource.DragDrop),P.track(new w.ShareContactsTelemetry(T.ShareContactOrigin.DragAndDrop,this.props.conversationId,e.isPstn?1:0,e.isPstn?0:1,!1)))}requestFocus(){this._container&&this._container.requestFocus()}_isDroppingContactAllowed(){return this.props.conversationId&&!S.isEncryptedThread(this.props.conversationId)&&!S.isS4BBridgeMri(this.props.conversationId)&&this.props.dropTargetSource===b.DropTargetOrigin.MessagePanel}_isDroppingFileFromConversationAllowed(){return this.props.conversationId&&!S.isS4BBridgeMri(this.props.conversationId)&&this.props.dropTargetSource===b.DropTargetOrigin.ConversationListItem}_isDroppingFileFromDesktopAllowed(){return!this.props.conversationId||this.props.conversationId&&!S.isS4BBridgeMri(this.props.conversationId)}_isDroppingAllowed(){return this._isDroppingContactAllowed()||this._isDroppingFileFromConversationAllowed()||this._isDroppingFileFromDesktopAllowed()}_showCannotSendFileAlert(){const e=[{text:k.getString("Global.CancelLabel"),isCancel:!0}],t=k.getString("DragAndDrop.AlertForPrivateConversationDroppingBody");c.default.showWithOptions({title:k.getString("DragAndDrop.AlertForPrivateConversationDroppingTitle"),dialogAccessibilityTitle:t,message:t,buttons:e,rootViewId:this._getRootViewId()})}}t.default=z},139889:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(217041),a=i(889391),r=i(136400),l=i(915877),c=i(836029),d=i(912770),u=(0,l.lazyProperties)({altViewContainer:()=>o.Styles.createViewStyle({position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"})});class g extends s.ComponentBase{constructor(){super(...arguments),this._loadAltView=()=>{this._altViewLoadTimer=void 0,this.isComponentMounted()&&this.setState({showAltView:!0})},this._loadSucceeded=e=>{const{source:t}=this.props;this._clearAltViewTimer(),t&&(g.loadSucceededImages[t]=!0),this.isComponentMounted()&&this.setState({loadSucceeded:!0,showAltView:!1}),this.props.onLoad&&this.props.onLoad(e)},this._loadErrored=e=>{this._clearAltViewTimer(),this.isComponentMounted()&&this.setState({loadFailed:!0,showAltView:!0}),this.props.onError&&this.props.onError(e)},this._renderAltView=()=>{const{showAltView:e,loadFailed:t}=this.state,{source:i,errorView:s,altView:a}=this.props;if(!!!this.props.showAltViewImmediately){const i=t&&s||a;return e?(0,n.jsx)(o.View,Object.assign({style:u.altViewContainer},{children:i}),"altview"):void 0}if(t||!i||!g.loadSucceededImages[i]){const e=t&&s||a,i=()=>{this.setState({showAltView:!1})},r="function"==typeof e?e(i,i):e;return(0,n.jsx)(o.View,Object.assign({style:u.altViewContainer},{children:r}),"altview")}},this._gotImageRef=e=>{this._imageRef=e||void 0}}_buildState(e,t){const i=this.props,n=e.showAltView||!e.source,o=!!e.showAltViewImmediately;if(t||e.source!==i.source){const t={loadSucceeded:!1,loadFailed:!1,showAltView:o||n};if(this._clearAltViewTimer(),!o&&e.source){const e=a.default.getS4LUiFeatures().errorSafeImageAltViewDelayMs||100;this._altViewLoadTimer=d.default.setTimeout(this._loadAltView,e)}return t}}_clearAltViewTimer(){this._altViewLoadTimer&&(d.default.clearTimeout(this._altViewLoadTimer),this._altViewLoadTimer=void 0)}_renderImage(){const{source:e}=this.props,{showAltView:t}=this.state,i=!!this.props.showAltViewImmediately;if(!e)return;const o=(0,n.jsx)(c.default,{style:this.props.style,ref:this._gotImageRef,sourceUrl:e,skypeToken:this.props.skypeToken,origin:this.props.origin,resizeMode:this.props.resizeMode,shouldInstrument:this.props.shouldInstrument,telemetryProperties:this.props.telemetryProperties,noRetryOnError:this.props.noRetryOnError,blockUntrustedDomains:this.props.blockUntrustedDomains,onLoad:this._loadSucceeded,onError:this._loadErrored},"image");return i&&t&&!g.loadSucceededImages[e]?void 0:o}render(){const e=this._renderImage(),t=[this._renderAltView(),e,this.props.children];if(this.props.onPress||this.props.onKeyPress){const e=this.props.showHoverEffect?r.HoverableButton:o.Button;return(0,n.jsx)(e,Object.assign({style:this.props.containerStyle,onPress:this.props.onPress,onKeyPress:this.props.onKeyPress,title:this.props.title,importantForAccessibility:this.props.importantForAccessibility,shouldRasterizeIOS:this.props.shouldRasterizeIOS,tabIndex:this.props.tabIndex,activeOpacity:this.props.activeOpacity,accessibilityLabel:this.props.accessibilityLabel,accessibilityTraits:o.Types.AccessibilityTrait.Button},{children:t}))}return(0,n.jsx)(o.View,Object.assign({style:this.props.containerStyle,title:this.props.title,importantForAccessibility:this.props.importantForAccessibility,shouldRasterizeIOS:this.props.shouldRasterizeIOS,tabIndex:this.props.tabIndex,activeOpacity:this.props.activeOpacity},{children:t}))}getNativeImageSize(){return this._imageRef&&this._imageRef.getNativeImageSize()}}g.loadSucceededImages={},t.default=g},579258:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(281878),a=i(4736),r=i(711828),l=i(581760),c=i(600212),d=i(889391);t.default=(0,o.withResubAutoSubscriptions)((function(e){const t=(0,c.useSkypeTheme)(),{enableRefreshedPalette:i}=d.default.getS4LUiFeatures();let o=t.mode.isAccessible||t.mode.isDark?void 0:l.Color.white;return i&&(o=t.themeColors.iconOnColor),(0,n.jsx)(s.Box,Object.assign({position:"absolute",bottom:15,right:15},{children:(0,n.jsx)(a.default,{size:a.ActionButtonSize.FAB,icon:e.icon,iconSize:r.IconSize.size24,iconColor:o,accessibilityLabel:e.accessibilityLabel,reverseGradientColor:!0,onPress:e.onPress})}))}))},765110:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(136400),a=i(110117),r=i(915877),l=i(711828),c=i(680837),d=i(619675),u=i(24576),g=i(866127),h=(0,r.lazyProperties)({pickerChevron:()=>o.Styles.createViewStyle({marginLeft:4,marginTop:2})});class p extends u.default{constructor(){super(...arguments),this._onFocusableComponentRef=e=>{this._focusableElement=e||void 0}}_buildState(e,t){return{modernizeConversationList:g.default.canModernizeConversationList()&&(this._isPresentedInDesktopLeftNav()||this._isPresentedInTabletLeftNav())}}requestFocus(){this.isComponentMounted()&&this._focusableElement&&this._focusableElement.requestFocus&&this._focusableElement.requestFocus()}blur(){this.isComponentMounted()&&this._focusableElement&&this._focusableElement.blur&&this._focusableElement.blur()}render(){const e=[c.default.noncollapsibleView,this.props.style],t=[h.pickerChevron,this.props.chevronStyle],i=[];let r;return this.props.labelMaxWidth&&i.push(o.Styles.createTextStyle({maxWidth:this.props.labelMaxWidth},!1)),this.props.labelColor?i.push(o.Styles.createTextStyle({color:this.props.labelColor},!1)):this._useAccessibleTheme()&&i.push(this._themeStyles.primaryTextColorStyle),r=this.props.useBodyBoldLabel?(0,n.jsx)(d.BodyText,Object.assign({bold:!0,size:d.BodyTextSize.SmallDeprecated,style:[this._themeStyles.secondaryTextColorStyle,i],numberOfLines:1},{children:this.props.label})):this.state.modernizeConversationList?(0,n.jsx)(d.SubtitleModernize,Object.assign({style:i,numberOfLines:1},{children:this.props.label})):(0,n.jsx)(d.Subtitle,Object.assign({style:i,numberOfLines:1},{children:this.props.label})),(0,n.jsxs)(s.HoverableButton,Object.assign({},this.props,{ref:this._onFocusableComponentRef,style:e,accessibilityTraits:[o.Types.AccessibilityTrait.Button,o.Types.AccessibilityTrait.HasPopup]},{children:[r,(0,n.jsx)(a.default,{icon:l.SkypeIcon.DownChevron,size:l.IconSize.size10,color:this.props.overrideIconColor||this._themeColors.secondaryTextColor,style:t})]}))}}t.default=p},485433:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(217041),r=i(481169),l=i(915877),c=i(733754),d=i(223284),u=i(706250),g=i(112692),h=(0,l.lazyProperties)({panel:()=>s.Styles.createViewStyle({flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"}),tileContainer:()=>s.Styles.createViewStyle({padding:2}),scrollView:()=>s.Styles.createScrollViewStyle({flex:1,alignSelf:"stretch"})});class p extends a.ComponentBase{constructor(){super(...arguments),this._mountedRefsMap=new u.default,this._onScroll=(e,t)=>{this.props.onScroll&&this.props.onScroll(e,t)},this._onLayout=e=>{const t=this.props.thumbnailsPerRow||1,i=Math.floor(e.width/t);this.setState({tileSize:i})}}render(){let e=[];const t=o.isUndefined(this.props.thumbnailPadding)?h.tileContainer:s.Styles.createViewStyle({padding:this.props.thumbnailPadding},!1);return this.state.tileSize&&!o.isEmpty(this.props.mediaMessages)&&this.props.mediaMessages[0]instanceof g.default&&(e=(0,r.chain)(this.props.mediaMessages,(0,r.take)(this.props.mediaMessages.length),(0,r.mapWithKey)(((e,i)=>this._getMediaTile(e,i,t))))),(0,n.jsx)(s.ScrollView,Object.assign({style:[h.scrollView,this.props.style],onScroll:this._onScroll},{children:(0,n.jsx)(s.View,Object.assign({style:this.props.contentStyles},{children:(0,n.jsx)(s.View,Object.assign({style:h.panel,onLayout:this._onLayout},{children:e}))}))}))}_getMediaTile(e,t,i){const o=c.getString("Global.CountOfTotal",{count:t+1,total:this.props.mediaMessages.length});return(0,n.jsx)(d.default,{ref:this._mountedRefsMap.onComponentRef(e.cuid),message:e,style:i,height:this.state.tileSize?Math.round(this.state.tileSize):void 0,width:this.state.tileSize,showVideoMediaTypeIcon:this.props.showVideoMediaTypeIcon,showOverlay:this.props.showThumbnailOverlay,showCreator:this.props.showCreatorOnThumbnails,onThumbnailPress:this.props.onGridItemPress,messageActions:this.props.getMessageActions?this.props.getMessageActions(e):void 0,borderRadius:this.props.itemBorderRadius,thumbnailIconsSize:this.props.thumbnailIconsSize,renderOrigin:this.props.renderOrigin,shouldUseMessageAccessibilityLabel:!0,accessibilityLabel:o},e.cuid)}getMediaNode(e){return this._mountedRefsMap.ref(e)}}t.default=p},139285:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HiddenText=t.HiddenAnimatedView=void 0;const n=i(785893),o=i(516778),s=i(217041);class a extends s.ComponentBase{render(){return(0,n.jsx)(o.View,Object.assign({},this.props,{importantForAccessibility:o.Types.ImportantForAccessibility.NoHideDescendants}))}}t.default=a;class r extends s.ComponentBase{render(){return(0,n.jsx)(o.Animated.View,Object.assign({},this.props,{importantForAccessibility:o.Types.ImportantForAccessibility.NoHideDescendants}))}}t.HiddenAnimatedView=r;class l extends s.ComponentBase{render(){return(0,n.jsx)(o.Text,Object.assign({},this.props,{importantForAccessibility:o.Types.ImportantForAccessibility.NoHideDescendants},{children:this.props.children}))}}t.HiddenText=l},136400:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HoverableLink=t.HoverableButton=t.HoverableView=void 0;const n=i(785893),o=i(516778),s=i(217041),a=i(915877),r=i(680837),l=(0,a.lazyProperties)({hoverStyle:()=>o.Styles.createViewStyle({opacity:.8})});class c extends s.ComponentBase{constructor(){super(...arguments),this._onHoverStart=e=>{this.isComponentMounted()&&(this.props.onHoverStart&&this.props.onHoverStart(e),this.setState({isHovering:!0}))},this._onHoverEnd=e=>{this.isComponentMounted()&&(this.props.onHoverEnd&&this.props.onHoverEnd(e),this.setState({isHovering:!1}))}}requestFocus(){this.isComponentMounted()&&this._focusableElement&&this._focusableElement.requestFocus&&this._focusableElement.requestFocus()}blur(){this.isComponentMounted()&&this._focusableElement&&this._focusableElement.blur&&this._focusableElement.blur()}_baseStyle(){const e=[this.props.style];return this.state.isHovering&&!this.props.disableHoverOpacityStyles&&e.push(l.hoverStyle),e}_baseProps(){return Object.assign(Object.assign({},this.props),{style:this._baseStyle()})}}t.HoverableView=class extends c{constructor(){super(...arguments),this._onFocusableComponentRef=e=>{this._focusableElement=e||void 0}}_baseStyle(){return[super._baseStyle(),this.props.disableCursor?r.default.defaultCursor:r.default.pointerCursor,this.state.isHovering?this.props.hoverStyle:void 0]}render(){return(0,n.jsx)(o.View,Object.assign({},this._baseProps(),{onMouseEnter:this._onHoverStart,onMouseLeave:this._onHoverEnd,ref:this._onFocusableComponentRef},{children:this.props.children}))}};t.HoverableButton=class extends c{constructor(){super(...arguments),this._onFocusableComponentRef=e=>{this._focusableElement=e||void 0}}_baseStyle(){return[super._baseStyle(),this.props.disableCursor?r.default.defaultCursor:r.default.pointerCursor,this.state.isHovering?this.props.hoverStyle:void 0]}render(){return(0,n.jsx)(o.Button,Object.assign({},this._baseProps(),{onHoverStart:this.props.onPress?this._onHoverStart:void 0,onHoverEnd:this.props.onPress?this._onHoverEnd:void 0,ref:this._onFocusableComponentRef},{children:this.props.children}))}};t.HoverableLink=class extends c{constructor(){super(...arguments),this._onFocusableComponentRef=e=>{this._focusableElement=e||void 0}}_baseStyle(){return[super._baseStyle(),this.state.isHovering?this.props.hoverStyle:void 0]}render(){return(0,n.jsx)(o.Link,Object.assign({},this._baseProps(),{onHoverStart:this._onHoverStart,onHoverEnd:this._onHoverEnd,ref:this._onFocusableComponentRef},{children:this.props.children}))}},t.default=c},913944:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(944973),r=i(677381),l=i(746096),c=i(136400),d=i(110117),u=i(436237),g=i(915877),h=(i(733754),i(581760)),p=i(680837),S=(0,g.lazyProperties)({text:()=>s.Styles.createViewStyle({flexDirection:"row",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:h.Color.transparent,overflow:"visible"}),shadow:()=>s.Styles.createViewStyle({shadowColor:h.Color.black,shadowOpacity:.7,shadowRadius:2,shadowOffset:{height:0,width:0}}),flippedView:()=>s.Styles.createViewStyle({transform:[{scaleX:-1}]})});class m extends r.default{constructor(){super(...arguments),this._onHoverStart=e=>{this.props.disabled||this.setState({isHovering:!0}),this.props.onHover&&this.props.onHover(!0)},this._onHoverEnd=e=>{this.setState({isHovering:!1}),this.props.onHover&&this.props.onHover(!1)},this._onContentButtonRef=e=>{this._contentButton=e||void 0}}_buildState(e,t){const i={};return t&&(i.isHovering=!1),i}componentDidMount(){super.componentDidMount(),this.props.accessibilityLabel||this.props.title||u.warn(l.LogTraceArea.GenericUnsafe,"IconButton mounted without an accessibilityLabel or title")}render(){const e=this.state.isHovering&&this.props.hoverColor&&!this.props.disabled?this.props.hoverColor:this.props.color,t=[p.default.alignItemsCenter,this.props.style];this.props.showHoverEffect&&this.state.isHovering&&this.props.hoverStyle&&!this.props.disabled&&t.push(this.props.hoverStyle);const i=[S.text];let r;this.props.showShadow&&i.push(S.shadow),this.props.iconTextStyle&&i.push(this.props.iconTextStyle);const l=this.state.isHovering&&this.props.hoverIcon||this.props.icon;if(l instanceof Array)r=(0,n.jsx)(a.default,{icons:l,iconSize:this.props.size,style:i,color:this.props.color});else if(this.props.renderIcon)r=this.props.renderIcon({icon:l,color:e,size:this.props.size,style:i});else if(this.props.animatedTextStyle){const t=[...i,this.props.animatedTextStyle];r=(0,d.simpleAnimatedIcon)(l,e,this.props.size,t)}else r=(0,d.simpleIcon)(l,e,this.props.size,i);const u=this.props.accessibilityTraits?o.isArray(this.props.accessibilityTraits)?this.props.accessibilityTraits:[this.props.accessibilityTraits]:[s.Types.AccessibilityTrait.Button];let g=this.props.accessibilityLabel||this.props.title;this.props.disabled&&u.push(s.Types.AccessibilityTrait.Disabled),this.props.flipIcon&&(r=(0,n.jsx)(s.View,Object.assign({style:S.flippedView},{children:r})));const h=this.props.toolTip||this.props.title;if(this.props.showHoverEffect||this.props.onPress||this.props.onLongPress||this.props.onPressIn||this.props.onPressOut||this.props.onContextMenu||this.props.onKeyPress){const e=this.props.showHoverEffect?c.HoverableButton:s.Button;return(0,n.jsxs)(e,Object.assign({style:t,title:h,ref:this._onContentButtonRef,autoFocus:this.props.autoFocus,onPress:this.props.onPress,onPressIn:this.props.onPressIn,onPressOut:this.props.onPressOut,onLongPress:this.props.onLongPress,onContextMenu:this.props.onContextMenu,onHoverStart:this._onHoverStart,onHoverEnd:this._onHoverEnd,onKeyPress:this.props.onKeyPress,disabled:this.props.disabled,onFocus:this.props.onFocus,onBlur:this.props.onBlur,accessibilityLabel:g,accessibilityTraits:u,tabIndex:this.props.tabIndex,disableTouchOpacityAnimation:this.props.disableTouchOpacityAnimation,activeOpacity:this.props.activeOpacity,importantForAccessibility:this.props.importantForAccessibility,disabledOpacity:this.props.disabledOpacity},{children:[r,this.props.accessoryView]}))}return(0,n.jsxs)(s.View,Object.assign({title:h,style:t,importantForAccessibility:this.props.importantForAccessibility},{children:[r,this.props.accessoryView]}))}requestFocus(){this._contentButton&&this._contentButton.requestFocus()}}t.default=m},535772:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(281878),s=i(705465),a=i(516778),r=i(619675),l=i(258187),c=i(581760),d=i(915877),u=i(711828),g=i(110117),h=i(934339),p=(0,d.lazyProperties)({hintContainer:()=>a.Styles.createViewStyle({flexDirection:"row",alignSelf:"flex-start",alignItems:"center",overflow:"visible"}),hintIconView:()=>a.Styles.createViewStyle({marginRight:5}),hintTextStyle:()=>a.Styles.createTextStyle({flex:1}),flippedView:()=>a.Styles.createViewStyle({transform:[{scaleX:-1}]})}),S=s.StyleSheet.create({hintContainer:{flexDirection:"row",alignSelf:"flex-start",alignItems:"center",backgroundColor:c.Color.transparent,overflow:"visible"}});t.default=({hintMessage:e,icon:t})=>{const{themeColors:i,isRTL:s}=(0,l.useCommonContext)();let a;return"string"==typeof t?a=(0,n.jsx)(h.AnimatedEmoticon,{size:h.Size.Small,style:[p.hintIconView,s?p.flippedView:{}],isStatic:!0,innerText:t,emoticonName:t,showPlaceHolder:!1,standaloneAnimation:!1}):void 0!==t&&(a=(0,n.jsx)(g.default,{style:[p.hintIconView,s?p.flippedView:{}],color:i.secondaryTextColor,size:u.IconSize.size18,icon:t})),(0,n.jsxs)(o.Row,Object.assign({style:S.hintContainer},{children:[a,(0,n.jsx)(r.Caption,Object.assign({style:p.hintTextStyle,accessibilityHidden:!0},{children:e}))]}))}},110117:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThemedIcon=t.AnimatedIconView=t.IconView=t.simpleAnimatedIcon=t.simpleIcon=void 0;const n=i(785893),o=i(516778),s=i(677381),a=i(711828);t.simpleIcon=function(e,t,i,s){return(0,n.jsx)(o.View,Object.assign({importantForAccessibility:o.Types.ImportantForAccessibility.NoHideDescendants,style:s},{children:(0,a.getIcon)(e,i,t)}))},t.simpleAnimatedIcon=function(e,t,i,s){return(0,n.jsx)(o.Animated.View,Object.assign({importantForAccessibility:o.Types.ImportantForAccessibility.NoHideDescendants,style:s},{children:(0,a.getIcon)(e,i,t)}))};class r extends s.default{constructor(){super(...arguments),this._onContentRef=e=>{this._contentRef=null!=e?e:void 0}}requestFocus(){var e;null===(e=this._contentRef)||void 0===e||e.requestFocus()}render(){const{icon:e,size:t,color:i}=this.props,s=this._isAnimated(),r=s?o.Animated.View:o.View,l=s?void 0:this._onContentRef;return(0,n.jsx)(r,Object.assign({ref:l,importantForAccessibility:o.Types.ImportantForAccessibility.NoHideDescendants},this.props,{children:(0,a.getIcon)(e,t,i)}))}}class l extends r{_isAnimated(){return!1}}t.IconView=l;t.AnimatedIconView=class extends r{_isAnimated(){return!0}};const c={"2xs":a.IconSize.size14,xs:a.IconSize.size16,sm:a.IconSize.size18,md:a.IconSize.size24,lg:a.IconSize.size32};t.ThemedIcon=function(e){var t;const i=c[e.size]||e.size||a.IconSize.default;return e.name?(0,a.getIcon)(e.name,i,null!==(t=e.color)&&void 0!==t?t:"#000000"):null},t.default=l},324393:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(217041),a=i(136400),r=i(110117),l=i(915877),c=i(680837),d=(0,l.lazyProperties)({buttonChildContainer:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",overflow:"visible"}),buttonChildContainerReverse:()=>o.Styles.createViewStyle({flexDirection:"row-reverse"}),titleContainer:()=>o.Styles.createViewStyle({alignItems:"center",justifyContent:"center"})});class u extends s.ComponentBase{constructor(){super(...arguments),this._onContentButtonRef=e=>{this._contentButton=e||void 0}}render(){const e=(0,n.jsx)(o.View,Object.assign({style:d.titleContainer},{children:(0,n.jsx)(o.Text,Object.assign({style:this.props.titleStyle},{children:this.props.title}))})),t=(0,n.jsx)(r.default,{icon:this.props.icon,color:this.props.color,size:this.props.size,style:this.props.iconStyle}),i=[d.buttonChildContainer];return this.props.useTrailingIcon&&i.push(d.buttonChildContainerReverse),(0,n.jsx)(a.HoverableButton,Object.assign({style:[c.default.alignItemsCenter,this.props.style],title:this.props.title,ref:this._onContentButtonRef,autoFocus:this.props.autoFocus,onPress:this.props.onPress,accessibilityLabel:this.props.accessibilityLabel||this.props.title,tabIndex:this.props.tabIndex,importantForAccessibility:this.props.importantForAccessibility,disabled:this.props.disabled},{children:(0,n.jsxs)(o.View,Object.assign({style:i},{children:[t,e]}))}))}requestFocus(){this._contentButton&&this._contentButton.requestFocus()}}t.default=u},345187:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=(i(667294),i(281878)),s=i(820405),a=i(185453),r=i(319304);t.default=e=>(0,n.jsx)(o.Column,Object.assign({overflowY:"auto",flex:1},{children:(0,n.jsxs)(o.ZStack,Object.assign({flexGrow:1,flexShrink:0},{children:[(0,n.jsx)(a.ColorfulGradientOverlay,{}),(0,n.jsx)(s.default,{}),(0,n.jsx)(r.default,Object.assign({},e))]}))}))},319304:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=(i(667294),i(281878)),s=i(934339);t.default=({topSlot:e,emoticon:t,bottomSlot:i})=>(0,n.jsxs)(o.Column,Object.assign({flexGrow:1,flexShrink:0,justifyContent:"center",alignItems:"center"},{children:[(0,n.jsx)(o.Box,Object.assign({flexGrow:1,flexShrink:0,justifyContent:"center"},{children:e})),(0,n.jsx)(o.Box,Object.assign({flexGrow:1,flexShrink:1,justifyContent:"center"},{children:(0,n.jsx)(s.AnimatedEmoticon,{size:s.Size.ExtraExtraLarge,innerText:t,emoticonName:t,standaloneAnimation:!1})})),(0,n.jsx)(o.Box,Object.assign({flexGrow:1,justifyContent:"center"},{children:i}))]}))},980734:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=(i(667294),i(281878)),s=i(898278),a=i(619675),r=i(631409),l=i(600212),c=i(3553);t.default=({headerText:e,bodyText:t,useThemeHeaderColor:i})=>{const{textOnAccent:d}=(0,l.useSkypeTheme)().themeColors;return(0,n.jsxs)(o.Column,Object.assign({flex:0,alignItems:"center",justifyContent:"center",space:4,marginX:8},{children:[(0,n.jsx)(o.Box,Object.assign({flexGrow:1,flexShrink:0},{children:(0,n.jsx)(a.Header,Object.assign({size:s.HeaderSize.h1,style:r.getIllustrationHeaderTextStyle(i?d:c.SkypeColor.blueDarkPrimary)},{children:e}))})),(0,n.jsx)(o.Box,Object.assign({flexGrow:1,flexShrink:0},{children:(0,n.jsx)(a.BodyText,Object.assign({style:r.styles.bodyTextStyle,textThemeColor:s.TextThemeColor.Secondary},{children:t}))}))]}))}},111612:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IllustrationScreenHeader=t.IllustrationScreen=void 0;var n=i(345187);Object.defineProperty(t,"IllustrationScreen",{enumerable:!0,get:function(){return n.default}});var o=i(980734);Object.defineProperty(t,"IllustrationScreenHeader",{enumerable:!0,get:function(){return o.default}})},115340:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardAvoidingView=void 0;const n=i(785893),o=i(216934),s=(i(709133),i(516778)),a=i(217041),r=i(705465),l=i(919640),c=i(667294),d=i(746096),u=i(436237),g=i(710400),h=i(330124),p=(i(680837),i(640363)),S=i(100571);class m extends a.ComponentBase{getViewStyle(){return this.props.style}_handleLayout(e){this.props.onLayout&&this.props.onLayout(e)}}class C extends m{constructor(){super(...arguments),this._viewHeight=0,this._onLayout=e=>{super._handleLayout(e),this._viewHeight=e.height},this._handleKeyboardHidden=e=>{g.default.setUpdateInfo({height:0}),u.log(d.LogTraceArea.KeyboardAwareView,"_handleKeyboardHidden event: NativeKeyboardHeight: 0")},this._handleKeyboardWillShow=e=>{let t;t=e.endCoordinates.screenY>=this._viewHeight||e.endCoordinates.screenY+e.endCoordinates.height<this._viewHeight-10?0:this.state.isUsingStackNavigation?e.endCoordinates.height:this._viewHeight-e.endCoordinates.screenY,s.App.getActivationState()!==s.Types.AppActivationState.Active&&0!==t&&this.state.isUsingStackNavigation||g.default.setUpdateInfo({height:t,duration:e.duration,easing:e.easing})}}_buildState(e,t){return{resizeMode:g.default.getResizeMode(),keyboardUpdateInfo:g.default.getUpdateInfo(),isUsingStackNavigation:h.default.isUsingStackNavigationContext()}}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this._keyboardWillShowSubscription=o.default.onKeyboardEvent(o.VirtualKeyboardEvent.keyboardWillShow,this._handleKeyboardWillShow),this._keyboardDidHideSubscription=o.default.onKeyboardEvent(o.VirtualKeyboardEvent.keyboardDidHide,this._handleKeyboardHidden)}componentWillUnmount(){super.componentWillUnmount(),this._keyboardWillShowSubscription&&this._keyboardWillShowSubscription.remove(),this._keyboardDidHideSubscription&&this._keyboardDidHideSubscription.remove()}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),t.keyboardUpdateInfo!==this.state.keyboardUpdateInfo&&t.resizeMode===o.KeyboardAwareResizeMode.Default&&o.default.onKeyboardLayoutAnimation(t.keyboardUpdateInfo)}getViewStyle(){const e=[super.getViewStyle()];return this.state.resizeMode===o.KeyboardAwareResizeMode.Default&&e.push(this._getPoppedKeyboardStyle(this.state.keyboardUpdateInfo.height)),e}_getPoppedKeyboardStyle(e){return C._styleCache[e]||(C._styleCache[e]=s.Styles.createViewStyle({paddingBottom:e},!1)),C._styleCache[e]}render(){return(0,n.jsx)(s.View,Object.assign({},this.props,{onLayout:this._onLayout,style:this.getViewStyle()},{children:this.props.children}))}}C._styleCache={};t.default=class extends m{render(){return(0,n.jsx)(s.View,Object.assign({},this.props,{style:this.getViewStyle()},{children:this.props.children}))}},t.KeyboardAvoidingView=function(e){var t,i;(0,c.useEffect)((()=>{const e=r.Keyboard.addListener("keyboardDidShow",(()=>{g.default.setKeyboardSeen(!0)})),t=r.Keyboard.addListener("keyboardDidHide",(()=>{g.default.setKeyboardSeen(!1)}));return()=>{e.remove(),t.remove()}}),[]);const o=(0,c.useContext)(l.HeaderHeightContext),s=(0,S.useIsFloatingKeyboard)(),a=null!==(t=e.enabled)&&void 0!==t?t:h.default.isUsingStackNavigationContextNoSubscription();return(0,n.jsx)(r.KeyboardAvoidingView,Object.assign({behavior:p.default.getPlatformType()===d.PlatformType.iOS?"padding":void 0,style:null!==(i=e.style)&&void 0!==i?i:y.container,enabled:!s&&a,keyboardVerticalOffset:o},{children:e.children}))};const y=r.StyleSheet.create({container:{flex:1}})},975897:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibleLink=void 0;const n=i(785893),o=i(516778),s=i(978640),a=i(510243);t.AccessibleLink=e=>{const{colorAccentStyle:t}=(0,s.useLinkTextColorStyles)(),i=(0,a.useOnClick)(e.url,e.onPress),r=o.Styles.combine(e.style,t);return(0,n.jsx)(o.Link,Object.assign({},e,{style:r,url:e.url,title:e.title,onPress:i},{children:e.children}))}},992464:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Link=void 0;const n=i(785893),o=i(516778),s=i(667294),a=i(847175),r=i(978640),l=i(510243);t.Link=e=>{const[t,i]=(0,s.useState)(!1),c=(0,s.useCallback)((()=>i(!0)),[i]),d=(0,s.useCallback)((()=>i(!1)),[i]),{colorAccentStyle:u}=(0,r.useLinkTextColorStyles)(),{hoveredStyle:g}=(0,a.useHoverTextStyles)(t),h=(0,l.useOnClick)(e.url,e.onPress,e.onError),p=o.Styles.combine(u,g),S=o.Styles.combine(e.style,p);return(0,n.jsx)(o.Link,Object.assign({},e,{style:S,url:e.url,title:e.title,onPress:h,onHoverStart:c,onHoverEnd:d},{children:e.children}))}},267824:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibleLink=t.Link=void 0;var n=i(992464);Object.defineProperty(t,"Link",{enumerable:!0,get:function(){return n.Link}});var o=i(975897);Object.defineProperty(t,"AccessibleLink",{enumerable:!0,get:function(){return o.AccessibleLink}})},847175:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useHoverTextStyles=void 0;const n=i(516778),o=i(915877),s=i(512193),a=(0,o.lazyProperties)({textLinkUnderline:()=>n.Styles.createTextStyle({textDecorationLine:"underline"})});t.useHoverTextStyles=function(e){return(0,s.useRXStyles)((()=>({hoveredStyle:e?a.textLinkUnderline:void 0})),[e])}},978640:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useLinkTextColorStyles=void 0;const n=i(516778),o=i(512193);t.useLinkTextColorStyles=function(){return(0,o.useRXStyles)((e=>({colorAccentStyle:n.Styles.createTextStyle({color:e.themeColors.textInteractive},!1)})),[])}},510243:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useOnClick=void 0;const n=i(667294),o=i(516778),s=i(366355),a=i(491632);t.useOnClick=(e,t,i)=>(0,n.useCallback)((()=>{e?(null==t||t(),o.Linking.openUrl(e).fail((e=>i&&i(e)))):a.Instrumentation.error(s.LogTraceArea.Navigation,"useOnClick: empty url")}),[e,t])},374606:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(110117),r=i(915877),l=i(733754),c=i(89808),d=i(581760),u=i(711828),g=i(734528),h=i(24576),p=(0,r.lazyProperties)({selectionToggle:()=>s.Styles.createViewStyle({flex:0,alignSelf:"center",width:24,height:24,borderRadius:12,borderWidth:1,borderStyle:"solid",marginRight:10,alignItems:"center",justifyContent:"center"}),selectionToggleOn:()=>s.Styles.createViewStyle({borderColor:d.Color.transparent}),iconPadding:()=>s.Styles.createViewStyle({padding:6})});class S extends h.default{constructor(){super(...arguments),this._getTickColor=()=>this.props.disable&&!this._useAccessibleTheme()?this._themeColors.strokeDisabled:this._themeColors.iconOnColor,this._getToggleColorStyles=()=>this.props.disable?s.Styles.createViewStyle({backgroundColor:this._themeColors.surfacePrimary,borderColor:this._themeColors.strokeDisabled},!1):this._useAccessibleTheme()?s.Styles.createViewStyle({backgroundColor:this.state.checked?this._themeColors.strokePrimary:this._themeColors.surfacePrimary,borderWidth:this.state.checked?0:1,borderColor:this._themeColors.dividerPrimary},!1):s.Styles.createViewStyle({backgroundColor:this.state.checked?this._themeColors.surfaceInteractive:this._themeColors.surfacePrimary,borderWidth:this.state.checked?0:1,borderColor:this._themeColors.strokePrimary},!1)}_buildState(e,t){const i={primaryColor:e.disable?this._themeColors.disabledTextColor:e.selectionColor||c.default.getPrimaryColor()||d.Color.blue};return t&&(this._toggleBackgroundColorValue=new s.Animated.Value(e.isOn?1:0),i.checked=e.isOn),i}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),this.props.isOn!==e.isOn){this.props.isOn||this.setState({checked:!1});const e=()=>{this.props.isOn&&this.isComponentMounted()&&this.setState({checked:!0})};this.props.disableSelectionAnimation?(this._toggleBackgroundColorValue.setValue(this.props.isOn?1:0),e()):s.Animated.timing(this._toggleBackgroundColorValue,{toValue:this.props.isOn?1:0,duration:250,easing:s.Animated.Easing.Linear()}).start((()=>{e()}))}}render(){let e=this.props.falseLabel||l.getString("ToggleSwitch.OffText");this.props.isOn&&(e=this.props.trueLabel||l.getString("ToggleSwitch.OnText"));const t=g.okIcon(),i=o.isUndefined(this.props.importantForAccessibility)||this.props.importantForAccessibility===s.Types.ImportantForAccessibility.Yes;return(0,n.jsx)(s.Animated.View,Object.assign({style:[this._getToggleStyles(),this.props.style],accessibilityLabel:i?e:void 0,importantForAccessibility:this.props.importantForAccessibility},{children:(0,n.jsx)(a.default,{icon:this.state.checked?t:u.SkypeIcon.Blank,size:u.IconSize.size14,color:this._getTickColor(),style:p.iconPadding})}))}_getToggleStyles(){return[p.selectionToggle,this._getToggleColorStyles()]}}t.default=S},520751:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(648638),a=i(915877),r=i(10909),l=i(89808),c=i(581760),d=i(311010),u=i(619675),g=i(24576),h=i(163841),p=i(912770),S=(0,a.lazyProperties)({containerRounded:()=>o.Styles.createViewStyle({position:"absolute",bottom:0,left:0,right:0,flexDirection:"row",height:130,justifyContent:"center",alignItems:"flex-end"}),barButton:()=>o.Styles.createButtonStyle({bottom:0,left:0,right:0,height:30}),contentContainer:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:25,height:30,backgroundColor:c.Color.blue,borderRadius:15}),actionLabelText:()=>o.Styles.createTextStyle({textDecorationLine:"underline",marginLeft:10}),darkText:()=>o.Styles.createTextStyle({color:c.Color.gray400}),lightText:()=>o.Styles.createTextStyle({color:c.Color.white}),darkBackground:()=>o.Styles.createViewStyle({backgroundColor:c.Color.gray400}),whiteBackground:()=>o.Styles.createViewStyle({backgroundColor:c.Color.white})});class m extends g.default{constructor(){super(...arguments),this._toastId=0,this._verticalAnimatedValue=new o.Animated.Value(130),this._verticalAnimatedStyle=o.Styles.createAnimatedViewStyle({transform:[{translateY:this._verticalAnimatedValue}]}),this._onMouseEnter=()=>{this._hideToastTimerId&&p.default.clearTimeout(this._hideToastTimerId)},this._onMouseLeave=()=>{this.state.currentMessage&&this._hideToast(this.state.currentMessage.params.duration||0,this.state.currentMessage.params.key)},this._onShowToast=(e,t)=>{this.isComponentMounted()&&this._recalcDisplay(e,t)},this._onTapDismiss=()=>{const e=this.state.currentMessage?this.state.currentMessage.params:void 0;e&&e.onPress&&e.onPress(),this._hideToast(0,e?e.key:void 0)}}_recalcDisplay(e,t){if(this.state.currentMessage!==e){const i=e&&e.params.rootViewId&&e.params.rootViewId!==this._getRootViewId()?void 0:e;this.setState({currentMessage:i},(()=>{i&&this._showToast(0,t)}))}else this._hideToast(0,e?e.params.key:void 0)}_buildState(e,t){const i={isNavigatingWithKeyboard:s.default.isNavigatingWithKeyboard()};return t&&(i.currentMessage=void 0,i.isToastHidden=!0),i}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),r.default.showToastEvent.subscribe(this._onShowToast)}componentWillUnmount(){super.componentWillUnmount(),r.default.showToastEvent.unsubscribe(this._onShowToast)}_renderOptionalActionLabel(){if(this.state.currentMessage&&this.state.currentMessage.params.actionLabel)return(0,n.jsx)(o.Text,Object.assign({style:[S.actionLabelText,d.default.font.uiDisplayBold]},{children:this.state.currentMessage.params.actionLabel}))}render(){if(!this.state.currentMessage)return null;const e=this.state.currentMessage.params,t=[];this._useDarkTheme()?t.push(S.darkText):this._currentTheme!==h.Theme.Accessible&&e.textColor?e.textColor&&t.push(o.Styles.createTextStyle({color:e.textColor},!1)):t.push(S.lightText);const i=[S.contentContainer];this._useDarkTheme()?i.push(S.whiteBackground):this._currentTheme===h.Theme.Accessible?i.push(S.darkBackground):e.color?i.push(o.Styles.createViewStyle({backgroundColor:e.color},!1)):i.push(l.default.getBackgroundColorStyleNoSubscription());const s=[S.containerRounded];this.props.leftOffset&&s.push(o.Styles.createViewStyle({left:this.props.leftOffset},!1));return(0,n.jsx)(o.View,Object.assign({style:s,ignorePointerEvents:!0},{children:(0,n.jsx)(o.Animated.View,Object.assign({style:this._verticalAnimatedStyle},{children:(0,n.jsx)(o.Button,Object.assign({style:S.barButton,onPress:this._onTapDismiss,disabled:this.state.isToastHidden,disabledOpacity:1},{children:(0,n.jsx)(o.View,Object.assign({style:i,accessibilityLiveRegion:o.Types.AccessibilityLiveRegion.Assertive,importantForAccessibility:o.Types.ImportantForAccessibility.Yes,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},{children:(0,n.jsxs)(u.Caption,Object.assign({style:t},{children:[this.state.currentMessage.params.textMessage,undefined,this._renderOptionalActionLabel()]}))}))}))}))}))}_showToast(e,t){const i=this.state.currentMessage;if(!i)return;this._toastId++,this._hideToastTimerId&&p.default.clearTimeout(this._hideToastTimerId),this._showToastTimerId&&p.default.clearTimeout(this._showToastTimerId);const n=this._toastId,s=-1*(t||10);this._showToastTimerId=p.default.setTimeout((()=>{this.isComponentMounted()&&o.Animated.timing(this._verticalAnimatedValue,{toValue:s,easing:o.Animated.Easing.Out(),duration:250,isInteraction:!1}).start((()=>{this.isComponentMounted()&&this._toastId===n&&(this.state.currentMessage&&o.Accessibility.announceForAccessibility(this.state.currentMessage.params.accessibilityLabel||this.state.currentMessage.params.textMessage),this.setState({isToastHidden:!1}),this._hideToast(this._getToastTimeout(i.params.duration),i.params.key))}))}),e)}_hideToast(e,t){this._hideToastTimerId&&p.default.clearTimeout(this._hideToastTimerId),this._hideToastTimerId=p.default.setTimeout((()=>{this.isComponentMounted()&&o.Animated.timing(this._verticalAnimatedValue,{toValue:130,easing:o.Animated.Easing.Out(),duration:200,isInteraction:!1}).start((e=>{r.default.toastDismissed(t),e.finished&&this.isComponentMounted()&&this.setState({isToastHidden:!0})}))}),e)}_getToastTimeout(e){return this.state.isNavigatingWithKeyboard?1e4:e||3e3}}t.default=m},345087:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PageIndicator=t.PageIndicatorFillStyle=void 0;const n=i(785893),o=i(496486),s=i(665768),a=i(516778),r=i(217041),l=i(915877),c=i(581760);var d;!function(e){e[e.Filled=0]="Filled",e[e.Unfilled=1]="Unfilled"}(d=t.PageIndicatorFillStyle||(t.PageIndicatorFillStyle={}));const u=(0,l.lazyProperties)({parentContainer:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center"}),containerReversed:()=>a.Styles.createViewStyle({flexDirection:"row-reverse"}),indicatorDot:()=>a.Styles.createViewStyle({width:16,height:16,borderRadius:8,marginHorizontal:3,backgroundColor:c.Color.white}),unfilledIndicatorStyle:()=>a.Styles.createViewStyle({backgroundColor:"transparent",borderColor:"white",borderWidth:1.5})});class g extends r.ComponentBase{constructor(){super(...arguments),this._indicatorsAnimateLeftValue=new a.Animated.Value(0),this._indicatorsAnimateStyle=a.Styles.createAnimatedViewStyle({transform:[{translateX:this._indicatorsAnimateLeftValue}]}),this._indicatorsAnimateRightValue=new a.Animated.Value(0),this._indicatorsAnimateRTLStyle=a.Styles.createAnimatedViewStyle({right:this._indicatorsAnimateRightValue})}_buildState(e,t){const i={currentPage:e.currentPage},n=e.indicatorDotSize?e.indicatorDotSize:16,s=e.indicatorMargin?e.indicatorMargin:3;e.indicatorDotSize||e.indicatorMargin?(i.indicatorStyle=a.Styles.createViewStyle({width:n,height:n,borderRadius:n/2,marginHorizontal:s,backgroundColor:e.indicatorColor||c.Color.white},!1),i.selectedIndicatorStyle=a.Styles.createViewStyle({width:n,height:n,borderRadius:n/2,marginHorizontal:s,backgroundColor:e.selectedIndicatorColor||c.Color.white},!1)):(i.indicatorStyle=u.indicatorDot,i.selectedIndicatorStyle=u.indicatorDot,e.indicatorColor&&(i.indicatorStyle=[i.indicatorStyle,a.Styles.createViewStyle({backgroundColor:e.indicatorColor},!1)]),e.selectedIndicatorColor&&(i.selectedIndicatorStyle=[i.selectedIndicatorStyle,a.Styles.createViewStyle({backgroundColor:e.selectedIndicatorColor},!1)]));const r=o.size(e.pages);if(e.maxIndicators&&e.maxIndicators<r){const o=n+2*s;i.innerContainerStyle=a.Styles.createViewStyle({flexDirection:"row",maxWidth:e.maxIndicators*o,backgroundColor:c.Color.transparent},!1);const l=this.props,d=this.state;if(t)i.indicatorStartIndex=e.currentPage-Math.ceil(e.maxIndicators/2),i.indicatorStartIndex<0?i.indicatorStartIndex=0:i.indicatorStartIndex+e.maxIndicators>=r&&(i.indicatorStartIndex=r-e.maxIndicators),this._scrollIndicators(!1,e,i.indicatorStartIndex);else if(l.currentPage!==e.currentPage){const t=d.indicatorStartIndex||0,n=l.maxIndicators||e.maxIndicators;if(e.currentPage===d.indicatorStartIndex||e.currentPage===t+n-1)l.currentPage<e.currentPage&&t+n<r?i.indicatorStartIndex=t+1:l.currentPage>e.currentPage&&t>0&&(i.indicatorStartIndex=t-1);else if(e.currentPage<t||e.currentPage>t+n){const t=r-e.maxIndicators;i.indicatorStartIndex=Math.min(e.currentPage,t)}}}else i.innerContainerStyle=void 0;return i}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),this.state.indicatorStartIndex!==t.indicatorStartIndex&&this._scrollIndicators(!0,e,t.indicatorStartIndex||0)}_scrollIndicators(e,t,i){const n=t.indicatorMargin||3,a=t.indicatorDotSize||16,r=t.maxIndicators||10,l=a+2*n,c=i>0?-1*i*l:0;if(t.reverseOrder){const i=o.size(t.pages)-r*l;e?s.timing.easeOut({value:this._indicatorsAnimateRightValue,toValue:c+i,duration:s.Common.Duration.Tiny}).start():this._indicatorsAnimateRightValue.setValue(c+i)}else e?s.timing.easeOut({value:this._indicatorsAnimateLeftValue,toValue:c,duration:s.Common.Duration.Tiny,useNativeDriver:!0}).start():this._indicatorsAnimateLeftValue.setValue(c)}_renderIndicator(e,t){const i=t===this.state.currentPage;return(0,n.jsx)(h,{index:t,selected:i,minOpacity:e.minOpacity?e.minOpacity:.7,minIndicatorScale:this.props.minIndicatorScale,indicatorStyle:i?this.state.selectedIndicatorStyle:this.state.indicatorStyle,indicatorFillStyle:e.indicatorFillStyle},e.uid)}updateCurrentPage(e){this.isComponentMounted()&&e!==this.state.currentPage&&this.setState({currentPage:e})}render(){const e=[];o.each(this.props.pages,((t,i)=>{e.push(this._renderIndicator(t,i))}));const t=[this.props.style];if(t.push(u.parentContainer),this.props.reverseOrder&&!this.state.innerContainerStyle&&t.push(u.containerReversed),this.state.innerContainerStyle){const i=this.props.reverseOrder?[this._indicatorsAnimateRTLStyle]:[this._indicatorsAnimateStyle];return(0,n.jsx)(a.View,Object.assign({style:t,blockPointerEvents:this.props.blockPointerEvents,ignorePointerEvents:this.props.ignorePointerEvents},{children:(0,n.jsx)(a.View,Object.assign({style:this.state.innerContainerStyle},{children:(0,n.jsx)(a.Animated.View,Object.assign({style:[i,t]},{children:e}))}))}))}return(0,n.jsx)(a.View,Object.assign({style:t,blockPointerEvents:this.props.blockPointerEvents,ignorePointerEvents:this.props.ignorePointerEvents},{children:e}))}}t.PageIndicator=g;class h extends r.ComponentBase{constructor(){super(...arguments),this._scaleAnimatedValue=new a.Animated.Value(.4),this._opacityValue=new a.Animated.Value(this.props.minOpacity),this._scaleAnimatedStyle=a.Styles.createAnimatedViewStyle({transform:[{scale:this._scaleAnimatedValue}],opacity:this._opacityValue})}componentDidMount(){super.componentDidMount(),this._updateIndicator(!1)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.props.selected===e.selected&&this.props.minOpacity===e.minOpacity||this._updateIndicator(!0)}_updateIndicator(e){const t=this.props.selected?1:this.props.minIndicatorScale||.4,i=this.props.selected?1:this.props.minOpacity;e?s.parallel([s.timing.easeOut({value:this._scaleAnimatedValue,toValue:t,duration:s.Common.Duration.Tiny,useNativeDriver:true}),s.timing.easeOut({value:this._opacityValue,toValue:i,duration:s.Common.Duration.Tiny,useNativeDriver:true})]).start():(this._scaleAnimatedValue.setValue(t),this._opacityValue.setValue(i))}render(){const e=[];return this.props.indicatorStyle&&e.push(this.props.indicatorStyle),this.props.indicatorFillStyle===d.Unfilled&&e.push(u.unfilledIndicatorStyle),e.push(this._scaleAnimatedStyle),(0,n.jsx)(a.Animated.View,{style:e})}}t.default=g},216582:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(667294),s=i(496486),a=i(516778),r=i(911009),l=i(218330),c=i(898278),d=i(662602),u=i(677381),g=i(746096),h=i(436237),p=i(861253),S=i(445026),m=i(451070),C=i(404057),y=i(680837),f=i(912770),b=i(915877),_=i(711828),v=i(581760),T={x:15,y:15},P=_.IconSize.size24,k=(0,b.lazyProperties)({arrowContainer:()=>a.Styles.createViewStyle({width:P,height:P,position:"absolute"})}),A=({anchorInfo:e,popupX:t=0,popupY:i=0,anchorPosition:s,popupHeight:l,arrowColor:c=v.Color.blackOverlay50})=>{const d=(({anchorInfo:e,popupX:t,popupY:i,anchorPosition:n,popupHeight:s=0})=>{const l=null==e?void 0:e.x,c=null==e?void 0:e.y,d=null==e?void 0:e.width,u=null==e?void 0:e.height;return(0,o.useMemo)((()=>{if(void 0!==l&&void 0!==t&&void 0!==d&&void 0!==c&&void 0!==i&&void 0!==u)switch(n){case r.PopupAnchorPositon.Top:{const e=l-t+d/2-P/2,i=-P;return a.Styles.createViewStyle({left:e,bottom:i},!1)}case r.PopupAnchorPositon.Bottom:{const e=l-t+d/2-P/2,i=-P,n=[{scaleY:-1}];return a.Styles.createViewStyle({left:e,top:i,transform:n},!1)}case r.PopupAnchorPositon.Right:{const e=Math.max(0,s/2-P/2),t=-P,i=[{rotate:90}];return a.Styles.createViewStyle({left:t,top:e,transform:i},!1)}case r.PopupAnchorPositon.Left:{const e=Math.max(0,s/2-P/2),t=-P,i=[{rotate:-90}];return a.Styles.createViewStyle({right:t,top:e,transform:i},!1)}default:return}}),[l,c,d,u,t,i,n,s])})({anchorPosition:s,popupX:t,popupY:i,anchorInfo:e,popupHeight:l});return d?(0,n.jsx)(a.View,Object.assign({ignorePointerEvents:!0,style:[k.arrowContainer,d]},{children:(0,_.getIcon)(_.SkypeIcon.Nub,_.IconSize.size24,c,{viewBox:"0 0 24 6",width:P,height:6})})):null};class I extends u.default{constructor(){super(...arguments),this._animatedOpacityValue=new a.Animated.Value(0),this._animatedTranslateYValue=new a.Animated.Value(0),this._animatedTranslateXValue=new a.Animated.Value(0),this._animatedTranslateYStyle=a.Styles.createAnimatedViewStyle({transform:[{translateY:this._animatedTranslateYValue}]}),this._animatedTranslateXStyle=a.Styles.createAnimatedViewStyle({transform:[{translateX:this._animatedTranslateXValue}]}),this._animatedOpacityStyle=a.Styles.createAnimatedViewStyle({opacity:this._animatedOpacityValue}),this._onContainerViewRef=e=>{this._popupContainerView=e||void 0}}_buildState(e,t){const i=m.default.horizontalInsets(c.HorizontalInsetDefault);if(t){let t=!1;if(e.getAnchorInfo){const i=e.getAnchorInfo();t=!!i&&!!i.hidden}return{isMeasuringPopup:!0,anchorOffset:0,popupY:0,popupX:0,popupWidth:0,popupHeight:0,constrainedPopupWidth:0,constrainedPopupHeight:0,anchorHidden:t,safeAreaInsets:i}}return{safeAreaInsets:i}}componentDidMount(){super.componentDidMount(),h.log(g.LogTraceArea.CoachMarks,"PopupContainer.componentDidMount"),this.props.disablePositionAnimation&&(this._animatedTranslateYValue.setValue(0),this._animatedTranslateXValue.setValue(0)),this._recalcPosition(),this.props.timeoutMs&&(this._dismissalTimeout=f.default.setTimeout((()=>{this._dismissPopup(this.props.animateDismissal)}),this.props.timeoutMs))}UNSAFE_componentWillUpdate(e,t,i){if(super.UNSAFE_componentWillUpdate(e,t,i),t.anchorPosition!==this.state.anchorPosition)if(e.disablePositionAnimation)this._animatedTranslateYValue.setValue(0),this._animatedTranslateXValue.setValue(0);else{let i=t.anchorPosition;e.getAnimationDirection&&(i=e.getAnimationDirection(t.anchorHidden)),this._positionPopupForPresentation(i)}}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),!this.state.isMeasuringPopup&&t.isMeasuringPopup&&this._presentPopup()}componentWillUnmount(){super.componentWillUnmount(),this._dismissalTimeout&&this._dismissPopup()}updatePosition(e){e&&e.rect&&this.state.popupHeight&&this.state.popupWidth?this._recalcPositionFromLayoutData(e.rect,{width:this.state.popupWidth,height:this.state.popupHeight},!!e.hidden):this._recalcPosition(e)}dismiss(e=!1){this._dismissPopup(e)}render(){var e,t,i,o,s,l,c,d,u;const{showArrow:g,arrowColor:h,leftMargin:p,rightMargin:S}=this.props,m=this.props.heightOverride||this.state.popupHeight,C=this.state.anchorPosition||r.PopupAnchorPositon.Bottom,f=this.props.renderPopup(C,this.state.anchorOffset||0,this.state.constrainedPopupWidth||0,this.state.constrainedPopupHeight||0,this.state.anchorHidden);if(this.props.shareContainerLayoutInfo){const n={width:null!==(e=this.state.popupWidth)&&void 0!==e?e:0,height:null!==(t=this.state.popupHeight)&&void 0!==t?t:0,x:(null!==(i=this.state.popupX)&&void 0!==i?i:0)+(null!==(o=this.props.containerOffsetX)&&void 0!==o?o:0),y:(null!==(s=this.state.popupY)&&void 0!==s?s:0)+(null!==(l=this.props.containerOffsetY)&&void 0!==l?l:0)};this.props.shareContainerLayoutInfo(n)}const b=this._getContext().isRTL,_=this.props.leftMargin&&this.props.rightMargin?a.Styles.createViewStyle({position:"absolute",top:this.state.popupY,right:b?p:S,left:b?S:p,overflow:"visible"},!1):a.Styles.createViewStyle({position:"absolute",top:this.state.popupY,right:b?this.state.popupX:void 0,left:b?void 0:this.state.popupX,alignItems:"flex-start",alignSelf:"flex-start",overflow:"visible",width:this.props.widthOverride,height:this.props.heightOverride},!1);return(0,n.jsx)(a.Animated.View,Object.assign({accessibilityTraits:a.Types.AccessibilityTrait.Dialog,ref:this._onContainerViewRef,style:[_,this._animatedTranslateYStyle],blockPointerEvents:!this.props.allowTaps,ignorePointerEvents:this.props.ignorePointerEvents,importantForAccessibility:this.props.preventFocus?a.Types.ImportantForAccessibility.NoHideDescendants:void 0},{children:(0,n.jsx)(a.Animated.View,Object.assign({style:[y.default.overflowVisible,this._animatedTranslateXStyle],ignorePointerEvents:this.props.ignorePointerEvents},{children:(0,n.jsxs)(a.Animated.View,Object.assign({style:[y.default.overflowVisible,this._animatedOpacityStyle],ignorePointerEvents:this.props.ignorePointerEvents},{children:[f,g&&(0,n.jsx)(A,{anchorPosition:this.state.anchorPosition,anchorInfo:null===(u=null===(d=(c=this.props).getAnchorInfo)||void 0===d?void 0:d.call(c))||void 0===u?void 0:u.rect,popupX:this.state.popupX,popupY:this.state.popupY,popupHeight:m,arrowColor:h})]}))}))}))}_animationPosition(e,t){let i;switch(i=this.props.animationConfig?t?this.props.animationConfig.dismissOffset||T:this.props.animationConfig.presentOffset||T:T,e){case r.PopupAnchorPositon.Left:return{x:-1*i.x,y:0};case r.PopupAnchorPositon.Right:return{x:i.x,y:0};case r.PopupAnchorPositon.Top:return{x:0,y:i.y};default:case r.PopupAnchorPositon.Bottom:return{x:0,y:-1*i.y}}}_positionPopupForPresentation(e){const t=this._animationPosition(e,!1);this._animatedTranslateXValue.setValue(t.x),this._animatedTranslateYValue.setValue(t.y)}_presentPopup(){this._animatePopup({x:0,y:0},1)}_dismissPopupWithAnimation(e,t){this._animatePopup(this._animationPosition(e,!0),0,t)}_animatePopup(e,t,i){const n=this.props.animationConfig&&this.props.animationConfig.duration?this.props.animationConfig.duration:200,o=this.props.animationConfig&&this.props.animationConfig.easing?this.props.animationConfig.easing:a.Animated.Easing.OutBack();a.Animated.parallel([S.default.timing(this._animatedOpacityValue,{toValue:t,duration:n/2,easing:a.Animated.Easing.Out(),useNativeDriver:!0}),S.default.timing(this._animatedTranslateYValue,{toValue:e.y,duration:n,easing:o,useNativeDriver:!0}),S.default.timing(this._animatedTranslateXValue,{toValue:e.x,duration:n,easing:o,useNativeDriver:!0})]).start(i)}_recalcPosition(e){if(!this.isComponentMounted())return;const t=(e,t=!1)=>{var i,n;const o=s.clone(e);null===(n=(i=this.props).shareAnchorLayoutInfo)||void 0===n||n.call(i,e),this.props.containerOffsetX&&(o.x-=this.props.containerOffsetX),this.props.containerOffsetY&&(o.y-=this.props.containerOffsetY),this.isComponentMounted()&&this._popupContainerView&&(this.state.popupWidth&&this.state.popupHeight?this._recalcPositionFromLayoutData(o,{width:this.state.popupWidth,height:this.state.popupHeight},t):d.default.measureLayoutRelativeToWindow((()=>this._popupContainerView)).then((e=>{this.isComponentMounted()&&this._recalcPositionFromLayoutData(o,e,t)}),(e=>{h.warn(g.LogTraceArea.CoachMarks,"Container not measured: "+C.default.errorAsString(e))})))};let i,n;if(e&&e.rect)i=e.rect,n=!!e.hidden;else{const e=this.props.getAnchorInfo?this.props.getAnchorInfo():void 0;if(e&&e.rect)i=e.rect,n=!!e.hidden;else if(this.props.getAnchorElement)return void s.defer((()=>{if(this.props.getAnchorElement){const e=this.props.getAnchorElement();this.isComponentMounted()&&e&&d.default.measureLayoutRelativeToWindow(this.props.getAnchorElement).then(t,(e=>{h.warn(g.LogTraceArea.CoachMarks,"Anchor not measured: "+C.default.errorAsString(e))}))}}))}s.defer((()=>t(i,n)))}_recalcPositionFromLayoutData(e,t,i=!1){if(t&&t.width>0&&t.height>0){if(!(e&&e.width>0&&e.height>0))return void this._dismissPopup();const n=s.extend({},this.state);n.anchorHidden=i,n.isMeasuringPopup&&(n.isMeasuringPopup=!1,n.popupWidth=t.width,n.popupHeight=t.height);const o=this.props.getPopupPositions?this.props.getPopupPositions(i):void 0,a=l.default.popupPosition(e,n.safeAreaInsets,n.popupWidth||0,n.popupHeight||0,o,this._getRootViewId());a&&(n.popupY=a.popupTop,n.popupX=a.popupLeft,n.anchorOffset=a.anchorOffset,n.anchorPosition=a.anchorPosition,n.constrainedPopupWidth=a.constrainedPopupWidth,n.constrainedPopupHeight=a.constrainedPopupHeight),(0,p.default)(n,this.state)||this.setState(n)}}_dismissPopup(e=!1){if(h.log(g.LogTraceArea.CoachMarks,"PopupContainer._dismissPopup, animated: "+e),this._stopDismissalTimeout(),e){let e=this.state.anchorPosition;this.props.getAnimationDirection&&(e=this.props.getAnimationDirection(this.state.anchorHidden)),this._dismissPopupWithAnimation(e,this.props.onDismissPopup)}else this.props.onDismissPopup&&this.props.onDismissPopup()}_stopDismissalTimeout(){this._dismissalTimeout&&(f.default.clearTimeout(this._dismissalTimeout),this._dismissalTimeout=void 0)}}t.default=I},23619:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrefetchedImage=void 0;const n=i(785893),o=i(516778),s=i(217041),a=i(63060),r=i(775893),l=i(882167);class c extends s.ComponentBase{_buildState(e,t){return{prefetchState:l.default.getImagePrefetchState(e.source,!0,t)}}shouldComponentUpdate(e,t){return!a.default.comparator(this.props,e)||!a.default.comparator(this.state,t)&&(this.state.prefetchState!==r.ImagePrefetchState.None||t.prefetchState!==r.ImagePrefetchState.Prefetching)}render(){switch(this.state.prefetchState){case r.ImagePrefetchState.Prefetched:return(0,n.jsx)(o.Image,Object.assign({},this.props));case r.ImagePrefetchState.None:case r.ImagePrefetchState.Prefetching:return this.props.altView(this.props.config)||null;case r.ImagePrefetchState.Failed:return this.props.errorView(this.props.config)||null}}}t.PrefetchedImage=c},178202:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrimaryButton=void 0;const n=i(785893),o=i(967593),s=i(665768),a=i(516778),r=i(711930),l=i(898278),c=i(110117),d=i(915877),u=i(89808),g=i(915415),h=i(101088),p=i(581760),S=i(311010),m=i(711828),C=i(680837),y=i(619675),f=(0,d.lazyProperties)({centeredText:()=>a.Styles.createTextStyle({textAlign:"center"}),backgroundPadding:()=>a.Styles.createViewStyle({paddingLeft:25,paddingRight:25}),backgroundStyleStroke:()=>a.Styles.createViewStyle({borderWidth:1}),titleStyleDarkText:()=>a.Styles.createTextStyle({color:p.Color.gray400}),titleStyleWhiteText:()=>a.Styles.createTextStyle({color:p.Color.white}),innerContainerStyle:()=>a.Styles.createViewStyle({alignItems:"center",justifyContent:"center",height:60,borderRadius:30}),innerContainerMediumStyle:()=>a.Styles.createViewStyle({alignItems:"center",justifyContent:"center",height:40,borderRadius:20}),innerContainerFlexibleHeight:()=>a.Styles.createViewStyle({height:void 0,minHeight:60}),innerContainerFlexibleHeightMedium:()=>a.Styles.createViewStyle({height:void 0,minHeight:40}),floatingActivityIndicator:()=>a.Styles.createViewStyle({position:"absolute",left:10}),iconAndTextContainer:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center"}),iconAndTextVerticalContainer:()=>a.Styles.createViewStyle({flexDirection:"column",alignItems:"center"}),iconAndTextContainerReverse:()=>a.Styles.createViewStyle({flexDirection:"row-reverse"}),backgroundIcon:()=>a.Styles.createViewStyle({position:"absolute",top:8,right:8,opacity:.2}),iconHorizontalMargin:()=>a.Styles.createViewStyle({marginRight:8}),iconHorizontalMarginReverse:()=>a.Styles.createViewStyle({marginLeft:8}),iconTopMargin:()=>a.Styles.createViewStyle({marginBottom:6}),subtitleContainer:()=>a.Styles.createViewStyle({justifyContent:"center"}),textOnBottom:()=>a.Styles.createViewStyle({justifyContent:"flex-end"}),prominentTitle:()=>a.Styles.createTextStyle({fontSize:S.default.fontSize.size18,lineHeight:18}),pretitle:()=>a.Styles.createTextStyle({lineHeight:18,marginBottom:4}),subtitle:()=>a.Styles.createTextStyle({lineHeight:18,marginTop:4}),borderWidth:()=>a.Styles.createViewStyle({borderWidth:1}),secondaryIconAndTextContainer:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center",overflow:"visible"}),secondaryIcon:()=>a.Styles.createViewStyle({marginLeft:8}),image:()=>a.Styles.createViewStyle({width:24,height:24})});class b extends h.default{_buildState(e,t){const i=this._getButtonStyle(e);return{viewStyle:[],textColorInfo:e.buttonConfig&&e.buttonConfig.textColor?{color:e.buttonConfig.textColor,subtitleColor:e.buttonConfig.subtitleTextColor||e.buttonConfig.textColor,colorStyle:a.Styles.createTextStyle({color:e.buttonConfig.textColor},!1)}:this._textInfoForButtonStyle(i,e.colorInfoOverride,f.titleStyleWhiteText,f.titleStyleDarkText),updateOpacityOnHover:!e.buttonConfig||!e.buttonConfig.hoverBackgroundColor,gradientColors:this._getGradientColors(e),hoverGradientColors:i===l.SXButtonStyle.GradientFill?u.default.getHoverGradientColors():void 0}}_updateButton(e,t=!0){super._updateButton(e&&!!this.state.updateOpacityOnHover,t)}render(){var e,t;const i=this.props.buttonSize===l.SXButtonSize.Medium,o=[i?f.innerContainerMediumStyle:f.innerContainerStyle,this.props.allowTextWrap?i?f.innerContainerFlexibleHeightMedium:f.innerContainerFlexibleHeight:void 0,f.backgroundPadding,this.props.innerContainerStyle],d=this._applyButtonConfigStyles();if(d?o.push(d):o.push(this._viewStyleForButtonStyle(this._getButtonStyle(this.props),this.props.colorInfoOverride)),this.props.minHeight){const e=this.props.buttonSize===l.SXButtonSize.Medium?40:60;o.push(a.Styles.createViewStyle({minHeight:this.props.minHeight,borderRadius:(this.props.minHeight>e?this.props.minHeight:e)/2},!1))}let u,h;if(this.props.buttonConfig&&this.props.buttonConfig.hoverBackgroundColor&&this.state.isHovering&&o.push(a.Styles.createViewStyle({backgroundColor:this.props.buttonConfig.hoverBackgroundColor},!1)),this.props.showShadow&&o.push(C.default.shadowLightStyle),this.props.addBorderColor&&o.push([f.borderWidth,a.Styles.createViewStyle({borderColor:this.props.addBorderColor},!1)]),this.props.backgroundStyle&&o.push(a.Styles.createViewStyle(this.props.backgroundStyle,!1)),this.props.disabled&&o.push(this._getDisabledStyle(this._getButtonStyle(this.props))),!this.props.disabled&&this.state.isHovering&&o.push(this._getHoverStyle(this._getButtonStyle(this.props))),this.props.title){const e=[i?S.default.fontStyle.bodyBold:S.default.fontStyle.primaryButtonLarge,this.state.textColorInfo.colorStyle];this.props.maxTitleWidth&&e.push(a.Styles.createTextStyle({maxWidth:this.props.maxTitleWidth},!1)),this.props.allowTextWrap&&(this.props.backgroundIcon||e.push(f.centeredText),this.props.icon&&e.push(C.default.flexOne)),this.props.textStyleDeprecated&&e.push(this.props.textStyleDeprecated),this.props.textStyleOverride&&e.push(this.props.textStyleOverride);const t=this._getTextColorStyle(this._getButtonStyle(this.props));if(t&&e.push(t),this.props.pretitle&&!this.props.subtitle&&e.push(f.prominentTitle),u=(0,n.jsx)(a.Text,Object.assign({style:e,numberOfLines:this.props.allowTextWrap?void 0:1},{children:this.props.title})),this.props.subtitle||this.props.pretitle){const e=[a.Styles.createTextStyle({color:this.state.textColorInfo.subtitleColor},!1)];this.props.allowTextWrap&&!this.props.backgroundIcon&&e.push(f.centeredText);const t=(0,n.jsx)(y.Caption,Object.assign({style:a.Styles.combine([e,f.pretitle]),numberOfLines:this.props.allowTextWrap?void 0:1},{children:this.props.pretitle})),i=(0,n.jsx)(y.Caption,Object.assign({style:a.Styles.combine([e,f.subtitle]),numberOfLines:this.props.allowTextWrap?void 0:1},{children:this.props.subtitle}));u=(0,n.jsxs)(a.View,Object.assign({style:[this.props.backgroundIcon?f.textOnBottom:f.subtitleContainer,C.default.flexOne]},{children:[t,u,i]}))}}u&&(h=this._getAccessoryMarginStyle());let p=this.props.accessoryView?(0,n.jsx)(a.View,Object.assign({style:h},{children:this.props.accessoryView})):null;if(p||(this.props.icon?p=(0,n.jsx)(c.default,{icon:this.props.icon,size:this.props.iconSize||(i?m.IconSize.size16:m.IconSize.size24),color:null!==(e=this.props.iconColor)&&void 0!==e?e:this.state.textColorInfo.color,style:h}):this.props.imageSource&&(p=(0,n.jsx)(a.Image,{source:this.props.imageSource,style:[h,f.image]}))),p)if(u){const e=[this.props.iconPositon===l.SXButtonIconPosition.Top?f.iconAndTextVerticalContainer:f.iconAndTextContainer];this.props.iconPositon===l.SXButtonIconPosition.End&&e.push(f.iconAndTextContainerReverse),u=(0,n.jsxs)(a.View,Object.assign({style:e},{children:[p,u]}))}else u=p;if(this.props.secondaryIcon){const e=[f.secondaryIcon];this.props.secondaryIconMarginLeft&&e.push(a.Styles.createViewStyle({marginLeft:this.props.secondaryIconMarginLeft},!1)),this.props.secondaryIconMarginRight&&e.push(a.Styles.createViewStyle({marginRight:this.props.secondaryIconMarginRight},!1)),u=(0,n.jsxs)(a.View,Object.assign({style:f.secondaryIconAndTextContainer},{children:[u,(0,n.jsx)(c.default,{style:e,icon:this.props.secondaryIcon,size:this.props.secondaryIconSize||this.props.iconSize||(i?m.IconSize.size16:m.IconSize.size24),color:this.props.secondaryIconColor||this.state.textColorInfo.color})]}))}const b=this._getButtonStyle(this.props);let _;this.props.showActivityIndicator&&(_=(0,n.jsx)(g.default,{style:u?f.floatingActivityIndicator:void 0,size:u?l.SXActivityIndicatorSize.ExtraSmall:l.SXActivityIndicatorSize.Small,tintColor:this._indicatorColorForButtonStyle(b,this.props.colorInfoOverride)}));const v=this.state.gradientColors?this._getGradientView(this.props):void 0,T=this.props.disabled&&!this.props.disabledOpacityOverride||this.props.showActivityIndicator,P=this.props.accessibilityLabel||this.props.title||"",k=r.default.buttonAccessibilityInfo(P,!!T),A=this.props.backgroundIcon?(0,n.jsx)(c.default,{icon:this.props.backgroundIcon,size:m.IconSize.size40,color:null!==(t=this.props.iconColor)&&void 0!==t?t:this.state.textColorInfo.color,style:f.backgroundIcon}):null;return(0,n.jsx)(a.Button,Object.assign({ref:this._onButtonRef,style:this.props.style,title:this.props.hoverText?this.props.hoverText:this.props.title,onFocus:this.props.disabled?void 0:this.props.onFocus,onPress:this.props.disabled?void 0:this.props.onPress,onPressIn:this._onPressInBound,onPressOut:this._onPressOutBound,onLongPress:this.props.disabled?void 0:this.props.onLongPress,onHoverStart:this._onHoverStartBound,onHoverEnd:this._onHoverEndBound,onKeyPress:this.props.disabled?void 0:this.props.onKeyPress,disabled:T,accessibilityLabel:k.accessibilityLabel,accessibilityTraits:this.props.accessibilityTraits||k.accessibilityTraits,tabIndex:this.props.tabIndex,disableTouchOpacityAnimation:!0,autoFocus:this.props.autoFocus,importantForAccessibility:this.props.accessibilityHidden?a.Types.ImportantForAccessibility.NoHideDescendants:this.props.importantForAccessibility},{children:(0,n.jsxs)(s.View,Object.assign({ref:this._onAnimatedInnerButtonRef,style:o},{children:[v,A,_,u]}))}))}_getAccessoryMarginStyle(){let e;switch(this.props.iconPositon){case l.SXButtonIconPosition.End:e=this.props.iconHorizontalMargin?a.Styles.createViewStyle({marginLeft:this.props.iconHorizontalMargin},!1):f.iconHorizontalMarginReverse;break;case l.SXButtonIconPosition.Top:e=f.iconTopMargin;break;default:e=this.props.iconHorizontalMargin?a.Styles.createViewStyle({marginRight:this.props.iconHorizontalMargin},!1):f.iconHorizontalMargin}return e}_getGradientView(e){const{backgroundStyle:t,buttonSize:i,gradientDirection:s,innerContainerStyle:a}=e,r=[i===l.SXButtonSize.Medium?f.innerContainerFlexibleHeightMedium:f.innerContainerStyle,C.default.absoluteFill,a];t&&r.push(t);const c=this.state.isHovering?this.state.hoverGradientColors:void 0;return(0,n.jsx)(o.GradientView,{style:r,colors:this.state.gradientColors,secondaryColors:c,direction:null!=s?s:o.GradientDirection.BOTTOM_RIGHT})}_applyButtonConfigStyles(){let e;return this.props.buttonConfig&&(this.props.buttonConfig.backgroundColor||this.props.buttonConfig.borderColor)&&(this.props.buttonConfig.borderColor&&(e=a.Styles.combine(e,f.backgroundStyleStroke),e=a.Styles.combine(e,a.Styles.createViewStyle({borderColor:this.props.buttonConfig.borderColor},!1))),this.props.buttonConfig.backgroundColor&&(e=a.Styles.combine(e,a.Styles.createViewStyle({backgroundColor:this.props.buttonConfig.backgroundColor},!1)))),e}}t.PrimaryButton=b,t.default=b},50831:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressBar=void 0;const n=i(785893),o=i(281878),s=i(967593),a=i(600212);t.ProgressBar=({value:e,totalValue:t,gradientColors:i,gradientDirection:r=s.GradientDirection.TOP_LEFT,borderRadius:l=4,height:c=4})=>{const{gradients:d,mode:u}=(0,a.useSkypeTheme)(),g=e/t*100,h=(0,o.useSUIThemeStyles)((e=>({container:{flexDirection:"row",height:c,flexGrow:1,backgroundColor:e.colors.surfaceSecondary,borderRadius:l,borderColor:u.isAccessible?e.colors.strokeHighContrast:"transparent",borderWidth:u.isAccessible?1:0},gradient:{borderRadius:l,width:`${g}%`,height:"100%"}})),[c,l,g,u.isAccessible]);return(0,n.jsx)(o.Box,Object.assign({style:h.container},{children:(0,n.jsx)(s.GradientView,{style:h.gradient,colors:i||d.secondary,direction:r})}))}},113034:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IndicatorSize=void 0;const n=i(785893),o=i(496486),s=i(643789),a=i(516778),r=i(217041),l=i(336801),c=i(915877),d=i(78780),u=i(680837),g=i(853374);var h,p,S;!function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(h=t.IndicatorSize||(t.IndicatorSize={})),function(e){e[e.None=0]="None",e[e.OneThird=1]="OneThird",e[e.TwoThirds=2]="TwoThirds",e[e.Complete=3]="Complete"}(p||(p={})),function(e){e[e.None=0]="None",e[e.OneThird=1]="OneThird",e[e.OneThirdLooping=2]="OneThirdLooping",e[e.TwoThirds=3]="TwoThirds",e[e.TwoThirdsLooping=4]="TwoThirdsLooping",e[e.Complete=5]="Complete"}(S||(S={}));const m=(0,c.lazyProperties)({small:()=>a.Styles.createViewStyle({width:40,height:40}),medium:()=>a.Styles.createViewStyle({width:60,height:60}),large:()=>a.Styles.createViewStyle({width:80,height:80})});class C extends r.ComponentBase{constructor(){super(...arguments),this._animatedValue=new a.Animated.Value(0)}_buildState(e,t){const i={};let n=p.None;return n=!e.progress||e.progress<.33?p.None:e.progress<.66?p.OneThird:e.progress<1?p.TwoThirds:p.Complete,i.progressStep=n,(t||this.state.progressStep===p.None)&&(i.animationStep=this._animationStepForProgressStep(n)),i}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._shouldAnimate(this.state)&&!this._shouldAnimate(t)&&this._loopAnimation()}_shouldAnimate(e){return e.progressStep!==p.None}_loopAnimation(){if(!this.isComponentMounted())return;const e=this._animationDuration(this.state.animationStep);this._animatedValue.setValue(0),a.Animated.timing(this._animatedValue,{toValue:1,duration:e,easing:a.Animated.Easing.Linear(),isInteraction:!1}).start((()=>{if(this.isComponentMounted()){let e=this.state.animationStep,t=!1,i=!1;switch(this.state.animationStep){case S.OneThird:case S.OneThirdLooping:e=this._animationStepForProgressStep(this.state.progressStep,this.state.progressStep===p.OneThird),i=this.state.progressStep>p.OneThird,t=!0;break;case S.TwoThirds:case S.TwoThirdsLooping:e=this._animationStepForProgressStep(this.state.progressStep,this.state.progressStep===p.TwoThirds),i=this.state.progressStep>p.TwoThirds,t=!0}t&&(e>this.state.animationStep&&i&&(e=this._nextAnimationStep(this.state.animationStep)),this._setAnimationStepAndStartAnimation(e,!0))}}))}_setAnimationStepAndStartAnimation(e,t=!0){this.state.animationStep!==e?this.setState({animationStep:e},(()=>{t&&this._loopAnimation()})):t&&this._loopAnimation()}_animationDuration(e){const t=this._animationInfoForActivityStep(e);return t&&t.durationMs||1e3}_nextAnimationStep(e,t=!0){if(t)switch(e){case S.None:return S.OneThird;case S.OneThird:return S.TwoThirds;case S.TwoThirds:return S.Complete}return e===S.Complete?e:e+1}_animationStepForProgressStep(e,t=!1){switch(e){case p.OneThird:return t?S.OneThirdLooping:S.OneThird;case p.TwoThirds:return t?S.TwoThirdsLooping:S.TwoThirds;case p.Complete:return S.Complete}return S.None}_animationInfoForActivityStep(e){switch(e){case S.OneThird:return d.default.CIRCLE_STEP0;case S.OneThirdLooping:return d.default.CIRCLE_STEP1;case S.TwoThirds:return d.default.CIRCLE_STEP2;case S.TwoThirdsLooping:return d.default.CIRCLE_STEP3;case S.Complete:return d.default.CIRCLE_STEP4;case S.None:return;default:return g.default.switchStatementExhaustiveChecking(e)}}render(){if(this.state.animationStep!==S.None){const e=this._animationInfoForActivityStep(this.state.animationStep);if(!e)return null;const t=[];if(o.isUndefined(this.props.size))t.push(u.default.flexOne);else{const e=this.props.size===h.Small?m.small:this.props.size===h.Medium?m.medium:m.large;t.push(e)}this.props.style&&t.push(this.props.style);const i=l.default.getAssetSourceWithColor(e,this.props.tintColor);return(0,n.jsx)(a.View,Object.assign({style:t},{children:(0,n.jsx)(s.default,Object.assign({},i,{style:u.default.flexOne,progress:this._animatedValue}))}))}return null}}t.default=C},340395:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BarStyle=void 0;const n=i(785893),o=i(705465),s=i(667294),a=i(583367),r=i(249603),l=i(600212),c=i(581760);var d;!function(e){e.DEFAULT="default",e.DARK_CONTENT="dark-content",e.LIGHT_CONTENT="light-content"}(d=t.BarStyle||(t.BarStyle={}));const u=(e,t,i)=>{if(e){const t=(0,o.processColor)(e);null!=t&&"number"==typeof t&&a.default.setNavigationBarColor(t,i)}t&&a.default.setNavigationBarStyle(t,i)},g=e=>{a.default.drawContentBehindSystemBars(null!=e&&e)};t.default=({animated:e=!1,backgroundColor:t,barStyle:i,hidden:a=!1,drawContentBehindSystemBars:h})=>{const{themeColors:p,mode:S}=(0,l.useSkypeTheme)(),m=(e=>{switch(e){case r.BarStyleTheme.Dark:return d.DARK_CONTENT;case r.BarStyleTheme.Light:return d.LIGHT_CONTENT;default:return d.DEFAULT}})(p.defaultStatusBarTheme),C=S.isAccessible&&S.isDark?c.Color.black:p.defaultStatusBarBackgroundColor,y=null!=t?t:C,f=null!=i?i:m;return(0,s.useEffect)((()=>(u(y,f,e),g(h),()=>{var e,t,i,n;if((null===(e=o.StatusBar._propsStack)||void 0===e?void 0:e.length)>0){const e=o.StatusBar._propsStack[o.StatusBar._propsStack.length-1];u(null===(t=null==e?void 0:e.backgroundColor)||void 0===t?void 0:t.value,null===(i=null==e?void 0:e.barStyle)||void 0===i?void 0:i.value,!!(null==e?void 0:e.animated)),g(null===(n=null==e?void 0:e.translucent)||void 0===n?void 0:n.value)}})),[y,f,e,h]),(0,n.jsx)(o.StatusBar,{animated:e,backgroundColor:y,barStyle:f,hidden:a})}},954976:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DividerType=void 0;const n=i(785893),o=i(496486),s=i(516778),a=i(213282),r=i(587134),l=i(547126),c=i(915877),d=i(706250),u=i(680837),g=i(24576);var h;!function(e){e[e.None=0]="None",e[e.All=1]="All",e[e.Between=2]="Between"}(h=t.DividerType||(t.DividerType={}));const p="checkbox",S=(0,c.lazyProperties)({checkboxView:()=>s.Styles.createViewStyle({alignSelf:"flex-start",paddingVertical:6}),checkboxViewFullWidth:()=>s.Styles.createViewStyle({alignSelf:"stretch",paddingVertical:6,alignItems:"flex-start"})});class m extends g.default{constructor(){super(...arguments),this._mountedRefsMap=new d.default,this._onKeyPress=e=>{let t=this.state.focusedIndex;e.keyCode!==l.default.UP&&e.keyCode!==l.default.LEFT||(t-=1),e.keyCode!==l.default.DOWN&&e.keyCode!==l.default.RIGHT||(t+=1),t<0||t>=this.props.radioButtons.length||this.setState({focusedIndex:t})},this._onShouldToggleCheckbox=e=>!e}_buildState(e,t){const i={};return t&&(i.focusedIndex=0),i}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.focusedIndex!==t.focusedIndex&&this.focusItem(this.state.focusedIndex)}focusItem(e=0){if(!(e<0||e>this.props.radioButtons.length-1))if(this.state.focusedIndex===e){const t=this._mountedRefsMap.ref(p+e);t&&t.requestFocus()}else this.setState({focusedIndex:e})}render(){const e=this.props.radioButtons.length,t=o.map(this.props.radioButtons,((t,i)=>{const o=t.key===this.props.selectedKey,s=p+i,l=[],c=[this.props.fullWidth?S.checkboxViewFullWidth:S.checkboxView,this.props.rowStyle,t.rowStyle],d=(0,n.jsx)(a.default,{ref:this._mountedRefsMap.onComponentRef(s),style:c,text:t.text,textStyle:[u.default.flexOne,this.props.textStyle],secondaryText:t.secondaryText,secondaryTextStyle:this.props.secondaryTextStyle,accessibilityLabelPrefix:this.props.accessibilityLabelPrefix,onPress:()=>this.props.onSelected(t.key),onShouldToggleCheckbox:this._onShouldToggleCheckbox,value:o,disable:t.disabled,disableSelectionAnimation:this.props.disableSelectionAnimation},s);if(l.push(d),t.footer&&l.push(t.footer),!this.props.dividerType||this.props.dividerType===h.Between&&i===e-1)return l;const g=(0,n.jsx)(r.default,{colorThemeOverride:this.props.colorThemeOverride,style:this.props.dividerColorStyle},"divider"+i);return l.push(g),l}));return(0,n.jsx)(s.View,Object.assign({style:this.props.style,onKeyPress:this._onKeyPress},{children:t}))}}t.default=m},293194:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SXActionMenuCancel=t.CancelButtonPosition=void 0;const n=i(785893),o=i(496486),s=i(434849),a=i(516778),r=i(219784),l=i(889391),c=i(147204),d=i(898278),u=i(662602),g=i(746096),h=i(436237),p=i(172490),S=i(733754),m=i(330124),C=(i(886045),i(262232),i(581760)),y=i(599543),f=i(622709),b=i(79669),_=i(600212),v=i(360305),T=i(418037),P=i(897634),k=i(853374),A=i(600750),I=i(714021);var w;!function(e){e[e.Default=0]="Default",e[e.End=1]="End"}(w=t.CancelButtonPosition||(t.CancelButtonPosition={})),t.SXActionMenuCancel="cancel";class x{static showWithOptions(e){return h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu showWithOptions"),this._show(e.id,e.config,e.getMenuItems,e.handleMenuCommand,e.menuTitle,e.cancelButtonTitleIOS||S.getString("Global.CancelLabel"),e.onDismiss,e.delay,e.destructiveButtonIndex,e.maintainAnchor,e.maintainTitleForDesktop,e.rootViewId,e.accessibilityAnnouncement,void 0,e.invokingEvent,e.enableMiniContextMenu)}static showGroupWithOptions(e){return h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu showGroupWithOptions"),this._showMenuGroup(e.id,e.config,e.getMenuGroups,e.handleMenuCommand,e.cancelButtonTitleIOS,e.onDismiss,e.delay,e.destructiveButtonIndex,e.maintainAnchor,e.maintainTitleForMobile,e.rootViewId,e.accessibilityAnnouncement,e.invokingEvent)}static showWithActionMenuConfig(e){if(h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu showWithActionMenuConfig"),e.useAlertForDesktop){const t=[],i={text:e.options.cancelButtonTitle||S.getString("Global.CancelLabel"),onPress:e.onCancel,isCancel:!0};e.options.cancelButtonPosition!==w.End&&t.push(i),o.each(e.options.buttons,((i,n)=>{t.push({text:i.text,onPress:()=>{e.callback(i.command)},isSubmit:n===e.options.destructiveButtonIndex})})),e.options.cancelButtonPosition===w.End&&t.push(i);const n=e.options.title||e.options.message||"",s=e.options.title?e.options.message:void 0;return r.default.showWithOptions({title:n,message:s,buttons:t,dialogAccessibilityTitle:e.options.dialogAccessibilityTitle||n,rootViewId:e.rootViewId,suppressModalDismissalEvents:e.suppressModalDismissalEvents,onClickOutside:e.onCancel,allowScrolling:e.allowScrolling}),!0}{const t={anchor:e.options.anchor,positionPriorities:e.options.positionPriorities,useTheme:!0};return x._show(this.actionMenuId(),t,(()=>e.options.buttons),e.callback,e.options.message||e.options.title,e.options.cancelButtonTitle,void 0,0,e.options.destructiveButtonIndex,e.maintainAnchor,void 0,e.rootViewId,e.accessibilityAnnouncement,e.onCancel,e.invokingEvent)}}static dismiss(e,t){c.default.dismissPopup(e,t)}static menuId(e){return this._popupId++,(e||"popup")+this._popupId}static actionMenuId(e){return this._actionMenuId++,(e||"actionmenu")+this._actionMenuId}static _show(e,t,i,n,s,a,r,l,d,u,g,h,p,S,m,C){const y=i(t);if(o.isEmpty(y))return!1;c.default.validatePopupOffset(t.popupOffset);return x._presentMenu((()=>{{const i={key:"menu",title:g?s:void 0,menuItems:y};return this._renderWebActionMenu(e,t,n,[i],r,l,d,h)}}),p)}static _showMenuGroup(e,t,i,n,s,a,r,l,d,u,g,h,p){const S=i(t);if(o.isEmpty(S))return!1;c.default.validatePopupOffset(t.popupOffset);return x._presentMenu((()=>this._renderWebActionMenu(e,t,n,S,a,r,void 0,g)),h)}static _registerElectronContextMenuItemSelectedHandler(e,t,i,n,o){this._electronMenuItemSelectedEventConfigs[o]={id:e,config:i,handleMenuCommand:n,rootViewId:t}}static _registerELectronContextMenuClosedHandler(e,t){this._electronMenuCloseEventConfigs.set(e,t)}static _registerElectronContextMenuListeners(){window.electronApi.ipcProvider.contextMenu.menuItemClick.once((e=>{if(!this._electronMenuItemSelectedEventConfigs[e.requestId])return;const{id:t,config:i,handleMenuCommand:n,rootViewId:o}=this._electronMenuItemSelectedEventConfigs[e.requestId];x._handleWebMenuCommand(e.command,t,i,n,o),delete this._electronMenuItemSelectedEventConfigs[e.requestId]})),window.electronApi.ipcProvider.contextMenu.menuClose.once((e=>{if(this._electronMenuCloseEventConfigs.has(e.requestId)){const t=this._electronMenuCloseEventConfigs.get(e.requestId);t&&t(),this._electronMenuCloseEventConfigs.delete(e.requestId)}else h.error(g.LogTraceArea.GenericUnsafe,"Close menu request with uknown requestId: "+e.requestId);window.electronApi.ipcProvider.contextMenu.menuClose.removeAllListeners(),window.electronApi.ipcProvider.contextMenu.menuItemClick.removeAllListeners()}))}static _presentMenu(e,t){const i=k.default.newCauseId();return h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu._presentMenu, causeId: "+i),t&&(h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu._presentMenu with accessibility annoucement, causeId: "+i),a.Accessibility.announceForAccessibility(t)),e()}static _renderMobileActionMenu(e,i,n,a,r,l,c,d,u,g){const h={anchor:u||!m.default.isUsingStackNavigationContextNoSubscription()||v.default.isTablet()?e.anchor:void 0,buttons:n,title:a,destructiveButtonIndexIOS:d,cancelButtonTitleIOS:r||S.getString("Global.CancelLabel")},p=n=>{const o=n.toLowerCase()===t.SXActionMenuCancel?t.SXActionMenuCancel:n;i(o,e),l&&l(),g&&o===t.SXActionMenuCancel&&g()};return c?o.delay((()=>s.ActionMenu.show(h,p)),c):s.ActionMenu.show(h,p),!0}static _renderWebActionMenu(e,t,i,s,r,l,d,u){let g,h,p;const m=t.colorThemeOverride||T.default.colorThemeNoSubscription();if(t.colors)g=t.colors.strokeColor,h=t.colors.fillColor,p=t.colors.textColor;else if(t.useTheme){const e=_.default.themeColorsForTheme(m);g=P.isDarkTheme(m)?e.dividerColor:void 0,h=e.popoverBackgroundColor,p=e.primaryTextColor}else g=P.isDarkTheme(m)?_.default.themeColorsForTheme(m).dividerColor:C.Color.black,h=C.Color.black,p=C.Color.white;const v={getAnchor:()=>t.anchor(),renderPopup:(r,l,c,m)=>{let C;if(1===s.length){const r=s[0];if(!o.isUndefined(d)){const e=r.menuItems[d];e&&(e.isDestructiveButton=!0)}C=(0,n.jsx)(y.default,Object.assign({},t.menuStyles,{title:r.title,menuItems:r.menuItems,onSelectItem:n=>this._handleWebMenuCommand(n,e,t,i,u),menuTextStyles:r.menuTextStyles||a.Styles.createTextStyle({color:p},!1),menuButtonStyles:r.menuButtonStyles,focusFirst:!0}))}else s.length>1&&(C=(0,n.jsx)(f.default,Object.assign({},t.menuStyles,{sections:s,onSelectItem:n=>this._handleWebMenuCommand(n,e,t,i,u),menuTextStyles:a.Styles.createTextStyle({color:p},!1)})));return t.popupMaxWidth&&(C=(0,n.jsx)(a.View,Object.assign({style:a.Styles.createViewStyle({maxWidth:t.popupMaxWidth},!1)},{children:C}))),(0,n.jsx)(b.default,Object.assign({disableContextMenu:t.popupDisableContextMenu,anchorPosition:r,anchorOffset:l,popupWidth:c,popupHeight:m,strokeColor:g,fillColor:h,offset:t.popupOffset,popupBeakHeight:t.popupBeakSize?t.popupBeakSize.height:void 0,popupBeakWidth:t.popupBeakSize?t.popupBeakSize.width:void 0,popupAccessibilityTitle:S.getString("Global.MoreOptions"),skipPopupAutoFocus:!0},{children:C}))},positionPriorities:t.positionPriorities||["top","bottom"],onDismiss:r,dismissIfShown:!0,rootViewId:u};return c.default.showPopup(v,e,l)}static _renderElectronActionMenu(e,t,i,n,s,r,c){const m=o.filter(t,(e=>e.menuItems.length>0));if(!m.length)return!1;const C=e=>{if(o.isEmpty(e.text))return"";if(c){if(e.command===A.CommandTypes[A.CommandTypes.SearchSelection])return S.getString("StreamItem.ActionSearch");if(e.command===A.CommandTypes[A.CommandTypes.QuoteSelection])return S.getString("StreamItem.ActionReply")}return e.text.replace("&","&&")},y=e.colorThemeOverride||T.default.colorThemeNoSubscription(),f=P.isDarkTheme(y),b=[];let _,v;o.each(m,((t,i)=>{const n=o.map(t.menuItems,(t=>{return{text:C(t),group:i,type:t.selectableType&&t.selectableType===d.SXMenuItemSelectableType.Checkbox?"checkbox":void 0,checked:t.selected,disabled:t.disabled,accelerator:t.shortcut?p.default.acceleratorForKeyboardShortcut(t.shortcut):void 0,command:t.command,icon:(n=t.icon,n&&e.useTheme&&f?"Dark"+n:null==n?void 0:n.toString())};var n}));b.push(...n)}));const k=r;!k||o.isUndefined(k.pageX)||o.isUndefined(k.pageY)||(_=k.pageX,v=k.pageY);const w=()=>{if(h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu.showContextMenu, requestId: "+i),a.UserInterface.isNavigatingWithKeyboard()){const t=e.anchor();if(l.default.getS4LUiFeaturesNoSubscription().useNativeContextMenus&&t)return void u.default.measureLayoutRelativeToWindow(e.anchor).then((e=>{const t=e?{x:Math.round(e.x+e.width/2),y:Math.round(e.y+e.height/2),zoomFactor:window.electronApi.getZoomFactor()}:void 0,o={menuOptions:b,options:t,requestId:i,windowId:n};h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu - Navigated with keyboard. Calling IPC method showGenericPopupMenu(), requestId: "+i),window.electronApi.ipcProvider.contextMenu.showGenericPopupMenu.send(o)}),(e=>{h.warn(g.LogTraceArea.GenericUnsafe,"SXActionMenu not measured: "+e.toString())}))}const t={x:_,y:v,zoomFactor:window.electronApi.getZoomFactor()};if(1===(null==b?void 0:b.length)&&b[0].command===A.CommandTypes[A.CommandTypes.Copy])return;const o={menuOptions:b,options:t,requestId:i,windowId:n};h.log(g.LogTraceArea.GenericUnsafe,"SXActionMenu - Navigated with mouse. Calling IPC method showGenericPopupMenu(), requestId: "+i),h.track(new I.ContextMenuTelemetryEvents(I.ContextMenuAction.Shown)),window.electronApi.ipcProvider.contextMenu.showGenericPopupMenu.send(o)};return s?o.delay(w,s):w(),!0}static _handleWebMenuCommand(e,t,i,n,o){x.dismiss(t,o),n(e,i)}static _flattenMenu(e){const t=[];return o.each(e,(e=>t.push(...e.menuItems))),t}}x._popupId=0,x._actionMenuId=0,x._electronMenuCloseEventConfigs=new Map,x._electronMenuItemSelectedEventConfigs={},t.default=x},915415:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(217041),a=i(250940),r=i(889391),l=i(898278),c=i(581760);class d extends s.ComponentBase{_buildState(e,t){return{useRXIndicator:e.useRXIndicator||!r.default.getS4LUiFeatures().jsonAnimationEnabled}}render(){if(this.state.useRXIndicator){let e;switch(this.props.size){case l.SXActivityIndicatorSize.ExtraSmall:e="tiny";break;case l.SXActivityIndicatorSize.Medium:e="medium";break;case l.SXActivityIndicatorSize.Large:e="large";break;default:case l.SXActivityIndicatorSize.Small:e="small"}return(0,n.jsx)(o.ActivityIndicator,{style:this.props.style,size:e,color:this.props.tintColor||c.Color.white,deferTime:this.props.deferTimeMs})}{const e={size:this.props.size,tintColor:this.props.tintColor,deferTimeMs:this.props.deferTimeMs,style:this.props.style};return(0,n.jsx)(a.default,Object.assign({},e))}}}t.default=d},22222:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(898278),s=i(178202),a=i(536595),r=i(24576),l=i(889391);class c extends r.default{constructor(){super(...arguments),this._onButtonTertirarytRef=e=>{this._button=e||void 0},this._onPrimaryButtonRef=e=>{this._button=e||void 0}}_buildState(e,t){return{enableRefreshedPalette:l.default.getS4LUiFeatures().enableRefreshedPalette}}requestFocus(){this._button&&this._button.requestFocus&&this._button.requestFocus()}render(){const e=this._useAccessibleTheme()?function(e,t){const i=d(e,t);switch(i){case o.SXButtonStyle.ColorStroke:return e?o.SXButtonStyle.LightStroke:o.SXButtonStyle.DarkStroke;case o.SXButtonStyle.ColorFill:case o.SXButtonStyle.BlueFill:case o.SXButtonStyle.GradientFill:case o.SXButtonStyle.AgnosticGradientFill:return e?o.SXButtonStyle.LightFill:o.SXButtonStyle.DarkFill;default:return i}}(this._useDarkTheme(),this.props.buttonStyle):d(this._useDarkTheme(),this.props.buttonStyle),t=(this.state.enableRefreshedPalette||this.props.disabledOpacityOverride)&&this._useAccessibleTheme();return this.props.buttonSize===o.SXButtonSize.Small?(0,n.jsx)(a.default,Object.assign({},this.props,{disabledOpacityOverride:t,ref:this._onButtonTertirarytRef,buttonStyle:e})):(0,n.jsx)(s.default,Object.assign({},this.props,{disabledOpacityOverride:t,ref:this._onPrimaryButtonRef,buttonStyle:e}))}}function d(e,t){switch(t){case o.SXButtonStyle.ThemeFill:return e?o.SXButtonStyle.LightFill:o.SXButtonStyle.DarkFill;case o.SXButtonStyle.ThemeStroke:return e?o.SXButtonStyle.LightStroke:o.SXButtonStyle.DarkStroke;case o.SXButtonStyle.ThemeNoBackground:return e?o.SXButtonStyle.LightNoBackground:o.SXButtonStyle.DarkNoBackground;case void 0:return o.SXButtonStyle.GradientFill;default:return t}}t.default=c},101088:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(665768),o=i(516778),s=i(123606),a=i(898278),r=i(746096),l=i(436237),c=i(915877),d=i(89808),u=i(581760),g=i(853374),h=i(589667),p=i(24576),S=(0,c.lazyProperties)({backgroundStyleStroke:()=>o.Styles.createViewStyle({borderWidth:1}),backgroundStyleDark:()=>o.Styles.createViewStyle({backgroundColor:u.Color.gray400}),backgroundStyleWhite:()=>o.Styles.createViewStyle({backgroundColor:u.Color.white}),backgroundStyleBlue:()=>o.Styles.createViewStyle({backgroundColor:u.Color.blue}),backgroundStyleLightStroke:()=>o.Styles.createViewStyle({borderColor:u.Color.white}),backgroundStyleDarkStroke:()=>o.Styles.createViewStyle({borderColor:u.Color.gray400})});class m extends p.default{constructor(){super(...arguments),this._pressed=!1,this._onAnimatedInnerButtonRef=e=>{this._animatedInnerButton=e||void 0},this._onButtonRef=e=>{this._button=e||void 0},this._onHoverEndBound=e=>{this._onHoverEnd(e)},this._onHoverStartBound=e=>{this._onHoverStart(e)},this._onPressInBound=()=>{this._onPressIn()},this._onPressOutBound=()=>{this._onPressOut()}}requestFocus(){this._button&&this._button.requestFocus()}_indicatorColorForButtonStyle(e,t){switch(e){case a.SXButtonStyle.BlueFill:case a.SXButtonStyle.ColorFill:case a.SXButtonStyle.LightStroke:case a.SXButtonStyle.DarkFill:case a.SXButtonStyle.LightNoBackground:case a.SXButtonStyle.GradientFill:case a.SXButtonStyle.AgnosticGradientFill:return u.Color.white;case a.SXButtonStyle.ColorStroke:return t?this._accentColor(t):d.default.getPrimaryColorNoSubscription();default:case a.SXButtonStyle.LightFill:case a.SXButtonStyle.DarkStroke:case a.SXButtonStyle.DarkNoBackground:return u.Color.gray400}}_intOnPressIn(e,t){this.props.disabled||this.props.disablePressIn||(this._updateButton(!0,e),this._pressed=!0,t&&t())}_intOnPressOut(e){this._pressed&&(this._updateButton(!1,e),this._pressed=!1)}_internalUpdateButton(e,t=!0){if(this._animatedInnerButton&&(this._animation&&this._animation.stop(),t)){const t=g.default.newCauseId();l.log(r.LogTraceArea.SXAnimated,"SXButtonBase._internalUpdateButton causeId: "+t),this._animation=this._animatedInnerButton.getAnimation({scale:{toValue:e,easing:n.Easing.SkypeExpoInOut5,duration:n.Common.Duration.Tiny}},t),this._animation.start((()=>{delete this._animation}))}}_onHoverEnd(e){this._intOnPressOut(!0),this.setState({isHovering:!1}),this.props.onHoverEnd&&this.props.onHoverEnd(e)}_onHoverStart(e){this.setState({isHovering:!0}),this._intOnPressIn(!1,(()=>{this.props.onHoverStart&&this.props.onHoverStart(e)}))}_onPressIn(){this._intOnPressIn(!0)}_onPressOut(){this._intOnPressOut(!0)}_textInfoForButtonStyle(e,t,i,n){switch(e){case a.SXButtonStyle.BlueFill:case a.SXButtonStyle.ColorFill:case a.SXButtonStyle.LightStroke:case a.SXButtonStyle.DarkFill:case a.SXButtonStyle.LightNoBackground:case a.SXButtonStyle.GradientFill:case a.SXButtonStyle.AgnosticGradientFill:return{color:u.Color.white,subtitleColor:u.Color.gray100,colorStyle:i};case a.SXButtonStyle.ColorStroke:const e=t?this._accentColor(t):d.default.getPrimaryColor();return{color:e,subtitleColor:e,colorStyle:t?o.Styles.createTextStyle({color:e},!1):d.default.getPrimaryTextColorStyle()};default:case a.SXButtonStyle.LightFill:case a.SXButtonStyle.DarkStroke:case a.SXButtonStyle.DarkNoBackground:return{color:u.Color.gray400,subtitleColor:u.Color.gray300,colorStyle:n}}}_updateButton(e,t=!0){const i=e?.9:1;this._internalUpdateButton(i,t)}_viewStyleForButtonStyle(e,t){const i=this._getRefreshedBackgroundStyle(),n=this._getRefreshedStrokeStyle();switch(e){case a.SXButtonStyle.ColorFill:let e;return e=t?s.backgroundColorStyleForColorInfo(t):o.Styles.createViewStyle({backgroundColor:d.default.getPrimaryColorNoSubscription()},!1),i?[i]:[e];case a.SXButtonStyle.ColorStroke:let r;if(t){const e=this._accentColor(t);r=o.Styles.createViewStyle({borderColor:e},!1)}else r=o.Styles.createViewStyle({borderColor:d.default.getPrimaryColorNoSubscription()},!1);return n?[S.backgroundStyleStroke,n]:[S.backgroundStyleStroke,r];case a.SXButtonStyle.LightStroke:return n?[S.backgroundStyleStroke,n]:[S.backgroundStyleStroke,S.backgroundStyleLightStroke];case a.SXButtonStyle.DarkFill:return i?[i]:[S.backgroundStyleDark];case a.SXButtonStyle.DarkStroke:return n?[S.backgroundStyleStroke,n]:[S.backgroundStyleStroke,S.backgroundStyleDarkStroke];case a.SXButtonStyle.BlueFill:return[S.backgroundStyleBlue];case a.SXButtonStyle.LightNoBackground:case a.SXButtonStyle.DarkNoBackground:case a.SXButtonStyle.GradientFill:case a.SXButtonStyle.AgnosticGradientFill:return[];case a.SXButtonStyle.Custom:return[S.backgroundStyleWhite];case a.SXButtonStyle.LightFill:return i?[i]:[S.backgroundStyleWhite];default:return[S.backgroundStyleWhite]}}_getAgnosticGradientColors(e){const{agnosticGradientColor:t}=e;if((0,h.isAgnosticGradientColor)(t))return(0,h.getButtonsAgnosticGradientFillColor)(t)}_getCustomGradientColors(e){return 2===e.length?e:1===e.length?this._getStandardGradientColors(e[0]):void 0}_getStandardGradientColors(e){const t=u.GradientStopColorsByMainColor[e];if(t)return[t.gradientcolor1,t.gradientcolor2]}_getGradientColors(e){const{buttonStyle:t,colorInfoOverride:i}=e;return(null==i?void 0:i.colors)?this._getCustomGradientColors(i.colors):t===a.SXButtonStyle.AgnosticGradientFill?this._getAgnosticGradientColors(e):t===a.SXButtonStyle.GradientFill?d.default.getButtonGradientColors():void 0}_getButtonStyle(e){var t;return null!==(t=e.buttonStyle)&&void 0!==t?t:a.SXButtonStyle.GradientFill}_accentColor(e){return s.accentColor(e)}_getRefreshedBackgroundStyle(){if(this._useAccessibleTheme())return o.Styles.createViewStyle({backgroundColor:this._themeColors.iconPrimary},!1)}_getRefreshedStrokeStyle(){if(this._useAccessibleTheme())return o.Styles.createViewStyle({borderColor:this._themeColors.strokeAccent},!1)}_getHoverStyle(e){if(this._useAccessibleTheme())switch(e){case a.SXButtonStyle.DarkStroke:case a.SXButtonStyle.LightStroke:case a.SXButtonStyle.ColorStroke:case a.SXButtonStyle.DarkFill:case a.SXButtonStyle.LightFill:case a.SXButtonStyle.ColorFill:return o.Styles.createViewStyle({backgroundColor:this._themeColors.surfaceInteractive},!1);default:return}}_getDisabledStyle(e){if(this._useAccessibleTheme())switch(e){case a.SXButtonStyle.DarkStroke:case a.SXButtonStyle.LightStroke:case a.SXButtonStyle.ColorStroke:return o.Styles.createViewStyle({borderColor:this._themeColors.surfaceDisabled},!1);case a.SXButtonStyle.DarkFill:case a.SXButtonStyle.LightFill:case a.SXButtonStyle.ColorFill:return o.Styles.createViewStyle({backgroundColor:this._themeColors.surfaceDisabled},!1);default:return}}_getTextColorStyle(e){var t;if(!this._useAccessibleTheme()||(null===(t=this.props.buttonConfig)||void 0===t?void 0:t.textColor))return;let i="";switch(e){case a.SXButtonStyle.DarkStroke:case a.SXButtonStyle.LightStroke:i=this.props.disabled?this._themeColors.textDisabled:this.state.isHovering?this._themeColors.textOnColor:this._themeColors.textInteractive;break;case a.SXButtonStyle.DarkFill:case a.SXButtonStyle.LightFill:i=this._themeColors.textOnColor;break;case a.SXButtonStyle.DarkNoBackground:case a.SXButtonStyle.LightNoBackground:i=this.props.disabled?this._themeColors.textDisabled:this.state.isHovering?this._themeColors.textInteractive:this._themeColors.textPrimary;break;default:return}return o.Styles.createTextStyle({color:i},!1)}}t.default=m},836029:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(174958),s=i(496486),a=i(516778),r=i(217041),l=i(889391),c=i(841190),d=i(265976),u=i(63060),g=i(746096),h=i(436237),p=i(971349),S=i(17791),m=i(404057),C=i(640363),y=i(912770);var f;!function(e){e[e.NothingToLoad=0]="NothingToLoad",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded",e[e.Error=3]="Error"}(f||(f={}));let b={prev:{},cur:{}};S.default.subscribe((()=>{b={prev:{},cur:{}}})),y.default.setInterval((()=>{b.prev=b.cur,b.cur={}}),36e5);class _ extends r.ComponentBase{constructor(){super(...arguments),this._attemptedTokenRefresh=!1,this._onAuthRefreshed=()=>{const e=this.isComponentMounted()&&this.state.loadingState!==f.Loaded;h.log(g.LogTraceArea.ErrorSafeImage,"Auth token refreshed; is going to try one more time=",e,o.pii.Omit(this.props.sourceUrl)),e&&this.setState({loadingState:f.Loading,retryCount:this._retryCount()+1})},this._onImageLoadSuccess=e=>{this.props.sourceUrl&&(this._nativeDimensions=e,this.props.shouldInstrument&&this._telemetryEvent&&(this._telemetryEvent.endLoad(),this._telemetryEvent.setStatus(!0,g.MessagingFailureReason.None),h.track(this._telemetryEvent)),this._onImageLoadCommon()&&(this.props.onLoad&&this.props.onLoad(e),this.setState({loadingState:f.Loaded})))},this._onImageLoadError=e=>{if(!this.props.sourceUrl)return void h.log(g.LogTraceArea.ErrorSafeImage,"There was an error, but there is also no sourceUrl ... ","this should not happen because ErrorSafeImage does not call Image if sourceUrl is empty");const t=this._retryCount();if(h.log(g.LogTraceArea.ErrorSafeImage,"Image failed to load: "+o.pii.Omit(this.props.sourceUrl)+" nth try: "+(t+1)+" error: "+m.default.errorAsString(e)),this.props.shouldInstrument&&this._telemetryEvent&&(this._telemetryEvent.endLoad(),this._telemetryEvent.setStatus(!1,g.MessagingFailureReason.AMSFailure),h.track(this._telemetryEvent)),this._onImageLoadCommon()){if(!this.props.noRetryOnError){if(t<3)return void y.default.setTimeout((()=>{if(this.isComponentMounted()){const i=this.props.sourceUrl?o.pii.Omit(this.props.sourceUrl):"no source";h.log(g.LogTraceArea.ErrorSafeImage,"Retrying image load - previous retryCount=",t,i,m.default.errorAsString(e)),this.setState({retryCount:t+1})}}),1e3);this._attemptedTokenRefresh?h.log(g.LogTraceArea.ErrorSafeImage,"Image already attempted to refresh the token before this error response. Failing.",o.pii.Omit(this.props.sourceUrl)):(this._attemptedTokenRefresh=!0,c.attemptTokenRefresh(this.props.sourceUrl).then(this._onAuthRefreshed,s.noop))}if(!this.props.noRetryOnError||this.props.shouldInstrument){const t=e?m.default.errorAsString(e):void 0;h.log(g.LogTraceArea.ErrorSafeImage,"Image load failed: ",this._telemetryEvent||t&&e&&e.message)}_._cacheBadImage(this.props.sourceUrl),this.props.onError&&this.props.onError(e),this.setState({loadingState:f.Error})}}}_buildState(e,t){const i={skypetokenAllowedDomains:l.default.getS4LMessagingFeatures().skypetokenAllowedDomains},n=this.props;return(t||e.sourceUrl!==n.sourceUrl)&&(i.isDomainTrusted=!!e.sourceUrl&&d.checkIfSafeDomainToRender(e.sourceUrl,e.origin),i.isStaticAsyncMedia=!!e.sourceUrl&&d.isStaticAsyncMediaUrl(e.sourceUrl),i.loadingState=f.NothingToLoad,i.retryCount=0,e.sourceUrl&&(i.loadingState=_._isBadImage(e.sourceUrl)?f.Error:f.Loading)),i.hasNetworkConnectivity=S.default.isNetworkingAvailable(),i}shouldComponentUpdate(e,t){return!u.default.comparator(this.props,e)||t.loadingState!==f.Loaded&&!u.default.comparator(this.state,t)}componentDidMount(){super.componentDidMount(),this._logSourceURL(),this.props.shouldInstrument&&this.props.sourceUrl&&(this._telemetryEvent=new p.ImageLoad(this.props.sourceUrl,this.props.origin,this.props.telemetryProperties),this._telemetryEvent.startLoad()),this.state.loadingState===f.Error&&this.props.onError&&this.props.onError()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.props.sourceUrl!==e.sourceUrl&&this._logSourceURL();!t.hasNetworkConnectivity&&this.state.hasNetworkConnectivity&&this.state.loadingState===f.Error&&this._retryCount()>0&&this.setState({retryCount:0,loadingState:this.props.sourceUrl?f.Loading:f.NothingToLoad})}_logSourceURL(){h.log(g.LogTraceArea.ErrorSafeImage,"Attempting to display image: "+o.pii.Omit(this.props.sourceUrl))}render(){const e=this._retryCount(),t=`image-${this.props.sourceUrl||""}-${e}`;return this.state.loadingState===f.Error||this.props.blockUntrustedDomains&&!this.state.isDomainTrusted?null:(0,n.jsx)(a.Image,{style:this.props.style,source:this.props.sourceUrl,onError:this._onImageLoadError,onLoad:this._onImageLoadSuccess,resizeMode:this.props.resizeMode,resizeMethod:"resize",headers:this._getHeaders(this.props.sourceUrl)},t)}_getHeaders(e){const t={},i=l.default.getConfigSettingsNoSubscription().images.cacheControlRequestHeader;if(i&&(t["Cache-Control"]=i),this.props.isCors&&(t.origin=C.default.getFrontendBaseUrl()),this.props.skypeToken){const i=/^(?:https?:\/\/)?(?:www\.)?([^:\/\n?]+)/gim.exec(e),n=i&&i[1];n&&s.includes(this.state.skypetokenAllowedDomains,n)?(t["X-SkypeToken"]=this.props.skypeToken.rawToken,h.log(g.LogTraceArea.ErrorSafeImage,`Set X-SkypeToken header for image request: ${o.pii.Omit(this.props.sourceUrl)}`)):h.warn(g.LogTraceArea.ErrorSafeImage,`Attempted to send SkypeToken to a non-whitelisted domain: ${n}`)}return Object.keys(t).length>0?t:void 0}_onImageLoadCommon(){return!!this.isComponentMounted()}_retryCount(){return this.state.retryCount||0}getNativeImageSize(){return this._nativeDimensions}static _cacheBadImage(e){b.prev[e]||(h.log(g.LogTraceArea.ErrorSafeImage,`Caching image ${o.pii.Omit(e)} in badImagesCache`,o.pii.Omit(e)),b.cur[e]=!0)}static _isBadImage(e){return b.prev[e]||b.cur[e]}}t.default=_},599543:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(244770),r=i(787720),l=i(898278),c=i(110117),d=i(547126),u=i(915877),g=i(733754),h=i(706250),p=i(89808),S=i(581760),m=i(711828),C=i(619675),y=i(24576),f=(0,u.lazyProperties)({menuContainer:()=>s.Styles.createViewStyle({paddingVertical:5}),menuItemContainer:()=>s.Styles.createButtonStyle({minHeight:32,alignItems:"center",justifyContent:"flex-start",flexDirection:"row",borderLeftWidth:2,borderStyle:"solid",borderColor:S.Color.transparent}),menuItemText:()=>s.Styles.createTextStyle({flex:1,paddingLeft:12,paddingRight:35}),selectedCheckMark:()=>s.Styles.createViewStyle({marginRight:15}),legendText:()=>s.Styles.createTextStyle({marginLeft:15,marginTop:10}),divider:()=>s.Styles.createViewStyle({borderBottomWidth:1,borderStyle:"solid",height:0,marginHorizontal:15}),icon:()=>s.Styles.createImageStyle({height:20,width:20,alignSelf:"center",marginLeft:12}),toggleContainer:()=>s.Styles.createViewStyle({marginTop:10})}),b="menuitem";class _ extends y.default{constructor(){super(...arguments),this._mountedRefsMap=new h.default,this._onKeyPress=e=>{let t=this.state.focusedIndex,i=l.SXMenuNavigationDirection.None;e.keyCode!==d.default.UP&&e.keyCode!==d.default.LEFT||(t-=1,i=l.SXMenuNavigationDirection.Up),e.keyCode!==d.default.DOWN&&e.keyCode!==d.default.RIGHT||(t+=1,i=l.SXMenuNavigationDirection.Down),t<0||t>=this.props.menuItems.length?this.props.shouldReleaseKeyboardFocus&&i!==l.SXMenuNavigationDirection.None&&this.props.shouldReleaseKeyboardFocus(i)&&this.setState({focusedIndex:-1}):this.setState({focusedIndex:t})}}_buildState(e,t){return t?{hoverCommand:void 0,focusedIndex:-1}:{}}componentDidMount(){super.componentDidMount(),this.props.focusFirst&&this.focusFirt()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.focusedIndex!==t.focusedIndex&&this.focusItem(this.state.focusedIndex)}focusFirt(){this.focusItem(0)}focusLast(){this.focusItem(this.props.menuItems.length-1)}focusItem(e=0){if(!(e<0||e>this.props.menuItems.length-1))if(this.state.focusedIndex===e){const t=this._mountedRefsMap.ref(b+e);t&&t.requestFocus()}else this.setState({focusedIndex:e})}render(){const e=s.Types.AccessibilityTrait.MenuItem,t=s.Types.AccessibilityTrait.Menu,i=o.map(this.props.menuItems,((t,i)=>{const o=this._themeStyles,d=[f.menuItemContainer];this.props.menuButtonStyles&&d.push(this.props.menuButtonStyles);const u=[f.menuItemText,o.primaryTextColorStyle];this.props.menuTextStyles&&u.push(this.props.menuTextStyles),t.textStyles&&u.push(t.textStyles),t.command!==this.state.hoverCommand||t.disabled||d.push(o.rowHoverViewStyle),t.isDestructiveButton&&u.push(this._themeStyles.destructiveTextColorStyle);const h=[e];let S=t.text;if(t.selected?S=g.getString("Global.ItemSelectedAccessibilityLabel",{text:S}):t.disabled&&(u.push(o.disabledTextColorStyle),h.push(s.Types.AccessibilityTrait.Disabled)),t.selectableType&&t.selectableType===l.SXMenuItemSelectableType.Toggle)return d.push(s.Styles.createButtonStyle({borderRightWidth:5,maxWidth:300},!1)),(0,n.jsxs)(s.View,Object.assign({style:f.toggleContainer},{children:[t.selected&&(0,n.jsx)(s.View,{style:[f.divider,this._themeStyles.dividerBorderColorStyle]}),(0,n.jsx)(r.default,Object.assign({style:d,isOn:t.selected,accessibilityLabel:S,accessibilityTraits:e,onChange:e=>this._onClickItem(e,t),tabIndex:i===this.state.focusedIndex?0:-1},{children:(0,n.jsx)(C.BodyText,Object.assign({style:u},{children:t.text}))}))]}),t.command);{let e,o;if(t.icon){const i=a.Collection.getMenuIcon(t.icon,this._useDarkTheme());e=(0,n.jsx)(s.Image,{style:f.icon,source:i,resizeMode:"auto"},t.text)}return t.selectableType&&l.SXMenuItemSelectableType.Checkbox&&t.selected&&(o=(0,n.jsx)(c.default,{icon:m.SkypeIcon.Ok,size:m.IconSize.size20,color:p.default.getPrimaryColorNoSubscription(),style:f.selectedCheckMark})),(0,n.jsxs)(s.Button,Object.assign({ref:this._mountedRefsMap.onComponentRef(b+i),style:d,onPress:e=>this._onClickItem(e,t),onHoverStart:()=>this._onMouseEnter(t),onHoverEnd:()=>this._onMouseLeave(t),disabled:t.disabled,tabIndex:i===this.state.focusedIndex?0:-1,accessibilityTraits:h,accessibilityLabel:S},{children:[e,(0,n.jsx)(C.BodyText,Object.assign({style:u},{children:t.text})),o]}),t.command)}})),d=this.props.title?(0,n.jsx)(C.Subtitle,Object.assign({style:f.legendText},{children:this.props.title})):void 0,u=this.props.showDivider?(0,n.jsx)(s.View,{style:[f.divider,this._themeStyles.dividerBorderColorStyle]}):void 0,h=[f.menuContainer],S=(0,n.jsx)(s.View,Object.assign({style:h,accessibilityTraits:t,id:this.props.id,onKeyPress:this._onKeyPress},{children:i}));return d||u?(0,n.jsxs)(s.View,{children:[d,S,u]}):S}_onClickItem(e,t){e.stopPropagation(),!t.disabled&&this.props.onSelectItem&&this.props.onSelectItem(t.command)}_onMouseEnter(e){e.disabled||e.command===this.state.hoverCommand||this.setState({hoverCommand:e.command})}_onMouseLeave(e){e.disabled||e.command!==this.state.hoverCommand||this.setState({hoverCommand:void 0})}}t.default=_},622709:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(898278),r=i(915877),l=i(706250),c=i(599543),d=i(24576),u=(0,r.lazyProperties)({menuContainer:()=>s.Styles.createViewStyle({minWidth:160})}),g="menu";class h extends d.default{constructor(){super(...arguments),this._mountedRefsMap=new l.default,this._menuForDescriptor=(e,t,i)=>(0,n.jsx)(c.default,{ref:this._mountedRefsMap.onComponentRef(g+t),title:e.title,menuItems:e.menuItems,onSelectItem:this.props.onSelectItem,menuTextStyles:e.menuTextStyles||this.props.menuTextStyles,menuButtonStyles:e.menuButtonStyles||this.props.menuButtonStyles,showDivider:t!==i-1,accessibilityTraits:this.props.accessibilityTraits,shouldReleaseKeyboardFocus:e=>this._shouldReleaseKeyboardFocus(e,t,i)},e.key)}_buildState(e,t){return{sections:o.filter(e.sections,(e=>e.menuItems.length>0))}}componentDidMount(){super.componentDidMount();const e=this._mountedRefsMap.ref(g+0);e&&e.focusFirt()}render(){const e=this.state.sections.length,t=o.map(this.state.sections,((t,i)=>this._menuForDescriptor(t,i,e)));return(0,n.jsx)(s.View,Object.assign({style:u.menuContainer},{children:t}))}_shouldReleaseKeyboardFocus(e,t,i){const n=t===i-1;if(0===t&&e===a.SXMenuNavigationDirection.Up||n&&e===a.SXMenuNavigationDirection.Down||e===a.SXMenuNavigationDirection.None)return!1;if(e===a.SXMenuNavigationDirection.Up){const e=t-1,i=this._mountedRefsMap.ref(g+e);i&&i.focusLast()}else if(e===a.SXMenuNavigationDirection.Down){const e=t+1,i=this._mountedRefsMap.ref(g+e);i&&i.focusFirt()}return!0}}t.default=h},79669:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(583367),a=i(560464),r=i(588785),l=i(516778),c=i(147204),d=i(677381),u=i(732235),g=i(139285),h=i(915877),p=i(29130),S=i(581760),m=i(680837),C=S.Color.gray50,y=(0,h.lazyProperties)({popupContainer:()=>l.Styles.createButtonStyle({overflow:"visible",backgroundColor:S.Color.transparent}),popupInnerContainer:()=>l.Styles.createViewStyle({flex:-1,overflow:"visible"}),popupPadding:()=>l.Styles.createViewStyle({paddingTop:1,paddingBottom:6,paddingLeft:0,paddingRight:6}),popupPaddingContentStretchTopBottom:()=>l.Styles.createViewStyle({paddingTop:0,paddingBottom:6,paddingLeft:2,paddingRight:2}),popupPaddingContentStretchLeftRight:()=>l.Styles.createViewStyle({paddingTop:2,paddingBottom:2,paddingLeft:0,paddingRight:6}),popupPaddingTop:()=>l.Styles.createViewStyle({paddingTop:6,paddingBottom:1,paddingLeft:3.5,paddingRight:3.5}),popupPaddingTopStretchContents:()=>l.Styles.createViewStyle({paddingTop:6,paddingBottom:0,paddingLeft:2,paddingRight:2}),popupPaddingRight:()=>l.Styles.createViewStyle({paddingTop:3.5,paddingBottom:3.5,paddingLeft:1,paddingRight:6}),popupPaddingRightStretchContents:()=>l.Styles.createViewStyle({paddingTop:2,paddingBottom:2,paddingLeft:0,paddingRight:6}),popupPaddingLeft:()=>l.Styles.createViewStyle({paddingTop:3.5,paddingBottom:3.5,paddingLeft:6,paddingRight:1}),popupPaddingLeftStretchContents:()=>l.Styles.createViewStyle({paddingTop:2,paddingBottom:2,paddingLeft:6,paddingRight:0}),popupPaddingBottom:()=>l.Styles.createViewStyle({paddingTop:1,paddingBottom:6,paddingLeft:3.5,paddingRight:3.5}),popupPaddingBottomStretchContents:()=>l.Styles.createViewStyle({paddingTop:0,paddingBottom:6,paddingLeft:2,paddingRight:2}),borderSvg:()=>l.Styles.createImageStyle({position:"absolute",left:0,top:0,overflow:"visible"}),overflowHidden:()=>l.Styles.createViewStyle({overflow:"hidden"})}),f="SXPopup";class b extends d.default{constructor(){super(...arguments),this._arbitrateFocus=e=>(0,u.arbitrateModalOrPopupFocus)(f,e),this._handleContextMenu=e=>{this.props.disableContextMenu&&(e.preventDefault(),e.stopPropagation())},this._onPress=e=>{e.preventDefault(),e.stopPropagation()}}_buildState(e,t){t&&c.default.validatePopupOffset(e.offset);const i=t=>o.isUndefined(t)?o.isUndefined(e.borderRadius)?e.popupRadius?e.popupRadius:3:e.borderRadius:t;this._borderBottomLeftRadius=i(e.borderBottomLeftRadius),this._borderBottomRightRadius=i(e.borderBottomRightRadius),this._borderTopLeftRadius=i(e.borderTopLeftRadius),this._borderTopRightRadius=i(e.borderTopRightRadius),this._popupBeakHeight=o.isUndefined(e.popupBeakHeight)?5:e.popupBeakHeight,this._popupBeakWidth=o.isUndefined(e.popupBeakWidth)?15:e.popupBeakWidth,this._fillOpacity=e.fillOpacity||1,this._strokeColor=e.strokeColor||C,this._strokeOpacity=e.strokeOpacity||1,this._shadow=e.shadow||"0px 6px 16px rgba(0, 0, 0, 0.1)";const n=this._getRootViewId();return{svgPathDef:this._buildSvgPath(e),svgStyle:this._buildSvgStyle(e),isPortraitMode:p.default.getDeviceOrientation(n)===s.DeviceOrientation.Portrait}}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.props.onOrientationChanged&&t.isPortraitMode!==this.state.isPortraitMode&&this.props.onOrientationChanged()}render(){const{surfacePrimary:e}=this._getContext().themeColors,t=[y.popupInnerContainer,y.popupPadding];let i;this.props.contentStretchAcrossWidth?t.push(y.popupPaddingContentStretchTopBottom):this.props.contentStretchAcrossHeight&&t.push(y.popupPaddingContentStretchLeftRight);const s=this._isAnchorPositionBottom(this.props),c=this._isAnchorPositionTop(this.props),d=this._isAnchorPositionRight(this.props),u=this._isAnchorPositionLeft(this.props);if(this.props.popupWidth>0&&this.props.popupHeight>0){this.props.contentStretchAcrossWidth||this.props.contentStretchAcrossHeight?s?t.push(y.popupPaddingTopStretchContents):c?t.push(y.popupPaddingBottomStretchContents):d?t.push(y.popupPaddingLeftStretchContents):t.push(y.popupPaddingRightStretchContents):d?t.push(y.popupPaddingLeft):s?t.push(y.popupPaddingTop):c?t.push(y.popupPaddingBottom):t.push(y.popupPaddingRight);const h=[y.borderSvg,this.state.svgStyle];let p=this.props.popupHeight,S=this.props.popupWidth;if(this.props.paddingInPopupCanvas&&((c||s)&&p>this.props.paddingInPopupCanvas?(p-=this.props.paddingInPopupCanvas,h.push(l.Styles.createImageStyle({marginTop:c?this.props.paddingInPopupCanvas:void 0,marginBottom:s?this.props.paddingInPopupCanvas:void 0},!1))):(d||u)&&S>this.props.paddingInPopupCanvas&&(S-=this.props.paddingInPopupCanvas,h.push(l.Styles.createImageStyle({marginRight:d?this.props.paddingInPopupCanvas:void 0,marginLeft:u?this.props.paddingInPopupCanvas:void 0},!1)))),o.isUndefined(this.props.blurBackgroundStyle))i=(0,n.jsx)(r.ImageSvg,Object.assign({style:h,webShadow:this.props.hideShadow?void 0:this._shadow,width:S,height:p},{children:(0,n.jsx)(r.SvgPath,{strokeColor:this._strokeColor,strokeWidth:this._strokeOpacity,strokeOpacity:this._strokeOpacity,fillColor:this.props.fillColor||e,fillOpacity:this._fillOpacity,d:this.state.svgPathDef})}));else{const e=this._staticBackgroundStyle(S,p,!0);i=(0,n.jsx)(g.default,Object.assign({style:[h,e,y.overflowHidden]},{children:(0,n.jsx)(a.BlurView,{style:m.default.flexOne,blurStyle:this.props.blurBackgroundStyle})}))}}const h=[y.popupContainer];this.props.containerStyle&&h.push(this.props.containerStyle),this.props.offset&&h.push(l.Styles.createViewStyle({transform:[{translateX:this.props.offset.x},{translateY:this.props.offset.y}]},!1));const p=this.props.popupAccessibilityTitle;return(0,n.jsxs)(l.View,Object.assign({onPress:this._onPress,importantForAccessibility:this.props.importantForAccessibility,onContextMenu:this._handleContextMenu,style:h,disableTouchOpacityAnimation:!0},{children:[!this.props.hideBackground&&i,(0,n.jsx)(l.View,Object.assign({style:[t,this.props.popupContentStyle],accessibilityId:f,accessibilityLabel:p,accessibilityTraits:l.Types.AccessibilityTrait.Dialog,restrictFocusWithin:!this.props.allowFocusOutside,tabIndex:-1,autoFocus:!this.props.skipPopupAutoFocus,arbitrateFocus:this._arbitrateFocus},{children:this.props.children}))]}))}_staticBackgroundStyle(e,t,i=!1){const{surfacePrimary:n}=this._getContext().themeColors;return l.Styles.createViewStyle({width:e,height:t,borderWidth:i?void 0:this._strokeOpacity,borderColor:i?void 0:this._strokeColor,backgroundColor:i?void 0:this.props.fillColor||n,borderBottomLeftRadius:this._borderBottomLeftRadius,borderBottomRightRadius:this._borderBottomRightRadius,borderTopLeftRadius:this._borderTopLeftRadius,borderTopRightRadius:this._borderTopRightRadius},!1)}_isAnchorPositionTop(e){return"top"===e.anchorPosition}_isAnchorPositionBottom(e){return"bottom"===e.anchorPosition}_isAnchorPositionRight(e){return"right"===e.anchorPosition}_isAnchorPositionLeft(e){return"left"===e.anchorPosition}_buildSvgPath(e){let t=0,i=0,n=e.popupWidth,o=e.popupHeight,s=!0,a=e.anchorOffset;const r=this._isAnchorPositionTop(e),l=this._isAnchorPositionBottom(e),c=this._isAnchorPositionRight(e),d=this._isAnchorPositionLeft(e);return e.paddingInPopupCanvas&&((r||l)&&e.popupHeight>e.paddingInPopupCanvas?o=e.popupHeight-e.paddingInPopupCanvas:(c||d)&&e.popupWidth>e.paddingInPopupCanvas&&(n=e.popupWidth-e.paddingInPopupCanvas)),d?(n-=this._popupBeakHeight,a-=2.5,i+=2.5,o-=2.5,s=!1):c?(t+=this._popupBeakHeight,a-=2.5,i+=2.5,o-=2.5,s=!1):r?(o-=this._popupBeakHeight,a-=2.5,t+=2.5,n-=2.5):l&&(i+=this._popupBeakHeight,a-=2.5,t+=2.5,n-=2.5),a=s?Math.min(a,n-this._popupBeakWidth/2):Math.min(a,o-this._popupBeakWidth/2),a=e.beakOffset?e.beakOffset:a,this._genLineSegment(t+this._borderTopLeftRadius,i,"M")+this._genStraightLineSegmentWithOptionalBeak(n-t-this._borderTopRightRadius-this._borderTopLeftRadius,0,l,a-this._borderTopLeftRadius-this._popupBeakWidth/2,s,1,-1)+this._genLineSegment(this._borderTopRightRadius,0,"c")+this._genLineSegment(this._borderTopRightRadius,this._borderTopRightRadius)+this._genLineSegment(this._borderTopRightRadius,this._borderTopRightRadius)+this._genStraightLineSegmentWithOptionalBeak(0,o-i-this._borderBottomRightRadius-this._borderTopRightRadius,d,a-this._borderTopRightRadius-this._popupBeakWidth/2,s,1,1)+this._genLineSegment(0,this._borderBottomRightRadius,"c")+this._genLineSegment(-this._borderBottomRightRadius,this._borderBottomRightRadius)+this._genLineSegment(-this._borderBottomRightRadius,this._borderBottomRightRadius)+this._genStraightLineSegmentWithOptionalBeak(t-n+this._borderBottomLeftRadius+this._borderBottomRightRadius,0,r,n-this._borderBottomRightRadius-(t+a+this._popupBeakWidth/2),s,-1,1)+this._genLineSegment(-this._borderBottomLeftRadius,0,"c")+this._genLineSegment(-this._borderBottomLeftRadius,-this._borderBottomLeftRadius)+this._genLineSegment(-this._borderBottomLeftRadius,-this._borderBottomLeftRadius)+this._genStraightLineSegmentWithOptionalBeak(0,i-o+this._borderBottomLeftRadius+this._borderTopLeftRadius,c,o-this._borderBottomLeftRadius-(i+a+this._popupBeakWidth/2),s,-1,-1)+this._genLineSegment(0,-this._borderTopLeftRadius,"c")+this._genLineSegment(this._borderTopLeftRadius,-this._borderTopLeftRadius)+this._genLineSegment(this._borderTopLeftRadius,-this._borderTopLeftRadius)+"z"}_genLineSegment(e,t,i=""){return i+e+","+t+" "}_genStraightLineSegmentWithOptionalBeak(e,t,i,n,o,s,a){let r="";if(i)if(o){const t=n*s,i=e-(n+this._popupBeakWidth)*s;r=this._genLineSegment(t,0,"l")+this._genLineSegment(this._popupBeakWidth/2*s,this._popupBeakHeight*a,"l")+this._genLineSegment(this._popupBeakWidth/2*s,-this._popupBeakHeight*a,"l")+this._genLineSegment(i,0,"l")}else{const e=n*a,i=t-(n+this._popupBeakWidth)*a;r=this._genLineSegment(0,e,"l")+this._genLineSegment(this._popupBeakHeight*s,this._popupBeakWidth/2*a,"l")+this._genLineSegment(-this._popupBeakHeight*s,this._popupBeakWidth/2*a,"l")+this._genLineSegment(0,i,"l")}else r=this._genLineSegment(e,t,"l");return r}_buildSvgStyle(e){if(!e.popupWidth||!e.popupHeight)return;const t=this._isAnchorPositionBottom(e),i=this._isAnchorPositionTop(e),n=this._isAnchorPositionRight(e),o=this._isAnchorPositionLeft(e);let s=e.popupHeight,a=e.popupWidth;return e.paddingInPopupCanvas&&((i||t)&&s>e.paddingInPopupCanvas?s-=e.paddingInPopupCanvas:(n||o)&&a>e.paddingInPopupCanvas&&(a-=e.paddingInPopupCanvas)),l.Styles.createImageStyle({width:a,height:s},!1)}}t.default=b},496755:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(47447),s=i(139285),a=i(24576);class r extends a.default{render(){const e=o.UICapabilities.inlineTextFormattingSupported();return(0,n.jsx)(s.HiddenText,Object.assign({style:this.props.style},{children:e?"|":" | "}))}}t.default=r},849776:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(496486),a=i(662602),r=i(677381),l=i(110117),c=i(915877),d=i(581760),u=i(711828),g=i(619675),h=(0,c.lazyProperties)({nametagContainer:()=>o.Styles.createViewStyle({backgroundColor:d.Color.blackOverlay50,borderRadius:5,paddingHorizontal:10,paddingVertical:5,flexDirection:"row",alignItems:"center"}),nameAdditionalStyle:()=>o.Styles.createViewStyle({flexShrink:1}),nameText:()=>o.Styles.createTextStyle({color:d.Color.white,flexShrink:1}),iconLeft:()=>o.Styles.createViewStyle({marginRight:6}),iconRight:()=>o.Styles.createViewStyle({marginLeft:6})}),p={textOverflow:"ellipsis",whiteSpace:"nowrap"};class S extends r.default{constructor(){super(...arguments),this.onKeyPress=e=>a.default.maybeHandleKeyPress(e,(()=>{this.props.onPress&&this.props.onPress(e)}))}render(){const e=this._iconView(this.props.leftIcon,h.iconLeft),t=s.map(this.props.rightIcons,(e=>this._iconView(e,h.iconRight))),i=this.props.ellipseCaption?[h.nameAdditionalStyle,p]:void 0,a=[h.nametagContainer,this.props.ellipseCaption?h.nameAdditionalStyle:void 0,this.props.style],r=this.props.onPress||this.props.onMouseEnter||this.props.onMouseLeave;return(0,n.jsxs)(o.Animated.View,Object.assign({style:a,onPress:this.props.onPress,onKeyPress:this.props.onPress?this.onKeyPress:void 0,accessibilityLabel:this.props.accessibilityLabel,tabIndex:this.props.onPress?0:void 0,accessibilityTraits:this.props.onPress?o.Types.AccessibilityTrait.Button:void 0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,blockPointerEvents:!r},{children:[this.props.leftElement,e,(0,n.jsx)(g.Caption,Object.assign({style:[h.nameText,i,this.props.textColor&&{color:this.props.textColor}]},{children:this.props.displayText})),t]}))}_iconView(e,t){return e?(0,n.jsx)(l.default,{icon:e,color:this.props.textColor?this.props.textColor:d.Color.white,size:u.IconSize.size12,style:t},e.toString()):void 0}}t.default=S},739182:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(898278),a=i(587134),r=i(110117),l=i(915877),c=(i(733754),i(451072)),d=i(915415),u=i(711828),g=i(680837),h=i(619675),p=i(24576),S=(0,l.lazyProperties)({buttonStyle:()=>o.Styles.createButtonStyle({flexDirection:"row",alignSelf:"stretch",alignItems:"center",justifyContent:"flex-start",minHeight:s.ListItem.small.regularHeight}),iconStyleMargin:()=>o.Styles.createViewStyle({marginRight:10}),spinnerStyle:()=>o.Styles.createViewStyle({marginLeft:2,marginRight:12})});class m extends p.default{constructor(){super(...arguments),this._onComponentRef=e=>{this._componentRef=e||void 0},this._onHoverStart=e=>{this.setState({isHovering:!0})},this._onHoverEnd=e=>{this.setState({isHovering:!1})}}_buildState(e,t){return t?{isHovering:!1}:{}}requestFocus(){this._componentRef&&this._componentRef.requestFocus()}render(){const e=this.state.isHovering&&!this.props.disabled&&!this.props.disableHover,t=this.props.style?[S.buttonStyle,this.props.style]:S.buttonStyle,i=[g.default.flexOne];e&&i.push(this._themeStyles.textHoverColorStyle);const l=this.props.subtitle?(0,n.jsx)(h.Subtitle,Object.assign({colorThemeOverride:this._currentTheme},{children:this.props.subtitle})):void 0,p=this.props.hideDivider?void 0:(0,n.jsx)(a.default,{});let m;m=this.props.showSpinner?(0,n.jsx)(d.default,{size:s.SXActivityIndicatorSize.ExtraSmall,tintColor:this._themeColors.primaryTextColor,style:S.spinnerStyle}):(0,n.jsx)(r.default,{icon:this.props.icon,color:e?this._themeColors.iconHoverColor:this._themeColors.primaryIconColor,size:this.props.iconSize?this.props.iconSize:u.IconSize.size24,style:[S.iconStyleMargin,this.props.iconStyle]});let C=this.props.accessibilityLabel||this.props.title;this.props.disabled;const y=this.props.useRegularFont?h.BodyText:h.RowTitle,f=this.props.renderAsListItem?c.default.Button:o.Button;return(0,n.jsxs)(o.View,Object.assign({ref:this._onComponentRef,style:g.default.noncollapsibleView},{children:[(0,n.jsxs)(f,Object.assign({ref:this.props.buttonRef,style:t,onPress:this.props.onPress,onLongPress:this.props.onLongPress,onPressIn:this.props.onPressIn,onPressOut:this.props.onPressOut,title:this.props.title,onHoverStart:this._onHoverStart,onHoverEnd:this._onHoverEnd,accessibilityLabel:C,accessibilityTraits:this.props.accessibilityTraits,tabIndex:this.props.tabIndex,disabled:this.props.disabled},{children:[m,(0,n.jsx)(y,Object.assign({style:i,numberOfLines:2,colorThemeOverride:this._currentTheme},{children:this.props.title})),l]})),p]}))}}t.default=m},724067:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(898278),a=i(677381),r=i(710400),l=i(915877),c=i(451070),d=i(681115),u=i(22222),g=(0,l.lazyProperties)({container:()=>o.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",padding:10,alignItems:"center"})});class h extends a.default{_buildState(e,t){const i={};return i.isKeyboardSeen=r.default.isKeyboardSeen(),i.safeAreaPadding=i.isKeyboardSeen?0:c.default.bottomSafeAreaInset(),i}render(){const e=[g.container];this.state.safeAreaPadding&&e.push(d.default.paddingBottomStyle(this.state.safeAreaPadding));const t=(0,n.jsx)(u.default,{ref:this.props.button.setButtonRef,backgroundStyle:this.props.button.backgroundStyle,icon:this.props.button.icon,iconSize:this.props.button.iconSize,iconHorizontalMargin:this.props.button.iconHorizontalMargin,buttonSize:s.SXButtonSize.Medium,title:this.props.button.text,buttonStyle:this.props.button.buttonStyle,onPress:this.props.button.onPress,disabled:this.props.button.disabled,accessibilityLabel:this.props.button.accessibilityLabel,showActivityIndicator:this.props.button.showActivityIndicator,textStyleOverride:this.props.button.textStyleOverride}),i=this.props.secondaryButton?(0,n.jsx)(u.default,{ref:this.props.secondaryButton.setButtonRef,backgroundStyle:this.props.secondaryButton.backgroundStyle,icon:this.props.secondaryButton.icon,iconSize:this.props.secondaryButton.iconSize,buttonSize:s.SXButtonSize.Medium,title:"",buttonStyle:this.props.secondaryButton.buttonStyle,onPress:this.props.secondaryButton.onPress,accessibilityLabel:this.props.secondaryButton.accessibilityLabel,buttonConfig:this.props.secondaryButton.buttonConfig,style:this.props.secondaryButton.style}):null;return(0,n.jsxs)(o.View,Object.assign({style:e},{children:[t,i]}))}}t.default=h},190631:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SimplePanelHeader=t.HeaderHeightLandscapeSmall=t.HeaderHeightLandscape=t.HeaderHeightSmall=t.HeaderHeight=t.CloseButtonType=t.HeaderPosition=void 0;const n=i(785893),o=i(496486),s=i(583367),a=i(516778),r=i(889391),l=i(47447),c=i(711930),d=i(898278),u=i(898278),g=i(746096),h=i(139285),p=i(913944),S=i(110117),m=i(436237),C=i(915877),y=i(733754),f=i(104735),b=i(29130),_=i(451070),v=i(681115),T=i(915415),P=i(22222),k=i(581760),A=i(640363),I=i(311010),w=i(711828),x=i(734528),N=i(680837),M=i(24576),L=i(853374);var O,D;!function(e){e[e.Default=0]="Default",e[e.Start=1]="Start",e[e.End=2]="End"}(O=t.HeaderPosition||(t.HeaderPosition={})),function(e){e[e.Close=1]="Close",e[e.Back=2]="Back"}(D=t.CloseButtonType||(t.CloseButtonType={}));const R="leftbutton",E="rightbutton";t.HeaderHeight=60,t.HeaderHeightSmall=50,t.HeaderHeightLandscape=60,t.HeaderHeightLandscapeSmall=50;const B={position:"absolute",top:0,left:0,right:0,overflow:"visible",zIndex:1},F=(0,C.lazyProperties)({header:()=>a.Styles.createViewStyle({flexDirection:"row",height:60,alignSelf:"stretch",alignItems:"center"}),headerSmall:()=>a.Styles.createViewStyle({height:50}),headerBorder:()=>a.Styles.createViewStyle({borderBottomWidth:1,borderStyle:"solid"}),headerFloating:()=>a.Styles.createViewStyle(B),headerDesktop:()=>a.Styles.createViewStyle({paddingHorizontal:10}),iconButton:()=>a.Styles.createButtonStyle({flexDirection:"row",justifyContent:"center",alignItems:"center",width:w.IconSize.default,height:w.IconSize.default}),iconButtonLandscape:()=>a.Styles.createViewStyle({height:60,paddingTop:5}),iconButtonLandscapeSmall:()=>a.Styles.createViewStyle({height:50,paddingTop:5}),iconButtonLandscapeMobile:()=>a.Styles.createViewStyle({paddingTop:2}),textButton:()=>a.Styles.createViewStyle({marginHorizontal:10}),titleContainer:()=>a.Styles.createViewStyle({flexGrow:0,flexDirection:"row"}),titleContainerMobileCentered:()=>a.Styles.createViewStyle({height:w.IconSize.default,alignItems:"center",overflow:"visible"}),titleContainerMobile:()=>a.Styles.createViewStyle({height:w.IconSize.default,alignSelf:"center",alignItems:"center",overflow:"visible",flexGrow:1,flexShrink:1}),titleCentered:()=>a.Styles.createTextStyle({textAlign:"center"}),rightControlContainer:()=>a.Styles.createViewStyle({flexDirection:"row",justifyContent:"flex-end"}),rightControlContainerCenterText:()=>a.Styles.createViewStyle({flexGrow:1,flexBasis:0}),leftControlContainer:()=>a.Styles.createViewStyle({width:64,flexDirection:"row",justifyContent:"flex-start"}),leftControlContainerCenterText:()=>a.Styles.createViewStyle({flexGrow:1,flexBasis:0}),leftControlContainerRightNav:()=>a.Styles.createViewStyle({width:48}),controlsContainerDesktop:()=>a.Styles.createViewStyle({paddingBottom:3}),spacer:()=>a.Styles.createViewStyle({width:64,height:w.IconSize.default}),smallSpacer:()=>a.Styles.createViewStyle({width:12}),displayNameDesktopMaxHeight:()=>a.Styles.createTextStyle({maxHeight:54}),backgroundView:()=>[N.default.absoluteFill,a.Styles.createViewStyle({justifyContent:"center",alignItems:"center"})],centeredIcon:()=>a.Styles.createViewStyle({marginRight:10}),centeredTitleWithIcon:()=>a.Styles.createViewStyle({justifyContent:"center",alignItems:"center"}),centeredTitleNameWithIcon:()=>a.Styles.createTextStyle({flex:0})}),V={textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"};class U extends M.default{constructor(){super(...arguments),this._onCenterControlsRef=e=>{this._centerControls=e||void 0},this._onLeftControlRef=e=>{this._leftControl=e||void 0},this._onRightControlRef=e=>{this._rightControl=e||void 0},this._getControl=(e,t)=>{if(e)return e.icon||e.closeButtonType?this._getIconButton(e,t):this._getTextButton(e,t)},this._getTextButton=(e,t)=>e.text?(0,n.jsx)(P.default,{ref:e.setButtonRef,style:F.textButton,buttonStyle:e.textButtonStyle,buttonSize:d.SXButtonSize.Small,title:e.text,icon:e.textButtonIcon,showActivityIndicator:e.showActivityIndicator,onPress:e.onPress,onHoverStart:e.onHoverStart,onHoverEnd:e.onHoverEnd,disabled:e.disabled,accessibilityLabel:e.accessibilityLabel,accessibilityTraits:e.accessibilityTraits,allowTextWrap:!1,overrideStyle:this.props.overrideStyle},t):void 0,this._onIconButtonClosePress=()=>{const e=L.default.newCauseId();m.log(g.LogTraceArea.Navigation,"SimplePanelHeader.onPress, causeId: "+e),f.default.goBack(e,this._getContext())},this._getIconButton=(e,t)=>{if(this._getRootViewType()===u.RootViewType.NativeWindow&&e.closeButtonType===D.Close)return;const i=this.state.isLandscape?w.IconSize.size20:w.IconSize.size24,o=[F.iconButton];let s;this.state.isLandscape&&(o.push(this.state.isSmallDevice?F.iconButtonLandscapeSmall:F.iconButtonLandscape),this.state.isMobileScreenSize&&o.push(F.iconButtonLandscapeMobile)),o.push(e.buttonStyle),e.onPress?s=e.onPress:e.closeButtonType&&(s=this._onIconButtonClosePress);let r="";if(e.title?r=e.title:e.closeButtonType===D.Close?r=y.getString("Global.CloseButtonTitle"):e.closeButtonType===D.Back&&(r=y.getString("Global.BackButtonTitle")),e.showActivityIndicator)return(0,n.jsx)(a.View,Object.assign({style:o,onPress:e.onPress,title:r},{children:(0,n.jsx)(T.default,{size:d.SXActivityIndicatorSize.Small,tintColor:e.color||k.Color.gray300,useRXIndicator:!0})}),t);{let a;return e.icon?a=e.icon:e.closeButtonType===D.Close?a=x.closeIcon():e.closeButtonType===D.Back&&(a=x.backIcon()),a?(0,n.jsx)(p.default,{ref:e.setButtonRef,disabled:e.disabled,style:o,hoverStyle:e.buttonHoverStyle,onPress:s,onFocus:e.onFocus,icon:a,size:i,color:e.color||this._themeColors.headerIconColor,hoverColor:e.hoverColor||this._themeColors.iconHoverColor,title:r,accessibilityLabel:e.accessibilityLabel,accessibilityTraits:e.accessibilityTraits,flipIcon:e.flipIcon},t):void 0}}}_buildState(e,t){const i=this._getContext(),n=this._getRootViewId(),o=b.default.getDeviceOrientation(n);let l=!!e.leavePaddingForStatusBar;!1!==e.leavePaddingForStatusBar&&a.StatusBar.isOverlay()&&_.default.leavePaddingForStatusBar()&&(i.isPresentedInDesktopLeftNav||i.isPresentedInDesktopRightNav||i.isPresentedInManagedModal?l=!0:i.isPresentedInMobileSheet||i.isPresentedInDesktopSubview||(l=!0));let c=i.isPresentedInDesktopSubview?void 0:_.default.horizontalInsets(d.HorizontalInsetDefault);if(c&&(e.headerPosition===O.Start||e.headerPosition===O.End))switch(e.headerPosition){case O.Start:c={left:c.left,right:0};break;case O.End:c={left:0,right:c.right}}return{isMobileScreenSize:b.default.isMobileScreenSize(n),leavePaddingForStatusBar:l,statusBarHeight:_.default.statusBarHeight(),isLandscape:o===s.DeviceOrientation.Landscape&&!this._getContext().isPresentedInDesktopContentPanel||!!this._getContext().isPresentedInDesktopSubview,isSmallDevice:b.default.isSmallDevice(n),deviceOrientation:o,safeAreaHorizontalInsets:c,enableRefreshedPalette:r.default.getS4LUiFeatures().enableRefreshedPalette}}componentDidMount(){if(super.componentDidMount(),this.props.dontFocusOnMount||o.isUndefined(this.props.titleViewTabIndexDeprecated))return;const e=()=>{this.isComponentMounted()&&this._centerControls&&(m.log(g.LogTraceArea.Navigation,"SimplePanelHeader.componentDidMount, focus center controls"),this._centerControls.requestFocus(),this.props.shouldAnnouncePanelNameOnMount&&this.props.panelName&&a.Accessibility.announceForAccessibility(this.props.panelName))};this.props.delayHeaderFocus?o.delay(e,100):o.defer(e)}requestFocus(){this._centerControls&&this._centerControls.requestFocus()}render(){var e;const t=this._getContext(),i=!!t.isPresentedInDesktopSubview,s=this._isPresentedInTabletLeftNav()||this._isPresentedInTabletRightNav(),d=!!t.isPresentedInDesktopRightNav,u=!!t.isPresentedInMobileSheet,g=!!t.isPresentedInSplitView,p=!!t.isPresentedInManagedModal;t.isPresentedInDesktopContentPanel;let m=!1;m=o.isUndefined(this.props.useCenteredControls)?u||i&&!d&&!g&&!p:this.props.useCenteredControls;const C=[F.header];let y;this.props.backgroundColor?C.push(a.Styles.createViewStyle({backgroundColor:this.props.backgroundColor},!1)):this.props.useTransparentBackground?C.push(N.default.transparentBackground):C.push(this._themeStyles.primaryBackgroundColorStyle),this.props.hideBottomBorder||g||(C.push(F.headerBorder),C.push(this._themeStyles.headerShadowBorderColorStyle)),(this.state.isSmallDevice||g)&&C.push(F.headerSmall),this.state.leavePaddingForStatusBar&&!this.props.removeHeaderPadding&&(C.push(v.default.heightStyle((this.state.isSmallDevice?50:60)+this.state.statusBarHeight)),y=v.default.paddingTopStyle(this.state.statusBarHeight),C.push(y)),this.props.floating&&C.push(F.headerFloating),!i||d||g||p||C.push(F.headerDesktop),this.state.safeAreaHorizontalInsets&&v.default.hasHorizontalSafeAreas(this.state.safeAreaHorizontalInsets)&&C.push(v.default.horizontalPaddingStyle(this.state.safeAreaHorizontalInsets)),this.props.style&&C.push(this.props.style),this.state.enableRefreshedPalette&&!this.props.useTransparentBackground&&C.push(a.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfacePrimary},!1));const f=[N.default.flexOne,this._themeStyles.headerTextColorStyle];let b;if(m&&f.push(F.titleCentered),!i||s||g||p?u||s||p?f.push(this.props.useSmallFont?I.default.fontStyle.panelHeaderLandscape:I.default.fontStyle.panelHeader):this.state.isLandscape?f.push(I.default.fontStyle.panelHeaderLandscape):f.push(this.props.useSmallFont?I.default.fontStyle.panelHeaderLandscape:I.default.fontStyle.panelHeader):f.push(this.props.useSmallFont?I.default.fontStyle.bodySmallBoldDeprecated:I.default.fontStyle.h5),this.props.titleTextStyle&&f.push(this.props.titleTextStyle),this.props.panelName){const e=[F.titleContainer];m||e.push(F.titleContainerMobile),this.props.textOverflowElipsis&&e.push(V);const t=c.default.headerAccessibilityInfo(this.props.accessibleName||this.props.panelName),i=this.props.allowTextWrap?2:1;i>1&&!l.UICapabilities.textNumberOfLinesSupported()&&f.push(F.displayNameDesktopMaxHeight),this.props.centeredIcon&&(e.push(F.centeredTitleWithIcon),f.push(F.centeredTitleNameWithIcon)),b=(0,n.jsxs)(a.View,Object.assign({tabIndex:this.props.titleViewTabIndexDeprecated,ref:this._onCenterControlsRef,style:e,accessibilityLabel:t.accessibilityLabel,importantForAccessibility:a.Types.ImportantForAccessibility.Yes,accessibilityTraits:t.accessibilityTraits,accessibilityLiveRegion:this.props.centralControlAccessibilityLiveRegion},{children:[this.props.centeredIcon&&(0,n.jsx)(S.default,{color:this._themeColors.primaryIconColor,size:w.IconSize.size24,style:F.centeredIcon,icon:this.props.centeredIcon}),(0,n.jsx)(h.HiddenText,Object.assign({style:f,numberOfLines:i},{children:this.props.panelName}))]}),"centercontrols")}else this.props.titleView&&(b=this.props.titleView);let _=[],T=!1;if(this.props.rightButtons){if(o.isArray(this.props.rightButtons))_=o.compact(o.map(this.props.rightButtons,((e,t)=>{var i;return null!==(i=e.customButtonComponent)&&void 0!==i?i:this._getControl(e,E+t)})));else{const t=null!==(e=this.props.rightButtons.customButtonComponent)&&void 0!==e?e:this._getControl(this.props.rightButtons,E);t&&_.push(t)}T=!0}else this.props.leftButton&&this.props.titleView&&_.push(this._getSpacer(E));const P=[F.leftControlContainer],k=[F.rightControlContainer];let x;if(m?(P.push(F.leftControlContainerCenterText),k.push(F.rightControlContainerCenterText)):(d||p)&&P.push(F.leftControlContainerRightNav),this.props.leftButton)if(r.default.getS4LUiFeaturesNoSubscription().enableWindowRightClose&&A.default.isWindowCloseOnRight()&&this.props.leftButton.closeButtonType===D.Close){const e=(0,n.jsx)(a.View,Object.assign({ref:this._onLeftControlRef},{children:this._getControl(this.props.leftButton,E)}),E+"x");_.push(e),P.push(F.smallSpacer),x=(0,n.jsx)(a.View,{style:P},R),T=!0}else x=(0,n.jsx)(a.View,Object.assign({ref:this._onLeftControlRef,style:P},{children:this._getControl(this.props.leftButton,R)}),R);else x=(0,n.jsx)(a.View,{style:P},R);i&&(P.push(F.controlsContainerDesktop),k.push(F.controlsContainerDesktop),0===_.length&&!1!==this.props.useCenteredControls&&k.push(F.smallSpacer));const M=this.props.backgroundView?(0,n.jsx)(a.View,Object.assign({style:[F.backgroundView,y]},{children:this.props.backgroundView})):void 0;return(M||_.length>0)&&!b&&(b=(0,n.jsx)(a.View,{style:N.default.flexOne,ignorePointerEvents:!0,blockPointerEvents:!0})),(0,n.jsxs)(a.View,Object.assign({style:C,ignorePointerEvents:this.props.ignorePointerEvents,blockPointerEvents:this.props.blockPointerEvents},{children:[M,x,b,(0,n.jsx)(a.View,Object.assign({ref:T?this._onRightControlRef:void 0,style:k},{children:_}),E)]}))}_getSpacer(e){return(0,n.jsx)(a.View,{style:F.spacer,ignorePointerEvents:!0},e)}}t.SimplePanelHeader=U},363795:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(496486),a=i(967593),r=i(547126),l=i(915877),c=i(89808),d=i(581760),u=i(680837),g=i(24576),h=(0,l.lazyProperties)({gestureViewStyle:()=>o.Styles.createViewStyle({backgroundColor:d.Color.transparent})});class p extends g.default{constructor(){super(...arguments),this._trackHeight=10,this._handleSize=20,this._animatedSelectedBackgroundWidthValue=new o.Animated.Value(0),this._animatedSelectedBackgroundStyle=o.Styles.createAnimatedViewStyle({width:this._animatedSelectedBackgroundWidthValue}),this._animatedDragHandlePositionValue=new o.Animated.Value(0),this._animatedDragHandlePositionStyle=o.Styles.createAnimatedViewStyle({left:this._animatedDragHandlePositionValue}),this._onPanDragHandle=e=>{let t=e.pageX-e.initialPageX;o.International.isRTL()&&(t=-t);let i=this._currentPosition+t;i<0?i=0:i>this.state.dragAreaWidth&&(i=this.state.dragAreaWidth),this.state.dragAreaWidth&&(!this.props.dragStep||0===i||i===this.state.dragAreaWidth||Math.abs(i/this.state.dragAreaWidth-this._currentValue)>=this.props.dragStep)&&this._updatePosition(i,this.state.dragAreaWidth),e.isComplete&&(this._currentPosition=i)},this._onTap=e=>{let t=e.clientX;o.International.isRTL()&&(t=this.state.dragAreaWidth-t),t<0?t=0:t>this.state.dragAreaWidth&&(t=this.state.dragAreaWidth),this.state.dragAreaWidth&&this._updatePosition(t,this.state.dragAreaWidth),this._currentPosition=t},this._onLayout=e=>{const t=e.width-this._handleSize;t!==this.state.dragAreaWidth&&this.setState({dragAreaWidth:t})},this._onKeyPress=e=>{const t=this.props.keyboardNavStep||.05;e.keyCode===r.default.LEFT||e.keyCode===r.default.DOWN?(this.updateValue(this._currentValue-t),e.preventDefault()):e.keyCode!==r.default.RIGHT&&e.keyCode!==r.default.UP||(this.updateValue(this._currentValue+t),e.preventDefault())}}_buildState(e,t){const i=c.default.getColorInfo().colors.slice().reverse(),n={selectedBackgroundColorStyle:c.default.getPrimaryBackgroundColorStyle(),gradientColors:i};return t&&(this._currentValue=e.value||0,this._currentPosition=0,this._trackHeight=e.trackHeight||10,this._handleSize=e.handleSize||20,n.dragAreaWidth=0),n}componentDidMount(){super.componentDidMount(),this._currentValue&&this.state.dragAreaWidth&&this._updatePosition(this._currentValue*this.state.dragAreaWidth,this.state.dragAreaWidth,!1)}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i);let n=!1;s.isUndefined(e.value)||e.value===this.props.value||(this._currentValue=e.value,n=!0),(n||this.state.dragAreaWidth!==t.dragAreaWidth)&&(this._currentPosition=this._currentValue*t.dragAreaWidth,this._updatePosition(this._currentPosition,t.dragAreaWidth,!1))}updateValue(e){e<0?e=0:e>1&&(e=1),this._currentValue=e,this.state.dragAreaWidth&&this._updatePosition(e*this.state.dragAreaWidth,this.state.dragAreaWidth)}_updatePosition(e,t,i=!0){this._currentValue=t?e/t:0,this.props.onProgressChange&&i&&this.props.onProgressChange(this._currentValue),this._animatedDragHandlePositionValue.setValue(e),this._animatedSelectedBackgroundWidthValue.setValue(e+this._handleSize/2)}render(){const e={container:o.Styles.createViewStyle({alignSelf:"stretch",height:this._handleSize,alignItems:"center",justifyContent:"center"},!1),backgroundContainer:o.Styles.createViewStyle({alignSelf:"stretch",height:this._trackHeight,borderRadius:this._trackHeight/2,marginHorizontal:this._handleSize/2},!1),selectedBackground:o.Styles.createViewStyle({height:this._trackHeight,borderRadius:this._trackHeight/2},!1),dragHandleContainer:o.Styles.createViewStyle({position:"absolute",width:this._handleSize,height:this._handleSize,borderRadius:this._handleSize/2,overflow:"hidden"},!1)},t=[e.selectedBackground,this.state.selectedBackgroundColorStyle,this._animatedSelectedBackgroundStyle],i=[e.dragHandleContainer,this._animatedDragHandlePositionStyle],s=[u.default.absoluteFill,h.gestureViewStyle],r=[e.selectedBackground,o.Styles.createViewStyle({width:this.state.dragAreaWidth},!1)],l=[e.dragHandleContainer,this._themeStyles.sliderHandleColorStyle,this._themeStyles.viewBorderStyle];return(0,n.jsxs)(o.View,Object.assign({style:[e.container,this.props.style],onLayout:this._onLayout,onKeyPress:this._onKeyPress,tabIndex:0,accessibilityTraits:o.Types.AccessibilityTrait.Adjustable,accessibilityLabel:this.props.accessibilityLabel,ariaValueNow:this.props.ariaValueNow},{children:[(0,n.jsx)(o.View,Object.assign({style:[e.backgroundContainer,this._themeStyles.secondaryBackgroundColorStyle]},{children:(0,n.jsx)(o.Animated.View,Object.assign({style:t},{children:(0,n.jsx)(a.GradientView,{style:r,colors:this.state.gradientColors,direction:a.GradientDirection.RIGHT})}))})),(0,n.jsx)(o.Animated.View,Object.assign({style:i},{children:(0,n.jsx)(o.View,{style:l})})),(0,n.jsx)(o.GestureView,{style:s,preferredPan:o.Types.PreferredPanGesture.Horizontal,onPanHorizontal:this._onPanDragHandle,onTap:this._onTap})]}))}}t.default=p},656810:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SwipableItemActionSide=t.SwipeActionLayout=void 0;const n=i(785893),o=i(496486),s=i(665768),a=i(516778),r=i(217041),l=i(898278),c=i(677381),d=i(812854),u=i(110117),g=i(915877),h=i(706250),p=i(29130),S=i(126978),m=i(581760),C=i(711828),y=i(680837),f=i(619675);var b,_;!function(e){e[e.Reveal=0]="Reveal",e[e.Pull=1]="Pull"}(b=t.SwipeActionLayout||(t.SwipeActionLayout={})),function(e){e[e.Left=1]="Left",e[e.Right=2]="Right"}(_=t.SwipableItemActionSide||(t.SwipableItemActionSide={}));const v=80,T=m.Color.white,P="action",k=(0,g.lazyProperties)({outerStaticContainer:()=>a.Styles.createViewStyle({flex:1,flexDirection:"row"}),gestureContainer:()=>a.Styles.createViewStyle({overflow:"visible",flex:1}),rightSwipeActionContainerReveal:()=>a.Styles.createViewStyle({flexDirection:"row",justifyContent:"flex-end",alignItems:"stretch"}),leftSwipeActionContainerReveal:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"stretch"}),iconContainerReveal:()=>a.Styles.createViewStyle({justifyContent:"center",alignItems:"center",padding:20,width:v}),rightIconInnerContainerReveal:()=>a.Styles.createViewStyle({position:"absolute",left:0,top:0,bottom:0}),leftIconInnerContainerReveal:()=>a.Styles.createViewStyle({position:"absolute",right:0,top:0,bottom:0}),icon:()=>a.Styles.createTextStyle({color:T,paddingHorizontal:4}),iconButton:()=>a.Styles.createViewStyle({justifyContent:"center",alignItems:"center"}),caption:()=>a.Styles.createTextStyle({marginTop:8,color:T,paddingHorizontal:4,textAlign:"center"})});class A extends c.default{constructor(){super(...arguments),this._rightSwipeItemRefs=new h.default,this._leftSwipeItemRefs=new h.default,this._currentX=0,this._innerMovingContainerXOffsetValue=new a.Animated.Value(0),this._innerMovingContainerXOffsetStyle=a.Styles.createAnimatedViewStyle({transform:[{translateX:this._innerMovingContainerXOffsetValue}]}),this._rightIconButtonOpacityValue=new a.Animated.Value(0),this._rightIconButtonOpacityStyle=a.Styles.createAnimatedViewStyle({opacity:this._rightIconButtonOpacityValue}),this._leftIconButtonOpacityValue=new a.Animated.Value(0),this._leftIconButtonOpacityStyle=a.Styles.createAnimatedViewStyle({opacity:this._leftIconButtonOpacityValue}),this._hapticFeedbackPrepared=!1,this._hapticFeedbackSent=!1,this._isSwiping=!1,this._isRevealAdvanceGesture=!1,this._renderSwipeAction=(e,t,i,o,s,a)=>{const r=t===_.Right?this._rightSwipeItemRefs.onComponentRef(e):this._leftSwipeItemRefs.onComponentRef(e);return(0,n.jsx)(I,{ref:r,side:t,position:i,commandOrId:this._swipeActionCommandOrId(o),style:a,swipeAction:o,layoutType:this.props.layoutType,allowOverscroll:s,isPresentedInDesktopLeftNav:this._getContext().isPresentedInDesktopLeftNav,useNativeAnimationDriver:!1,onPress:o.onComplete||o.onConfirm?this._onPerformAction:void 0,numberOfLines:this.props.numberOfLines?this.props.numberOfLines:1},e)},this._onPerformAction=(e,t)=>{const i=i=>{i?e.onComplete?(this._cancelSwipe(),e.onComplete(t)):this._cancelSwipe((()=>{e.onComplete&&e.onComplete(t)})):this._cancelSwipe()};e.onConfirm?e.onConfirm(t).then(i).catch((e=>i(!1))):i(!0)},this._onContainerRef=e=>{this._container=e||void 0},this._onPanView=e=>{const t=e.pageX-e.initialPageX,i=this.props.layoutType===b.Reveal,n=this.props.layoutType===b.Pull;let s=!1;if((this.state.rightActions.length&&(t<0||this._currentX<0)||this.state.leftActions&&this.state.leftActions.length&&(t>0||this._currentX>0))&&(s=!0),!s)return;this.state.renderActions||this.setState({renderActions:!0}),this._isSwiping||(this.props.onSwiping&&this.props.onSwiping(!0,!!this.state.openSide,!0,this._getCurrentItemRef()),this._isSwiping=!0);let a=this._currentX+t;this._hapticFeedbackPrepared||(this._hapticFeedbackPrepared=!0,d.default.prepareFeedback());const r=this._allowOverscroll(_.Left),l=this._allowOverscroll(_.Right);let c;if(i&&(a>0&&!r?a=Math.min(this.state.leftActions.length*v*1.25,a):a<0&&!l&&(a=Math.max(this.state.rightActions.length*v*1.25*-1,a))),this._rightIconButtonOpacityValue.setValue(a<-1&&this.state.openSide!==_.Left?1:0),this._leftIconButtonOpacityValue.setValue(a>1&&this.state.openSide!==_.Right?1:0),this.props.overscrollSides||n){const e=this.props.swipeDistanceThreshold||160;this.state.openSide!==_.Right&&a>e&&r?c=_.Left:this.state.openSide!==_.Left&&a<-1*e&&l&&(c=_.Right),c?this._hapticFeedbackSent||(this._hapticFeedbackSent=!0,d.default.triggerFeedback()):this._isRevealAdvanceGesture&&(d.default.triggerFeedback(),this._hapticFeedbackSent=!1)}if(this._isRevealAdvanceGesture=!!c,this._innerMovingContainerXOffsetValue.setValue(a),this._updateOffsets(a,!1,c),e.isComplete){if(c){const e=c===_.Left?o.first(this.state.leftActions):o.last(this.state.rightActions);e&&this._onPerformAction(e,this._swipeActionCommandOrId(e)),this._cancelSwipe()}else if(i){let t;this.state.openSide===_.Right?(e.velocityX<0||-1*a>v*this.state.rightActions.length)&&(t=_.Right):this.state.openSide===_.Left&&this.state.leftActions?(e.velocityX>0||a>v*this.state.leftActions.length)&&(t=_.Left):a>0?(e.velocityX>=1||a>50)&&(t=_.Left):(e.velocityX<=-1||-1*a>50)&&(t=_.Right),t?this._openMenu(t):this._cancelSwipe()}else this._cancelSwipe();this._isRevealAdvanceGesture=!1,this._hapticFeedbackSent=!1,this._hapticFeedbackPrepared=!1}},this._close=()=>{this._cancelSwipe()},this._cancelSwipe=e=>{this.props.onSwiping&&this.props.onSwiping(!1,!1,!1,this._getCurrentItemRef(),!0),this._isSwiping=!1,this._currentX=0,this._updateOffsets(this._currentX,!0);const t=!1;s.parallel([s.timing.shotgun({value:this._innerMovingContainerXOffsetValue,toValue:this._currentX,useNativeDriver:t}),s.timing.shotgun({value:this._rightIconButtonOpacityValue,toValue:0,useNativeDriver:t}),s.timing.shotgun({value:this._leftIconButtonOpacityValue,toValue:0,useNativeDriver:t})]).start((t=>{e&&e(),this.isComponentMounted()&&this.state.openSide&&(this.setState({openSide:void 0,renderActions:!1}),t.finished||this._innerMovingContainerXOffsetValue.setValue(this._currentX))}))},this._onLongPressClose=()=>{},this._getCurrentItem=()=>this.isComponentMounted()?this:void 0}_buildState(e,t){const i={rightActions:A._actionsForSide(e,_.Right),leftActions:A._actionsForSide(e,_.Left)};return t&&(i.renderActions=e.layoutType!==b.Reveal),i}requestFocus(){this._container&&this._container.requestFocus()}close(){return!(!this.state.openSide||this._isSwiping)&&(this._cancelSwipe(),!0)}componentWillUnmount(){super.componentWillUnmount(),d.default.unprepareFeedback()}render(){const e=!o.isEmpty(this.state.rightActions)||!o.isEmpty(this.state.leftActions);if(this.props.disableSwipe||!e){const e=[k.outerStaticContainer,y.default.overflowVisible];return(0,n.jsx)(a.View,Object.assign({style:e},{children:this.props.children}))}const t=this.state.openSide?(0,n.jsx)(a.View,{onPress:this._close,onLongPress:this._onLongPressClose,style:[y.default.absoluteFill,y.default.noncollapsibleView]}):void 0;let i,s;if(this.state.renderActions){const e=this.state.rightActions,t=e?e.length:0,r=!!t&&this._allowOverscroll(_.Right),l=o.map(e,((e,i)=>this._renderSwipeAction(P+i,_.Right,t-i,e,r,k.iconContainerReveal))),c=[y.default.absoluteFill,y.default.overflowVisible,this.props.backgroundStyle];if(i=(0,n.jsx)(a.Animated.View,Object.assign({style:[c,this._rightIconButtonOpacityStyle,k.rightSwipeActionContainerReveal],ignorePointerEvents:!0},{children:l}),"rightactions"),this.state.leftActions){const e=this.state.leftActions,t=e?e.length:0,i=!!t&&this._allowOverscroll(_.Left),r=o.map(e,((e,n)=>this._renderSwipeAction(P+n,_.Left,t-n,e,i,k.iconContainerReveal)));s=(0,n.jsx)(a.Animated.View,Object.assign({style:[c,this._leftIconButtonOpacityStyle,k.leftSwipeActionContainerReveal],ignorePointerEvents:!0},{children:r}),"leftactions")}}const r=o.compact([i,s,(0,n.jsxs)(a.Animated.View,Object.assign({style:[this._innerMovingContainerXOffsetStyle,y.default.overflowVisible]},{children:[this.props.children,t]}),"content")]);return(0,n.jsx)(a.View,Object.assign({ref:this._onContainerRef,style:this.props.style||k.outerStaticContainer,onLayout:undefined,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,importantForAccessibility:this.props.importantForAccessibility,accessibilityLabel:this.props.accessibilityLabel,accessibilityTraits:this.props.accessibilityTraits},{children:this._wrapGestureContent(r,k.gestureContainer)}))}_allowOverscroll(e){return!(!o.includes(this.props.overscrollSides,e)&&this.props.layoutType===b.Reveal)}_wrapGestureContent(e,t){return(0,n.jsx)(a.GestureView,Object.assign({onPanHorizontal:this._onPanView,panPixelThreshold:this.props.dragThreshold||3,preferredPan:a.Types.PreferredPanGesture.Horizontal,releaseOnRequest:!1,importantForAccessibility:a.Types.ImportantForAccessibility.No,style:t},{children:e}))}_updateOffsets(e,t,i){const n=v*this.state.rightActions.length;if(n){const s=this.state.openSide===_.Left?0:Math.min(e,0),a=Math.abs(s)/n;o.each(this._rightSwipeItemRefs.allRefs(),(e=>{e.ref&&e.ref.updateOffset(a,t,i===_.Right)}))}if(!this.state.leftActions)return;const s=v*this.state.leftActions.length;if(s){const n=this.state.openSide===_.Right?0:Math.max(e,0),a=Math.abs(n)/s;o.each(this._leftSwipeItemRefs.allRefs(),(e=>{e.ref&&e.ref.updateOffset(a,t,i===_.Left)}))}}_openMenu(e){this._isSwiping=!1,this.props.onSwiping&&this.props.onSwiping(!1,!0,!0,this._getCurrentItemRef()),e===_.Right?this._currentX=v*this.state.rightActions.length*-1:this.state.leftActions&&(this._currentX=v*this.state.leftActions.length),this._updateOffsets(this._currentX,!0);const t=!1;s.parallel([s.timing.easeOut5({value:this._innerMovingContainerXOffsetValue,toValue:this._currentX,duration:s.Common.Duration.Tiny,useNativeDriver:t}),s.timing.easeOut5({value:this._rightIconButtonOpacityValue,toValue:e===_.Right?1:0,duration:s.Common.Duration.Tiny,useNativeDriver:t}),s.timing.easeOut5({value:this._leftIconButtonOpacityValue,toValue:e===_.Left?1:0,duration:s.Common.Duration.Tiny,useNativeDriver:t})]).start((()=>{this.isComponentMounted()&&this.state.openSide!==e&&this.setState({openSide:e})}))}_getCurrentItemRef(){return{itemId:this.props.itemId,ref:this._getCurrentItem}}_swipeActionCommandOrId(e){return e.command||this.props.itemId}static _actionsForSide(e,t){const i=e.layoutType!==b.Reveal;return t===_.Right?o.compact(e.rightActions&&e.rightActions.length?i?[o.first(e.rightActions)]:e.rightActions:[]):o.compact(e.leftActions&&e.leftActions.length?i?[o.first(e.leftActions)]:e.leftActions:[])}}t.default=A;class I extends r.ComponentBase{constructor(){super(...arguments),this._iconHighlighted=!1,this._animatedOffsetValue=new a.Animated.Value(0),this._animatedBackgroundWidthValue=new a.Animated.Value(136),this._animatedBackgroundWidthStyle=a.Styles.createAnimatedViewStyle({width:this._animatedBackgroundWidthValue}),this._animatedIconOpacityValue=new a.Animated.Value(.7),this._animatedIconOpacityStyle=a.Styles.createAnimatedViewStyle({opacity:this._animatedIconOpacityValue}),this._animatedIconScaleValue=new a.Animated.Value(1),this._animatedIconScaleStyle=a.Styles.createAnimatedViewStyle({transform:[{scale:this._animatedIconScaleValue}]}),this._onPress=()=>{this.props.onPress&&this.props.onPress(this.props.swipeAction,this.props.commandOrId)}}_buildState(e,t){if(e.allowOverscroll){const t=e.isPresentedInDesktopLeftNav?S.default.getWidth(S.SideBar.Left):p.default.getWidth(l.MainRootViewId);this._animatedBackgroundWidthValue.setValue(t||136)}return{}}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this._updateAnimatedStyle(this.props.position),this._updateStaticStyles(this.props.swipeAction)}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),this.props.position!==e.position&&this._updateAnimatedStyle(e.position);const n=this.props.swipeAction,o=e.swipeAction;n.backgroundColor===o.backgroundColor&&n.iconColor===o.iconColor||this._updateStaticStyles(o)}updateOffset(e,t,i=!1){let n=e;if(!this.props.allowOverscroll){const e=this.props.layoutType===b.Reveal?1.2:1;n=n>e?e:n}t?s.timing.easeOut5({value:this._animatedOffsetValue,toValue:n,duration:s.Common.Duration.Tiny,useNativeDriver:this.props.useNativeAnimationDriver}).start():this._animatedOffsetValue.setValue(n),this._iconHighlighted!==i&&(this._animatedIconOpacityValue.setValue(i?1:.7),i?s.timing.bounceIn([{value:this._animatedIconScaleValue,toValue:1.25,duration:s.Common.Duration.Tiny,useNativeDriver:this.props.useNativeAnimationDriver}],[{value:this._animatedIconScaleValue,toValue:1.2,duration:s.Common.Duration.Short,useNativeDriver:this.props.useNativeAnimationDriver}]).start():s.timing.easeOut5({value:this._animatedIconScaleValue,toValue:1,duration:s.Common.Duration.Tiny,useNativeDriver:this.props.useNativeAnimationDriver}).start(),this._iconHighlighted=i)}render(){const e=this.props.swipeAction;let t;e.label&&(t=(0,n.jsx)(f.Caption,Object.assign({style:[k.caption,this._textColorStyle],numberOfLines:this.props.numberOfLines},{children:e.label}),"caption"));const i=[this.props.side===_.Right?k.rightIconInnerContainerReveal:k.leftIconInnerContainerReveal,this._animatedBackgroundWidthStyle,this._backgroundColorStyle];let s=o.compact([(0,n.jsx)(u.AnimatedIconView,{icon:e.icon,color:e.iconColor,size:C.IconSize.size20,style:[k.icon,this._animatedIconScaleStyle]},"icon"),t]);if(this.props.onPress){const e=[y.default.absoluteFill,k.iconButton];this.props.layoutType===b.Pull&&e.push(this._animatedIconOpacityStyle),s=(0,n.jsx)(a.Animated.View,Object.assign({style:e,accessibilityLabel:this.props.swipeAction.accessibilityLabel||this.props.swipeAction.label,accessibilityTraits:a.Types.AccessibilityTrait.Button,onPress:this._onPress},{children:s}))}const r=[this.props.style,this._animatedOffsetStyle,y.default.overflowVisible];return(0,n.jsxs)(a.Animated.View,Object.assign({style:r},{children:[(0,n.jsx)(a.Animated.View,{style:i}),s]}))}_updateAnimatedStyle(e){const t=e*v*(this.props.side===_.Right?1:-1);this._animatedOffsetStyle=a.Styles.createAnimatedViewStyle({transform:[{translateX:this._animatedOffsetValue.interpolate({inputRange:[0,1],outputRange:[t,0]})}]})}_updateStaticStyles(e){this._backgroundColorStyle=a.Styles.createViewStyle({backgroundColor:e.backgroundColor},!1),this._textColorStyle=a.Styles.createTextStyle({color:e.iconColor},!1)}}},777806:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SyncIndicator=void 0;const n=i(785893),o=i(516778),s=i(217041),a=i(110117),r=i(581760),l=i(711828);class c extends s.ComponentBase{constructor(){super(...arguments),this._rotateTextValue=new o.Animated.Value(0),this._rotateTextStyle=o.Styles.createAnimatedViewStyle({transform:[{rotate:this._rotateTextValue.interpolate({inputRange:[0,360],outputRange:["0deg","360deg"]})}]}),this._onSyncIndicatorRef=e=>{e&&this._startAnimation()}}_buildState(e,t){return{containerStyle:o.Styles.createViewStyle({height:e.size,width:e.size,borderRadius:e.size/2,backgroundColor:e.color,alignItems:"center",justifyContent:"center"},!1)}}render(){var e;return(0,n.jsx)(o.View,Object.assign({style:this.state.containerStyle,testId:"SyncIndicator"},{children:(0,n.jsx)(a.AnimatedIconView,{icon:l.SkypeIcon.Refresh,color:null!==(e=this.props.indicatorColor)&&void 0!==e?e:r.Color.white,size:2*Math.floor(this.props.size*(this.props.largeIndicator?.4:.3)),style:this._rotateTextStyle,ref:this._onSyncIndicatorRef})}))}_startAnimation(){this._rotateTextValue.setValue(0),o.Animated.timing(this._rotateTextValue,{toValue:360,easing:o.Animated.Easing.Linear(),duration:1200,isInteraction:!1}).start((()=>{this.isComponentMounted()&&this._startAnimation()}))}}t.SyncIndicator=c,t.default=c},726511:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TabFilters=void 0;const n=i(785893),o=i(496486),s=i(516778),a=i(711930),r=i(484994),l=i(139285),c=i(547126),d=i(915877),u=i(581760),g=i(311010),h=i(24576),p=i(912770),S=(0,d.lazyProperties)({container:()=>s.Styles.createViewStyle({flex:1,flexDirection:"row",height:40}),containerCompact:()=>s.Styles.createViewStyle({flex:1,flexDirection:"row",height:30}),button:()=>s.Styles.createViewStyle({flex:1,minWidth:0,justifyContent:"center",alignItems:"center"}),inner:()=>s.Styles.createViewStyle({flex:1,borderBottomWidth:2,borderColor:u.Color.transparent,paddingTop:2,justifyContent:"center",overflow:"visible"}),text:()=>s.Styles.createTextStyle({fontSize:g.default.controlFontSize.searchFiltersTab}),textCompact:()=>s.Styles.createTextStyle({fontSize:g.default.controlFontSize.caption}),selectedText:()=>s.Styles.createTextStyle({fontWeight:"bold"}),fixedWidthTab:()=>s.Styles.createViewStyle({width:100})});class m extends h.default{constructor(){super(...arguments),this._setButtonRef=e=>{this._buttonRef=e||void 0},this._onPress=e=>{this.props.onTabPress&&this.props.onTabPress(this.props.tabId)},this._onHoverStart=()=>{this.isComponentMounted()&&this.setState({hovered:!0})},this._onHoverEnd=()=>{this.isComponentMounted()&&this.setState({hovered:!1})}}_buildState(e,t){if(t){return{hovered:!1}}return{}}UNSAFE_componentWillReceiveProps(e,t){super.UNSAFE_componentWillReceiveProps(e,t),e.shouldUpdateOnFocus&&e.focused&&!this.props.focused&&this._buttonRef&&this._buttonRef.requestFocus&&this._buttonRef.requestFocus()}render(){const e=[S.inner],t=[this.props.useCompactLayout?S.textCompact:S.text],i=a.default.tabAccessibilityLabel(this.props.title,this.props.tabIndex,this.props.tabCount,this.props.includeTabCountOnDesktop),o=a.default.tabAccessibilityTraits(this.props.selected);if(this.props.selected){const i=s.Styles.createViewStyle({borderColor:this._themeColors.primaryTextColor},!1);e.push(i),t.push(S.selectedText,this._themeStyles.primaryTextColorStyle)}else if(t.push(this._themeStyles.secondaryTextColorStyle),this.state.hovered){const t=s.Styles.createViewStyle({borderColor:this._themeColors.secondaryTextColor},!1);e.push(t)}const r=[S.button];return this.props.widthStyle&&r.push(this.props.widthStyle),(0,n.jsx)(s.Button,Object.assign({style:r,onPress:this._onPress,ref:this._setButtonRef,onHoverStart:this._onHoverStart,onHoverEnd:this._onHoverEnd,accessibilityTraits:o,tabIndex:this.props.focused?0:-1,accessibilityLabel:i},{children:(0,n.jsx)(l.default,Object.assign({style:e},{children:(0,n.jsx)(s.Text,Object.assign({style:t},{children:this.props.title}))}))}))}}class C extends h.default{constructor(){super(...arguments),this._onKeyPress=e=>{let t=this.state.focusedIndex;e.keyCode!==c.default.DOWN&&e.keyCode!==c.default.LEFT||(t-=1),e.keyCode!==c.default.UP&&e.keyCode!==c.default.RIGHT||(t+=1),t<0?t=this.props.tabs.length-1:t>=this.props.tabs.length&&(t=0),this.setState({focusedIndex:t})},this._onBlur=()=>{this._focusResetTimeout&&p.default.clearTimeout(this._focusResetTimeout),this._focusResetTimeout=p.default.setTimeout((()=>{const e=this._findTabIndexById(this.state.selectedId,this.props.tabs);this.isComponentMounted()&&this.state.focusedIndex!==e&&this.setState({hasFocus:!1,focusedIndex:e})}),250)},this._onFocus=()=>{this.isComponentMounted()&&!this.state.hasFocus&&this.setState({hasFocus:!0}),this._focusResetTimeout&&(p.default.clearTimeout(this._focusResetTimeout),this._focusResetTimeout=void 0)},this._onTabPress=e=>{this.setState({selectedId:e}),this.props.onChanged(e)}}_buildState(e,t){if(t){const t=e.initialySelectedId||e.tabs[0].id;return{selectedId:t,focusedIndex:this._findTabIndexById(t,e.tabs),hasFocus:!1}}return{}}UNSAFE_componentWillReceiveProps(e,t){super.UNSAFE_componentWillReceiveProps(e,t),this.props.initialySelectedId!==e.initialySelectedId&&this.setState({selectedId:e.initialySelectedId})}render(){const e=this._renderTabs(this.props.tabs,this.props.useFixedWidth?S.fixedWidthTab:void 0);return(0,n.jsx)(s.View,Object.assign({onKeyPress:this._onKeyPress,onBlur:this._onBlur,onFocus:this._onFocus,style:this.props.useCompactLayout?S.containerCompact:S.container,accessibilityTraits:r.default.shouldUseTabListContainer()?s.Types.AccessibilityTrait.TabList:void 0,accessibilityLabel:this.props.accessibilityLabel},{children:e}))}_findTabIndexById(e,t){return(0,o.findIndex)(t,(t=>t.id===e))}_renderTabs(e,t){let i;this._getContext().isRTL?(i=e.slice(0),i.reverse()):i=e;const o=i.length;return i.map(((e,i)=>(0,n.jsx)(m,{tabId:e.id,title:e.title,focused:this.state.focusedIndex===i,selected:this.state.selectedId===e.id,shouldUpdateOnFocus:this.state.hasFocus,widthStyle:t,useCompactLayout:this.props.useCompactLayout,tabIndex:i,tabCount:o,includeTabCountOnDesktop:!r.default.shouldUseTabListContainer(),onTabPress:this._onTabPress},"tab-"+e.id)))}}t.TabFilters=C},536595:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TertiaryButton=void 0;const n=i(785893),o=i(967593),s=i(665768),a=i(516778),r=i(898278),l=i(110117),c=i(915877),d=(i(733754),i(915415)),u=i(101088),g=i(581760),h=i(311010),p=i(711828),S=i(680837),m=i(619675),C=i(89808),y=(0,c.lazyProperties)({titleStyle:()=>a.Styles.createTextStyle({color:g.Color.white}),darkTitleStyle:()=>a.Styles.createTextStyle({color:g.Color.gray400}),hiddenTitle:()=>a.Styles.createViewStyle({opacity:0}),innerContainerStyle:()=>a.Styles.createViewStyle({alignItems:"center",justifyContent:"center",paddingHorizontal:15}),innerContainerStroke:()=>a.Styles.createViewStyle({borderWidth:1}),activityIndicatorContainer:()=>a.Styles.createViewStyle({alignItems:"center",justifyContent:"center"}),iconAndTextContainer:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center"}),iconAndTextContainerReverse:()=>a.Styles.createViewStyle({flexDirection:"row-reverse"}),iconHorizontalMargin:()=>a.Styles.createViewStyle({marginRight:5}),iconHorizontalMarginReverse:()=>a.Styles.createViewStyle({marginLeft:5}),borderWidth:()=>a.Styles.createViewStyle({borderWidth:1}),secondaryIcon:()=>a.Styles.createViewStyle({marginLeft:8}),secondaryIconAndTextContainer:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center",overflow:"visible"}),image:()=>a.Styles.createViewStyle({width:24,height:24}),overrideStyle:()=>a.Styles.createViewStyle({paddingVertical:11})});class f extends u.default{constructor(){super(...arguments),this._onPillLayout=e=>{this.isComponentMounted()&&e.height>0&&this.state.pillHeight!==e.height&&this.setState({pillHeight:e.height})}}_buildState(e,t){const i=this._getButtonStyle(e);return{textColorInfo:this._textInfoForButtonStyle(i,e.colorInfoOverride,y.titleStyle,y.darkTitleStyle),gradientColors:this._getGradientColors(e),pillHeight:e.minHeight||30,hoverGradientColors:i===r.SXButtonStyle.GradientFill?C.default.getHoverGradientColors():void 0}}render(){var e;const t=[];this.props.showShadow&&t.push(S.default.overflowVisible),this.props.style&&t.push(this.props.style);const i=[y.innerContainerStyle,this.props.innerContainerStyle];this.props.buttonConfig&&(this.props.buttonConfig.backgroundColor||this.props.buttonConfig.borderColor)?(this.props.buttonConfig.borderColor&&(i.push(y.innerContainerStroke),i.push(a.Styles.createViewStyle({borderColor:this.props.buttonConfig.borderColor},!1))),this.props.buttonConfig.backgroundColor&&i.push(a.Styles.createViewStyle({backgroundColor:this.props.buttonConfig.backgroundColor},!1))):i.push(this._viewStyleForButtonStyle(this._getButtonStyle(this.props),this.props.colorInfoOverride)),i.push(a.Styles.createViewStyle({borderRadius:this.state.pillHeight/2,minHeight:this.props.minHeight||30},!1)),this.props.overrideStyle&&i.push(y.overrideStyle),this.props.showShadow&&i.push(S.default.shadowLightStyle),this.props.addBorderColor&&i.push([y.borderWidth,a.Styles.createViewStyle({borderColor:this.props.addBorderColor},!1)]);const c=[h.default.fontStyle.tertiaryButton,y.titleStyle,S.default.flexNegativeOne,this.props.textStyleOverride||void 0];let u,g;this.props.buttonConfig&&this.props.buttonConfig.textColor?(u=this.props.buttonConfig.textColor,g=a.Styles.createTextStyle({color:this.props.buttonConfig.textColor},!1)):(u=this.state.textColorInfo.color,g=this.state.textColorInfo.colorStyle),c.push(g),this.props.textStyleDeprecated&&c.push(this.props.textStyleDeprecated),this.props.showActivityIndicator&&c.push(y.hiddenTitle);const C=this._getTextColorStyle(this._getButtonStyle(this.props));let f,b;if(C&&c.push(C),this.props.title&&(f=(0,n.jsx)(a.Text,Object.assign({style:c,numberOfLines:this.props.allowTextWrap?void 0:1},{children:this.props.title})),this.props.subtitle)){let e;e=this.props.buttonConfig?this.props.buttonConfig.subtitleTextColor||this.props.buttonConfig.textColor:this.state.textColorInfo.subtitleColor;const t=[a.Styles.createTextStyle({color:e},!1),S.default.flexNegativeOne];f=(0,n.jsxs)(a.View,Object.assign({style:S.default.flexNegativeOne},{children:[f,(0,n.jsx)(m.Caption,Object.assign({style:t,numberOfLines:this.props.allowTextWrap?void 0:1},{children:this.props.subtitle}))]}))}f&&(b=this._getAccessoryMarginStyle());let _=this.props.accessoryView||void 0;if(!_&&this.props.icon){const e=[b];this.props.showActivityIndicator&&e.push(y.hiddenTitle),_=(0,n.jsx)(l.default,{icon:this.props.icon,size:this.props.iconSize||p.IconSize.size16,color:u,style:e})}else!_&&this.props.imageSource&&(_=(0,n.jsx)(a.Image,{source:this.props.imageSource,style:[b,y.image]}));if(f){const e=[y.iconAndTextContainer,S.default.flexNegativeOne];this.props.iconPositon===r.SXButtonIconPosition.End&&e.push(y.iconAndTextContainerReverse),f=(0,n.jsxs)(a.View,Object.assign({style:e},{children:[_,f]}))}else f=_;if(this.props.secondaryIcon){const e=[y.secondaryIcon];this.props.secondaryIconMarginLeft&&e.push(a.Styles.createViewStyle({marginLeft:this.props.secondaryIconMarginLeft},!1)),this.props.secondaryIconMarginRight&&e.push(a.Styles.createViewStyle({marginRight:this.props.secondaryIconMarginRight},!1)),f=(0,n.jsxs)(a.View,Object.assign({style:y.secondaryIconAndTextContainer},{children:[f,(0,n.jsx)(l.default,{style:e,icon:this.props.secondaryIcon,size:this.props.secondaryIconSize||this.props.iconSize||p.IconSize.size16,color:this.props.secondaryIconColor||u})]}))}f||(f=(0,n.jsx)(a.Text,Object.assign({style:c},{children:""})));const v=this._getButtonStyle(this.props),T=this.props.showActivityIndicator?(0,n.jsx)(a.View,Object.assign({style:[S.default.absoluteFill,y.activityIndicatorContainer]},{children:(0,n.jsx)(d.default,{size:r.SXActivityIndicatorSize.ExtraSmall,tintColor:this.props.buttonConfig&&this.props.buttonConfig.indicatorColor?this.props.buttonConfig.indicatorColor:this._indicatorColorForButtonStyle(v,this.props.colorInfoOverride)})})):void 0,P=this.state.isHovering?this.state.hoverGradientColors:void 0,k=this.state.gradientColors?(0,n.jsx)(o.GradientView,{style:[...i,S.default.absoluteFill],colors:this.state.gradientColors,secondaryColors:P,direction:null!==(e=this.props.gradientDirection)&&void 0!==e?e:o.GradientDirection.BOTTOM_RIGHT}):void 0,A=[...i];this.props.backgroundStyle&&A.push(a.Styles.createViewStyle(this.props.backgroundStyle,!1)),this.props.disabled&&A.push(this._getDisabledStyle(this._getButtonStyle(this.props))),!this.props.disabled&&this.state.isHovering&&A.push(this._getHoverStyle(this._getButtonStyle(this.props)));const I=!!this.props.onPress||!!this.props.onLongPress,w=this.props.disabled&&!this.props.disabledOpacityOverride||this.props.showActivityIndicator;let x=this.props.accessibilityLabel||this.props.title||"";let N=this.props.accessibilityTraits;!N&&I&&(N=[a.Types.AccessibilityTrait.Button],w&&N.push(a.Types.AccessibilityTrait.Disabled));const M=I?a.Button:a.View;return(0,n.jsx)(M,Object.assign({ref:this._onButtonRef,style:t,title:this.props.hoverText?this.props.hoverText:this.props.title,onFocus:this.props.disabled?void 0:this.props.onFocus,onPress:!this.props.disabled&&I?this.props.onPress:void 0,onPressIn:I?this._onPressInBound:void 0,onPressOut:I?this._onPressOutBound:void 0,onLongPress:!this.props.disabled&&I?this.props.onLongPress:void 0,onKeyPress:this.props.disabled?void 0:this.props.onKeyPress,onHoverStart:this._onHoverStartBound,onHoverEnd:this._onHoverEndBound,disabled:w,accessibilityLabel:x,accessibilityTraits:N,tabIndex:this.props.tabIndex,disableTouchOpacityAnimation:!0,autoFocus:this.props.autoFocus,importantForAccessibility:this.props.accessibilityHidden?a.Types.ImportantForAccessibility.NoHideDescendants:this.props.importantForAccessibility},{children:(0,n.jsxs)(s.View,Object.assign({ref:this._onAnimatedInnerButtonRef,style:A,onLayout:this._onPillLayout},{children:[k,f,T]}))}))}_getAccessoryMarginStyle(){let e;if(this.props.iconPositon===r.SXButtonIconPosition.End)e=this.props.iconHorizontalMargin?a.Styles.createViewStyle({marginLeft:this.props.iconHorizontalMargin},!1):y.iconHorizontalMarginReverse;else e=this.props.iconHorizontalMargin?a.Styles.createViewStyle({marginRight:this.props.iconHorizontalMargin},!1):y.iconHorizontalMargin;return e}}t.TertiaryButton=f,t.default=f},23902:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(244387),r=i(898278),l=i(915877),c=i(581760),d=i(311010),u=i(680837),g=i(24576),h=(0,l.lazyProperties)({textEditContainer:()=>s.Styles.createViewStyle({flex:1,flexDirection:"row",alignSelf:"stretch",alignItems:"center",justifyContent:"center",paddingBottom:1,borderWidth:0,borderBottomWidth:1,borderStyle:"solid",borderColor:c.Color.transparent}),textEditInputBox:()=>s.Styles.createTextInputStyle({flex:1,flexDirection:"row",backgroundColor:c.Color.transparent,textAlign:"center",paddingBottom:1}),text:()=>s.Styles.createTextStyle({flexDirection:"row",paddingBottom:1,textAlign:"center",justifyContent:"center",flexShrink:1}),textView:()=>s.Styles.createViewStyle({flexShrink:1,flexDirection:"row",paddingBottom:1,justifyContent:"center"}),textContainerHover:()=>s.Styles.createViewStyle({opacity:.7})});class p extends g.default{constructor(){super(...arguments),this._textEditSetFocus=!1,this._onTextInputRef=e=>{this._inputRef=e||void 0,this._inputRef&&this._textEditSetFocus&&(this._inputRef.requestFocus(),this._textEditSetFocus=!1)},this._textViewPress=()=>{this.props.canEdit&&!this.state.isEditing&&this.setState({isEditing:!0})},this._onChangeText=e=>{this.props.onChangeText&&this.props.onChangeText(e),this.setState({newText:e})},this._submitEdit=()=>{const e=this.state.newText;if(this.props.originalText!==e){if(this.props.onSubmitEdit&&this.props.onSubmitEdit(e))return}this._cancelEdit()},this._onMouseEnter=()=>{this.props.canEdit&&this.setState({isHovering:!0})},this._onMouseLeave=()=>{this.setState({isHovering:!1})},this._onFocus=e=>{this.props.onFocus&&this.props.onFocus(e),this.props.onFocusWithRef&&this.props.onFocusWithRef(this),this.props.canEdit&&this.setState({isEditing:!0})},this._onBlur=()=>{this.setState({isEditing:!1},(()=>{this.props.onBlur&&(this.props.onBlur(),(void 0===this.props.submitOnBlur||this.props.submitOnBlur)&&this._submitEdit()),this.props.onBlurWithRef&&this.props.onBlurWithRef(this)}))}}_buildState(e,t){const i={},n=this.props.originalText||"",o=e.originalText||"";return(t||o!==n)&&(i.newText=o),i}requestFocus(){this._inputRef&&this.props.canEdit?this._inputRef.requestFocus():this._textEditSetFocus=!0}finishEditing(){this._onBlur()}submit(){this._submitEdit()}resetText(e){this.isComponentMounted()&&this._inputRef&&this.setState({newText:e||""})}render(){const e=[h.textEditContainer];return this.props.canEdit&&(this.state.isEditing||this.props.showEditable?e.push(this._themeStyles.dividerBorderColorStyle):this.state.isHovering&&e.push(h.textContainerHover)),this.props.style&&e.push(this.props.style),(0,n.jsx)(s.View,Object.assign({style:e,onMouseEnter:this.props.canEdit?this._onMouseEnter:void 0,onMouseLeave:this.props.canEdit?this._onMouseLeave:void 0,onPress:this.props.canEdit?this._textViewPress:void 0},{children:this._renderTextWithAutoFocus()}))}_renderTextWithAutoFocus(){var e;if((this.state.isEditing||this.props.showEditable)&&this.props.canEdit){const t=[h.textEditInputBox,this._themeStyles.primaryTextColorStyle,this._textStyle()],i=null===(e=this.props.autoFocus)||void 0===e||e,o=this.props.autoFocusable||!1;return(0,n.jsx)(a.default,{ref:this._onTextInputRef,autoFocusable:o,style:t,value:this.state.newText,placeholder:this.props.placeholderText,placeholderTextColor:this._getPlaceholderColor(),autoFocus:this.state.isEditing&&i,autoCapitalize:this.props.autoCapitalize,autoCorrect:this.props.autoCorrect,onChangeText:this._onChangeText,onSubmitEditing:this._submitEdit,returnKeyType:"done",keyboardAppearance:this._useDarkTheme()?"dark":void 0,onFocus:this._onFocus,onBlur:this._onBlur,editable:this.props.canEdit,blurOnSubmit:void 0===this.props.blurOnSubmit||this.props.blurOnSubmit,maxLength:this.props.maxLength,multiline:this.props.multiline,importantForAccessibility:this.props.accessibilityLabel?s.Types.ImportantForAccessibility.Yes:void 0,accessibilityLabel:this.props.accessibilityLabel,clearButtonMode:"never",tabIndex:this.props.tabIndex,disableFullscreenUI:this.props.disableFullscreenUI},"textInput")}{const e=this._textStyle();if(this.props.originalTextReact||this.props.originalText&&this.props.originalText.length>0){const t=this.props.addAccessibilityLabelToOriginalTextReact&&this.props.accessibilityLabel;return this.props.originalTextReact?(0,n.jsx)(s.View,Object.assign({style:[h.textView,u.default.pointerCursor],importantForAccessibility:t?s.Types.ImportantForAccessibility.Yes:void 0,accessibilityLabel:t?this.props.accessibilityLabel:void 0},{children:this.props.originalTextReact})):(0,n.jsx)(s.Text,Object.assign({style:[h.text,u.default.pointerCursor,this._themeStyles.primaryTextColorStyle,e],numberOfLines:this.props.numberOfLines||1},{children:this.props.originalText&&this.props.originalText.length>0?this.props.originalText:this.props.placeholderText}),"textContainer")}return(0,n.jsx)(s.Text,Object.assign({style:[h.text,this._themeStyles.secondaryTextColorStyle,e],numberOfLines:1},{children:this.props.placeholderText}),"textContainer")}}_getPlaceholderColor(){return this.props.placeholderColorOverride?this.props.placeholderColorOverride:this._useDarkTheme()?this._themeColors.secondaryTextColor:void 0}_cancelEdit(){this.setState({isEditing:!1,newText:this.props.originalText||""})}_textStyle(){const e=[];if(!o.isUndefined(this.props.textEditTextStyle))switch(this.props.textEditTextStyle){case r.TextEditTextStyle.Caption:e.push(d.default.fontStyle.caption);break;case r.TextEditTextStyle.BodyText:e.push(d.default.fontStyle.body);break;case r.TextEditTextStyle.BodyTextBold:e.push(d.default.fontStyle.bodyBold);break;case r.TextEditTextStyle.MessagingHeader:e.push(d.default.fontStyle.messagingHeader);break;case r.TextEditTextStyle.MessagingHeaderSmall:e.push(d.default.fontStyle.messagingHeaderSmall)}return this.props.textStyle&&e.push(this.props.textStyle),e}}t.default=p},359433:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(898278),a=i(915877),r=i(581760),l=i(311010),c=i(24576),d=(0,a.lazyProperties)({linkUnderline:()=>o.Styles.createTextStyle({textDecorationLine:"underline"}),linkBlue:()=>o.Styles.createTextStyle({color:r.Color.blue}),linkWhite:()=>o.Styles.createTextStyle({color:r.Color.white})});class u extends c.default{constructor(){super(...arguments),this._onTextElementRef=e=>{this._textElement=e||void 0}}requestFocus(){this.isComponentMounted()&&this._textElement&&this._textElement.requestFocus&&this._textElement.requestFocus()}blur(){this.isComponentMounted()&&this._textElement&&this._textElement.blur&&this._textElement.blur()}render(){const e=this._useAccessibleTheme(),t=[];switch(this.props.linkTextStyle){case s.LinkTextStyle.BodyText:t.push(l.default.bodyFontStyle(this._currentTheme));break;case s.LinkTextStyle.BodyTextSmall:t.push(l.default.bodyFontStyle(this._currentTheme,s.BodyTextSize.SmallDeprecated));break;case s.LinkTextStyle.BodyTextBold:t.push(l.default.bodyBoldFontStyle(this._currentTheme));break;case s.LinkTextStyle.Caption:t.push(l.default.captionFontStyle(this._currentTheme))}if((this.props.underline||e)&&t.push(d.linkUnderline),this.props.white)t.push(d.linkWhite);else if(this.props.blue&&!e)t.push(d.linkBlue);else if(this.props.textThemeColor)switch(this.props.textThemeColor){case s.TextThemeColor.Primary:t.push(this._themeStyles.primaryTextColorStyle);break;case s.TextThemeColor.Secondary:t.push(this._themeStyles.secondaryTextColorStyle);break;case s.TextThemeColor.Disabled:t.push(this._themeStyles.disabledTextColorStyle);break;case s.TextThemeColor.Destructive:t.push(this._themeStyles.destructiveTextColorStyle)}return this.props.style&&t.push(this.props.style),(0,n.jsx)(o.Link,Object.assign({},this.props,{style:t,ref:this._onTextElementRef},{children:this.props.children}))}}t.default=u},371190:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextBase=void 0;const n=i(785893),o=i(516778),s=i(898278),a=(i(746096),i(436237),i(24576));class r extends a.default{constructor(){super(...arguments),this._onTextElementRef=e=>{this._textElement=e||void 0}}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount()}requestFocus(){this.isComponentMounted()&&this._textElement&&this._textElement.requestFocus&&this._textElement.requestFocus()}blur(){this.isComponentMounted()&&this._textElement&&this._textElement.blur&&this._textElement.blur()}render(){const e=this._textStyles();if(this.props.textThemeColor)switch(this.props.textThemeColor){case s.TextThemeColor.Primary:e.push(this._themeStyles.primaryTextColorStyle);break;case s.TextThemeColor.Secondary:e.push(this._themeStyles.secondaryTextColorStyle);break;case s.TextThemeColor.Disabled:e.push(this._themeStyles.disabledTextColorStyle);break;case s.TextThemeColor.Destructive:e.push(this._themeStyles.destructiveTextColorStyle)}this.props.style&&e.push(this.props.style);const t=Object.assign(Object.assign({},this.props),{style:e});return this.props.accessibilityHidden&&(t.importantForAccessibility=o.Types.ImportantForAccessibility.NoHideDescendants),(0,n.jsx)(o.Text,Object.assign({},t,{ref:this._onTextElementRef}))}}t.TextBase=r,t.default=r},619675:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextThemeColor=t.HeaderSize=t.BodyTextSize=t.ThemeAwareText=t.PanelHeader=t.CardTitle=t.RowTitle=t.SubtitleModernize=t.Subtitle=t.Header=t.Caption=t.BodyText=void 0;const n=i(516778),o=i(898278);Object.defineProperty(t,"BodyTextSize",{enumerable:!0,get:function(){return o.BodyTextSize}}),Object.defineProperty(t,"HeaderSize",{enumerable:!0,get:function(){return o.HeaderSize}}),Object.defineProperty(t,"TextThemeColor",{enumerable:!0,get:function(){return o.TextThemeColor}});const s=i(371639),a=i(106658),r=i(29130),l=i(311010),c=i(371190),d=i(734537),u=i(600212);class g extends c.default{_textStyles(){return[this.props.bold?l.default.bodyBoldFontStyle(this._currentTheme,this.props.size):l.default.bodyFontStyle(this._currentTheme,this.props.size)]}}t.BodyText=g;class h extends c.default{_textStyles(){const e=[this.props.small?l.default.fontStyle.captionSmall:l.default.fontStyle.caption];if(this.props.messageStreamFontSize&&this.props.messageStreamFontSize!==a.MessageStreamFontSize.Normal){const t=s.getStyleFromStyle(e,this.props.messageStreamFontSize);e.push(t)}return e.push(n.Styles.createTextStyle({color:this._themeColors.textSecondary},!1)),e}}t.Caption=h;class p extends c.default{_textStyles(){let e;switch(this.props.size){case o.HeaderSize.h0:e=this.props.light?l.default.fontStyleNext.h0Light:l.default.fontStyle.h0;break;case o.HeaderSize.h1:e=this.props.light?l.default.fontStyleNext.h1Light:l.default.fontStyle.h1;break;case o.HeaderSize.h2:e=this.props.light?l.default.fontStyleNext.h2Light:l.default.fontStyle.h2;break;case o.HeaderSize.h3:e=this.props.light?l.default.fontStyleNext.h3Light:l.default.fontStyle.h3;break;case o.HeaderSize.h4:e=this.props.light?l.default.fontStyleNext.h4Light:l.default.fontStyle.h4;break;default:case o.HeaderSize.h5:e=this.props.light?l.default.fontStyleNext.h5Light:l.default.fontStyle.h5}return[e,this._themeStyles.primaryTextColorStyle]}}t.Header=p;class S extends c.default{_textStyles(){return[l.default.callHeaderSubtitleFontStyle(this._currentTheme,this.props.v2)]}}t.Subtitle=S;class m extends c.default{_textStyles(){const e=u.default.themeStylesForTheme(this._currentTheme);return[d.default.getCategoryHeaderTextStyle(e,this.props.useMobileUI)]}}t.SubtitleModernize=m;class C extends c.default{_textStyles(){const e=[l.default.rowTitleFontStyle(this._currentTheme),this.props.textStyle];return this.props.disabled&&e.push(this._themeStyles.disabledTextColorStyle),e}}t.RowTitle=C;class y extends c.default{_textStyles(){const e=r.default.isSmallDeviceNoSubscription(this._getRootViewId())&&!1!==this.props.useSmallTitle;return[l.default.cardTitleFontStyle(this._currentTheme,e)]}}t.CardTitle=y;class f extends c.default{_textStyles(){return[l.default.panelHeaderFontStyle(this.props.landscape,this._currentTheme)]}}t.PanelHeader=f;class b extends c.default{_textStyles(){return[]}}t.ThemeAwareText=b},587331:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(967593),s=i(665768),a=i(516778),r=i(889391),l=i(746096),c=i(436237),d=i(915877),u=i(733754),g=i(89808),h=i(581760),p=i(640363),S=i(24576),m=i(853374),C=(0,d.lazyProperties)({container:()=>a.Styles.createButtonStyle({flexDirection:"row",alignItems:"center"}),toggleSwitch:()=>a.Styles.createViewStyle({flexDirection:"row",borderRadius:15,marginVertical:8,height:30,width:50,backgroundColor:h.Color.gray300}),toggleSwitchAndroid:()=>a.Styles.createViewStyle({backgroundColor:h.Color.transparent,borderRadius:0,alignItems:"center",justifyContent:"center"}),toggleSwitchUWP:()=>a.Styles.createViewStyle({backgroundColor:h.Color.transparent,borderRadius:0,alignItems:"center",justifyContent:"center"}),toggleSwitchBackgroundWrapperAndroid:()=>a.Styles.createViewStyle({position:"absolute",top:8,left:8,width:34,height:14,borderRadius:7}),toggleSwitchBackgroundWrapperColorAndroid:()=>a.Styles.createViewStyle({backgroundColor:h.Color.gray300}),toggleSwitchBackgroundWrapperUWP:()=>a.Styles.createViewStyle({position:"absolute",top:6,left:5,width:40,height:18}),toggleSwitchBackground:()=>a.Styles.createViewStyle({position:"absolute",top:0,bottom:0,left:0,right:0,borderRadius:15}),toggleSwitchBackgroundAndroid:()=>a.Styles.createViewStyle({borderRadius:7}),toggleSwitchBackgroundUWP:()=>a.Styles.createViewStyle({borderRadius:10}),toggleKnob:()=>a.Styles.createViewStyle({top:2,height:26,width:26,borderRadius:13}),toggleKnobAndroid:()=>a.Styles.createViewStyle({top:0,height:24,width:24,borderRadius:12,borderWidth:2,borderStyle:"solid",backgroundColor:h.Color.gray300}),toggleKnobUWP:()=>a.Styles.createViewStyle({height:10,width:10,borderRadius:5})});class y extends S.default{constructor(){super(...arguments),this._onButtonRef=e=>{this._buttonRef=e||void 0},this._onKnobAnimatedViewRef=e=>{this._animatedKnobView=e||void 0},this._onBackgroundAnimatedViewRef=e=>{this._animatedBackgroundView=e||void 0},this._handleClick=e=>{e.stopPropagation(),this.props.onChange&&this.props.onChange(e,!this.props.isOn)}}_buildState(e,t){const i={colors:g.default.getGradientColors(),primaryBackgroundColorStyle:g.default.getPrimaryBackgroundColorStyle()};return t&&(i.useUwpToggleStyle=p.default.getPlatformType()===l.PlatformType.Windows,i.useUwpToggleStyle&&(this._uwpToggleBackgroundValue=new a.Animated.Value(e.isOn?1:0))),i.enableRefreshedPalette=r.default.getS4LUiFeatures().enableRefreshedPalette,i}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),this.props.isOn!==e.isOn){const e=m.default.newCauseId();c.log(l.LogTraceArea.SXAnimated,"ToggleSwitch.componentDidUpdate causeId: "+e);const t=[];this._backgroundAnimation&&this._backgroundAnimation.stop(),this._animatedKnobView&&t.push(this._animatedKnobView.getAnimation({x:{toValue:this.props.isOn?this._knobLeftOnValue(this.state.useUwpToggleStyle):this._knobLeftOffValue(this.state.useUwpToggleStyle),easing:s.Easing.SkypeShotgun,duration:s.Common.Duration.Tiny}},e)),this.state.useUwpToggleStyle&&this._uwpToggleBackgroundValue?(this._backgroundAnimation=s.timing.shotgun({value:this._uwpToggleBackgroundValue,toValue:this.props.isOn?1:0,duration:s.Common.Duration.Tiny}),t.push(this._backgroundAnimation)):this._animatedBackgroundView&&(this._backgroundAnimation=this._animatedBackgroundView.getAnimation({opacity:this.props.isOn?1:0},e),t.push(this._backgroundAnimation)),t.length&&s.parallel(t).start((()=>{delete this._backgroundAnimation}))}}render(){let e=a.Styles.combine(C.toggleKnob,this._themeStyles.primaryBackgroundColorStyle),t=a.Styles.combine(C.toggleSwitchBackground),i=a.Styles.combine(C.toggleSwitch,this.props.toggleSwitchStyles);const r=this._useAccessibleTheme(),l=this.state.enableRefreshedPalette?a.Styles.createViewStyle({backgroundColor:this.props.isOn?this._themeColors.iconInteractive:this._themeColors.iconSecondary},!1):void 0,c=this.state.enableRefreshedPalette&&this.props.disable?a.Styles.createViewStyle({backgroundColor:this._themeColors.iconDisabled},!1):void 0;if(!this.state.useUwpToggleStyle&&this.state.enableRefreshedPalette&&(i=this.props.disable?a.Styles.combine(i,c):a.Styles.combine(i,l)),this.state.useUwpToggleStyle&&this._uwpToggleBackgroundValue){const n=this._getWindowsStyles(t,e,i);t=n.backgroundStyle,i=n.toggleSwitchStyles,e=n.knobStyles}const d=this.state.useUwpToggleStyle||r?void 0:(0,n.jsx)(o.GradientView,{style:C.toggleSwitchBackground,direction:this._getContext().isRTL?o.GradientDirection.LEFT:o.GradientDirection.RIGHT,colors:this.state.colors});let g;g=this.state.useUwpToggleStyle?(0,n.jsx)(a.Animated.View,{style:[t,this._uwpToggleBackgroundStyle]},"background"):(0,n.jsx)(s.View,Object.assign({ref:this._onBackgroundAnimatedViewRef,style:t,opacity:this.props.isOn?1:0},{children:d}),"background"),this.state.useUwpToggleStyle&&(g=(0,n.jsx)(a.View,Object.assign({style:C.toggleSwitchBackgroundWrapperUWP},{children:g}),"background-wrapper"));const h=[g,(0,n.jsx)(s.View,{ref:this._onKnobAnimatedViewRef,style:e,x:this.props.isOn?this._knobLeftOnValue(this.state.useUwpToggleStyle):this._knobLeftOffValue(this.state.useUwpToggleStyle),y:this.state.useUwpToggleStyle?-2:void 0},"knob")];let p;const S={style:i,key:"switch"};if(p=(0,n.jsx)(s.View,Object.assign({},S,{opacity:1},{children:h})),this.props.disableInteraction)return p;let m,y,f;m=this.props.accessibilityLabel,y=this.props.isOn?u.getString("ToggleSwitch.OnText"):u.getString("ToggleSwitch.OffText"),f=[a.Types.AccessibilityTrait.CheckBox],this.props.isOn&&f.push(a.Types.AccessibilityTrait.Checked);const b=this.props.onChange?a.Button:a.View;return(0,n.jsx)(b,Object.assign({style:C.container,onPress:this.props.onChange?this._handleClick:void 0,disabled:this.props.disable,disableTouchOpacityAnimation:!0,accessibilityLabel:m,accessibilityTraits:f,disabledOpacity:this.state.enableRefreshedPalette?1:void 0,title:y,ref:this._onButtonRef},{children:p}))}_knobLeftOnValue(e){return e?this._getContext().isRTL?-11:11:22*(this._getContext().isRTL?-1:1)}_knobLeftOffValue(e){return e?this._getContext().isRTL?11:-11:2*(this._getContext().isRTL?-1:1)}requestFocus(){this._buttonRef&&this._buttonRef.requestFocus()}_getAndroidStyles(e,t,i,n,o){return t=a.Styles.combine(t,C.toggleKnobAndroid),i=a.Styles.combine(i,C.toggleSwitchAndroid),t=this.props.overlayColorAndroid?a.Styles.combine(t,a.Styles.createViewStyle({borderColor:this.props.overlayColorAndroid},!1)):a.Styles.combine(t,this._themeStyles.primaryBorderColorStyle),this.state.enableRefreshedPalette?this.props.disable?(e=a.Styles.combine(e,o),t=a.Styles.combine(t,a.Styles.createViewStyle({backgroundColor:this._themeColors.surfacePrimary,borderColor:this._themeColors.iconDisabled},!1))):(t=a.Styles.combine(t,a.Styles.createViewStyle({backgroundColor:this._themeColors.surfacePrimary,borderColor:this.props.isOn?this._themeColors.iconInteractive:this._themeColors.iconSecondary},!1)),e=a.Styles.combine(e,n)):(e=a.Styles.combine(e,C.toggleSwitchBackgroundAndroid),e=a.Styles.combine(e,this.state.primaryBackgroundColorStyle),this.props.isOn&&(t=a.Styles.combine(t,this.state.primaryBackgroundColorStyle))),{toggleSwitchStyles:i,knobStyles:t,backgroundStyle:e}}_getWindowsStyles(e,t,i){i=a.Styles.combine(i,C.toggleSwitchUWP),t=a.Styles.combine(t,[C.toggleKnobUWP,this._themeStyles.primaryBackgroundColorStyle]),e=a.Styles.combine(e,C.toggleSwitchBackgroundUWP);let n=[h.Color.gray300,g.default.getPrimaryColorNoSubscription()];return this.state.enableRefreshedPalette&&(n=this.props.disable?[this._themeColors.iconDisabled,this._themeColors.iconDisabled]:[this._themeColors.iconSecondary,this._themeColors.iconInteractive]),this._uwpToggleBackgroundValue&&(this._uwpToggleBackgroundStyle=a.Styles.createAnimatedViewStyle({backgroundColor:this._uwpToggleBackgroundValue.interpolate({inputRange:[0,1],outputRange:n})})),{toggleSwitchStyles:i,knobStyles:t,backgroundStyle:e}}}t.default=y},899056:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(911009),s=i(677381),a=i(216582),r=i(849776),l=i(871499);class c extends s.default{constructor(){super(...arguments),this._updateAnchorRect=()=>{this._popupView&&this._popupView.updatePosition(this.state.config)},this._onPopupViewRef=e=>{this._popupView=e||void 0},this._getPopUpPositions=()=>[o.PopupAnchorPositon.Top],this._getAnchorInfo=()=>this.state.config,this._renderPopupContent=()=>{const{displayText:e,style:t,textColor:i}=this.state.config;return(0,n.jsx)(r.default,{displayText:e||"",style:t,textColor:i})}}_buildState(e,t){return{config:l.default.getToolTipConfig(this._getRootViewId())}}componentDidMount(){super.componentDidMount(),this._updateAnchorRect()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.config!==t.config&&this.state.config&&this._updateAnchorRect()}render(){var e;return this.state.config&&this.state.config.displayText.length?(0,n.jsx)(a.default,{ref:this._onPopupViewRef,disablePositionAnimation:!0,getAnchorInfo:this._getAnchorInfo,getPopupPositions:this._getPopUpPositions,containerOffsetY:null!==(e=this.state.config.containerOffsetY)&&void 0!==e?e:5,renderPopup:this._renderPopupContent,showArrow:this.state.config.showArrow,arrowColor:this.state.config.arrowColor}):null}}t.default=c},666526:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(822854),a=i(702301),r=i(388117),l=i(286259);class c extends o.ComponentBase{render(){const e=r.default.getIconSize(this.props.size);return this.props.isOneOnOne?(0,n.jsx)(a.UserIcon,{userMri:this.props.mri,size:e.user,statusTypes:this.props.showStatus?l.contactAllowedStatuses():void 0,statusBorderColor:this.props.statusBorderColor}):(0,n.jsx)(s.ConversationIcon,{conversationId:this.props.mri,size:e.conversation})}}t.default=c},677524:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WideButton=void 0;const n=i(785893),o=i(496486),s=i(516778),a=i(705465),r=i(281878),l=i(898278),c=i(944973),d=i(587134),u=i(139285),g=i(110117),h=i(915877),p=i(733754),S=i(915415),m=i(581760),C=i(311010),y=i(711828),f=i(734528),b=i(680837),_=i(619675),v=i(24576),T=(0,h.lazyProperties)({container:()=>s.Styles.createViewStyle({alignSelf:"stretch"}),buttonInner:()=>s.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",minHeight:60,alignItems:"center",alignSelf:"stretch"}),iconStyleMargin:()=>s.Styles.createViewStyle({marginRight:10}),bottomTextLine:()=>s.Styles.createViewStyle({marginTop:2}),divider:()=>s.Styles.createViewStyle({position:"absolute",left:0,right:0,bottom:0,height:1}),rightLabelText:()=>s.Styles.createTextStyle({textAlignVertical:"center",marginLeft:6,alignSelf:"center"}),rightArrowView:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:6,overflow:"visible"}),rightArrowText:()=>s.Styles.createViewStyle({backgroundColor:m.Color.transparent,overflow:"visible"})});class P extends v.default{constructor(){super(...arguments),this._handleOnClick=e=>{e.stopPropagation(),this.props.onPressed&&this.props.onPressed(e)},this._onHoverStart=()=>{this.isComponentMounted()&&this.setState({isHovering:!0})},this._onButtonRef=e=>{this._focussableComponentRef=e||void 0},this._onHoverEnd=()=>{this.isComponentMounted()&&this.setState({isHovering:!1})}}_buildState(e,t){const i={};return t&&(i.isHovering=!1),i}requestFocus(){this._focussableComponentRef&&this._focussableComponentRef.focus()}render(){var e,t;let i,h,m;if(this.props.icon){let a;const r=this.state.isHovering?this._themeColors.textHoverColor:this.props.isDestructive?this._themeColors.destructiveTextColor:void 0;a=o.isArray(this.props.icon)?o.map(this.props.icon,((e,t)=>({icon:e,color:r,opacity:t>0?.6:1}))):[{icon:this.props.icon,color:r}];const l=this.props.iconMargins||this.props.iconPadding?s.Styles.createViewStyle({marginLeft:null===(e=this.props.iconMargins)||void 0===e?void 0:e.left,marginRight:null===(t=this.props.iconMargins)||void 0===t?void 0:t.right,padding:this.props.iconPadding},!1):T.iconStyleMargin;i=(0,n.jsx)(u.default,Object.assign({style:l},{children:(0,n.jsx)(c.default,{icons:a,iconSize:this.props.iconSize})}))}this.props.showSpinner?h=(0,n.jsx)(S.default,{size:l.SXActivityIndicatorSize.Small,tintColor:this._themeColors.primaryTextColor}):this.props.hideArrow||(h=(0,n.jsx)(u.default,Object.assign({style:T.rightArrowView},{children:(0,n.jsx)(g.default,{icon:f.navForwardIcon(),size:y.IconSize.size20,color:this._themeColors.disclosureArrowColor,style:T.rightArrowText})}))),this.props.labelBottom&&(m=(0,n.jsx)(_.Caption,Object.assign({style:T.bottomTextLine,numberOfLines:this.props.labelBottomSingleLine?1:2},{children:this.props.labelBottom})));const v=[this.props.useRegularFont?C.default.bodyFontStyle(this._currentTheme):C.default.rowTitleFontStyle(this._currentTheme),b.default.flexOne];this.props.disabled&&!this.props.showFullOpacityWhenDisabled?v.push(this._themeStyles.disabledTextColorStyle):this.props.isDestructive&&v.push(this._themeStyles.destructiveTextColorStyle),this.props.labelStyle&&v.push(this.props.labelStyle),this.state.isHovering&&v.push(this._themeStyles.textHoverColorStyle);const P=[T.buttonInner,b.default.pointerCursor];this.props.buttonStyles&&P.push(this.props.buttonStyles);const k=this.props.hideDivider?void 0:(0,n.jsx)(d.default,{style:T.divider});let A=this.props.accessibilityLabel;if(!A){const e=o.compact([this.props.label,this.props.labelBottom,this.props.labelRight]);A=o.join(e,", ")}this.props.disabled,!this._useLinkTrait()&&this.props.treatAsLink&&A&&(A+=", "+p.getString("Browser.OpenUrlInBrowserTitle"));const I=this._useLinkTrait()?"link":"button";return(0,n.jsxs)(s.View,Object.assign({style:[T.container,b.default.noncollapsibleView,this.props.style]},{children:[(0,n.jsxs)(a.Pressable,Object.assign({ref:this._onButtonRef,accessibilityLabel:A,accessibilityRole:I,style:P,onPress:this._handleOnClick,onLongPress:this.props.onLongPress,disabled:this.props.disabled,onHoverIn:this.props.disabled?void 0:this._onHoverStart,onHoverOut:this.props.disabled?void 0:this._onHoverEnd},{children:[i,(0,n.jsxs)(r.Row,Object.assign({flex:1},{children:[(0,n.jsxs)(r.Column,Object.assign({flex:1},{children:[(0,n.jsx)(s.Text,Object.assign({style:v,numberOfLines:o.isUndefined(this.props.labelNumberOfLines)?2:this.props.labelNumberOfLines},{children:this.props.label})),m]})),(0,n.jsx)(_.RowTitle,Object.assign({style:[this._themeStyles.secondaryTextColorStyle,T.rightLabelText],numberOfLines:2},{children:this.props.labelRight}))]})),h]})),k]}))}_useLinkTrait(){return this.props.treatAsLink&&!0}}t.WideButton=P},925177:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(671830),a=i(741660),r=i(539549),l=i(952262),c=i(662630),d=i(231820);class u extends o.ComponentBase{constructor(){super(...arguments),this._onImageError=()=>{this.setState({avatarUrl:void 0})}}_buildState(e){return{avatarUrl:l.default.getDisplayableProfile(e.id).getAvatarUrl(),variant:g((0,r.default)().getConversation(e.id))}}render(){return(0,n.jsx)(d.EntityAvatar,{avatarUrl:this.state.avatarUrl,onImageError:this._onImageError,BottomSlot:this.props.bottomSlot,FallbackSlot:(0,n.jsx)(c.default,{id:this.props.id,variant:this.state.variant,size:this.props.size}),size:this.props.size,variant:this.state.variant})}}function g(e){return e&&(0,s.isAgent)(e.id)||(0,a.isContentChannel)(e)?"square":"round"}t.default=u},662630:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(231820),a=i(952262);class r extends o.ComponentBase{_buildState(e){return{initials:a.default.getDisplayableProfile(e.id).getUpperCaseInitials()}}render(){return(0,n.jsx)(s.EntityInitialsAvatar,{initials:this.state.initials,variant:this.props.variant,size:this.props.size||"md"})}}t.default=r},23656:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InitialsConversationAvatar=t.ConversationAvatar=void 0;var n=i(925177);Object.defineProperty(t,"ConversationAvatar",{enumerable:!0,get:function(){return n.default}});var o=i(662630);Object.defineProperty(t,"InitialsConversationAvatar",{enumerable:!0,get:function(){return o.default}})},144228:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(803056),r=i(746096),l=i(211375),c=i(436237),d=i(547126),u=i(706250),g=i(680837),h=i(24576),p="row";class S extends h.default{constructor(){super(...arguments),this._focusedButtonIndex=0,this._mountedRefsMap=new u.default,this.handleFocusEvent=e=>(c.log(r.LogTraceArea.GenericUnsafe,"CustomActionMenuBase.handleFocusEvent"),e===l.FocusEvent.CustomActionMenuDisplayed&&(this.focusFirst(),!0)),this._onKeyPress=e=>{switch(e.keyCode){case d.default.UP:case d.default.LEFT:--this._focusedButtonIndex;break;case d.default.DOWN:case d.default.RIGHT:++this._focusedButtonIndex;break;default:return}const t=o.size(this._mountedRefsMap.allRefs());this._focusedButtonIndex<0?this._focusedButtonIndex=0:this._focusedButtonIndex>t-1&&(this._focusedButtonIndex=t-1);const i=this._mountedRefsMap.ref(p+this._focusedButtonIndex);i&&i.requestFocus(),e.preventDefault(),e.stopPropagation()}}focusFirst(){const e=this._mountedRefsMap.ref(p+0);e&&e.requestFocus()}componentDidMount(){super.componentDidMount(),l.register(l.FocusEvent.CustomActionMenuDisplayed,this)}componentWillUnmount(){super.componentWillUnmount(),l.unregister(l.FocusEvent.CustomActionMenuDisplayed,this)}render(){return(0,n.jsx)(a.default,Object.assign({isPresentedInMobileSheet:!0},{children:(0,n.jsx)(s.View,Object.assign({style:[this.props.style,g.default.flexOne],onKeyPress:this._onKeyPress},{children:this._renderRows(this.props,this.state)}))}))}_renderRows(e,t){const i=this._buildRows(e,t),n=i.length-1;let s=0;return o.map(i,((t,i)=>{const o=!t.nonInteractive,a=Object.assign(Object.assign({},t.props),{ref:o?this._mountedRefsMap.onComponentRef(p+s):void 0,hideBorder:t.props.hideBorder||i===n,colorThemeOverride:e.colorThemeOverride});return o&&s++,t.builder(a)}))}}t.default=S},311734:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(587134);class a extends o.ComponentBase{static rowHeight(e){return 1+(e.marginTop||0)+(e.marginBottom||0)}render(){return(0,n.jsx)(s.default,Object.assign({},this.props))}}a.buildRow=e=>(0,n.jsx)(a,Object.assign({},e)),t.default=a},552293:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GridAlignment=void 0;const n=i(785893),o=i(496486),s=i(516778),a=i(944973),r=i(136400),l=i(915877),c=i(706250),d=i(581760),u=i(680837),g=i(619675),h=i(24576);var p;!function(e){e[e.Default=0]="Default",e[e.Center=1]="Center"}(p=t.GridAlignment||(t.GridAlignment={}));const S=(0,l.lazyProperties)({buttonStyle:()=>s.Styles.createViewStyle({height:80,alignSelf:"stretch",alignItems:"center",justifyContent:"center",backgroundColor:d.Color.transparent}),tabTitle:()=>s.Styles.createTextStyle({textAlign:"center",marginTop:5,height:28}),gridView:()=>s.Styles.createViewStyle({flexWrap:"wrap",flexDirection:"row",justifyContent:"space-around",alignItems:"center",marginTop:8,paddingHorizontal:10}),icon:()=>s.Styles.createViewStyle({width:40,height:40,borderRadius:8,alignItems:"center",justifyContent:"center"})});class m extends h.default{constructor(){super(...arguments),this._mountedRefsMap=new c.default,this._onLayout=e=>{this.state.viewWidth!==e.width&&this.setState({viewWidth:e.width})},this._renderButton=(e,t)=>{const i=o.isArray(e.icon)?e.icon:[e.icon];return(0,n.jsx)(s.View,Object.assign({style:t},{children:(0,n.jsxs)(r.HoverableButton,Object.assign({ref:this._mountedRefsMap.onComponentRef("griditem"+e.key),style:S.buttonStyle,title:e.title,onPress:e.onPress,activeOpacity:.8,accessibilityLabel:e.accessibilityLabel,disableHoverOpacityStyles:!0,hoverStyle:this._themeStyles.rowHoverViewStyle},{children:[(0,n.jsx)(s.View,Object.assign({style:[S.icon,this._themeStyles.secondaryBackgroundColorStyle]},{children:(0,n.jsx)(a.default,{icons:i})})),(0,n.jsx)(g.Caption,Object.assign({style:S.tabTitle,numberOfLines:2,allowFontScaling:!1,colorThemeOverride:this.props.colorThemeOverride},{children:e.title}))]}))}),e.key)},this._renderSpacer=(e,t)=>(0,n.jsx)(s.View,{style:t},e)}static rowHeight(e,t=4){if(!e)return 0;return 8+80*Math.ceil(e/t)}_buildState(e,t){const i={};return t&&(i.viewWidth=e.estimatedWidth||0),i}requestFocus(){const e=o.keys(this._mountedRefsMap.allRefs());if(e&&e[0]){const t=this._mountedRefsMap.ref(e[0]);t&&t.requestFocus()}}render(){let e;if(this.state.viewWidth){const t=this.props.buttonDescriptors,i=Math.min(t.length,this.props.columnCount||4),n=[s.Styles.createViewStyle({width:i>0?Math.floor((this.state.viewWidth-20)/i):this.state.viewWidth,alignItems:"center",justifyContent:"center"},!1),u.default.noncollapsibleView];if(e=o.map(this.props.buttonDescriptors,(e=>this._renderButton(e,n))),this.props.gridAlignment!==p.Center){const o=t.length%i==0?0:i-t.length%i;for(let t=0;t<o;t++)e.push(this._renderSpacer("spacer"+t,n))}}return(0,n.jsx)(s.View,Object.assign({style:S.gridView,ignorePointerEvents:!0,onLayout:this._onLayout},{children:e}))}}m.buildRow=e=>(0,n.jsx)(m,Object.assign({},e)),t.default=m},563190:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(711930),a=i(915877),r=i(330124),l=i(619675),c=i(24576),d=(0,a.lazyProperties)({frame:()=>o.Styles.createViewStyle({minHeight:30}),innerContainer:()=>o.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",marginHorizontal:10,paddingTop:10,paddingBottom:0}),innerContainerBottomBorder:()=>o.Styles.createViewStyle({borderBottomWidth:1}),innerContainerDesktop:()=>o.Styles.createViewStyle({marginHorizontal:15})});class u extends c.default{static getMenuItemHeight(){return 30}_buildState(e,t){return{isUsingStackNav:r.default.isUsingStackNavigationContext()}}render(){const e=[d.innerContainer];this.props.hideBorder||e.push(this._themeStyles.dividerBorderColorStyle,d.innerContainerBottomBorder),this.state.isUsingStackNav||e.push(d.innerContainerDesktop);const t=s.default.headerAccessibilityInfo(this.props.title);let i;return i=this.props.rowHeight?o.Styles.createViewStyle({height:this.props.rowHeight},!1):d.frame,(0,n.jsx)(o.View,Object.assign({style:i},{children:(0,n.jsx)(o.View,Object.assign({style:e,accessibilityLabel:t.accessibilityLabel,importantForAccessibility:o.Types.ImportantForAccessibility.Yes,accessibilityTraits:t.accessibilityTraits},{children:(0,n.jsx)(l.Subtitle,Object.assign({colorThemeOverride:this.props.colorThemeOverride,accessibilityHidden:!0},{children:this.props.title}))}))}))}}u.buildRow=e=>(0,n.jsx)(u,Object.assign({},e)),t.default=u},114953:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(560464),a=i(516778),r=i(462033),l=i(824490),c=i(746096),d=i(436237),u=i(915877),g=i(190631),h=i(79669),p=i(600212),S=i(619675),m=i(24576),C=i(418037),y=i(897634),f=i(853374),b=(0,u.lazyProperties)({captionContainerBase:()=>a.Styles.createViewStyle({alignSelf:"stretch",alignItems:"center",justifyContent:"center",marginHorizontal:8}),captionContainerFixedHeight:()=>a.Styles.createViewStyle({height:40}),captionContainerFlexibleHeight:()=>a.Styles.createViewStyle({minHeight:40}),caption:()=>a.Styles.createTextStyle({textAlign:"center",alignSelf:"stretch"}),title:()=>a.Styles.createViewStyle({alignSelf:"stretch"})});class _ extends m.default{constructor(){super(...arguments),this._onBackButtonPressed=()=>{const e=f.default.newCauseId();return d.log(c.LogTraceArea.HardwareBackButton,"CustomActionMenuPopup._onBackButtonPressed, causeId: "+e),!!this.props.onDismiss&&(this.props.onDismiss(e),!0)}}_buildState(e){return{themeColors:o.isUndefined(e.colorThemeOverride)?C.default.themeColors():p.default.themeColorsForTheme(e.colorThemeOverride)}}componentDidMount(){super.componentDidMount(),r.default.subscribe(this._onBackButtonPressed)}componentWillUnmount(){super.componentWillUnmount(),r.default.unsubscribe(this._onBackButtonPressed)}render(){const e=this.props.menuHeight,t=this.props.staticContent||!e,i=this.props.title||this.props.headerConfig&&this.props.headerConfig.headerType!==l.HeaderType.Slim?(0,n.jsx)(g.SimplePanelHeader,{panelName:this.props.title,hideBottomBorder:!0,useCenteredControls:!0,style:b.title,rightButtons:this.props.headerConfig?this.props.headerConfig.rightButton:void 0,colorThemeOverride:this.props.colorThemeOverride,useTransparentBackground:!0}):void 0,o=this.props.subtitle?(0,n.jsx)(a.View,Object.assign({style:[b.captionContainerBase,t?b.captionContainerFlexibleHeight:b.captionContainerFixedHeight]},{children:(0,n.jsx)(S.Caption,Object.assign({style:b.caption,colorThemeOverride:this.props.colorThemeOverride},{children:this.props.subtitle}))})):void 0,r=(e||0)+(i?g.HeaderHeight:0)+(o?40:0),c=this.props.menuWidth?this.props.menuWidth:l.PopupWidth,d=c-(t?0:30),u=t?a.Styles.createViewStyle({minHeight:r,maxWidth:d},!1):a.Styles.createViewStyle({height:r,maxWidth:d},!1),p=this.props.useBlurredBackground?y.isDarkTheme(this._currentTheme)?s.BlurStyle.Dark:s.BlurStyle.ExtraLight:void 0,m=a.Styles.createViewStyle({width:c},!1),C=t?a.View:a.ScrollView;return(0,n.jsx)(h.default,Object.assign({anchorPosition:this.props.anchorPosition,anchorOffset:this.props.anchorOffset,offset:this.props.offset,popupWidth:this.props.popupWidth,popupHeight:this.props.popupHeight,fillColor:this.props.backgroundColor?this.props.backgroundColor:this.state.themeColors.primaryBackgroundColor,strokeColor:this.state.themeColors.popupBorderColor,importantForAccessibility:a.Types.ImportantForAccessibility.No,popupAccessibilityTitle:this.props.title,popupBeakHeight:this.props.hidePopupArrow?0:void 0,popupBeakWidth:this.props.hidePopupArrow?0:void 0,blurBackgroundStyle:p,borderRadius:this.props.borderRadius},{children:(0,n.jsxs)(a.View,Object.assign({style:u},{children:[i,(0,n.jsxs)(C,Object.assign({style:m},{children:[o,this.props.content]}))]}))}))}}t.default=_},881211:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(147204),s=i(662602),a=i(114953),r=i(746096),l=i(436237),c="customactionmenu";t.default=new class{show(e,t){if(l.log(r.LogTraceArea.GenericUnsafe,"CustomActionMenuPopupController.show causeId: "+t),this._showing&&(this.close(e.rootViewId),e.togglable))return;if(!e.anchor||!e.anchor())return l.error(r.LogTraceArea.GenericUnsafe,"CustomActionMenuPopupController.show, anchor is undefined!"),void this.close(e.rootViewId);if(!s.default.maybeMountedAnchor(e.anchor()))return l.error(r.LogTraceArea.GenericUnsafe,"CustomActionMenuPopupController.show, anchor is not mounted!"),void this.close(e.rootViewId);const i={getAnchor:()=>s.default.maybeMountedAnchor(e.anchor()),renderPopup:(t,i,o,s)=>{var c;return(0,n.jsx)(a.default,{anchorPosition:t,anchorOffset:i,offset:e.offset,popupWidth:o,popupHeight:s,title:null===(c=e.getTitle)||void 0===c?void 0:c.call(e),subtitle:e.getSubtitle?e.getSubtitle():void 0,hideSubtitleDivider:e.hideSubtitleDivider,content:e.content,headerConfig:e.headerConfig,staticContent:e.staticContent,hidePopupArrow:e.hidePopupArrow,colorThemeOverride:e.colorThemeOverride,menuHeight:e.menuHeight,menuWidth:e.menuWidth,backgroundColor:e.backgroundColor,borderRadius:e.borderRadius,useBlurredBackground:e.useBlurredBackground,onDismiss:t=>{l.log(r.LogTraceArea.GenericUnsafe,"CustomActionMenuPopupController.onHandleDismiss causeId: "+t),this.close(e.rootViewId)}})},positionPriorities:["bottom","top"],dismissIfShown:!0,onDismiss:()=>{var i;l.log(r.LogTraceArea.GenericUnsafe,"CustomActionMenuPopupController.onDismiss causeId: "+t),this.close(e.rootViewId),null===(i=e.onCloseMenu)||void 0===i||i.call(e,t)},rootViewId:e.rootViewId};this._showing=o.default.showPopup(i,c)}close(e){l.log(r.LogTraceArea.GenericUnsafe,"CustomActionMenuPopupController.close"),this._showing&&(this._showing=!1,o.default.dismissPopup(c,e))}}},153211:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CustomActionMenuRowType=void 0;const n=i(785893),o=i(516778),s=i(667294),a=i(398861),r=i(765110),l=i(110117),c=i(915877),d=i(374606),u=i(733754),g=i(89808),h=i(330124),p=i(539320),S=i(311010),m=i(711828),C=i(680837),y=i(619675),f=i(24576),b=i(587331);var _;!function(e){e[e.Default=1]="Default",e[e.Toggle=2]="Toggle",e[e.List=3]="List",e[e.Checkbox=4]="Checkbox",e[e.Alert=5]="Alert",e[e.Custom=6]="Custom"}(_=t.CustomActionMenuRowType||(t.CustomActionMenuRowType={}));const v=(0,c.lazyProperties)({frameStackNav:()=>o.Styles.createViewStyle({minHeight:80}),frameCompositeNav:()=>o.Styles.createViewStyle({minHeight:60}),innerContainer:()=>o.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",marginHorizontal:10,paddingVertical:10,overflow:"visible"}),innerContainerBottomBorder:()=>o.Styles.createViewStyle({borderBottomWidth:1}),innerContainerDesktop:()=>o.Styles.createViewStyle({marginHorizontal:15}),icon:()=>o.Styles.createViewStyle({paddingRight:14,overflow:"visible"}),accessoryIcon:()=>o.Styles.createViewStyle({marginLeft:8}),chevron:()=>o.Styles.createTextStyle({marginTop:4}),button:()=>o.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10}),image:()=>o.Styles.createViewStyle({paddingRight:14,width:m.IconSize.size24,height:m.IconSize.size24}),titleRow:()=>o.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",alignItems:"center"}),subtitle:()=>o.Styles.createTextStyle({lineHeight:22}),rightSideText:()=>o.Styles.createTextStyle({flexShrink:0,textAlign:"right"}),newLabel:()=>o.Styles.createTextStyle({marginRight:5,marginLeft:-2})});class T extends f.default{constructor(){super(...arguments),this._onPress=()=>{var e,t;null===(t=(e=this.props).onRowPress)||void 0===t||t.call(e,this.props.itemId)},this._onContainerRef=e=>{var t,i;this._containerRef=e||void 0,null===(i=(t=this.props).onRef)||void 0===i||i.call(t,this._containerRef)},this._onMouseEnter=()=>{this.isComponentMounted()&&(this.state.isHovered||this.setState({isHovered:!0}))},this._onMouseLeave=()=>{this.isComponentMounted()&&this.state.isHovered&&this.setState({isHovered:!1})}}_buildState(e,t){return{isUsingStackNav:h.default.isUsingStackNavigationContext(),userColor:g.default.getPrimaryColor()}}render(){const e=this.props.rowType===_.Alert&&!this._useAccessibleTheme();let t;if(this.props.subtitleText||this.props.keepSpaceForSubtitle){const i=this.state.isUsingStackNav?y.BodyText:y.Caption,s=[v.subtitle,C.default.noncollapsibleView];this._useAccessibleTheme()?s.push(this._themeStyles.secondaryTextColorStyle):e||this.props.treatAsLink?s.push(o.Styles.createTextStyle({color:this.state.userColor},!1)):s.push(this._themeStyles.secondaryTextColorStyle);const a={style:s,size:this.state.isUsingStackNav?y.BodyTextSize.SmallDeprecated:void 0};t=(0,n.jsx)(i,Object.assign({},a,{children:this.props.subtitleText}))}const i=this._showRightSideText()?(0,n.jsx)(y.Caption,Object.assign({style:v.rightSideText},{children:this.props.rightSideText})):void 0;let c;if(this.props.rowType===_.Checkbox)c=(0,n.jsx)(d.default,{isOn:!!this.props.isSelected});else if(this.props.rowType===_.Toggle)c=(0,n.jsx)(b.default,{isOn:!!this.props.isSelected,disableInteraction:!!this.props.disabled,overlayColorAndroid:this.props.toggleOverlayColorAndroid});else if(this.props.rowType===_.List)c=(0,n.jsx)(r.default,{style:v.button,label:this.props.listLabel?this.props.listLabel:"",useBodyBoldLabel:!0,chevronStyle:v.chevron,onPress:this.props.onRowPress?this._onPress:void 0,importantForAccessibility:a.ImportantForAccessibility.No});else if(this.props.accessoryIcon){let t=e?this.state.userColor:this._themeColors.secondaryTextColor;this.props.accessoryIconColor&&(t=this.props.accessoryIconColor),c=(0,n.jsx)(l.default,{style:v.accessoryIcon,size:this.props.accessoryIconSize||m.IconSize.size20,color:t,icon:this.props.accessoryIcon})}const g=[];this.props.rowHeight?g.push(o.Styles.createViewStyle({minHeight:this.props.rowHeight},!1)):g.push(this.state.isUsingStackNav?v.frameStackNav:v.frameCompositeNav),this.state.isHovered&&g.push(this.props.hoverStyle?this.props.hoverStyle:this._themeStyles.rowHoverViewStyle),this.props.style&&g.push(this.props.style);const h=[v.innerContainer];if(!this.props.hideBorder&&!e){const e=this.props.borderColor?o.Styles.createViewStyle({borderColor:this.props.borderColor},!1):this._themeStyles.dividerBorderColorStyle;h.push(e,v.innerContainerBottomBorder)}this.state.isUsingStackNav||h.push(v.innerContainerDesktop),this.props.containerStyleOverride&&h.push(this.props.containerStyleOverride);const f=[C.default.transparentBackground,C.default.flexNegativeOne];e&&!t?f.push(this.state.isUsingStackNav?S.default.fontStyle.body:S.default.fontStyle.caption):this.state.isUsingStackNav?f.push(S.default.fontStyle.secondaryButton):this.props.titleStyle&&f.push(this.props.titleStyle);const T=e?o.Styles.createTextStyle({color:this.state.userColor},!1):this._themeStyles.primaryTextColorStyle;f.push(this.props.titleTextColor?o.Styles.createTextStyle({color:this.props.titleTextColor},!1):T);const P=this.props.isNew&&(0,n.jsx)(p.default,{style:v.newLabel});let k;if(this.props.icon){const t=P?[v.icon,o.Styles.createViewStyle({paddingRight:8},!1)]:v.icon;let i=e?this.state.userColor:this._themeColors.primaryIconColor;this.props.iconColor&&(i=this.props.iconColor),k=(0,n.jsx)(l.default,{style:t,size:this.props.iconSize||m.IconSize.size24,color:i,icon:this.props.icon})}else this.props.imageSource&&(k=(0,n.jsx)(o.Image,{style:v.image,source:this.props.imageSource}));const A=this.props.rowType===_.Custom,I=!A&&this.props.onRowPress?o.Button:o.View;let w,x=this.props.accessibilityLabel;if(!this._useLinkTrait()&&this.props.treatAsLink&&(x=x||this.props.titleText+(this.props.subtitleText?", "+this.props.subtitleText:""),x&&(x+=", "+u.getString("Browser.OpenUrlInBrowserTitle"))),this.props.isSelected&&!this.props.suppressSelectedAccessibilityLabel&&(x+=", "+u.getString("Global.SelectedAccessibilityLabel")),e){const e=[C.default.absoluteFill,o.Styles.createViewStyle({backgroundColor:this.state.userColor,opacity:.2},!1)];w=(0,n.jsx)(o.View,{style:e})}const N=this.props.titleText?(0,n.jsx)(o.Text,Object.assign({style:f,numberOfLines:this.props.autoShortenText?1:void 0},{children:this.props.titleText})):void 0,M=A?this.props.customElement:(0,n.jsxs)(s.Fragment,{children:[k,P,(0,n.jsxs)(o.View,Object.assign({style:C.default.flexOne},{children:[(0,n.jsxs)(o.View,Object.assign({style:v.titleRow},{children:[N,i]})),t]})),c]}),L=A||this.props.removeTabIndex?void 0:0,O=A?o.Types.ImportantForAccessibility.No:o.Types.ImportantForAccessibility.Yes,D=A?void 0:x;return(0,n.jsxs)(I,Object.assign({style:g,ref:this._onContainerRef,onPress:this.props.onRowPress?this._onPress:void 0,accessibilityLabel:D,accessibilityTraits:this._useLinkTrait()?o.Types.AccessibilityTrait.Link:void 0,importantForAccessibility:O,disabled:!!this.props.disabled,title:this.props.tooltip,tabIndex:L},{children:[w,(0,n.jsx)(o.View,Object.assign({style:h,onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave},{children:M}))]}))}requestFocus(){this._containerRef&&this._containerRef.requestFocus()}_showRightSideText(){return this.props.rightSideText&&(!this.props.rowType||this.props.rowType===_.Default||this.props.rowType===_.Alert)}_useLinkTrait(){return this.props.treatAsLink&&!0}static getMenuItemHeight(){return 1+(h.default.isUsingStackNavigationContextNoSubscription()?80:60)}}T.buildRow=e=>(0,n.jsx)(T,Object.assign({},e)),t.default=T},307581:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(583367),s=i(560464),a=i(665768),r=i(516778),l=i(398861),c=i(462033),d=i(803056),u=i(898278),g=i(824490),h=i(313560),p=i(404336),S=i(437490),m=i(587134),C=i(746096),y=i(211375),f=i(436237),b=i(710400),_=i(915877),v=i(733754),T=i(29130),P=i(451070),k=i(536150),A=i(190631),I=i(581760),w=i(640363),x=i(711828),N=i(680837),M=i(600212),L=i(360305),O=i(619675),D=i(24576),R=i(897634),E=i(912770),B=i(853374),F=i(73877),V=i(913944),U=i(311010),j=(0,_.lazyProperties)({frame:()=>r.Styles.createViewStyle({position:"absolute",top:0,right:0,left:0,bottom:0,alignItems:"center",justifyContent:"center"}),background:()=>r.Styles.createViewStyle({position:"absolute",top:0,right:0,left:0,bottom:0,backgroundColor:I.Color.blackOverlay50}),menuContainer:()=>r.Styles.createViewStyle({position:"absolute",bottom:0,right:0,left:0}),menuContainerBackground:()=>r.Styles.createViewStyle({position:"absolute",bottom:-0,right:0,left:0,top:0,borderTopLeftRadius:u.CustomActionSheetBorderRadius,borderTopRightRadius:u.CustomActionSheetBorderRadius}),menuContainerCentered:()=>r.Styles.createViewStyle({borderRadius:u.CustomActionSheetBorderRadius}),caption:()=>r.Styles.createTextStyle({textAlign:"center",alignSelf:"stretch",marginBottom:8,marginHorizontal:8}),defaultWidthStyle:()=>r.Styles.createViewStyle({width:p.DefaultWidth}),grabberViewContainer:()=>r.Styles.createViewStyle({alignSelf:"stretch",height:25,alignItems:"center",justifyContent:"center"}),grabber:()=>r.Styles.createViewStyle({width:40,height:6,borderRadius:3,opacity:.2}),closeButtonRow:()=>r.Styles.createViewStyle({alignItems:"center",justifyContent:"flex-start",paddingVertical:16,marginHorizontal:10,flexDirection:"row"}),closeText:()=>r.Styles.combine(r.Styles.createTextStyle({flexGrow:0,flexShrink:1,paddingVertical:8,paddingLeft:12,color:I.Color.darkThemeSisuTextColor}),U.default.fontStyle.secondaryButton)});class H extends D.default{constructor(){super(...arguments),this._renderSlimHeaderGrabber=w.default.getPlatformType()===C.PlatformType.iOS,this._animationInProgress=!1,this._containerYPositionValue=new r.Animated.Value(99999),this._containerAnimationStyle=r.Styles.createAnimatedViewStyle({transform:[{translateY:this._containerYPositionValue}]}),this._backgroundOpacityValue=new r.Animated.Value(0),this._backgroundOpacityStyle=r.Styles.createAnimatedViewStyle({opacity:this._backgroundOpacityValue}),this._isDragging=!1,this._contentTransform=0,this._getCloseButtonRow=e=>{const t=r.Styles.createTextStyle({color:e.primaryTextColor},!1);return(0,n.jsxs)(r.View,{children:[(0,n.jsx)(m.default,{marginLeft:10,marginRight:10,marginTop:5,color:e.secondaryTextColor}),(0,n.jsxs)(r.Button,Object.assign({style:j.closeButtonRow,onPress:this._onCloseButtonPressed,accessibilityLabel:v.getString("Global.CloseButtonTitle"),importantForAccessibility:l.ImportantForAccessibility.Yes},{children:[(0,n.jsx)(V.default,{icon:x.SkypeIcon.ClosePanel,size:x.IconSize.size24,color:e.secondaryTextColor}),(0,n.jsx)(r.Text,Object.assign({style:[j.closeText,t]},{children:v.getString("Global.CloseButtonTitle")}))]}))]})},this._onBackButtonPressed=()=>{var e,t;const i=B.default.newCauseId();return f.log(C.LogTraceArea.HardwareBackButton,"MobileCustomActionMenuContainer._onBackButtonPressed, causeId: "+i),this.state.visibleConfiguration?(null===(t=(e=this.state.visibleConfiguration).onCloseMenu)||void 0===t||t.call(e,i),f.log(C.LogTraceArea.HardwareBackButton,"goBack: true componentId: MobileCustomActionMenuContainer, causeId: "+i),!0):(f.log(C.LogTraceArea.HardwareBackButton,"goBack: false componentId: MobileCustomActionMenuContainer"),!1)},this._onBackgroundPressed=e=>{e.stopPropagation();const t=B.default.newCauseId();f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._onBackgroundPressed, causeId: "+t),h.default.close(this._getRootViewId(),t)},this._onCloseButtonPressed=e=>{e.stopPropagation();const t=B.default.newCauseId();f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._onCloseButtonPressed, causeId: "+t),h.default.close(this._getRootViewId(),t)},this._onContainerLayout=e=>{let t=A.HeaderHeight;this.state.visibleConfiguration&&this.state.visibleConfiguration.headerConfig&&this.state.visibleConfiguration.headerConfig.headerType===g.HeaderType.Slim&&(t=this._renderSlimHeaderGrabber?25:0);let i=e.height+t+this.state.safeBottomPadding;const n=this.state.useFullscreenLayoutIfNeeded&&i>=this.state.screenHeight-this.state.safeTopPadding;if(n&&(this.state.screenHeight,1)&&(i=this.state.screenHeight),!this.state.containerHeight){const e=this.state.useCenteredLayout?H._centeredYOffset(i,this._getRootViewId()):i;f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._onContainerLayout, no previous container height, positioning container: "+e),this._containerYPositionValue.setValue(this.state.useCenteredLayout?H._centeredYOffset(i,this._getRootViewId()):i),this._backgroundOpacityValue.setValue(0)}this.state.containerHeight===i&&this.state.isFullScreenMode===n||(f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._onContainerLayout, updating container height: "+i),this.setState({isFullScreenMode:n,containerHeight:i}))},this._onHeaderRef=e=>{this._headerRef=e||void 0},this._dismiss=()=>{var e,t;const i=B.default.newCauseId();f.log(C.LogTraceArea.HardwareBackButton,"MobileCustomActionMenuContainer._dismiss, causeId: "+i),null===(t=null===(e=this.state.visibleConfiguration)||void 0===e?void 0:e.onCloseMenu)||void 0===t||t.call(e,i)},this._onPanVertical=e=>{const t=e.pageY-e.initialPageY;let i=this._contentTransform+t;if(i<-0&&(i=-0),this._containerYPositionValue.setValue(i),this._isDragging||(this._isDragging=!0),e.isComplete)if(this._contentTransform+=t,e.velocityY>.1||this._contentTransform>this.state.containerHeight/2)this._dismiss();else{const e=B.default.newCauseId();f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._onPanVertical, causeId: "+e),this._showContainer(e)}}}_buildState(e,t){const i=this._getRootViewId(),n=L.default.isTabletUI(),s=h.default.getCurrent(),a={safeTopPadding:P.default.statusBarPadding(),safeBottomPadding:P.default.bottomSafeAreaInset(),configuration:s&&!s.useDesktopPopup?s:void 0,isKeyboardShown:b.default.isKeyboardSeen(),useFullscreenLayoutIfNeeded:T.default.getDeviceOrientation(i)===o.DeviceOrientation.Landscape&&!n,screenHeight:T.default.getHeight(i),safeAreaHorizontalPaddingStyle:P.default.horizontalPaddingStyle(u.HorizontalInsetDefault),windowWidth:F.default.measureWindow(this._getRootViewId()).width,useCenteredLayout:n,isMobileScreenReaderEnabled:k.default.isMobileScreenReaderEnabled()};return t&&(a.containerHeight=0),a}UNSAFE_componentWillUpdate(e,t,i){if(super.UNSAFE_componentWillUpdate(e,t,i),!this.state.configuration&&t.configuration)this._setConfigurationVisible(t.configuration);else if(this.state.configuration&&!t.configuration){const e=B.default.newCauseId();f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer.UNSAFE_componentWillUpdate, configuration cleared, causeId: "+e),this._hideContainer(e,(()=>{this.isComponentMounted()&&this.setState({visibleConfiguration:void 0})}))}else if(this.state.configuration&&t.configuration&&this.state.configuration.content!==t.configuration.content){const e=B.default.newCauseId();f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer.UNSAFE_componentWillUpdate, configuration updated, causeId: "+e),this._hideContainer(e,(()=>this._setConfigurationVisible(t.configuration)))}}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i);const n=this.state.visibleConfiguration&&!t.visibleConfiguration,o=!this.state.visibleConfiguration&&t.visibleConfiguration,s=this.state.visibleConfiguration&&t.visibleConfiguration&&this.state.visibleConfiguration!==t.visibleConfiguration&&this.state.visibleConfiguration.menuId!==t.visibleConfiguration.menuId,a=this.state.containerHeight&&!t.containerHeight;if(this.state.containerHeight&&n||s||a){const e=B.default.newCauseId();f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer.componentDidUpdate visibleConfigSet: "+n+" visibleConfigChanged: "+s+" containerHeightSet: "+a+" containerHeight: "+(this.state.containerHeight!==t.containerHeight?t.containerHeight+" -> "+this.state.containerHeight:this.state.containerHeight)+" causeId: "+e),c.default.subscribe(this._onBackButtonPressed),n&&this.state.containerHeight&&(f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer.componentDidUpdate, visibleConfigSet: true positioning container: "+this.state.containerHeight),this._containerYPositionValue.setValue(this.state.containerHeight)),this._showContainer(e,(()=>{this._headerRef?this._headerRef.requestFocus():y.setFocus(y.FocusEvent.CustomActionMenuDisplayed)}))}else o&&c.default.unsubscribe(this._onBackButtonPressed)}render(){var e,t;if(!this.state.visibleConfiguration)return null;if(this.state.visibleConfiguration.rootViewId!==this._getRootViewId())return null;const i=void 0!==this.state.visibleConfiguration.colorThemeOverride?M.default.themeStylesForTheme(this.state.visibleConfiguration.colorThemeOverride):this._themeStyles,o=void 0!==this.state.visibleConfiguration.colorThemeOverride?M.default.themeColorsForTheme(this.state.visibleConfiguration.colorThemeOverride):this._themeColors,a=r.Styles.createViewStyle({paddingTop:this.state.isFullScreenMode?this.state.safeTopPadding:0,paddingBottom:this.state.safeBottomPadding,height:this.state.containerHeight},!1),l=this.state.visibleConfiguration.backgroundColor?r.Styles.createViewStyle({backgroundColor:this.state.visibleConfiguration.backgroundColor},!1):void 0;let c,u;if(this.state.useCenteredLayout)c=[j.menuContainerCentered,i.primaryBackgroundColorStyle,l,this._containerAnimationStyle,a,j.defaultWidthStyle];else if(c=[j.menuContainer,a,this._containerAnimationStyle,N.default.overflowVisible],this.state.visibleConfiguration.useBlurredBackground){const e=this.state.visibleConfiguration.colorThemeOverride||this._currentTheme,t=R.isDarkTheme(e)?s.BlurStyle.Dark:s.BlurStyle.ExtraLight;u=(0,n.jsx)(s.BlurView,{style:j.menuContainerBackground,blurStyle:t})}else u=(0,n.jsx)(r.View,{style:[j.menuContainerBackground,i.primaryBackgroundColorStyle,l]});const h=this.state.visibleConfiguration.headerConfig,p=h&&h.hideCloseButton?void 0:{icon:x.SkypeIcon.ClosePanel,onPress:this._dismiss,title:v.getString("Global.CloseButtonTitle")},S=this.state.visibleConfiguration.getSubtitle?this.state.visibleConfiguration.getSubtitle(this.state.isFullScreenMode):void 0,C=S&&!this.state.visibleConfiguration.hideSubtitleDivider?(0,n.jsx)(m.default,{marginLeft:10,marginRight:10},"divider"):void 0,y=S?[(0,n.jsx)(O.Caption,Object.assign({style:[j.caption,this.state.safeAreaHorizontalPaddingStyle],colorThemeOverride:this.state.visibleConfiguration.colorThemeOverride},{children:S}),"caption"),C]:void 0;let f;const b=h&&h.headerType===g.HeaderType.Slim;b?this._renderSlimHeaderGrabber&&(f=(0,n.jsx)(r.GestureView,Object.assign({style:j.grabberViewContainer,onPanVertical:this._onPanVertical,onTap:this._dismiss,accessibilityLabel:v.getString("Global.CloseButtonTitle"),accessibilityTraits:r.Types.AccessibilityTrait.Button},{children:(0,n.jsx)(r.View,{style:[j.grabber,i.primaryViewColorStyle]})}))):f=(0,n.jsx)(A.SimplePanelHeader,{ref:this._onHeaderRef,panelName:null===(t=(e=this.state.visibleConfiguration).getTitle)||void 0===t?void 0:t.call(e,this.state.isFullScreenMode),leftButton:p,rightButtons:h?h.rightButton:void 0,hideBottomBorder:!0,colorThemeOverride:this.state.visibleConfiguration.colorThemeOverride,useTransparentBackground:!0});const _=f&&p?null:this._getCloseButtonRow(o),T=(0,n.jsxs)(r.View,Object.assign({style:this.state.safeAreaHorizontalPaddingStyle,onLayout:this._onContainerLayout},{children:[y,this.state.visibleConfiguration.content,_]})),P=this.state.visibleConfiguration.staticContent||!this.state.isFullScreenMode;let k=(0,n.jsx)(r.ScrollView,Object.assign({style:N.default.flexOne,scrollEnabled:!P},{children:T}));P&&b&&this.state.isMobileScreenReaderEnabled;const I=[j.background,this._backgroundOpacityStyle];return this.state.visibleConfiguration.useTransparentShim&&I.push(N.default.transparentBackground),(0,n.jsx)(d.default,Object.assign({isPresentedInMobileSheet:!0},{children:(0,n.jsxs)(r.View,Object.assign({style:j.frame,restrictFocusWithin:!0},{children:[(0,n.jsx)(r.Animated.View,{style:I,onPress:this._onBackgroundPressed,disableTouchOpacityAnimation:!0,importantForAccessibility:r.Types.ImportantForAccessibility.No}),(0,n.jsxs)(r.Animated.View,Object.assign({style:c},{children:[u,f,k]}))]}))}))}_showContainer(e,t){f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._showContainer, causeId: "+e),this._startContainerAnimation(0,1,t,e)}_hideContainer(e,t){f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._hideContainer, causeId: "+e);const i=this.state.useCenteredLayout?H._centeredYOffset(this.state.containerHeight,this._getRootViewId()):this.state.containerHeight;this._startContainerAnimation(i,0,t,e)}_setConfigurationVisible(e){f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._setConfigurationVisible"),this.isComponentMounted()&&(r.Modal.dismissAll(),this.setState({visibleConfiguration:e},(()=>E.default.setTimeout((()=>S.dismissAll()),20))))}_startContainerAnimation(e,t,i,n){f.log(C.LogTraceArea.GenericUnsafe,"MobileCustomActionMenuContainer._startContainerAnimation ytranslation: "+e+" backgroundOpacity: "+t+" animationInProgress: "+this._animationInProgress+" causeId: "+n),this._animationInProgress=!0,this._contentTransform=e;const o=[a.timing.easeOut({value:this._containerYPositionValue,toValue:e,useNativeDriver:!0}),a.timing.easeOut({value:this._backgroundOpacityValue,toValue:t,useNativeDriver:!0})];a.parallel(o).start((()=>{this._animationInProgress=!1,i&&i()}))}static _centeredYOffset(e,t){const i=F.default.measureWindow(t).height;return e?i-(i-e)/2:i}}t.default=H},600076:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(144228);class o extends n.default{_buildRows(e,t){return e.rowBuilders}}t.default=o},610482:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(496486),a=i(809206),r=i(72105),l=i(889391),c=i(739119),d=i(890239),u=i(297775),g=i(911009),h=i(147204),p=i(662602),S=i(953143),m=i(221847),C=i(536659),y=i(310167),f=i(180843),b=i(968894),_=i(904604),v=i(913944),T=i(915877),P=i(733754),k=i(380622),A=i(89808),I=i(388273),w=i(18078),x=i(104735),N=i(29130),M=i(451070),L=i(681115),O=i(316392),D=i(422538),R=i(581760),E=i(311010),B=i(711828),F=i(680837),V=i(619675),U=i(24576),j=i(418037),H=i(912770),W=i(702301),z=i(567977),G=i(724956),K=i(425446),q=i(109106),Q=i(172758),X=i(286259),J=i(853374),$=i(878440),Y=i(749554),Z=i(430707),ee=i(593486),te=i(882052),ie=i(217093),ne=i(746096),oe=i(540522),se=i(773269),ae=i(535954),re=i(867559),le=i(491632),ce=i(178735),de="MeControlModal",ue=z.UserIconSize.Size40,ge=R.Color.gray300,he=(0,T.lazyProperties)({container:()=>o.Styles.createViewStyle({flexDirection:"row",paddingVertical:8,justifyContent:"space-between",overflow:"visible"}),controlsContainer:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",paddingLeft:8,paddingRight:16,overflow:"visible"}),leftControlsContainer:()=>o.Styles.createViewStyle({marginLeft:16,marginRight:8,overflow:"visible"}),rightControlsContainer:()=>o.Styles.createViewStyle({justifyContent:"flex-end"}),iconButtonText:()=>o.Styles.createViewStyle({margin:5}),userButton:()=>o.Styles.createViewStyle({position:"relative",flexDirection:"row",justifyContent:"center",alignItems:"center",overflow:"visible",width:ue,height:ue}),buttonContainer:()=>o.Styles.createViewStyle({marginLeft:5}),topTabs:()=>(0,T.lazyProperties)({infoContainer:()=>o.Styles.createViewStyle({alignSelf:"stretch",alignItems:"flex-start",justifyContent:"center",flexDirection:"row",width:180}),firstLine:()=>o.Styles.createTextStyle({justifyContent:"flex-start",flexDirection:"row"}),balance:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",flexShrink:0,marginLeft:8}),moodTextFixedHeight:()=>o.Styles.createTextStyle({height:20})}),balanceInfoCaptionStyle:()=>o.Styles.createTextStyle({color:ge,paddingTop:1,lineHeight:19}),captionStyles:()=>o.Styles.createTextStyle({lineHeight:20}),limitArea:()=>o.Styles.createViewStyle({flexShrink:1})});class pe extends U.default{constructor(){super(...arguments),this.getUserIconRef=()=>this._myInfoButtonRef,this.openMeControl=()=>this._openMeControlPanel(),this._renderWeatherButton=()=>this.state.showWeatherInHeader&&this.state.isWeatherIconToggledButtonSwitchedOn&&this.state.currentWeatherCondition?(0,n.jsx)(ae.WeatherButton,{currentWeather:this.state.currentWeatherCondition,onClick:()=>{oe.openUrlWithParams({origin:ne.BrowserOrigin.AttributionNode,url:(0,re.buildMsnWeatherUrl)(this.state.msnWeatherUrlOcid,this.state.currentWeatherCondition),rootViewId:this._getRootViewId(),options:{browserTitle:P.getString("Today.WeatherPageTitle"),onMessage:re.onMsnweatherWebViewMessage,injectedJavaScript:re.msnWeatherInjectedJavaScript,useBrowserActionInHeader:!0,forceInAppViewer:!0,shareSameSession:!0}}),se.default.getRtWeatherCondition()}},"weather"):null,this._renderAvatar=e=>{const t=!0,i=(0,n.jsx)(W.UserIcon,{size:ue,userMri:w.default.getSkypeMri(),statusTypes:X.myAllowedStatuses(),statusBorderColor:this._themeColors.secondaryBackgroundColor,onBadgePress:this._showPresenceMenu,onBadgeRef:this._onBadgeRef,allowHoverChevronBadge:t}),r=pe._getEdgeScreenReaderNotice()+P.getString("UserIcon.MyInfo")+(s.isUndefined(this.state.userStatus)?"":", "+X.userStatusLabel(this.state.userStatus,this.state.gender));return(0,n.jsx)(u.default.Button,Object.assign({anchorRef:this._onMyInfoButtonRef,style:[e,he.userButton,F.default.noncollapsibleView,F.default.pointerCursor],activeOpacity:.8,onPress:this._openMeControlPanel,onKeyPress:this._onAvatarKeyPress,tabIndex:0,coachMarkType:g.CoachMarkType.Profile,accessibilityLabel:r,accessibilityTraits:o.Types.AccessibilityTrait.Button,anchorAccessibilityLabel:r,onAnchorPress:this._openMeControlPanel,onContextMenu:this._onContextMenu,onBlur:a.BrowserEnvironment.isEngineEdgeHTML()?this._onMyInfoBlur:void 0,ref:this._onAvatarButtonRef},{children:i}))},this._onAvatarButtonRef=e=>{D.EnsureStarted(f.default).then((()=>{f.default.setAnchor(b.EngagementTooltipType.Profile,e)}))},this._onContextMenu=e=>{e.stopPropagation(),e.preventDefault(),this._showPresenceMenu(void 0,e)},this._showPresenceMenu=(e,t)=>{this._presenceBadge&&G.UserPresenceMenu.show((()=>this._presenceBadge),this._getRootViewId(),t,K.UserPresenceChangeOrigin.Avatar)},this._onOverflowButtonClick=e=>{this._overflowButton&&(le.Instrumentation.track(new q.PressAction(q.PressScenario.NavigationHeader,"OverflowButton")),C.default.showOptionsMenu((()=>this._overflowButton),this._getRootViewId(),e,this._themeColors.textDanger))},this._openMeControlPanel=(e,t)=>{if(N.default.isSmallOrTinyScreenSize(this._getRootViewId()))x.default.navigateToMeControl(this._getRootViewId(),J.default.newCauseId(),O.StackNavigationDirection.Push,t);else{const e=(0,n.jsx)(m.default,{userMri:w.default.getSkypeMri(),dialogId:de,anchor:()=>this._myInfoButtonRef,isMoodMessageEditMode:!!t},"DesktopMeControlPanel");$.default.maybeSetTooltipVisibility(!1),h.default.showModal(e,de,{rootViewId:this._getRootViewId()})}},this._openAlertsPanel=e=>{if(N.default.isSmallOrTinyScreenSize(this._getRootViewId()))x.default.navigateToAlertsHub();else{const e=(0,n.jsx)(Y.AlertsPanelWrapper,{dismiss:this._alertsWrapperDismiss,anchor:()=>this._alertsButtonRef},"AlertsPanel");$.default.maybeSetTooltipVisibility(!1),h.default.showModal(e,"AlertsModal",{rootViewId:this._getRootViewId()})}},this._onAlertsContextMenu=e=>{te.default.showDesktopTabOptionsMenu(ie.HubTab.Notifications,(()=>this._alertsButtonRef),this._getRootViewId(),e)},this._onAlertsButtonRef=e=>{this._alertsButtonRef=e||void 0},this._alertsWrapperDismiss=()=>{h.default.dismissModal("AlertsModal",this._getRootViewId())},this._onAvatarKeyPress=e=>p.default.maybeHandleKeyPress(e,(()=>{this._openMeControlPanel()})),this._onBadgeRef=e=>{this._presenceBadge=e||void 0},this._onOverflowButtonRef=e=>{this._overflowButton=e||void 0},this._onMyInfoButtonRef=e=>{this._myInfoButtonRef=e||void 0},this._openBalanceStatePanel=()=>{x.default.navigateToBalanceStatePanel("DesktopNavigationHeader.fromTopLeftCorner",this._getRootViewId())},this._onMyInfoBlur=()=>{a.BrowserEnvironment.isEngineEdgeHTML()&&o.UserInterface.isNavigatingWithKeyboard()&&(pe._myInfoEdgeBlurCount++,2===pe._myInfoEdgeBlurCount&&this.forceUpdate())}}_buildState(e,t){const i=this._getRootViewId(),{enableRefreshedPalette:n}=l.default.getS4LUiFeatures(),a=Q.default.getFullUserProfileByMri(w.default.getSkypeMri()),c=a.getDisplayName(),u=I.default.getStatus(),g=s.includes(X.myAllowedStatuses(),u)?u:d.UserStatus.Online,{gender:h}=a,p=[E.default.fontStyle.caption,he.captionStyles];n&&p.push(o.Styles.createTextStyle({color:this._getContext().themeColors.textOnAccent},!1));const S=k.getMoodMessageInfo(a.mood,j.default.themeStyles(),j.default.themeColors(),p),{todayTab:{enabled:m},weatherInHeader:{enabled:C,msnWeatherUrlOcid:f}}=l.default.getS4LCommerceFeatures(),b=ce.default.getWeatherIconToggledButtonSwitchedOn(),v=ee.default.isChildOrMinor(),T=m&&!v,P={unreadAlertsCount:r.default.getUnreadAlertsCount(),shouldShowUpdateBadge:y.default.shouldShowUpdateBadge(),isHeartEntryPointEnabled:l.default.getConfigSettings().brb.enableHeartEntryPoint,shouldShowUpdateReminder:y.default.shouldShowUpdateReminder(),responsiveWidth:N.default.getResponsiveWidth(i),gradientColors:A.default.getSubtleGradientColors(),statusBarHeight:o.StatusBar.isOverlay()?M.default.statusBarHeight():0,userDisplayName:c,userStatus:g,gender:h,moodInfo:S,creditEntitlement:_.default.getCreditEntitlement(),enableRefreshedPalette:n,shouldShowTodayTab:T,showWeatherInHeader:C,isWeatherIconToggledButtonSwitchedOn:b,msnWeatherUrlOcid:f,currentWeatherCondition:se.default.getCurrentWeatherCondition()};return t&&(P.skypeMri=w.default.getSkypeMri()),P}componentDidMount(){super.componentDidMount(),pe._isFirstMount&&(H.default.setTimeout((()=>{this._myInfoButtonRef&&this._myInfoButtonRef.requestFocus()}),250),pe._isFirstMount=!1),S.default.addWebFeebackToast({})}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i);const n=this._badgeCount(this.state);if(this._badgeCount(t)!==n){const e=P.getString("Hub.NotificationCounterScreenReaderLabel",{count:n});o.Accessibility.announceForAccessibility(e)}}render(){const e=[he.container],t=[he.controlsContainer,he.rightControlsContainer];this.state.statusBarHeight&&e.push(L.default.paddingTopStyle(this.state.statusBarHeight+12)),this.props.style&&e.push(this.props.style),this.state.enableRefreshedPalette&&e.push(o.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfaceAccent},!1));const i=this._renderLeftControls(he.leftControlsContainer)||(0,n.jsx)(o.View,{style:he.controlsContainer}),s=this._renderRightControls(),a=s?(0,n.jsx)(o.View,Object.assign({style:t},{children:s}),"rightControls"):void 0,r=this._renderCenterControls();return(0,n.jsxs)(o.View,Object.assign({style:e},{children:[i,r,a]}),"desktopNavigation")}_renderLeftControls(e){return this._renderAvatar(e)}_renderCenterControls(){return(0,n.jsx)(o.View,Object.assign({style:[F.default.flexOne,he.topTabs.infoContainer]},{children:(0,n.jsxs)(o.View,Object.assign({style:F.default.flexOne},{children:[this._getUserNameControl(),this._getMoodMessageControl()]}))}),"centerControls")}_getUserNameControl(){const e=[F.default.flexNegativeOne,this._themeStyles.primaryTextColorStyle,this.state.enableRefreshedPalette?E.default.fontStyle.semibold16:E.default.fontStyle.semibold14,he.captionStyles];return this.state.enableRefreshedPalette&&e.push(o.Styles.createTextStyle({color:this._getContext().themeColors.textOnAccent},!1)),(0,n.jsxs)(o.View,Object.assign({style:he.topTabs.firstLine},{children:[(0,n.jsx)(o.Button,Object.assign({style:he.limitArea,accessibilityLabel:this.state.userDisplayName,onPress:this._openMeControlPanel},{children:(0,n.jsx)(o.Text,Object.assign({style:e,numberOfLines:1,ellipsizeMode:"tail"},{children:this.state.userDisplayName}))})),this._renderOptionalBalanceInfo()]}))}_getMoodMessageControl(){const{moodInfo:e}=this.state,t=!!(null==e?void 0:e.moodReact)&&!!e.moodString,i=t?null==e?void 0:e.moodString:P.getString("MyProfilePanel.SetStatusLabel"),s=t?null==e?void 0:e.moodLabel:P.getString("MyProfilePanel.SetStatusLabel"),a=this._constructMoodStyle(!(!(null==e?void 0:e.moodReact)||!t));return(0,n.jsx)(o.Button,Object.assign({style:[F.default.pointerCursor,F.default.flexOne],onPress:e=>this._openMeControlPanel(e,!0),onKeyPress:this._onAvatarKeyPress,accessibilityLabel:s,accessibilityTraits:o.Types.AccessibilityTrait.Button,importantForAccessibility:o.Types.ImportantForAccessibility.Yes,title:i,tabIndex:0},{children:(0,n.jsx)(o.Text,Object.assign({style:a,numberOfLines:1,ellipsizeMode:"tail"},{children:t?null==e?void 0:e.moodReact:P.getString("MyProfilePanel.SetStatusLabel")}))}))}_constructMoodStyle(e){return[e?he.topTabs.moodTextFixedHeight:[E.default.fontStyle.caption,he.topTabs.moodTextFixedHeight],this.state.enableRefreshedPalette?o.Styles.createTextStyle({color:this._getContext().themeColors.textOnAccent},!1):void 0]}_renderRightControls(){return[this._renderWeatherButton(),this._renderAlertsButton(),this._renderOverflowButton()]}_renderOptionalBalanceInfo(){if(void 0===this.state.creditEntitlement)return null;let e;const t=[];let i;return c.hasUsableCredit(this.state.creditEntitlement)?(e=c.getFormattedBalance(this.state.creditEntitlement),i=P.getString("BalanceStatePanel.SkypeCreditAccessibilityText",{amount:e||""})):(t.push(he.balanceInfoCaptionStyle),e=c.getFormattedBalance(this.state.creditEntitlement),i=P.getString("BalanceStatePanel.SkypeCreditAccessibilityText",{amount:e||""})),this.state.enableRefreshedPalette&&t.push(o.Styles.createTextStyle({color:this._getContext().themeColors.textOnAccent},!1)),(0,n.jsx)(o.Button,Object.assign({style:he.topTabs.balance,accessibilityLabel:i,onPress:this._openBalanceStatePanel},{children:(0,n.jsx)(V.Caption,Object.assign({style:t},{children:e}))}))}_renderAlertsButton(){const e=this._badgeCount();return this.state.shouldShowTodayTab?(0,n.jsx)(Z.AlertButton,{title:P.getString("Hub.NotificationCounterScreenReaderLabel",{count:e}),onClick:this._openAlertsPanel,onRef:this._onAlertsButtonRef,onContextMenu:this._onAlertsContextMenu,unreadAlertsCount:e},"notifications"):null}_renderOverflowButton(){if(this.state.showWeatherInHeader&&this.state.isWeatherIconToggledButtonSwitchedOn&&this.state.shouldShowTodayTab)return null;const e=this.state.enableRefreshedPalette?this._getContext().themeColors.iconOnAccent:this._themeColors.headerIconColor,t=this.state.enableRefreshedPalette?this._getContext().themeColors.iconOnAccent:this._themeColors.iconHoverColor;return(0,n.jsx)(v.default,{ref:this._onOverflowButtonRef,style:he.buttonContainer,size:B.IconSize.size20,color:e,hoverColor:t,icon:B.SkypeIcon.More,onPress:this._onOverflowButtonClick,title:P.getString("Global.MoreButtonTitle"),iconTextStyle:he.iconButtonText,accessibilityLabel:P.getString("Global.MoreOptions"),accessibilityTraits:[o.Types.AccessibilityTrait.Button,o.Types.AccessibilityTrait.HasPopup]},"overflow")}_badgeCount(e=this.state){let t=e.unreadAlertsCount||0;return(e.shouldShowUpdateBadge||e.shouldShowUpdateReminder)&&t++,t}static _getEdgeScreenReaderNotice(){return a.BrowserEnvironment.isEngineEdgeHTML()&&pe._myInfoEdgeBlurCount<2?P.getString("Global.AccessibilitySkipLink")+" "+P.getString("Global.AccessibilityDesktopSkipLink")+" ":""}}pe._isFirstMount=!0,pe._myInfoEdgeBlurCount=0,t.default=pe},498367:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(607499),s=i(153338),a=i(994224),r=i(898278),l=i(539549),c=i(746096),d=i(436237),u=i(733754),g=i(104735),h=i(330124),p=i(948199),S=i(24576),m=i(853374),C=i(677524);class y extends S.default{constructor(){super(...arguments),this._onArchive=e=>{e.stopPropagation();const t=m.default.newCauseId();d.log(c.LogTraceArea.GenericUnsafe,"ArchiveConversaionControl._archiveConversation, causeId: "+t),o.default.showIfRequired(this._getRootViewId()).then((()=>{g.default.navigateAfterArchivingConversation(this.props.conversationId,t,this._getContext()),p.default.isNavigationAnimationFinished().thenAsync((()=>{s.default.archiveConversation(this.props.conversationId,c.ArchiveConversationOrigin.ProfilePanel,this._getRootViewId())}))}))},this._onUnarchive=e=>{e.stopPropagation();const t=m.default.newCauseId();d.log(c.LogTraceArea.GenericUnsafe,"ArchiveConversaionControl._onUnarchive, causeId: "+t),s.default.unarchiveConversation(this.props.conversationId,c.UnarchiveConversationOrigin.ProfilePanel),this.state.isUsingStackNavigationContext||g.default.navigateAfterUnarchivingConversation(this.props.conversationId,t,this._getContext())}}_buildState(e){const t=(0,l.default)().getConversation(e.conversationId);return{isArchived:!!t&&t.isArchived(),hasActiveCall:a.default.ActiveCallUIHelper.hasActiveCall(e.conversationId),isUsingStackNavigationContext:h.default.isUsingStackNavigationContext()}}render(){if(this.state.hasActiveCall)return null;const e=this.state.isArchived?u.getString("InfoPanel.UnhideConversationButtonLabel"):u.getString("InfoPanel.HideConversationButtonLabel");return(0,n.jsx)(C.WideButton,{label:e,onPressed:this.state.isArchived?this._onUnarchive:this._onArchive,hideArrow:!0,buttonStyles:this.props.shorterControlHeight?r.ListItem.small.shortHeightStyle:void 0})}}t.default=y},993343:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(671830),a=i(871908),r=i(539549),l=i(915877),c=i(733754),d=i(898278),u=i(787720),g=i(619675),h=i(24576),p=i(711930),S=(0,l.lazyProperties)({notificationControlContainer:()=>o.Styles.createViewStyle({overflow:"visible",alignSelf:"stretch"}),notificationsSettingContainer:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderBottomWidth:1,paddingTop:1}),smartNotificationsLabelContainer:()=>o.Styles.createViewStyle({flex:1,alignItems:"stretch",alignSelf:"center"})});class m extends h.default{constructor(){super(...arguments),this._onChangeEnableNotifications=(e,t)=>{if(this.state.conversationIsOneOnOne)t?this._setNotificationLevel(s.SubscriptionTypes.Loud):this._setNotificationLevel(s.SubscriptionTypes.Muted),this.setState({enableNotifications:t});else{const e={};t&&!this.state.enableImportantNotifications?(e.disableImportantNotificationSwitch=!1,this._setNotificationLevel(s.SubscriptionTypes.Loud)):t||this.state.enableImportantNotifications?!t&&this.state.enableImportantNotifications&&(e.disableImportantNotificationSwitch=!0,e.enableImportantNotifications=!1,this._setNotificationLevel(s.SubscriptionTypes.Muted)):(e.disableImportantNotificationSwitch=!0,this._setNotificationLevel(s.SubscriptionTypes.Muted)),e.enableNotifications=t,this.setState(e)}},this._onChangeEnableImportantNotifications=(e,t)=>{this.state.conversationIsOneOnOne||(t&&this.state.enableNotifications?(this.setState({enableImportantNotifications:t}),this._setNotificationLevel(s.SubscriptionTypes.Normal)):!t&&this.state.enableNotifications&&(this.setState({enableImportantNotifications:t}),this._setNotificationLevel(s.SubscriptionTypes.Loud)))}}_buildState(e,t){const i={},n=(0,r.default)().getConversation(e.conversationId);n&&(i.conversationSubscription=n.getSubscription(),i.conversationIsOneOnOne=n.isOneOnOne());const o=this.props;if(t||e.conversationId!==o.conversationId)switch(i.conversationSubscription){case s.SubscriptionTypes.Muted:i.enableNotifications=!1,i.enableImportantNotifications=!1,i.disableImportantNotificationSwitch=!0;break;case s.SubscriptionTypes.Loud:i.enableNotifications=!0,i.enableImportantNotifications=!1,i.disableImportantNotificationSwitch=!1;break;case s.SubscriptionTypes.Normal:i.enableNotifications=!0,i.enableImportantNotifications=!0,i.disableImportantNotificationSwitch=!1}return i}render(){const e=[],t=[S.notificationsSettingContainer,this._themeStyles.dividerBorderColorStyle,this.props.shorterControlHeight?d.ListItem.small.shortHeightStyle:d.ListItem.small.regularHeightStyle];if(e.push((0,n.jsx)(u.default,Object.assign({style:t,isOn:this.state.enableNotifications,accessibilityLabel:c.getString("Notifications.Notify"),onChange:this._onChangeEnableNotifications,disable:this.props.disabled},{children:(0,n.jsx)(g.RowTitle,Object.assign({disabled:this.props.disabled},{children:c.getString("Notifications.Notify")}))}),"enableNotifications")),!this.state.conversationIsOneOnOne){const i=[],s=this.state.disableImportantNotificationSwitch||this.props.disabled;s&&i.push(this._themeStyles.disabledTextColorStyle);const a=c.getString("Notifications.SmartNotifications"),r=c.getString("Notifications.SmartNotificationsHelper");e.push((0,n.jsx)(u.default,Object.assign({style:t,isOn:this.state.enableImportantNotifications,accessibilityLabel:p.default.combinedAccessibilityLabel(a,r),onChange:this._onChangeEnableImportantNotifications,disable:s},{children:(0,n.jsxs)(o.View,Object.assign({style:S.smartNotificationsLabelContainer},{children:[(0,n.jsx)(g.RowTitle,Object.assign({disabled:s},{children:a})),(0,n.jsx)(g.Caption,Object.assign({style:i},{children:r}))]}))}),"enableImportantNotifications"))}return(0,n.jsx)(o.View,Object.assign({style:S.notificationControlContainer},{children:e}))}_setNotificationLevel(e){a.setConversationSubscription(this.props.conversationId,e)}}t.default=m},101889:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(217041),r=i(89808),l=i(527683),c=i(201118),d=i(404057),u=i(478262);class g extends a.ComponentBase{constructor(){super(...arguments),this._highlightedTextStyle=r.default.getTextColorStyleNoSubscription()}render(){const e=d.default.deburrLowerCase(this.props.displayText),t=d.default.deburrLowerCase(this.props.textToHighlight);if(""!==t&&-1!==e.indexOf(t)){const[i,o,a]=this._getHighlightedText(e,t);return(0,n.jsxs)(s.Text,Object.assign({style:this.props.containerStyles,numberOfLines:1,importantForAccessibility:this.props.importantForAccessibility},{children:[(0,n.jsx)(s.Text,Object.assign({selectable:this.props.selectable,style:this.props.inlineTextStyle,numberOfLines:1},{children:i})),(0,n.jsx)(s.Text,Object.assign({selectable:this.props.selectable,style:[this.props.inlineTextStyle,this._highlightedTextStyle],numberOfLines:1},{children:o})),(0,n.jsx)(s.Text,Object.assign({selectable:this.props.selectable,style:this.props.inlineTextStyle,numberOfLines:1},{children:a}))]}))}let i=this.props.displayText;if(l.default.isPossiblyPhoneNumber(i)&&l.default.isPossibleNumber(i)){i=l.default.parseAndFormat(e,l.PhoneNumberFormat.INTERNATIONAL)||i}return(0,n.jsx)(s.Text,Object.assign({style:this.props.containerStyles,numberOfLines:1,selectable:this.props.selectable},{children:i?i.split("\n",1):void 0}))}_getHighlightedText(e,t){if(o.startsWith(e,"+")&&l.default.isPossibleNumber(e))return this._getHighlightedTextFromPhoneNumber(e,t);let i=0;i=this.props.highlightType===u.TextToHighlightType.PhoneNumber?e.indexOf(t):c.findIndexOfQueryInName(e,t);const n=i+this.props.textToHighlight.length-1;return[this.props.displayText.slice(0,i),this.props.displayText.slice(i,n+1),this.props.displayText.slice(n+1,this.props.displayText.length)]}_getHighlightedTextFromPhoneNumber(e,t){const i=l.default.parseAndFormat(e,l.PhoneNumberFormat.INTERNATIONAL);if(!i)return[e,"",""];const n="[ \\-\\(\\)]?";let s="("+n;o.each(t,(e=>{"+"===e&&(e="\\+"),s+=e+n})),s+=")";const a=new RegExp(s).exec(i);if(!a)return[i,"",""];const r=a.index,c=r+a[0].length;return[i.slice(0,r),i.slice(r,c),i.slice(c,i.length)]}}t.default=g},281374:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(967593),s=i(516778),a=i(244770),r=i(889391),l=i(996074),c=i(898278),d=i(632910),u=i(915877),g=i(733754),h=i(104735),p=i(982445),S=i(22222),m=i(581760),C=i(311010),y=i(711828),f=(0,u.lazyProperties)({container:()=>s.Styles.createViewStyle({position:"absolute",top:0,bottom:0,left:0,right:0,flex:1,backgroundColor:m.Color.blue}),content:()=>s.Styles.createViewStyle({flex:1,alignSelf:"center",alignItems:"center",justifyContent:"center",maxWidth:600,marginVertical:15}),illustration:()=>s.Styles.createViewStyle({height:235,width:321,marginBottom:30}),text:()=>s.Styles.createTextStyle({font:C.default.font.uiDisplayBold,color:m.Color.white,textAlign:"center",marginBottom:15}),title:()=>s.Styles.createTextStyle({fontSize:y.IconSize.size48,marginBottom:15}),subtitle:()=>s.Styles.createTextStyle({fontSize:y.IconSize.size16,marginBottom:90}),updateButton:()=>s.Styles.createButtonStyle({height:60,minWidth:300,marginBottom:15}),learnMoreButtonText:()=>s.Styles.createTextStyle({fontSize:y.IconSize.size14}),learnMoreButtonTextHover:()=>s.Styles.createTextStyle({textDecorationLine:"underline"})});class b extends l.default{constructor(){super(...arguments),this._goToLearnMorePage=()=>{const e=p.addSsoFlagToUrl(r.default.getConfigSettings().helpGoParam.upgradeLearnMore,!0);h.default.navigateToSsoWebFlow(e,"","",this._getRootViewId(),[],!0)},this._onLearnMoreHoverStart=()=>{this.setState({isLearnMoreButtonHovered:!0})},this._onLearnMoreHoverEnd=()=>{this.setState({isLearnMoreButtonHovered:!1})}}render(){const e=[f.text,f.learnMoreButtonText];return this.state.isLearnMoreButtonHovered&&e.push(f.learnMoreButtonTextHover),(0,n.jsx)(o.GradientView,Object.assign({style:f.container,colors:c.BlueGradient,direction:o.GradientDirection.BOTTOM},{children:(0,n.jsxs)(s.View,Object.assign({style:f.content},{children:[(0,n.jsx)(s.Image,{style:f.illustration,resizeMode:"contain",source:a.Collection.ELECTRON_UPDATE_ILLUSTRATION}),(0,n.jsx)(s.Text,Object.assign({style:[f.text,f.title]},{children:g.getString("ElectronForceUpgradeScreen.Title")})),(0,n.jsx)(s.Text,Object.assign({style:[f.text,f.subtitle]},{children:g.getString("ElectronForceUpgradeScreen.Subtitle")})),(0,n.jsx)(S.default,{buttonStyle:c.SXButtonStyle.LightFill,title:g.getString("ElectronForceUpgradeScreen.UpdateButton"),onPress:d.quitAndUpdate,style:f.updateButton}),(0,n.jsx)(s.Button,Object.assign({onPress:this._goToLearnMorePage,onHoverStart:this._onLearnMoreHoverStart,onHoverEnd:this._onLearnMoreHoverEnd},{children:(0,n.jsx)(s.Text,Object.assign({style:e},{children:g.getString("ElectronForceUpgradeScreen.LearnMoreButton")}))}))]}))}))}}t.default=b},170476:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(281878),s=i(600212);t.default=function({avatarUrl:e,variant:t,size:i,onImageError:a,BottomSlot:r,FallbackSlot:l}){const{themeColors:{strokeAvatar:c}}=(0,s.useSkypeTheme)(),d=r?(0,n.jsx)(o.Box,Object.assign({right:-4,bottom:-4,position:"absolute",borderWidth:2,borderColor:c,borderRadius:"full"},{children:r})):null,u=e?(0,n.jsx)(o.ImageAvatar,{uri:e,variant:t,size:i,onError:a}):l;return(0,n.jsxs)(o.Box,{children:[u,d]})}},970332:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(705465),s=i(281878);t.default=function({TitleSlot:e,AvatarSlot:t,onPress:i,accessibilityLabel:r}){const l=(0,n.jsxs)(s.Row,Object.assign({flex:"1"},{children:[t,e]}));return i?(0,n.jsx)(o.Pressable,Object.assign({style:a.pressable,onPress:i,role:"button",accessibilityLabel:r},{children:l})):l};const a=o.StyleSheet.create({pressable:{flexGrow:0,flexShrink:1,flexDirection:"row",alignItems:"center",alignSelf:"stretch"}})},189749:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(281878),s=i(516778),a=i(521540),r=i(600212);t.default=function({initials:e,variant:t,size:i}){const{gradients:{tertiary:l}}=(0,r.useSkypeTheme)(),{textStyle:c}=(0,a.useInitialsAvatarFontStyles)(i);return(0,n.jsx)(o.CompoundAvatar,{background:l,variant:t,size:i,element:(0,n.jsx)(s.Text,Object.assign({style:c,numberOfLines:1,allowFontScaling:!1,importantForAccessibility:s.Types.ImportantForAccessibility.NoHideDescendants},{children:e}))})}},973833:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(281878),a=i(512193),r=i(311010),l=i(234196);t.default=function({name:e,isVerified:t,Subtitle:i}){const{header:c}=(0,a.useRXStyles)((({themeColors:{textPrimary:e}})=>({header:o.Styles.combine(r.default.fontStyle.messagingStreamChatHeaderMobile,o.Styles.createTextStyle({flexShrink:1,color:e,lineHeight:void 0},!1))})),[]);return(0,n.jsxs)(s.Column,Object.assign({marginLeft:"2",justifyContent:"center",flexGrow:1,flexShrink:1},{children:[(0,n.jsxs)(s.Row,Object.assign({alignItems:"center",flexGrow:1},{children:[(0,n.jsx)(o.Text,Object.assign({ellipsizeMode:"tail",numberOfLines:1,style:c},{children:e})),t?(0,n.jsx)(l.default,{}):null]})),null!=i?i:null]}))}},231820:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useInitialsAvatarFontStyles=t.EntityInitialsAvatar=t.EntityAvatar=t.EntityTitle=t.EntityCard=void 0;var n=i(970332);Object.defineProperty(t,"EntityCard",{enumerable:!0,get:function(){return n.default}});var o=i(973833);Object.defineProperty(t,"EntityTitle",{enumerable:!0,get:function(){return o.default}});var s=i(170476);Object.defineProperty(t,"EntityAvatar",{enumerable:!0,get:function(){return s.default}});var a=i(189749);Object.defineProperty(t,"EntityInitialsAvatar",{enumerable:!0,get:function(){return a.default}});var r=i(521540);Object.defineProperty(t,"useInitialsAvatarFontStyles",{enumerable:!0,get:function(){return r.useInitialsAvatarFontStyles}})},521540:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useInitialsAvatarFontStyles=void 0;const n=i(516778),o=i(512193),s=i(898278),a=i(311010),r={xxxs:6,xxs:8,xs:9,sm:10,md:a.default.fontSize.size14,lg:a.default.fontSize.size20,xl:36,xxl:43,xxxl:54};t.useInitialsAvatarFontStyles=function(e){return(0,o.useRXStyles)((({themeColors:{textAvatar:t}})=>({textStyle:n.Styles.createTextStyle({fontSize:r[e]||r.md,fontFamily:a.default.fontFamily.uidDisplaySemibold,fontWeight:s.FontWeight.semiBold,color:t},!1)})),[])}},913214:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});i(785893);const n=i(496486),o=i(516778),s=i(217041),a=i(436237),r=i(915877),l=i(581760);(0,r.lazyProperties)({errorBar:()=>o.Styles.createViewStyle({bottom:0,left:0,right:0,padding:10,flexDirection:"row",alignSelf:"stretch",alignItems:"center",justifyContent:"center",opacity:.7}),text:()=>o.Styles.createTextStyle({flex:1,textAlign:"center"}),barErrorColor:()=>o.Styles.createViewStyle({backgroundColor:l.Color.red}),barWarningColor:()=>o.Styles.createViewStyle({backgroundColor:l.Color.yellow})});class c extends s.ComponentBase{constructor(){super(...arguments),this._warningCallback=(...e)=>{n.defer((()=>{this.isComponentMounted()&&this.setState({currentWarningCount:this.state.currentWarningCount+1})}))},this._errorCallback=(...e)=>{n.defer((()=>{this.isComponentMounted()&&this.setState({currentErrorCount:this.state.currentErrorCount+1})}))},this._onPress=()=>{this.setState({currentErrorCount:0,currentWarningCount:0})}}_buildState(e,t){return t?{currentErrorCount:0,currentWarningCount:0}:{}}componentDidMount(){super.componentDidMount()}componentWillUnmount(){super.componentWillUnmount(),a.devErrorEvent.unsubscribe(this._errorCallback),a.devWarningEvent.unsubscribe(this._warningCallback)}render(){return null}}t.default=c},430707:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertButton=void 0;const n=i(785893),o=i(516778),s=i(913944),a=i(77605),r=i(711828),l=i(512193),c=i(600212);t.AlertButton=function(e){const{themeColors:{surfacePrimary:t,iconOnAccent:i}}=(0,c.useSkypeTheme)(),{badgeColorStyle:d,badgeStyle:u,buttonContainer:g,iconText:h}=(0,l.useRXStyles)((({themeColors:{iconDanger:e}})=>({badgeColorStyle:o.Styles.createTextStyle({backgroundColor:e},!1),badgeStyle:o.Styles.createViewStyle({position:"absolute",top:0,left:16}),buttonContainer:o.Styles.createViewStyle({overflow:"visible"}),iconText:o.Styles.createViewStyle({margin:5})})),[]),p=e.unreadAlertsCount?(0,n.jsx)(a.default,{style:u,blockPointerEvents:!0,count:e.unreadAlertsCount.toString(),rawCount:e.unreadAlertsCount,colorStyle:d,borderColor:t,badgeSize:a.BadgeSize.Desktop,borderWidth:1,isHighPriority:!0,fixedSize:!0,importantForAccessibility:o.Types.ImportantForAccessibility.NoHideDescendants}):void 0;return(0,n.jsx)(s.default,{accessoryView:p,ref:e.onRef,style:g,size:r.IconSize.size20,color:i,hoverColor:i,icon:r.SkypeIcon.Alert,onPress:e.onClick,onContextMenu:e.onContextMenu,title:e.title,iconTextStyle:h,accessibilityLabel:e.title,accessibilityTraits:[o.Types.AccessibilityTrait.Button,o.Types.AccessibilityTrait.HasPopup]},"alerts")}},913805:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(967593),a=i(516778),r=i(142826),l=i(81115),c=i(72105),d=i(934339),u=i(481169),g=i(871908),h=i(351077),p=i(671830),S=i(539549),m=i(816402),C=i(986374),y=i(952262),f=i(676679),b=i(770891),_=i(321444),v=i(740226),T=i(746096),P=i(139889),k=i(685609),A=i(110117),I=i(436237),w=i(915877),x=i(647662),N=i(733754),M=i(451072),L=i(223284),O=i(268080),D=i(866127),R=i(734537),E=i(723752),B=i(312762),F=i(106658),V=i(89808),U=i(18078),j=i(104735),H=i(330124),W=i(14008),z=i(117282),G=i(385639),K=i(729143),q=i(346200),Q=i(793003),X=i(33714),J=i(581760),$=i(311010),Y=i(711828),Z=i(734528),ee=i(680837),te=i(360305),ie=i(619675),ne=i(24576),oe=i(912770),se=i(702301),ae=i(567977),re=i(853374),le=i(889391),ce=i(640363);var de,ue,ge;!function(e){e[e.Simple=1]="Simple",e[e.SecondaryButtons=2]="SecondaryButtons"}(de||(de={})),function(e){e[e.Standard=1]="Standard",e[e.Simple=2]="Simple"}(ue||(ue={})),function(e){e[e.Standard=1]="Standard",e[e.WhiteOnBlue=2]="WhiteOnBlue",e[e.Themed=3]="Themed"}(ge||(ge={}));const he=F.messageTextLineHeight,pe=24,Se=(0,w.lazyProperties)({cardBody:()=>a.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",backgroundColor:J.Color.transparent}),container:()=>a.Styles.createViewStyle({flexDirection:"row",flex:1,paddingLeft:8,paddingRight:10,alignItems:"center"}),containerMobileModernize:()=>a.Styles.createViewStyle({flexDirection:"row",flex:1,paddingHorizontal:16,paddingVertical:10,alignItems:"center"}),containerWithSimpleLayout:()=>a.Styles.createViewStyle({paddingLeft:15}),lightThemeSimpleLayoutBorder:()=>a.Styles.createViewStyle({borderColor:J.Color.gray50}),darkThemeSimpleLayoutBorder:()=>a.Styles.createViewStyle({borderColor:J.Color.gray400}),blueBackground:()=>a.Styles.createViewStyle({backgroundColor:J.Color.blue}),cardBottomBorder:()=>a.Styles.createViewStyle({borderBottomWidth:10}),cardText:()=>a.Styles.createTextStyle({lineHeight:he}),cardContentContainer:()=>a.Styles.createViewStyle({maxHeight:he}),userIcon:()=>a.Styles.createViewStyle({marginRight:20,overflow:"visible",paddingBottom:5,paddingRight:5}),contentDetailsContainer:()=>a.Styles.createViewStyle({flexDirection:"row"}),contentDetailsText:()=>a.Styles.createTextStyle({flex:1,lineHeight:he}),whiteText:()=>a.Styles.createTextStyle({color:J.Color.white}),timestampText:()=>a.Styles.createTextStyle({flex:0,marginRight:8}),optionalSecondaryContentContainer:()=>a.Styles.createViewStyle({marginLeft:8,marginVertical:4}),optionalSecondaryContentContainerEngagement:()=>a.Styles.createViewStyle({alignSelf:"center"}),thumbnailContainer:()=>a.Styles.createViewStyle({alignItems:"center",justifyContent:"center"}),iconContainer:()=>a.Styles.createViewStyle({alignItems:"center",justifyContent:"center",borderRadius:30,height:60,width:60,backgroundColor:J.Color.gray300}),engagementIconStyle:()=>a.Styles.createImageStyle({flex:0,alignSelf:"stretch",width:ae.UserIconSize.Size60,height:ae.UserIconSize.Size60,justifyContent:"center",alignItems:"center",borderRadius:10}),engagementIconStyleDesktop:()=>a.Styles.createImageStyle({width:ae.UserIconSize.Size40,height:ae.UserIconSize.Size40}),engagementIconStyleCompact:()=>a.Styles.createImageStyle({width:pe,height:pe}),alertIconContainer:()=>a.Styles.createViewStyle({position:"absolute",bottom:2,right:2}),alertMentionQuoteIconContainer:()=>a.Styles.createViewStyle({backgroundColor:J.Color.gray300,width:pe,height:pe,borderRadius:12,bottom:0,right:0,justifyContent:"center"}),alertMentionIcon:()=>a.Styles.createTextStyle({top:-1}),userIconBadge:()=>a.Styles.createViewStyle({borderRadius:15}),userIconBorder:()=>a.Styles.createViewStyle({padding:2}),compactUserIconContainer:()=>a.Styles.createViewStyle({height:pe,width:pe,alignItems:"center",justifyContent:"center",overflow:"visible",marginRight:8}),compositeNav:()=>(0,w.lazyProperties)({container:()=>a.Styles.createViewStyle({paddingLeft:10,paddingRight:15,paddingVertical:10,alignItems:"flex-start"}),userIcon:()=>a.Styles.createViewStyle({marginRight:10,marginTop:5}),iconContainer:()=>a.Styles.createViewStyle({borderRadius:20,height:40,width:40}),alertIconContainer:()=>a.Styles.createViewStyle({bottom:0,right:0}),alertMentionQuoteIconContainer:()=>a.Styles.createViewStyle({bottom:-2,right:-2})}),experimentalNav:()=>(0,w.lazyProperties)({userIcon:()=>a.Styles.createViewStyle({marginRight:8,marginTop:5}),container:()=>a.Styles.createViewStyle({paddingVertical:10,alignItems:"flex-start"}),containerHorizontalPaddingClassic:()=>a.Styles.createViewStyle({paddingLeft:10,paddingRight:10}),containerHorizontalPaddingModernize:()=>a.Styles.createViewStyle({paddingLeft:8,paddingRight:8}),optionalSecondaryContentContainer:()=>a.Styles.createViewStyle({marginLeft:2,marginVertical:4})}),ios:()=>(0,w.lazyProperties)({alertMentionIcon:()=>a.Styles.createTextStyle({top:-2})}),osx:()=>(0,w.lazyProperties)({alertMentionIcon:()=>a.Styles.createTextStyle({top:0})}),unreadBadge:()=>(0,w.lazyProperties)({circle:()=>a.Styles.createViewStyle({marginTop:1,width:8,height:8,borderRadius:4}),badgeContainer:()=>a.Styles.createViewStyle({alignItems:"center",justifyContent:"center"})}),badgeIcon:()=>a.Styles.createViewStyle({alignItems:"center"}),notificationPermissionHeader:()=>a.Styles.createTextStyle({fontSize:14})});class me extends ne.default{constructor(){super(...arguments),this._hoverStart=()=>{this.setState({isHovering:!0})},this._hoverEnd=()=>{this.setState({isHovering:!1})},this._onPress=e=>{this._onCompletePress(e)},this._onCompletePress=e=>{const t=re.default.newCauseId();if(I.log(T.LogTraceArea.Navigation,"AlertCard._onPress, causeId: "+t),I.track(new l.AlertClicked(this._getAlertTypeForTelemetryEvent())),this.state.isReaction&&this.state.messageToDisplay){const e=(0,S.default)().getConversation(this.state.messageToDisplay.conversationId);e&&!e.isHighlightsThread()&&I.track(new q.ReactionsSummaryViewed(this.state.messageToDisplay))}if(this._markRead(),this.state.messageToDisplay){const e=(0,S.default)().getConversation(this.state.messageToDisplay.conversationId);e&&e.isReactionsThread()?O.default.showWithMessageConfig({initialMessage:this.state.messageToDisplay,origin:T.NavigationMediaViewerOrigin.Unknown,rootViewId:this._getRootViewId()}):this.props.alert.scheduledCallInfo&&this.props.alert.scheduledCallInfo.type===X.ScheduleCallAlertTypes.Canceled||j.default.navigateToMessage(this.state.messageToDisplay,{shouldResetNavStack:this.state.isUsingStackNav,shouldFlattenNavOnInteraction:!0,causeId:t,origin:T.NavigationConversationOrigin.AlertsPanel},this._getRootViewId())}if(this.props.alert.alertType===r.AlertType.OldFriendBack){const e={convId:this.props.alert.oldFriendMri,causeId:t};j.default.navigateToConversation(e)}e.stopPropagation(),this.props.onAlertCardPress&&this.props.onAlertCardPress(this.props.alert)}}_buildState(e,t){const i=e.alert.alertType===r.AlertType.Reaction||e.alert.alertType===r.AlertType.AdditionalReaction;let n,o,s,a,l=!1,c="";const d=e.alert.message;let g,m,b=!1;if(d){const t=(0,S.default)().getConversation(d.conversationId);n=d.creator;const s=C.decode(d),g=s.getFirstUriObjectChild(B.UriObjectNode);if(g&&(a=g.getNameForUI()),l=s.hasOnlyQuotedContent(),i){m=f.getReactionAlertAccessibilityLabel(d);const e=(0,u.chain)(d.getEmotionAnnotations(),(0,u.filter)((e=>e.key!==h.MessageAnnotations.ViewCount&&e.key!==h.MessageAnnotations.ReactionsConsumptionHorizon)),(0,u.map)((e=>e.users)),(0,u.flatten)());o=f.getReactionsDisplayInfo(e,{objectType:h.getMessageTypeGroup(d),isQuoteOnly:l,isPushNotification:!1},s),o.mostRecentMri&&(n=o.mostRecentMri)}else e.alert.alertType===r.AlertType.HighPriorityMessage?o=f.getMessageDisplayInfo(d,l):e.alert.alertType===r.AlertType.ScheduledCall&&e.alert.scheduledCallInfo&&!p.isThread(e.alert.scheduledCallInfo.initiator)&&(o=f.getScheduledCallDisplayInfo(e.alert.scheduledCallInfo),n=e.alert.scheduledCallInfo.initiator);c=t&&!t.isOneOnOne()&&!t.isHighlightsThread()&&!t.isReactionsThread()&&y.default.getDisplayName(t.id)||""}else if(e.alert.alertType===r.AlertType.Engagement){o=void 0;const t=e.alert.popCardInfo;s={title:t&&t.title,text:t&&t.subtitle,placeholders:t&&t.placeholders,showOnlyTitle:t&&t.showOnlyTitle}}else if(e.alert.alertType===r.AlertType.Notice){o=void 0;const t=e.alert.noticeMessageInfo;s={title:t&&t.title,text:t&&t.text,placeholders:t&&t.placeholders,showOnlyTitle:t&&t.showOnlyTitle}}else if(this._isNotificationPermissionAlert())o=void 0,g=N.getString("NotificationsPrompt.ShortText"),b=!0;else if(e.alert.alertType===r.AlertType.MissedCallbackReminder&&e.alert.missedCallbackReminderCalleeMri){o=void 0;const t=y.default.getDisplayName(e.alert.missedCallbackReminderCalleeMri);g=N.getString("Notifications.CallUserAgain",{user:t||""})}else if(e.alert.alertType===r.AlertType.OldFriendBack&&e.alert.oldFriendMri){o=void 0;const t=y.default.getShortDisplayName(e.alert.oldFriendMri)||"";g=N.getString("Notifications.OldFriendBackNotificationContent",{firstName:t})}const _={isUsingStackNav:H.default.isUsingStackNavigationContext(),messageToDisplay:d,description:"",descriptionAccessibilityLabel:m,posterMri:n,isReaction:i,notificationDisplayInfo:o,engagementDisplayInfo:s,formattedTimestamp:this._getElapsedTimeAndUpdateTimer(e.alert.alertTime),hideTimestamp:b,displayFilenameForIcon:a,isQuoteOnlyMessage:l,replySymbol:Z.getReplySymbol(),convDisplayName:c,headerTextOverride:g,colors:V.default.getGradientColors(),isTabletUI:te.default.isTabletUI(),modernizeConversationList:D.default.canModernizeConversationList(),userColor:V.default.getColorInfo(),enableRefreshedPalette:le.default.getS4LUiFeatures().enableRefreshedPalette};return t&&(_.isHovering=!1),_}_renderDisplayParts(){let e,t,i,o=de.Simple,l=[],c=[],u=ue.Standard,g=ge.Standard,S=!1;const m=this._useCompactLayout();let C;C=m?ae.UserIconSize.Size24:this.state.isUsingStackNav?ae.UserIconSize.Size64:ae.UserIconSize.Size40;let y=(0,n.jsx)(se.UserIcon,{size:C,userMri:this.state.posterMri,importantForAccessibility:a.Types.ImportantForAccessibility.NoHideDescendants});if(this.props.alert.isRead||(t=(0,n.jsx)(a.View,Object.assign({style:Se.unreadBadge.badgeContainer,accessibilityLabel:N.getString("AlertCard.UnreadAccessibilityLabel")},{children:(0,n.jsx)(s.GradientView,{style:Se.unreadBadge.circle,direction:s.GradientDirection.BOTTOM_RIGHT,colors:this.state.colors})}))),this.state.messageToDisplay){this.props.alert.alertType!==r.AlertType.Reaction&&this.props.alert.alertType!==r.AlertType.AdditionalReaction||(i=this.state.descriptionAccessibilityLabel,this.props.alert.isRead||(i+=", "+N.getString("AlertCard.UnreadAccessibilityLabel")));const t=h.getMessageTypeGroup(this.state.messageToDisplay),o=[Se.alertIconContainer,Se.userIconBadge],s=[Se.userIconBorder,Se.userIconBadge];let l;switch(this.state.isUsingStackNav?o.push(this._themeStyles.primaryBackgroundColorStyle):(o.push(Se.compositeNav.alertIconContainer),o.push(this._themeStyles.popoverBackgroundColorStyle)),this.state.isHovering&&s.push(this._themeStyles.rowHoverViewStyle),m||(l=(0,n.jsx)(a.View,Object.assign({style:o},{children:(0,n.jsx)(a.View,Object.assign({style:s},{children:(0,n.jsx)(se.UserIcon,{size:ae.UserIconSize.Size24,userMri:this.state.posterMri,importantForAccessibility:a.Types.ImportantForAccessibility.NoHideDescendants})}))}))),t){case h.MessageTypeGroups.Video:case h.MessageTypeGroups.Picture:const i=this._renderMediaThumbnail();i&&(e=l,y=i);break;case h.MessageTypeGroups.Audio:case h.MessageTypeGroups.Location:case h.MessageTypeGroups.SwiftCard:const n=this._renderIconThumbnail(t);n&&(e=l,y=n);break;case h.MessageTypeGroups.UriFile:const o=this._renderFileThumbnail();o&&(e=l,y=o);break;case h.MessageTypeGroups.Text:if(!this.state.isQuoteOnlyMessage){c=this._renderMessageParts()||[]}}}else if(this.props.alert.alertType===r.AlertType.OnboardingX||this.props.alert.isEngagementAlert()){let e;this.props.alert.alertType===r.AlertType.Notice&&this.props.alert.noticeMessageInfo&&(t=W.default.renderNoticeButton(this.props.alert.noticeMessageInfo,this._getRootViewId()),o=t?de.SecondaryButtons:de.Simple),this.props.alert.isEngagementAlert()&&this.state.engagementDisplayInfo?e=v.default.getFormattedAlertContent(this.state.engagementDisplayInfo,!0,o===de.SecondaryButtons):(e="\n"+this.state.description,i=N.getString("PopCards.NotificationHeader")+", "+(this.state.descriptionAccessibilityLabel||"")),l.push((0,n.jsx)(ie.BodyText,Object.assign({style:Se.cardText},{children:e}),"messagePrefix"))}else this._isNotificationPermissionAlert()&&(t=this._renderNotificationPermissionActionButton(),o=de.SecondaryButtons);const f=[Se.engagementIconStyle];switch(m?f.push(Se.engagementIconStyleCompact):this.state.isUsingStackNav||f.push(Se.engagementIconStyleDesktop),this.props.alert.alertType){case r.AlertType.Notice:const t=this.props.alert.noticeMessageInfo;switch(t.contentType){case z.NoticeMessageContentType.Notice:y=(0,n.jsx)(P.default,{origin:"NoticeAlertIcon",style:f,containerStyle:f,resizeMode:"cover",source:t.iconUrl});break;case z.NoticeMessageContentType.NoticeWithAvatar:if(t.skypeId){const e=p.skypeIdToMri(p.asSkypeId(t.skypeId));y=(0,n.jsx)(se.UserIcon,{size:C,statusTypes:t.showStatusIndicator?_.default.getAllowedUserStatuses():[],userMri:e,importantForAccessibility:a.Types.ImportantForAccessibility.NoHideDescendants})}}break;case r.AlertType.Engagement:this.props.alert.popCardInfo&&this.props.alert.popCardInfo.iconUrl&&(y=(0,n.jsx)(P.default,{origin:"EngagementAlertIcon",style:f,containerStyle:f,resizeMode:"cover",source:this.props.alert.popCardInfo.iconUrl}));break;case r.AlertType.NotificationPermission:y=void 0,u=ue.Simple,g=this.state.enableRefreshedPalette?ge.Themed:ge.WhiteOnBlue,S=!1;break;case r.AlertType.ScheduledCall:u=ue.Standard,e=this._renderTextBadge(Y.SkypeIcon.Schedule,Y.IconSize.size16);break;case r.AlertType.MissedCallbackReminder:this.props.alert.missedCallbackReminderCalleeMri&&(e=this._renderTextBadge(Y.SkypeIcon.CallStart,Y.IconSize.size16),y=(0,n.jsx)(se.UserIcon,{size:C,userMri:this.props.alert.missedCallbackReminderCalleeMri}));break;case r.AlertType.OldFriendBack:e=this._renderTextBadge(Y.SkypeIcon.PersonAvailable,Y.IconSize.size16),y=(0,n.jsx)(se.UserIcon,{size:C,userMri:this.props.alert.oldFriendMri})}if(this.props.alert.alertType===r.AlertType.HighPriorityMessage){let t=Y.SkypeIcon.Blank;this.state.messageToDisplay&&(this.state.messageToDisplay.isCurrentUserQuoted()?t=this.state.replySymbol:this.state.messageToDisplay.isCurrentUserMentioned()&&(t=Y.SkypeIcon.Mention)),e=this._renderTextBadge(t,Y.IconSize.size16)}else if(this.props.alert.alertType===r.AlertType.Reaction&&!e){const t=this.props.alert.message&&this.props.alert.message.getReactions();if(t&&t.length&&(1===t.length||m)){const i=(0,n.jsx)(d.AnimatedEmoticon,{size:d.Size.Small,innerText:t[0].key,emoticonName:t[0].key,isStatic:!0});if(m)e=i;else{const t=[Se.alertIconContainer];this.state.isUsingStackNav||t.push(Se.compositeNav.alertIconContainer),e=(0,n.jsx)(a.View,Object.assign({style:t},{children:i}))}}}return{layout:o,mainContentPartLayout:u,icon:m&&e?void 0:y,secondaryContent:t,extraHeaderText:l,messageContent:c,iconBadge:e,mainAccessibilityLabel:i,colorVariant:g,showBottomDelimiter:S}}_renderTextBadge(e,t){var i;const o=[Se.alertIconContainer,Se.alertMentionQuoteIconContainer];if(this.state.isUsingStackNav||(this._useCompactLayout()?o.push(Se.compositeNav.alertIconContainer):o.push(Se.compositeNav.alertMentionQuoteIconContainer)),!this.props.alert.isRead&&this.props.color){const e=a.Styles.createViewStyle({backgroundColor:this.props.color},!1);o.push(e)}return(0,n.jsx)(a.View,Object.assign({style:o},{children:(0,n.jsx)(A.default,{icon:e,color:J.Color.white,size:null!==(i=$.default.controlFontSize.bodyBigDeprecated)&&void 0!==i?i:t,importantForAccessibility:a.Types.ImportantForAccessibility.No,style:Se.badgeIcon})}))}render(){const e=this._isPresentedInDesktopLeftNav(),t=this._renderDisplayParts(),i=[Se.cardBody],o=[Se.contentDetailsText];const s=[this.state.isUsingStackNav?Se.containerMobileModernize:Se.container,ee.default.noncollapsibleView];let r,l,c,d;if(t.mainContentPartLayout===ue.Simple&&(s.push(Se.containerWithSimpleLayout),t.showBottomDelimiter&&(i.push(Se.cardBottomBorder),i.push(this._useDarkTheme()?Se.darkThemeSimpleLayoutBorder:Se.lightThemeSimpleLayoutBorder))),this.state.isUsingStackNav||(s.push(e?Se.experimentalNav.container:Se.compositeNav.container),e&&s.push(this.state.modernizeConversationList?Se.experimentalNav.containerHorizontalPaddingModernize:Se.experimentalNav.containerHorizontalPaddingClassic),(this._isEngagementAlert()||this._isNotificationPermissionAlert())&&s.push(ee.default.alignItemsCenter)),t.colorVariant===ge.WhiteOnBlue&&(i.push(Se.blueBackground),o.push(Se.whiteText)),t.colorVariant===ge.Themed&&(i.push(a.Styles.createViewStyle({backgroundColor:this._themeColors.surfaceInteractive},!1)),o.push(a.Styles.createTextStyle({color:this._themeColors.textOnColor},!1))),t.icon){const i=[Se.userIcon];this.state.isUsingStackNav||i.push(e?Se.experimentalNav.userIcon:Se.compositeNav.userIcon),r=(0,n.jsxs)(a.View,Object.assign({style:i},{children:[t.icon,t.iconBadge]}))}else t.iconBadge?r=(0,n.jsx)(a.View,Object.assign({style:Se.compactUserIconContainer},{children:t.iconBadge})):this._useCompactLayout()&&(r=(0,n.jsx)(a.View,{style:Se.compactUserIconContainer}));o.push(this._getOptionalRefreshedPaletteAwareAccessibleStyles()),this.state.hideTimestamp||(l=(0,n.jsx)(a.View,Object.assign({accessibilityLabel:this.state.formattedTimestamp.valueAccessible},{children:(0,n.jsx)(ie.Caption,Object.assign({style:[...o,Se.timestampText],modernizeConversationList:this.state.modernizeConversationList},{children:this.state.formattedTimestamp.value}))}))),t.mainContentPartLayout===ue.Standard&&(c=(0,n.jsx)(a.View,Object.assign({style:Se.cardContentContainer},{children:t.messageContent})),d=(0,n.jsxs)(a.View,Object.assign({style:Se.contentDetailsContainer},{children:[l,(0,n.jsx)(ie.Caption,Object.assign({style:o,numberOfLines:1,modernizeConversationList:this.state.modernizeConversationList},{children:this.state.convDisplayName}))]})));let u=(0,n.jsxs)(a.View,Object.assign({style:ee.default.flexOne},{children:[this._renderCardHeader(t.extraHeaderText||[],!this.props.alert.isRead,t.colorVariant),c,d]}));const g=[e?Se.experimentalNav.optionalSecondaryContentContainer:Se.optionalSecondaryContentContainer,Se.optionalSecondaryContentContainerEngagement],h=t.secondaryContent?(0,n.jsx)(a.View,Object.assign({style:g},{children:t.secondaryContent})):void 0;t.layout===de.SecondaryButtons&&(void 0!==r&&(r=(0,n.jsx)(a.Button,Object.assign({onPress:this._onPress,accessibilityLabel:t.mainAccessibilityLabel},{children:r}))),u=(0,n.jsx)(a.Button,Object.assign({onPress:this._onPress,style:ee.default.flexOne,accessibilityTraits:a.Types.AccessibilityTrait.Text},{children:u})));const p=(0,n.jsxs)(a.View,Object.assign({style:[s,this._getItemStyle()]},{children:[r,u,h]}));return t.layout===de.SecondaryButtons?(0,n.jsx)(a.View,Object.assign({style:i,underlayColor:this._themeColors.rowHighlightColor},{children:p})):(0,n.jsx)(M.default.Button,Object.assign({style:i,onPress:this._onPress,activeOpacity:.7,accessibilityLabel:t.mainAccessibilityLabel,onHoverStart:this._hoverStart,onHoverEnd:this._hoverEnd},{children:p}))}_getItemStyle(){const e=this._getContext().isPresentedInDesktopLeftNav;if(this.state.enableRefreshedPalette||this.state.modernizeConversationList&&(e||this._isPresentedInTabletLeftNav())){const e=[R.default.getItemBackgroundStyle(this._useDarkTheme(),!1,!!this.state.isHovering,this._useAccessibleTheme(),this._themeStyles,this.state.userColor)];return this.state.enableRefreshedPalette&&this.state.isHovering&&e.push(a.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfacePrimaryAccent},!1)),e}if(this.state.isHovering)return e?this._themeStyles.secondaryRowHoverViewStyle:this._themeStyles.rowHoverViewStyle}_getOptionalRefreshedPaletteAwareAccessibleStyles(){if(this.state.enableRefreshedPalette&&this._useAccessibleTheme()&&this.state.isHovering)return a.Styles.createTextStyle({color:this._themeColors.textOnColor},!1)}_getOptionalModernizeTitleStyle(){return this.state.modernizeConversationList?R.default.getItemTitleTextStyle(!1,!this.props.alert.isRead,this._themeStyles):this.state.isUsingStackNav?R.default.getItemTitleTextStyle(!1,!this.props.alert.isRead,this._themeStyles,!0):void 0}_getOptionalModernizeSubtitleStyle(){if(this.state.modernizeConversationList)return R.default.getItemSubtitleTextStyle(this._useDarkTheme(),!1,this._useAccessibleTheme(),this._themeStyles)}_renderCardHeader(e,t=!0,i=ge.Standard){let s=this._themeStyles.primaryTextColorStyle;i===ge.WhiteOnBlue&&(s=Se.whiteText),i===ge.Themed&&(s=a.Styles.createTextStyle({color:this._themeColors.textOnColor},!1));const r=[Se.cardText,s];let l;r.push(this._getOptionalRefreshedPaletteAwareAccessibleStyles());const c=this.props.rowSize===Q.RowSize.ExtraCompact?ie.BodyTextSize.SmallDeprecated:void 0;if(this._isNotificationPermissionAlert()&&r.push(Se.notificationPermissionHeader),this.props.alert.isEngagementAlert()&&this.state.engagementDisplayInfo)l=(0,n.jsx)(ie.BodyText,Object.assign({bold:t,size:c,style:r,numberOfLines:2},{children:v.default.getReplacedPlaceholders(o.toString(this.state.engagementDisplayInfo.title),this.state.engagementDisplayInfo.placeholders)}),"cardHeader");else if(this.state.headerTextOverride)l=(0,n.jsx)(ie.BodyText,Object.assign({bold:t,size:c,style:r,numberOfLines:2},{children:this.state.headerTextOverride}),"cardHeader");else if(this.state.notificationDisplayInfo&&this.state.notificationDisplayInfo.labelKey){let e=0;r.push(this._getOptionalModernizeTitleStyle()),r.push(this._getOptionalRefreshedPaletteAwareAccessibleStyles()),l=(0,n.jsx)(ie.BodyText,Object.assign({bold:t,size:c,style:r,numberOfLines:2,forceDirection:!0},{children:N.getParts(this.state.notificationDisplayInfo.labelKey,{you:(0,n.jsx)(a.Text,{children:N.getString("AlertCard.YouLowerCase")},"you"),all:(0,n.jsx)(a.Text,{children:N.getString("AlertCard.All")},"all"),user:(0,n.jsx)(a.Text,{children:this.state.notificationDisplayInfo.creatorDisplayName},"cardHeaderUser"),firstOtherPerson:(0,n.jsx)(a.Text,{children:this.state.notificationDisplayInfo.firstPersonToReact},"firstOtherPerson"),secondOtherPerson:(0,n.jsx)(a.Text,{children:this.state.notificationDisplayInfo.secondPersonToReact},"secondOtherPerson"),gender:x.getLocalizeParamForGender(this.state.notificationDisplayInfo.gender),otherCount:this.state.notificationDisplayInfo.othersCount,subject:this.state.notificationDisplayInfo.subject},(t=>(0,n.jsx)(a.Text,{children:t},"dynamic"+e++)))}),"cardHeader")}return(0,n.jsx)(a.Text,Object.assign({numberOfLines:this._isEngagementAlert()?0:2,forceLayoutInRTL:!0,forceDirection:!0},{children:o.flatten(o.compact([l,e]))}))}_renderMessageParts(){if(!this.state.messageToDisplay)return;const e=[],t=[this.props.rowSize===Q.RowSize.ExtraCompact?$.default.fontStyle.bodySmallDeprecated:this.state.isUsingStackNav?$.default.fontStyle.modernizeRowTitle:$.default.fontStyle.body,Se.cardText,this._themeStyles.primaryTextColorStyle,this._getOptionalModernizeSubtitleStyle()];t.push(this._getOptionalRefreshedPaletteAwareAccessibleStyles());const i={processing:b.ProcessingDefaults.Preview,renderMedia:!1,mediaPlaceholderIconColor:this._themeColors.primaryTextColor,allowLargeEmoticons:!1,trimToFirstLine:!0,forceLayoutInRTL:!0,numberOfLines:1,textOverrideStyle:t,boldTextStyle:t,regularTextStyle:t,linkStyle:t,atMentionStyle:t,atMentionMeOverrideStyle:t,renderSimpleAtMentions:!0};return e.push((0,n.jsx)(E.default,{message:this.state.messageToDisplay,options:i},"messageContent")),e}_renderFileThumbnail(){const e=k.FileIconHelper.getIconFromFileType(this.state.displayFilenameForIcon),t=[Se.iconContainer,e.backgroundStyle];let i=Y.IconSize.size32;return this.state.isUsingStackNav||(t.push(Se.compositeNav.iconContainer),i=Y.IconSize.size24),(0,n.jsx)(a.View,Object.assign({style:t},{children:(0,n.jsx)(A.default,{icon:e.icon,size:i,color:J.Color.white},this.props.alert.guid)}))}_renderIconThumbnail(e){const t=[Se.iconContainer];let i;switch(this.state.isUsingStackNav||t.push(Se.compositeNav.iconContainer),e){case h.MessageTypeGroups.Audio:i=Y.SkypeIcon.Microphone;break;case h.MessageTypeGroups.Location:i=Y.SkypeIcon.LocationPin;break;case h.MessageTypeGroups.SwiftCard:i=Y.SkypeIcon.ContactCard}const o=i?(0,n.jsx)(A.default,{icon:i,size:Y.IconSize.size24,color:J.Color.white},this.props.alert.guid):void 0;return(0,n.jsx)(a.View,Object.assign({style:t},{children:o}))}_renderMediaThumbnail(){const e=this.state.isUsingStackNav?60:40;return this.state.messageToDisplay?(0,n.jsx)(a.View,Object.assign({style:Se.thumbnailContainer},{children:(0,n.jsx)(L.default,{message:this.state.messageToDisplay,height:e,width:e,showCreator:!1,thumbnailIconsSize:Y.IconSize.size24,showVideoMediaTypeIcon:!0,borderRadius:10},this.props.alert.guid)})):void 0}_renderNotificationPermissionActionButton(){if(ce.default.isEdgeShoreline())return(0,n.jsx)(G.NotificationPermissionPromptActionButton,{origin:K.NotificationPromptOrigin.AlertPanel,title:N.getString("NotificationsPrompt.ButtonLabelAlternative"),onPress:()=>j.default.navigateToNotificationAugmentedPermissionPrompt()})}_getElapsedTimeAndUpdateTimer(e){const t=Date.now()-e;if(t>=36e5){const t=m.default.getDisplayDateTimeString(e);return{value:t,valueAccessible:t}}{const e=6e4-Math.floor(t%6e4);if(oe.default.setTimeout((()=>{this._updateTimeState()}),e),t>=6e4){const e=Math.floor(t/6e4).toString();return{value:N.getString("SearchResultsList.ElapsedTimeMinutes",{minutes:e}),valueAccessible:N.getString("SearchResultsList.ElapsedTimeMinutesAccessible",{minutes:e})}}return{value:N.getString("SearchResultsList.ElapsedTimeOneMinute"),valueAccessible:N.getString("SearchResultsList.ElapsedTimeOneMinuteAccessible")}}}_updateTimeState(){this.isComponentMounted()&&this.setState({formattedTimestamp:this._getElapsedTimeAndUpdateTimer(this.props.alert.alertTime)})}_markRead(){this.props.alert.alertType!==r.AlertType.MissedCallbackReminder&&this.props.alert.alertType!==r.AlertType.OldFriendBack?!this.props.alert.isRead&&this.state.messageToDisplay&&(this.props.alert.alertType===r.AlertType.Reaction||this.props.alert.alertType===r.AlertType.AdditionalReaction?U.default.isMyMri(this.state.messageToDisplay.creator)&&g.markReactionsAsRead(this.state.messageToDisplay):this.props.alert.alertType===r.AlertType.ScheduledCall&&g.markScheduledCallAsRead(this.state.messageToDisplay)):c.default.markAsRead(this.props.alert.guid)}_getAlertTypeForTelemetryEvent(){let e=T.AlertTypeForTelemetry.Unknown;switch(this.props.alert.alertType){case r.AlertType.Reaction:case r.AlertType.AdditionalReaction:e=T.AlertTypeForTelemetry.Reaction;break;case r.AlertType.OnboardingX:e=T.AlertTypeForTelemetry.Onboarding;break;case r.AlertType.Engagement:e=T.AlertTypeForTelemetry.Engagement;break;case r.AlertType.HighPriorityMessage:this.state.messageToDisplay&&this.state.messageToDisplay.isCurrentUserQuoted()?e=T.AlertTypeForTelemetry.Quote:this.state.messageToDisplay&&this.state.messageToDisplay.isCurrentUserMentioned()&&(e=T.AlertTypeForTelemetry.Mention);break;case r.AlertType.Notice:e=T.AlertTypeForTelemetry.Notice;break;case r.AlertType.ScheduledCall:e=T.AlertTypeForTelemetry.ScheduledCall;break;case r.AlertType.OldFriendBack:e=T.AlertTypeForTelemetry.OldFriendBack}return e}_isEngagementAlert(){return this.props.alert.alertType===r.AlertType.Engagement||this.props.alert.alertType===r.AlertType.Notice}_useCompactLayout(){return this.props.rowSize===Q.RowSize.Compact||this.props.rowSize===Q.RowSize.ExtraCompact}_isNotificationPermissionAlert(){return this.props.alert.alertType===r.AlertType.NotificationPermission}}t.default=me},16967:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.onAlertCardPress=void 0;const n=i(671830),o=i(144824),s=i(74478),a=i(453880),r=i(117282),l=i(321444),c=i(721788),d=i(330124),u=i(248689),g=i(491632),h=i(853374),p=i(746096),S=i(142826),m=i(104735),C=i(470942),y=i(329937),f=i(968894),b=i(611251);t.onAlertCardPress=function(e){const t=h.default.newCauseId();switch(g.Instrumentation.log(p.LogTraceArea.Navigation,`[AlertsCardActions][onAlertCardPress][${t}]Card in alerts was pressed`),e.alertType){case S.AlertType.MissedCallbackReminder:e.missedCallbackReminderCalleeMri&&m.default.navigateToConversation({convId:e.missedCallbackReminderCalleeMri,causeId:t,origin:p.NavigationConversationOrigin.AlertsPanel});break;case S.AlertType.Engagement:if(e.popCardInfo)if(d.default.isUsingStackNavigationContext())m.default.navigateToHub(t),o.default.toggleCardById(!0,e.popCardInfo.guid);else{const t=o.default.getCardsById([e.popCardInfo.guid]);s.default.openPopCard(t,u.MainRootViewId)}break;case S.AlertType.Notice:if(e.noticeMessageInfo){const t=e.noticeMessageInfo,i={eventType:C.EngagementTelemetryEventType.NoticeTapCard,campaignId:t.campaignId,campaignTrackId:a.default.getTrackingQueryParam(t.mainActionUri),actionOrigin:C.ActionOrigin.Notification,messageCorrelationId:t.messageCorrelationId,engagementTelemetryAttributes:t.engagementTelemetryAttributes};if(t.contentType===r.NoticeMessageContentType.NoticeWithAvatar&&t.skypeId&&t.showStatusIndicator){const e=n.skypeIdToMri(n.asSkypeId(t.skypeId));if(n.isMriWithUserMetadata(e)){const t=c.default.getUserStatusWithOptions(e,l.default.getAllowedUserStatuses());i.userStatus=t}}g.Instrumentation.track(new C.EngagementNoticeTelemetryEvent(i));const o=()=>{e.noticeMessageInfo&&b.default.onNoticeOpen(e.noticeMessageInfo)};if(!e.noticeMessageInfo.mainActionUri)return;y.default.openUri({onDone:o,type:f.EngagementType.Notice,title:e.noticeMessageInfo.modalTitle,uri:e.noticeMessageInfo.mainActionUri,target:e.noticeMessageInfo.mainActionTarget,campaignId:e.noticeMessageInfo.campaignId,messageCorrelationId:e.noticeMessageInfo.messageCorrelationId},u.MainRootViewId)}}}},73424:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(583367),a=i(396265),r=i(516778),l=i(244770),c=i(281878),d=i(913805),u=i(72225),g=i(66495),h=i(142826),p=i(81115),S=i(72105),m=i(889391),C=i(898278),y=i(539549),f=i(956280),b=i(310167),_=i(26317),v=i(2519),T=i(235251),P=i(746096),k=i(211375),A=i(436237),I=i(710400),w=i(915877),x=i(733754),N=i(866127),M=i(89808),L=i(716492),O=i(716492),D=i(391659),R=i(812944),E=i(330124),B=i(144824),F=i(882052),V=i(29130),U=i(451070),j=i(915415),H=i(581760),W=i(680837),z=i(619675),G=i(24576),K=i(388117),q=i(567977),Q=i(345187),X=i(980734),J=i(474728),$=i(631409),Y="alp_alert",Z="native_ad",ee="alp_update",te="alp_spacer",ie=(0,w.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),emptyStateContainer:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center",paddingHorizontal:40}),emptyStateImageV3:()=>r.Styles.createImageStyle({height:130,width:130,alignSelf:"center"}),emptyStateMessage:()=>r.Styles.createTextStyle({textAlign:"center"}),activityIndicatorContainer:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center"}),itemDividerComposite:()=>r.Styles.createViewStyle({height:1,marginLeft:68}),itemDividerStackNav:()=>r.Styles.createViewStyle({height:1,marginLeft:93})}),ne={flexGrow:1,flexShrink:0};class oe extends G.default{constructor(){super(...arguments),this._currentScrollTop=0,this._haveAlertsBeenTracked=!1,this.handleFocusEvent=e=>(A.log(P.LogTraceArea.GenericUnsafe,"AlertsPanel.handleFocusEvent"),!(e!==k.FocusEvent.Notifications||!this._vlvRef)&&(this._vlvRef.scrollToTop(!1),this._vlvRef.focus(!0),!0)),this._getEmptyStateImageInfo=()=>this.state.isLandscape?void 0:{imageStyle:ie.emptyStateImageV3,imageSource:l.Collection.ONBOARDING_NOTIFICATIONS_EMPTYSTATE_V3},this._onLayoutVlvContainer=e=>{this.isComponentMounted()&&(this.state.listItemContainerHeight===e.height&&this.state.listItemContainerWidth===e.width||this.setState({listItemContainerHeight:e.height,listItemContainerScreenAvailableHeight:oe._getItemContainerHeightDisregardingKeyboard(e.height,this.state),listItemContainerWidth:e.width}))},this._renderItem=(e,t)=>{switch(e.template){case Y:const t=this.state.alerts[e.key];let i;return this.props.showDivider&&(i=this._renderOptionalDivider()),o.compact([(0,n.jsx)(d.default,{alert:t,height:e.height,onAlertCardPress:this._onPressAlertCard,color:e.color,item:e,rowSize:this.state.rowSize},t.guid),i]);case ee:return(0,n.jsx)(_.default,{rowSize:this.state.rowSize},e.key);case te:return(0,n.jsx)(r.View,{style:r.Styles.createViewStyle({height:e.height},!1)},e.key);case Z:const s=e;let a;return a=s.adsType===f.AdsType.ListItemNarrow?(0,n.jsx)(u.default,{adsGuid:s.adsGuid,adGuid:s.adGuid,dimensions:s.dimensions,placementId:s.placementId,canHide:s.canHide,provider:s.provider},s.key):(0,n.jsx)(g.default,{adsGuid:s.adsGuid,adGuid:s.adGuid,dimensions:s.dimensions,placementId:s.placementId,canHide:s.canHide,provider:s.provider},s.key),o.compact([a,this._renderOptionalDivider()]);default:return[]}},this._onScroll=(e,t)=>{this.props.onScroll&&this.props.onScroll(e,this._currentScrollTop),this._currentScrollTop=e},this._onPressAlertCard=e=>{this.props.onPressAlertCard&&this.props.onPressAlertCard(e)},this._onVLVRef=e=>{this._vlvRef=e||void 0}}_buildState(e,t){const i=m.default.getAdsFeatures(),n=i.placementSettings.alertsPanel,a=S.default.getRecentAlerts(e.filter),l={};if(!S.default.isLoadingAlertsFromDb()&&!this._haveAlertsBeenTracked){const e=(0,y.default)().getDisplayableRecentConversationsSortedAll().length,t=this._setupAlertTypesInfo(a);A.track(new p.AlertsPanelOpened(t,e)),this._haveAlertsBeenTracked=!0}o.each(a,(e=>{l["n_"+e.guid]=e}));const c=this._getRootViewId(),d=E.default.isUsingStackNavigationContext(),u=N.default.canModernizeConversationList(),g=m.default.getS4LMessagingFeatures().modernizeIllustrations,h={alerts:l,isLoadingAlertsFromDb:S.default.isLoadingAlertsFromDb(),isUsingStackNavigationContext:d,safeAreaHorizontalInsets:U.default.horizontalInsets(C.HorizontalInsetDefaultModernize),isLandscape:V.default.getDeviceOrientation(c)===s.DeviceOrientation.Landscape&&!this._getContext().isPresentedInDesktopSubview,rowSize:this._isPresentedInDesktopLeftNav()||u&&this._isPresentedInTabletLeftNav()?F.default.nonRecentRowSizeAndChanges():void 0,keyboardHeight:I.default.getUpdateInfo().height,modernizeConversationList:u,modernizeIllustrations:g,emptyNotificationsTabEmoticon:m.default.getS4LMessagingFeatures().emoticonForEmptyNotificationsTab,displayEmptyStateScreen:g&&J.default.getNotificationsEmpty(),displayEmptyStateScreenOnDemand:g&&J.default.getNotificationsEmpty(!0)},_=oe._calculateAlertCardHeight(d),T=N.default.canModernizeConversationList()&&(this._isPresentedInDesktopLeftNav()||this._isPresentedInTabletLeftNav());let P=0;const k=M.default.getPrimaryColor();h.itemList=o.flatten(o.map(h.alerts,(e=>{const t=[{key:"n_"+e.guid,height:_,template:Y,color:k,measureHeight:!0,accessibilityTrait:r.Types.AccessibilityTrait.Button}];return T&&t.push(this._getItemSpacer(2,P++)),t}))),b.default.getUpdateStatus()===v.default.UpdateDownloaded&&(h.itemList=[{key:"update_notification",height:_,template:ee,measureHeight:!0,accessibilityTrait:r.Types.AccessibilityTrait.Button},...h.itemList]);const w=m.default.getS4LMessagingFeatures().enableRecyclerListViewUseCases;h.enabledRecyclerView=w.indexOf("MainScreen.Tabs.Notifications")>-1;const x=(i.naExperimentEnabled||i.enabled)&&(n.adsType===f.AdsType.ListItem||n.adsType===f.AdsType.ListItemNarrow)&&h.itemList.length>=n.minRequiredAdjacentItems?O.default.getAdsState(n.placementIds[0],{refreshIntervalInMinutes:n.refreshIntervalInMinutes,isAdMediaClickable:n.isAdMediaClickable,placementName:R.NativeAdPlacementName.AlertsPanel,provider:n.provider,adsType:n.adsType,otherProviders:n.otherProviders,testDevices:i.testDevices}):void 0;return x&&x.status===L.AdsStatus.Loaded&&this._insertNativeAdIntoList(h,n,x,_,T,P),h}_getItemSpacer(e,t){return{key:te+t,height:e,template:te,isNavigable:!1}}scrollToTop(){this._vlvRef&&this._vlvRef.scrollToTop()}componentDidMount(){super.componentDidMount(),S.default.maybeAddOrRemoveNotificationPermissionAlert(),S.default.clearAlertsPanelCount(),k.register(k.FocusEvent.Notifications,this)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),o.some(this.state.alerts,(e=>e.alertType===h.AlertType.Engagement))&&B.default.initialize(),J.default.setNotificationsEmpty(o.filter(this.state.alerts,(e=>e.alertType!==h.AlertType.NotificationPermission)).length)}componentWillUnmount(){super.componentWillUnmount(),k.unregister(k.FocusEvent.Notifications,this)}render(){if(this.state.displayEmptyStateScreenOnDemand)return this._renderModernizedEmptyState();const e=0===this.state.itemList.length,t=o.size(this.state.alerts)<=1,i=e&&this.state.isLoadingAlertsFromDb;let s;if(i)s=(0,n.jsx)(r.View,Object.assign({style:ie.activityIndicatorContainer},{children:(0,n.jsx)(j.default,{size:C.SXActivityIndicatorSize.Medium,tintColor:H.Color.gray400})}));else if(e){let e;const t=this._getEmptyStateImageInfo();t&&(e=(0,n.jsx)(r.Image,{style:t.imageStyle,source:t.imageSource})),s=this.state.modernizeIllustrations?void 0:(0,n.jsxs)(r.View,Object.assign({style:ie.emptyStateContainer},{children:[e,(0,n.jsx)(T.default,{headerText:x.getString("AlertsPanel.EmptyStateHeader")}),(0,n.jsx)(z.BodyText,Object.assign({style:ie.emptyStateMessage,textThemeColor:z.TextThemeColor.Secondary},{children:x.getString("AlertsPanel.EmptyStateDescriptionAlternative")}))]}))}else s=(0,n.jsx)(a.VirtualListView,{ref:this._onVLVRef,enabledRecyclerView:this.state.enabledRecyclerView,itemList:this.state.itemList,renderItem:this._renderItem,animateChanges:!0,horizontalPadding:this.state.safeAreaHorizontalInsets,onScroll:this._onScroll,accessibilityLabel:x.getString("AlertsPanel.NotificationsTitle"),style:this.state.displayEmptyStateScreen?$.styles.panelWrapperStyle:void 0});const l=this.state.displayEmptyStateScreen&&t?this._renderModernizedEmptyState():void 0;return(0,n.jsx)(r.View,Object.assign({style:[ie.panel,W.default.noncollapsibleView],onLayout:this._onLayoutVlvContainer},{children:l&&!i?(0,n.jsxs)(c.ScrollView,Object.assign({contentContainerStyle:ne},{children:[s,l]})):s}))}_renderModernizedEmptyState(){return(0,n.jsx)(Q.default,{emoticon:this.state.emptyNotificationsTabEmoticon,topSlot:(0,n.jsx)(X.default,{headerText:x.getString("AlertsPanel.EmptyStateHeader"),bodyText:x.getString("AlertsPanel.EmptyStateDescriptionAlternative"),useThemeHeaderColor:!0})},"noNotificationsItem")}_insertNativeAdIntoList(e,t,i,n,o,s){if(!e.itemList)return;const a=this._getRootViewId(),r=this.state&&this.state.listItemContainerScreenAvailableHeight?this.state.listItemContainerScreenAvailableHeight:V.default.getHeight(a),l=this._createNativeAdItem(e,t,i,n),c=D.default.calculateNativeAdsPositionInListView({maxHeight:r,items:e.itemList,startPosition:0,nativeAdsHeight:l.height,adsConfig:t}),d=[l];o&&d.push(this._getItemSpacer(2,s)),e.itemList.splice(c,0,...d)}_createNativeAdItem(e,t,i,n){const o=t.placementIds[0],s=this.state&&this.state.listItemContainerWidth?this.state.listItemContainerWidth:300,a=this._getIconSize(!!e.isUsingStackNavigationContext),l=D.default.calculateAlertCardNativeAdDimensions(!!e.isUsingStackNavigationContext,s,n,D.default.includeMediaInAdHeight(i),a,K.default.getIconSize(a).user,t.dynamicDimensionsSettings,i.adsType);return{key:"native_ad"+o,adsGuid:i.guid,adGuid:i.ads[0],height:l.totalHeight,dimensions:l,placementId:o,template:Z,accessibilityTrait:r.Types.AccessibilityTrait.Group,accessibilityLabel:x.getString("NativeAd.AdAccessibilityLabel"),canHide:t.canHide,provider:i.provider,adsType:i.adsType}}_getIconSize(e){return e?q.AvatarIconSize.Size60:q.AvatarIconSize.Size40}_renderOptionalDivider(){const e=[this.state.isUsingStackNavigationContext?ie.itemDividerStackNav:ie.itemDividerComposite,this._themeStyles.dividerColorStyle];return(0,n.jsx)(r.View,{style:e},"itemDivider")}_setupAlertTypesInfo(e){return{engagementsCount:o.filter(e,(e=>e.alertType===h.AlertType.Engagement)).length,quotesCount:o.filter(e,(e=>e.message&&e.message.isCurrentUserQuoted())).length,reactionsCount:o.filter(e,(e=>e.alertType===h.AlertType.Reaction)).length,mentionsCount:o.filter(e,(e=>e.message&&e.message.isCurrentUserMentioned())).length}}static _calculateAlertCardHeight(e){const t=V.default.getContentSizeMultiplier(),i=e?64:70;return 20+Math.round(i*Math.min(t,C.MaxContentSizeMultiplier))+2}static _getItemContainerHeightDisregardingKeyboard(e,t){return t.keyboardHeight<=0?e:t.listItemContainerScreenAvailableHeight?t.listItemContainerScreenAvailableHeight:t.listItemContainerHeight?t.listItemContainerHeight:e}}t.default=oe},749554:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertsPanelWrapper=void 0;const n=i(785893),o=i(516778),s=i(281878),a=i(803056),r=i(733754),l=i(264160),c=i(73424),d=i(147204),u=i(619675),g=i(512193),h=i(971136),p=i(600212),S=i(16967);function m(){const{headerStyle:e}=(0,g.useSkypeStyles)((({themeColors:e})=>({headerStyle:{borderBottomColor:e.dividerPrimary,borderBottomWidth:1}})),[]),{headerTextStyle:t}=(0,g.useRXStyles)((({themeColors:e})=>({headerTextStyle:o.Styles.createTextStyle({color:e.textSecondary,fontWeight:h.FontWeights.normal},!1)})),[]);return(0,n.jsx)(s.Row,Object.assign({height:"60px",paddingX:"4",alignItems:"center",style:e},{children:(0,n.jsx)(u.PanelHeader,Object.assign({style:t},{children:r.getString("SettingsHubHeader.NotificationsTitle")}))}))}t.AlertsPanelWrapper=function(e){const{themeColors:{surfacePrimary:t}}=(0,p.useSkypeTheme)(),i={fillColor:t,strokeColor:t};return(0,n.jsx)(a.default,Object.assign({isPresentedInDesktopSubview:!0},{children:(0,n.jsxs)(l.default,Object.assign({modalWidth:d.default.headerModalBaseWidth,modalHeight:d.default.headerModalBaseHeight,onClickOutside:e.dismiss,modalTitle:"alerts",popupColorInfo:i,horizontalPadding:0,anchor:e.anchor,hideBackground:!0,fullSize:!1},{children:[m(),(0,n.jsx)(c.default,{onPressAlertCard:S.onAlertCardPress},"AlertsModal")]}))}))}},26317:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(310167),a=i(632910),r=i(746096),l=i(915877),c=i(733754),d=i(451072),u=i(793003),g=i(710056),h=i(581760),p=i(640363),S=i(311010),m=i(711828),C=i(619675),y=i(24576),f=i(889391),b=m.IconSize.size40,_=m.IconSize.size24,v=(0,l.lazyProperties)({container:()=>o.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",paddingVertical:10,paddingHorizontal:15}),containerCompact:()=>o.Styles.createViewStyle({paddingHorizontal:10}),text:()=>o.Styles.createTextStyle({flex:1,marginLeft:15,marginRight:10,lineHeight:22}),textCompact:()=>o.Styles.createTextStyle({marginLeft:8}),updateButton:()=>o.Styles.createViewStyle({backgroundColor:h.Color.green,height:30,borderRadius:15,paddingHorizontal:15,justifyContent:"center",alignItems:"center"}),mandatoryUpdateButton:()=>o.Styles.createViewStyle({backgroundColor:h.Color.red}),updateButtonText:()=>o.Styles.createTextStyle({color:h.Color.white,fontSize:S.default.controlFontSize.smallButton})});class T extends y.default{constructor(){super(...arguments),this._onHoverStart=()=>{this.isComponentMounted()&&this.setState({isHovering:!0})},this._onHoverEnd=()=>{this.isComponentMounted()&&this.setState({isHovering:!1})},this._onPress=()=>{a.tryToQuitAndInstallUpdate(this._getRootViewId())}}_buildState(e,t){return{isRedBadge:s.default.shouldShowUpdateReminder(),enableRefreshedPalette:f.default.getS4LUiFeatures().enableRefreshedPalette}}render(){const e=this.props.rowSize===u.RowSize.ExtraCompact||this.props.rowSize===u.RowSize.Compact,t=[v.container,this._themeStyles.updateCard],i=[v.text];e&&(t.push(v.containerCompact),i.push(v.textCompact)),this.state.isRedBadge&&t.push(this._themeStyles.mandatoryUpdateCard),this.state.isHovering&&(this.state.isRedBadge?t.push(this._themeStyles.mandatoryUpdateCardHover):t.push(this._getHoverStyles()));const s=[v.updateButton];return this.state.isRedBadge&&s.push(v.mandatoryUpdateButton),(0,n.jsxs)(d.default.Button,Object.assign({style:t,onHoverStart:this._onHoverStart,onHoverEnd:this._onHoverEnd,onPress:this._onPress},{children:[(0,n.jsx)(g.SkypeLogo,{size:e?_:b}),(0,n.jsx)(C.BodyText,Object.assign({style:i,size:e?C.BodyTextSize.SmallDeprecated:void 0},{children:this._getUpdateMessage()})),(0,n.jsx)(o.View,Object.assign({style:s},{children:(0,n.jsx)(o.Text,Object.assign({style:v.updateButtonText},{children:this._getUpdateButton()}))}))]}))}_getHoverStyles(){return this.state.enableRefreshedPalette?o.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfaceAccent},!1):this._themeStyles.updateCardHover}_getUpdateMessage(){return this.state.isRedBadge?c.getString("ElectronUpdateCard.ElectronUpdateMandatory"):p.default.getPlatformType()===r.PlatformType.Linux?c.getString("ElectronUpdateCard.ElectronUpdateLinux"):c.getString("ElectronUpdateCard.ElectronUpdate")}_getUpdateButton(){return p.default.getPlatformType()===r.PlatformType.Linux?c.getString("ElectronUpdateCard.UpdateButtonLinux"):c.getString("ElectronUpdateCard.UpdateButton")}}t.default=T},476850:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopHubTabBar=void 0;const n=i(785893),o=i(496486),s=i(72105),a=i(677381),r=i(475760),l=i(310167),c=i(707213),d=i(547126),u=i(46929),g=i(217093),h=i(126978),p=i(912770);class S extends a.default{constructor(){super(...arguments),this._onKeyPress=e=>{if(!this.isComponentMounted())return;let t=o.indexOf(this.props.tabs,this.state.focusedHubTab);e.keyCode!==d.default.DOWN&&e.keyCode!==d.default.LEFT||(t-=1),e.keyCode!==d.default.UP&&e.keyCode!==d.default.RIGHT||(t+=1),t<0?t=this.props.tabs.length-1:t>=this.props.tabs.length&&(t=0),this.setState({focusedHubTab:this.props.tabs[t]})},this._onBlur=()=>{this._focusResetTimeout&&p.default.clearTimeout(this._focusResetTimeout),this._focusResetTimeout=p.default.setTimeout((()=>{this.isComponentMounted()&&this.state.focusedHubTab!==this.props.currentHubTab&&this.setState({hasFocus:!1,focusedHubTab:this.props.currentHubTab})}),250)},this._onFocus=()=>{this.isComponentMounted()&&!this.state.hasFocus&&this.setState({hasFocus:!0}),this._focusResetTimeout&&(p.default.clearTimeout(this._focusResetTimeout),this._focusResetTimeout=void 0)},this._onTabBarRef=e=>{this._tabBar=e||void 0},this._onTabBarLayout=e=>{if(!this.state.resizingEnabled)return;const t=e.width<=this.props.smallTabsThreshold;this.state.useSmallTabs!==t&&this.setState({useSmallTabs:t})}}_buildState(e,t){const i=o.includes(e.tabs,g.HubTab.Notifications),n=o.includes(e.tabs,g.HubTab.Today),a={activeConversationsCount:o.includes(e.tabs,g.HubTab.Recents)?r.default.getActiveRecentsConversationCount():0,unreadAlertsCount:i?s.default.getUnreadAlertsCount():0,showTodayTabBadge:n&&u.default.shouldShowTodayBadge(),shouldShowUpdateBadge:i&&(l.default.shouldShowUpdateBadge()||l.default.shouldShowUpdateReminder()),focusedHubTab:e.currentHubTab,resizingEnabled:h.default.resizingEnabled(h.SideBar.Left)};return t&&(a.hasFocus=!1,a.useSmallTabs=e.useSmallTabsOnMount),a}tabRef(e){return this._tabBar?this._tabBar.tabRef(e):void 0}_badgeCount(){let e=this.state.unreadAlertsCount||0;return this.state.shouldShowUpdateBadge&&e++,e}render(){return(0,n.jsx)(c.default,{ref:this._onTabBarRef,style:this.props.style,tabs:this.props.tabs,currentHubTab:this.props.currentHubTab,focussedHubTab:this.state.focusedHubTab,activeConversationsCount:this.state.activeConversationsCount,unreadAlertsCount:this._badgeCount(),showTodayTabBadge:this.state.showTodayTabBadge,hasFocus:this.state.hasFocus,useSmallTabs:this.state.useSmallTabs,hideLabels:this.props.hideLabels,onTabPress:this.props.onTabPress,onTabContextMenu:this.props.onTabLongPress,onKeyPress:this._onKeyPress,onFocus:this._onFocus,onBlur:this._onBlur,onLayout:this.state.resizingEnabled?this._onTabBarLayout:void 0,showSpinnerWhenSyncing:!0})}}t.DesktopHubTabBar=S,t.default=S},724787:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopNewActionPicker=t.DesktopNewActionPickerType=void 0;const n=i(785893),o=i(496486),s=i(516778),a=i(889391),r=i(297775),l=i(911009),c=i(898278),d=i(258031),u=i(731761),g=i(72822),h=i(952262),p=i(746096),S=i(713873),m=i(766649),C=i(436237),y=i(835114),f=i(915877),b=i(941209),_=i(733754),v=i(844285),T=i(812462),P=i(257538),k=i(18078),A=i(104735),I=i(217093),w=i(795691),x=i(328377),N=i(210541),M=i(906262),L=i(316392),O=i(293194),D=i(581760),R=i(640363),E=i(711828),B=i(360305),F=i(24576),V=i(853374);var U;!function(e){e[e.Default=0]="Default",e[e.TextButtonWithShadow=1]="TextButtonWithShadow",e[e.TextButtonWithBorderAndIcon=2]="TextButtonWithBorderAndIcon"}(U=t.DesktopNewActionPickerType||(t.DesktopNewActionPickerType={}));const j=(0,f.lazyProperties)({iconContainer:()=>s.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",alignItems:"center"}),iconButtonText:()=>s.Styles.createViewStyle({margin:5}),iconButtonTextCompactIcon:()=>s.Styles.createViewStyle({paddingTop:4})}),H="moderatedgroup",W="group",z="1on1",G="private",K="newCall",q="findBots",Q="addContact",X="cellularSms",J="inviteToSkype",$="syncAddressBook",Y="newChat";class Z extends F.default{constructor(){super(...arguments),this._menuId=O.default.menuId(),this._onPlusButtonClick=e=>{if(e.stopPropagation(),this.state.superComposerEnabled){new u.default({creating1on1Conversation:!0,useSuperComposerFor1on1Conversation:!0,peopleType:N.PeopleType.All,filterPeopleType:N.FilterType.None,isSingleContactSelect:!0,navigationOrigin:p.NavigationConversationOrigin.SuperComposer,wizardSteps:[w.WizardSteps.setConvParticipants]}).start(this._getRootViewId())}else{const t=e;this._openPopup(t.shiftKey||t.metaKey,e)}},this._onPlusButtonRef=e=>{this._plusButtonRef=e},this._openAnchorPopup=()=>{this._openPopup(!1)},this._openPopup=(e,t)=>{if(!e&&this.state.enableNewConversationCreation)return void this._onHandleAddMenuCommand(Y);const i={anchor:()=>this._plusButtonRef,useTheme:!0,showAdvancedItems:e,positionPriorities:["bottom","right"],popupBeakSize:{width:0,height:0}};if(void 0!==this.props.hubTab){let e;switch(this.props.hubTab){case I.HubTab.Recents:e=this._getRecentMenuItems(i);break;case I.HubTab.MeetNowChats:case I.HubTab.MeetNowCalls:e=v.MeetNowHelpers.getMeetNowMenuItems();break;case I.HubTab.Calls:e=this._getCallsMenuItems(i);break;case I.HubTab.People:e=this._getAddMenuItems(i)}if(e){if(1===e.length)return void this._onHandleAddMenuCommand(e[0].command);if(this.props.hubTab===I.HubTab.People){const e=[{key:"addsection",menuItems:this._getAddMenuItems(i)},{key:"invitesection",menuItems:this._getInviteMenuItems(i)}];b.isAddressBookEnabled()&&!this.state.syncAddressBookEnabled&&e.push({key:"synccontactssection",menuItems:this._getSyncContactsMenuItems(i)}),O.default.showGroupWithOptions({id:this._menuId,config:i,getMenuGroups:()=>e,handleMenuCommand:this._onHandleAddMenuCommand,cancelButtonTitleIOS:_.getString("Global.CancelLabel"),rootViewId:this._getRootViewId(),invokingEvent:t})}else{const n=e;O.default.showWithOptions({id:this._menuId,config:i,getMenuItems:()=>n,handleMenuCommand:this._onHandleAddMenuCommand,rootViewId:this._getRootViewId(),invokingEvent:t,onDismiss:o.noop})}}}else if(this.props.showGroupedActions){const e=[{key:"newsection",menuItems:this._getNewMenuItems(i)},{key:"addsection",menuItems:this._getAddMenuItems(i)}];O.default.showGroupWithOptions({id:this._menuId,config:i,getMenuGroups:()=>e,handleMenuCommand:this._onHandleAddMenuCommand,cancelButtonTitleIOS:_.getString("Global.CancelLabel"),rootViewId:this._getRootViewId(),invokingEvent:t})}else O.default.showWithOptions({id:this._menuId,config:i,getMenuItems:this._getAllMenuItems,handleMenuCommand:this._onHandleAddMenuCommand,rootViewId:this._getRootViewId(),invokingEvent:t})},this._getAllMenuItems=e=>[...this._getNewMenuItems(e),...this._getAddMenuItems(e)],this._getNewMenuItems=e=>{const t=[{text:_.getString("Hub.NewGroupChatLabel"),command:W}];return(e.showAdvancedItems||this.state.enableModeratedGroupChats)&&t.push({text:_.getString("Hub.NewModeratedGroupChatLabel"),command:H}),t.push({text:_.getString("Hub.New1on1ChatLabel"),command:z}),this.state.disableHighBandwidthOperations||t.push({text:_.getString("Hub.NewCallLabel"),command:K}),t.push({text:_.getString("Hub.NewPrivateChatLabel"),command:G}),this._canShowSmsEntryPoint()&&t.push({text:_.getString("Hub.NewCellularSmsChatLabel"),command:X}),t},this._getAddMenuItems=e=>{const t=[];return this.state.addContactFlowEnabled&&t.push({text:_.getString("Hub.AddContactMenuLabel"),command:Q}),this.state.ecsBotDiscoveryEnabled&&t.push({text:this.props.showGroupedActions?_.getString("Hub.FindBotLabelGrouped"):_.getString("Hub.FindBotLabel"),command:q}),t},this._getInviteMenuItems=e=>{const t=[];return t.push({text:_.getString("Hub.InviteToSkypeLabel"),command:J}),t},this._getSyncContactsMenuItems=e=>{const t=[],i=R.default.getPlatformType()===p.PlatformType.OSX,n=R.default.getPlatformType()===p.PlatformType.Windows;let o="";return i?o=_.getString("Hub.SyncMacContacts"):n&&(o=_.getString("Hub.SyncPcContacts")),t.push({text:o,command:$}),t},this._getRecentMenuItems=e=>{const t=[{text:_.getString("Hub.NewGroupChatLabel"),command:W}];return(e.showAdvancedItems||this.state.enableModeratedGroupChats)&&t.push({text:_.getString("Hub.NewModeratedGroupChatLabel"),command:H}),t.push({text:_.getString("Hub.New1on1ChatLabel"),command:z}),t.push({text:_.getString("Hub.NewPrivateChatLabel"),command:G}),this._canShowSmsEntryPoint()&&t.push({text:_.getString("Hub.NewCellularSmsChatLabel"),command:X}),t},this._getCallsMenuItems=e=>{const t=[];return this.state.disableHighBandwidthOperations||t.push({text:_.getString("Hub.NewCallLabel"),command:K}),t},this._onHandleAddMenuCommand=e=>{const t=V.default.newCauseId();switch(C.log(p.LogTraceArea.Navigation,"DesktopNewActionPicker._onHandleAddMenuCommand,  causeId: "+t),C.track(new S.HubPlusButtonEvent(e)),e){case H:new u.default({navigationOrigin:p.NavigationConversationOrigin.NewModeratedGroup,peopleType:N.PeopleType.All,filterPeopleType:N.FilterType.GroupCapable}).start(this._getRootViewId());break;case W:new u.default({navigationOrigin:p.NavigationConversationOrigin.NewGroup,peopleType:N.PeopleType.All,filterPeopleType:N.FilterType.GroupCapable}).start(this._getRootViewId());break;case z:new u.default({creating1on1Conversation:!0,peopleType:N.PeopleType.All,filterPeopleType:N.FilterType.None,isSingleContactSelect:!0,navigationOrigin:p.NavigationConversationOrigin.NewChat,wizardSteps:[w.WizardSteps.setConvParticipants]}).start(this._getRootViewId());break;case G:new u.default({creating1on1Conversation:!0,peopleType:N.PeopleType.AllExcludingBots,filterPeopleType:N.FilterType.None,isSingleContactSelect:!0,navigationOrigin:p.NavigationConversationOrigin.NewPrivateChat,wizardSteps:[w.WizardSteps.setConvParticipants]}).start(this._getRootViewId());break;case K:this.props.showGroupedActions?A.default.navigateToQuickCallPanelWithParams({newGroup:!0,causeId:t},this._getRootViewId()):A.default.navigateToQuickCallPanel(t,this._getRootViewId());break;case q:A.default.navigateToBotDiscovery(void 0,this._getRootViewId());break;case Q:A.default.navigateToAddContactPanel(d.AddContactPanelOrigin.DesktopNewActionPicker,L.StackNavigationDirection.Push,this._getRootViewId());break;case J:const i=k.default.getSkypeMri(),n=h.default.getDisplayName(i);A.default.navigateToInviteShare(i,n,y.InviteLinkOrigin.DesktopNewActionPicker,this._getRootViewId());break;case $:A.default.navigateToSyncAddressBook({origin:g.DialogNavOrigin.LocalContactsTab,hideSkipButton:!0},void 0,this._getRootViewId());break;case O.SXActionMenuCancel:break;case X:new u.default({creating1on1Conversation:!0,peopleType:N.PeopleType.AllWithPhoneNumbers,filterPeopleType:N.FilterType.CallCapable,isSingleContactSelect:!0,navigationOrigin:p.NavigationConversationOrigin.NewChat,wizardSteps:[w.WizardSteps.setConvParticipants],createCellularSmsConversation:!0}).start(this._getRootViewId());break;case Y:new u.default({peopleType:N.PeopleType.All,filterPeopleType:N.FilterType.None,navigationOrigin:p.NavigationConversationOrigin.Recents,wizardSteps:[w.WizardSteps.setConvParticipants]}).start(this._getRootViewId());break;case P.MeetNowButtonActionCommands.CreateMeetNow:case P.MeetNowButtonActionCommands.JoinMeetNow:const o=e===P.MeetNowButtonActionCommands.CreateMeetNow?this.props.hubTab===I.HubTab.MeetNowCalls?P.MeetNowOrigin.CallsHubDesktop:P.MeetNowOrigin.RecentChatsHubDesktop:this.props.origin||P.MeetNowOrigin.JoinLobby;v.MeetNowHelpers.handleMeetNowActionMenuCommand(e,o)}},this._canShowSmsEntryPoint=()=>this.state.enable2WaySmsEntryPoint}_buildState(e){const{enableNewConversationCreation:t,enableModeratedGroupChats:i}=a.default.getS4LMessagingFeatures(),{botDiscoveryEnabled:n}=a.default.getS4LCaapFeatures();return{ecsBotDiscoveryEnabled:n,superComposerEnabled:B.default.isTabletUI(),addContactFlowEnabled:!!e.showGroupedActions,disableHighBandwidthOperations:m.default.isUsingGogoNetwork(),syncAddressBookEnabled:x.default.getSyncAddressBookPrivacySetting(),enable2WaySmsEntryPoint:M.default.isPaidUser(),enableNewConversationCreation:e.hubTab===I.HubTab.Recents&&t,enableModeratedGroupChats:i}}_getIcon(){if(this.props.buttonType===U.TextButtonWithBorderAndIcon)switch(this.props.hubTab){case I.HubTab.Recents:return E.SkypeIcon.Compose;case I.HubTab.Calls:return E.SkypeIcon.CallAdd;case I.HubTab.People:return E.SkypeIcon.ContactAdd;case I.HubTab.MeetNowChats:case I.HubTab.MeetNowCalls:return T.default.getMeetNowIcon()}return E.SkypeIcon.Plus}render(){let e,t,i=[s.Types.AccessibilityTrait.Button,s.Types.AccessibilityTrait.HasPopup];const o=this.props.buttonType===U.TextButtonWithShadow||this.props.buttonType===U.TextButtonWithBorderAndIcon,a=this.props.buttonType===U.TextButtonWithBorderAndIcon;let d=a;switch(this.props.hubTab){case I.HubTab.Recents:e=_.getString("Hub.New1on1ChatLabel"),o&&(t=a?_.getString("Hub.New1on1ChatLabel"):_.getString("Hub.NewChatMenuShortLabel"));break;case I.HubTab.Calls:e=_.getString("Hub.NewCallLabel"),o&&(t=a?_.getString("Hub.NewCallLabel"):_.getString("Hub.NewCallMenuShortLabel")),i=[s.Types.AccessibilityTrait.Button],d=!1;break;case I.HubTab.People:e=_.getString("Hub.AddContactsLabelGrouped"),o&&(t=a?_.getString("Hub.NewContactButton"):_.getString("Hub.NewContactMenuShortLabel")),i=[s.Types.AccessibilityTrait.Button],d=!1;break;case I.HubTab.MeetNowChats:case I.HubTab.MeetNowCalls:e=_.getString("MeetNow.FeatureName"),t=_.getString("MeetNow.FeatureName");break;default:e=_.getString("HubHeaderPanel.NewConversationOrCallAccessibilityLabel"),t=_.getString("HubHeaderPanel.NewConversationOrCallTitle")}const u={coachMarkType:l.CoachMarkType.Plus,onAnchorPress:this._openAnchorPopup,anchorAccessibilityLabel:e,accessibilityLabel:e,accessibilityTraits:i,anchorRef:this._onPlusButtonRef,style:[j.iconContainer,this.props.style],onPress:this._onPlusButtonClick,icon:this.props.hideIcon?E.SkypeIcon.Blank:this._getIcon(),title:t||e,secondaryIcon:d?E.SkypeIcon.DownChevron:void 0,secondaryIconSize:d?E.IconSize.size12:void 0,secondaryIconColor:d&&!this._useAccessibleTheme()?D.Color.gray300:void 0,secondaryIconMarginLeft:d?E.IconSize.size12:void 0,secondaryIconMarginRight:d?-E.IconSize.size12:void 0};if(o){const e=this._useAccessibleTheme();let t,i;this._useDarkTheme()?(t=c.SXButtonStyle.DarkFill,i=D.Color.gray300Overlay10):(t=c.SXButtonStyle.LightFill,i=D.Color.gray100),e&&(t=c.SXButtonStyle.ThemeFill,i=D.Color.transparent);const o=void 0===this.props.buttonSize?c.SXButtonSize.Small:this.props.buttonSize,s=void 0===this.props.buttonStyle?t:this.props.buttonStyle;return(0,n.jsx)(r.default.SXButton,Object.assign({},u,{buttonSize:o,buttonStyle:s,iconSize:this.props.iconSize||E.IconSize.size12,secondaryIconColor:this.props.secondaryIconColor||void 0,minHeight:a?32:void 0,showShadow:!e&&this.props.buttonType===U.TextButtonWithShadow,addBorderColor:a?i:void 0,textStyleOverride:this.props.textStyleOverride}))}{const e=this.props.useCompactLayout?j.iconButtonTextCompactIcon:j.iconButtonText;return(0,n.jsx)(r.default.IconButton,Object.assign({},u,{size:this.props.iconSize||(this.props.useCompactLayout?E.IconSize.size16:E.IconSize.size24),color:this.props.color||this._themeColors.headerIconColor,hoverColor:this.props.hoverColor||this._themeColors.iconHoverColor,iconTextStyle:e}))}}}t.DesktopNewActionPicker=Z,t.default=Z},30010:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(671830),s=i(711930),a=i(898278),r=i(475760),l=i(192758),c=i(539549),d=i(207417),u=i(746096),g=i(436237),h=i(733754),p=i(178735),S=i(882052),m=i(793003),C=i(121579),y=i(886045),f=i(293194),b=i(853374),_=i(582916),v="recents",T="archived",P="time",k="unread",A="active",I="default",w="compact",x="markAllRead",N="showCategoriesToggle";class M extends d.default{_buildState(e,t){const i=p.default.getUserPreferencesLocal();let s=[];const a=n.keys(r.default.getConversationsWithUnreadCounts());s=n.filter(a,(e=>!o.isHighlightsThread(e)));let d=i.recentsSortedBy||m.RecentsSortBy.Time;return this._isPresentedInDesktopLeftNav()&&d===m.RecentsSortBy.Active&&(d=m.RecentsSortBy.Time),Object.assign(Object.assign({},super._buildState(e,t)),{sortBy:d,unreadConversationIds:s,rowSize:i.recentsRowSize||m.RowSize.Default,showCategories:S.default.shouldShowCategories(),recentsViewMode:l.default.getConversationsListMode(),archivedConversationsCount:(0,c.default)().getArchivedConversations().length})}_getMenuSections(){const e=[];return this.state.archivedConversationsCount>0&&e.push({key:"filterby",menuItems:this._getFilterMenuItems()}),this.state.recentsViewMode===_.ConversationsListMode.AllConversations&&e.push({key:"sortby",title:h.getString("DesktopRecentsFilter.SortBy"),menuItems:this._getSortMenuItems()}),e.push({key:"more",title:h.getString("Global.MoreButtonTitle"),menuItems:this._getMoreMenuItems()}),e}_onHandlePickerClick(e){super._onHandlePickerClick(e)}_currentMenuText(){return this.state.recentsViewMode===_.ConversationsListMode.AllConversations?h.getString("DesktopRecentsFilter.RecentConversations"):h.getString("DesktopRecentsFilter.HiddenConversations")}_accessibilityText(){return this._accessibilityTextForSortByMode(this.state.sortBy)}_onHandleMenuCommand(e){super._onHandleMenuCommand(e);const t=b.default.newCauseId();g.log(u.LogTraceArea.Navigation,"DesktopRecentsFilter._onHandleMenuCommand, causeId: "+t);const i=this._accessibilityAnnouncementForCommand(e);i&&y.default.maybeAnnounceForAccessibility(i);const o=()=>{const e=new C.RemoteUserAppearanceTelemetryEvent;e.setDidUpdateRecentsRowSize(),g.track(e)},s=()=>{switch(e){case P:S.default.sortByTime();break;case k:S.default.sortByUnread();break;case A:S.default.sortByActive();break;case I:o(),S.default.setRowSizeToDefault();break;case w:o(),S.default.setRowSizeToCompact();break;case x:S.default.showMarkAllReadConfirmationDialog(this._getRootViewId());break;case N:this.state.recentsViewMode!==_.ConversationsListMode.AllConversations&&l.default.setConversationsListMode(_.ConversationsListMode.AllConversations),this.state.showCategories?S.default.hideCategories():S.default.showCategories();break;case v:S.default.showAllConversations();break;case T:S.default.showArchivedConversations();case f.SXActionMenuCancel:}};switch(e){case P:case k:case A:const t=this._getSortModeFromCommand(e);this.isComponentMounted()&&this.state.sortBy!==t?this.setState({sortBy:t},(()=>{n.defer((()=>{s()}))})):s();break;default:s()}}_getSortModeFromCommand(e){switch(e){default:case P:return m.RecentsSortBy.Time;case k:return m.RecentsSortBy.Unread;case A:return m.RecentsSortBy.Active}}_accessibilityTextForSortByMode(e){const t=h.getString("DesktopRecentsFilter.SortByMenu")+", ";return this.state.recentsViewMode===_.ConversationsListMode.ArchivedConversations?t+h.getString("DesktopRecentsFilter.HiddenConversations"):t+h.getString("DesktopRecentsFilter.RecentConversations")}_accessibilityAnnouncementForCommand(e){let t;switch(e){case P:t=h.getString("DesktopRecentsFilter.Time");break;case k:t=h.getString("DesktopRecentsFilter.Unread");break;case A:t=h.getString("DesktopRecentsFilter.Active");break;case v:t=h.getString("DesktopRecentsFilter.RecentConversations");break;case T:t=h.getString("DesktopRecentsFilter.HiddenConversations")}if(t)return s.default.combinedAccessibilityLabel(t,h.getString("Global.SelectedAccessibilityLabel"))}_getSortMenuItems(){const e=[{text:h.getString("DesktopRecentsFilter.Time"),command:P,selected:this.state.sortBy===m.RecentsSortBy.Time,selectableType:a.SXMenuItemSelectableType.Checkbox},{text:h.getString("DesktopRecentsFilter.Unread"),command:k,selected:this.state.sortBy===m.RecentsSortBy.Unread,selectableType:a.SXMenuItemSelectableType.Checkbox}];return this._isPresentedInDesktopLeftNav()||e.push({text:h.getString("DesktopRecentsFilter.Active"),command:A,selected:this.state.sortBy===m.RecentsSortBy.Active,selectableType:a.SXMenuItemSelectableType.Checkbox}),e}_getMoreMenuItems(){const e=[];n.isEmpty(this.state.unreadConversationIds)||this.state.recentsViewMode!==_.ConversationsListMode.AllConversations||e.push({text:h.getString("MobileRecentsFilter.MarkRead"),command:x});const t=this.state.showCategories?"DesktopRecentsFilter.HideFavorites":"DesktopRecentsFilter.ShowFavorites";return e.push({text:h.getString(t),command:N}),e}_getFilterMenuItems(){return[{text:h.getString("DesktopRecentsFilter.RecentConversations"),command:v,selected:this.state.recentsViewMode===_.ConversationsListMode.AllConversations,selectableType:a.SXMenuItemSelectableType.Checkbox},{text:h.getString("DesktopRecentsFilter.HiddenConversations"),command:T,selected:this.state.recentsViewMode===_.ConversationsListMode.ArchivedConversations,selectableType:a.SXMenuItemSelectableType.Checkbox}]}}t.default=M},224631:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopShadow=void 0;const n=i(785893),o=i(967593),s=i(516778),a=i(915877),r=i(581760),l=i(680837),c=i(24576),d=(0,a.lazyProperties)({shadowContainer:()=>s.Styles.createViewStyle({position:"absolute",top:0,left:0,right:0,height:0,overflow:"visible"}),shadowInnerContainer:()=>s.Styles.createViewStyle({height:5,borderTopWidth:1})});class u extends c.default{render(){const e=[d.shadowInnerContainer,this._themeStyles.headerShadowBorderColorStyle,this.props.opacityStyle];return(0,n.jsx)(s.View,Object.assign({style:d.shadowContainer},{children:(0,n.jsx)(s.Animated.View,Object.assign({style:e},{children:(0,n.jsx)(o.GradientView,{style:l.default.flexOne,direction:o.GradientDirection.BOTTOM,colors:[r.Color.blackOverlay10,r.Color.transparent]})}))}))}}t.DesktopShadow=u,t.default=u},792718:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(724787),a=i(915877),r=i(217093),l=i(24576),c=i(866127),d=i(711828).IconSize.size16,u=(0,a.lazyProperties)({container:()=>o.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-around",paddingBottom:2,paddingHorizontal:3}),containerPadding:()=>o.Styles.createViewStyle({paddingTop:10}),button:()=>o.Styles.createViewStyle({marginHorizontal:5,marginVertical:3,paddingHorizontal:2,alignItems:"stretch",flexDirection:"column",flex:1,flexBasis:20}),buttontitleStyle:()=>o.Styles.createTextStyle({overflow:"hidden",maxWidth:60})});class g extends l.default{_buildState(){return{modernizeConversationList:c.default.canModernizeConversationList()}}_renderMeetNowButton(){if(!this._isMeetNowButtonVisible())return;const e=this.props.selectedHubTab===r.HubTab.Calls?r.HubTab.MeetNowCalls:r.HubTab.MeetNowChats;return(0,n.jsx)(s.default,{hubTab:e,iconSize:d,style:u.button,buttonType:s.DesktopNewActionPickerType.TextButtonWithBorderAndIcon,showGroupedActions:!0,textStyleOverride:[u.buttontitleStyle]})}_isMeetNowButtonVisible(){return this.props.selectedHubTab===r.HubTab.Recents||this.props.selectedHubTab===r.HubTab.Calls}render(){const e=[u.container,this.state.modernizeConversationList?void 0:u.containerPadding];return(0,n.jsxs)(o.View,Object.assign({style:e},{children:[this._renderMeetNowButton(),(0,n.jsx)(s.default,{hubTab:this.props.selectedHubTab,iconSize:d,style:u.button,buttonType:s.DesktopNewActionPickerType.TextButtonWithBorderAndIcon,showGroupedActions:!0})]}))}}t.default=g},207417:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DesktopUtilityBar=void 0;const n=i(785893),o=i(496486),s=i(516778),a=i(724787),r=i(765110),l=i(915877),c=i(733754),d=i(293194),u=i(24576),g=i(866127),h=(0,l.lazyProperties)({container:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingLeft:10,paddingRight:16,paddingTop:10,paddingBottom:10}),containerPaddingModernize:()=>s.Styles.createViewStyle({paddingLeft:16,paddingTop:6,paddingBottom:6}),containerWithTextButton:()=>s.Styles.createViewStyle({paddingRight:10}),containerFixedHeight:()=>s.Styles.createViewStyle({height:44}),picker:()=>s.Styles.createButtonStyle({flexDirection:"row",alignItems:"center",marginTop:2})}),p="pickerButton";class S extends u.default{constructor(){super(...arguments),this._onPickerClick=e=>{e.stopPropagation(),this._onHandlePickerClick(e)},this._onPickerButtonRef=e=>{this._pickerButton=e||void 0}}_buildState(e,t){return{showNewActionPicker:!1,modernizeConversationList:g.default.canModernizeConversationList()}}_onHandleMenuCommand(e){d.default.dismiss(p,this._getRootViewId())}_onDismiss(){}_onHandlePickerClick(e){const t={anchor:()=>this._pickerButton,useTheme:!0,positionPriorities:["bottom"],popupBeakSize:{width:0,height:0},popupOffset:{x:30,y:10}};d.default.showGroupWithOptions({id:p,config:t,getMenuGroups:()=>this._getMenuSections(),onDismiss:()=>this._onDismiss(),handleMenuCommand:e=>this._onHandleMenuCommand(e),cancelButtonTitleIOS:c.getString("Global.CancelLabel"),rootViewId:this._getRootViewId(),invokingEvent:e})}render(){const e=this.state.showNewActionPicker&&!o.isUndefined(this.props.newActionPickerContext)?(0,n.jsx)(a.default,{hubTab:this.props.newActionPickerContext,useCompactLayout:!0,buttonType:a.DesktopNewActionPickerType.TextButtonWithShadow,showGroupedActions:!0}):void 0,t=[h.container];this._isPresentedInDesktopLeftNav()&&t.push(h.containerFixedHeight),t.push(h.containerWithTextButton),this.state.modernizeConversationList&&t.push(h.containerPaddingModernize);const i=this._accessibilityText();return(0,n.jsxs)(s.View,Object.assign({style:t},{children:[(0,n.jsx)(r.default,{ref:this._onPickerButtonRef,style:h.picker,onPress:this._onPickerClick,accessibilityLabel:i,label:this._currentMenuText()}),e]}))}}t.DesktopUtilityBar=S,t.default=S},869425:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.iconColorForColor=t.HubTab=void 0;const n=i(785893),o=i(496486),s=i(516778),a=i(77605),r=i(297775),l=i(711930),c=i(484994),d=i(898278),u=i(746096),g=i(139285),h=i(110117),p=i(915877),S=i(734537),m=i(866127),C=i(89808),y=i(217093),f=i(581760),b=i(640363),_=i(311010),v=i(711828),T=i(680837),P=i(325729),k=i(360305),A=i(24576),I=i(418037),w=(0,p.lazyProperties)({buttonStyle:()=>s.Styles.createViewStyle({width:80,alignItems:"center",justifyContent:"center",paddingTop:2}),buttonStyleDesktop:()=>s.Styles.createViewStyle({width:80}),buttonInnerStyleDesktop:()=>s.Styles.createViewStyle({width:80,alignItems:"center"}),buttonStyleSmall:()=>s.Styles.createViewStyle({width:60}),buttonInnerStyleDesktopSmall:()=>s.Styles.createViewStyle({width:60,alignItems:"center"}),buttonStyleLandscapeIOS:()=>s.Styles.createViewStyle({flex:-1,flexDirection:"row",justifyContent:"center",width:100,backgroundColor:f.Color.transparent}),badgeCounterContainer:()=>s.Styles.createViewStyle({position:"absolute",height:24,width:46,top:0,overflow:"visible",justifyContent:"center",alignItems:"flex-end"}),badgeCounterContainerIOSLandscape:()=>s.Styles.createViewStyle({position:"absolute",height:24,width:24,top:-1,left:0,overflow:"visible",alignItems:"flex-end"}),badgeCounterContainerSmall:()=>s.Styles.createViewStyle({paddingHorizontal:3}),syncIndicator:()=>s.Styles.createViewStyle({paddingBottom:6,paddingLeft:5}),tabTitle:()=>s.Styles.createTextStyle({textAlign:"center",marginTop:2}),tabTitleDesktop:()=>s.Styles.createTextStyle({alignSelf:"stretch"}),tabTitleAndroid:()=>s.Styles.createTextStyle({textAlign:"center",marginTop:5}),tabTitleIOSLandscape:()=>s.Styles.createTextStyle({flex:-1,marginLeft:5,fontSize:_.default.controlFontSize.tabHeaderSmall}),tabTitleSmall:()=>s.Styles.createTextStyle({fontSize:_.default.controlFontSize.captionTiny,marginTop:4}),tabContainer:()=>s.Styles.createViewStyle({flexDirection:"row",justifyContent:"center"}),iconOpacity:()=>s.Styles.createViewStyle({opacity:.8}),buttonInnerContainer:()=>s.Styles.createViewStyle({justifyContent:"center",alignItems:"center"})});class x extends A.default{constructor(){super(...arguments),this._onTabRef=e=>{this._componentRef=e||void 0},this._onAnchorPress=()=>{this.props.onTabPress(this.props.tabDescriptor.tab,void 0)},this._onPress=e=>{this.props.onTabPress(this.props.tabDescriptor.tab,e&&e.timeStamp,e)},this._onContextMenu=e=>{e.stopPropagation(),this.props.onTabContextMenu&&this.props.onTabContextMenu(this.props.tabDescriptor.tab,e)},this._onHoverStart=()=>{this.isComponentMounted()&&this.setState({isHovering:!0})},this._onHoverEnd=()=>{this.isComponentMounted()&&this.setState({isHovering:!1})}}_buildState(e,t){let i,n;e.tabDescriptor.selected&&(n=I.default.isAccessibleTheme()?this._themeColors.tabIndicatorColor:N(C.default.getPrimaryColor()),i=s.Styles.createTextStyle({color:n},!1));const o={useSmallTitles:!!e.useSmallTitles||k.default.isTablet()||k.default.isTabletUI(),iconColorStyle:i,iconColor:n,modernizeConversationList:m.default.canModernizeConversationList()};return t&&(o.isHovering=!1),o}requestFocus(){this._componentRef&&this._componentRef.requestFocus&&this._componentRef.requestFocus()}_shouldComponentUpdate(e,t,i,n,o,s){return e?t.tabBarHeight!==n.tabBarHeight:super._shouldComponentUpdate(e,t,i,n,o,s)}render(){var e;const t=this._isPresentedInDesktopLeftNav(),i=this.props.tabBarHeight===d.TabBarHeight.iosLandscape,p=b.default.getPlatformType()===u.PlatformType.Android,S=p&&!this._useAccessibleTheme()||this.state.isHovering,m=this.props.tabDescriptor.selectedIcon&&(S||this.props.tabDescriptor.selected)?this.props.tabDescriptor.selectedIcon:this.props.tabDescriptor.icon,C=[this._themeStyles.primaryIconColorStyle],f=4===this.props.tabGroup.length;let k;S&&C.push(w.iconOpacity);const A=this.props.tabDescriptor.badgeCount,I=[i?w.badgeCounterContainerIOSLandscape:w.badgeCounterContainer];if(A&&!this.props.tabDescriptor.showSpinner){const e=this.props.tabDescriptor.tab===y.HubTab.Today,o=i||e?void 0:A.toString(),r=i||e?a.BadgeSize.Small:a.BadgeSize.Medium;r===a.BadgeSize.Small&&I.push(w.badgeCounterContainerSmall);const l=s.Styles.createViewStyle({backgroundColor:this._themeColors.iconDanger},!1);k=(0,n.jsx)(g.default,Object.assign({style:I,blockPointerEvents:!0},{children:(0,n.jsx)(a.default,{count:o,rawCount:A,colorStyle:l,borderColor:this._badgeBorderColor(t),badgeSize:r,borderWidth:2,isHighPriority:!0,fixedSize:!0})}))}const x=this.props.tabDescriptor.showSpinner?(0,n.jsx)(g.default,Object.assign({style:[I,w.syncIndicator],blockPointerEvents:!0},{children:(0,n.jsx)(P.default,{size:"lg"})})):void 0,N=c.default.tabBarHeightStyle(this.props.tabBarHeight),M=[w.buttonStyle,N,t?f&&!this.props.useSmallTabs?w.buttonStyleDesktop:w.buttonStyleSmall:void 0],L=[w.buttonInnerContainer];i&&L.push(w.buttonStyleLandscapeIOS),this.props.widthStyle?(M.push(this.props.widthStyle),L.push(this.props.widthStyle)):t&&L.push(f&&!this.props.useSmallTabs?w.buttonInnerStyleDesktop:w.buttonInnerStyleDesktopSmall,N);const O=[i?_.default.fontStyle.body:_.default.fontStyle.captionSmall,this.state.iconColorStyle||this._themeStyles.secondaryTextColorStyle];this.props.tabDescriptor.selected||this._useAccessibleTheme()||!this._isPresentedInDesktopLeftNav()||O.push(w.iconOpacity),i?O.push(w.tabTitleIOSLandscape):(O.push(p?w.tabTitleAndroid:w.tabTitle),this.state.useSmallTitles&&O.push(w.tabTitleSmall),t&&O.push(w.tabTitleDesktop));const D=i||t?v.IconSize.size20:v.IconSize.size24;let R=(0,n.jsx)(h.default,{icon:m,color:null!==(e=this.state.iconColor)&&void 0!==e?e:this._themeColors.primaryIconColor,size:D,style:this.state.iconColor?void 0:w.iconOpacity},"icon");i&&(R=(0,n.jsxs)(s.View,Object.assign({style:T.default.overflowVisible},{children:[R,k,x]}),"icon"));const E=l.default.tabAccessibilityLabel(this.props.tabDescriptor.accessibilityLabel||this.props.tabDescriptor.title,o.indexOf(this.props.tabGroup,this.props.tabDescriptor.tab),this.props.tabGroup.length,this.props.includeTabCountOnDesktop),B=l.default.tabAccessibilityTraits(!!this.props.tabDescriptor.selected),F={style:M,title:this.props.tabDescriptor.title,accessibilityLabel:E,accessibilityTraits:B,importantForAccessibility:s.Types.ImportantForAccessibility.Yes,tabIndex:this.props.tabIndex,disabled:this.props.tabDescriptor.disabled,onPress:this._onPress,onContextMenu:this._onContextMenu,onHoverEnd:this._onHoverEnd,onHoverStart:this._onHoverStart},V=this.props.hideLabel?void 0:(0,n.jsx)(s.Text,Object.assign({style:O,numberOfLines:1,allowFontScaling:!1},{children:this.props.useSmallTabs?" ":this.props.tabDescriptor.title}),"label"),U=(0,n.jsxs)(s.View,Object.assign({style:L},{children:[R,V,t?k:void 0,t?x:void 0]})),j=i||t;{let e;return e=this.props.coachMarkType?(0,n.jsx)(r.default.View,Object.assign({coachMarkType:this.props.coachMarkType,onAnchorPress:this._onAnchorPress,onPress:F.onPress,anchorAccessibilityLabel:E},{children:U})):U,(0,n.jsxs)(s.Button,Object.assign({style:T.default.overflowVisible,ref:this._onTabRef},F,{children:[e,j?void 0:k,j?void 0:x]}))}}_badgeBorderColor(e){return this.state.modernizeConversationList&&(e||this._isPresentedInTabletLeftNav())?S.default.getBackgroundColor(this._useDarkTheme(),this._useAccessibleTheme(),this._themeColors):e?this._themeColors.secondaryBackgroundColor:this._themeColors.primaryBackgroundColor}_pauseWhenNotVisible(){return!0}}function N(e){return e===f.Color.yellow?f.Color.orange:e||f.Color.blue}t.HubTab=x,t.iconColorForColor=N,t.default=x},707213:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HubTabBar=void 0;const n=i(785893),o=i(516778),s=i(496486),a=(i(583367),i(911009)),r=i(711930),l=i(484994),c=i(898278),d=i(869425),u=i(710400),g=i(915877),h=i(733754),p=i(734537),S=i(812462),m=i(866127),C=i(706250),y=i(89808),f=i(217093),b=(i(29130),i(451070)),_=i(681115),v=i(711828),T=i(717640),P=i(360305),k=i(24576),A=i(853374),I=i(73877),w=(0,g.lazyProperties)({contentContainer:()=>o.Styles.createViewStyle({alignSelf:"stretch",flexDirection:"row",justifyContent:"space-around",alignItems:"center",overflow:"visible"}),tabShadow:()=>o.Styles.createViewStyle({position:"absolute",left:0,right:0,top:-1,height:1})});class x extends k.default{constructor(){super(...arguments),this._mountedRefsMap=new C.default,this._renderTab=(e,t,i)=>{let o;return s.isUndefined(this.props.focussedHubTab)||(o=this.props.focussedHubTab===e.tab?0:-1),(0,n.jsx)(d.default,{ref:this._mountedRefsMap.onComponentRef("tab"+e.tab),tabDescriptor:e,tabGroup:this.props.tabs,tabBarHeight:t,widthStyle:i,onTabPress:this.props.onTabPress,onTabContextMenu:this.props.onTabContextMenu,coachMarkType:e.coachMarkType,tabIndex:o,includeTabCountOnDesktop:!l.default.shouldUseTabListContainer(),useSmallTitles:this.props.useSmallTitles,useSmallTabs:this.props.useSmallTabs,hideLabel:this.props.hideLabels},e.tab)}}_buildState(e,t){const i=T.default.isSyncingConversationList()||T.default.isSyncingMessages(),n=(this._getRootViewId(),{gradientColors:y.default.getGradientColors(),safeAreaPadding:this._getContext().isPresentedByMobileStackNavigator||!u.default.isKeyboardSeen()?b.default.bottomSafeAreaInset():0,useIOSLandscapeStyles:!1,useTabletUI:P.default.isTabletUI(),isSyncInProgress:i});return e.hideLabels?n.tabBarHeight=c.TabBarHeight.CompactDesktop:n.useIOSLandscapeStyles?n.tabBarHeight=c.TabBarHeight.iosLandscape:n.useTabletUI?n.tabBarHeight=c.TabBarHeight.Tablet:n.tabBarHeight=c.TabBarHeight.Default,n.modernizeConversationList=m.default.canModernizeConversationList(),n}_shouldComponentUpdate(e,t,i,n,o,s){return e?i.tabBarHeight!==o.tabBarHeight:super._shouldComponentUpdate(e,t,i,n,o,s)}UNSAFE_componentWillUpdate(e,t,i){if(super.UNSAFE_componentWillUpdate(e,t,i),e.hasFocus&&!s.isUndefined(e.focussedHubTab)&&this.props.focussedHubTab!==e.focussedHubTab){const t=this.tabRef(e.focussedHubTab);t&&t.requestFocus&&t.requestFocus()}}tabRef(e){return this._mountedRefsMap.ref("tab"+e)}_getBackgroundColorStyle(){return this.state.modernizeConversationList?this._isPresentedInDesktopLeftNav()?void 0:p.default.getBackgroundColorStyle(this._useDarkTheme(),this._useAccessibleTheme(),this._themeStyles):this._isPresentedInDesktopLeftNav()?void 0:this._themeStyles.primaryBackgroundColorStyle}render(){let e;const t=[w.contentContainer,this._getBackgroundColorStyle(),l.default.tabBarHeightStyle(this.state.tabBarHeight)],i=s.map(this.props.tabs,(e=>this._descriptorForTab(this.props,e,this.state.isSyncInProgress)));if(this.state.useIOSLandscapeStyles){const t=i.length,n=10*t,s=Math.floor((I.default.measureWindow(this._getRootViewId()).width-n)/t);e=t?o.Styles.createViewStyle({width:s},!1):void 0}this.state.safeAreaPadding&&(t.push(_.default.paddingBottomStyle(this.state.safeAreaPadding)),t.push(_.default.heightStyle(l.default.tabBarHeight(this.state.tabBarHeight)+this.state.safeAreaPadding))),this.props.style&&t.push(this.props.style);return(0,n.jsxs)(o.View,Object.assign({style:t,onKeyPress:this.props.onKeyPress,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onLayout:this.props.onLayout,accessibilityTraits:l.default.shouldUseTabListContainer()?o.Types.AccessibilityTrait.TabList:void 0},{children:[undefined,s.map(i,(t=>this._renderTab(t,this.state.tabBarHeight,e)))]}))}_descriptorForTab(e,t,i){let n=0;const o=e.showSpinnerWhenSyncing&&i&&t===f.HubTab.Recents;let s;return t===f.HubTab.Recents?n=e.activeConversationsCount||0:t===f.HubTab.Notifications?n=e.unreadAlertsCount||0:t===f.HubTab.Today&&(n=e.showTodayTabBadge?1:0),t===f.HubTab.People&&(s=a.CoachMarkType.People),Object.assign(Object.assign({},x._displayInfoForTab(t,n)),{selected:e.currentHubTab===t,tab:t,badgeCount:n,showSpinner:o,coachMarkType:s})}static _displayInfoForTab(e,t){switch(e){case f.HubTab.Recents:const i=h.getString("Hub.RecentsTabTitle");return{icon:v.SkypeIcon.Message,selectedIcon:v.SkypeIcon.ChatsInvertedGradient,title:i,accessibilityLabel:r.default.combinedAccessibilityLabel(i,h.getString("Hub.UnreadCounterScreenReaderLabel",{count:t}))};case f.HubTab.MeetNowChats:case f.HubTab.MeetNowCalls:const n=h.getString("MeetNow.FeatureName");return{icon:S.default.getMeetNowIcon(),title:n,accessibilityLabel:n};case f.HubTab.Calls:return{icon:v.SkypeIcon.Video,selectedIcon:v.SkypeIcon.VideoFilledInvertedGradient,title:h.getString("Hub.CallsTabTitle")};case f.HubTab.People:return{icon:v.SkypeIcon.BookContacts,selectedIcon:v.SkypeIcon.BookContactsFillInvertedGradient,title:h.getString("Hub.ContactsTabTitle")};case f.HubTab.Notifications:const o=h.getString("Notifications.Notify");return{icon:v.SkypeIcon.Alert,selectedIcon:v.SkypeIcon.AlertFillNewFontGradient,title:o,accessibilityLabel:r.default.combinedAccessibilityLabel(o,h.getString("Hub.NotificationCounterScreenReaderLabel",{count:t}))};case f.HubTab.Today:return{icon:v.SkypeIcon.TodayTabInverted,selectedIcon:v.SkypeIcon.TodayTabInvertedGradient,title:h.getString("Hub.MyFeedTabTitle")};case f.HubTab.Phone:return{icon:v.SkypeIcon.DialpadFilledInvertedGradient,selectedIcon:v.SkypeIcon.Dialpad,title:h.getString("Hub.PhoneTabTitle")};default:return A.default.switchStatementExhaustiveChecking(e)}}_pauseWhenNotVisible(){return!0}}t.HubTabBar=x,t.default=x},289951:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(583367),a=i(516778),r=i(183267),l=i(72105),c=i(889391),d=i(77605),u=i(890239),g=i(297775),h=i(911009),p=i(711930),S=i(147204),m=i(345892),C=i(221847),y=i(437490),f=i(180843),b=i(968894),_=i(746096),v=i(211375),T=i(346195),P=i(790070),k=i(913944),A=i(436237),I=i(915877),w=i(733754),x=i(844285),N=i(164723),M=i(812462),L=i(593486),O=i(734537),D=i(178735),R=i(388273),E=i(18078),B=i(104735),F=i(217093),V=i(695697),U=i(29130),j=i(451070),H=i(681115),W=i(536150),z=i(126978),G=i(316392),K=i(422538),q=i(581760),Q=i(711828),X=i(311010),J=i(680837),$=i(360305),Y=i(24576),Z=i(702301),ee=i(567977),te=i(172758),ie=i(286259),ne=i(853374),oe=i(5470),se=i(330124),ae=i(293194),re=i(667024),le=i(415963),ce=i(109106);var de;!function(e){e[e.Left=0]="Left",e[e.Center=1]="Center",e[e.Right=2]="Right"}(de||(de={}));const ue=5*Q.IconSize.size24,ge=2*Q.IconSize.size24,he="MeControlModal",pe=(0,I.lazyProperties)({hubHeader:()=>a.Styles.createViewStyle({flex:1,flexDirection:"row",alignSelf:"stretch",alignItems:"center",justifyContent:"space-between",backgroundColor:q.Color.transparent,overflow:"visible"}),titleWrapper:()=>a.Styles.createViewStyle({height:Q.IconSize.default,justifyContent:"center",alignItems:"center",overflow:"visible"}),titleWrapperLandscape:()=>a.Styles.createViewStyle({height:Q.IconSize.size32}),leftControls:()=>a.Styles.createViewStyle({flexDirection:"row"}),leftControlWidth:()=>a.Styles.createViewStyle({width:ue}),rightControls:()=>a.Styles.createViewStyle({flexDirection:"row",justifyContent:"flex-end"}),rightControlsWidth:()=>a.Styles.createViewStyle({width:ue}),smallControls:()=>a.Styles.createViewStyle({width:ge}),iconContainer:()=>a.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",alignItems:"center",width:Q.IconSize.default,height:Q.IconSize.default}),iconContainerSmall:()=>a.Styles.createViewStyle({width:Q.IconSize.size32,marginRight:4}),iconContainerLandscape:()=>a.Styles.createViewStyle({height:Q.IconSize.size32,marginTop:5}),badgeStyle:()=>a.Styles.createViewStyle({position:"absolute",top:2,right:2}),title:()=>a.Styles.createTextStyle({textAlign:"center"}),userIconLeftContainer:()=>a.Styles.createViewStyle({marginLeft:10}),userNameAndMoodContainer:()=>a.Styles.createViewStyle({marginLeft:10,justifyContent:"flex-start"}),extraHorizontalPaddingStyle:()=>a.Styles.createViewStyle({paddingHorizontal:6}),userNameControl:()=>a.Styles.createTextStyle({justifyContent:"flex-start",flexDirection:"row"}),limitArea:()=>a.Styles.createViewStyle({flexShrink:1})});class Se extends Y.default{constructor(){super(...arguments),this.handleFocusEvent=e=>!(e!==v.FocusEvent.CloseRightPanel||!this._userIconRef)&&(this._userIconRef.requestFocus(),!0),this._onLayoutChanged=e=>{this.state.viewWidth!==e.width&&this.setState({viewWidth:e.width})},this._onNotificationsSettingsButtonRef=e=>{this._notificationsSettingsButton=e||void 0},this._onMeetNowButtonRef=e=>{this._meetNowButton=e||void 0},this._onQuickCallButtonClick=(e,t)=>{t&&t.stopPropagation&&t.stopPropagation();const i=ne.default.newCauseId();A.log(_.LogTraceArea.Navigation,"MobileHubHeader._onQuickCallButtonClick, causeId: "+i),this._registerMobileFocusHandler((()=>this._quickCallButton)),B.default.navigateToQuickCallPanelWithParams({causeId:i,newGroup:!0},this._getRootViewId())},this._onFeedbackButtonClick=(e,t)=>{t&&t.stopPropagation&&t.stopPropagation(),V.default.reportProblem(!0,e)},this._onMeetNowButtonClick=(e,t)=>{t&&t.stopPropagation&&t.stopPropagation();const i=ne.default.newCauseId();t&&re.default.createOneShotTrackerAndMarkPressTime(i,le.ScenarioName.ResponsivenessMeetNow,t);let n=N.MeetNowOrigin.Unknown;this.props.currentHubTab===F.HubTab.Recents?n=N.MeetNowOrigin.RecentChatsTabMobile:this.props.currentHubTab===F.HubTab.Calls&&(n=N.MeetNowOrigin.CallsTabMobile),A.track(new ce.PressAction(ce.PressScenario.MeetNow,n)),se.default.isUsingStackNavigationContext()?oe.default.navigateToCreateOrJoinFlyout():$.default.isTablet()?this._showMeetNowPopup(n,e,t):x.MeetNowHelpers.showNewMeetNow(n)},this._onNotificationsSettingsButtonClick=(e,t)=>{t&&t.stopPropagation&&t.stopPropagation();const i=()=>this._notificationsSettingsButton;this._registerMobileFocusHandler(i),r.default.showMenu(this.state.hasUnreadAlerts,i,this._getRootViewId(),t)},this._onUserIconAnchorClick=()=>{this._onUserIconButtonClick()},this._onUserIconRef=e=>{this._userIconRef=e||void 0,K.EnsureStarted(f.default).then((()=>{f.default.setAnchor(b.EngagementTooltipType.Profile,e)}))},this._onQuickCallButtonRef=e=>{this._quickCallButton=e||void 0},this._onUserIconButtonClick=e=>{e&&e.stopPropagation&&e.stopPropagation();const t=ne.default.newCauseId();let i;if(A.log(_.LogTraceArea.Navigation,"MobileHubHeader._onUserIconButtonClick navigateToMeControl, causeId: "+t),y.dismissAll(),e&&(i=ne.default.newCauseId(),re.default.createTrackerAndMarkPressTime(i,le.ScenarioName.ResponsivenessOpenProfile,e)),this._registerMobileFocusHandler((()=>this._userIconRef)),$.default.isTabletUINoSubscription()){const e=(0,n.jsx)(C.default,{userMri:E.default.getSkypeMri(),dialogId:he,anchor:()=>this._userIconRef},"DesktopMeControlPanel");S.default.showModal(e,he,{rootViewId:this._getRootViewId()})}else B.default.navigateToMeControl(this._getRootViewId(),t,G.StackNavigationDirection.Present);i&&re.default.markActionDoneAndRemoveTracker(i)},this._onNotificationsButtonClick=(e,t)=>{t&&t.stopPropagation&&t.stopPropagation(),B.default.navigateToAlertsHub()}}_buildState(e,t){const i=this._isPresentedInTabletLeftNav();let n=j.default.statusBarHeight();n&&i&&(n-=$.default.isTabletUI()?1:7);const r=te.default.getFullUserProfileByMri(E.default.getSkypeMri());let d,g;const h=W.default.isMobileScreenReaderEnabled();if(h){const e=R.default.getStatus();d=o.includes(ie.myAllowedStatuses(),e)?e:u.UserStatus.Online,g=r.gender}const p=c.default.getS4LContactsFeatures(),S=c.default.getOnboardingFeatures(),m=O.default.getRowPadding(!1),C=this._getRootViewId(),y=r.getDisplayName(),f=r.mood,b={left:m.left,right:m.right};return{leavePaddingForStatusBar:a.StatusBar.isOverlay()&&(e.deviceOrientation===s.DeviceOrientation.Portrait||i),statusBarHeight:n,safeAreaHorizontalPaddingStyle:j.default.horizontalPaddingStyle(b),safeAreaHorizontalInsets:j.default.horizontalInsets(b),hasUnreadAlerts:!!e.shouldTrackUnreadAlerts&&l.default.hasUnreadAlerts(!0),contactsPanelTabSelected:D.default.getUserPreferencesLocal().contactsPanelV2Filter,enableAlwaysShowActiveNowFilter:p.enableAlwaysShowActiveNowFilter,enableHeartEntryPoint:c.default.getConfigSettings().brb.enableHeartEntryPoint,userStatus:d,gender:g,isMobileScreenReaderEnabled:h,displayUserIconInAllHubs:S.displayUserIconInAllHubs,isChild:L.default.isChild(),moodString:f,userName:y,viewWidth:i?z.default.getWidth():U.default.getWidth(C),enableRefreshedPalette:c.default.getS4LUiFeatures().enableRefreshedPalette}}componentDidMount(){super.componentDidMount(),v.register(v.FocusEvent.ConversationDeleted,this)}componentWillUnMount(){super.componentWillUnmount(),v.unregister(v.FocusEvent.ConversationDeleted,this)}_shouldComponentUpdate(e,t,i,n,o,s){return e?t.deviceOrientation!==n.deviceOrientation||t.currentHubTab!==n.currentHubTab||i.userName!==o.userName:super._shouldComponentUpdate(e,t,i,n,o,s)}UNSAFE_componentWillReceiveProps(e,t){if(super.UNSAFE_componentWillReceiveProps(e,t),e.unreadAlertsCount!==this.props.unreadAlertsCount){const t=w.getString("Hub.NotificationCounterScreenReaderLabel",{count:e.unreadAlertsCount||0});a.Accessibility.announceForAccessibility(t)}}focusCenterControl(){this._userIconRef?this._userIconRef.requestFocus():this._titleRef&&this._titleRef.requestFocus()}render(){const e=P.default.headerButtonLayoutForHubTab({hubTab:this.props.currentHubTab,useTabletUI:this._isPresentedInTabletLeftNav(),enableHeartEntryPoint:this.state.enableHeartEntryPoint,hideAlertsButton:!!this.props.hideAlertsButton,notificationsToHeader:!0}),t=this._getLeftControls(e),i=this._getRightControls(e),o=[pe.hubHeader];return this.state.leavePaddingForStatusBar&&(this.state.enableRefreshedPalette,o.push(H.default.marginTopStyle(this.state.statusBarHeight))),this.props.style&&o.push(this.props.style),this.state.safeAreaHorizontalPaddingStyle&&o.push(this.state.safeAreaHorizontalPaddingStyle),o.push(pe.extraHorizontalPaddingStyle),this.state.enableRefreshedPalette&&o.push(a.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfaceAccent},!1)),(0,n.jsxs)(a.View,Object.assign({style:o,onLayout:this._onLayoutChanged},{children:[t,i]}))}_renderIconButton(e,t){const i=this._useLandscapeLayout()?Q.IconSize.size20:Q.IconSize.size28,o=e.onPressCallback;let s=o?e=>o(this._getRootViewId(),e):void 0;s&&t&&(s=i=>{e.onPressCallback&&e.onPressCallback(this._getRootViewId(),i,void 0,t)});const a=this.state.enableRefreshedPalette?this._getContext().themeColors.iconOnAccent:this._themeColors.headerIconColor,r=this.state.enableRefreshedPalette?this._getContext().themeColors.iconOnAccent:this._themeColors.iconHoverColor,l=e.coachMarkDescriptor,c={style:e.iconButtonStyles,size:i,color:a,hoverColor:r,icon:e.icon,title:e.title,accessibilityLabel:e.accessibilityLabel||e.title,disabled:e.disabled,key:e.key,onPress:s};return l?(0,n.jsx)(g.default.IconButton,Object.assign({anchorRef:e.ref,coachMarkType:l.type,positions:l.positions,onAnchorPress:l.onPress,anchorAccessibilityLabel:l.accessibilityLabel},c)):(0,n.jsx)(k.default,Object.assign({ref:e.ref},c))}_renderMeetNowButton(e){return this._renderIconButton({title:w.getString("MeetNow.FeatureName"),icon:M.default.getMeetNowIcon(),iconButtonStyles:e,onPressCallback:this._onMeetNowButtonClick,key:"meetnow",ref:this._onMeetNowButtonRef})}_renderFeedbackButton(e){if(this.state.isChild)return;const t=w.getString("HubHeaderPanel.FeedbackButtonLabel");return this._renderIconButton({title:t,icon:Q.SkypeIcon.HeartOutline,iconButtonStyles:e,onPressCallback:this._onFeedbackButtonClick,key:"feedback"})}_renderNotificationsSettingsButton(e){return this._renderIconButton({title:w.getString("Global.MoreOptions"),icon:Q.SkypeIcon.Settings,iconButtonStyles:e,ref:this._onNotificationsSettingsButtonRef,onPressCallback:this._onNotificationsSettingsButtonClick,key:"notificationsettings"})}_renderNotificationButton(e){const t=w.getString("Hub.NotificationCounterScreenReaderLabel",{count:this.props.unreadAlertsCount||0}),i=this._renderIconButton({title:t,accessibilityLabel:t,icon:Q.SkypeIcon.Alert,iconButtonStyles:e,onPressCallback:this._onNotificationsButtonClick,key:"notifications"});let o;if(this.props.unreadAlertsCount){const t=a.Styles.createViewStyle({backgroundColor:this._themeColors.iconDanger},!1);o=(0,n.jsxs)(a.View,Object.assign({style:e},{children:[i,(0,n.jsx)(d.default,{style:pe.badgeStyle,blockPointerEvents:!0,count:this.props.unreadAlertsCount.toString(),rawCount:this.props.unreadAlertsCount,colorStyle:t,borderColor:this._getBorderColor(),badgeSize:d.BadgeSize.Medium,borderWidth:2,isHighPriority:!0,fixedSize:!0,importantForAccessibility:a.Types.ImportantForAccessibility.NoHideDescendants})]}),"notifications")}else o=i;return(0,n.jsx)(a.View,{children:o},"notifications")}_getBorderColor(){return this._isPresentedInTabletLeftNav()?O.default.getBackgroundColor(this._useDarkTheme(),this._useAccessibleTheme(),this._themeColors):this._themeColors.primaryBackgroundColor}getMoodStyle(){return O.default.getItemSubtitleTextStyle(this._useDarkTheme(),!1,this._useAccessibleTheme(),this._themeStyles,!0)}_getLeftControls(e){const t=[pe.iconContainer];this._useLandscapeLayout()&&t.push(pe.iconContainerLandscape);const i=o.map(e.leftControls,(e=>this._renderControlForType(e,t,de.Left))),s=[pe.leftControls,J.default.flexOne];return(0,n.jsx)(a.View,Object.assign({style:s},{children:i}))}_renderControlForType(e,t,i){const o=w.getString("UserIcon.MyInfo");switch(e){case T.HeaderButtonType.Profile:return(0,n.jsx)(g.default.Button,Object.assign({onPress:this._onUserIconButtonClick,style:pe.userIconLeftContainer,activeOpacity:.8,coachMarkType:h.CoachMarkType.Profile,accessibilityLabel:o,anchorAccessibilityLabel:o,onAnchorPress:this._onUserIconAnchorClick,anchorRef:this._onUserIconRef},{children:this._renderUserIcon()}),"usericon");case T.HeaderButtonType.NameAndMoodText:return(0,n.jsxs)(g.default.Button,Object.assign({onPress:this._onUserIconButtonClick,style:[pe.userIconLeftContainer,pe.limitArea,J.default.flexOne],coachMarkType:h.CoachMarkType.Profile,accessibilityLabel:o,anchorAccessibilityLabel:o,onAnchorPress:this._onUserIconAnchorClick,anchorRef:this._onUserIconRef},{children:[this._renderUserName(),this._renderUserMood()]}),"usernameandmood");case T.HeaderButtonType.Notifications:return this._renderNotificationButton(t);case T.HeaderButtonType.Feedback:return this._renderFeedbackButton(t);case T.HeaderButtonType.NotificationsSettings:return this._renderNotificationsSettingsButton(t);case T.HeaderButtonType.Call:return this._renderIconButton({title:w.getString("QuickCallPanel.PanelHeaderNewCall"),icon:Q.SkypeIcon.CallAdd,iconButtonStyles:t,onPressCallback:this._onQuickCallButtonClick,ref:this._onQuickCallButtonRef,key:"quickcall"});case T.HeaderButtonType.MeetNow:return this._renderMeetNowButton(t)}}_renderUserIcon(){return(0,n.jsx)(Z.UserIcon,{size:ee.UserIconSize.Size40,userMri:E.default.getSkypeMri(),hideBlockedOverlay:!0,statusTypes:ie.myAllowedStatuses(),statusBorderColor:this._themeColors.primaryBackgroundColor},"usericon")}_renderUserName(){let e=a.Styles.combine(X.default.modernizeSmallHeaderMobileFontStyle(),pe.userNameControl);return this.state.enableRefreshedPalette&&(e=a.Styles.combine(e,a.Styles.createTextStyle({color:this._getContext().themeColors.textOnAccent},!1))),(0,n.jsx)(a.Text,Object.assign({numberOfLines:1,style:e,ellipsizeMode:"tail"},{children:this.state.userName}),"userName")}_renderUserMood(){return(0,n.jsx)(m.default,{shouldRenderEditor:!1,hideIcons:!0,moodMessageInStore:this.state.moodString,placeholderText:w.getString("UserSettingsPanel.SetMoodTitle"),onShowMoodEditor:this._onUserIconAnchorClick},"userMood")}_getRightControls(e){const t=[pe.iconContainer];this._useLandscapeLayout()&&t.push(pe.iconContainerLandscape);const i=o.map(e.rightControls,(e=>this._renderControlForType(e,t,de.Right)));return(0,n.jsx)(a.View,Object.assign({style:pe.rightControls},{children:i}))}_showMeetNowPopup(e,t,i){const n=()=>this._meetNowButton;this._registerMobileFocusHandler(n),ae.default.showWithOptions({id:ae.default.menuId(),config:{anchor:n,useTheme:!0,positionPriorities:["bottom"]},getMenuItems:x.MeetNowHelpers.getMeetNowMenuItems,handleMenuCommand:t=>x.MeetNowHelpers.handleMeetNowActionMenuCommand(t,e),rootViewId:t,invokingEvent:i})}_useLandscapeLayout(){return this.props.deviceOrientation===s.DeviceOrientation.Landscape&&!this._getContext().isPresentedInDesktopLeftNav}_registerMobileFocusHandler(e){$.default.isTabletUINoSubscription()&&p.default.registerMobileFocusHandler(v.FocusEvent.CloseMobileModal,e)}_pauseWhenNotVisible(){return!0}}t.default=Se},40858:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useHeaderLeftWidth=void 0;const n=i(785893),o=i(516778),s=i(281878),a=i(701025),r=i(667294),l=i(889391),c=i(297775),d=i(345892),u=i(911009),g=i(180843),h=i(968894),p=i(790070),S=i(711828),m=i(436237),C=i(915877),y=i(733754),f=i(746096),b=i(18078),_=i(104735),v=i(667024),T=i(29130),P=i(415963),k=i(316392),A=i(422538),I=i(680837),w=i(258187),x=i(702301),N=i(567977),M=i(853374),L=i(172758),O=i(286259),D=i(247050),R=i(677381),E=i(600212),B=(0,C.lazyProperties)({userIconLeftContainer:()=>o.Styles.createViewStyle({marginLeft:10})});function F(e,t,i){const n=(0,w.useCommonContext)(),o=p.default.headerButtonLayoutForHubTab({hubTab:e,useTabletUI:!n.isPresentedInDesktopLeftNav,enableHeartEntryPoint:t,notificationsToHeader:!0}),s=(0,a.useSafeAreaInsets)();return(0,r.useMemo)((()=>i-o.rightControls.length*S.IconSize.default-s.right-s.left-40),[i,o.rightControls.length,s])}function V({name:e,enableHeartEntryPoint:t,isLandscapeLayout:i,headerWidth:a,skypeMri:l,userName:p,mood:S}){const C=(0,w.useCommonContext)(),{themeColors:{surfacePrimary:b}}=(0,E.useSkypeTheme)(),T=F(e,t,a),L=(0,D.useTextStyles)(i),R=(0,r.useCallback)((e=>{null==e||e.stopPropagation();const t=M.default.newCauseId();let i;m.log(f.LogTraceArea.Navigation,"MobileHubHeader._onUserIconButtonClick navigateToMeControl, causeId: "+t),e&&(i=M.default.newCauseId(),v.default.createTrackerAndMarkPressTime(i,P.ScenarioName.ResponsivenessOpenProfile,e)),_.default.navigateToMeControl(C.rootViewId,t,k.StackNavigationDirection.Present),i&&v.default.markActionDoneAndRemoveTracker(i)}),[C]),V=(0,r.useCallback)((e=>{A.EnsureStarted(g.default).then((()=>{g.default.setAnchor(h.EngagementTooltipType.Profile,e)}))}),[]),U=(0,n.jsx)(c.default.Button,Object.assign({onPress:R,activeOpacity:.8,coachMarkType:u.CoachMarkType.Profile,accessibilityLabel:y.getString("UserIcon.MyInfo"),anchorAccessibilityLabel:y.getString("UserIcon.MyInfo"),onAnchorPress:R,anchorRef:V},{children:(0,n.jsx)(x.default,{size:i?N.UserIconSize.Size24:N.UserIconSize.Size40,userMri:l,hideBlockedOverlay:!0,statusTypes:O.myAllowedStatuses(),statusBorderColor:b},"usericon")}),"usericon"),j=(0,n.jsxs)(c.default.Button,Object.assign({onPress:R,style:[B.userIconLeftContainer,I.default.flexOne],coachMarkType:u.CoachMarkType.Profile,accessibilityLabel:y.getString("UserIcon.MyInfo"),anchorAccessibilityLabel:y.getString("UserIcon.MyInfo"),onAnchorPress:R,anchorRef:V},{children:[(0,n.jsx)(o.Text,Object.assign({numberOfLines:1,style:L.userName,ellipsizeMode:"tail"},{children:p}),"userName"),(0,n.jsx)(d.default,{shouldRenderEditor:!1,hideIcons:!0,moodMessageInStore:S,placeholderText:y.getString("UserSettingsPanel.SetMoodTitle"),onShowMoodEditor:R,nativeHeaderLandscape:i},"userMood")]}),"usernameandmood");return(0,n.jsxs)(s.Row,Object.assign({ml:4,alignItems:"center",width:T},{children:[U,j]}))}t.useHeaderLeftWidth=F;class U extends R.default{_buildState(e,t){const{brb:{enableHeartEntryPoint:i}}=l.default.getConfigSettings(),n=T.default.getWidth(this._getRootViewId()),o=b.default.getSkypeMri(),s=L.default.getFullUserProfileByMriForHooks(o);return{enableHeartEntryPoint:i,headerWidth:n,skypeMri:o,userName:s.getDisplayName(),mood:s.mood}}render(){return(0,n.jsx)(V,Object.assign({},this.props,{enableHeartEntryPoint:this.state.enableHeartEntryPoint,headerWidth:this.state.headerWidth,skypeMri:this.state.skypeMri,userName:this.state.userName,mood:this.state.mood}))}}t.default=U},490720:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(667294),a=i(281878),r=i(183267),l=i(72105),c=i(889391),d=i(346195),u=i(790070),g=i(913944),h=i(915877),p=i(733754),S=i(711828),m=i(257538),C=i(844285),y=i(5470),f=i(104735),b=i(330124),_=i(217093),v=i(667024),T=i(695697),P=i(415963),k=i(258187),A=i(853374),I=i(581760),w=i(77605),x=i(600212),N=i(166454),M=i(953615),L=i(677381),O=i(436237),D=i(109106),R=(0,h.lazyProperties)({iconContainer:()=>o.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",alignItems:"center",width:S.IconSize.default,height:S.IconSize.default}),iconContainerLandscape:()=>o.Styles.createViewStyle({height:S.IconSize.size32}),badgeStyle:()=>o.Styles.createViewStyle({position:"absolute",top:2,right:2}),redBadge:()=>o.Styles.createViewStyle({backgroundColor:I.Color.red})}),E=e=>(0,s.useMemo)((()=>o.Styles.combine(R.iconContainer,e?R.iconContainerLandscape:void 0)),[e]);function B(e){const t=(0,k.useCommonContext)(),i=t.themeColors.iconOnAccent,o=t.themeColors.iconOnAccent,s=p.getString("HubHeaderPanel.FeedbackButtonLabel");return(0,n.jsx)(g.default,{style:E(e.useLandscapeLayout),size:e.useLandscapeLayout?S.IconSize.size20:S.IconSize.size28,icon:S.SkypeIcon.HeartOutline,title:s,accessibilityLabel:s,color:i,hoverColor:o,onPress:e=>{null==e||e.stopPropagation(),T.default.reportProblem(!0,t.rootViewId)}},"feedback")}function F(e){const t=(0,k.useCommonContext)(),i=(0,s.useRef)(null),o=t.themeColors.iconOnAccent,a=t.themeColors.iconOnAccent;return(0,n.jsx)(g.default,{ref:i,style:E(e.useLandscapeLayout),size:e.useLandscapeLayout?S.IconSize.size20:S.IconSize.size28,icon:S.SkypeIcon.MeetNow,title:p.getString("MeetNow.FeatureName"),accessibilityLabel:p.getString("MeetNow.FeatureName"),color:o,hoverColor:a,onPress:t=>{null==t||t.stopPropagation();const i=A.default.newCauseId();t&&v.default.createOneShotTrackerAndMarkPressTime(i,P.ScenarioName.ResponsivenessMeetNow,t);let n=m.MeetNowOrigin.Unknown;e.currentHubTab===_.HubTab.Recents?n=m.MeetNowOrigin.RecentChatsTabMobile:e.currentHubTab===_.HubTab.Calls&&(n=m.MeetNowOrigin.CallsTabMobile),O.track(new D.PressAction(D.PressScenario.MeetNow,n)),b.default.isUsingStackNavigationContext()?y.default.navigateToCreateOrJoinFlyout():C.MeetNowHelpers.showNewMeetNow(n)}},"meetnow")}function V(e){const t=(0,k.useCommonContext)(),i=(0,s.useRef)(null),o=t.themeColors.iconOnAccent,a=t.themeColors.iconOnAccent;return(0,n.jsx)(g.default,{ref:i,style:E(e.useLandscapeLayout),size:e.useLandscapeLayout?S.IconSize.size20:S.IconSize.size28,icon:S.SkypeIcon.CallAdd,title:p.getString("QuickCallPanel.PanelHeaderNewCall"),accessibilityLabel:p.getString("QuickCallPanel.PanelHeaderNewCall"),color:o,hoverColor:a,onPress:e=>{null==e||e.stopPropagation();const i=A.default.newCauseId();f.default.navigateToQuickCallPanelWithParams({causeId:i,newGroup:!0},t.rootViewId)}},"quickcall")}function U(e){const{themeColors:t}=(0,x.useSkypeTheme)(),i=p.getString("Hub.NotificationCounterScreenReaderLabel",{count:e.unreadAlertsCount||0}),a=t.iconOnAccent,r=t.iconOnAccent,l=(0,s.useMemo)((()=>e.unreadAlertsCount?(0,n.jsx)(w.BadgeCounter,{style:R.badgeStyle,blockPointerEvents:!0,count:e.unreadAlertsCount.toString(),rawCount:e.unreadAlertsCount,colorStyle:R.redBadge,borderColor:t.primaryBackgroundColor,badgeSize:w.BadgeSize.Medium,borderWidth:2,isHighPriority:!0,fixedSize:!0,importantForAccessibility:o.Types.ImportantForAccessibility.NoHideDescendants}):void 0),[t,e]),c=(0,s.useCallback)((()=>{O.track(new D.PressAction(D.PressScenario.Notification,"MobileHubHeaderRight","AlertsHub")),f.default.navigateToAlertsHub()}),[]);return(0,n.jsx)(g.default,{accessoryView:e.unreadAlertsCount?l:void 0,style:E(e.useLandscapeLayout),size:e.useLandscapeLayout?S.IconSize.size20:S.IconSize.size28,icon:S.SkypeIcon.Alert,title:i,accessibilityLabel:i,color:a,hoverColor:r,onPress:c},"notifications")}function j(e){const t=(0,s.useRef)(null),i=(0,k.useCommonContext)(),o=i.themeColors.iconOnAccent,a=i.themeColors.iconOnAccent;return(0,n.jsx)(g.default,{ref:t,style:E(e.useLandscapeLayout),size:e.useLandscapeLayout?S.IconSize.size20:S.IconSize.size28,icon:S.SkypeIcon.Settings,title:p.getString("Global.MoreOptions"),accessibilityLabel:p.getString("Global.MoreOptions"),color:o,hoverColor:a,onPress:e=>{null==e||e.stopPropagation();const n=l.default.hasUnreadAlerts(!0);r.default.showMenu(n,(()=>t.current),i.rootViewId,e)}},"notificationsettings")}function H({name:e,scrollValue:t,unreadAlertsCount:i,enableHeartEntryPoint:o,isLandscapeLayout:s,enableNewCallsTabPanel:r}){const l=(0,k.useCommonContext)(),c=u.default.headerButtonLayoutForHubTab({hubTab:e,useTabletUI:!l.isPresentedInDesktopLeftNav,enableHeartEntryPoint:o,notificationsToHeader:!0}),g=null==c?void 0:c.rightControls.map((t=>{switch(t){case d.HeaderButtonType.Feedback:return(0,n.jsx)(B,{useLandscapeLayout:s,currentHubTab:e},"feedback");case d.HeaderButtonType.NotificationsSettings:return(0,n.jsx)(j,{useLandscapeLayout:s,currentHubTab:e},"notificationsettings");case d.HeaderButtonType.Call:return(0,n.jsx)(V,{useLandscapeLayout:s,currentHubTab:e},"quickcallbutton");case d.HeaderButtonType.MeetNow:return(0,n.jsx)(F,{useLandscapeLayout:s,currentHubTab:e},"meetnow");case d.HeaderButtonType.Notifications:return(0,n.jsx)(U,{useLandscapeLayout:s,currentHubTab:e,unreadAlertsCount:i},"notifications")}}));return(0,n.jsx)(a.Row,Object.assign({mr:3,alignItems:"center"},{children:r&&e===_.HubTab.Calls&&void 0!==t?(0,n.jsx)(N.Fading,Object.assign({value:t,valueFrom:75,valueTo:155},{children:(0,n.jsx)(a.Row,{children:g})})):g}))}class W extends L.default{_buildState(e,t){const i=l.default.getUnreadAlertsCount(),{brb:{enableHeartEntryPoint:n}}=c.default.getConfigSettings(),{enableNewCallsTabPanel:o}=c.default.getS4LMessagingFeatures();return{scrollValue:e.name===_.HubTab.Calls?(0,M.getHubTabScrollStore)("calls").getValue():void 0,unreadAlertsCount:i,enableHeartEntryPoint:n,enableNewCallsTabPanel:o}}render(){return(0,n.jsx)(H,Object.assign({},this.props,{scrollValue:this.state.scrollValue,unreadAlertsCount:this.state.unreadAlertsCount,enableHeartEntryPoint:this.state.enableHeartEntryPoint,enableNewCallsTabPanel:this.state.enableNewCallsTabPanel}))}}t.default=W},788062:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(667294),a=i(757361),r=i(281878),l=i(258187),c=i(394894),d=i(356129),u=i(282773),g=i(878440),h=i(978547),p=i(889391),S=i(104735),m=i(316392),C=i(853374),y=i(733754),f=i(344352),b=i(263492),_=i(980760);t.default=(0,o.withResubAutoSubscriptions)((function(e){const t=(0,l.useCommonContext)(),i=(0,s.useRef)();(0,s.useEffect)((()=>(i.current=new f.default,()=>{var e;null===(e=i.current)||void 0===e||e.destroy()})),[]);const o=(0,s.useRef)(null),v=(0,a.useIsFocused)(),T=u.default.shouldDisplayTooltipOnMobile(v)?(0,n.jsx)(c.default,{title:y.getString("BookmarksTooltips.BookmarksCanBeFoundHere"),accessibilityLabel:y.getString("BookmarksTooltips.BookmarksCanBeFoundHere"),anchor:()=>o.current||void 0}):void 0;let P=g.default.showTooltip();P=h.default.isAppUpdated()&&P;const k=p.default.getEngagementFeatures().whatsNewSetting,A=k.enabled&&k.coachmarkEnabled&&P?(0,n.jsx)(d.default,{title:y.getString("Onboarding.LandingScreenWithCardsCardTitle1"),accessibilityLabel:y.getString("Onboarding.LandingScreenWithCardsCardTitle1"),anchor:()=>o.current||void 0,onPress:e=>{e.stopPropagation(),e.preventDefault();const i=C.default.newCauseId();S.default.navigateToMeControl(t.rootViewId,i,m.StackNavigationDirection.Present)}}):void 0;return i.current?(0,n.jsxs)(r.Box,Object.assign({position:"absolute",alignSelf:"center",top:e.headerHeight+2,zIndex:1},{children:[(0,n.jsxs)(r.Box,Object.assign({ref:o},{children:[T,A]})),(0,n.jsx)(b.default,{statusPillInstance:i.current,statusPillMaxWidth:500}),(0,n.jsx)(_.StatusPillView,{disableAbsolutePosition:!0,statusPillInstance:i.current,connectionStatusOnly:!0})]})):null}))},319436:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(809206),a=i(516778),r=i(775352),l=i(67930),c=i(994224),d=i(924506),u=i(898278),g=i(587134),h=i(746096),p=i(436237),S=i(915877),m=i(733754),C=i(535337),y=i(285683),f=i(739182),b=i(442484),_=i(640363),v=i(711828),T=i(853374),P=i(47447),k=i(767927),A=(0,S.lazyProperties)({sectionTitle:()=>a.Styles.createViewStyle({marginTop:20})});class I extends l.default{constructor(){super(...arguments),this._callInitiatedByAVSettings=!1,this._handleTestCall=()=>{const e=T.default.newCauseId();this.state.activeEchoCallId?(p.log(h.LogTraceArea.AVSettings,"User requested to end the test call, causeId: "+e),this._callInitiatedByAVSettings=!1,c.default.CallingStore.endCall(this.state.activeEchoCallId,e)):(p.log(h.LogTraceArea.AVSettings,"User requested to start the test call, causeId: "+e),this._callInitiatedByAVSettings=!0,c.default.CallNavigationHelper.startEchoCallWithoutUI(e),this.props.onTestCallPerformed&&this.props.onTestCallPerformed())}}_buildState(e,t){return{isInCall:c.default.CallingStore.hasConnectedCalls(),activeEchoCallId:o.first(c.default.CallingStore.getCallIdsForConversationMri(_.default.getEchoMri())),microphones:c.default.DeviceStore.getMicrophones(),speakers:c.default.DeviceStore.getSpeakers(),callingNotAllowed:!c.default.CallNavigationHelper.isOutgoingCallingAllowed(_.default.getEchoMri())}}componentWillUnmount(){super.componentWillUnmount();const e=T.default.newCauseId();p.log(h.LogTraceArea.AVSettings,"componentWillUnmount causeId: "+e),this.state.activeEchoCallId&&this._callInitiatedByAVSettings&&(p.log(h.LogTraceArea.AVSettings,"User is closing AV settings, ending the test call, causeId: "+e),this._callInitiatedByAVSettings=!1,c.default.CallingStore.endCall(this.state.activeEchoCallId,e))}render(){const e=this.props.settingsMode===r.SettingsMode.All||this.props.settingsMode===r.SettingsMode.Video,t=this.props.settingsMode===r.SettingsMode.All||this.props.settingsMode===r.SettingsMode.Audio;let i,s,a,l,c;const h=this.props.settingsMode!==r.SettingsMode.All&&this.props.isInOnboarding?void 0:(0,n.jsx)(g.default,{colorThemeOverride:this.props.colorThemeOverride});if(t){if(i=(0,n.jsx)(y.SectionTitle,{title:m.getString("AudioVideoSettings.AudioLabel"),titleStyles:A.sectionTitle,colorThemeOverride:this.props.colorThemeOverride},"audiotitle"),a=(0,n.jsx)(C.default,{onMicrophoneSelected:this.props.onMicrophoneSelected,onToggleAGC:this.props.onMicrophoneAutoAdjustChanged,onToggleAEC:this.props.onEchoCancellationChanged,onToggleMusicMode:this.props.onMusicModeChanged,onNoiseSuppressionChanged:this.props.onNoiseSuppressionControlChanged,onAdjustVolume:this.props.onMicrophoneAdjusted,backgroundColor:this.props.backgroundColor,isInOnboarding:this.props.isInOnboarding,colorThemeOverride:this.props.colorThemeOverride,origin:r.MicrophoneSettingsOrigin.AVSettings}),this._isTestCallSupported()&&(!this.state.isInCall||this.state.activeEchoCallId)){const e=this.state.activeEchoCallId?v.SkypeIcon.CallEnd:v.SkypeIcon.CallStart,t=this.state.activeEchoCallId?"AudioVideoSettings.EndTestCallButton":"AudioVideoSettings.StartTestCallButton";s=(0,n.jsx)(f.default,{style:u.ListItem.small.shortHeightStyle,title:m.getString(t),icon:e,disabled:this.state.callingNotAllowed,colorThemeOverride:this.props.colorThemeOverride,onPress:this._handleTestCall,hideDivider:!0})}o.isEmpty(this.state.speakers)||(l=(0,n.jsx)(b.default,{onSpeakerSelected:this.props.onSpeakerSelected,isInOnboarding:this.props.isInOnboarding,colorThemeOverride:this.props.colorThemeOverride,onAdjustVolume:this.props.onSpeakerVolumeChanged,onAudioTestPerformed:this.props.onAudioTestPerformed,onRingingDeviceSelected:this.props.onRingingDeviceSelected}))}return e&&(c=(0,n.jsx)(d.default,{onCameraSelected:this.props.onCameraSelected,isInOnboarding:this.props.isInOnboarding,hideBackgroundBlurCapability:this.props.hideBackgroundBlurCapability,showNewBackgroundReplacementUI:!0,forceUpdateDefaultDevice:!0})),(0,n.jsxs)(k.default,{children:[c,e?h:void 0,this.props.isInOnboarding?void 0:i,a,t?h:void 0,l,s]})}_isTestCallSupported(){return P.CallingCapabilities.anyCallingSupported()&&!o.isEmpty(this.state.microphones)&&(!o.isEmpty(this.state.speakers)||s.BrowserEnvironment.isEngineEdgeHTML()||s.BrowserEnvironment.isEngineWebkit()||s.BrowserEnvironment.isEngineGecko())}_getHeaderText(e){return I.getHeaderText()}static getHeaderText(){return m.getString("UserSettingsPanel.AudioVideoSettingsTitle")}}t.default=I},342961:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(711930),r=i(898278),l=i(915877),c=i(680837),d=i(619675),u=i(24576),g=i(599615),h=(0,l.lazyProperties)({oneRowContainer:()=>s.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",alignItems:"center",alignSelf:"stretch"}),container:()=>s.Styles.createViewStyle({flexDirection:"column",justifyContent:"center"}),button:()=>s.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10})});class p extends u.default{render(){const e=a.default.combinedAccessibilityLabel(this.props.title,this._getSelectedItemLabel()),t=this.props.title?(0,n.jsx)(d.RowTitle,Object.assign({colorThemeOverride:this._currentTheme},{children:this.props.title})):void 0,i=o.isEmpty(this.props.items)?void 0:(0,n.jsx)(g.default,{id:"avSettingsPickerMenu",items:this.props.items,selectedValue:this.props.selectedValue,onValueChange:this.props.onValueChange,labelColor:this.props.labelColor,labelMaxWidth:this.props.labelMaxWidth||266,accessibilityLabel:e,tabIndex:this.props.tabIndex}),l=(0,n.jsxs)(s.View,Object.assign({style:h.oneRowContainer},{children:[t,i]}));return(0,n.jsx)(s.View,Object.assign({style:[h.container,r.ListItem.small.shortHeightStyle,this.props.style]},{children:this.props.subtitle?(0,n.jsxs)(s.View,Object.assign({style:c.default.flexOne},{children:[l,this.props.subtitle]})):l}))}_getSelectedItemLabel(){const e=o.find(this.props.items,(e=>e.value===this.props.selectedValue));return e?e.label:""}}t.default=p},812951:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(889391),a=i(711930),r=i(746096),l=i(110117),c=i(915877),d=i(540522),u=i(733754),g=i(581760),h=i(711828),p=i(359433),S=i(619675),m=i(24576),C=(0,c.lazyProperties)({deviceNotPresentContainer:()=>o.Styles.createViewStyle({flex:1,marginVertical:10,alignSelf:"stretch"}),deviceNotPresentInnercontainer:()=>o.Styles.createViewStyle({flex:1,flexDirection:"row",marginTop:10}),deviceNotPresentTextContainer:()=>o.Styles.createViewStyle({flex:1,flexWrap:"wrap"}),errorIconPadding:()=>o.Styles.createViewStyle({paddingTop:0,paddingRight:10,paddingLeft:1,paddingBottom:1})});class y extends m.default{constructor(){super(...arguments),this._onLearnMorePressed=()=>{const e="AudioVideoSettings.WebcamMaybeNotPresent"===this.props.errorStringKey?s.default.getS4LCMCFeaturesNoSubscription().cameraHelp.cameraIssuesLink:s.default.getConfigSettingsNoSubscription().avSettings.learnMoreLink;d.openUrlWithParams({origin:r.BrowserOrigin.AudioVideoSettings,url:e,rootViewId:this._getRootViewId()})}}render(){const e=u.getString("AudioVideoSettings.LearnMore"),t=(0,n.jsx)(p.default,Object.assign({url:"#",blue:!0,colorThemeOverride:this.props.colorThemeOverride,onPress:this._onLearnMorePressed},{children:e}),"learnMoreLink");let i;if(this.props.errorStringKey&&this.props.errorIcon){const s=u.getParts(this.props.errorStringKey,{learnMoreLink:t}),r=!1,c=[(0,n.jsx)(l.default,{icon:this.props.errorIcon,size:h.IconSize.size20,color:g.Color.red,style:C.errorIconPadding},"icon"),(0,n.jsx)(o.View,Object.assign({style:C.deviceNotPresentTextContainer,importantForAccessibility:r?o.Types.ImportantForAccessibility.NoHideDescendants:void 0},{children:(0,n.jsx)(S.BodyText,Object.assign({colorThemeOverride:this.props.colorThemeOverride,textThemeColor:S.TextThemeColor.Secondary},{children:s}))}),"label")];if(r){const t=u.getString(this.props.errorStringKey,{learnMoreLink:e});i=a.default.wrapLinkWithAccessibilityView(c,t,this._onLearnMorePressed,C.deviceNotPresentInnercontainer)}else i=(0,n.jsx)(o.View,Object.assign({style:C.deviceNotPresentInnercontainer},{children:c}))}const s=this.props.audioTitleKey?(0,n.jsx)(S.RowTitle,Object.assign({colorThemeOverride:this.props.colorThemeOverride},{children:u.getString(this.props.audioTitleKey)})):void 0;return(0,n.jsxs)(o.View,Object.assign({style:C.deviceNotPresentContainer},{children:[s,i]}))}}t.default=y},156879:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(421832),s=i(516778),a=i(901130),r=i(67930),l=i(898278),c=i(635268),d=i(746096),u=i(436237),g=i(915877),h=i(733754),p=(i(10909),i(330124)),S=i(451070),m=i(536150),C=i(190631),y=i(710056),f=i(640363),b=i(711828),_=i(619675),v=i(853374),T=(i(400451),i(871664)),P=i(889391),k=(0,g.lazyProperties)({panel:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),marginTopVersion:()=>s.Styles.createTextStyle({marginTop:20,textAlign:"center"}),otherVersion:()=>s.Styles.createTextStyle({textAlign:"center"}),buttonsContainer:()=>s.Styles.createViewStyle({alignSelf:"stretch"}),copyright:()=>s.Styles.createTextInputStyle({marginTop:2}),upperTextContainer:()=>s.Styles.createViewStyle({alignItems:"center",marginHorizontal:10,marginTop:18}),panelContainer:()=>s.Styles.createViewStyle({flex:1,flexDirection:"column"}),panelContainerCompositeNav:()=>s.Styles.createViewStyle({marginHorizontal:10})});class A extends r.default{constructor(){super(...arguments),this._onVersionPress=()=>{0},this._onLeftButtonPressed=()=>{const e=v.default.newCauseId();u.log(d.LogTraceArea.Navigation,"AboutPanel._onLeftButtonPressed,  causeId: "+e),this._goBack(e)}}_buildState(e,t){return{isUsingStackNavigationContext:p.default.isUsingStackNavigationContext(),safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:S.default.horizontalPaddingStyle(l.HorizontalInsetDefault),isMobileScreenReaderEnabled:m.default.isMobileScreenReaderEnabled(),magicBotStatus:T.default.getWaitlistStatus(),magicBotEnabled:P.default.getS4LMessagingFeatures().enableMagicBot}}render(){let e;if(this.props.showHeader){const t=this.props.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.isAloneInNavStack?C.CloseButtonType.Close:C.CloseButtonType.Back,onPress:this.state.isUsingStackNavigationContext?void 0:this._onLeftButtonPressed};e=this.props.isAloneInNavStack&&!this.state.isMobileScreenReaderEnabled&&this._getContext().isPresentedInSplitView?void 0:(0,n.jsx)(C.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t})}o.default.getVersion();const t=this._maybeGetBotStatusElement(),i=[];let a;this.state.isUsingStackNavigationContext||i.push(k.panelContainerCompositeNav),this.state.safeAreaHorizontalPaddingStyle&&i.push(this.state.safeAreaHorizontalPaddingStyle);const r=f.default.getUWPPackageVersion()||f.default.getMSIXPackageVersion();r&&(a=(0,n.jsx)(_.BodyText,Object.assign({style:k.otherVersion,selectable:!0},{children:h.getString("AboutPanel.UWPPackageVersion",{version:r})})));let l=(0,n.jsx)(_.BodyText,Object.assign({style:k.marginTopVersion,selectable:!0},{children:h.getString("AboutPanel.SkypeVersion",{version:f.default.getAppVersion()})}));let d=(0,n.jsx)(s.View,Object.assign({style:this.props.isPartOfOtherPanel?void 0:i},{children:(0,n.jsxs)(s.View,Object.assign({style:k.upperTextContainer},{children:[(0,n.jsx)(y.SkypeLogo,{size:b.IconSize.size64}),l,a,undefined,t,(0,n.jsx)(_.Caption,Object.assign({style:k.copyright},{children:h.getString("AboutPanel.Copyright")})),(0,n.jsx)(c.default,{}),this.props.isPartOfOtherPanel?void 0:this._getAboutButtons()]}))}));return this.props.isPartOfOtherPanel||(d=(0,n.jsx)(s.ScrollView,Object.assign({style:k.panelContainer},{children:d}))),(0,n.jsxs)(s.View,Object.assign({style:[k.panel,this._themeStyles.primaryBackgroundColorStyle]},{children:[e,d]}))}_getAboutButtons(){return(0,n.jsx)(a.default,{buttonStyles:this.state.isUsingStackNavigationContext?void 0:l.ListItem.small.shortHeightStyle,style:this.props.isPartOfOtherPanel?void 0:k.buttonsContainer})}_getHeaderText(e){return e.isUsingStackNavigationContext?h.getString("AboutPanel.AboutTitle"):h.getString("UserSettingsPanel.AboutButton")}_maybeGetBotStatusElement(){}}t.default=A},964282:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(787720),a=i(889391),r=i(47447),l=i(711930),c=i(677381),d=i(746096),u=i(436237),g=i(540522),h=i(733754),p=i(178735),S=i(104735),m=i(217093),C=i(285683),y=i(590602),f=i(115489),b=i(359433),_=i(680837),v=i(619675),T=i(853374),P=i(677524);class k extends c.default{constructor(){super(...arguments),this._onLocalHotKeysPress=()=>{const e=T.default.newCauseId();u.log(d.LogTraceArea.Navigation,"AccessibilitySettings._onLocalHotKeysPress causeId: "+e),S.default.navigateToDesktopSettingsGroup(m.SettingsGroup.HotKeys,this._getRootViewId(),e)},this._onSystemHotKeysChanged=(e,t)=>{p.default.setUserPreferencesLocal({enableSystemHotKeys:t}),u.track(new f.GlobalShortcutsSettingTelemetryEvent(t))},this._getHotkeysCaptionWithAccessibility=(e,t)=>(0,n.jsx)(o.View,Object.assign({accessibilityLabel:t.label,accessibilityTraits:t.traits,importantForAccessibility:o.Types.ImportantForAccessibility.Yes},{children:(0,n.jsx)(v.Caption,Object.assign({style:y.default.subtitleMediumSemiLarge},{children:e}))})),this._onHotkeysLearnMore=()=>{g.openUrlWithParams({origin:d.BrowserOrigin.HotkeysSettingsDescription,url:a.default.getConfigSettingsNoSubscription().hotkeys.learnMoreUrl,rootViewId:this._getRootViewId()})}}_buildState(e,t){return{enableHotKeysPanel:!0,userEnableSystemHotKey:!!p.default.getUserPreferencesLocal().enableSystemHotKeys}}render(){let e;this.state.enableHotKeysPanel&&(e=(0,n.jsx)(P.WideButton,{label:h.getString("KeyboardShortcuts.Title2"),labelStyle:y.default.titleMediumSemiLarge,onPressed:this._onLocalHotKeysPress},"hotkeys"));const t=h.getString("UserSettingsPanel.HotkeysLearnMoreLink"),i=(0,n.jsx)(b.default,Object.assign({url:a.default.getConfigSettingsNoSubscription().hotkeys.learnMoreUrl,onPress:this._onHotkeysLearnMore,blue:!0},{children:t}),"hotkeysLearnMoreLink ");let c;if(r.UICapabilities.systemHotKeysSupported()){const e=h.getString("KeyboardShortcuts.GlobalHotkeysHeader"),a=h.getString("UserSettingsPanel.GlobalHotkeys"),r=l.default.combinedAccessibilityLabel(e,h.getString("UserSettingsPanel.GlobalHotkeysSecondary",{learnMoreLink:""})),d=h.getParts("UserSettingsPanel.GlobalHotkeysSecondary",{learnMoreLink:i}),u=l.default.linkAccessibilityInfo(h.getString("UserSettingsPanel.GlobalHotkeysSecondary",{learnMoreLink:t})),g=this._getHotkeysCaptionWithAccessibility(d,u);c=(0,n.jsxs)(o.View,{children:[(0,n.jsx)(s.default,Object.assign({style:y.default.controlRowWithDescription,isOn:this.state.userEnableSystemHotKey,accessibilityLabel:r,onChange:this._onSystemHotKeysChanged},{children:(0,n.jsx)(o.View,Object.assign({style:_.default.flexOne},{children:(0,n.jsx)(v.RowTitle,Object.assign({style:y.default.switchTitleMediumSemiLarge},{children:a}))}))}),"systemHotKeysToggle"),g]},"systemHotKeysPanel")}return e||c?(0,n.jsxs)(o.View,{children:[(0,n.jsx)(C.SectionTitle,{title:h.getString("UserSettingsPanel.AccessibilityTitleUpper")}),e,c]}):null}}t.default=k},384122:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(67930),s=i(952262),a=i(746096),r=i(436237),l=i(733754),c=i(932090),d=i(18078),u=i(495224),g=i(393818),h=i(285683),p=i(711828),S=i(545200),m=i(767927);class C extends o.default{_buildState(e,t){return{showAddPhotoLabel:!s.default.getDisplayableProfile(d.default.getSkypeMri()).getAvatarUrl()}}render(){return(0,n.jsxs)(m.default,{children:[(0,n.jsx)(h.SectionTitle,{title:l.getString("UserSettingsPanel.YourProfileTitleUpper")}),(0,n.jsx)(u.default,{buttonStyles:this.props.buttonStyles,icon:p.SkypeIcon.Picture,showAddPhotoLabel:this.state.showAddPhotoLabel}),(0,n.jsx)(S.default,{userMri:d.default.getSkypeMri()}),(0,n.jsx)(c.default,{buttonStyles:this.props.buttonStyles})]})}componentDidMount(){super.componentDidMount(),r.track(new g.ProfileOpened(a.ProfileType.My,a.ProfileOpenOrigin.AppSettings))}_getHeaderText(e){return C.getHeaderText()}static getHeaderText(){return l.getString("UserSettingsPanel.AccountAndProfileSettingsTitle")}}t.default=C},236348:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(787720),a=i(342961),r=i(199401),l=i(994224),c=i(746096),d=i(436237),u=i(915877),g=i(733754),h=i(178735),p=i(619675),S=i(24576),m=i(853374),C=(0,u.lazyProperties)({toggleContainer:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",marginBottom:5}),toggleText:()=>o.Styles.createTextStyle({flexGrow:1,flexShrink:1,marginRight:10})});class y extends S.default{constructor(){super(...arguments),this._onToggleSecondaryRingerEnabled=(e,t)=>{h.default.setUserPreferencesLocal({secondaryRingerOptionEnabled:t})},this._onRingingSpeakerSelected=e=>{const t=m.default.newCauseId();d.log(c.LogTraceArea.AVSettings,"_onRingingSpeakerSelected "+e+" causeId: "+t),this.props.onRingerDeviceSelected&&this.props.onRingerDeviceSelected(e!==this.state.selectedRingerDevice),l.default.DeviceStore.chooseSecondarySpeakerDevice(e,t)}}_buildState(e,t){return{secondaryRingerOptionEnabled:!!h.default.getUserPreferencesLocal().secondaryRingerOptionEnabled,ringerDevices:l.default.DeviceStore.getSecondarySpeakers(),selectedRingerDevice:l.default.DeviceStore.getCurrentSecondarySpeakerDevice()}}render(){return(0,n.jsxs)(o.View,{children:[this._getRingerToggle(),this._getRingerDevicePicker()]})}_getRingerToggle(){return(0,n.jsx)(s.default,Object.assign({style:C.toggleContainer,isOn:this.state.secondaryRingerOptionEnabled,accessibilityLabel:g.getString("AudioVideoSettings.RingAdditionalDeviceLabel"),onChange:this._onToggleSecondaryRingerEnabled},{children:(0,n.jsx)(p.BodyText,Object.assign({style:C.toggleText,colorThemeOverride:this.props.colorThemeOverride},{children:g.getString("AudioVideoSettings.RingAdditionalDeviceLabel")}))}),"ringAdditionalDevices")}_getRingerDevicePicker(){if(!this.state.secondaryRingerOptionEnabled)return;const e=r.formatDevicesForPicker(this.state.ringerDevices);return(0,n.jsx)(a.default,{title:g.getString("AudioVideoSettings.RingingDeviceLabel"),items:e,onValueChange:this._onRingingSpeakerSelected,selectedValue:this.state.selectedRingerDevice||"",colorThemeOverride:this.props.colorThemeOverride})}}t.default=y},924521:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(183267),r=i(142826),l=i(73424),c=i(72105),d=i(996074),u=i(711930),g=i(224631),h=i(915877),p=i(733754),S=i(178735),m=i(866127),C=i(734537),y=i(748367),f=i(190631),b=i(734528),_=i(680837),v=i(474728),T=i(889391),P=i(16967),k=[r.AlertTypeFilter.All,r.AlertTypeFilter.HighPriorityMessages,r.AlertTypeFilter.Reactions],A=(0,h.lazyProperties)({container:()=>s.Styles.createViewStyle({alignSelf:"stretch",flex:1})});class I extends d.default{constructor(){super(...arguments),this._shadowVisible=!1,this._shadowOpacityValue=new s.Animated.Value(0),this._shadowOpacityStyle=s.Styles.createAnimatedViewStyle({opacity:this._shadowOpacityValue}),this._handleMenuCommand=e=>{if(!this.isComponentMounted())return;if(a.default.handleOverflowActionMenuCommand(e,this._getRootViewId()))return;const t=a.default.filterForCommand(e);o.isUndefined(t)||(S.default.setUserPreferencesLocal({alertsFilter:t}),this.setState({filter:t}))},this._onAlertsPanelRef=e=>{this._alertsPanel=e||void 0},this._onScroll=(e,t)=>{if(this.props.useExperimentalDesktopUtilityBar){const t=e>0;this._shadowVisible!==t&&(this._shadowOpacityValue.setValue(t?.5:0),this._shadowVisible=t)}},this._onOverflowButtonPress=e=>{a.default.showMenu(this.state.hasUnreadAlerts,(()=>this._overflowIconButton),this._getRootViewId(),e)},this._onOverflowButtonRef=e=>{this._overflowIconButton=e||void 0}}_buildState(e,t){let i=r.AlertTypeFilter.All;e.useExperimentalDesktopUtilityBar&&(i=S.default.getUserPreferencesLocal().alertsFilter||r.AlertTypeFilter.All);return{hasUnreadAlerts:c.default.hasUnreadAlerts(!0),filter:i,modernizeConversationList:m.default.canModernizeConversationList(),displayEmptyStateScreen:v.default.getNotificationsEmpty(),enableRefreshedPalette:T.default.getS4LUiFeatures().enableRefreshedPalette}}componentDidMount(){super.componentDidMount()}scrollToTop(){this._alertsPanel&&this._alertsPanel.scrollToTop()}_getColorStyle(){if(this.state.enableRefreshedPalette||this.state.modernizeConversationList&&(this._isPresentedInDesktopLeftNav()||this._isPresentedInTabletLeftNav())){const e=[C.default.getBackgroundColorStyle(this._useDarkTheme(),this._useAccessibleTheme(),this._themeStyles)];return this.state.enableRefreshedPalette&&e.push(s.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfacePrimary},!1)),e}return this._isPresentedInDesktopLeftNav()?this._themeStyles.secondaryBackgroundColorStyle:this._getContext().isPresentedInDesktopSubview&&!this._getContext().isPresentedInDesktopLeftNav?this._themeStyles.popoverBackgroundColorStyle:this._themeStyles.primaryBackgroundColorStyle}render(){const e=this.props.useExperimentalDesktopUtilityBar?this._renderUtilityBar():void 0,t=this.props.useExperimentalDesktopUtilityBar?this._renderShadow():void 0,i=[A.container,this._getColorStyle()];let o=(0,n.jsx)(l.default,{ref:this._onAlertsPanelRef,filter:this.state.filter,onScroll:this.props.useExperimentalDesktopUtilityBar?this._onScroll:void 0,onPressAlertCard:P.onAlertCardPress});return t&&(o=(0,n.jsxs)(s.View,Object.assign({style:_.default.flexOne},{children:[o,t]}))),this.state.displayEmptyStateScreen?(0,n.jsxs)(s.View,Object.assign({style:i},{children:[this._renderSimpleHeader(),o]})):(0,n.jsxs)(s.View,Object.assign({style:i},{children:[this._renderSimpleHeader(),e,o]}))}_renderUtilityBar(){const e=a.default.menuItemTitle(this.state.filter),t=u.default.combinedAccessibilityLabel(p.getString("AlertsPanel.ViewByMenu"),e);return(0,n.jsx)(y.default,{getMenuSections:this._getMenuSections(),currentMenuText:e,accessibilityText:t,onHandleMenuCommand:this._handleMenuCommand})}_renderShadow(){return(0,n.jsx)(g.default,{opacityStyle:this._shadowOpacityStyle})}_getMenuSections(){return[{key:"alertfilters",menuItems:o.map(k,(e=>({text:a.default.menuItemTitle(e),command:a.default.menuItemCommand(e),selected:e===this.state.filter,isCheckbox:!0})))},{key:"alertcommands",menuItems:a.default.menuItems(this.state.hasUnreadAlerts)}]}_renderSimpleHeader(){if(this.props.hideHeader)return;const e=this._getContext().isPresentedInDesktopSubview,t={closeButtonType:f.CloseButtonType.Close},i=e?void 0:{icon:b.moreIcon(),title:p.getString("MyProfilePanel.OverflowButtonTitle"),onPress:this._onOverflowButtonPress,setButtonRef:this._onOverflowButtonRef},o=this.state.enableRefreshedPalette?this._getContext().themeColors.surfacePrimary:void 0;return(0,n.jsx)(f.SimplePanelHeader,{panelName:p.getString("SettingsHubHeader.NotificationsTitle"),leftButton:t,rightButtons:i,useTransparentBackground:e,backgroundColor:o})}}t.default=I},924737:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(667294),a=i(258187),r=i(711828),l=i(913944),c=i(733754),d=i(853374),u=i(104735),g=i(512193);t.default=function(){const e=(0,a.useCommonContext)(),t=e.themeColors,i=(0,s.useCallback)((()=>{const t=d.default.newGuid();u.default.goBack(t,e)}),[e]),h=(0,g.useRXStyles)((()=>({mobileCloseButton:o.Styles.createViewStyle({marginLeft:10,marginRight:0})})),[]);return(0,n.jsx)(l.default,{icon:r.SkypeIcon.ClosePanel,size:r.IconSize.size24,color:t.primaryIconColor,hoverColor:t.iconHoverColor,style:h.mobileCloseButton,title:c.getString("BookmarksConversation.CloseButtonLabel"),autoFocus:!0,onPress:i})}},833204:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(67930),a=i(517033),r=i(915877),l=i(733754),c=i(190631),d=i(680837),u=(0,r.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),container:()=>o.Styles.createViewStyle({alignSelf:"stretch",padding:20,overflow:"visible",flexGrow:1})});class g extends s.default{_getHeaderText(){return l.getString("AudioVideoSettings.CameraBackgroundReplacementLabel")}render(){const e=this.props.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.isAloneInNavStack?c.CloseButtonType.Close:c.CloseButtonType.Back},t=(0,n.jsx)(c.SimplePanelHeader,{panelName:this._getHeaderText(),leftButton:e});return(0,n.jsxs)(o.View,Object.assign({style:[u.panel,this._themeStyles.primaryBackgroundColorStyle]},{children:[t,(0,n.jsx)(o.ScrollView,Object.assign({style:d.default.flexOne},{children:(0,n.jsx)(o.View,Object.assign({style:u.container},{children:(0,n.jsx)(a.default,{fullList:!0})}))}))]}))}}t.default=g},478931:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(67930),a=i(898278),r=i(915877),l=i(451070),c=i(190631),d=i(680837),u=i(897634),g=(0,r.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>o.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible"})});class h extends s.BaseNavigationViewPresentedInModal{_buildState(e,t){return{safeAreaPaddingStyle:l.default.horizontalPaddingStyle(a.HorizontalInsetZero)}}render(){const e=[g.settingsBlockContainer],t=this.state;t.safeAreaPaddingStyle&&e.push(t.safeAreaPaddingStyle);const i=this.props.navigation?void 0:(0,n.jsx)(c.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:{closeButtonType:this.props.route.params.isAloneInNavStack?c.CloseButtonType.Close:c.CloseButtonType.Back}}),{primaryBackgroundColorStyle:s}=u.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(o.View,Object.assign({style:[g.panel,s]},{children:[i,(0,n.jsx)(o.ScrollView,Object.assign({style:d.default.flexOne},{children:(0,n.jsx)(o.View,Object.assign({style:e},{children:this._renderContent()}))}))]}))}}t.default=h},358865:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(705465),s=i(217041),a=i(593486),r=i(787720),l=i(590602),c=i(285683),d=i(733754),u=i(889391),g=i(600212),h=i(46929);function p(e,t){h.default.setBingSearchHistoryEnabled(t)}function S(e,t){h.default.setBingSearchTrendingEnabled(t)}const m=e=>{const{themeStyles:{dividerBorderColorStyle:t}}=(0,g.useSkypeTheme)();if(e.isChild)return null;const i=d.getString("SearchResultsList.WebSearchHistoryHeader"),s=d.getString("SearchResultsList.WebSearchTrendingHeader"),a=e.enableHistory?(0,n.jsx)(r.default,Object.assign({style:[l.default.controlRow,t],isOn:e.enableSearchHistory,accessibilityLabel:i,onChange:p},{children:(0,n.jsx)(c.SwitchLabel,{title:i})})):null,u=e.enableTrending?(0,n.jsx)(r.default,Object.assign({style:[l.default.controlRow,t],isOn:e.enableSearchTrending,accessibilityLabel:s,onChange:S},{children:(0,n.jsx)(c.SwitchLabel,{title:s})})):null;return a||u?(0,n.jsxs)(o.View,{children:[(0,n.jsx)(c.SectionTitle,{title:d.getString("UserSettingsPanel.WebSearchSettingsUpper")}),a,u]}):null};class C extends s.ComponentBase{_buildState(){const{enableHistory:e,enableTrending:t}=u.default.getS4LSearchFeatures().bingSearch;return{enableHistory:e,enableTrending:t,enableSearchHistory:h.default.getBingSearchHistoryEnabled(),enableSearchTrending:h.default.getBingSearchTrendingEnabled(),isChild:a.default.isChild()}}render(){return(0,n.jsx)(m,{enableHistory:this.state.enableHistory,enableTrending:this.state.enableTrending,enableSearchHistory:this.state.enableSearchHistory,enableSearchTrending:this.state.enableSearchTrending,isChild:this.state.isChild})}}t.default=C},901130:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(496486),a=i(889391),r=i(677381),l=i(875913),c=i(733754),d=i(104735),u=i(677524);class g extends r.default{constructor(){super(...arguments),this._onThirdPartyNoticesPressed=()=>{d.default.navigateToThirdPartyNotices(this._getRootViewId())},this._openPrivacy=()=>{l.default.openPrivacy()},this._openFrenchAccessibilityConformance=()=>{l.default.openAccessibilityConformance()},this._openItalianAccessibilityConformance=()=>{l.default.openItalianAccessibilityConformance()},this._openTerms=()=>{l.default.openTerms()}}render(){const e=s.compact([(0,n.jsx)(u.WideButton,{label:c.getString("AboutPanel.ThirdPartyNoticesLabel"),onPressed:this._onThirdPartyNoticesPressed,buttonStyles:this.props.buttonStyles},"third-party-notices-label"),(0,n.jsx)(u.WideButton,{label:c.getString("AboutPanel.PrivacyPolicyLabel"),onPressed:this._openPrivacy,buttonStyles:this.props.buttonStyles},"privacy-policy-label"),this._getAccesibiltyConformanceButton(),this._getItalianAccesibiltyConformanceButton(),(0,n.jsx)(u.WideButton,{label:c.getString("AboutPanel.TermsOfUseLabel"),onPressed:this._openTerms,buttonStyles:this.props.buttonStyles},"terms-of-use-label")]);return(0,n.jsx)(o.View,Object.assign({style:this.props.style},{children:e}))}_getItalianAccesibiltyConformanceButton(){if("it-IT"===c.getLocale())return(0,n.jsx)(u.WideButton,{label:a.default.getConfigSettingsNoSubscription().italianAccessibilityConformanceUrl.label,onPressed:this._openItalianAccessibilityConformance,buttonStyles:this.props.buttonStyles},"it-accessibility")}_getAccesibiltyConformanceButton(){if("fr-FR"===c.getLocale())return(0,n.jsx)(u.WideButton,{label:a.default.getConfigSettingsNoSubscription().frenchAccessibilityConformanceUrl.label,onPressed:this._openFrenchAccessibilityConformance,buttonStyles:this.props.buttonStyles},"fr-accessibility")}}t.default=g},326217:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(787720),s=i(711930),a=i(436237),r=i(733754),l=i(901246),c=i(178735),d=i(285683),u=i(590602),g=i(24576);class h extends g.default{constructor(){super(...arguments),this._onChange=(e,t)=>{this.state.autoDownloadFilesEnabled!==t&&(c.default.setUserPreferencesLocal({autoDownloadFiles:t}),a.track(new l.AutoDownloadFilesToggleSetting(t)))}}_buildState(e,t){return{autoDownloadFilesEnabled:!!c.default.getUserPreferencesLocal().autoDownloadFiles}}render(){const e=r.getString("UserSettingsPanel.AutoDownloadFilesTitle"),t=r.getString("UserSettingsPanel.AutoDownloadFilesSubtitle"),i=[u.default.controlRow,this._themeStyles.dividerBorderColorStyle],a=s.default.combinedAccessibilityLabel(e,t);return(0,n.jsx)(o.default,Object.assign({style:[i,this.props.style],isOn:this.state.autoDownloadFilesEnabled,accessibilityLabel:a,onChange:this._onChange},{children:(0,n.jsx)(d.SwitchLabel,{title:e,subtitle:t})}),"autoDownloadFiles")}}t.default=h},621838:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(667294),s=i(898278),a=i(733754),r=i(436237),l=i(524387),c=i(343108),d=i(590602),u=i(677524),g=i(178735),h=i(901246),p=i(660198),S=i(258187),m=(0,p.WithResub)((e=>{const t=(0,o.useRef)(),{rootViewId:i}=(0,S.useCommonContext)(),p=(0,o.useCallback)((t=>{void 0!==t&&e.autoDownloadFilesMode!==t&&(g.default.setUserPreferencesLocal({autoDownloadFilesMode:t}),r.track(new h.AutoDownloadFilesV2ToggleSetting(t)))}),[e.autoDownloadFilesMode]),m=(0,o.useMemo)((()=>new l.default(p)),[p]),C=a.getString("UserSettingsPanel.AutoDownloadFilesTitle");let y;switch(e.autoDownloadFilesMode){case c.PrefetchMode.Off:y=a.getString("UserSettingsPanel.PicturePrefetchStatusOff");break;case c.PrefetchMode.On:y=a.getString("UserSettingsPanel.PicturePrefetchStatusOn");break;case c.PrefetchMode.Wifi:y=a.getString("UserSettingsPanel.PicturePrefetchStatusWifi")}return(0,n.jsx)(u.WideButton,{ref:t,label:C,labelStyle:d.default.titleMediumSemiLarge,buttonStyles:s.ListItem.small.shortHeightStyle,labelBottom:y,onPressed:e=>{m.show(a.getString("UserSettingsPanel.AutoDownloadFilesTitle"),(()=>t.current),i,e)},hideArrow:!0})}),(e=>{const{autoDownloadFilesMode:t=c.PrefetchMode.Off}=g.default.getUserPreferencesLocal();return Object.assign(Object.assign({},e),{autoDownloadFilesMode:t})}));t.default=m},689928:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(889391),a=i(739119),r=i(711930),l=i(898278),c=i(677381),d=i(904604),u=i(733754),g=i(104735),h=i(22222),p=i(711828),S=i(717719),m=i(677524);class C extends c.default{constructor(){super(...arguments),this._onUserInfoSectionPress=()=>{g.default.navigateToBalanceStatePanel("MySettingsPanel.fromCTA",this._getRootViewId())},this._onSkypeToPhonePress=()=>{g.default.navigateToBalanceStatePanel("MySettingsPanel.fromCombinedSettings",this._getRootViewId())}}_buildState(e,t){const i=d.default.getCreditEntitlement(),n=d.default.getSubscriptions();return{userFormattedBalance:a.getFormattedBalance(i),userSubscriptionsCount:n?o.size(n):0,userEntitlementsSummary:a.getEntitlementCombination(i,n),skypeToPhoneInProfile:s.default.getS4LEntitlementFeatures().SCE.UserServices.Client.Experiments.SkypeToPhoneInProfile}}render(){const e=this.state.userFormattedBalance?u.getString("BalanceStatePanel.SkypeToPhoneAccessibilityText",{amount:this.state.userFormattedBalance,count:this.state.userSubscriptionsCount}):void 0;if("none"===this.state.userEntitlementsSummary&&this.state.skypeToPhoneInProfile){const t=u.getString("Entitlements.SkypeToPhoneTitle"),i=u.getString("Entitlements.AddFundsLabel"),o=u.getString("Entitlements.SkypeToPhoneIntro"),s=r.default.combinedAccessibilityLabel(e||t,i);return(0,n.jsx)(S.default,Object.assign({icon:p.SkypeIcon.SkypeCredit,label:t,labelBottom:o,labelBottomSingleLine:!0,onPress:this._onUserInfoSectionPress,accessibilityLabel:s},{children:(0,n.jsx)(h.default,{buttonSize:l.SXButtonSize.Small,buttonStyle:l.SXButtonStyle.ThemeStroke,title:u.getString("Entitlements.AddFundsLabel"),accessibilityHidden:!0,allowTextWrap:!0})}))}const t=this.state.userSubscriptionsCount>0?u.getString("Entitlements.Subscriptions",{count:this.state.userSubscriptionsCount}):void 0;return(0,n.jsx)(m.WideButton,{icon:p.SkypeIcon.SkypeCredit,label:u.getString("Entitlements.SkypeToPhoneTitle"),labelBottom:t,labelBottomSingleLine:!0,onPressed:this._onSkypeToPhonePress,labelRight:this.state.userFormattedBalance,accessibilityLabel:e,buttonStyles:this.props.buttonStyles},"user-credit-and-subscriptions")}}t.default=C},514425:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(823113),s=i(787720),a=i(570570),r=i(243858),l=i(746096),c=i(436237),d=i(452461),u=i(733754),g=i(178735),h=i(285683),p=i(590602),S=i(24576),m=i(593486),C=i(889391);class y extends S.default{constructor(){super(...arguments),this._onToggleBingLocation=(e,t)=>{t?a.default.displayModal(this._getRootViewId(),{onModalClosed:this._onBingConsentModalClosed}):(c.track(new r.BingPermissionsInteractionEvent(l.BingPermissionsEntryPoint.BingSettings,o.PermissionStatus.Denied)),g.default.setUserPreferencesLocal({bingLocationConsentGranted:!1,locationStoreLastPromptTime:Date.now()}))},this._onShareLocationWithBingRef=e=>{this._shareLocationWithBingRef=e||void 0},this._onBingConsentModalClosed=()=>{this._shareLocationWithBingRef&&this._shareLocationWithBingRef.focusToggle()}}_buildState(e,t){const{enableMagicBot:i}=C.default.getS4LMessagingFeatures();return{bingEnabled:!!d.default.getBingIntegration()||i,bingLocationEnabled:!!g.default.getUserPreferencesLocal().bingLocationConsentGranted,isChild:m.default.isChild()}}render(){const e=u.getString("UserSettingsPanel.BingLocation");return this.state.isChild||!this.state.bingEnabled?null:(0,n.jsx)(s.default,Object.assign({ref:this._onShareLocationWithBingRef,style:[p.default.controlRow,this._themeStyles.dividerBorderColorStyle],isOn:this.state.bingLocationEnabled,accessibilityLabel:e,onChange:this._onToggleBingLocation},{children:(0,n.jsx)(h.SwitchLabel,{title:e})}),"bingLocationEnabled")}}t.default=y},279807:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(787720),s=i(711930),a=i(647662),r=i(733754),l=i(46929),c=i(18078),d=i(285683),u=i(590602),g=i(478262),h=i(24576),p=i(172758);class S extends h.default{constructor(){super(...arguments),this._onChange=(e,t)=>{l.default.setCallNotificationsWhileDNDEnabled(t)}}_buildState(e,t){const i=p.default.getFullUserProfileByMri(c.default.getSkypeMri());return{callNotificationsWhileDNDEnabled:!!l.default.getCallNotificationsWhileDNDEnabled(),gender:i&&i.gender||g.eGender.Unspecified}}render(){const e=r.getString("UserSettingsPanel.CallNotificationsDuringDNDLabel"),t=r.getString("UserSettingsPanel.CallNotificationsDuringDNDSecondary",{gender:a.getLocalizeParamForGender(this.state.gender)});return(0,n.jsx)(o.default,Object.assign({style:[u.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.callNotificationsWhileDNDEnabled,accessibilityLabel:s.default.combinedAccessibilityLabel(e,t),onChange:this._onChange},{children:(0,n.jsx)(d.SwitchLabel,{title:e,subtitle:t})}),"callNotificationsDuringDND")}}t.default=S},730723:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(787720),s=i(711930),a=i(647662),r=i(733754),l=i(232638),c=i(46929),d=i(18078),u=i(285683),g=i(590602),h=i(478262),p=i(24576),S=i(172758);class m extends p.default{constructor(){super(...arguments),this._onChange=(e,t)=>{c.default.setChatNotificationsWhileDNDEnabled(t)}}_buildState(e,t){const i=S.default.getFullUserProfileByMri(d.default.getSkypeMri());return{chatNotificationsWhileDNDEnabled:!!c.default.getChatNotificationsWhileDNDEnabled(),gender:i&&i.gender||h.eGender.Unspecified,enableChatNotifications:l.areNotificationsEnabled()}}render(){const e=r.getString("UserSettingsPanel.ChatNotificationsDuringDNDLabel"),t=r.getString("UserSettingsPanel.ChatNotificationsDuringDNDSecondary",{gender:a.getLocalizeParamForGender(this.state.gender)});return(0,n.jsx)(o.default,Object.assign({style:[g.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.chatNotificationsWhileDNDEnabled,accessibilityLabel:s.default.combinedAccessibilityLabel(e,t),onChange:this._onChange,disable:!this.state.enableChatNotifications},{children:(0,n.jsx)(u.SwitchLabel,{title:e,subtitle:t})}),"chatNotificationsDuringDND")}}t.default=m},102737:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=(i(496486),i(516778)),s=i(889391),a=i(677381),r=(i(746096),i(436237)),l=(i(540522),i(733754)),c=(i(494109),i(104735),i(330124)),d=i(393818),u=i(590602),g=i(711828),h=i(677524);class p extends a.default{constructor(){super(...arguments),this._onPressCloseAccount=()=>{{r.track(new d.CloseMyAccountInfoLinkClicked);const e=`${this.state.closeMyAccountWebUrl}?setlang=${l.getLocale()}`;return void o.Linking.openUrl(e)}}}_buildState(e,t){const i=s.default.getConfigSettings().profileCard;return{closeMyAccountEndUrl:i.closeMyAccountEndUrl,closeMyAccountUrl:i.closeMyAccountUrl,closeMyAccountWebUrl:i.closeMyAccountWebUrl,isUsingStackNavigation:c.default.isUsingStackNavigationContext()}}render(){return(0,n.jsx)(h.WideButton,{icon:g.SkypeIcon.Cancel,label:l.getString("UserSettingsPanel.CloseAccountLabel"),labelStyle:u.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,labelBottom:l.getString("UserSettingsPanel.CloseAccountDescription"),onPressed:this._onPressCloseAccount},"closeAccountButton")}}t.default=p},162168:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(787720),a=i(967877),r=i(915877),l=i(733754),c=i(882052),d=i(793003),u=i(285683),g=i(590602),h=i(24576),p=(0,r.lazyProperties)({noBorder:()=>o.Styles.createViewStyle({borderBottomWidth:0})});class S extends h.default{constructor(){super(...arguments),this._onChangeListMode=(e,t)=>{this.state.rowSize===d.RowSize.Compact||this.state.rowSize===d.RowSize.ExtraCompact?c.default.setRowSizeToDefault():c.default.setRowSizeToCompact(!0),this.props.onChangeListMode&&this.props.onChangeListMode()},this._onChangeAvatarMode=(e,t)=>{const i=this.state.rowSize===d.RowSize.ExtraCompact;c.default.setRowSizeToCompact(i)}}_buildState(e,t){return{rowSize:c.default.recentRowSizeAndChanges()}}render(){const e=[g.default.controlRow,this.props.buttonStyles],t=this.state.rowSize===d.RowSize.Compact||this.state.rowSize===d.RowSize.ExtraCompact,i=l.getString("ColorThemeDialog.EnableCompactLayoutIcons"),a=[...e];this.props.hideBottomBorder?a.push(p.noBorder):a.push(this._themeStyles.dividerBorderColorStyle);const r=(0,n.jsx)(s.default,Object.assign({style:a,isOn:this.state.rowSize===d.RowSize.Compact,accessibilityLabel:i,onChange:this._onChangeAvatarMode,disable:!t},{children:(0,n.jsx)(u.SwitchLabel,{title:i,disabled:!t})}),"enableCompactLayoutIcons"),c=[...e];!this.props.hideBottomBorder||r?c.push(this._themeStyles.dividerBorderColorStyle):c.push(p.noBorder);const h=l.getString("ColorThemeDialog.EnableCompactLayout");return(0,n.jsxs)(o.View,{children:[(0,n.jsx)(u.SectionTitle,{title:l.getString("ColorThemeDialog.SidebarUpper"),titleStyles:this.props.titleStyles}),this._getLastAuthorAvatarToggle(),(0,n.jsx)(s.default,Object.assign({style:c,isOn:t,accessibilityLabel:h,onChange:this._onChangeListMode},{children:(0,n.jsx)(u.SwitchLabel,{title:h})}),"enableCompactLayout"),r]})}_getLastAuthorAvatarToggle(){return(0,n.jsx)(a.default,{style:this.props.buttonStyles,forceTurnOff:this.state.rowSize===d.RowSize.Compact||this.state.rowSize===d.RowSize.ExtraCompact})}}t.default=S},758046:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(787720),s=i(711930),a=i(733754),r=i(178735),l=i(285683),c=i(590602),d=i(24576);class u extends d.default{constructor(){super(...arguments),this._onChangeAllowHugeEmoticons=(e,t)=>{r.default.setUserPreferencesLocal({allowHugeEmoticons:t})}}_buildState(e,t){return{allowHugeEmoticons:!!r.default.getUserPreferencesLocal().allowHugeEmoticons}}render(){const e=a.getString("UserSettingsPanel.DisplayLargeEmoticons"),t=a.getString("UserSettingsPanel.DisplayLargeEmoticonsSubtitle");return(0,n.jsx)(o.default,Object.assign({style:[c.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.allowHugeEmoticons,accessibilityLabel:s.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeAllowHugeEmoticons},{children:(0,n.jsx)(l.SwitchLabel,{title:e,subtitle:t})}),"allowHugeEmoticons")}}t.default=u},180039:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(787720),s=i(711930),a=i(733754),r=i(46929),l=i(285683),c=i(590602),d=i(24576);class u extends d.default{constructor(){super(...arguments),this._onDisplayUrlPreviewsEnabled=(e,t)=>{this.state.displayUrlPreviewsEnabled!==t&&r.default.setDisplayUrlPreviewsEnabled(t)}}_buildState(e,t){return{displayUrlPreviewsEnabled:!!r.default.getDisplayUrlPreviews()}}render(){const e=a.getString("UserSettingsPanel.DisplayUrlPreviews"),t=a.getString("UserSettingsPanel.DisplayUrlPreviewsSubtitle"),i=[c.default.controlRow,this._themeStyles.dividerBorderColorStyle];return(0,n.jsx)(o.default,Object.assign({style:[i,this.props.style],isOn:this.state.displayUrlPreviewsEnabled,accessibilityLabel:s.default.combinedAccessibilityLabel(e,t),onChange:this._onDisplayUrlPreviewsEnabled},{children:(0,n.jsx)(l.SwitchLabel,{title:e,subtitle:t})}),"displayUrlPreviews")}}t.default=u},705763:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(787720),a=i(147204),r=i(677381),l=i(797136),c=i(759799),d=i(746096),u=i(110117),g=i(436237),h=i(915877),p=i(733754),S=i(178735),m=i(46929),C=i(104735),y=i(735426),f=i(285683),b=i(590602),_=i(711828),v=i(581760),T=i(24576),P=i(853374),k=(0,h.lazyProperties)({togglePadding:()=>o.Styles.createViewStyle({paddingBottom:10}),iconPadding:()=>o.Styles.createViewStyle({padding:10})}),A="E911LocationConsentConfirmationModal";class I extends T.default{constructor(){super(...arguments),this._onToggleRef=e=>{this._toggleRef=e||void 0},this._onToggleChange=(e,t)=>{if(t)if(m.default.isE911Acknowledged())S.default.setE911LocationConsentGranted(!0),g.track(new y.E911LocationConsentEvent(!0)),c.default.updateLocationWithPermission(d.LocationUpdateReason.E911ConsentUpdate);else{const e=P.default.newCauseId();g.log(d.LogTraceArea.Navigation,"E911LocationConsentToggle._onToggleChange, causeId: "+e),C.default.navigateToE911AcknowledgementPanel(e,this._getRootViewId(),this._onAcknowledgementPanelComplete,!0)}else a.default.showModal((0,n.jsx)(w,{onClose:this._onConfirmationModalClose}),A,{rootViewId:this._getRootViewId()})},this._onAcknowledgementPanelComplete=()=>{const e=P.default.newCauseId();g.log(d.LogTraceArea.Navigation,"E911LocationConsentToggle._onAcknowledgementPanelComplete, causeId: "+e),C.default.goBack(e,this._getContext()),S.default.setE911LocationConsentGranted(!0),c.default.updateLocationWithPermission(d.LocationUpdateReason.E911ConsentUpdate)},this._onConfirmationModalClose=()=>{this._toggleRef&&this._toggleRef.focusToggle()}}_buildState(e,t){return{isConsentGranted:!!S.default.isE911LocationConsentGranted()}}render(){const e=p.getString("UserSettingsPanel.E911LocationConsentToggleLabel"),t=p.getString("UserSettingsPanel.E911LocationConsentToggleExplanation"),i=e+", "+t;return(0,n.jsx)(s.default,Object.assign({ref:this._onToggleRef,style:[b.default.controlRow,this._themeStyles.dividerBorderColorStyle,k.togglePadding],isOn:this.state.isConsentGranted,accessibilityLabel:i,onChange:this._onToggleChange},{children:(0,n.jsx)(f.SwitchLabel,{title:e,subtitle:t})}))}}t.default=I;class w extends r.default{constructor(){super(...arguments),this._onOkButtonClick=()=>{S.default.setE911LocationConsentGranted(!1),g.track(new y.E911LocationConsentEvent(!1))}}render(){const e=(0,n.jsx)(u.default,{size:_.IconSize.size67,color:v.Color.gray300,icon:_.SkypeIcon.Location,style:k.iconPadding});return(0,n.jsx)(l.default,{dialogId:A,title:p.getString("UserSettingsPanel.E911LocationConsentConfirmationTitle"),description:p.getString("UserSettingsPanel.E911LocationConsentConfirmationText"),iconView:e,okButtonLabel:p.getString("UserSettingsPanel.E911LocationConsentConfirmationButtonTitle"),onOkButtonClick:this._onOkButtonClick,cancelButtonLabel:p.getString("Global.CancelLabel"),onModalClosed:this.props.onClose})}}},617924:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(677381),s=i(733754),a=i(104735),r=i(677524);class l extends o.default{constructor(){super(...arguments),this._onPress=()=>{a.default.navigateToTranslationSettingsPanel(!1,this._getContext())}}render(){return(0,n.jsx)(r.WideButton,{buttonStyles:this.props.buttonStyles,label:s.getString("UserSettingsPanel.TranslationSettingsTitle"),onPressed:this._onPress})}}t.default=l},493620:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(705465),s=i(667294),a=i(458666),r=i(677524),l=i(619675),c=i(711930),d=(i(680837),i(590602)),u=o.StyleSheet.create({buttonStyle:{marginBottom:14}});t.default=(0,s.memo)((({label:e,captionText:t,onPress:i,activeLabel:s,hideDivider:g,buttonStyles:h})=>{const p=c.default.linkAccessibilityInfo(t||"");return(0,n.jsxs)(o.View,Object.assign({style:u.buttonStyle},{children:[(0,n.jsx)(r.WideButton,{buttonStyles:h,label:e||"",accessibilityLabel:e,onPressed:i,labelRight:a.getShortLanguageTitle(s||""),hideDivider:g}),(0,n.jsx)(o.View,Object.assign({accessibilityLabel:p.label},{children:(0,n.jsx)(l.Caption,Object.assign({style:d.default.subtitleMediumSemiLarge},{children:t}))}))]}))}))},967877:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(787720),s=i(711930),a=i(436237),r=i(733754),l=i(901246),c=i(178735),d=i(285683),u=i(590602),g=i(24576);class h extends g.default{constructor(){super(...arguments),this._onChange=(e,t)=>{c.default.setUserPreferencesLocal({lastMessageAuthorAvatarEnabled:t}),a.track(new l.LastMessageAuthorAvatarToggleSetting(t))}}_buildState(){return{lastMessageAuthorAvatarEnabled:c.default.getLastMessageAuthorAvatarSwitchedOn()}}render(){const e=r.getString("UserSettingsPanel.LastMessageAuthorAvatarToggleLabel");return(0,n.jsx)(o.default,Object.assign({style:[u.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.lastMessageAuthorAvatarEnabled&&!this.props.forceTurnOff,accessibilityLabel:s.default.combinedAccessibilityLabel(e),onChange:this._onChange,disable:this.props.forceTurnOff},{children:(0,n.jsx)(d.SwitchLabel,{title:e})}),"lastMessageAuthorAvatar")}}t.default=h},414951:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(677381),a=i(733754),r=i(104735),l=i(590602),c=i(677524);class d extends s.default{constructor(){super(...arguments),this._onPressManageBlockedUsers=()=>{r.default.navigateToBlockedUsersList(this._getRootViewId())},this._onPressManageConnectedUsers=()=>{r.default.navigateToConnectedUsersList(this._getRootViewId())}}render(){return(0,n.jsxs)(o.View,{children:[this._getManageConnectedContactsButton(),this._getBlockedContactsButton()]})}_getManageConnectedContactsButton(){return(0,n.jsx)(c.WideButton,{label:a.getString("UserSettingsPanel.ConnectedContactsTitle"),labelStyle:l.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,onPressed:this._onPressManageConnectedUsers},"connectedUsers")}_getBlockedContactsButton(){return(0,n.jsx)(c.WideButton,{label:a.getString("UserSettingsPanel.BlockedContactsTitle"),labelStyle:l.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,onPressed:this._onPressManageBlockedUsers},"blockedUsers")}}t.default=d},21725:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(677381),s=i(733754),a=i(104735),r=i(49140),l=i(590602),c=i(677524);class d extends o.default{constructor(){super(...arguments),this._onPress=()=>{a.default.navigateToManageSearchInfoPanel(r.ManageSearchOrigin.ApplicationSettings,this._getRootViewId())}}render(){const e=s.getString("ManageSearchInfoPanel.PanelTitleContactsPrivacy");return(0,n.jsx)(c.WideButton,{label:e,labelStyle:l.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,onPressed:this._onPress},"manageSearchInfo")}}t.default=d},532932:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(787720),s=i(711930),a=i(746096),r=i(436237),l=i(647662),c=i(733754),d=i(46929),u=i(18078),g=i(347922),h=i(285683),p=i(590602),S=i(478262),m=i(24576),C=i(172758);class y extends m.default{constructor(){super(...arguments),this._onChange=(e,t)=>{d.default.setNotifyOnPresenceChangeEnabled(t),r.track(new g.PresenceChangeNotificationToggleSetting(t)),r.log(a.LogTraceArea.PresenceChangeNotification,"Setting notify on presence change, enabled="+t)}}_buildState(e,t){const i=C.default.getFullUserProfileByMri(u.default.getSkypeMri());return{notifyOnPresenceChangeEnabled:!!d.default.getNotifyOnPresenceChangeEnabled(),gender:i&&i.gender||S.eGender.Unspecified}}render(){const e=c.getString("UserSettingsPanel.NotifyOnPresenceChangeLabel"),t=c.getString("UserSettingsPanel.NotifyOnPresenceChangeSecondary",{gender:l.getLocalizeParamForGender(this.state.gender)});return(0,n.jsx)(o.default,Object.assign({style:[p.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.notifyOnPresenceChangeEnabled,accessibilityLabel:s.default.combinedAccessibilityLabel(e,t),onChange:this._onChange},{children:(0,n.jsx)(h.SwitchLabel,{title:e,subtitle:t})}),"notifyOnPresenceChange")}}t.default=y},426020:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(667294),s=i(733754),a=i(787720),r=i(285683),l=i(711930),c=i(46929),d=i(590602),u=i(600212),g=i(660198);t.default=(0,g.WithResub)((0,o.memo)((function(e){const{themeStyles:t}=(0,u.useSkypeTheme)(),{oldFriendBackNotificationEnabled:i}=e,g=s.getString("UserSettingsPanel.OldFriendBackNotificationLabel"),h=s.getString("UserSettingsPanel.OldFriendBackNotificationSecondary"),p=(0,o.useCallback)(((e,t)=>{c.default.setOldFriendBackNotificationEnabled(t)}),[]);return(0,n.jsx)(a.default,Object.assign({style:[d.default.controlRow,t.dividerBorderColorStyle],isOn:i,accessibilityLabel:l.default.combinedAccessibilityLabel(g,h),onChange:p},{children:(0,n.jsx)(r.SwitchLabel,{title:g,subtitle:h})}),"OldFriendBackNotificationToggleSwitch")})),(e=>{const t=c.default.getOldFriendBackNotificationEnabled();return Object.assign(Object.assign({},e),{oldFriendBackNotificationEnabled:t})}))},206879:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(787720),s=i(711930),a=i(436237),r=i(733754),l=i(901246),c=i(178735),d=i(285683),u=i(590602),g=i(24576);class h extends g.default{constructor(){super(...arguments),this._onChange=(e,t)=>{c.default.setUserPreferencesLocal({pasteAsQuotesEnabled:t}),a.track(new l.PasteAsQuoteToggleSetting(t))}}_buildState(){return{pasteAsQuotesEnabled:c.default.getUserPreferencesLocal().pasteAsQuotesEnabled}}render(){const e=r.getString("UserSettingsPanel.PasteAsQuotesToggleLabel");return(0,n.jsx)(o.default,Object.assign({style:[u.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.pasteAsQuotesEnabled,accessibilityLabel:s.default.combinedAccessibilityLabel(e),onChange:this._onChange},{children:(0,n.jsx)(d.SwitchLabel,{title:e})}),"pasteAsQuote")}}t.default=h},591426:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(889391),s=i(898278),a=i(436237),r=i(733754),l=i(901246),c=i(178735),d=i(524387),u=i(590602),g=i(24576),h=i(677524);class p extends g.default{constructor(){super(...arguments),this._onChange=e=>{this._prefetchOptionsMenu.show(r.getString("UserSettingsPanel.PicturePrefetchTitle"),(()=>this._wideButton),this._getRootViewId(),e)},this._handleModeChange=e=>{void 0!==e&&this.state.prefetchStatus!==e&&(c.default.setUserPreferencesLocal({picturePrefetchMode:e}),a.track(new l.PicturePrefetchToggleSetting(e)))},this._onRefWideButton=e=>{this._wideButton=e||void 0}}_buildState(e,t){t&&(this._prefetchOptionsMenu=new d.default(this._handleModeChange));return{prefetchStatus:c.default.getUserPreferencesLocal().picturePrefetchMode||o.default.getS4LCMCFeatures().picturePrefetch.status}}render(){const e=r.getString("UserSettingsPanel.PicturePrefetchTitle");let t;switch(this.state.prefetchStatus){case"Off":t=r.getString("UserSettingsPanel.PicturePrefetchStatusOff");break;case"On":t=r.getString("UserSettingsPanel.PicturePrefetchStatusOn");break;case"Wifi":t=r.getString("UserSettingsPanel.PicturePrefetchStatusWifi")}return(0,n.jsx)(h.WideButton,{ref:this._onRefWideButton,label:e,labelStyle:u.default.titleMediumSemiLarge,buttonStyles:s.ListItem.small.shortHeightStyle,labelBottom:t,onPressed:this._onChange,hideArrow:!0,treatAsLink:!1},"manageProfile")}}t.default=p},176943:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(787720),s=i(889391),a=i(436237),r=i(733754),l=i(901246),c=i(178735),d=i(285683),u=i(590602),g=i(24576),h=i(343108);class p extends g.default{constructor(){super(...arguments),this._onChange=(e,t)=>{if(this.state.prefetchEnabled!==t){const e=t?h.PrefetchMode.On:h.PrefetchMode.Off;c.default.setUserPreferencesLocal({picturePrefetchMode:e}),a.track(new l.PicturePrefetchToggleSetting(e))}}}_buildState(e,t){return{prefetchEnabled:"Off"!==(c.default.getUserPreferencesLocal().picturePrefetchMode||s.default.getS4LCMCFeatures().picturePrefetch.status)}}render(){const e=r.getString("UserSettingsPanel.PicturePrefetchTitle");return(0,n.jsx)(o.default,Object.assign({style:[u.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.prefetchEnabled,accessibilityLabel:e,onChange:this._onChange},{children:(0,n.jsx)(d.SwitchLabel,{title:e})}),"autoDownloadFiles")}}t.default=p},495224:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(677381),s=i(733754),a=i(104735),r=i(590602),l=i(677524);class c extends o.default{constructor(){super(...arguments),this._onPress=()=>{a.default.navigateToProfilePicturePanel(this._getRootViewId())}}render(){return(0,n.jsx)(l.WideButton,{icon:this.props.icon,label:s.getString("UserSettingsPanel.ProfilePictureTitle"),labelRight:this.props.showAddPhotoLabel?s.getString("UserSettingsPanel.AddPhotoLabel"):void 0,labelStyle:r.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,onPressed:this._onPress},"profilePicturePrivacy")}}t.default=c},931524:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(787720),s=i(711930),a=i(733754),r=i(46929),l=i(330124),c=i(285683),d=i(590602),u=i(24576);class g extends u.default{constructor(){super(...arguments),this._onChange=(e,t)=>{r.default.setReactionNotificationsEnabled(t)}}_buildState(e,t){return{isUsingStackNavigation:l.default.isUsingStackNavigationContext(),reactionNotificationsEnabled:!!r.default.getReactionNotificationsEnabled()}}render(){const e=a.getString("UserSettingsPanel.EnableReactionPushNotifications"),t=a.getString("UserSettingsPanel.EnableReactionPushNotificationsSecondary");return(0,n.jsx)(o.default,Object.assign({style:[d.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.reactionNotificationsEnabled,accessibilityLabel:s.default.combinedAccessibilityLabel(e,t),onChange:this._onChange,disable:this.props.disable},{children:(0,n.jsx)(c.SwitchLabel,{title:e,subtitle:t})}))}}t.default=g},838707:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(787720),s=i(711930),a=i(746096),r=i(436237),l=i(733754),c=i(901246),d=i(178735),u=i(285683),g=i(590602),h=i(640363),p=i(360305),S=i(24576);class m extends S.default{constructor(){super(...arguments),this._onChangeSendMessageWithEnter=(e,t)=>{d.default.setUserPreferencesLocal({sendMessageWithEnter:t}),r.track(new c.SendMessageWithEnterToggleSetting(t))}}_buildState(e,t){return{sendMessageWithEnterEnabled:!!d.default.getUserPreferencesLocal().sendMessageWithEnter}}render(){const e=l.getString("UserSettingsPanel.SendMessageWithEnterToggleLabel"),t=this._getSubtitle();return(0,n.jsx)(o.default,Object.assign({style:[g.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.sendMessageWithEnterEnabled,accessibilityLabel:s.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeSendMessageWithEnter},{children:(0,n.jsx)(u.SwitchLabel,{title:e,subtitle:t})}),"sendMessageWithEnter")}_getSubtitle(){if(p.default.isTabletNoSubscription())return l.getString("UserSettingsPanel.TabletSubtextSendMessageWithEnter");const e=h.default.getPlatformType();return e===a.PlatformType.Windows?this.state.sendMessageWithEnterEnabled?l.getString("UserSettingsPanel.PcSubtextSendMessageWithEnterToggleOn"):l.getString("UserSettingsPanel.PcSubtextSendMessageWithEnterToggleOff"):e===a.PlatformType.OSX||e===a.PlatformType.Linux?this.state.sendMessageWithEnterEnabled?l.getString("UserSettingsPanel.MacSubtextSendMessageWithEnterToggleOn"):l.getString("UserSettingsPanel.MacSubtextSendMessageWithEnterToggleOff"):void 0}}t.default=m},794866:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(787720),a=i(889391),r=i(890239),l=i(711930),c=i(746096),d=i(915877),u=i(540522),g=i(733754),h=i(901246),p=i(46929),S=i(388273),m=i(104735),C=i(827357),y=i(285683),f=i(590602),b=i(359433),_=i(619675),v=i(24576),T=(0,d.lazyProperties)({descriptionRow:()=>o.Styles.createViewStyle({paddingBottom:5,borderBottomWidth:1})});class P extends v.default{constructor(){super(...arguments),this._onReadReceiptsLearnMore=()=>{u.openUrlWithParams({origin:c.BrowserOrigin.ReadReceiptsSettingsDescription,url:a.default.getConfigSettingsNoSubscription().readReceipts.learnMoreLink,rootViewId:this._getRootViewId()})},this._onChangeSendReadReceiptsEnabled=(e,t)=>{this.state.sendReadReceiptsEnabled!==t&&(p.default.setReadReceiptsEnabled(t,h.ReadReceiptsSettingOrigin.UserAction),!t&&this.state.activeConversationId&&m.default.fetchMemberConsumptionHorizon(this.state.activeConversationId))}}_buildState(e,t){return{sendReadReceiptsEnabled:!!p.default.getReadReceiptsEnabled(),sendReadReceiptsOptionDisabled:S.default.getStatus()===r.UserStatus.Hidden,activeConversationId:C.default.getActiveConversationId(this._getRootViewId())}}render(){return this.state.sendReadReceiptsOptionDisabled?(0,n.jsxs)(o.View,Object.assign({style:[this._themeStyles.dividerBorderColorStyle,T.descriptionRow]},{children:[this._renderToggleButton(),this._getDisabledButtonDescription()]})):this._renderToggleButton()}_renderToggleButton(){const e=g.getString("UserSettingsPanel.SendReadReceipts"),t=g.getString("UserSettingsPanel.SendReadReceiptsSubtitle"),i=this.state.sendReadReceiptsOptionDisabled?f.default.controlRowWithDescription:[f.default.controlRow,this._themeStyles.dividerBorderColorStyle];return(0,n.jsx)(s.default,Object.assign({style:[i,this.props.style],isOn:this.state.sendReadReceiptsEnabled,accessibilityLabel:l.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeSendReadReceiptsEnabled,disable:this.state.sendReadReceiptsOptionDisabled},{children:(0,n.jsx)(y.SwitchLabel,{title:e,subtitle:t})}),"sendReadReceipts")}_getDisabledButtonDescription(){const e=g.getString("UserSettingsPanel.SendReadReceiptsLearnMore"),t=(0,n.jsx)(b.default,Object.assign({url:a.default.getConfigSettingsNoSubscription().readReceipts.learnMoreLink,onPress:this._onReadReceiptsLearnMore,textThemeColor:_.TextThemeColor.Secondary,blue:!0},{children:e}),"readReceiptsLearnMoreLink ");return(0,n.jsx)(_.Caption,Object.assign({style:f.default.subtitleMediumSemiLarge},{children:g.getParts("UserSettingsPanel.SendReadReceiptsDisabledComment",{learnMoreLink:t})}),"disabledReadReceiptsComment")}}t.default=P},385822:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(898278),a=i(587134),r=i(746096),l=i(761317),c=i(469382),d=i(136400),u=i(436237),g=i(915877),h=i(733754),p=i(901246),S=i(178735),m=i(590602),C=i(359433),y=i(680837),f=i(619675),b=i(24576),_=i(853374),v=(0,g.lazyProperties)({container:()=>o.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",alignItems:"center",alignSelf:"stretch"}),changeLocationText:()=>o.Styles.createTextStyle({maxWidth:270})});class T extends b.default{constructor(){super(...arguments),this._fallbackPathName="Downloads",this._onLocationLinkPress=e=>{e.preventDefault();const t=_.default.newCauseId();u.log(r.LogTraceArea.FileNode,"SetFileDownloadLocationButton._onLocationLinkPress causeId: "+t),c.openFolderLocation(this.state.fileDownloadPathDesktop)},this._onChangeLocationPress=e=>{e.preventDefault();l.FilePickerUtils.showOpenDialog({properties:["openDirectory"]},(e=>{if(e.path===this.state.fileDownloadPathDesktop&&e.displayName===this.state.fileDownloadDisplayNameDesktop)return;S.default.setFileDownloadPath(e);const t=_.default.newCauseId();u.track(new p.FileDownloadPathDesktopSetting),u.log(r.LogTraceArea.FileNode,"SetFileDownloadLocationButton._onChangeLocationPress causeId: "+t)}))}}_buildState(e,t){const i=S.default.getUserPreferencesLocal();return{fileDownloadPathDesktop:i.fileDownloadPathDesktop||this._fallbackPathName,fileDownloadDisplayNameDesktop:i.fileDownloadDisplayNameDesktop||this._fallbackPathName}}render(){const e=h.getString("UserSettingsPanel.FileDownloadLocationLabel"),t=h.getString("UserSettingsPanel.ChangeFileDownloadLocationButton"),i=e+t,r=(0,n.jsx)(f.RowTitle,Object.assign({colorThemeOverride:this._currentTheme,numberOfLines:2,style:m.default.switchTitleMediumSemiLarge},{children:e}),"title"),l=(0,n.jsx)(C.default,Object.assign({url:"#",blue:!0,onPress:this._onLocationLinkPress},{children:this.state.fileDownloadDisplayNameDesktop}),"keyDownloadPath"),c=h.getParts("UserSettingsPanel.FileDownloadDefaultLocation",{downloadLocationLink:l}),u=(0,n.jsx)(f.Caption,Object.assign({style:m.default.subtitleMediumSemiLarge,numberOfLines:4},{children:c}),"subtitle");return(0,n.jsxs)(o.View,{children:[(0,n.jsxs)(o.View,Object.assign({style:[v.container,s.ListItem.small.shortHeightStyle]},{children:[(0,n.jsxs)(o.View,Object.assign({style:y.default.flexOne},{children:[r,u]})),(0,n.jsx)(d.HoverableButton,Object.assign({style:y.default.noncollapsibleView,accessibilityTraits:[o.Types.AccessibilityTrait.Button,o.Types.AccessibilityTrait.HasPopup],onPress:this._onChangeLocationPress,accessibilityLabel:i},{children:(0,n.jsx)(f.BodyText,Object.assign({size:f.BodyTextSize.SmallDeprecated,style:v.changeLocationText,textThemeColor:f.TextThemeColor.Secondary},{children:t}))}))]})),(0,n.jsx)(a.default,{})]})}}t.default=T},17558:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(217041),a=i(136400),r=i(915877),l=i(733754),c=i(619675),d=(0,r.lazyProperties)({moreButton:()=>o.Styles.createButtonStyle({height:44})});class u extends s.ComponentBase{render(){const e=l.getString("DetailsPanelHeader.ShowMoreTitle");return(0,n.jsx)(o.View,Object.assign({style:this.props.style},{children:(0,n.jsx)(a.HoverableButton,Object.assign({style:d.moreButton,accessibilityLabel:this.props.accessibilityLabel||e,accessibilityTraits:o.Types.AccessibilityTrait.Button,onPress:this.props.onPress},{children:(0,n.jsx)(c.Caption,{children:e})}))}))}}t.default=u},548201:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(787720),r=i(481627),l=i(816402),c=i(72822),d=i(746096),u=i(324393),g=i(436237),h=i(915877),p=i(518460),S=i(941209),m=i(733754),C=i(178735),y=i(104735),f=i(217093),b=i(330124),_=i(328377),v=i(285683),T=i(590602),P=i(581760),k=i(640363),A=i(311010),I=i(711828),w=i(680837),x=i(777806),N=i(619675),M=i(24576),L=i(853374),O=(0,h.lazyProperties)({refreshSyncContainer:()=>s.Styles.createViewStyle({flexGrow:0,flexShrink:1,flexDirection:"row",alignItems:"center",justifyContent:"flex-start"}),customCaptionStyle:()=>s.Styles.createViewStyle({flexGrow:0,flexShrink:1,flexDirection:"row",marginRight:0,marginTop:5}),refreshButtonTitle:()=>s.Styles.createTextStyle({marginHorizontal:5}),refreshButtonContainer:()=>s.Styles.createViewStyle({height:25}),syncContainer:()=>s.Styles.createViewStyle({flex:1,flexDirection:"row",marginTop:5,marginBottom:5,paddingRight:5,height:15}),refreshSyncContainerWithLastSyncTime:()=>s.Styles.createViewStyle({paddingLeft:10}),subtitleContainer:()=>s.Styles.createViewStyle({flex:1,flexDirection:"row"})});class D extends M.default{constructor(){super(...arguments),this._onRefreshPress=e=>{this.setState({isSyncingContacts:!0}),p.default.syncLocalAddressBook(!1,!0),r.ContactsTelemetryHelper.syncABContactsRefreshClicked()},this._onChangeSyncAddressBook=(e,t)=>{const i=L.default.newCauseId();g.log(d.LogTraceArea.Navigation,"SyncAddressBookButton._onChangeSyncAddressBook causeId: "+i),this.state.syncAddressBookEnabled!==t&&(t?this.state.isUsingStackNavigationContext?y.default.navigateToSyncAddressBook({origin:c.DialogNavOrigin.Settings,hideSkipButton:!0,hideCloseButton:!1},void 0,this._getRootViewId()):y.default.navigateToDesktopSettingsGroup(f.SettingsGroup.SyncAddressBook,this._getRootViewId(),i):_.default.setSyncAddressBookPrivacySetting(t))}}_buildState(e,t){const i=C.default.getUserPreferencesLocal().lastAddressbookSyncTime;return{syncAddressBookEnabled:_.default.getSyncAddressBookPrivacySetting(),isUsingStackNavigationContext:b.default.isUsingStackNavigationContext(),lastSyncTime:i,isSyncingContacts:p.default.isFetching(),isRefreshDisabled:!o.isUndefined(i)&&!(Date.now()-i>18e5)}}render(){if(!S.isAddressBookEnabled())return null;let e="";if(this.state.lastSyncTime){const t=l.default.getLastSyncTime(this.state.lastSyncTime);e=m.getString("UserSettingsPanel.SyncAddressBookSubtitle")+t}const t=""!==e,i=s.Styles.createTextStyle({color:this.state.isRefreshDisabled?this._themeColors.secondaryTextColor:P.Color.blue},!1),o=[w.default.noncollapsibleView,O.refreshButtonContainer,t?O.refreshSyncContainerWithLastSyncTime:void 0],r=(0,n.jsx)(u.default,{size:I.IconSize.size12,color:this.state.isRefreshDisabled?this._themeColors.secondaryTextColor:P.Color.blue,icon:I.SkypeIcon.Refresh,title:m.getString("InAppWebBrowser.RefreshTitle"),accessibilityLabel:m.getString("SyncAddressBookDialog.RefreshContacts")+(e?", "+e:""),titleStyle:[A.default.captionFontStyle(this._currentTheme),i,O.refreshButtonTitle],onPress:this._onRefreshPress,style:o,disabled:this.state.isRefreshDisabled}),c=(0,n.jsxs)(s.View,Object.assign({style:[O.subtitleContainer,t?O.refreshSyncContainerWithLastSyncTime:void 0],accessibilityLabel:m.getString("SyncAddressBookDialog.SyncingContacts")},{children:[(0,n.jsx)(s.View,Object.assign({style:O.syncContainer},{children:(0,n.jsx)(x.SyncIndicator,{size:15,color:P.Color.transparent,indicatorColor:this._themeColors.secondaryTextColor,largeIndicator:!0})})),(0,n.jsx)(s.View,Object.assign({style:O.syncContainer},{children:(0,n.jsx)(N.Caption,{children:m.getString("UserSettingsPanel.Syncing")})}))]})),d=this.state.isSyncingContacts?c:r,g=k.default.isElectronOsx()&&this.state.syncAddressBookEnabled?(0,n.jsxs)(s.View,Object.assign({style:O.subtitleContainer},{children:[(0,n.jsx)(N.Caption,Object.assign({style:[T.default.subtitleMediumSemiLarge,O.customCaptionStyle]},{children:e})),(0,n.jsx)(s.View,Object.assign({style:O.refreshSyncContainer},{children:d}))]})):void 0,h=m.getString("UserSettingsPanel.SyncAddressBook");return(0,n.jsx)(s.View,{children:(0,n.jsx)(a.default,Object.assign({style:[T.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.syncAddressBookEnabled,accessibilityLabel:h+(e?", "+e:""),onChange:this._onChangeSyncAddressBook},{children:(0,n.jsxs)(s.View,Object.assign({style:w.default.flexOne},{children:[(0,n.jsx)(v.SwitchLabel,{title:h}),g]}))}),"syncAddressBook")})}}t.default=D},314749:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(436237),a=i(733754),r=i(178735),l=i(46929),c=i(590602),d=i(24576),u=(i(680837),i(49140)),g=i(889391),h=i(711930),p=i(746096),S=i(915877),m=i(540522),C=i(619675),y=i(47447),f=i(677524),b=i(267824),_=(0,S.lazyProperties)({switchStyle:()=>o.Styles.createViewStyle({marginBottom:15})});class v extends d.default{constructor(){super(...arguments),this._onTelemetryConsentToggle=e=>{const t=!this.state.telemetryConsentGiven;l.default.setOptionalTelemetryPreferences({enabled:t,onboardingCompleted:!0}),s.track(new u.SendFullTelemetryEvent(t,u.SendFullTelemetryOrigin.ApplicationSettings))},this._onLearnMoreLinkPress=()=>{m.openUrlWithParams({origin:p.BrowserOrigin.TelemetryConsentSettingsDescription,url:g.default.getConfigSettingsNoSubscription().telemetryInfoUrl.url,rootViewId:this._getRootViewId()})}}_buildState(e,t){return{telemetryConsentGiven:r.default.shouldSendOptionalTelemetryData(),telemetryInfoUrl:g.default.getConfigSettingsNoSubscription().telemetryInfoUrl.url}}render(){const e=a.getString("UserSettingsPanel.TelemetryConsentSwitch"),t=a.getString("UserSettingsPanel.TelemetryConsentSwitchLearnMoreLinkText"),i=this._getLearnMoreLink(),s=a.getParts("UserSettingsPanel.TelemetryConsentSwitchDescription",{learnMoreLink:i}),r=h.default.linkAccessibilityInfo(a.getString("UserSettingsPanel.TelemetryConsentSwitchDescription",{learnMoreLink:t}));return(0,n.jsxs)(o.View,Object.assign({style:_.switchStyle},{children:[(0,n.jsx)(f.WideButton,{label:e,accessibilityLabel:e,labelRight:this._getConsentValue(),onPressed:this._onTelemetryConsentToggle,labelNumberOfLines:3,disabled:!y.UICapabilities.telemetryConsentOptOutSupported(),showFullOpacityWhenDisabled:!0,hideDivider:!0}),(0,n.jsx)(o.View,Object.assign({accessibilityLabel:r.label,accessibilityTraits:r.traits,importantForAccessibility:void 0,onPress:void 0},{children:(0,n.jsx)(C.Caption,Object.assign({style:c.default.subtitleMediumSemiLarge},{children:s}))}))]}),"diagnosticInfoPanel")}_getLearnMoreLink(){return(0,n.jsx)(b.AccessibleLink,Object.assign({url:this.state.telemetryInfoUrl,textElement:C.Caption,correctiveMargin:-3},{children:a.getString("Global.LearnMore")}),"telemetryInfo")}_getConsentValue(){return this.state.telemetryConsentGiven?a.getString("CallingSettingsPanel.Enabled"):a.getString("CallingSettingsPanel.Disabled")}}t.default=v},311506:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(516778),a=i(667294),r=i(787720),l=i(711930),c=i(436237),d=i(915877),u=i(733754),g=i(451096),h=i(178735),p=i(285683),S=i(590602),m=(0,d.lazyProperties)({noBorder:()=>s.Styles.createViewStyle({borderBottomWidth:0})});t.default=(0,o.withResubAutoSubscriptions)((()=>{const e=h.default.getTodayTabToggledButtonSwitchedOn(),t=u.getString("UserSettingsPanel.EnableTodayTab"),i=u.getString("UserSettingsPanel.EnableTodayTabDescription"),o=(0,a.useCallback)(((e,t)=>{h.default.setUserPreferencesLocal({todayTabToggleButtonEnabled:t}),c.track(new g.TodayTabToggleSetting(t))}),[]);return(0,n.jsx)(r.default,Object.assign({style:[S.default.controlRow,m.noBorder],isOn:e,accessibilityLabel:l.default.combinedAccessibilityLabel(t,i),onChange:o},{children:(0,n.jsx)(p.SwitchLabel,{title:t,subtitle:i})}),"lastMessageAuthorAvatar")}))},876448:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(667294),s=i(787720),a=i(711930),r=i(733754),l=i(46929),c=i(285683),d=i(590602),u=i(660198);t.default=(0,u.WithResub)((function({isEnabled:e}){const t=r.getString("UserSettingsPanel.EnableToneRewrite"),i=r.getString("UserSettingsPanel.EnableToneRewriteDescription"),u=(0,o.useCallback)(((e,t)=>{l.default.setToneRewriteSuggestionsEnabled(t)}),[]);return(0,n.jsx)(s.default,Object.assign({style:[d.default.controlRow,d.default.controlRowWithNoBorder],isOn:e,accessibilityLabel:a.default.combinedAccessibilityLabel(t,i),onChange:u},{children:(0,n.jsx)(c.SwitchLabel,{title:t,subtitle:i})}))}),(()=>({isEnabled:l.default.getToneRewriteSuggestionsEnabled()})))},975384:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(667294),a=i(787720),r=i(711930),l=i(915877),c=i(733754),d=i(178735),u=i(285683),g=i(590602),h=(0,l.lazyProperties)({noBorder:()=>o.Styles.createViewStyle({borderBottomWidth:0})});t.default=function(){const e=c.getString("UserSettingsPanel.EnableWeatherInHeader"),t=c.getString("UserSettingsPanel.EnableWeatherInHeaderDescription"),[i,o]=(0,s.useState)(!!d.default.getWeatherIconToggledButtonSwitchedOn()),l=(0,s.useCallback)(((e,t)=>{o(t),d.default.setUserPreferencesLocal({weatherIconToggleButtonEnabled:t})}),[]);return(0,n.jsx)(a.default,Object.assign({style:[g.default.controlRow,h.noBorder],isOn:i,accessibilityLabel:r.default.combinedAccessibilityLabel(e,t),onChange:l},{children:(0,n.jsx)(u.SwitchLabel,{title:e,subtitle:t})}),"lastMessageAuthorAvatar")}},131237:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(889391),s=i(458666),a=i(832182),r=i(733754),l=i(46929),c=i(24576),d=i(104735),u=i(493620),g="default";class h extends c.default{constructor(){super(...arguments),this._onPress=()=>{d.default.navigateToSpokenLanguagePicker(!1,this._getRootViewId(),!1,void 0)},this._getSelectedItemDefaultText=()=>{var e;return null!==(e=this.props.selectOptionText)&&void 0!==e?e:r.getString("CallSubtitleToast.SpokenLanguageDropdownOptionDefaultText")},this._getSelectedItemLabel=()=>{var e;return(null===(e=this.state.items.find((e=>e.value===this.state.spokenLanguageLocale)))||void 0===e?void 0:e.label)||this._getSelectedItemDefaultText()},this._isSelected=e=>e===this.state.spokenLanguageLocale}_buildState(e){const t=o.default.getS4LCMCFeatures().callTranslatorBotConfig.languageSupport.speech,i=r.getLanguageFromLocale();return{items:[...t].sort(((e,t)=>{const n=this._getLanguageShortNameFromLocale(e),o=this._getLanguageShortNameFromLocale(t);return n.localeCompare(o,i)})).map((e=>{const t=s.getLanguageTitle(e);return""!==t?{label:t,value:e}:void 0})).filter((e=>void 0!==e)),spokenLanguageLocale:e.showSelectOption?g:l.default.getCallTranslatorBotSpokenLanguageLocale()}}render(){return o.default.getS4LCMCFeaturesNoSubscription().enableNewLanguageSelectors?(0,n.jsx)(u.default,{label:r.getString("LanguageAndTranslationSettingsPanel.SpokenLanguageLabel"),captionText:this._getCaption(),onPress:this._onPress,activeLabel:s.getShortLanguageTitle(this.state.spokenLanguageLocale||g),hideDivider:!0}):(0,n.jsx)(a.default,{id:"spokenLanguagePicker",items:this.state.items,rowTitle:this._getRowTitle(),caption:this._getCaption(),isItemSelected:this._isSelected,onHandleItemSelection:this.props.onHandleMenuCommand,selectedItemLabel:this._getSelectedItemLabel(),style:this.props.style,labelColor:this.props.labelColor})}_getLanguageShortNameFromLocale(e){const t=s.getShortLanguageTitle(e);return null!=t?t:e}_getRowTitle(){return this.props.showRowTitle?r.getString("LanguageAndTranslationSettingsPanel.SpokenLanguageLabel"):void 0}_getCaption(){if(this.props.showCaption)return o.default.getS4LCMCFeaturesNoSubscription().enableMessageTranslation?r.getString("SubtitlesSettingsPanel.SpokenLanguageNewExplanation"):r.getString("LanguageAndTranslationSettingsPanel.SpokenLanguageExplanation")}}t.default=h},35169:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(889391),r=i(547126),l=i(374606),c=i(219784),d=i(410683),u=i(16625),g=i(72416),h=i(898278),p=i(662602),S=i(587134),m=i(139285),C=i(913944),y=i(110117),f=i(436237),b=i(915877),_=i(733754),v=i(706250),T=i(772136),P=i(581760),k=i(711828),A=i(359433),I=i(680837),w=i(619675),x=i(24576),N=(0,b.lazyProperties)({number:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center",marginVertical:10}),numberWithCountry:()=>s.Styles.createViewStyle({flex:1,flexDirection:"row",flexWrap:"wrap",alignItems:"center"}),numberText:()=>s.Styles.createTextStyle({paddingRight:4,paddingBottom:4,lineHeight:20}),numberLabelText:()=>s.Styles.createTextStyle({flex:1,marginBottom:4}),countryLabel:()=>s.Styles.createViewStyle({paddingBottom:4}),countryLabelText:()=>s.Styles.createTextStyle({paddingVertical:2,paddingHorizontal:4,borderRadius:3,lineHeight:16,fontWeight:"bold"}),countryLabelTextHighContrast:()=>s.Styles.createTextStyle({borderWidth:1,borderStyle:"solid"}),capabilityLabel:()=>s.Styles.createViewStyle({flex:1,flexDirection:"row",alignItems:"center",marginTop:2,marginBottom:4}),capabilityLabelText:()=>s.Styles.createTextStyle({flex:1}),capabilityIcon:()=>s.Styles.createViewStyle({marginRight:2})});class M extends x.default{constructor(){super(...arguments),this._mountedRefsMap=new v.default,this._getNumberItem=e=>{const t=this._hasMultipleNumbers(),i=this._isPrimaryNumber(e.id),o=this._isCallerIdCapableNumber(e),a=this._getAccessibilityTraits(e.id),r=this._getAccessibilityLabel(e,i),l=t?m.default:s.View,c=this._getRadioButton(e),d=this._getNumberWithCountry(e),u=this._getNumberLabelByType(e.type),g=this._getCapabilityLabel(e),h=this._getRemoveButton(e);return(0,n.jsxs)(s.View,{children:[(0,n.jsx)(s.View,Object.assign({ref:o?this._mountedRefsMap.onComponentRef(e.id):void 0,style:t&&o?I.default.pointerCursor:void 0,tabIndex:t&&o?0:void 0,onPress:t&&o?t=>{this._onNumberPress(e,t)}:void 0,onKeyPress:t&&o?t=>{this._onNumberKeyPress(e,t)}:void 0,accessibilityTraits:a,accessibilityLabel:r,importantForAccessibility:t?s.Types.ImportantForAccessibility.Yes:void 0},{children:(0,n.jsxs)(l,Object.assign({style:N.number},{children:[c,(0,n.jsxs)(s.View,Object.assign({style:I.default.flexOne},{children:[d,u,g]})),h]}))})),(0,n.jsx)(S.default,{})]},e.id)},this._onLearnMorePress=e=>{e.stopPropagation(),e.preventDefault();const{learnMoreLink:t}=a.default.getS4LCommerceFeaturesNoSubscription().callingSettingsPanel.callerId;s.Linking.openUrl(t)},this._onNumberPress=(e,t)=>{t.stopPropagation(),!this._isPrimaryNumber(e.id)&&this._isCallerIdCapableNumber(e)&&(u.default.setCallerId(e.id),f.track(new g.CallerIdSettingsEvent(g.CallerIdSettingsAction.SetPrimaryNumber,e.type)))},this._onNumberKeyPress=(e,t)=>{p.default.maybeHandleKeyPress(t,(()=>{this._onNumberPress(e,t)}))},this._onNumberRemovePress=(e,t)=>{if(t.stopPropagation(),"mobile"!==e.type)return;const i=_.getString("CallerIdSettingsPanel.RemoveNumberLabel"),n=this._getNumberRemoveMessage(e),o=[{text:_.getString("Global.RemoveLabel"),onPress:()=>this._onNumberRemoveConfirm(e),isSubmit:!0},{text:_.getString("Global.CancelLabel"),isCancel:!0}];c.default.showWithOptions({title:i,dialogAccessibilityTitle:n,message:n,buttons:o,rootViewId:this._getRootViewId()})},this._onNumberRemoveConfirm=e=>{u.default.removeCallerIdNumber(e.id),f.track(new g.CallerIdSettingsEvent(g.CallerIdSettingsAction.RemoveNumber,"mobile"))},this._onNumberPickerKeyPress=e=>{let t=this.state.focusedIndex;switch(e.keyCode){case r.default.UP:case r.default.LEFT:t-=1;break;case r.default.DOWN:case r.default.RIGHT:t+=1}t<0||t>=this._getCallerIdCapableNumbers().length||this.setState({focusedIndex:t})}}_buildState(e,t){var i;return{isCallerIdAutoSelectEnabled:u.default.isCallerIdAutoSelectEnabled(),callerIdNumbers:u.default.getCallerIdNumbers(),callerIdPrimaryNumber:u.default.getCallerIdPrimaryNumber(),callerIdAutoSelectNumbers:u.default.getCallerIdAutoSelectNumbers(),countries:T.default.getCountries(),focusedIndex:(null===(i=this.state)||void 0===i?void 0:i.focusedIndex)||0}}componentDidUpdate(e,t,i){var n;if(super.componentDidUpdate(e,t,i),this.state.focusedIndex!==t.focusedIndex){const e=null===(n=this._getCallerIdCapableNumbers()[this.state.focusedIndex])||void 0===n?void 0:n.id,t=e&&this._mountedRefsMap.ref(e);t&&t.requestFocus()}}render(){const e=this._hasMultipleNumbers();return(0,n.jsx)(s.View,Object.assign({onKeyPress:e?this._onNumberPickerKeyPress:void 0},{children:o.map(this.state.callerIdNumbers,this._getNumberItem)}))}_getRadioButton(e){if(this._hasMultipleNumbers())return(0,n.jsx)(l.default,{isOn:this._isPrimaryNumber(e.id),disable:!this._isCallerIdCapableNumber(e),disableSelectionAnimation:!0})}_getRemoveButton(e){if("mobile"===e.type)return(0,n.jsx)(C.default,{size:k.IconSize.size20,color:this._themeColors.secondaryTextColor,hoverColor:this._themeColors.primaryTextColor,icon:k.SkypeIcon.Delete,title:_.getString("CallerIdSettingsPanel.RemoveNumberLabel"),onPress:t=>{this._onNumberRemovePress(e,t)}})}_getNumberWithCountry(e){const t=this._getNumberTextFormatted(e.number),i=this._getCountryLabelText(e),o=this._isCallerIdCapableNumber(e),a=(0,n.jsx)(w.RowTitle,Object.assign({style:N.numberText,disabled:!o},{children:t}));if(!i)return(0,n.jsx)(s.View,Object.assign({style:N.numberWithCountry},{children:a}));const r=[N.countryLabelText];this._useAccessibleTheme()?(r.push(N.countryLabelTextHighContrast),r.push(s.Styles.createTextStyle({color:this._themeColors.primaryTextColor,borderColor:this._themeColors.primaryTextColor},!1))):r.push(s.Styles.createTextStyle({backgroundColor:P.Color.blueOverlay10,color:this._useDarkTheme()?P.Color.blueMedium:P.Color.blue},!1));const l=(0,n.jsx)(s.View,Object.assign({style:N.countryLabel},{children:(0,n.jsx)(w.Caption,Object.assign({style:r},{children:i}))}));return(0,n.jsxs)(s.View,Object.assign({style:N.numberWithCountry},{children:[a,l]}))}_getNumberTextFormatted(e){return o.startsWith(e,"+")||(e="+"+e),e}_getCountryLabelText(e){if(!this.state.isCallerIdAutoSelectEnabled||!this._isCallerIdCapableNumber(e))return;const t=o.find(this.state.callerIdAutoSelectNumbers,(({id:t})=>t===e.id));if(!t)return;const i=this.state.countries[o.toLower(t.country)];return i?i.countryName:void 0}_getNumberLabelByType(e){const t=this._getNumberLabelTextByType(e);if(t)return(0,n.jsx)(w.Caption,Object.assign({style:N.numberLabelText},{children:t}))}_getNumberLabelTextByType(e){switch(e){case"skypein":return _.getString("CallerIdSettingsPanel.SkypeNumberLabel");case"mobile":return _.getString("CallerIdSettingsPanel.MobileLabel")}}_getCapabilityLabel(e){const t=this._isCallerIdCapableNumber(e);if(!e.smsCapable&&t)return;const i=t?k.SkypeIcon.MobileSmsNew:k.SkypeIcon.CallErrorFilled,o=t?_.getString("CallerIdSettingsPanel.SmsCapableLabel"):_.getParts("CallerIdSettingsPanel.NoCallerIdAvailableLabel",{link:(0,n.jsx)(A.default,Object.assign({url:"#",linkTextStyle:h.LinkTextStyle.Caption,blue:!0,underline:!0,onPress:this._onLearnMorePress},{children:_.getString("Global.LearnMore")}),"learnMore")});return(0,n.jsxs)(s.View,Object.assign({style:N.capabilityLabel},{children:[(0,n.jsx)(y.default,{icon:i,size:k.IconSize.size14,color:this._themeColors.primaryTextColor,style:N.capabilityIcon}),(0,n.jsx)(w.Caption,Object.assign({style:N.capabilityLabelText,textThemeColor:w.TextThemeColor.Primary},{children:o}))]}))}_hasMultipleNumbers(){return o.size(this.state.callerIdNumbers)>1}_isPrimaryNumber(e){var t;return(null===(t=this.state.callerIdPrimaryNumber)||void 0===t?void 0:t.id)===e}_isCallerIdCapableNumber(e){return"mobile"===e.type||"skypein"===e.type&&!!e.callerIdCapable}_getCallerIdCapableNumbers(){return o.filter(this.state.callerIdNumbers,(e=>this._isCallerIdCapableNumber(e)))}_getAccessibilityTraits(e){if(!this._hasMultipleNumbers())return;const t=[s.Types.AccessibilityTrait.CheckBox];return this._isPrimaryNumber(e)&&t.push(s.Types.AccessibilityTrait.Checked),t}_getAccessibilityLabel(e,t){if(!this._hasMultipleNumbers())return;const i=[];i.push(this._getNumberTextFormatted(e.number)),i.push(this._getCountryLabelText(e)),i.push(this._getNumberLabelTextByType(e.type)),e.smsCapable&&i.push(_.getString("CallerIdSettingsPanel.SmsCapableLabel")),this._isCallerIdCapableNumber(e)||i.push(_.getString("CallerIdSettingsPanel.NoCallerIdAvailableAccessibilityLabel"));const n=o.join(o.filter(i,(e=>!!e))," "),s=t?_.getString("FeedbackMechanism.AccLabelCheckboxChecked"):_.getString("FeedbackMechanism.AccLabelCheckboxUnchecked");return _.getString("FeedbackMechanism.AccLabelCheckbox",{checkboxTitle:n,state:s})}_getNumberRemoveMessage(e){const t=this._getNumberTextFormatted(e.number),i=u.default.getCallerIdNumberRemoveType(e.id);if(i===d.CallerIdNumberRemoveType.Disable)return _.getString("CallerIdSettingsPanel.RemoveNumberAndDisableConfirmation",{number:t});if(i===d.CallerIdNumberRemoveType.Replace){const i=u.default.getCallerIdPrimaryNumberAfterRemove(e.id);if(i)return _.getString("CallerIdSettingsPanel.RemoveNumberAndReplaceConfirmation",{number:t,newNumber:this._getNumberTextFormatted(i.number)})}return _.getString("CallerIdSettingsPanel.RemoveNumberConfirmation",{number:t})}}t.default=M},517033:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(148540),r=i(244770),l=i(889391),c=i(329675),d=i(994224),u=i(109520),g=i(709505),h=i(911009),p=i(677381),S=i(746096),m=i(761317),C=i(462937),y=i(753559),f=i(913944),b=i(110117),_=i(436237),v=i(861253),T=i(915877),P=i(733754),k=i(46929),A=i(178735),I=i(104735),w=i(581760),x=i(311010),N=i(711828),M=i(680837),L=i(619675),O=i(24576),D=i(962751),R=i(211276),E=70,B=50;var F;!function(e){e[e.merged=0]="merged",e[e.compact=1]="compact",e[e.full=2]="full",e[e.onboarding=3]="onboarding"}(F||(F={}));const V=[{label:P.getString("AudioVideoSettings.CameraBackgroundReplacementNone"),effectType:a.VideoEffectType.Off,value:S.BackgroundEffect.Off},{label:P.getString("AudioVideoSettings.CameraBackgroundReplacementBlur"),effectType:a.VideoEffectType.BackgroundBlurDefault,value:S.BackgroundEffect.Blur}],U=[c.BING_CATEGORY_NAME],j=(0,T.lazyProperties)({itemButtonWrapper:()=>s.Styles.createViewStyle({overflow:"visible"}),category:()=>s.Styles.createViewStyle({marginBottom:0}),sectionBackgroundReplacementTitle:()=>s.Styles.createTextStyle({marginBottom:10,fontSize:x.default.controlFontSize.tabHeaderSmall}),itemSize:()=>s.Styles.createViewStyle({width:E,height:B}),itemWrapper:()=>s.Styles.createViewStyle({borderRadius:4,borderWidth:1,alignItems:"center",justifyContent:"center",marginBottom:5}),itemContainer:()=>s.Styles.createViewStyle({maxWidth:E,justifyContent:"center",marginBottom:10,marginRight:10}),itemWrapperSelected:()=>s.Styles.createViewStyle({borderColor:w.Color.blue}),categories:()=>s.Styles.createViewStyle({marginBottom:10}),itemsContainerRow:()=>s.Styles.createViewStyle({flexDirection:"row",flexWrap:"wrap",flex:1,marginBottom:5,overflow:"visible"}),bingSettingContainerRow:()=>s.Styles.createViewStyle({flexDirection:"row",flexWrap:"nowrap",alignItems:"stretch",flex:1,borderRadius:3,borderWidth:1,padding:8,marginBottom:15}),bingSettingsWrapper:()=>s.Styles.createViewStyle({flexDirection:"row",flexWrap:"nowrap",alignItems:"stretch",flexGrow:1}),bingSettingsImgContainer:()=>s.Styles.createViewStyle({borderRadius:3,borderWidth:1,alignItems:"center",justifyContent:"center",maxWidth:E,marginRight:8}),bingSettingsTextContainer:()=>s.Styles.createViewStyle({flexGrow:1,marginRight:8,paddingVertical:0,flexDirection:"column",alignItems:"flex-start"}),bingSettingsTextCaptionContainer:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"flex-start"}),bingSettingsTextCaption:()=>s.Styles.createViewStyle({marginTop:8}),bingSettingsTextContainerFont:()=>s.Styles.createTextStyle({fontSize:x.default.controlFontSize.tabHeaderSmall,fontWeight:"bold"}),itemContainerExtraMargin:()=>s.Styles.createViewStyle({marginBottom:100}),itemContainerExtraAndTooltipMargin:()=>s.Styles.createViewStyle({marginBottom:170}),itemLabel:()=>s.Styles.createTextStyle({textAlign:"center"}),removeIconWrapper:()=>s.Styles.createViewStyle({position:"absolute",top:4,right:14,backgroundColor:w.Color.blackOverlay35,borderRadius:N.IconSize.size12/2,borderStyle:"solid",borderWidth:1,borderColor:w.Color.white,alignItems:"center",justifyContent:"center",width:N.IconSize.size12,height:N.IconSize.size12}),blurLabelStyle:()=>s.Styles.createTextStyle({position:"absolute",bottom:0,width:E,paddingVertical:2,backgroundColor:w.Color.blackOverlay35,color:w.Color.white,textAlign:"center",fontSize:11}),bingLabelStyle:()=>s.Styles.createViewStyle({position:"absolute",bottom:0,width:E,paddingTop:2,paddingBottom:1,backgroundColor:w.Color.blackOverlay35,alignContent:"center",alignItems:"center"}),bingCoachmarkStyle:()=>s.Styles.createViewStyle({position:"absolute",top:B}),bingLabelLogoStyle:()=>s.Styles.createViewStyle({width:11,height:16}),itemImageWrapper:()=>s.Styles.createViewStyle({position:"relative"}),GIFIcon:()=>s.Styles.createViewStyle({position:"absolute",bottom:5,left:5}),bingWatermarkStyle:()=>s.Styles.createTextStyle({position:"absolute",flexDirection:"row",alignContent:"center",bottom:0,width:E,paddingBottom:2,paddingHorizontal:4}),itemBingWatermark:()=>s.Styles.createTextStyle({height:10,width:61}),bingArrow:()=>s.Styles.createViewStyle({borderRadius:8,borderWidth:1,padding:3,height:16,width:16,borderColor:w.Color.gray300,alignItems:"center",alignContent:"center"}),bingArrowContainer:()=>s.Styles.createViewStyle({padding:8,marginLeft:8})});class H extends p.default{constructor(){super(...arguments),this._displayVideoIcon=e=>"MP4"===e||"MOV"===e||"GIF"===e,this._createFileUrl=e=>{var t,i;if(!e.imagePath)return;const n=(0,D.getCompressType)(e.imagePath);if(null===(t=e.thumbnail)||void 0===t?void 0:t.data){const t=(0,R.convertRawDataToBlob)(e.thumbnail.data,null===(i=e.thumbnail)||void 0===i?void 0:i.mimeType);this.setState({imageUri:URL.createObjectURL(t),compressFormat:n})}else(0,D.getThumbnailFromImageFilePath)(e.imagePath,E,0,n).then((e=>this.setState({imageUri:e.imageUri,compressFormat:n})))}}componentDidMount(){super.componentDidMount(),this._createFileUrl(this.props.item)}render(){return this.state.imageUri?(0,n.jsxs)(s.View,Object.assign({style:[j.itemImageWrapper,j.itemSize]},{children:[(0,n.jsx)(s.Image,{source:this.state.imageUri,style:j.itemSize,resizeMode:"cover"}),this._displayVideoIcon(this.state.compressFormat)&&(0,n.jsx)(b.default,{style:j.GIFIcon,color:w.Color.white,icon:N.SkypeIcon.VideoFilled,size:N.IconSize.size14})]})):null}}class W extends O.default{constructor(){super(...arguments),this._getGroupedItems=()=>{const{lastUsedBackgroundEffects:e,items:t}=this.state,{true:i,false:n}=o.groupBy(t,(t=>o.includes(e,t.value))),s=l.default.getS4LCMCFeaturesNoSubscription().numberOfVisibleLastUsedEffects;return[...o.slice(o.sortBy(o.filter(n,(e=>o.isNumber(e.order))),(e=>e.order)),0,s-o.size(i)),...null!=i?i:[]]},this._renderContent=()=>{switch(this.state.layoutType){case F.full:return this._renderCategories();case F.compact:const e=[...this.state.cameraEffects,...this._getBingBackgroundsMenuItem(),...o.filter(this.state.items,(e=>o.includes(this.state.lastUsedBackgroundEffects,e.value)&&!o.includes(U,e.category)))];return this._renderList(e,!0,!0,!1);case F.onboarding:const t=[...this.state.cameraEffects,...this._getBingBackgroundsMenuItem(),...o.sortBy(o.filter(this.state.items,(e=>o.isNumber(e.order)&&!o.includes(U,e.category))),(e=>e.order))];return this._renderList(t,!1,!1);case F.merged:default:return this._renderList(this.state.items)}},this._renderCategories=()=>(0,n.jsx)(s.View,Object.assign({style:j.categories},{children:this.state.backgroundCategories.map((e=>{var t;const i=null===(t=this.state.itemsByCategory)||void 0===t?void 0:t[e];return i?(0,n.jsxs)(s.View,Object.assign({style:j.category},{children:[(0,n.jsx)(L.RowTitle,Object.assign({colorThemeOverride:this._currentTheme,style:j.sectionBackgroundReplacementTitle},{children:this._getLocalizedStringByCategory(e)})),this._renderList(i,"myBackgrounds"===e,!1,e===c.BING_CATEGORY_NAME)]}),e):null}))})),this._renderList=(e,t=!0,i=!1,a=!1)=>{const r=a?o.orderBy(e,(e=>e.order)):o.clone(e);return(0,n.jsxs)(s.View,Object.assign({style:j.itemsContainerRow},{children:[r&&r.map((e=>this._renderItem(e))),t&&this._renderAddButton(i),this._renderTooltips()]}))},this._renderItem=e=>{const{isNewBackgroundEffectsLayoutEnabled:t}=this.state,i=[j.itemWrapper,j.itemSize,this._themeStyles.dividerBorderColorStyle],o=[j.itemLabel,x.default.captionFontStyle()];return e.value===this.state.selectedItem&&(i.push(j.itemWrapperSelected),o.push(x.default.selectedCaptionFontStyle())),(0,n.jsxs)(s.View,Object.assign({style:j.itemButtonWrapper},{children:[(0,n.jsxs)(s.Button,Object.assign({accessibilityLabel:e.label,importantForAccessibility:s.Types.ImportantForAccessibility.NoHideDescendants,accessibilityTraits:s.Types.AccessibilityTrait.Button,onPress:t=>{this._onPress(t,e)},style:j.itemContainer},{children:[(0,n.jsx)(s.View,Object.assign({style:i},{children:this._renderItemContent(e)})),!t&&(0,n.jsx)(s.Text,Object.assign({ellipsizeMode:"tail",numberOfLines:1,style:o},{children:y.default.extractFileName(e.label)}))]})),this._renderItemRemove(e)]}),e.value)},this._onBackgroundChangePress=e=>{m.FilePickerUtils.showSingleFilePicker((e=>{const t=null==e?void 0:e.file;if(t){const i=t.path||e.path||void 0,n=C.default.getBackgroundEffectPrefix(i),s={label:t.name,effectType:a.VideoEffectType.BackgroundReplacement,imagePath:i,category:"myBackgrounds",value:n};if(o.some(this.state.items,{value:n}))return;this.state.isVideoBackgroundEffectsEnabled?(0,D.getImageOrVideoThumbnail)(URL.createObjectURL(t),e.extension,E,B).then((e=>{(null==e?void 0:e.rawData)&&(null==e?void 0:e.mimeType)&&(s.thumbnail={data:null==e?void 0:e.rawData,mimeType:null==e?void 0:e.mimeType},this._trackItem(s),this._changeCameraEffect(s))})).catch((()=>{this._trackItem(s),this._changeCameraEffect(s)})):(this._trackItem(s),this._changeCameraEffect(s))}}),this._getRootViewId(),e,{acceptType:this.state.isVideoBackgroundEffectsEnabled?m.FilePickerAcceptType.ImageOrVideo:m.FilePickerAcceptType.Image})},this._navigateToBackgroundEffectsList=()=>{I.default.navigateToBackgroundEffectsSettings(this._getRootViewId())}}_buildState(e,t){const i={},n=C.default.getAllBackgroundEffectsFiles(),s=o.map(n,(({localFileName:e,localUri:t,originalUrl:i,category:n,order:o,thumbnail:s},r)=>({label:e,effectType:a.VideoEffectType.BackgroundReplacement,imagePath:t,value:r,isPredefinedImage:n===c.BING_CATEGORY_NAME||!!i,category:n||(i?"myBackgrounds":"skypebackgroundimage"),order:o,thumbnail:s}))),r=l.default.getS4LCMCFeatures();if(i.isNewBackgroundEffectsLayoutEnabled=r.enableNewBackgroundEffectsLayout,i.isBackgroundEffectsCategoriesEnabled=r.enableBackgroundEffectsCategories,i.isVideoBackgroundEffectsEnabled=r.enableVideoBackgroundEffects,i.backgroundCategories=r.backgroundCategories,i.layoutType=this._getLayoutType(i.isBackgroundEffectsCategoriesEnabled,e.fullList),i.lastUsedBackgroundEffects=A.default.getLastUsedBackgroundEffects(),i.cameraEffects=V,i.items=[...i.cameraEffects,...o.sortBy(s,{isPredefinedImage:!1})],i.itemsByCategory=o.groupBy(s,"category"),i.activeCallId=d.default.CallingStore.getConnectedOrOutgoingAndNotOnHoldCallId(),i.selectedItem=d.default.DeviceStore.getBackgroundEffectType(),i.selectedItem){const e=c.default.getImageIsoDateFromId(i.selectedItem);i.isBingPictureOfDayBgSelected=!!e}else i.isBingPictureOfDayBgSelected=!1;return i.isBingPictureofDayBgTooltipDismissed=k.default.getBingBackgroundsEffectDismissed(),i.isBingPictureOfDayBgLoaded=o.filter(s,(e=>e.category===c.BING_CATEGORY_NAME)).length>0,i}componentDidMount(){super.componentDidMount();const e=this.state.items.filter((e=>e.value===this.state.selectedItem))[0],t=this._getGroupedItems().map((e=>e.value));A.default.setAllLastUsedBackgroundEffects(t),e&&this._changeCameraEffect(e)}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),!(0,v.default)(this.state.items,t.items)||t.selectedItem!==this.state.selectedItem){const e=this.state.items.filter((e=>e.value===this.state.selectedItem))[0];e&&this._changeCameraEffect(e)}}render(){const e=[M.default.flexOne,M.default.overflowVisible];return this.props.isInOnboarding&&(this._isTooltipVisible()?e.push(j.itemContainerExtraAndTooltipMargin):e.push(j.itemContainerExtraMargin)),(0,n.jsx)(s.View,Object.assign({style:e},{children:this._renderContent()}))}_getBingItem(){const e=o.filter(this.state.items,(e=>e.category===c.BING_CATEGORY_NAME));if(0!==e.length)return e[0]}_getBingBackgroundsMenuItem(){const e=l.default.getS4LCMCFeaturesNoSubscription().bingBackgrounds,t=this._getBingItem();return t&&e.showInSettings?[t]:[]}_enableBingBackgroundEffect(){const e=this._getBingItem();e&&this._onPress(void 0,e)}_getBingBackgroundsEffectTooltip(){const e={y:0,x:160,width:E,height:B},t=[{title:P.getString("AudioVideoSettings.BackgroundEffectBingCoachMarkDismiss"),closeOnClick:!0,onClick:e=>{k.default.setBingBackgroundsEffectDismissed(!0),this.setState({isBingPictureofDayBgTooltipDismissed:!0})}},{title:P.getString("AudioVideoSettings.BackgroundEffectBingCoachMarkTurnOn"),closeOnClick:!0,onClick:e=>{this._enableBingBackgroundEffect(),k.default.setBingBackgroundsEffectDismissed(!0),this.setState({isBingPictureofDayBgTooltipDismissed:!0})}}];return(0,n.jsx)(g.default,{id:"bingtooltip",title:P.getString("AudioVideoSettings.BackgroundEffectCategoryBing"),body:[P.getString("AudioVideoSettings.BackgroundEffectBingCoachMarkText")],getElement:()=>{},positions:[h.PopupAnchorPositon.Bottom],anchorAccessibilityLabel:"Title",onPress:this.props.onPress,anchorInfoOverride:e,widthOverride:236,buttonOverrides:t})}_isTooltipVisible(){return!this.state.isBingPictureofDayBgTooltipDismissed&&this.state.isBingPictureOfDayBgLoaded&&(this.state.layoutType===F.compact||this.state.layoutType===F.onboarding)}_renderTooltips(){const e=[];return this._isTooltipVisible()&&e.push(this._getBingBackgroundsEffectTooltip()),e}_renderItemRemove(e){if(!e.isPredefinedImage&&!o.includes([a.VideoEffectType.Off,a.VideoEffectType.BackgroundBlurDefault],e.effectType))return(0,n.jsx)(s.View,Object.assign({style:j.removeIconWrapper},{children:(0,n.jsx)(f.default,{icon:N.SkypeIcon.ClosePanel,color:w.Color.white,hoverColor:w.Color.white,size:N.IconSize.size8,onPress:()=>this._onItemRemove(e.value),title:P.getString("MediaPreview.RemoveItem",{fileName:e.label})})}))}_renderAddButton(e=!1){const{isNewBackgroundEffectsLayoutEnabled:t,isVideoBackgroundEffectsEnabled:i}=this.state,{secondaryBackgroundColorStyle:o,dividerBorderColorStyle:a}=this._themeStyles;return(0,n.jsxs)(s.Button,Object.assign({accessibilityLabel:P.getString("AudioVideoSettings.AddMoreMedia"),onPress:e?this._navigateToBackgroundEffectsList:this._onBackgroundChangePress,style:j.itemContainer},{children:[(0,n.jsx)(s.View,Object.assign({style:[j.itemWrapper,j.itemSize,o,a]},{children:(0,n.jsx)(b.default,{color:this._themeColors.iconDisabledColor,icon:e?N.SkypeIcon.More:N.SkypeIcon.Plus,size:N.IconSize.size18})})),!t&&(0,n.jsx)(s.Text,Object.assign({ellipsizeMode:"tail",numberOfLines:1,style:[j.itemLabel,x.default.captionFontStyle()]},{children:i?P.getString("AudioVideoSettings.AddMedia"):P.getString("AudioVideoSettings.AddImage")}))]}))}_renderItemContent(e){if(e.effectType===a.VideoEffectType.Off)return(0,n.jsx)(b.default,{color:this._themeColors.iconDisabledColor,icon:N.SkypeIcon.PresenceBlocked,size:N.IconSize.size18});if(e.effectType===a.VideoEffectType.BackgroundBlurDefault){const t=(0,n.jsx)(s.Image,{source:r.Collection.OFFICE_BLUR_BACKGROUND,style:j.itemSize,resizeMode:"cover"},"CameraEffectBlurImage"),i=(0,n.jsx)(s.Text,Object.assign({ellipsizeMode:"tail",numberOfLines:1,style:j.blurLabelStyle},{children:y.default.extractFileName(e.label)}),"CameraEffectBlurLabel");return this.state.isNewBackgroundEffectsLayoutEnabled?[t,i]:t}if(e.effectType===a.VideoEffectType.BackgroundReplacement&&e.category===c.BING_CATEGORY_NAME){return[(0,n.jsx)(H,{item:e},"BingImage"),(0,n.jsx)(s.View,Object.assign({style:j.bingLabelStyle},{children:(0,n.jsx)(s.Image,{source:r.Collection.BING_LOGO_SMALL,style:j.bingLabelLogoStyle,resizeMode:"cover"},"CameraEffectBingImage")}),"CameraEffectBingLabel")]}return e.effectType===a.VideoEffectType.BackgroundReplacement?(0,n.jsx)(H,{item:e},"Image-"+e.label):null}_onItemRemove(e){C.default.removeTrackedFile(e),this._setBackgroundEffect(S.BackgroundEffect.Off)}_onPress(e,t){this._changeCameraEffect(t);const i=this._getEffectTypeFromVideoEffect(t.effectType);_.track(new u.BackgroundEffectsSettingsEvent(!!this.state.activeCallId,!!t.isPredefinedImage,i,t.isPredefinedImage?t.label:void 0,t.category))}_getEffectTypeFromVideoEffect(e){switch(e){case a.VideoEffectType.BackgroundReplacement:return S.BackgroundEffect.BackgroundImage;case a.VideoEffectType.BackgroundBlurDefault:return S.BackgroundEffect.Blur;case a.VideoEffectType.Off:default:return S.BackgroundEffect.Off}}_changeCameraEffect(e){e.effectType===a.VideoEffectType.BackgroundReplacement?(this._shouldSaveItemToHistory(e)&&A.default.setLastUsedBackgroundEffects(e.value),this._setBackgroundEffect(e.value)):this._setBackgroundEffect(this._getEffectTypeFromVideoEffect(e.effectType))}_shouldSaveItemToHistory(e){return!o.includes(U,e.category)}_setBackgroundEffect(e){d.default.DeviceStore.setBackgroundEffectType(e)}_trackItem(e){C.default.canTrackFiles()&&e.imagePath&&C.default.addFileInformationForTracking(e.value,e.imagePath,e.label,{category:e.category,thumbnail:e.thumbnail})}_getLocalizedStringByCategory(e){switch(e){case"myBackgrounds":return P.getString("AudioVideoSettings.BackgroundEffectCategoryMyBackgrounds");case"holidays":return P.getString("AudioVideoSettings.BackgroundEffectCategoryHolidays");case"movies":return P.getString("AudioVideoSettings.BackgroundEffectCategoryMovies");case"nature":return P.getString("AudioVideoSettings.BackgroundEffectCategoryNature");case"professional":return P.getString("AudioVideoSettings.BackgroundEffectCategoryProfessional");case"featured":return P.getString("AudioVideoSettings.BackgroundEffectCategoryFeatured");case"new":return P.getString("AudioVideoSettings.BackgroundEffectCategoryNew");case"fun":return P.getString("AudioVideoSettings.BackgroundEffectCategoryFun");case"colors":return P.getString("AudioVideoSettings.BackgroundEffectCategoryColors");case"textures":return P.getString("AudioVideoSettings.BackgroundEffectCategoryTextures");case"cultural":return P.getString("AudioVideoSettings.BackgroundEffectCategoryCultural");case"pride":return P.getString("AudioVideoSettings.BackgroundEffectCategoryPride");case"animated":return P.getString("AudioVideoSettings.BackgroundEffectCategoryAnimated");case"bing":return P.getString("AudioVideoSettings.BackgroundEffectCategoryBing");default:return P.getString("AudioVideoSettings.BackgroundEffectCategoryOther")}}_getLayoutType(e,t){return e?t?F.full:this.props.isInOnboarding?F.onboarding:F.compact:F.merged}}t.default=W},924506:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CameraSettingsSeparateWindowWidth=t.CameraSettingsStandardWidth=void 0;const n=i(785893),o=i(496486),s=i(823113),a=i(516778),r=i(397691),l=i(244770),c=i(787720),d=i(889391),u=i(342961),g=i(812951),h=i(199401),p=i(329675),S=i(994224),m=i(517033),C=i(47447),y=i(746096),f=i(110117),b=i(436237),_=i(915877),v=i(733754),T=i(773773),P=i(581736),k=i(364956),A=i(285683),I=i(581760),w=i(640363),x=i(311010),N=i(680837),M=i(711828),L=i(478262),O=i(619675),D=i(24576),R=i(853374);t.CameraSettingsStandardWidth=440,t.CameraSettingsSeparateWindowWidth=410;const E=(0,_.lazyProperties)({sectionTitle:()=>a.Styles.createViewStyle({marginTop:20}),sectionBackgroundReplacementTitle:()=>a.Styles.createTextStyle({marginBottom:20,fontSize:x.default.controlFontSize.tabHeaderSmall}),videoPreviewContainer:()=>a.Styles.createViewStyle({backgroundColor:I.Color.black,marginBottom:20,alignSelf:"center",alignItems:"stretch",justifyContent:"center"}),videoPreviewContainerStandardSize:()=>a.Styles.createViewStyle({width:t.CameraSettingsStandardWidth,height:Math.round(t.CameraSettingsStandardWidth*(5/9))}),videoPreviewContainerWindowSize:()=>a.Styles.createViewStyle({width:t.CameraSettingsSeparateWindowWidth,height:Math.round(t.CameraSettingsSeparateWindowWidth*(5/9))}),toggleContainer:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center",marginBottom:5}),toggleText:()=>a.Styles.createTextStyle({flexGrow:1,flexShrink:1,marginRight:10}),webcamSettingsView:()=>a.Styles.createViewStyle({flex:1,marginBottom:20}),webcamSettingText:()=>a.Styles.createTextStyle({color:I.Color.blue}),videoPreviewBingInfo:()=>a.Styles.createViewStyle({position:"absolute",overflow:"hidden",alignItems:"flex-start",justifyContent:"flex-start",flexDirection:"row",left:5,top:5,backgroundColor:I.Color.blackOverlay50,borderRadius:4,paddingHorizontal:8,paddingVertical:5}),videoPreviewBingInfoIcon:()=>a.Styles.createViewStyle({height:16}),videoPreviewBingLogoInfoIcon:()=>a.Styles.createViewStyle({height:16,width:16}),videoPreviewBingInfoTextContainer:()=>a.Styles.createTextStyle({position:"absolute",overflow:"hidden",alignItems:"center",justifyContent:"center",flexDirection:"row",left:0,right:0,bottom:10}),videoPreviewBingInfoTextContainerStandardSize:()=>a.Styles.createViewStyle({maxWidth:t.CameraSettingsStandardWidth}),videoPreviewBingInfoTextContainerWindowSize:()=>a.Styles.createViewStyle({maxWidth:t.CameraSettingsSeparateWindowWidth}),videoPreviewBingInfoText:()=>a.Styles.createTextStyle({padding:3,fontSize:10,backgroundColor:I.Color.blackOverlay50,borderRadius:4,textAlign:"center",color:I.Color.white})});class B extends D.default{constructor(){super(...arguments),this._shouldStartVideoOnClose=!1,this._shouldShowNewBackgroundReplacement=()=>this.state.enableBackgroundReplacement&&this.props.showNewBackgroundReplacementUI,this._shouldStartVideo=()=>!!this._shouldStartVideoOnClose&&!this.props.skipVideoOnClose,this._openWebCamSetting=()=>{const e=this._getSelectedCamera();e&&S.default.DeviceStore.popupCameraSettings(e)},this._onCameraSelected=e=>{var t;const i=R.default.newCauseId();b.log(y.LogTraceArea.AVSettings,"_onCameraSelected "+e+" causeId: "+i),this.props.onCameraSelected&&this.props.onCameraSelected(e!==this._getSelectedCamera(),e),this.props.forceUpdateDefaultDevice?(e!==this.state.selectedCamera&&this.state.callId&&(S.default.CallingStore.isProvidingVideo(this.state.callId)||this.props.forceVideoOnClose)&&(this._shouldStartVideoOnClose=!0,null===(t=S.default.CallingStore.getLocalVideoState(this.state.callId))||void 0===t||t.setLocalVideoEnabled(!1)),S.default.DeviceStore.choosePreferredDevices({camera:e},i)):this.setState({selectedCameraForPreview:e})},this._onToggleBlur=(e,t)=>{this.props.onToggleBlur&&this.props.onToggleBlur(t),S.default.DeviceStore.setBackgroundEffectType(t?y.BackgroundEffect.Blur:y.BackgroundEffect.Off)},this._getSelectedCamera=()=>this.props.forceUpdateDefaultDevice?this.state.selectedCamera:this.state.selectedCameraForPreview}_buildState(e,t){const i=S.default.DeviceStore.getCurrentDevices(),n=d.default.getS4LCMCFeatures(),o=S.default.CallingStore.getConnectedAndNotOnHoldCallId(),a={cameras:S.default.DeviceStore.getCameras(),selectedCamera:null==i?void 0:i.camera,cameraPreviewSupported:C.CallingCapabilities.avSettingsCameraPreviewSupported()&&P.default.permissionStatus(L.PermissionType.Camera)===s.PermissionStatus.Granted,cameraPermissionStatus:P.default.permissionStatus(L.PermissionType.Camera),callId:o,backgroundBlurCapable:S.default.DeviceStore.isBackgroundBlurCapable(),backgroundBlurred:S.default.DeviceStore.isBackgroundBlurred(),hasConnectedCalls:S.default.CallingStore.hasConnectedCalls(),enableBackgroundReplacement:S.default.DeviceStore.isBackgroundReplacementEnabled(),showCameraIssuesText:n.cameraHelp.showCameraIssuesText,backgroundReplaceEffectId:S.default.DeviceStore.getBackgroundEffectType()};return t&&(a.selectedCameraForPreview=a.selectedCamera),a}componentDidMount(){if(super.componentDidMount(),this.state.cameras&&this.state.cameraPermissionStatus===s.PermissionStatus.Unknown){const e=L.PermissionPromptOptions.SkipPrePrompt|L.PermissionPromptOptions.PromptAgainIfDenied|L.PermissionPromptOptions.SkipAugmentedWebPanel;P.default.requestPermission(L.PermissionType.Camera,e,this.props.isInOnboarding?s.PermissionOrigin.OnboardingAVSettings:s.PermissionOrigin.AVSettings)}}componentWillUnmount(){super.componentWillUnmount();const e=R.default.newCauseId();b.log(y.LogTraceArea.AVSettings,"componentWillUnmount causeId: "+e),S.LocalStreamInfo.previewPromise.chainPromise((()=>{var e;return this._shouldStartVideo()&&this.state.callId&&(null===(e=S.default.CallingStore.getLocalVideoState(this.state.callId))||void 0===e||e.setLocalVideoEnabled(!0)),r.Resolved()}),"stop",e)}render(){let e,t,i,r,S,C,y,b,_;this.props.hideVideoLabel||this.props.isOutgoingVideoDisabled||this.props.isInOnboarding||(e=(0,n.jsx)(A.SectionTitle,{title:v.getString("AudioVideoSettings.VideoLabel"),titleStyles:E.sectionTitle,colorThemeOverride:this.props.colorThemeOverride},"videotitle")),this._shouldShowNewBackgroundReplacement()&&(t=(0,n.jsx)(O.RowTitle,Object.assign({colorThemeOverride:this._currentTheme,style:E.sectionBackgroundReplacementTitle},{children:v.getString("AudioVideoSettings.CameraBackgroundReplacementLabel")})),i=(0,n.jsx)(m.default,{isInOnboarding:this.props.isInOnboarding}));const P=h.formatDevicesForPicker(this.state.cameras),x=this._getSelectedCamera();if(this.props.isOutgoingVideoDisabled)S=(0,n.jsx)(g.default,{audioTitleKey:"AudioVideoSettings.OutgoingVideoDisabled",colorThemeOverride:this.props.colorThemeOverride});else if(o.isEmpty(P))S=(0,n.jsx)(g.default,{audioTitleKey:"AudioVideoSettings.CameraLabel",errorStringKey:"AudioVideoSettings.NoDevicePresent",errorIcon:M.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride});else if(this.props.isVideoDisabledDuringScreenSharing)S=(0,n.jsx)(g.default,{audioTitleKey:"AudioVideoSettings.CameraLabel",errorStringKey:"CallPanel.OutgoingVideoDisabledScreenSharing",errorIcon:M.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride});else{if(this.state.cameraPreviewSupported){const e=this.props.isInOnboarding?E.videoPreviewContainerStandardSize:E.videoPreviewContainerWindowSize,t=this.props.overrideVideoPreviewDimensions?a.Styles.createViewStyle({width:this.props.overrideVideoPreviewDimensions.width,height:this.props.overrideVideoPreviewDimensions.height}):void 0,i=this.props.overrideVideoPreviewDimensions?a.Styles.createViewStyle({maxWidth:this.props.overrideVideoPreviewDimensions.width},!1):this.props.isInOnboarding?E.videoPreviewBingInfoTextContainerStandardSize:E.videoPreviewBingInfoTextContainerWindowSize,o=[];if(this.state.backgroundReplaceEffectId){const e=d.default.getS4LCMCFeaturesNoSubscription().bingBackgrounds;if(p.default.getImageFromId(this.state.backgroundReplaceEffectId)){e.useBingLogoInsteadOfSearchIcon?o.push((0,n.jsx)(a.View,Object.assign({style:E.videoPreviewBingInfo},{children:(0,n.jsx)(a.Image,{source:l.Collection.BING_LOGO_SMALL,style:[E.videoPreviewBingInfoIcon,E.videoPreviewBingLogoInfoIcon],resizeMode:"cover"},"BingIcon")}),"BingIconView")):o.push((0,n.jsx)(a.View,Object.assign({style:E.videoPreviewBingInfo},{children:(0,n.jsx)(f.default,{icon:M.SkypeIcon.Search,color:I.Color.white,size:M.IconSize.size16,style:E.videoPreviewBingInfoIcon},"SearchIcon")}),"SearchIconView"));const t=v.getString("AudioVideoSettings.BackgroundEffectBingCameraTitle");o.push((0,n.jsx)(a.View,Object.assign({accessibilityLabel:t,style:E.videoPreviewBingInfoTextContainer},{children:(0,n.jsx)(a.Text,Object.assign({style:[E.videoPreviewBingInfoText,i]},{children:t}))}),"BingFeatureLabel"))}}r=(0,n.jsxs)(a.View,Object.assign({style:[E.videoPreviewContainer,e,t]},{children:[(0,n.jsx)(T.default,{nametag:"video_local_avSettings",device:x}),o]})),y=void 0,this.state.backgroundBlurCapable&&!this.state.enableBackgroundReplacement&&(_=(0,n.jsx)(c.default,Object.assign({style:[E.toggleContainer],accessibilityLabel:v.getString("CallControls.CallMenuBlurBackground"),onChange:this._onToggleBlur,isOn:this.state.backgroundBlurred},{children:(0,n.jsx)(O.BodyText,Object.assign({style:E.toggleText,colorThemeOverride:this.props.colorThemeOverride},{children:v.getString("CallControls.CallMenuBlurBackground")}))})))}if(this.state.cameraPermissionStatus===s.PermissionStatus.Denied){const e=k.default.getDeniedPromptKey(L.PermissionType.Camera);e&&(C=(0,n.jsx)(g.default,{audioTitleKey:"AudioVideoSettings.CameraLabel",errorStringKey:e,errorIcon:M.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride}))}else S=(0,n.jsx)(u.default,{title:v.getString("AudioVideoSettings.CameraLabel"),items:P,onValueChange:this._onCameraSelected,labelMaxWidth:this.props.labelMaxWidth,selectedValue:x||"",colorThemeOverride:this.props.colorThemeOverride})}return w.default.isElectronWindows()&&x&&(b=(0,n.jsx)(a.Button,Object.assign({style:E.webcamSettingsView,accessibilityLabel:v.getString("AudioVideoSettings.WebcamSettingsLabel"),onPress:this._openWebCamSetting},{children:(0,n.jsx)(O.BodyText,Object.assign({style:E.webcamSettingText,colorThemeOverride:this.props.colorThemeOverride},{children:v.getString("AudioVideoSettings.WebcamSettingsLabel")}))}))),(0,n.jsxs)(a.View,Object.assign({style:N.default.overflowVisible},{children:[e,S,C,y,r,_,t,i,b]}))}_getWebcamMayNotBePresentLabel(){return(0,n.jsx)(g.default,{audioTitleKey:void 0,errorStringKey:"AudioVideoSettings.WebcamMaybeNotPresent",errorIcon:M.SkypeIcon.Warning,colorThemeOverride:this.props.colorThemeOverride})}}t.default=B},872514:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(889391),s=i(326217),a=i(67930),r=i(758046),l=i(180039),c=i(206652),d=i(733754),u=i(206879),g=i(526424),h=(i(591426),i(176943)),p=i(838707),S=i(794866),m=i(385822),C=i(285683),y=(i(360305),i(767927)),f=i(621838),b=i(876448);class _ extends a.default{_buildState(){const e=o.default.getS4LMessagingFeatures();return{hugeEmoticonsFeatureEnabled:e.singleEmoticonSize>=g.EmoticonSize.ExtraLarge,sendReadReceiptsFeatureEnabled:e.enableReadReceipts,customFileDownloadLocationEnabled:e.enableCustomFileDownloadLocation,autoDownloadFileOnDesktopEnabled:!1,autoDownloadFileOnMobileEnabled:!1,toneRewriteEnabled:e.enableToneRewrite}}render(){return(0,n.jsxs)(y.default,{children:[(0,n.jsx)(C.SectionTitle,{title:d.getString("UserSettingsPanel.MessagingAndChatsUpperTitle")}),this._getSendReadReceiptsToggle(),this._getDisplayLargeEmoToggle(),this._getDisplayUrlPreviewsToggle(),this._getFontSizePicker(),this._getSendMessageWithEnterButton(),this._getPasteAsQuoteToggle(),this._getPicturePrefetchButton(),this._getAutoDownloadToggle(),this._setFileDownloadLocationButton(),this._getToneRewriteToggleButton()]})}_getDisplayLargeEmoToggle(){return this.state.hugeEmoticonsFeatureEnabled?(0,n.jsx)(r.default,{style:this.props.buttonStyles}):void 0}_getSendReadReceiptsToggle(){return this.state.sendReadReceiptsFeatureEnabled?(0,n.jsx)(S.default,{style:this.props.buttonStyles}):void 0}_getAutoDownloadToggle(){return this.state.autoDownloadFileOnDesktopEnabled?(0,n.jsx)(s.default,{style:this.props.buttonStyles}):this.state.autoDownloadFileOnMobileEnabled?(0,n.jsx)(f.default,{style:this.props.buttonStyles}):void 0}_getPicturePrefetchButton(){return(0,n.jsx)(h.default,{})}_getDisplayUrlPreviewsToggle(){return(0,n.jsx)(l.default,{style:this.props.buttonStyles})}_getSendMessageWithEnterButton(){return(0,n.jsx)(p.default,{style:this.props.buttonStyles})}_getPasteAsQuoteToggle(){return(0,n.jsx)(u.default,{style:this.props.buttonStyles})}_setFileDownloadLocationButton(){return this.state.customFileDownloadLocationEnabled?(0,n.jsx)(m.default,{style:this.props.buttonStyles}):void 0}_getToneRewriteToggleButton(){return this.state.toneRewriteEnabled?(0,n.jsx)(b.default,{}):void 0}_getFontSizePicker(){return(0,n.jsx)(c.default,{})}_getHeaderText(e){return _.getHeaderText()}static getHeaderText(){return d.getString("UserSettingsPanel.MessagingAndChatsTitle")}}t.default=_},205114:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(898278),a=i(677381),r=i(493620),l=i(733754),c=i(330124),d=i(104735),u=i(285683),g=i(587134),h=i(178735),p=i(889391);class S extends a.default{constructor(){super(...arguments),this._onPress=()=>{p.default.getS4LCMCFeaturesNoSubscription().enableNewLanguageSelectors?d.default.navigateToLanguagePicker(!1,this._getRootViewId()):d.default.navigateToLanguagePickerOld(!1,this._getRootViewId())}}_buildState(e,t){return{currentLanguage:h.default.getUserPreferencesLocal().locale||l.getLocale(),isUsingStackNavigationContext:c.default.isUsingStackNavigationContext()}}render(){return(0,n.jsxs)(o.View,Object.assign({style:this.props.style},{children:[(0,n.jsx)(u.SectionTitle,{title:l.getString("UserSettingsPanel.GeneralTitleUpper")}),(0,n.jsx)(r.default,{label:l.getString("SettingsLanguages.LanguageLabel"),captionText:l.getString("SettingsLanguages.LanguageCaption"),onPress:this._onPress,activeLabel:this.state.currentLanguage,buttonStyles:this.state.isUsingStackNavigationContext?void 0:s.ListItem.small.shortHeightStyle,hideDivider:!0}),(0,n.jsx)(g.default,{})]}))}}t.default=S},373175:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(67930),s=i(733754),a=i(21725),r=i(593486),l=i(104735),c=i(285683),d=i(590602),u=i(548201),g=(i(360305),i(677524)),h=i(767927);class p extends o.default{constructor(){super(...arguments),this._onPressManageBlockedUsers=()=>{l.default.navigateToBlockedUsersList(this._getRootViewId())}}_buildState(e,t){return{isChild:r.default.isChild()}}static getHeaderText(){return s.getString("UserSettingsPanel.ContactsTitle")}render(){const e=(0,n.jsx)(c.SectionTitle,{title:s.getString("UserSettingsPanel.ContactsUpperTitle")},"contacts"),t=this.state.isChild?void 0:(0,n.jsx)(u.default,{buttonStyles:this.props.buttonStyles});return(0,n.jsxs)(h.default,{children:[e,t,this._getBlockedContactsButton(),(0,n.jsx)(a.default,{buttonStyles:this.props.buttonStyles})]})}_getHeaderText(e){return p.getHeaderText()}_getBlockedContactsButton(){return(0,n.jsx)(g.WideButton,{label:s.getString("UserSettingsPanel.BlockedContactsTitle"),labelStyle:d.default.titleMediumSemiLarge,buttonStyles:this.props.buttonStyles,onPressed:this._onPressManageBlockedUsers},"blockedUsers")}}t.default=p},10564:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(705465),a=i(593486),r=i(787720),l=i(590602),c=i(285683),d=i(733754),u=i(889391),g=i(600212),h=i(46929);function p(e,t){h.default.setMiniContextMenuEnabled(t)}t.default=(0,o.withResubAutoSubscriptions)((()=>{const{themeStyles:{dividerBorderColorStyle:e}}=(0,g.useSkypeTheme)(),t=u.default.getS4LMessagingFeatures().enableMiniContextMenu,i=h.default.getMiniContextMenuEnabled(),o=a.default.isChildOrMinor(),S=t&&!o,m=d.getString("UserSettingsPanel.EnableMiniMenu"),C=S?(0,n.jsx)(r.default,Object.assign({style:[l.default.controlRow,e],isOn:i,accessibilityLabel:m,onChange:p},{children:(0,n.jsx)(c.SwitchLabel,{title:m})})):null;return C?(0,n.jsxs)(s.View,{children:[(0,n.jsx)(c.SectionTitle,{title:d.getString("UserSettingsPanel.ContextMenuSettingUpper")}),C]}):null}))},49070:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(219784),o=i(746096),s=i(436237),a=i(733754),r=i(178735),l=i(46929),c=i(104735),d=i(217093),u=i(853374);var g;!function(e){e[e.None=0]="None",e[e.Call=1]="Call",e[e.Chat=2]="Chat",e[e.CallAndChat=3]="CallAndChat"}(g||(g={}));class h{static showDNDSettingDialog(e,t){s.log(o.LogTraceArea.DNDSetting,"Showing DND setting dialog."),this._showDNDDialogHelper(e,t)}static _getEnableNotificationState(){return l.default.getCallNotificationsWhileDNDEnabled()||l.default.getChatNotificationsWhileDNDEnabled()?l.default.getCallNotificationsWhileDNDEnabled()?l.default.getChatNotificationsWhileDNDEnabled()?g.None:g.Chat:g.Call:g.CallAndChat}static _getContentText(e){let t;switch(e){case g.CallAndChat:t=a.getString("DNDSettingDialog.CallAndChatNotificationDuringDNDDialogContent");break;case g.Call:t=a.getString("DNDSettingDialog.CallNotificationDuringDNDDialogContent");break;case g.Chat:t=a.getString("DNDSettingDialog.ChatNotificationDuringDNDDialogContent");break;case g.None:default:t=a.getString("DNDSettingDialog.NotificationDuringDNDDialogContent")}return t}static _onAppSettingsButtonPressed(e){const t=u.default.newCauseId();s.log(o.LogTraceArea.DNDSetting,"DNDSettingDialog._onAppSettingsButtonPressed causeId: "+t),c.default.navigateToDesktopSettingsGroup(d.SettingsGroup.Notifications,e,t)}static _showDNDDialogHelper(e,t){const i=[{text:a.getString("DNDSettingDialog.DontAskMeAgain"),onPress:this._dialogActionHandler(this._presentDNDPopupPressed,t)},{text:a.getString("DNDSettingDialog.DoNothing"),onPress:t},{text:a.getString("DNDSettingDialog.ViewNotificationsSetting"),onPress:this._dialogActionHandler((()=>this._onAppSettingsButtonPressed(e)),t),isSubmit:!0}],o=a.getString("DNDSettingDialog.DNDSettingTitle"),s=this._getEnableNotificationState(),r=this._getContentText(s);s!==g.None&&n.default.showWithOptions({title:o,message:r,dialogAccessibilityTitle:r,buttons:i,onClickOutside:t,rootViewId:e})}static _dialogActionHandler(e,t){return t?()=>{e(),t&&t()}:e}}h._presentDNDPopupPressed=()=>{l.default.setPresentDNDSetting(),r.default.setUserPreferencesLocal({presentDNDSetting:!1})},t.default=h},296623:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(178735),s=i(104735),a=i(590602),r=i(24576),l=i(677524),c=i(767927);class d extends r.default{constructor(){super(...arguments),this._getDevFeatures=()=>[],this._onPressTelemetryMonitor=()=>{s.default.navigateToTelemetryPerformanceMonitor(this._getRootViewId())},this._onPressPhoneNumberVerification=()=>{s.default.navigateToPnvEnterNumber(void 0,this._getRootViewId())},this._onPressPnvDebugTool=()=>{s.default.navigateToPnvDebugTool()},this._onPressManageFeatureFlags=()=>{s.default.navigateToFeatureFlags(this._getRootViewId())},this._onPressShowRawConfig=()=>{s.default.navigateToRawPreferences(this._getRootViewId())}}_buildState(e,t){return{ignoreActiveEndpoint:!!o.default.getUserPreferencesLocal().ignoreActiveEndpointFiltering}}render(){return(0,n.jsxs)(c.default,{children:[this._getTelemetryMonitorButton(),this._getPhoneNumberVerificationButton(),this._getPressPnvDebugToolButton(),this._getDevFeatures()]})}_getPressPnvDebugToolButton(){return(0,n.jsx)(l.WideButton,{label:"PNV Debug Tool",labelStyle:a.default.titleMediumSemiLarge,labelBottom:"Remove registered phone number from profile",onPressed:this._onPressPnvDebugTool},"pnvDebugTool")}_getPhoneNumberVerificationButton(){return(0,n.jsx)(l.WideButton,{label:"Phone Number Verification",labelStyle:a.default.titleMediumSemiLarge,labelBottom:"Verify phone number",onPressed:this._onPressPhoneNumberVerification},"enterPhoneNumber")}_getTelemetryMonitorButton(){return(0,n.jsx)(l.WideButton,{label:"Telemetry Monitor",labelStyle:a.default.titleMediumSemiLarge,labelBottom:"Telemetry events statistics",onPressed:this._onPressTelemetryMonitor},"manageProfile")}}t.default=d},32977:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(823113),s=i(516778),a=i(787720),r=i(889391),l=i(996074),c=i(570570),d=i(243858),u=i(898278),g=i(72822),h=i(952262),p=i(758046),S=i(587134),m=i(746096),C=i(436237),y=i(915877),f=i(941209),b=i(733754),_=i(46634),v=i(593486),T=i(178735),P=i(18078),k=i(104735),A=i(920941),I=i(328377),w=i(49140),x=i(794866),N=i(285683),M=i(228574),L=i(930428),O=i(619675),D=i(677524),R="chat",E="privacy",B=(0,y.lazyProperties)({container:()=>s.Styles.createViewStyle({marginHorizontal:20}),settingsContainer:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>s.Styles.createViewStyle({alignSelf:"stretch",overflow:"visible"}),settingContainer:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center",alignSelf:"stretch",justifyContent:"space-between"}),switchLabelWrapper:()=>s.Styles.createTextStyle({flex:1,marginVertical:5}),switchLabel:()=>s.Styles.createTextStyle({flex:1,paddingRight:10}),title:()=>s.Styles.createTextStyle({paddingTop:30,paddingBottom:10})});class F extends l.default{constructor(){super(...arguments),this._toggleSwitchWithTextStyle=[B.settingContainer,u.ListItem.small.shortHeightStyle],this._onShareLocationWithBingRef=e=>{this._shareLocationWithBingRef=e||void 0},this._onChangeBingLocationConsentGranted=(e,t)=>{t?c.default.displayModal(this._getRootViewId(),{onModalClosed:this._onBingConsentModalClosed}):(C.track(new d.BingPermissionsInteractionEvent(m.BingPermissionsEntryPoint.BingSettings,o.PermissionStatus.Denied)),T.default.setUserPreferencesLocal({bingLocationConsentGranted:!1,locationStoreLastPromptTime:Date.now()}))},this._onBingConsentModalClosed=()=>{this._shareLocationWithBingRef&&this._shareLocationWithBingRef.focusToggle()},this._onPressProfilePicture=()=>{k.default.navigateToProfilePicturePanel(this._getRootViewId())},this._onPressManageUsers=()=>{k.default.navigateToManageUsersSettingsPanel(this._getRootViewId())},this._onPressManageSearchInfo=()=>{k.default.navigateToManageSearchInfoPanel(w.ManageSearchOrigin.ApplicationSettings,this._getRootViewId())},this._onPressDiagnosticTools=()=>{k.default.navigateToDiagnosticTools(this._getRootViewId())},this._onChangeSyncAddressBook=(e,t)=>{this.state.syncAddressBookEnabled!==t&&(t?k.default.navigateToSyncAddressBook({origin:g.DialogNavOrigin.Settings,hideSkipButton:!0},void 0,this._getRootViewId()):I.default.setSyncAddressBookPrivacySetting(t))}}_buildState(e,t){const i=T.default.getUserPreferencesLocal();return{syncAddressBookEnabled:I.default.getSyncAddressBookPrivacySetting(),enableLocationSharing:r.default.getS4LMessagingFeatures().enableLocationSharingOnDesktopAndWeb,bingLocationConsentGranted:_.default.bingLocationConsentAndPermissionGranted(),suggestionsEnabled:L.default.getSuggestionsEnabled(),isBingAuthCookieInSync:!!i.isBingAuthCookieInSync,sendReadReceiptsFeatureEnabled:r.default.getS4LMessagingFeatures().enableReadReceipts,showAddPhotoLabel:!h.default.getDisplayableProfile(P.default.getSkypeMri()).getAvatarUrl(),isChild:v.default.isChild()}}render(){return this.props.notificationsOnly?(0,n.jsx)(s.View,Object.assign({style:B.container},{children:(0,n.jsx)(A.default,{buttonStyles:u.ListItem.small.shortHeightStyle})})):(0,n.jsxs)(s.View,Object.assign({style:B.container,forceDirection:!0},{children:[this._renderChatSettings(),(0,n.jsx)(A.default,{buttonStyles:u.ListItem.small.shortHeightStyle}),(0,n.jsx)(M.default,{}),this._renderPrivacySettings()]}))}_renderChatSettings(){return this._getSettingsSection(R,b.getString("UserSettingsPanel.ChatHeaderUpper"),[(0,n.jsx)(p.default,{style:this._toggleSwitchWithTextStyle},"displaylargeemoticons")])}_renderPrivacySettings(){const e=[];return f.isAddressBookEnabled()&&!this.state.isChild&&(e.push((0,n.jsx)(a.default,Object.assign({style:this._toggleSwitchWithTextStyle,isOn:this.state.syncAddressBookEnabled,accessibilityLabel:b.getString("UserSettingsPanel.SyncAddressBook"),onChange:this._onChangeSyncAddressBook},{children:this._renderSwitchLabel(b.getString("UserSettingsPanel.SyncAddressBook"))}),"syncAddressBook")),e.push((0,n.jsx)(S.default,{},"syncAddressBookDivider"))),this.state.enableLocationSharing&&!this.state.isChild&&(e.push((0,n.jsx)(a.default,Object.assign({ref:this._onShareLocationWithBingRef,style:this._toggleSwitchWithTextStyle,isOn:this.state.bingLocationConsentGranted,accessibilityLabel:b.getString("UserSettingsPanel.BingLocation"),onChange:this._onChangeBingLocationConsentGranted},{children:this._renderSwitchLabel(b.getString("UserSettingsPanel.BingLocation"))}),"shareLocationWithBing")),e.push((0,n.jsx)(S.default,{},"shareLocationWithBingDivider"))),this.state.sendReadReceiptsFeatureEnabled&&e.push((0,n.jsx)(x.default,{style:this._toggleSwitchWithTextStyle},"sendReadReceipts")),this.state.ecsDiagnosticToolsEnabled&&e.push((0,n.jsx)(D.WideButton,{label:b.getString("UserSettingsPanel.DiagnosticToolsTitle"),onPressed:this._onPressDiagnosticTools,buttonStyles:u.ListItem.small.shortHeightStyle},"diagnosticTools")),e.push((0,n.jsx)(D.WideButton,{label:b.getString("UserSettingsPanel.ProfilePictureTitle"),onPressed:this._onPressProfilePicture,buttonStyles:u.ListItem.small.shortHeightStyle,labelRight:this.state.showAddPhotoLabel?b.getString("UserSettingsPanel.AddPhotoLabel"):void 0},"profilePicture")),e.push((0,n.jsx)(D.WideButton,{label:b.getString("UserSettingsPanel.ManageContactsTitle"),onPressed:this._onPressManageUsers,buttonStyles:u.ListItem.small.shortHeightStyle},"manageUsers")),e.push((0,n.jsx)(D.WideButton,{label:b.getString("ManageSearchInfoPanel.PanelTitle"),onPressed:this._onPressManageSearchInfo,buttonStyles:u.ListItem.small.shortHeightStyle},"manageSearchInfo")),this._getSettingsSection(E,b.getString("UserSettingsPanel.PrivacyHeaderUpper"),e)}_getSettingsSection(e,t,i){return(0,n.jsxs)(s.View,Object.assign({style:B.settingsBlockContainer},{children:[(0,n.jsx)(N.SectionTitle,{title:t,titleStyles:B.title},e),(0,n.jsx)(s.View,Object.assign({style:[B.settingsContainer,this._themeStyles.primaryBackgroundColorStyle]},{children:i}))]}),e)}_renderSwitchLabel(e){return(0,n.jsx)(s.View,Object.assign({style:B.switchLabelWrapper},{children:(0,n.jsx)(O.RowTitle,Object.assign({style:B.switchLabel,numberOfLines:2},{children:e}))}))}}t.default=F},82476:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(546393),a=i(516778),r=i(889391),l=i(67930),c=i(746096),d=i(436237),u=i(915877),g=i(733754),h=i(494109),p=i(393818),S=i(190631),m=(0,u.lazyProperties)({modalBackground:()=>a.Styles.createViewStyle({flex:1,alignItems:"stretch"})});class C extends l.default{constructor(){super(...arguments),this._closeMyAccountUrl=r.default.getConfigSettings().profileCard.closeMyAccountUrl,this._closeMyAccountEndUrl=r.default.getConfigSettings().profileCard.closeMyAccountEndUrl,this._onNavigationStateChange=e=>{if(this.setState({currentUrl:e.url}),e.url&&o.startsWith(e.url,this._closeMyAccountEndUrl)&&-1!==e.url.toLowerCase().indexOf("message=closeacctself"))return d.track(new p.CloseMyAccountClicked),void h.default.redirectToLogout(c.LogoutReason.CloseAccount,!0,!1)}}_buildState(e,t){return{currentUrl:r.default.getConfigSettings().profileCard.closeMyAccountUrl}}_renderPanelContent(){const e=a.Types.WebViewSandboxMode.AllowForms|a.Types.WebViewSandboxMode.AllowScripts|a.Types.WebViewSandboxMode.AllowPopups|a.Types.WebViewSandboxMode.AllowSameOrigin;return(0,n.jsx)(s.WebViewBridge,{style:this.props.style,url:this._closeMyAccountUrl,javaScriptEnabled:!0,scalesPageToFit:!1,onNavigationStateChange:this._onNavigationStateChange,startInLoadingState:!0,domStorageEnabled:!0,sandbox:e,ariaLabel:g.getString("UserSettingsPanel.CloseAccountLabel")})}render(){return(0,n.jsxs)(a.View,Object.assign({style:m.modalBackground},{children:[(0,n.jsx)(S.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:{closeButtonType:this.props.isAloneInNavStack?S.CloseButtonType.Close:S.CloseButtonType.Back}}),this._renderPanelContent()]}))}_getHeaderText(e){return C.getHeaderText()}static getHeaderText(){return g.getString("UserSettingsPanel.CloseAccountLabel")}}t.default=C},706417:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(974634),a=i(803056),r=i(996074),l=i(711930),c=i(147204),d=i(915877),u=i(733754),g=i(29130),h=i(190631),p=i(264160),S=(0,d.lazyProperties)({modalInnerContainer:()=>o.Styles.createViewStyle({flex:1,paddingTop:10,paddingHorizontal:25,paddingBottom:25})}),m="desktopModal";class C extends r.default{constructor(){super(...arguments),this._closeAnimationEvent=new s.default,this._onAnimateCloseModal=()=>{const e=this._getRootViewId();this._closeAnimationEvent.fire((()=>this._onCloseModal(e)))}}_buildState(e,t){const i=this._getRootViewId();return{isMobileScreenSize:g.default.isMobileScreenSize(i)}}static displayModalWithConfig(e){const t=e.isPopup?l.default.combinedAccessibilityLabel(u.getString("Global.PopupAnnouncement"),e.title):e.title,i=(0,n.jsx)(a.default,Object.assign({isPresentedInDesktopSubview:!0},{children:(0,n.jsx)(C,{title:e.title,accessibilityTitle:t,content:e.content,modalHeight:e.modalHeight,modalWidth:e.modalWidth})}));c.default.showModal(i,m,{rootViewId:e.rootViewId})}static closeModel(e){c.default.dismissModal(m,e)}render(){const e={onPress:this._onAnimateCloseModal,closeButtonType:h.CloseButtonType.Close};return(0,n.jsxs)(p.default,Object.assign({modalTitle:this.props.title,modalWidth:this.props.modalWidth||400,modalHeight:this.props.modalHeight||void 0,onClickOutside:this._onAnimateCloseModal,closeAnimationEvent:this._closeAnimationEvent,fullSize:!!this.state.isMobileScreenSize},{children:[(0,n.jsx)(h.SimplePanelHeader,{panelName:this.props.title,accessibleName:this.props.accessibilityTitle,leftButton:e,useTransparentBackground:!0,hideBottomBorder:!0}),(0,n.jsx)(o.View,Object.assign({style:S.modalInnerContainer},{children:this.props.content}))]}))}_onCloseModal(e){c.default.dismissModal(m,e)}}t.default=C},257004:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(889391),r=i(739119),l=i(67930),c=i(898278),d=i(866957),u=i(904604),g=i(746096),h=i(436237),p=i(915877),S=i(733754),m=i(388273),C=i(18078),y=i(104735),f=i(217093),b=i(795691),_=i(24148),v=i(49140),T=i(536150),P=i(285683),k=i(538185),A=i(190631),I=i(581760),w=i(711828),x=i(478262),N=i(680837),M=i(360305),L=i(475793),O=i(567977),D=i(545200),R=i(172758),E=i(853374),B=i(413565),F=i(677524),V=i(760860),U=i(150296),j=(0,p.lazyProperties)({panel:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),pannelPadding:()=>s.Styles.createViewStyle({paddingBottom:16}),container:()=>s.Styles.createViewStyle({marginHorizontal:20}),sectionHeader:()=>s.Styles.createTextStyle({paddingTop:30,paddingBottom:10})});class H extends l.default{constructor(){super(...arguments),this._onScroll=(e,t)=>{const i=e>d.DetailsPanelHeaderSizes.scrollOffsetDesktop;this.state.showHeader!==i&&this.setState({showHeader:i})},this._onUserCardRef=e=>{this._userCardRef=e||void 0},this._onHelpAndFeedbackButtonPressed=()=>{const e=E.default.newCauseId();h.log(g.LogTraceArea.Navigation,"DesktopMySettingsPanel._onHelpAndFeedbackButtonPressed causeId: "+e),h.track(new _.NavigationHelpAndFeedback(b.NavigationSettingsItem.HelpAndFeedback,b.NavigationSettingsOrigin.MySettingsPanel)),y.default.navigateToDesktopSettingsGroup(f.SettingsGroup.HelpAndFeedback,this._getRootViewId(),e)},this._goToPrivacy=()=>{y.default.navigateToManageSearchInfoPanel(v.ManageSearchOrigin.ApplicationSettings,this._getRootViewId())},this._closeModal=()=>{const e=E.default.newCauseId();h.log(g.LogTraceArea.Navigation,"DesktopMySettingsPanel.causeId causeId: "+e),this._goBack(e)}}_buildState(e,t){const i=R.default.getFullUserProfileByMri(C.default.getSkypeMri()),n=u.default.getCreditEntitlement(),s=u.default.getSubscriptions(),a={userFormattedBalance:r.getFormattedBalance(n),userSubscriptionsCount:s?o.size(s):0,displayName:i.getDisplayName(),gender:i&&i.gender||x.eGender.Unspecified,myUserStatus:m.default.getStatus(),useTabletUI:M.default.isTabletUI(),showScreenReaderHeader:T.default.isMobileScreenReaderEnabled(),enableMsaPhoneNumber:H.showMSAPhoneNumberOnOther()};return t&&(a.showHeader=!1),a}componentDidMount(){super.componentDidMount(),a.default.getS4LCommerceFeatures().offerStore.prefetch&&B.default.requestUpdate()}render(){const e=this.state.showHeader||this.state.showScreenReaderHeader,t={closeButtonType:this.props.isAloneInNavStack?A.CloseButtonType.Close:A.CloseButtonType.Back,color:e?this._themeColors.primaryIconColor:I.Color.white,hoverColor:e?this._themeColors.iconHoverColor:I.Color.whiteOverlay80,onPress:this._closeModal,title:S.getString("UserSettingsPanel.CloseSettings")},i=e?this.state.showScreenReaderHeader?S.getString("UserSettingsPanel.SettingsTitle"):this.state.displayName:void 0,o=(0,n.jsx)(A.SimplePanelHeader,{floating:!this.state.showScreenReaderHeader,panelName:i,useTransparentBackground:!e,hideBottomBorder:!e,leftButton:t,ignorePointerEvents:!e,delayHeaderFocus:!1}),a=(0,n.jsx)(k.default,{origin:g.ContactInviteOrigin.ShareProfile,desktop:!0}),r=this._getSectionTitle(S.getString("UserSettingsPanel.OtherHeaderUpper"),"other");return(0,n.jsx)(s.Animated.View,Object.assign({style:[j.panel,this._themeStyles.primaryBackgroundColorStyle]},{children:(0,n.jsxs)(s.View,Object.assign({style:[j.panel,this._themeStyles.primaryBackgroundColorStyle]},{children:[o,(0,n.jsx)(s.ScrollView,Object.assign({style:N.default.flexOne,onScroll:this._onScroll,scrollEventThrottle:32},{children:(0,n.jsxs)(s.View,Object.assign({style:[j.panel,j.pannelPadding,this._themeStyles.primaryBackgroundColorStyle]},{children:[(0,n.jsx)(L.default,{ref:this._onUserCardRef,allowEditAvatar:!0,allowOpenAvatarInMediaViewer:!1,replaceHeader:!0,userIconSize:O.UserIconSize.Size120,userMri:C.default.getSkypeMri(),readOnlyView:!1}),(0,n.jsxs)(s.View,Object.assign({style:j.container},{children:[a,this._getSectionTitle(S.getString("UserSettingsPanel.MyProfileTitleUpper"),"profile"),(0,n.jsx)(D.default,{userMri:C.default.getSkypeMri()}),r,this._getSupportSettings()]}))]}))}))]}))}))}_getSectionTitle(e,t){return(0,n.jsx)(P.SectionTitle,{title:e,titleStyles:j.sectionHeader},t)}_getSupportSettings(){return(0,n.jsxs)(s.View,{children:[!!this.state.enableMsaPhoneNumber&&(0,n.jsx)(U.default,{}),this._getManagePrivacyButton(),this._getHelpAndFeedbackButton()]})}_getHelpAndFeedbackButton(){return this._getWideButton({icon:w.SkypeIcon.Question,label:S.getString("UserSettingsPanel.HelpAndAboutTitle"),key:f.SettingsGroup[f.SettingsGroup.HelpAndFeedback],onPressed:this._onHelpAndFeedbackButtonPressed})}_getManagePrivacyButton(){return this._getWideButton({icon:w.SkypeIcon.ContactGroup,label:S.getString("MyUserInfo.ManagePrivacyTitle"),onPressed:this._goToPrivacy})}_getWideButton(e){return(0,n.jsx)(F.WideButton,Object.assign({},e,{buttonStyles:c.ListItem.small.shortHeightStyle}))}_getHeaderText(e){return e.displayName+" "+S.getString("MyProfilePanel.SettingsTitle")}static showMSAPhoneNumberOnOther(){var e;const t=null===(e=a.default.getAdsFeatures().placementsConfigs)||void 0===e?void 0:e[V.BannerPlacement.ConversationList],i=null==t?void 0:t.bannersList;return a.default.getAdsFeatures().linkYourPhoneAdConfig&&(null==i?void 0:i.some((e=>e===V.Banner.LinkYourPhone)))}}t.default=H},357595:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(156879),a=i(384122),r=i(319436),l=i(775352),c=i(362165),d=i(67930),u=i(872514),g=i(898278),h=i(373175),p=i(32977),S=i(404336),m=i(670635),C=i(72822),y=i(746096),f=i(254365),b=i(234452),_=i(436237),v=i(712150),T=i(915877),P=i(733754),k=i(932090),A=i(89808),I=i(217093),w=i(920941),x=i(906476),N=i(536150),M=i(190631),L=i(519865),O=i(711828),D=i(451699),R=i(818956),E=i(853374);var B;!function(e){e[e.Default=0]="Default",e[e.HeaderOnly=1]="HeaderOnly",e[e.None=2]="None"}(B||(B={}));const F=(0,T.lazyProperties)({container:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"})}),V={[I.SettingsGroup.AppSettings]:"DesktopProfileMenu.AppSettingsTitle",[I.SettingsGroup.AudioVideoSettings]:"AudioVideoSettings.Title",[I.SettingsGroup.AudioSettings]:"AudioVideoSettings.AudioSettingsTitle",[I.SettingsGroup.AccountAndProfile]:"UserSettingsPanel.AccountAndProfileSettingsTitle",[I.SettingsGroup.ThemeSettings]:"ColorThemeDialog.HeaderText",[I.SettingsGroup.HelpAndFeedback]:"UserSettingsPanel.HelpAndAboutTitle",[I.SettingsGroup.About]:"UserSettingsPanel.AboutButton",[I.SettingsGroup.Notifications]:"UserSettingsPanel.NotificationsTitle",[I.SettingsGroup.Chat]:"UserSettingsPanel.MessagingAndChatsTitle",[I.SettingsGroup.General]:"UserSettingsPanel.GeneralTitle",[I.SettingsGroup.Privacy]:"UserSettingsPanel.PrivacyHeader",[I.SettingsGroup.Contacts]:"UserSettingsPanel.ContactsTitle",[I.SettingsGroup.MyAccountAndProfile]:"UserSettingsPanel.MyAccountAndProfileTitle",[I.SettingsGroup.BalanceState]:"BalanceStatePanel.Title",[I.SettingsGroup.SkypeNumber]:"SkypeNumberPanel.Title",[I.SettingsGroup.SyncAddressBook]:"SyncAddressBookDialog.HeaderText",[I.SettingsGroup.HotKeys]:"KeyboardShortcuts.Title2",[I.SettingsGroup.ReportProblem]:"FeedbackMechanism.ReportAProblemDialogTitle",[I.SettingsGroup.ManagePayments]:"UserSettingsPanel.ManagePaymentsSettingsTitle"},U=Object.assign(Object.assign({},V),{[I.SettingsGroup.HotKeys]:"KeyboardShortcuts.Title2",[I.SettingsGroup.ReportProblem]:"FeedbackMechanism.ReportAProblemDialogTitle",[I.SettingsGroup.ThemeSettings]:"ColorThemeDialog.HeaderTextShort"});class j extends d.default{constructor(){super(...arguments),this._setRightButton=e=>{this.setState({rightButton:e})},this._closeModal=()=>{const e=E.default.newCauseId();_.log(y.LogTraceArea.Navigation,"DesktopSettingsGroupPanel._closeModal,  causeId: "+e),this._goBack(e)}}static getHeaderText(e,t){const i=t?V[e]:U[e];return i||_.warn(y.LogTraceArea.GenericUnsafe,"DesktopSettingsGroupPanel._getHeaderText, no title key found"),P.getString(i||"UserSettingsPanel.SettingsTitle")}_buildState(e,t){const i={isMobileScreenReaderEnabled:N.default.isMobileScreenReaderEnabled(),myUserColor:A.default.getColorInfo(!0)};return t&&(i.rightButton=void 0),i}render(){let e;switch(this._contentContainerStyle()){case B.None:e=this._renderContent();break;case B.HeaderOnly:e=this._renderContentInContainer(!1);break;case B.Default:e=this._renderContentInContainer(!0)}return(0,n.jsx)(o.View,Object.assign({style:F.container},{children:e}))}_contentContainerStyle(){switch(this.props.group){case I.SettingsGroup.About:case I.SettingsGroup.BalanceState:return B.None;case I.SettingsGroup.SyncAddressBook:case I.SettingsGroup.ReportProblem:return B.HeaderOnly;default:return B.Default}}_renderContentInContainer(e){const t=this.props.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.isAloneInNavStack?M.CloseButtonType.Close:M.CloseButtonType.Back,onPress:this._closeModal,title:P.getString(this.props.isAloneInNavStack?"Global.CloseButtonTitle":"Global.BackButtonTitle")};let i;this.props.isAloneInNavStack&&!this.state.isMobileScreenReaderEnabled&&this._getContext().isPresentedInSplitView||this.props.group===I.SettingsGroup.SyncAddressBook||(i=(0,n.jsx)(M.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t,rightButtons:this.state.rightButton,useTransparentBackground:!0,delayHeaderFocus:!1}));const s=this._renderContent();return(0,n.jsxs)(o.View,Object.assign({style:F.container},{children:[i,s]}))}_renderContent(){const e={isAloneInNavStack:this.props.isAloneInNavStack,isFullScreenModal:this.props.isFullScreenModal,buttonStyles:g.ListItem.small.shortHeightStyle,closeModal:this.props.closeModal,setRightButton:this._setRightButton};switch(this.props.group){case I.SettingsGroup.AppSettings:return(0,n.jsx)(p.default,{});case I.SettingsGroup.Notifications:return(0,n.jsx)(w.default,Object.assign({},e));case I.SettingsGroup.AudioVideoSettings:return(0,n.jsx)(r.default,Object.assign({settingsMode:l.SettingsMode.All},e));case I.SettingsGroup.AudioSettings:return(0,n.jsx)(r.default,Object.assign({settingsMode:l.SettingsMode.Audio},e));case I.SettingsGroup.MyAccountAndProfile:return(0,n.jsx)(k.default,Object.assign({marginHorizontal:5},e));case I.SettingsGroup.AccountAndProfile:return(0,n.jsx)(a.default,Object.assign({},e));case I.SettingsGroup.BalanceState:return(0,n.jsx)(c.default,Object.assign({showHeader:!0,source:"DesktopSettings.navigateBalanceState"},e));case I.SettingsGroup.SkypeNumber:return(0,n.jsx)(L.default,{route:{params:Object.assign({},e)}});case I.SettingsGroup.ThemeSettings:return(0,n.jsx)(R.default,Object.assign({origin:C.DialogNavOrigin.Settings},e));case I.SettingsGroup.HelpAndFeedback:return(0,n.jsx)(b.default,Object.assign({},e));case I.SettingsGroup.About:return(0,n.jsx)(s.default,Object.assign({showHeader:!0},e));case I.SettingsGroup.Chat:return(0,n.jsx)(u.default,Object.assign({},e));case I.SettingsGroup.Contacts:return(0,n.jsx)(h.default,Object.assign({},e));case I.SettingsGroup.General:return(0,n.jsx)(f.default,Object.assign({},e));case I.SettingsGroup.Privacy:return(0,n.jsx)(x.default,Object.assign({},e));case I.SettingsGroup.SyncAddressBook:return(0,n.jsx)(D.default,Object.assign({origin:C.DialogNavOrigin.Settings,contentTopOffest:0,hideHeader:!0,hideSkipButton:!0,hideCloseButton:!0,nextButtonIcon:O.SkypeIcon.Ok,compositeNavContainerWidth:S.DefaultWidth},e));case I.SettingsGroup.HotKeys:return(0,n.jsx)(v.default,Object.assign({},e));case I.SettingsGroup.ReportProblem:return(0,n.jsx)(m.default,Object.assign({},e));default:return}}_getHeaderText(e){return j.getHeaderText(this.props.group,!!this._getContext().isPresentedInSplitView)}}t.default=j},638558:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(67930),a=i(898278),r=i(746096),l=i(139285),c=i(436237),d=i(915877),u=i(733754),g=i(104735),h=i(217093),p=i(834170),S=i(190631),m=i(311010),C=i(680837),y=i(853374),f=i(191066),b=(0,d.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),titleContainer:()=>o.Styles.createViewStyle({paddingTop:30,paddingHorizontal:15,paddingBottom:15})});class _ extends s.default{constructor(){super(...arguments),this._closeSettings=()=>{const e=y.default.newCauseId();c.log(r.LogTraceArea.Navigation,"DesktopSettingsMenu._closeSettings, causeId: "+e),this.props.closeModal?this.props.closeModal():g.default.closeGenericDesktopModal(e,this._getRootViewId())}}static getHeaderText(){return u.getString("MyProfilePanel.SettingsButtonTitle")}_buildState(e,t){var i;const n={};return(null===(i=e.detailContext)||void 0===i?void 0:i[0])instanceof h.DesktopSettingsGroupNavigationContext?n.settingsGroup=e.detailContext[0].state.group:n.settingsGroup=void 0,n}render(){const e=this.props.isAloneInNavStack&&!this._getContext().isPresentedInSplitView?(0,n.jsx)(S.SimplePanelHeader,{panelName:this._getContext().isPresentedInSplitView?void 0:this.props.title,leftButton:{closeButtonType:S.CloseButtonType.Close,onPress:this._closeSettings},useTransparentBackground:this._getContext().isPresentedInSplitView}):void 0,t=[b.panel];!this._getContext().isPresentedInSplitView||this.props.isAloneInNavStack?t.push(this._themeStyles.primaryBackgroundColorStyle):t.push(this._themeStyles.secondaryBackgroundColorStyle);const i=this._getContext().rootViewType===a.RootViewType.NativeWindow;return(0,n.jsxs)(f.default,Object.assign({style:t,shouldGroupAccessibilityChildren:!1},{children:[e,(0,n.jsx)(o.ScrollView,Object.assign({style:C.default.flexOne},{children:(0,n.jsxs)(o.View,{children:[i?this._getTitle():void 0,(0,n.jsx)(p.default,{detailContext:this.props.detailContext,isAloneInNavStack:this.props.isAloneInNavStack,title:this.props.title,resetFocus:this.props.resetFocus})]})}))]}))}_getTitle(){const e=u.getString("UserSettingsPanel.SettingsTitle");let t=e,i=o.Types.AccessibilityTrait.Header;return(0,n.jsx)(o.View,Object.assign({style:b.titleContainer,accessibilityLabel:t,accessibilityTraits:i,importantForAccessibility:o.Types.ImportantForAccessibility.Yes},{children:(0,n.jsx)(l.HiddenText,Object.assign({style:[m.default.fontStyle.messagingHeaderSmall,this._themeStyles.headerTextColorStyle]},{children:e}))}))}_getHeaderText(e){return _.getHeaderText()}}t.default=_},635268:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=(i(898278),i(310167)),a=i(2519),r=i(632910),l=i(746096),c=i(110117),d=i(915877),u=i(733754),g=(i(915415),i(22222),i(581760)),h=i(640363),p=i(711828),S=(i(619675),i(24576)),m=i(311010);i(22541),(0,d.lazyProperties)({wrapper:()=>o.Styles.createViewStyle({marginTop:6,marginBottom:6,flexDirection:"row",alignItems:"center"}),statusMessage:()=>o.Styles.createTextStyle({marginLeft:6,flexShrink:1}),actionButton:()=>o.Styles.createButtonStyle({marginLeft:12,alignSelf:"center"}),actionButtonText:()=>o.Styles.createTextStyle({fontSize:m.default.fontSize.size14})});class C extends S.default{constructor(){super(...arguments),this._onActionButtonPress=()=>{C._installUpdate(this._getRootViewId())},this._onActionButtonHoverStart=()=>{this.setState({updateStatus:this.state.updateStatus,isHoveringActionButton:!0})},this._onActionButtonHoverEnd=()=>{this.setState({updateStatus:this.state.updateStatus,isHoveringActionButton:!1})}}_buildState(){return{updateStatus:s.default.getUpdateStatus(),isHoveringActionButton:!1}}componentDidMount(){super.componentDidMount(),s.default.checkForUpdates()}render(){return null}_getUpdateMessage(){return h.default.getPlatformType()===l.PlatformType.Linux?u.getString("AboutPanel.UpdateDownloadedLinux"):u.getString("AboutPanel.UpdateDownloaded")}_getUpdateButtonText(){return h.default.getPlatformType()===l.PlatformType.Linux?u.getString("AboutPanel.UpdateButtonLinux"):u.getString("AboutPanel.UpdateButton")}_getCheckmarkColor(){return this._useAccessibleTheme()?this._useDarkTheme()?g.Color.white:g.Color.black:this.state.updateStatus===a.default.Error?g.Color.red:g.Color.green}_renderCheckmark(e){return(0,n.jsx)(c.default,{icon:e?p.SkypeIcon.Error:p.SkypeIcon.PresenceOnlineGradient,size:p.IconSize.size20,color:this._getCheckmarkColor()})}}C._retryUpdate=()=>{s.default.checkForUpdates()},C._installUpdate=e=>{r.tryToQuitAndInstallUpdate(e)},t.default=C},523886:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackCategoryPicker=t.ReportCategories=void 0;const n=i(785893),o=i(496486),s=i(516778),a=i(915877),r=i(733754),l=i(24576),c=i(853374),d=i(293194),u=(0,a.lazyProperties)({picker:()=>s.Styles.createPickerStyle({height:44,borderRadius:8,paddingLeft:16}),mobilePicker:()=>s.Styles.createPickerStyle({flex:1,alignContent:"center",borderWidth:1,borderStyle:"solid"})});var g;!function(e){e.default="0",e.accessibility="1",e.call="3",e.bingAndNews="14",e.chatAndNotifications="5",e.contactsAndSearch="12",e.incorrectWording="15",e.other="11",e.paidServices="16",e.performanceCrashing="6",e.phoneCallsAndSms="13",e.sisu="19",e.translationAndCaptions="20"}(g=t.ReportCategories||(t.ReportCategories={}));class h extends l.default{constructor(){super(...arguments),this._onHandleMenuCommand=e=>{this.props.onHandleMenuCommand(e)},this._onPickerButtonRef=e=>{this._pickerButton=e||void 0},this._onPickerClick=e=>{const t={anchor:()=>this._pickerButton,useTheme:!0,positionPriorities:["bottom","top"]};return d.default.showWithOptions({id:"FeedbackCategoryPicker",config:t,getMenuItems:()=>this.state.items.map((e=>({text:e.label,command:e.value,isCheckbox:!0}))),handleMenuCommand:e=>{e!==d.SXActionMenuCancel&&this._onHandleMenuCommand(e)},rootViewId:this._getRootViewId(),invokingEvent:e})}}_buildState(){return{items:(0,o.map)(g,(e=>({label:this._getCategoryName(e),value:e})))}}render(){const e=[u.picker,{backgroundColor:this._themeColors.surfacePrimary,borderColor:this._themeColors.dividerPrimary,color:this._themeColors.textPrimary}];return(0,n.jsx)(s.Picker,{items:this.state.items,style:e,selectedValue:this.props.selectedReportCategory,onValueChange:this._onHandleMenuCommand})}_getCategoryName(e){switch(e){case g.default:return r.getString("FeedbackMechanism.FeedbackCategoryDefault");case g.accessibility:return r.getString("FeedbackMechanism.FeedbackCategoryAccessibility");case g.call:return r.getString("FeedbackMechanism.FeedbackCategoryCall");case g.bingAndNews:return r.getString("FeedbackMechanism.FeedbackCategoryBingAndNews");case g.chatAndNotifications:return r.getString("FeedbackMechanism.FeedbackCategoryNotifications");case g.contactsAndSearch:return r.getString("FeedbackMechanism.FeedbackCategoryContactsAndSearch");case g.incorrectWording:return r.getString("FeedbackMechanism.FeedbackCategoryIncorrectWording");case g.other:return r.getString("FeedbackMechanism.FeedbackCategoryOther");case g.paidServices:return r.getString("FeedbackMechanism.FeedbackCategoryPaidServices");case g.performanceCrashing:return r.getString("FeedbackMechanism.FeedbackCategoryPerformanceCrashing");case g.phoneCallsAndSms:return r.getString("FeedbackMechanism.FeedbackCategoryPhoneCallsAndSms");case g.sisu:return r.getString("FeedbackMechanism.FeedbackCategorySisu");case g.translationAndCaptions:return r.getString("FeedbackMechanism.FeedbackCategoryTranslationAndCaptions");default:return c.default.switchStatementExhaustiveChecking(e)}}_renderMobilePicker(e){return(0,n.jsx)(s.Button,Object.assign({ref:this._onPickerButtonRef,style:[e,u.mobilePicker],onPress:this._onPickerClick},{children:(0,n.jsx)(s.Text,Object.assign({style:{color:this._themeColors.primaryTextColor}},{children:this._getCategoryName(this.props.selectedReportCategory)}))}))}}t.FeedbackCategoryPicker=h},206652:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(898278),r=i(587134),l=i(765110),c=i(915877),d=i(733754),u=i(371639),g=i(106658),h=i(901246),p=i(178735),S=i(293194),m=i(619675),C=i(24576),y=(0,c.lazyProperties)({container:()=>s.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",alignItems:"center",alignSelf:"stretch"}),button:()=>s.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10}),chevron:()=>s.Styles.createTextStyle({marginTop:4})});class f extends C.default{constructor(){super(...arguments),this._items=[{label:d.getString("UserSettingsPanel.TextSizeSmaller"),value:g.MessageStreamFontSize[g.MessageStreamFontSize.Smaller]},{label:d.getString("UserSettingsPanel.TextSizeSmall"),value:g.MessageStreamFontSize[g.MessageStreamFontSize.Small]},{label:d.getString("UserSettingsPanel.TextSizeNormal"),value:g.MessageStreamFontSize[g.MessageStreamFontSize.Normal]},{label:d.getString("UserSettingsPanel.TextSizeLarge"),value:g.MessageStreamFontSize[g.MessageStreamFontSize.Large]},{label:d.getString("UserSettingsPanel.TextSizeLarger"),value:g.MessageStreamFontSize[g.MessageStreamFontSize.Larger]}],this._onPickerButtonRef=e=>{this._pickerButton=e},this._onPickerClick=e=>{const t={anchor:()=>this._pickerButton,useTheme:!0,positionPriorities:["bottom","top"]};return S.default.showWithOptions({id:"fontSizePickerMenu",config:t,getMenuItems:this._getMenuItems,handleMenuCommand:this._onHandleMenuCommand,rootViewId:this._getRootViewId(),invokingEvent:e})},this._getMenuItems=()=>this._items.map((e=>({text:e.label,command:e.value,selected:e.value===g.MessageStreamFontSize[this.state.currentFontSize],isCheckbox:!0}))),this._onHandleMenuCommand=e=>{if(e===S.SXActionMenuCancel)return;let t;switch(e){case g.MessageStreamFontSize[g.MessageStreamFontSize.Smaller]:t=g.MessageStreamFontSize.Smaller;break;case g.MessageStreamFontSize[g.MessageStreamFontSize.Small]:t=g.MessageStreamFontSize.Small;break;case g.MessageStreamFontSize[g.MessageStreamFontSize.Large]:t=g.MessageStreamFontSize.Large;break;case g.MessageStreamFontSize[g.MessageStreamFontSize.Larger]:t=g.MessageStreamFontSize.Larger;break;case g.MessageStreamFontSize[g.MessageStreamFontSize.Normal]:default:t=g.MessageStreamFontSize.Normal}u.setFontSize(t,h.FontSizeChangeOrigin.Settings)}}_buildState(e,t){return{currentFontSize:p.default.getMessageStreamFontSize()}}render(){const e=d.getString("UserSettingsPanel.TextSize")+", "+this._getSelectedItemLabel()+", "+d.getString("Global.SelectedAccessibilityLabel");return(0,n.jsxs)(s.View,{children:[(0,n.jsxs)(s.View,Object.assign({style:[y.container,a.ListItem.small.shortHeightStyle]},{children:[(0,n.jsx)(m.RowTitle,Object.assign({colorThemeOverride:this._currentTheme},{children:d.getString("UserSettingsPanel.TextSize")})),(0,n.jsx)(l.default,{ref:this._onPickerButtonRef,style:y.button,label:this._getSelectedItemLabel(),useBodyBoldLabel:!0,labelMaxWidth:270,chevronStyle:y.chevron,onPress:this._onPickerClick,accessibilityLabel:e})]})),(0,n.jsx)(r.default,{})]})}_getSelectedItemLabel(){const e=o.find(this._items,(e=>e.value===g.MessageStreamFontSize[this.state.currentFontSize]));return e?e.label:""}}t.default=f},254365:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(964282),s=i(67930),a=i(205114),r=i(733754),l=i(228574),c=i(380982),d=i(358865),u=i(767927),g=i(10564);class h extends s.default{static getHeaderText(){return r.getString("UserSettingsPanel.GeneralTitle")}render(){return(0,n.jsxs)(u.default,{children:[(0,n.jsx)(a.default,{}),(0,n.jsx)(l.default,{}),(0,n.jsx)(o.default,{}),(0,n.jsx)(c.default,{}),(0,n.jsx)(d.default,{}),(0,n.jsx)(g.default,{})]})}_getHeaderText(e){return h.getHeaderText()}}t.default=h},99634:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(281878),s=i(889391),a=i(733754),r=i(285683),l=i(975384),c=i(67930);class d extends c.default{_getHeaderText(e){return a.getString("UserSettingsPanel.HeaderSettingsLabel")}_buildState(e,t){return{shouldShowNavigationBottonSection:s.default.getS4LCommerceFeatures().weatherInHeader.enabled}}render(){return this.state.shouldShowNavigationBottonSection?(0,n.jsxs)(o.Box,{children:[(0,n.jsx)(r.SectionTitle,{title:a.getString("UserSettingsPanel.HeaderSettingsLabel"),titleStyles:this.props.titleStyles},"headerSettingTitle"),(0,n.jsx)(l.default,{})]}):null}}t.default=d},234452:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(901130),s=i(156879),a=i(67930),r=i(833413),l=i(733754),c=i(285683),d=i(767927);class u extends a.default{static getHeaderText(){return l.getString("UserSettingsPanel.HelpAndAboutTitle")}render(){return(0,n.jsxs)(d.default,{children:[(0,n.jsx)(s.default,{isPartOfOtherPanel:!0}),(0,n.jsx)(r.default,{buttonStyles:this.props.buttonStyles}),(0,n.jsx)(c.SectionTitle,{title:l.getString("UserSettingsPanel.AboutTitleUpper")}),(0,n.jsx)(o.default,{buttonStyles:this.props.buttonStyles})]})}_getHeaderText(e){return u.getHeaderText()}}t.default=u},833413:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(787720),r=i(889391),l=(i(651587),i(731733)),c=i(436237),d=i(733754),u=i(593486),g=i(178735),h=i(104735),p=i(795691),S=i(24148),m=i(695697),C=i(285683),y=i(590602),f=i(982445),b=(i(640363),i(24576)),_=i(677524);class v extends b.default{constructor(){super(...arguments),this._onDisableShakeAndSendChange=(e,t)=>{g.default.setDisableShakeAndSend(!t)},this._getDevFeatures=()=>[],this._onPressManageFeatureFlags=()=>{h.default.navigateToFeatureFlags(this._getRootViewId())},this._onPressManageSlimcoreFlags=()=>{h.default.navigateToSlimcoreFlags(this._getRootViewId())},this._onPressShowRawConfig=()=>{h.default.navigateToRawPreferences(this._getRootViewId())},this._sxPlaygroundPress=()=>{h.default.navigateToSXPlayground()},this._getSXPlayground=()=>{},this._onSendFeedbackButtonPressed=()=>{c.track(new S.NavigationHelpAndFeedback(p.NavigationSettingsItem.SendFeedback,p.NavigationSettingsOrigin.HelpAndFeedbackMenu)),m.default.openFeedbackUrl(r.default.getConfigSettings().feedbackAndProblemGoParam.feedback,d.getString("MyProfilePanel.SendFeedbackButtonTitle"),this._getRootViewId())},this._onBrowseKnownIssuesButtonPressed=()=>{const e=l.getTelemetryCorrelationId();c.track(new S.NavigationHelpAndFeedback(p.NavigationSettingsItem.BrowseKnownIssues,p.NavigationSettingsOrigin.HelpAndFeedbackMenu,e)),this._openHelpUrlWithTrackingParams(r.default.getConfigSettings().helpGoParam.browseKnownIssues,d.getString("MyProfilePanel.BrowseKnownIssuesButtonTitle"),e)},this._onSkypeStatusButtonTitleButtonPressed=()=>{const e=l.getTelemetryCorrelationId();c.track(new S.NavigationHelpAndFeedback(p.NavigationSettingsItem.SkypeStatus,p.NavigationSettingsOrigin.HelpAndFeedbackMenu,e)),this._openHelpUrlWithTrackingParams(r.default.getConfigSettings().helpGoParam.skypeStatus,d.getString("MyProfilePanel.SkypeStatusButtonTitle"),e)},this._onSupportArticlesButtonPressed=()=>{const e=l.getTelemetryCorrelationId();c.track(new S.NavigationHelpAndFeedback(p.NavigationSettingsItem.GetHelp,p.NavigationSettingsOrigin.HelpAndFeedbackMenu,e)),this._openHelpUrlWithTrackingParams(r.default.getConfigSettings().helpGoParam.supportArticles,d.getString("MyProfilePanel.GetHelpTitle"),e)},this._onReportAProblemButtonPressed=()=>{c.track(new S.NavigationHelpAndFeedback(p.NavigationSettingsItem.ReportAProblem,p.NavigationSettingsOrigin.HelpAndFeedbackMenu)),m.default.reportProblem(!0,this._getRootViewId())},this._onRateUsButtonPressed=()=>{c.track(new S.NavigationHelpAndFeedback(p.NavigationSettingsItem.RateUs,p.NavigationSettingsOrigin.HelpAndFeedbackMenu)),m.default.openFeedbackUrl(r.default.getConfigSettings().feedbackAndProblemGoParam.rating,d.getString("MyProfilePanel.RateUsButtonTitle"),this._getRootViewId())},this._onUserVoiceLinkPressed=()=>{c.track(new S.NavigationHelpAndFeedback(p.NavigationSettingsItem.UserVoice,p.NavigationSettingsOrigin.HelpAndFeedbackMenu)),s.Linking.openUrl(l.getUserVoiceLinkUrl())}}_buildState(e,t){return{ecsShakeToSendEnabled:r.default.getOnboardingFeatures().enableReportProblemViaBot||r.default.getOnboardingFeatures().features.enableReportProblemDirectly,enableShakeAndSend:!g.default.isShakeAndSendDisabled(),enableUserVoiceLink:l.isUserVoiceLinkEnabled(),enableBrowseKnownIssuesLink:r.default.getS4LUiFeatures().enableBrowseKnownIssuesLink,isChild:u.default.isChild()}}render(){const e=[(0,n.jsx)(C.SectionTitle,{title:d.getString("MyProfilePanel.HelpTitle")},"helpTitle"),this._getHelpbutton(),this.state.enableBrowseKnownIssuesLink?this._getBrowseKnownIssuesButton():void 0,this._getSkypeStatusButton(),...this._getDevFeatures()];return this.state.isChild||e.push((0,n.jsx)(C.SectionTitle,{title:d.getString("MyProfilePanel.FeedbackTitle")},"feedbackTitle"),this._getSendFeedbackButton(),this._getReportAProblemButton(),this.state.enableUserVoiceLink?this._getUserVoiceLinkButton():void 0,this._getRateUsButton(),void 0),(0,n.jsx)(s.View,Object.assign({style:this.props.style},{children:o.compact(e)}))}_getReportAProblemButton(){return(0,n.jsx)(_.WideButton,{label:d.getString("MyProfilePanel.ReportAProblemButtonTitle"),onPressed:this._onReportAProblemButtonPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"reportAProblem")}_getSendFeedbackButton(){return(0,n.jsx)(_.WideButton,{label:d.getString("MyProfilePanel.GiveFeedbackButtonTitle"),onPressed:this._onSendFeedbackButtonPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"sendFeedback")}_getSkypeStatusButton(){return(0,n.jsx)(_.WideButton,{label:d.getString("MyProfilePanel.SkypeStatusButtonTitle"),onPressed:this._onSkypeStatusButtonTitleButtonPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"skypeStatus")}_getBrowseKnownIssuesButton(){return(0,n.jsx)(_.WideButton,{label:d.getString("MyProfilePanel.BrowseKnownIssuesButtonTitle"),onPressed:this._onBrowseKnownIssuesButtonPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"browseKnownIssues")}_getHelpbutton(){return(0,n.jsx)(_.WideButton,{label:d.getString("MyProfilePanel.GetHelpTitle"),onPressed:this._onSupportArticlesButtonPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"supportArticles")}_getRateUsButton(){return(0,n.jsx)(_.WideButton,{label:d.getString("MyProfilePanel.RateUsButtonTitle"),onPressed:this._onRateUsButtonPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"rateUs")}_getShakeAndSendButton(){const e=d.getString("UserSettingsPanel.EnableShakeAndSend");return(0,n.jsx)(a.default,Object.assign({style:[y.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableShakeAndSend,accessibilityLabel:e,onChange:this._onDisableShakeAndSendChange},{children:(0,n.jsx)(C.SwitchLabel,{title:e})}),"enableShakeAndSend")}_getUserVoiceLinkButton(){return(0,n.jsx)(_.WideButton,{label:d.getString("MyProfilePanel.UserVoice"),onPressed:this._onUserVoiceLinkPressed,buttonStyles:this.props.buttonStyles,hideArrow:!0},"userVoiceLink")}_openHelpUrlWithTrackingParams(e,t,i){let n=f.addSsoFlagToUrl(e,!0);n=l.addCommonTrackingParams(n,!0,!0);const o={tcg:i};h.default.navigateToHelpAndFeedbackLink(n,"",t,this._getRootViewId(),o)}}t.default=v},285683:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SectionTitle=t.SwitchLabel=void 0;const n=i(785893),o=i(516778),s=i(711930),a=i(915877),r=i(590602),l=i(680837),c=i(619675),d=i(24576),u=i(359433),g=i(898278),h=i(733754),p=(0,a.lazyProperties)({title:()=>o.Styles.createTextStyle({paddingTop:30,paddingBottom:10})});class S extends d.default{constructor(){super(...arguments),this._onLearnMore=e=>{e.stopPropagation(),e.preventDefault(),o.Linking.openUrl(this.props.learnMoreUrl)}}render(){const e=[r.default.switchTitleMediumSemiLarge];this.props.disabled&&e.push(this._themeStyles.disabledTextColorStyle);const t=(0,n.jsx)(c.RowTitle,Object.assign({style:e,numberOfLines:2},{children:this.props.title}));let i;return this.props.subtitle&&(i=(0,n.jsx)(o.View,{children:(0,n.jsxs)(c.Caption,Object.assign({style:r.default.subtitleMediumSemiLarge,numberOfLines:4},{children:[this.props.subtitle,this.props.learnMoreUrl?" ":null,this._getOptionalLearnMoreLink()]}))})),(0,n.jsxs)(o.View,Object.assign({style:l.default.flexOne},{children:[t,i]}))}_getOptionalLearnMoreLink(){return this.props.learnMoreUrl?(0,n.jsx)(u.default,Object.assign({linkTextStyle:g.LinkTextStyle.Caption,url:"#",blue:!0,onPress:this._onLearnMore},{children:h.getString("Global.LearnMore")}),"learnMore"):null}}t.SwitchLabel=S;class m extends d.default{render(){let e=(0,n.jsx)(c.Subtitle,Object.assign({style:this.props.titleStyles||p.title,numberOfLines:this.props.numberOfLines||1,colorThemeOverride:this.props.colorThemeOverride,accessibilityHidden:!0},{children:this.props.title}));{const t=s.default.headerAccessibilityInfo(this.props.title);e=(0,n.jsx)(o.View,Object.assign({style:this.props.containerStyles,accessibilityLabel:t.accessibilityLabel,accessibilityTraits:t.accessibilityTraits,importantForAccessibility:o.Types.ImportantForAccessibility.Yes},{children:e}))}return e}}t.SectionTitle=m},590602:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(516778),o=i(915877);t.default=(0,o.lazyProperties)({controlRow:()=>n.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",minHeight:60,borderBottomWidth:1}),titleMediumSemiLarge:()=>n.Styles.createTextStyle({flex:1,marginRight:12}),switchTitleMediumSemiLarge:()=>n.Styles.createTextStyle({flex:1,marginRight:12,marginTop:4,marginBottom:2}),subtitleMediumSemiLarge:()=>n.Styles.createTextStyle({flex:1,marginRight:12,marginTop:2,marginBottom:4}),controlRowWithDescription:()=>n.Styles.createViewStyle({paddingTop:5,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingBottom:0,marginVertical:0}),controlRowWithNoBorder:()=>n.Styles.createViewStyle({borderBottomWidth:0})})},712150:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(701025),a=i(889391),r=i(67930),l=i(47447),c=i(711930),d=i(587134),u=i(746096),g=i(436237),h=i(172490),p=i(915877),S=i(733754),m=i(593486),C=i(178735),y=i(285683),f=i(619675),b=i(853374),_=i(680837);var v;!function(e){e[e.General=0]="General",e[e.Messaging=1]="Messaging",e[e.Calling=2]="Calling",e[e.Accessibility=3]="Accessibility",e[e.Global=4]="Global"}(v||(v={}));const T=[{category:v.General,shortcuts:[u.KeyboardShortcut.OpenKeyboardShortcuts,u.KeyboardShortcut.OpenMainWindow,u.KeyboardShortcut.OpenAppSettings,u.KeyboardShortcut.OpenHelpInABrowser,u.KeyboardShortcut.SendFeedback,u.KeyboardShortcut.OpenThemePicker,u.KeyboardShortcut.ToggleTheme,u.KeyboardShortcut.NavigateToRecents,u.KeyboardShortcut.OpenNotificationPanel,u.KeyboardShortcut.Search,u.KeyboardShortcut.NavigateToNextConversation,u.KeyboardShortcut.NavigateToPreviousConversation,u.KeyboardShortcut.ZoomIn,u.KeyboardShortcut.ZoomOut,u.KeyboardShortcut.ResetZoom,u.KeyboardShortcut.Quit,u.KeyboardShortcut.OpenSxPlayground]},{category:v.Messaging,shortcuts:[u.KeyboardShortcut.StartNewConversation,u.KeyboardShortcut.NewGroup,u.KeyboardShortcut.OpenContactsPanel,u.KeyboardShortcut.ShowConversationProfile,u.KeyboardShortcut.AddPeopleToConversation,u.KeyboardShortcut.SendFile,u.KeyboardShortcut.ToggleGallery,u.KeyboardShortcut.MarkAsUnread,u.KeyboardShortcut.EditMessage,u.KeyboardShortcut.FocusMessageComposer,u.KeyboardShortcut.EnableMultipleSelectMessages,u.KeyboardShortcut.ArchiveConversation,u.KeyboardShortcut.SearchInConversation]},{category:v.Calling,shortcuts:[u.KeyboardShortcut.AcceptIncomingCall,u.KeyboardShortcut.HangupOrRejectCall,u.KeyboardShortcut.StartVideoCall,u.KeyboardShortcut.StartAudioCall,u.KeyboardShortcut.ToggleMicrophone,u.KeyboardShortcut.ToggleCamera,u.KeyboardShortcut.ResizeVideoPreview,u.KeyboardShortcut.OpenDialpad,u.KeyboardShortcut.AddPeopleToCall,u.KeyboardShortcut.TakeCallSnapshot]},{category:v.Accessibility,shortcuts:[u.KeyboardShortcut.AnnounceMuteStatus,u.KeyboardShortcut.AnnounceSelfVideoOnOffStatus]}],P=(0,p.lazyProperties)({row:()=>o.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",marginVertical:8}),rowWithKeyViews:()=>o.Styles.createViewStyle({marginVertical:2,paddingBottom:6,alignItems:"center"}),innerRow:()=>o.Styles.createViewStyle({marginHorizontal:12}),sectionTitleRow:()=>o.Styles.createViewStyle({marginHorizontal:12,paddingBottom:8,paddingTop:24}),firstSectionTitleRow:()=>o.Styles.createViewStyle({paddingTop:12}),keyBase:()=>o.Styles.createTextStyle({margin:1}),keyWrapper:()=>o.Styles.createTextStyle({paddingVertical:8}),keyView:()=>o.Styles.createTextStyle({borderWidth:1,borderRadius:5,margin:1,textAlign:"center",paddingVertical:6,paddingHorizontal:8}),dividerStyle:()=>o.Styles.createViewStyle({position:"absolute",left:0,right:0,bottom:0,height:1})});class k extends r.default{constructor(){super(...arguments),this._handleKeyboardCommand=()=>{const e=b.default.newCauseId();return g.log(u.LogTraceArea.Navigation,"KeyboardShortcutsPanel._handleKeyboardCommand causeId: "+e),this._goBack(e),!0},this._renderShortcutsGroup=(e,t)=>{const i=e.shortcuts.map(this._renderShortcutRow);if(i.length>0){let o;switch(e.category){case v.General:o=S.getString("KeyboardShortcuts.GeneralCategoryHeader");break;case v.Messaging:o=S.getString("KeyboardShortcuts.MessagingCategoryHeader");break;case v.Calling:o=S.getString("KeyboardShortcuts.CallingCategoryHeader");break;case v.Accessibility:o=S.getString("KeyboardShortcuts.AccessibilityCategoryHeader");break;case v.Global:o=S.getString("KeyboardShortcuts.GlobalCategoryHeader");break;default:o=b.default.switchStatementExhaustiveChecking(e.category)}const s=[P.sectionTitleRow];0===t&&s.push(P.firstSectionTitleRow);return[(0,n.jsx)(y.SectionTitle,{title:o,titleStyles:s},"title"+e.category),...i]}},this._renderShortcutRow=e=>{if(!this.state.enableKeyboardNavigationBetweenConversations&&(e===u.KeyboardShortcut.NavigateToNextConversation||e===u.KeyboardShortcut.NavigateToPreviousConversation))return;if(this.state.isChild&&e===u.KeyboardShortcut.SendFeedback)return;const t=h.default.shortcutListItemForShortcut(e);return t?this._renderRow(e.toString(),t.action,t.command,t.commandParts,t.accessibleCommand,!0):void 0}}static getHeaderText(){return S.getString("KeyboardShortcuts.Title2")}_buildState(e,t){const i={enableKeyboardNavigationBetweenConversations:!this._getContext().isPresentedInSplitView&&a.default.getS4LMessagingFeatures().enableKeyboardNavigationBetweenConversations,showGlobalHotkeySection:l.UICapabilities.systemHotKeysSupported()&&!!C.default.getUserPreferencesLocal().enableSystemHotKeys,enableScreenSharingToolbar:a.default.getS4LCMCFeatures().enableScreenSharingToolbar,isChild:m.default.isChild()};return t&&(i.viewWidth=150),i}componentDidMount(){super.componentDidMount(),h.default.addHandler(u.KeyboardShortcut.OpenKeyboardShortcuts,this._handleKeyboardCommand)}componentWillUnmount(){super.componentWillUnmount(),h.default.removeHandler(u.KeyboardShortcut.OpenKeyboardShortcuts,this._handleKeyboardCommand)}render(){let e;if(this.state.viewWidth){const t=!T.some((e=>e.category===v.Global));if(this.state.showGlobalHotkeySection&&t){const e=[u.KeyboardShortcut.AcceptIncomingCall,u.KeyboardShortcut.HangupOrRejectCall,u.KeyboardShortcut.ToggleMicrophone];this.state.enableScreenSharingToolbar&&e.push(u.KeyboardShortcut.FocusScreenSharingToolbar),T.push({category:v.Global,shortcuts:e})}else this.state.showGlobalHotkeySection||t||T.pop();e=(0,n.jsx)(o.View,{children:T.map(this._renderShortcutsGroup)})}return(0,n.jsx)(s.SafeAreaView,Object.assign({style:_.default.flexOneRN,edges:["left","right","bottom"]},{children:(0,n.jsx)(o.ScrollView,Object.assign({style:_.default.flexOne},{children:(0,n.jsx)(o.View,Object.assign({style:[_.default.flexOne]},{children:e}))}))}))}_renderRow(e,t,i,s,a,r,l=!1){const u=a?c.default.combinedAccessibilityLabel(t,a,". "):void 0,g=u?o.Types.ImportantForAccessibility.NoHideDescendants:void 0,h=[P.row];let p,S;{S=(0,n.jsx)(d.default,{style:P.dividerStyle,marginLeft:12,marginRight:12}),h.push(P.rowWithKeyViews);const e=o.Styles.createViewStyle({borderColor:this._themeColors.secondaryTextColor},!1),t=(null==s?void 0:s.map(((t,i)=>(0,n.jsx)(f.BodyText,Object.assign({size:r?f.BodyTextSize.SmallDeprecated:void 0,style:[P.keyBase,P.keyView,e]},{children:t}),"key"+i))))||[];p=(0,n.jsx)(o.Text,Object.assign({style:[P.keyBase,P.keyWrapper]},{children:t}))}return(0,n.jsxs)(o.View,Object.assign({style:h,accessibilityLabel:u,ariaRoleDescription:u?"":void 0,tabIndex:u?0:void 0,importantForAccessibility:l?o.Types.ImportantForAccessibility.NoHideDescendants:void 0},{children:[(0,n.jsx)(o.View,Object.assign({style:[P.innerRow],importantForAccessibility:g},{children:(0,n.jsx)(f.BodyText,Object.assign({size:r?f.BodyTextSize.SmallDeprecated:void 0},{children:t}))})),(0,n.jsx)(o.View,Object.assign({style:[P.innerRow],importantForAccessibility:g},{children:p})),S]}),e)}_getHeaderText(e){return k.getHeaderText()}}t.default=k},832182:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(711930),a=i(898278),r=i(765110),l=i(915877),c=i(733754),d=i(536150),u=i(590602),g=i(293194),h=(i(680837),i(619675)),p=i(24576),S=(0,l.lazyProperties)({container:()=>o.Styles.createViewStyle({justifyContent:"center"}),content:()=>o.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",alignItems:"center",alignSelf:"stretch"}),button:()=>o.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10}),chevron:()=>o.Styles.createTextStyle({marginTop:4}),withCaption:()=>o.Styles.createViewStyle({marginTop:10,marginBottom:5}),marginLeft:()=>o.Styles.createViewStyle({marginLeft:0})});class m extends p.default{constructor(){super(...arguments),this._onPickerButtonRef=e=>{this._pickerButton=e||void 0},this._onPickerClick=e=>{const t={anchor:()=>this._pickerButton,useTheme:!0,positionPriorities:["bottom","top"]};return g.default.showWithOptions({id:this.props.id,config:t,getMenuItems:this._getMenuItems,handleMenuCommand:this._onHandleMenuCommand,rootViewId:this._getRootViewId(),invokingEvent:e})},this._getMenuItems=()=>this.props.items.map((e=>({text:e.label,command:e.value,selected:this.props.isItemSelected(e.value),isCheckbox:!0}))),this._onHandleMenuCommand=e=>{e!==g.SXActionMenuCancel&&this.props.onHandleItemSelection(e)}}_buildState(e,t){return{isMobileScreenReaderEnabled:d.default.isMobileScreenReaderEnabled()}}render(){const e=s.default.combinedAccessibilityLabel(this.props.rowTitle+", "+this.props.selectedItemLabel,c.getString("Global.SelectedAccessibilityLabel")),t=[S.container,a.ListItem.small.shortHeightStyle,this.props.style],i=[S.content],l=[S.button,this.props.rowTitle?void 0:S.marginLeft],d=this._getCaption();return d&&i.push(S.withCaption),(0,n.jsxs)(o.View,Object.assign({style:t},{children:[(0,n.jsxs)(o.View,Object.assign({style:i},{children:[this._getRowTitle(),(0,n.jsx)(r.default,{ref:this._onPickerButtonRef,style:l,label:this.props.selectedItemLabel,labelColor:this.props.labelColor,useBodyBoldLabel:!0,labelMaxWidth:270,chevronStyle:S.chevron,onPress:this._onPickerClick,accessibilityLabel:e})]})),d]}))}_getRowTitle(){return this.props.rowTitle?(0,n.jsx)(h.RowTitle,Object.assign({colorThemeOverride:this._currentTheme,importantForAccessibility:this.state.isMobileScreenReaderEnabled?o.Types.ImportantForAccessibility.No:void 0},{children:this.props.rowTitle})):void 0}_getCaption(){if(this.props.caption)return"string"==typeof this.props.caption?(0,n.jsx)(h.Caption,Object.assign({style:u.default.subtitleMediumSemiLarge},{children:this.props.caption})):this.props.caption}}t.default=m},491715:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(667294),a=i(705465),r=i(898278),l=i(110117),c=i(915877),d=i(451072),u=i(711828),g=i(680837),h=i(619675),p=i(546757),S=i(746096),m=i(600212),C=i(311010),y=i(89808),f=i(258187),b=(0,c.lazyProperties)({row:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginHorizontal:16,borderBottomWidth:1,height:60}),compositeRow:()=>o.Styles.createViewStyle({marginHorizontal:20}),selectedIcon:()=>o.Styles.createViewStyle({margin:5,minWidth:u.IconSize.size15}),centerDiv:()=>o.Styles.createViewStyle({flex:1,justifyContent:"center",alignItems:"center"})}),_=a.StyleSheet.create({view:{flex:1},flatList:{flexGrow:1}}),v=(e,t)=>({length:60,offset:60*t,index:t}),T=(e,t)=>{if(""===e)return t;const i=e.toLowerCase();return t.filter((e=>e.label.toLowerCase().includes(i)))};t.default=function(e){const t=(0,m.useSkypeTheme)(),i=(0,f.useCommonContext)(),c=(0,s.useRef)(null),{query:P,onItemPress:k,currentItemKey:A}=e,[I,w]=(0,s.useState)((()=>T(P,e.items))),x=y.default.getTextColorStyleNoSubscription(),N=(0,s.useMemo)((()=>[C.default.rowTitleFontStyle(i.theme),x]),[i.theme,x]),M=(0,s.useMemo)((()=>[b.row,g.default.pointerCursor,g.default.noncollapsibleView,t.themeStyles.dividerBorderColorStyle,i.isPresentedInDesktopSubview?b.compositeRow:void 0,e.isMobileScreenSize?r.ListItem.small.regularHeightStyle:r.ListItem.small.shortHeightStyle]),[i.isPresentedInDesktopSubview,e.isMobileScreenSize,t.themeStyles]);(0,s.useEffect)((()=>{w(T(P,e.items))}),[P,e.items]),(0,s.useEffect)((()=>{var t;null===(t=c.current)||void 0===t||t.scrollToIndex({animated:!0,index:e.initialItemIndex,viewPosition:0})}),[e.initialItemIndex]);const L=(0,s.useCallback)((()=>{const{primaryTextColor:e}=t.themeColors;return(0,n.jsx)(l.default,{icon:u.SkypeIcon.Ok,size:u.IconSize.size15,color:e,style:b.selectedIcon})}),[t.themeColors]),O=(0,s.useCallback)(((e,t)=>{let i="",s="",a="",r=0;if(P.length>0){const t=P.toLocaleLowerCase();r=e.label.toLocaleLowerCase().indexOf(t),-1===r?i=e.label:(i=e.label.slice(0,r),s=e.label.slice(r,r+t.length),a=e.label.slice(r+t.length))}else i=e.label;return(0,n.jsxs)(h.BodyText,Object.assign({bold:t,style:g.default.flexNegativeOne,numberOfLines:1},{children:[(0,n.jsx)(o.Text,{children:i}),(0,n.jsx)(o.Text,Object.assign({style:N},{children:s})),(0,n.jsx)(o.Text,{children:a})]}))}),[P,N]),D=(0,s.useCallback)((({item:e})=>{const t=e.key===A,i=t?L():null;return(0,n.jsxs)(d.default.Button,Object.assign({style:M,onPress:()=>{k(e)},accessibilityLabel:e.label},{children:[O(e,t),i]}),e.key)}),[O,L,k,A,M]);return 0===I.length?(0,n.jsx)(o.View,Object.assign({style:b.centerDiv},{children:(0,n.jsx)(p.default,{query:e.query,origin:S.SearchResultsListOrigin.ListSearchPickerPanel})})):(0,n.jsx)(a.View,Object.assign({style:_.view},{children:(0,n.jsx)(a.FlatList,{data:I,renderItem:D,ref:c,getItemLayout:v,initialNumToRender:I.length,contentContainerStyle:_.flatList})}))}},768248:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(705465),a=i(667294),r=i(746096),l=i(436237),c=i(733754),d=i(190631),u=i(853374),g=i(752754),h=i(341444),p=i(437490),S=i(258187),m=i(780128),C=s.StyleSheet.create({headerContainer:{alignItems:"stretch",flexDirection:"column"}});t.default=function(e){const t=(0,S.useCommonContext)(),i=(0,a.useRef)(null),[y]=(0,a.useState)(new o.Animated.Value(0)),[f]=(0,a.useState)(o.Styles.createAnimatedViewStyle({transform:[{translateY:y}]})),b=e.isUsingStackNavigationContext?20:0,[_]=(0,a.useState)(new o.Animated.Value(m.default.expandedHeight(t.rootViewId)+b)),[v]=(0,a.useState)(o.Styles.createAnimatedViewStyle({height:_})),T=n=>{var o;const s=u.default.newCauseId();l.log(r.LogTraceArea.Navigation,"ListSearchPickerPanel._onSearchActive,  causeId: "+s),(i=>{const n=t.rootViewId,o=P(e.isPortrait,e.isSmallDevice,e.statusBarPadding),s=i?0:-1*o,a=i?o+m.default.collapsableHeight(n)+b:m.default.expandedHeight(n)+e.statusBarPadding+b;y.setValue(s),_.setValue(a)})(!n),n||null===(o=i.current)||void 0===o||o.setState({isActive:!1})},P=(e,t,i)=>e?t?d.HeaderHeightSmall:d.HeaderHeight:t?d.HeaderHeightLandscapeSmall:d.HeaderHeightLandscape+i,k=()=>e.isUsingStackNavigationContext?(e.searchEnabled&&!e.isHeaderActive&&T(e.isHeaderActive),(0,n.jsx)(g.default,{initialValue:1,showButtonWhenInactive:!0,placeholderText:c.getString("PSTNCountrySelector.SearchPlaceholder"),onInputTextChange:e.onSearch,onActive:T,ref:i},"searchInputButton")):(0,n.jsx)(h.default,{autoFocus:!0,placeholderText:c.getString("PSTNCountrySelector.SearchPlaceholder"),activePlaceholderText:c.getString("PSTNCountrySelector.SearchPlaceholder"),showButtonWhenInactive:!0,autoFocusWhenActive:!0,onInputTextChange:e.onSearch},"searchInputButton"),A=(0,n.jsx)(d.SimplePanelHeader,{panelName:e.headerText,leftButton:{closeButtonType:e.isAloneInNavStack||t.isPresentedByMobileStackNavigator?d.CloseButtonType.Close:d.CloseButtonType.Back,title:c.getString("Global.CloseButtonTitle"),onPress:e.goBack},hideBottomBorder:e.isUsingStackNavigationContext,rightButtons:e.differentItemsSelected?{text:c.getString("Global.ApplyButtonTitle"),onPress:()=>{const t=u.default.newCauseId();l.log(r.LogTraceArea.Navigation,"ListSearchPickerHeader.onDoneButtonPress,  causeId: "+t),p.dismissAll(),e.action(e.currentItemKey),e.goBack()}}:void 0,leavePaddingForStatusBar:(e.searchEnabled,void 0)});let I;return I=e.isUsingStackNavigationContext&&e.searchEnabled?(0,n.jsx)(s.SafeAreaView,{children:(0,n.jsx)(o.Animated.View,Object.assign({style:[C.headerContainer,v]},{children:(0,n.jsxs)(o.Animated.View,Object.assign({style:f},{children:[A,k()]}))}))}):(0,n.jsxs)(o.View,{children:[A,e.searchEnabled?k():void 0]}),I}},281232:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(667294),a=i(705465),r=i(733754),l=i(886045),c=i(491715),d=i(768248),u=i(746096),g=i(436237),h=a.StyleSheet.create({panel:{flex:1,alignSelf:"stretch"}});t.default=function(e){const[t,i]=(0,s.useState)(""),[p,S]=(0,s.useState)(e.initialItemKey),[m,C]=(0,s.useState)(!0),y=(0,o.debounce)((t=>{g.log(u.LogTraceArea.Navigation,"ListSearchPickerPanel.onSearch"),e.isUsingStackNavigationContext&&!m&&e.searchEnabled&&C(!0),i(t)})),f=(0,s.useCallback)((t=>{l.default.maybeAnnounceForAccessibility(r.getString("ListSearchPickerPanel.ItemSelectedAnnouncement",{item:t.label}),1e3),e.isUsingStackNavigationContext&&m&&e.searchEnabled&&C(!1),S(t.key)}),[e.isUsingStackNavigationContext,m,e.searchEnabled]);return(0,n.jsxs)(a.View,Object.assign({style:h.panel},{children:[(0,n.jsx)(d.default,{differentItemsSelected:p!==e.initialItemKey,currentItemKey:p,action:e.action,headerText:e.headerText,isAloneInNavStack:e.isAloneInNavStack,onSearch:y,goBack:e.goBack,searchEnabled:e.searchEnabled,isHeaderActive:m,isUsingStackNavigationContext:e.isUsingStackNavigationContext,isPortrait:e.isPortrait,isSmallDevice:e.isSmallDevice,statusBarPadding:e.statusBarPadding}),(0,n.jsx)(c.default,{items:e.items,query:t,currentItemKey:p,onItemPress:f,initialItemIndex:e.initialItemIndex,isMobileScreenSize:e.isMobileScreenSize})]}))}},535337:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(823113),a=i(516778),r=i(148540),l=i(787720),c=i(889391),d=i(342961),u=i(812951),g=i(199401),h=i(994224),p=i(502278),S=i(471727),m=i(47447),C=i(711930),y=i(746096),f=i(139285),b=i(436237),_=i(915877),v=i(540522),T=(i(832182),i(733754)),P=i(321284),k=i(646989),A=i(581736),I=i(364956),w=i(590602),x=i(115489),N=i(581760),M=i(311010),L=i(711828),O=i(359433),D=i(478262),R=(i(680837),i(619675)),E=i(24576),B=i(853374),F=i(285683),V=(0,_.lazyProperties)({toggleContainer:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center",marginBottom:5}),toggleText:()=>a.Styles.createTextStyle({flexGrow:1,flexShrink:1,marginRight:10}),sliderStyle:()=>a.Styles.createViewStyle({marginBottom:10}),sliderScaleStyle:()=>a.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",marginLeft:10,marginRight:7}),sliderScaleMark:()=>a.Styles.createTextStyle({color:N.Color.gray300,fontSize:M.default.fontSize.size13Deprecated,maxWidth:270})});class U extends E.default{constructor(){super(...arguments),this._onMicrophoneSelected=e=>{const t=B.default.newCauseId();b.log(y.LogTraceArea.AVSettings,"_onMicrophoneSelected "+e+" causeId: "+t),this.props.onMicrophoneSelected&&this.props.onMicrophoneSelected(e!==this.state.selectedMicrophone),h.default.DeviceStore.choosePreferredDevices({microphone:e},t)},this._onToggleAGC=e=>{const t=!this.state.enableAGC;h.default.DeviceStore.enableAGC(t),this.props.onToggleAGC&&this.props.onToggleAGC(t)},this._noiseSuppressionLevels=[{label:T.getString("AudioVideoSettings.NoiseSuppressionOff"),value:r.NoiseSuppressionMode[r.NoiseSuppressionMode.Off]},{label:T.getString("AudioVideoSettings.NoiseSuppressionAuto"),value:r.NoiseSuppressionMode[r.NoiseSuppressionMode.Auto]},{label:T.getString("AudioVideoSettings.NoiseSuppressionLow"),value:r.NoiseSuppressionMode[r.NoiseSuppressionMode.Low]},{label:T.getString("AudioVideoSettings.NoiseSuppressionHigh"),value:r.NoiseSuppressionMode[r.NoiseSuppressionMode.High]}],this._onSelectNoiseSuppression=e=>{const t=h.default.DeviceStore.getNoiseSuppressionMode();b.log(y.LogTraceArea.AVSettings,"_onSelectNoiseSuppression new mode:"+e),h.default.DeviceStore.setNoiseSuppressionMode(e),this.state.isInCall&&(h.default.CallingStore.setNoiseSuppressionMode(e),h.default.CallingStore.getConnectedCallIds().forEach((t=>{p.default.updateCallTelemetry(t,B.default.newCauseId(),(t=>t.setNoiseSuppressionMode(e)))}))),b.track(new x.NoiseSuppressionSettingsEvent(this.state.isInCall,t,e,this.props.origin))},this._onNoiseSuppressionSelected=e=>e===r.NoiseSuppressionMode[this.state.selectedNoiseSuppressionMode],this._onToggleAECMode=e=>{const t=B.default.newCauseId(),i=!this.state.enableAECMode;h.default.DeviceStore.setAEC(i),this.props.onToggleAEC&&this.props.onToggleAEC(i),this.state.isInCall&&h.default.CallingStore.applyCallAudioConfig({enableAEC:i,musicMode:this.state.enableMusicMode},t)},this._onToggleMusicMode=e=>{const t=B.default.newCauseId(),i=!this.state.enableMusicMode;h.default.DeviceStore.setMusicMode(i),this.props.onToggleMusicMode&&this.props.onToggleMusicMode(i),this.state.isInCall&&h.default.CallingStore.applyCallAudioConfig({musicMode:i,enableAEC:this.state.enableAECMode},t)},this._getNoiseSuppressionCaptionWithAccessibility=()=>{const e=T.getString("AudioVideoSettings.LearnMore"),t=(0,n.jsx)(O.default,Object.assign({url:c.default.getConfigSettingsNoSubscription().noiseSuppression.learnMoreUrl,onPress:this._onNoiseSuppressionLearnMore,blue:!0},{children:e}),"noiseSuppressionLearnMoreLink "),i=T.getParts("AudioVideoSettings.NoiseSuppressionLearnMore",{learnMoreLink:t}),o=C.default.linkAccessibilityInfo(T.getString("AudioVideoSettings.NoiseSuppressionLearnMore",{learnMoreLink:e}));return(0,n.jsx)(a.View,Object.assign({accessibilityLabel:o.label,accessibilityTraits:o.traits,importantForAccessibility:a.Types.ImportantForAccessibility.Yes,onPress:void 0},{children:(0,n.jsx)(R.Caption,Object.assign({style:w.default.subtitleMediumSemiLarge},{children:i}))}))},this._onNoiseSuppressionLearnMore=()=>{v.openUrlWithParams({origin:y.BrowserOrigin.AudioVideoSettings,url:c.default.getConfigSettingsNoSubscription().noiseSuppression.learnMoreUrl,rootViewId:this._getRootViewId()})}}_buildState(e,t){const i=h.default.DeviceStore.getCurrentDevices();return{microphones:h.default.DeviceStore.getMicrophones(),enableAGC:h.default.DeviceStore.getAGC(),selectedNoiseSuppressionMode:h.default.DeviceStore.getNoiseSuppressionMode(),isInCall:h.default.CallingStore.hasConnectedCalls(),selectedMicrophone:i?i.microphone:void 0,enableMicrophoneMeter:m.CallingCapabilities.microphoneLevelMeterSupported(),microphonePermissionStatus:A.default.permissionStatus(D.PermissionType.Microphone),enableNoiseSuppression:S.default.isDeepNoiseSuppressionAvailable(),allowMusicMode:c.default.getS4LCMCFeaturesNoSubscription().audioConfig.enableMusicMode,enableMusicMode:h.default.DeviceStore.getMusicMode(),allowAECMode:c.default.getS4LCMCFeaturesNoSubscription().audioConfig.enableAEC,enableAECMode:h.default.DeviceStore.getAEC()}}componentDidMount(){super.componentDidMount(),this.state.microphonePermissionStatus===s.PermissionStatus.Unknown&&A.default.requestPermission(D.PermissionType.Microphone,D.PermissionPromptOptions.SkipPrePrompt|D.PermissionPromptOptions.PromptAgainIfDenied)}render(){let e,t,i,r;if(o.isEmpty(this.state.microphones))e=(0,n.jsx)(u.default,{audioTitleKey:"AudioVideoSettings.MicrophoneLabel",errorStringKey:"AudioVideoSettings.NoDevicePresent",errorIcon:L.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride});else{const o=this.state.enableMicrophoneMeter&&this.state.microphonePermissionStatus===s.PermissionStatus.Granted?(0,n.jsx)(P.default,{steps:this.props.micLevelMeterSteps,colorThemeOverride:this.props.colorThemeOverride,backgroundColor:this.props.backgroundColor}):void 0;let c;if(this.state.microphonePermissionStatus===s.PermissionStatus.Denied){const e=I.default.getDeniedPromptKey(D.PermissionType.Microphone);e&&(r=(0,n.jsx)(u.default,{audioTitleKey:"AudioVideoSettings.MicrophoneLabel",errorStringKey:e,errorIcon:L.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride}))}else{i=this.props.hideAutoAdjustSetting||!m.CallingCapabilities.agcSupported()?void 0:(0,n.jsx)(l.default,Object.assign({style:[V.toggleContainer],accessibilityLabel:T.getString("AudioVideoSettings.AutomaticGainControlLabel"),onChange:this._onToggleAGC,isOn:this.state.enableAGC},{children:(0,n.jsx)(R.BodyText,Object.assign({style:V.toggleText,colorThemeOverride:this.props.colorThemeOverride},{children:T.getString("AudioVideoSettings.AutomaticGainControlLabel")}))})),!this.state.enableAGC&&m.CallingCapabilities.microphoneVolumeControlSupported()&&(c=[this._getSliderScale(),(0,n.jsx)(k.default,{style:V.sliderStyle,trackHeight:10,handleSize:26,colorThemeOverride:this.props.colorThemeOverride,onAdjustVolume:this.props.onAdjustVolume},"MicrophoneVolumeSlider")]);{const e=g.formatDevicesForPicker(this.state.microphones);t=(0,n.jsx)(d.default,{title:T.getString("AudioVideoSettings.MicrophoneLabel"),items:e,onValueChange:this._onMicrophoneSelected,selectedValue:this.state.selectedMicrophone||"",labelMaxWidth:this.props.labelMaxWidth,colorThemeOverride:this.props.colorThemeOverride})}e=(0,n.jsxs)(a.View,{children:[t,o,i,c,this._renderOptionalMicSettings()]})}}return(0,n.jsxs)(a.View,{children:[e,r]})}_renderOptionalMicSettings(){const e=[];return this.state.enableNoiseSuppression&&e.push((0,n.jsx)(a.View,{children:(0,n.jsx)(d.default,{title:T.getString("AudioVideoSettings.NoiseSuppressionControlLabel"),subtitle:this._getNoiseSuppressionCaptionWithAccessibility(),items:this._noiseSuppressionLevels,onValueChange:this._onSelectNoiseSuppression,selectedValue:this.state.selectedNoiseSuppressionMode||r.NoiseSuppressionMode.Auto,labelMaxWidth:this.props.labelMaxWidth,colorThemeOverride:this.props.colorThemeOverride})},"noiseSuppressionPanel")),this.state.allowMusicMode&&e.push((0,n.jsx)(l.default,Object.assign({style:V.toggleContainer,accessibilityLabel:T.getString("AudioVideoSettings.MusicModeControlLabel"),onChange:this._onToggleMusicMode,isOn:this.state.enableMusicMode},{children:(0,n.jsx)(F.SwitchLabel,{title:T.getString("AudioVideoSettings.MusicModeControlLabel"),subtitle:T.getString("AudioVideoSettings.MusicModeLearnMore"),learnMoreUrl:c.default.getConfigSettingsNoSubscription().musicMode.learnMoreUrl})}))),this.state.allowAECMode&&e.push((0,n.jsx)(l.default,Object.assign({style:V.toggleContainer,accessibilityLabel:T.getString("AudioVideoSettings.EchoCancellation"),onChange:this._onToggleAECMode,isOn:this.state.enableAECMode,disable:!this.state.enableMusicMode},{children:(0,n.jsx)(F.SwitchLabel,{title:T.getString("AudioVideoSettings.EchoCancellation"),subtitle:T.getString("AudioVideoSettings.EchoCancellationLearnMore")})}))),e}_getSliderScale(){const e=[];for(let t=0;t<=10;t++)e.push((0,n.jsx)(f.HiddenText,Object.assign({style:V.sliderScaleMark},{children:t.toString()}),t));return(0,n.jsx)(a.View,Object.assign({style:V.sliderScaleStyle},{children:e}),"SliderScale")}}t.default=U},932090:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(676702),s=i(281878),a=i(889391),r=i(689928),l=i(102737),c=i(677381),d=i(898278),u=i(436237),g=i(733754),h=i(104735),p=i(393818),S=i(285683),m=i(590602),C=i(86095),y=i(711828),f=i(677524),b=i(746096),_=i(640363);class v extends c.default{constructor(){super(...arguments),this._onPressManageProfile=()=>{u.track(new p.ManageMyProfileOnlineClicked),h.default.navigateToSsoWebFlow(this.state.manageProfileGoLink,"userInfo.profile",g.getString("UserSettingsPanel.ManageProfileWindowTitle"),this._getRootViewId(),this.state.pathsRequiringHeaders,!1,{},o.default.supportsGooglePlay()||_.default.isFireOS())},this._onPressManageAccount=()=>{u.track(new p.ManageMyAccountOnlineClicked),h.default.navigateToSsoWebFlow(this.state.manageAccountGoLink,"userInfo.myaccount",g.getString("UserSettingsPanel.ManageAccountWindowTitle"),this._getRootViewId(),this.state.pathsRequiringHeaders,!1,{},o.default.supportsGooglePlay()||_.default.isFireOS())},this._onSignOutPress=()=>{h.default.navigateToPreSignOutPanel(this._getRootViewId(),b.LogoutReason.AccountSettings)}}static getHeaderText(){return g.getString("UserSettingsPanel.MyAccountAndProfileTitle")}_buildState(e,t){const i=a.default.getConfigSettings().profileCard;return{closeMyAccountEndUrl:i.closeMyAccountEndUrl,closeMyAccountUrl:i.closeMyAccountUrl,closeMyAccountWebUrl:i.closeMyAccountWebUrl,manageAccountGoLink:i.manageAccountGoLink,manageProfileGoLink:i.manageProfileGoLink,pathsRequiringHeaders:a.default.getS4LCommerceFeatures().webConfig.pathsRequiringHeaders}}render(){return(0,n.jsxs)(s.Box,Object.assign({mx:this.props.marginHorizontal},{children:[(0,n.jsx)(S.SectionTitle,{title:g.getString("UserSettingsPanel.ManageButtonUpper")}),this._getBalanceSettingsButton(),this._getSkypeNumberProfileButton(),this._getManageProfileButton(),this._getManageAccountButton(),this._getCloseAccountButton(),this._getSignOutButton()]}))}_getBalanceSettingsButton(){return(0,n.jsx)(r.default,{buttonStyles:this.props.buttonStyles})}_getSkypeNumberProfileButton(){return(0,n.jsx)(C.default,{buttonStyles:this.props.buttonStyles})}_getManageAccountButton(){return(0,n.jsx)(f.WideButton,{icon:y.SkypeIcon.Card,label:g.getString("UserSettingsPanel.ManageAccountLabel"),labelStyle:m.default.titleMediumSemiLarge,buttonStyles:d.ListItem.small.shortHeightStyle,labelBottom:g.getString("UserSettingsPanel.ManageAccountDescription"),onPressed:this._onPressManageAccount,hideArrow:!0,treatAsLink:!0},"manageAccount")}_getSignOutButton(){const e=g.getString("MyProfilePanel.SignOutButtonTitle");return(0,n.jsx)(f.WideButton,{icon:y.SkypeIcon.SignOut,label:e,labelStyle:m.default.titleMediumSemiLarge,buttonStyles:d.ListItem.small.shortHeightStyle,onPressed:this._onSignOutPress,treatAsLink:!0},"signOut")}_getManageProfileButton(){return(0,n.jsx)(f.WideButton,{icon:y.SkypeIcon.Topic,label:g.getString("UserSettingsPanel.ManageProfileLabel"),labelStyle:m.default.titleMediumSemiLarge,buttonStyles:d.ListItem.small.shortHeightStyle,labelBottom:g.getString("UserSettingsPanel.ManageProfileDescription"),onPressed:this._onPressManageProfile,hideArrow:!0,treatAsLink:!0},"manageProfile")}_getCloseAccountButton(){return(0,n.jsx)(l.default,{buttonStyles:this.props.buttonStyles})}}t.default=v},599615:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(581760),a=i(24576),r=i(915877),l=i(311010),c=i(136400),d=i(680837),u=(0,r.lazyProperties)({picker:()=>o.Styles.createPickerStyle({backgroundColor:s.Color.transparent,borderColor:s.Color.transparent,cursor:"pointer"}),hoverStyle:()=>o.Styles.createViewStyle({opacity:.8}),button:()=>o.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10})}),g={picker:{textAlignLast:"end"}};class h extends a.default{constructor(){super(...arguments),this._onPickerRef=e=>{this.pickerRef=e||void 0}}render(){const e=[u.picker];this.props.labelMaxWidth&&e.push(o.Styles.createPickerStyle({maxWidth:this.props.labelMaxWidth},!1)),this.props.labelColor?e.push(o.Styles.createPickerStyle({color:this.props.labelColor},!1)):this._useAccessibleTheme()&&e.push(this._themeStyles.primaryTextColorStyle),e.push(l.default.subtitleFontStyle(this._currentTheme));const t=[d.default.noncollapsibleView,u.button];return(0,n.jsx)(c.HoverableButton,Object.assign({},this.props,{style:t,accessibilityTraits:[o.Types.AccessibilityTrait.Button,o.Types.AccessibilityTrait.HasPopup],tabIndex:-1},{children:(0,n.jsx)("div",Object.assign({style:g.picker},{children:(0,n.jsx)(o.Picker,{accessibilityLabel:this.props.id,items:this.props.items,selectedValue:this.props.selectedValue,onValueChange:this.props.onValueChange,style:e,ref:this._onPickerRef,tabIndex:this.props.tabIndex},this.props.id)}))}))}}t.default=h},891834:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(281878),a=i(889391),r=i(733754),l=i(593486),c=i(285683),d=i(360305),u=i(311506);t.default=(0,o.withResubAutoSubscriptions)((e=>{const t=a.default.getS4LCommerceFeatures().todayTab.enabled,i=l.default.isChildOrMinor();return!d.default.isTablet()&&t&&!i?(0,n.jsxs)(s.Box,{children:[(0,n.jsx)(c.SectionTitle,{title:r.getString("UserSettingsPanel.NavigationSettingsLabel"),titleStyles:e.titleStyles},"bottomNavigationTitle"),(0,n.jsx)(u.default,{})]}):null}))},920941:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(269521),a=i(269521),r=i(516778),l=i(787720),c=i(219784),d=i(889391),u=i(67930),g=i(279807),h=i(539549),p=i(47447),S=i(730723),m=i(711930),C=i(898278),y=i(816402),f=i(229565),b=i(746096),_=i(436237),v=i(915877),T=i(647662),P=i(733754),k=i(232638),A=i(901246),I=i(841539),w=i(178735),x=i(18078),N=i(330124),M=i(597223),L=i(532932),O=i(931524),D=i(29130),R=i(285683),E=i(590602),B=i(115489),F=i(293194),V=i(478262),U=i(172758),j=i(677524),H=i(767927),W=i(426020),z=(0,v.lazyProperties)({title:()=>r.Styles.createTextStyle({paddingTop:30,paddingBottom:10}),settingsContainer:()=>r.Styles.createViewStyle({marginBottom:30})});class G extends u.default{constructor(){super(...arguments),this._onChangeEnableInAppEngagementNotifications=(e,t)=>{w.default.setUserPreferencesLocal({enableInAppEngagementNotifications:t}),this._onChangeEnablePushEngagementNotifications(e,t)},this._onChangeEnablePushEngagementNotifications=(e,t)=>{if(w.default.setUserPreferencesLocal({enablePushEngagementNotifications:t}),this.state.conciergeBotSettings.enableVisibility){const e=(0,h.default)();o.each(this.state.engagementSenderIdentity,(i=>{var n;const o=null===(n=e.getConversation(i))||void 0===n?void 0:n.isArchived();t&&o?f.default.unarchiveEngagementBot(i,N.default.isUsingStackNavigationContext(),this._getContext(),b.UnarchiveConversationOrigin.NotificationSettings):t||o||f.default.archiveEngagementBot(i,this._getRootViewId(),b.ArchiveConversationOrigin.NotificationSettings)}))}},this._onChangeEmailMissedCallReminders=(e,t)=>{I.default.setEmailMissedCallRemindersEnabled(t)},this._onChangeEmailMissedMessageReminders=(e,t)=>{I.default.setEmailMissedMessageRemindersEnabled(t)},this._onResetNotificationChannelSettingsRequested=()=>{this._showAlertDialog(P.getString("Notifications.ResetNotificationSettingsLabel"),P.getString("Notifications.AndroidNotificationChannelResetToDefaultsConfirmation"),P.getString("Global.OkLabel"),P.getString("Global.CancelLabel"),(()=>{this._resetNotificationChannelSettings()}))},this._onAndroidSystemNotificationChannelSettingsLinkPressed=()=>{a.LocalNotifications.openSystemNotificationConfiguration()},this._onChatNotificationsRef=e=>{this._chatNotificationsRef=e||void 0},this._onChangeEnableScheduleCallReminderNotifications=(e,t)=>{w.default.setUserPreferencesLocal({enableScheduledCallNotifications:t})},this._onChangeEnableIgnoreActiveEndpointFiltering=(e,t)=>{w.default.setUserPreferencesLocal({ignoreActiveEndpointFiltering:t})},this._onChangeEnableInAppScheduleCallReminderNotifications=(e,t)=>{w.default.setUserPreferencesLocal({enableInAppScheduledCallNotifications:t})},this._onChangeEnablePollReminderNotifications=(e,t)=>{w.default.setUserPreferencesLocal({enablePollNotifications:t})},this._onChangeEnableInAppPollReminderNotifications=(e,t)=>{w.default.setUserPreferencesLocal({enableInAppPollNotifications:t})},this._onChangeEnableInAppNotifications=(e,t)=>{w.default.setUserPreferencesLocal({enableInAppNotifications:t})},this._onChangeEnableNotificationSounds=(e,t)=>{w.default.setUserPreferencesLocal({enableNotificationSounds:t})},this._onChangeEnablePushNotificationSounds=(e,t)=>{w.default.setUserPreferencesLocal({enablePushNotificationSounds:t})},this._onChatNotificationsChanged=(e,t)=>{!t&&this.state.enableNotificationPeriodsFeature?F.default.showWithOptions({id:"disableNotificationPeriodsMenu",config:{anchor:()=>this._chatNotificationsRef,useTheme:!0},menuTitle:P.getString("UserSettingsPanel.NotificationsDisabledPeriodTitle"),getMenuItems:()=>[{text:P.getString("UserSettingsPanel.NotificationsDisabledPeriod1Hour"),command:M.NotificationPeriodsCommands.oneHourPeriod},{text:P.getString("UserSettingsPanel.NotificationsDisabledPeriod8Hours"),command:M.NotificationPeriodsCommands.eightHoursPeriod},{text:P.getString("UserSettingsPanel.NotificationsDisabledPeriod1Day"),command:M.NotificationPeriodsCommands.oneDayPeriod},{text:P.getString("UserSettingsPanel.NotificationsDisabledPeriod1Week"),command:M.NotificationPeriodsCommands.oneWeekPeriod},{text:P.getString("UserSettingsPanel.NotificationsDisabledPeriodIndefinitely"),command:M.NotificationPeriodsCommands.indefinitelyPeriod}],handleMenuCommand:this._onChatNotificationsDisabled,rootViewId:this._getRootViewId(),invokingEvent:e}):(w.default.setUserPreferencesLocal({enableChatNotifications:t,disableChatNotificationsUntil:void 0}),s.PushNotifications.chatNotficationsToggleButtonChanged(t),_.track(new A.ChatNotificationsToggleSetting(t)))},this._onChatNotificationsDisabled=e=>{let t=!0,i=0,n=0;switch(e){case M.NotificationPeriodsCommands.oneHourPeriod:i=1;break;case M.NotificationPeriodsCommands.eightHoursPeriod:i=8;break;case M.NotificationPeriodsCommands.oneDayPeriod:n=1;break;case M.NotificationPeriodsCommands.oneWeekPeriod:n=7;break;case M.NotificationPeriodsCommands.indefinitelyPeriod:t=!1;break;case F.SXActionMenuCancel:default:return}const o=y.default.add(Date.now(),0,n,i);w.default.setUserPreferencesLocal({disableChatNotificationsUntil:o,enableChatNotifications:t}),_.track(new A.ChatNotificationsToggleSetting(!1,e)),this.setState({disabledNotificationsFor:e})}}static getHeaderText(){return P.getString("UserSettingsPanel.NotificationsTitle")}_buildState(e,t){const i=w.default.getUserPreferencesLocal(),n=U.default.getFullUserProfileByMri(x.default.getSkypeMri()),s=d.default.getS4LMessagingFeatures(),a=d.default.getEngagementFeatures(),r=a.notificationSettings,l=s.enableNotificationPeriods&&!1,c={enableScheduledCallNotifications:!!i.enableScheduledCallNotifications,enableInAppScheduledCallNotifications:!!i.enableInAppScheduledCallNotifications,enableNotificationSounds:!!i.enableNotificationSounds,enablePushNotificationSounds:!!i.enablePushNotificationSounds,enableInAppEngagementNotifications:!!i.enableInAppEngagementNotifications,enableInAppNotifications:!!i.enableInAppNotifications,enablePushEngagementNotifications:!!i.enablePushEngagementNotifications&&!!i.enableInAppEngagementNotifications,gender:n&&n.gender||V.eGender.Unspecified,isUsingStackNavigation:N.default.isUsingStackNavigationContext(),enableChatNotifications:k.areNotificationsEnabled(),enableNotificationPeriodsFeature:l,enableInAppPollNotifications:!!i.enableInAppPollNotifications,enablePollNotifications:!!i.enablePollNotifications,enableIgnoreActiveEndpointFiltering:!!i.ignoreActiveEndpointFiltering,emailNotificationsSettingsEnabled:r.emailNotificationsSettingsEnabled,emailMissedCallRemindersEnabled:r.emailMissedCallReminders.enabled,emailMissedCallRemindersTimeWindowInHours:r.emailMissedCallReminders.timeWindowInHours,emailMissedMessageRemindersEnabled:r.emailMissedMessageReminders.enabled,emailMissedMessageRemindersTimeWindowInHours:r.emailMissedMessageReminders.timeWindowInHours,isPresenceChangeNotificationEnabled:d.default.getConfigSettings().presence.enablePresenceChangeNotification&&!0,conciergeBotSettings:a.conciergeBotSettings,engagementSenderIdentity:a.engagementSenderIdentity,enableOldFriendBack:d.default.getEngagementFeatures().oldFriendBack.enable&&!1};return c.emailNotificationsSettingsEnabled&&(c.emailMissedCallRemindersEnabled&&(c.enableEmailMissedCallReminders=I.default.isEmailMissedCallRemindersEnabled()),c.emailMissedMessageRemindersEnabled&&(c.enableEmailMissedMessageReminders=I.default.isEmailMissedMessageRemindersEnabled())),t&&(this._initTelemetrySettingsState=o.clone(c)),c}render(){return(0,n.jsx)(H.default,{children:this.state.isUsingStackNavigation?this._getMobileSettings():this._getCompositeNotificationSettings()})}_getCompositeNotificationSettings(){const e=[];e.push((0,n.jsx)(R.SectionTitle,{title:P.getString("UserSettingsPanel.NotificationsTitleUpper"),titleStyles:z.title},"notificationsHeader")),e.push(this._getChatNotificationButton()),this.state.enableOldFriendBack&&e.push(this._getOldFriendBackNotificationButton()),this.state.isPresenceChangeNotificationEnabled&&e.push(this._getNotifyOnPresenceChangeButton()),e.push(this._getReactionNotificationsToggle(),this._getPushNotificationSoundsButton()),e.push(this._getInAppEngagementNotificationsButton()),e.push(this._getScheduledCallRemindersButton(),this._getPollRemindersButton()),p.UICapabilities.inAppBrowserNotificationsSupported()&&D.default.isTinyScreenSizeNoSubscription(C.MainRootViewId)&&(e.push((0,n.jsx)(R.SectionTitle,{title:P.getString("UserSettingsPanel.InAppNotificationsSectionTitleUpper"),numberOfLines:2},"inAppNotificationsTitle")),e.push(this._getInAppNotificationsButton(),this._getInAppEngagementNotificationsButton(),this._getInAppSoundsButton(),this._getInAppScheduledCallRemindersButton()));const t=T.getLocalizeParamForGender(this.state.gender);return e.push((0,n.jsx)(R.SectionTitle,{title:P.getString("UserSettingsPanel.DoNotDisturbTitleUpper",{gender:t}),numberOfLines:2},"dndTitle")),e.push(this._getChatNotificationsDuringDNDButton(),this._getCallNotificationsDuringDNDButton()),o.each(this._getEmailNotificationsSettings(),(t=>e.push(t))),(0,n.jsx)(r.View,{children:e})}_getMobileSettings(){const e=[];e.push(this._getChatNotificationButton()),e.push((0,n.jsx)(R.SectionTitle,{title:P.getString("UserSettingsPanel.PushNotificationsTitleUpper"),numberOfLines:2},"pushNotificationsTitle")),this.state.isPresenceChangeNotificationEnabled&&e.push(this._getNotifyOnPresenceChangeButton()),e.push(this._getReactionNotificationsToggle()),e.push(this._getScheduledCallRemindersButton(),this._getPollRemindersButton()),e.push(this._getAndroidSystemNotificationChannelSettingsLink()),e.push((0,n.jsx)(R.SectionTitle,{title:P.getString("UserSettingsPanel.InAppNotificationsSectionTitleUpper"),numberOfLines:2},"inAppNotificationsTitle")),e.push(this._getInAppNotificationsButton(),this._getInAppEngagementNotificationsButton(),this._getInAppSoundsButton(),this._getInAppScheduledCallRemindersButton(),this._getInAppPollRemindersButton());const t=T.getLocalizeParamForGender(this.state.gender);return e.push((0,n.jsx)(R.SectionTitle,{title:P.getString("UserSettingsPanel.DoNotDisturbTitleUpper",{gender:t}),numberOfLines:2},"dndTitle")),e.push(this._getChatNotificationsDuringDNDButton(),this._getCallNotificationsDuringDNDButton()),o.each(this._getEmailNotificationsSettings(),(t=>e.push(t))),e}_getEmailNotificationsSettings(){const e=[];return this.state.emailNotificationsSettingsEnabled&&(this.state.emailMissedMessageRemindersEnabled||this.state.emailMissedCallRemindersEnabled)&&(e.push((0,n.jsx)(R.SectionTitle,{title:P.getString("UserSettingsPanel.EmailNotificationsTitleUpper"),numberOfLines:2},"emailNotifications")),this.state.emailMissedMessageRemindersEnabled&&e.push(this._getEmailMissedMessageRemindersButton()),this.state.emailMissedCallRemindersEnabled&&e.push(this._getEmailMissedCallRemindersButton())),e}_getChatNotificationButton(){const e=P.getString("UserSettingsPanel.ChatNotifications"),t=P.getString("UserSettingsPanel.ChatNotificationsSecondary");return(0,n.jsx)(l.default,Object.assign({ref:this._onChatNotificationsRef,style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableChatNotifications,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChatNotificationsChanged},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"chatNotifications")}_getScheduledCallRemindersButton(){const e=P.getString("UserSettingsPanel.ScheduledCallNotifications"),t=P.getString("UserSettingsPanel.ScheduledCallNotificationsSecondary");return(0,n.jsx)(l.default,Object.assign({style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableScheduledCallNotifications,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableScheduleCallReminderNotifications},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"scheduledCallReminderNotifications")}_getIgnoreActiveEndpointFilteringButton(){const e=P.getString("UserSettingsPanel.IgnoreActiveEndpointFiltering"),t=P.getString("UserSettingsPanel.IgnoreActiveEndpointFilteringSecondary");return(0,n.jsx)(l.default,Object.assign({style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableIgnoreActiveEndpointFiltering,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableIgnoreActiveEndpointFiltering,disable:!this.state.enableChatNotifications},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"ignoreActiveEndpointFiltering")}_getInAppScheduledCallRemindersButton(){const e=P.getString("UserSettingsPanel.InAppScheduledCallNotifications"),t=P.getString("UserSettingsPanel.InAppScheduledCallNotificationsSecondary");return(0,n.jsx)(l.default,Object.assign({style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableInAppScheduledCallNotifications,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableInAppScheduleCallReminderNotifications},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"inAppScheduledCallReminderNotifications")}_getPollRemindersButton(){const e=P.getString("UserSettingsPanel.PollNotifications"),t=P.getString("UserSettingsPanel.PollNotificationsSecondary");return(0,n.jsx)(l.default,Object.assign({style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enablePollNotifications,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnablePollReminderNotifications},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"pollReminderNotifications")}_getInAppPollRemindersButton(){const e=P.getString("UserSettingsPanel.InAppPollNotifications"),t=P.getString("UserSettingsPanel.InAppPollNotificationsSecondary");return(0,n.jsx)(l.default,Object.assign({style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableInAppPollNotifications,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableInAppPollReminderNotifications},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"inAppPollReminderNotifications")}_getReactionNotificationsToggle(){return(0,n.jsx)(O.default,{style:this.props.buttonStyles,disable:!this.state.enableChatNotifications},"reactionNotifications")}_getPushEngagementNotificationButton(){const e=P.getString("UserSettingsPanel.PushEngagementNotifications"),t=P.getString("UserSettingsPanel.PushEngagementNotificationsSecondary");return(0,n.jsx)(l.default,Object.assign({style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enablePushEngagementNotifications,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnablePushEngagementNotifications,disable:!this.state.enableInAppEngagementNotifications},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"pushEngagementNotifications")}_getEmailMissedCallRemindersButton(){const e=P.getString("UserSettingsPanel.EmailMissedCallRemindersEnabledLabel"),t=P.getString("UserSettingsPanel.EmailMissedCallRemindersEnabledDescriptionV2",{count:this.state.emailMissedCallRemindersTimeWindowInHours});return(0,n.jsx)(l.default,Object.assign({style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:!!this.state.enableEmailMissedCallReminders,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEmailMissedCallReminders,disable:o.isUndefined(this.state.enableEmailMissedCallReminders)},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"emailMissedCallReminders")}_getEmailMissedMessageRemindersButton(){const e=P.getString("UserSettingsPanel.EmailMissedMessageRemindersEnabledLabelV2"),t=P.getString("UserSettingsPanel.EmailMissedMessageRemindersEnabledDescriptionV2",{count:this.state.emailMissedMessageRemindersTimeWindowInHours});return(0,n.jsx)(l.default,Object.assign({style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:!!this.state.enableEmailMissedMessageReminders,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEmailMissedMessageReminders,disable:o.isUndefined(this.state.enableEmailMissedMessageReminders)},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"emailMissedMessageReminders")}_getAndroidSystemNotificationChannelSettingsLink(){const e=P.getString("Notifications.AndroidNotificationChannelConfigurationTitle"),t=P.getString("Notifications.AndroidNotificationChannelConfigurationSubtitle"),i=P.getString("Notifications.ResetNotificationSettingsLabel");return(0,n.jsxs)(r.View,{children:[(0,n.jsx)(j.WideButton,{label:e,labelBottom:t,hideDivider:!1,treatAsLink:!0,onPressed:this._onAndroidSystemNotificationChannelSettingsLinkPressed}),(0,n.jsx)(j.WideButton,{label:i,treatAsLink:!0,hideDivider:!1,onPressed:this._onResetNotificationChannelSettingsRequested})]},"androidAdvancedNotificationConfiguration")}_resetNotificationChannelSettings(){a.LocalNotifications.resetNotificationSettings().then((e=>{e&&(w.default.setUserPreferencesLocal({shouldSkipAndroidNotificationChannelMigration:!1,enablePushNotificationSounds:!0,enableInAppEngagementNotifications:!0,ignoreActiveEndpointFiltering:!1,enableScheduledCallNotifications:!0,enablePollNotifications:!0,enableChatNotifications:!0}),a.LocalNotifications.createNotificationChannelsIfNeeded())}))}_getInAppNotificationsButton(){const e=P.getString("UserSettingsPanel.InAppNotifications"),t=P.getString("UserSettingsPanel.InAppNotificationsSecondary");return(0,n.jsx)(l.default,Object.assign({style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableInAppNotifications,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableInAppNotifications,disable:!this.state.enableChatNotifications},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"inAppNotifications")}_getInAppEngagementNotificationsButton(){const e=P.getString("UserSettingsPanel.InAppEngagementNotifications"),t=P.getString("UserSettingsPanel.InAppEngagementNotificationsSecondary");return(0,n.jsx)(l.default,Object.assign({style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableInAppEngagementNotifications,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableInAppEngagementNotifications},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"inAppEngagementNotifications")}_getPushNotificationSoundsButton(){const e=P.getString("UserSettingsPanel.NotificationSounds"),t=P.getString("UserSettingsPanel.NotificationSoundsSecondary");return(0,n.jsx)(l.default,Object.assign({style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enablePushNotificationSounds,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnablePushNotificationSounds,disable:!this.state.enableChatNotifications},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"pushSounds")}_getInAppSoundsButton(){const e=P.getString("UserSettingsPanel.InAppSounds"),t=P.getString("UserSettingsPanel.InAppSoundsSecondary");return(0,n.jsx)(l.default,Object.assign({style:[E.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.buttonStyles],isOn:this.state.enableNotificationSounds,accessibilityLabel:m.default.combinedAccessibilityLabel(e,t),onChange:this._onChangeEnableNotificationSounds,disable:!this.state.enableChatNotifications||!this.state.enableInAppNotifications},{children:(0,n.jsx)(R.SwitchLabel,{title:e,subtitle:t})}),"inAppSounds")}_getChatNotificationsDuringDNDButton(){return(0,n.jsx)(S.default,{},"chatNotificationsDuringDND")}_getNotifyOnPresenceChangeButton(){return(0,n.jsx)(L.default,{},"notifyOnPresenceChangeButton")}_getCallNotificationsDuringDNDButton(){return(0,n.jsx)(g.default,{},"callNotificationsDuringDND")}_getOldFriendBackNotificationButton(){return(0,n.jsx)(W.default,{},"oldFriendBackNotificationButton")}_getHeaderText(e){return G.getHeaderText()}_getNotificationSettingValueIfChanged(e,t){return e===t?void 0:t}_generateChangedSettings(){const e={didEnableChatNotifications:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enableChatNotifications,this.state.enableChatNotifications),didEnableInAppNotifications:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enableInAppNotifications,this.state.enableInAppNotifications),didEnableInAppEngagementNotifications:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enableInAppEngagementNotifications,this.state.enableInAppEngagementNotifications),didEnableNotificationSounds:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enableNotificationSounds,this.state.enableNotificationSounds),didEnablePushNotificationSounds:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enablePushNotificationSounds,this.state.enablePushNotificationSounds),didEnablePushEngagementNotifications:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enablePushEngagementNotifications,this.state.enablePushEngagementNotifications),didEnableIgnoreActiveEndpointFiltering:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.enableIgnoreActiveEndpointFiltering,this.state.enableIgnoreActiveEndpointFiltering),disabledNotificationsFor:this._getNotificationSettingValueIfChanged(this._initTelemetrySettingsState.disabledNotificationsFor,this.state.disabledNotificationsFor)};return o.omitBy(e,o.isUndefined)}componentWillUnmount(){super.componentWillUnmount();const e=this._generateChangedSettings();o.isEmpty(e)||_.track(new B.NotificationSettingsChangeTelemetry(e))}_showAlertDialog(e,t,i,n,o){const s=[{text:i,onPress:()=>{o&&o()},isSubmit:!0}];n&&s.splice(0,0,{text:n,isCancel:!0}),c.default.showWithOptions({title:e,message:t,buttons:s,dialogAccessibilityTitle:e,rootViewId:this._getRootViewId(),useFocussedWindowFallback:!0})}}t.default=G},906476:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(397691),a=i(281878),r=i(787720),l=i(889391),c=i(67930),d=i(514425),u=i(707095),g=i(711930),h=i(587134),p=i(705763),S=i(759799),m=i(875913),C=i(733754),y=i(178735),f=i(285683),b=i(590602),_=i(209211),v=i(459531),T=i(435040),P=(i(680837),i(314749)),k=i(619675),A=i(972235),I=i(452461),w=i(677524),x=i(593486),N=i(267824),M=i(746096),L=i(540522),O=i(767927),D=i(219784),R=i(494109),E=i(214673),B=i(422538),F=i(350325),V=i(115489),U=i(257113),j=i(436237);class H extends c.default{constructor(){super(...arguments),this._toggleContactsOnly=(e,t)=>{y.default.setUserPreferencesLocal({allowCallsFromContactsOnly:t})},this._openPrivacy=()=>{m.default.openPrivacy()},this._onLearnMoreLinkPress=()=>{L.openUrlWithParams({origin:M.BrowserOrigin.TelemetryConsentSettingsDescription,url:l.default.getConfigSettingsNoSubscription().telemetryInfoUrl.url,rootViewId:this._getRootViewId()})},this._confirmClearData=()=>{const e=C.getString("UserSettingsPanel.ClearAppDataContent"),t=this._getRootViewId(),i=[{text:C.getString("UserSettingsPanel.ClearAppDataButton"),onPress:this._clearAppData},{text:C.getString("Global.CancelLabel")}];D.default.showWithOptions({title:C.getString("UserSettingsPanel.ClearAppDataButton"),dialogAccessibilityTitle:e,message:e,buttons:i,rootViewId:t})},this._clearAppData=()=>{j.log(M.LogTraceArea.AppFlow,"_clearAppData pressed"),j.track(new V.PrivacySettingsTelemetryEvent("ClearAppData"));const e=U.default.clearCookies(),t=R.default.internal_setDatabaseWipeFlag(),i=B.EnsureStartedExclusive([E.default]).then((()=>E.default.nukeDB()));s.all([e,t,i]).then((()=>{j.log(M.LogTraceArea.AppFlow,"_clearAppDataAndPrefs flags set. Will restart"),j.track(new V.PrivacySettingsTelemetryEvent("ClearAppData",{cleared:!0})),F.reloadApp("clear-appdataandprefs")})).catch((()=>{j.log(M.LogTraceArea.AppFlow,"_clearAppData something went wrong."),j.track(new V.PrivacySettingsTelemetryEvent("ClearAppData",{cleared:!1}))}))}}static getHeaderText(){return C.getString("UserSettingsPanel.PrivacyHeader")}_buildState(){const e=y.default.getUserPreferencesLocal(),t=l.default.getS4LCMCFeatures(),i=l.default.getS4LTelemetryFeatures(),{enableMagicBot:n}=l.default.getS4LMessagingFeatures();return{telemetryFilteringFeatureEnabled:i.enableTelemetryFiltering,telemetryConsentUIEnabled:i.enableTelemetryConsentUI,telemetryLearnMoreLink:l.default.getConfigSettingsNoSubscription().telemetryInfoUrl.url,allowCallsFromContactsOnly:e.allowCallsFromContactsOnly,isSpeechConsentFlowEnabled:t.enableSpeechConsentFlow,bingEnabled:!!I.default.getBingIntegration()||n,e911LocationEnabled:!S.default.requiresSystemPermission&&S.default.isLocationEnabled(),isChild:x.default.isChild(),enableMagicBot:n}}render(){return(0,n.jsxs)(O.default,{children:[this._getPrivacySection(),this._getLocationSection(),this._getTranslationSection(),this._getCallingSection(),this._getTelemetrySection(),this._getAboutSection()]})}_getLocationSection(){let e,t;if(this.state.e911LocationEnabled&&(e=(0,n.jsx)(p.default,{})),!this.state.isChild&&this.state.bingEnabled&&(t=(0,n.jsx)(d.default,{})),e||t)return(0,n.jsxs)(o.View,{children:[(0,n.jsx)(f.SectionTitle,{title:C.getString("UserSettingsPanel.LocationTitleUpper")}),e,t]})}_getTranslationSection(){if(this.state.isChild)return;const e=this.state.isSpeechConsentFlowEnabled?(0,n.jsx)(_.default,{}):(0,n.jsx)(A.default,{});return(0,n.jsxs)(o.View,{children:[(0,n.jsx)(f.SectionTitle,{title:C.getString("LanguageAndTranslationSettingsPanel.TranslationHeader")}),e,(0,n.jsx)(h.default,{}),(0,n.jsx)(v.default,{}),(0,n.jsx)(T.default,{})]})}_getCallingSection(){return this.state.isChild?null:(0,n.jsxs)(o.View,{children:[(0,n.jsx)(f.SectionTitle,{title:C.getString("UserSettingsPanel.CallingSettingsWindowTitleUpper")}),this._getContactsOnlySettings()]})}_getTelemetrySection(){return!this.state.isChild&&this.state.telemetryFilteringFeatureEnabled&&this.state.telemetryConsentUIEnabled?(0,n.jsxs)(o.View,{children:[(0,n.jsx)(f.SectionTitle,{title:C.getString("UserSettingsPanel.TelemetrySettingsTitleUpper")}),this._getTelemetryDescription(),(0,n.jsx)(P.default,{}),(0,n.jsx)(h.default,{})]}):null}_getTelemetryDescription(){const e=C.getString("UserSettingsPanel.TelemetryConsentSwitchLearnMoreLinkText"),t=this._getLearnMoreLink(),i=C.getParts("UserSettingsPanel.RequiredTelemetryInfoText",{learnMoreLink:t}),s=g.default.linkAccessibilityInfo(C.getString("UserSettingsPanel.RequiredTelemetryInfoText",{learnMoreLink:e}));return(0,n.jsx)(o.View,Object.assign({accessibilityLabel:s.label,accessibilityTraits:s.traits,importantForAccessibility:void 0,onPress:void 0},{children:(0,n.jsx)(k.Caption,Object.assign({style:b.default.subtitleMediumSemiLarge},{children:i}))}))}_getLearnMoreLink(){return(0,n.jsx)(N.AccessibleLink,Object.assign({url:this.state.telemetryLearnMoreLink,textElement:k.Caption,correctiveMargin:-3},{children:C.getString("Global.LearnMore")}),"telemetryLearnMore")}_getAboutSection(){return(0,n.jsxs)(o.View,{children:[(0,n.jsx)(f.SectionTitle,{title:C.getString("UserSettingsPanel.AboutTitleUpper")}),(0,n.jsx)(w.WideButton,{label:C.getString("AboutPanel.PrivacyPolicyLabel"),onPressed:this._openPrivacy,buttonStyles:this.props.buttonStyles})]})}_getContactsOnlySettings(){const e=C.getString("UserSettingsPanel.AllowCallsFromContactsOnlyOldPanel"),t=(0,u.renderLabels)(e);return(0,n.jsx)(r.default,Object.assign({style:[b.default.controlRow,this._themeStyles.dividerBorderColorStyle],isOn:this.state.allowCallsFromContactsOnly,accessibilityLabel:e,onChange:this._toggleContactsOnly},{children:t}))}_getPrivacySection(){return(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(f.SectionTitle,{title:C.getString("UserSettingsPanel.PrivacyHeaderUpper")}),(0,n.jsx)(w.WideButton,{label:C.getString("UserSettingsPanel.ClearAppData"),onPressed:this._confirmClearData,buttonStyles:this.props.buttonStyles})]})}_getHeaderText(e){return H.getHeaderText()}}t.default=H},834170:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(47447),r=i(905531),l=i(898278),c=i(436237),d=i(547126),u=i(915877),g=i(733754),h=i(706250),p=i(18078),S=i(104735),m=i(217093),C=i(217093),y=i(330124),f=i(795691),b=i(24148),_=i(711828),v=i(24576),T=i(172758),P=i(853374),k=i(677524);var A;!function(e){e[e.AccountAndProfile=0]="AccountAndProfile",e[e.General=1]="General",e[e.Privacy=2]="Privacy",e[e.Appearance=3]="Appearance",e[e.AudioVideo=4]="AudioVideo",e[e.Calling=5]="Calling",e[e.Messaging=6]="Messaging",e[e.Notifications=7]="Notifications",e[e.Contacts=8]="Contacts",e[e.HelpAndAbout=9]="HelpAndAbout",e[e.ManagePayments=10]="ManagePayments"}(A||(A={}));const I=[A.AccountAndProfile,A.General,A.Privacy,A.Appearance,A.AudioVideo,A.Calling,A.Messaging,A.Notifications,A.Contacts,A.HelpAndAbout],w="menuitem",x=(0,u.lazyProperties)({menuItem:()=>s.Styles.createViewStyle({paddingHorizontal:10})});class N extends v.default{constructor(){super(...arguments),this._mountedRefsMap=new h.default,this._renderMenuItem=e=>{const t=w+e;switch(e){case A.AccountAndProfile:return this._getAccountAndProfileSettings(t);case A.General:return this._getGeneralSettings(t);case A.Privacy:return this._getPrivacySettings(t);case A.Appearance:return this._getAppearanceSettings(t);case A.AudioVideo:return this._getAudioVideoSettings(t);case A.Calling:return this._getCallingVoiceMailSettings(t);case A.Messaging:return this._getMessagingAndChatsSettings(t);case A.Notifications:return this._getNotificationsSettings(t);case A.Contacts:return this._getContactsSettings(t);case A.HelpAndAbout:return this._getHelpAndAboutSettings(t);case A.ManagePayments:return this._getManagePaymentsSettings(t);default:return P.default.switchStatementExhaustiveChecking(e)}},this._onHelpAndFeedbackButtonPressed=()=>{c.track(new b.NavigationHelpAndFeedback(f.NavigationSettingsItem.HelpAndFeedback,f.NavigationSettingsOrigin.ApplicationSettings)),S.default.navigateToSettingsGroup(C.SettingsGroup.HelpAndFeedback,this._getRootViewId())},this._onAudioVideoSettingsButtonPressed=()=>{this._navigateToSettingsGroup(C.SettingsGroup.AudioVideoSettings)},this._onMyAccountAndProfileSettingsButtonPressed=()=>{this._navigateToSettingsGroup(C.SettingsGroup.AccountAndProfile)},this._onMessagingAndChatsButtonPressed=()=>{this._navigateToSettingsGroup(C.SettingsGroup.Chat)},this._onAppearanceSettingsButtonPressed=()=>{this._navigateToSettingsGroup(C.SettingsGroup.ThemeSettings)},this._onNotificationsButtonPressed=()=>{c.track(new b.NavigationNotificationSettings(f.NavigationSettingsOrigin.ApplicationSettings)),this._navigateToSettingsGroup(C.SettingsGroup.Notifications)},this._onContactsButtonPressed=()=>{this._navigateToSettingsGroup(C.SettingsGroup.Contacts)},this._onCallingSettingsButtonPressed=()=>{const e=this.props.detailContext&&1===this.props.detailContext.length&&o.first(this.props.detailContext)instanceof m.CallingSettingsPanelNavigationContext;S.default.navigateToCallingSettingsPanel(!0,this._getContext()),e&&this.props.resetFocus&&this.props.resetFocus()},this._onOtherSettingsButtonPressed=()=>{this._navigateToSettingsGroup(C.SettingsGroup.General)},this._onPrivacySettingsButtonPressed=()=>{this._navigateToSettingsGroup(C.SettingsGroup.Privacy)},this._onKeyPress=e=>{let t=this.state.focusedIndex;e.keyCode!==d.default.UP&&e.keyCode!==d.default.LEFT||(t-=1),e.keyCode!==d.default.DOWN&&e.keyCode!==d.default.RIGHT||(t+=1),t<0||t>=this.state.menuCategories.length||this.setState({focusedIndex:t})}}_buildState(e,t){const i=T.default.getFullUserProfileByMri(p.default.getSkypeMri()),n=y.default.isUsingStackNavigationContext(),s={displayName:i.getDisplayName(),isUsingStackNavigation:n};return e.detailContext&&e.detailContext[0]instanceof m.DesktopSettingsGroupNavigationContext?s.settingsGroup=e.detailContext[0].state.group:s.settingsGroup=void 0,t&&(s.focusedIndex=0),s.menuCategories=o.filter(I,(e=>{switch(e){case A.AccountAndProfile:return r.default.navigation().canAccessProfileSettings;case A.General:return r.default.navigation().canAccessGeneralSettings;case A.AudioVideo:return a.UICapabilities.avSettingsSupported();case A.Calling:return r.default.navigation().canAccessCallingSettings;case A.Messaging:return r.default.navigation().canAccessMessagingSettings;case A.Appearance:return r.default.userSettings().canChangeAppearance;case A.Contacts:return r.default.contacts().canHaveContacts;case A.ManagePayments:return r.default.navigation().canAccessPaymentsSettings;default:return!0}})),s}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.focusedIndex!==t.focusedIndex&&this._focusItem(this.state.focusedIndex)}render(){return this.props.isAloneInNavStack&&this._getContext().isPresentedInSplitView?null:(0,n.jsx)(s.View,Object.assign({onKeyPress:this._onKeyPress},{children:o.map(this.state.menuCategories,this._renderMenuItem)}))}_getAccountAndProfileSettings(e){const t=this._isSettingsGroupSelected(C.SettingsGroup.AccountAndProfile);return this._getWideButton({icon:_.SkypeIcon.Contact,label:g.getString("UserSettingsPanel.AccountAndProfileSettingsTitle"),key:e,selected:t,onPressed:this._onMyAccountAndProfileSettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getAppearanceSettings(e){const t=this._isSettingsGroupSelected(C.SettingsGroup.ThemeSettings);return this._getWideButton({icon:_.SkypeIcon.MagicWand,label:g.getString("UserSettingsPanel.AppearanceButton"),key:e,selected:t,onPressed:this._onAppearanceSettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getAudioVideoSettings(e){const t=this._isSettingsGroupSelected(C.SettingsGroup.AudioVideoSettings);return this._getWideButton({icon:_.SkypeIcon.Microphone,label:g.getString("UserSettingsPanel.AudioVideoSettingsTitle"),key:e,selected:t,onPressed:this._onAudioVideoSettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getCallingVoiceMailSettings(e){const t=o.first(this.props.detailContext)instanceof m.CallingSettingsPanelNavigationContext;return this._getWideButton({icon:_.SkypeIcon.CallStart,label:g.getString("UserSettingsPanel.CallingSettingsWindowTitle"),key:e,selected:t,onPressed:this._onCallingSettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getMessagingAndChatsSettings(e){const t=this._isSettingsGroupSelected(C.SettingsGroup.Chat);return this._getWideButton({icon:_.SkypeIcon.Message,label:g.getString("UserSettingsPanel.MessagingAndChatsTitle"),key:e,selected:t,onPressed:this._onMessagingAndChatsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getNotificationsSettings(e){const t=this._isSettingsGroupSelected(C.SettingsGroup.Notifications);return this._getWideButton({icon:_.SkypeIcon.Alert,label:g.getString("UserSettingsPanel.NotificationsTitle"),key:e,selected:t,onPressed:this._onNotificationsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getContactsSettings(e){const t=this._isSettingsGroupSelected(C.SettingsGroup.Contacts);return this._getWideButton({icon:_.SkypeIcon.SkypeAddressbook,label:g.getString("UserSettingsPanel.ContactsTitle"),key:e,selected:t,onPressed:this._onContactsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getGeneralSettings(e){const t=this._isSettingsGroupSelected(C.SettingsGroup.General);return this._getWideButton({icon:_.SkypeIcon.Settings,label:g.getString("UserSettingsPanel.GeneralTitle"),key:e,selected:t,onPressed:this._onOtherSettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getPrivacySettings(e){return this._getWideButton({icon:_.SkypeIcon.Privacy,label:g.getString("UserSettingsPanel.PrivacyHeader"),key:e,selected:this._isSettingsGroupSelected(C.SettingsGroup.Privacy),onPressed:this._onPrivacySettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getHelpAndAboutSettings(e){return this._getWideButton({icon:_.SkypeIcon.Info,label:g.getString("UserSettingsPanel.HelpAndAboutTitle"),key:e,selected:this._isSettingsGroupSelected(C.SettingsGroup.HelpAndFeedback),onPressed:this._onHelpAndFeedbackButtonPressed,hideDivider:!0,ref:this._mountedRefsMap.onComponentRef(e)})}_getManagePaymentsSettings(e){const t=this._isSettingsGroupSelected(C.SettingsGroup.AccountAndProfile);return this._getWideButton({icon:_.SkypeIcon.SkypeCredit,label:g.getString("UserSettingsPanel.ManagePaymentsSettingsTitle"),key:e,selected:t,onPressed:this._onMyAccountAndProfileSettingsButtonPressed,ref:this._mountedRefsMap.onComponentRef(e)})}_getWideButton(e){const t=this.props.isAloneInNavStack||this.state.isUsingStackNavigation,i=[t?l.ListItem.small.regularHeightStyle:l.ListItem.small.shortHeightStyle,x.menuItem];let o=e.accessibilityLabel||e.label;return e.selected&&(i.push(this._themeStyles.secondaryRowHighlightViewStyle),o+=", "+g.getString("Global.SelectedAccessibilityLabel")),(0,n.jsx)(k.WideButton,Object.assign({},e,{accessibilityLabel:o,buttonStyles:i,hideArrow:!t}))}_navigateToSettingsGroup(e){const t=this._shouldRefreshFocusForSettingsGroup(e);S.default.navigateToSettingsGroup(e,this._getRootViewId()),t&&this.props.resetFocus&&this.props.resetFocus()}_isSettingsGroupSelected(e){return this.state.settingsGroup===e}_shouldRefreshFocusForSettingsGroup(e){return this.props.detailContext&&1===this.props.detailContext.length&&this._isSettingsGroupSelected(e)}_focusItem(e=0){if(e<0||e>this.state.menuCategories.length-1)return;const t=this.state.menuCategories[e];if(this.state.focusedIndex===e){const e=this._mountedRefsMap.ref(w+t);e&&e.requestFocus()}else this.setState({focusedIndex:e})}_getHeaderText(e){return e.displayName+" "+g.getString("MyProfilePanel.SettingsTitle")}}t.default=N},767927:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(667294),a=i(701025),r=i(516778),l=i(281878),c=i(330124),d=i(680837);t.default=(0,s.memo)((0,o.withResubAutoSubscriptions)((function(e){const t=c.default.isUsingStackNavigationContext()?2.5:5;return(0,n.jsxs)(a.SafeAreaView,Object.assign({style:d.default.flexOneRN,edges:e.footer?["left","right"]:["left","right","bottom"]},{children:[(0,n.jsx)(r.ScrollView,Object.assign({style:d.default.flexOne},{children:(0,n.jsx)(l.Box,Object.assign({mx:t},{children:e.children}))})),e.footer]}))})))},459531:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(889391),a=i(733754),r=i(677524),l=i(46929),c=i(619675),d=i(680837),u=i(915877),g=i(587134),h=i(104735),p=i(853374),S=i(677381),m=(0,u.lazyProperties)({switchStyle:()=>o.Styles.createViewStyle({marginBottom:15})});class C extends S.default{constructor(){super(...arguments),this._onPress=()=>{h.default.showTranslationConsentPanel({causeId:p.default.newCauseId(),rootViewId:this._getRootViewId()})}}_buildState(e,t){return{enabledValue:l.default.getCallTranslatorTranslationConsent(),shouldDisplay:s.default.getS4LCMCFeatures().translationFeatures.showInSettings}}render(){if(!this.state.shouldDisplay)return[];const e=a.getString("CallTranscriptionNotifications.TranslationConsent");return[(0,n.jsxs)(o.View,Object.assign({style:m.switchStyle},{children:[(0,n.jsx)(r.WideButton,{label:e,accessibilityLabel:e,labelRight:this._getConsentValue(),onPressed:this._onPress,labelNumberOfLines:3,hideDivider:!0}),(0,n.jsx)(o.View,{children:(0,n.jsx)(c.Caption,Object.assign({style:d.default.flexOne},{children:a.getString("CallTranscriptionNotifications.TranslationConsentSettingText")}))})]}),"translationPrivacyButton"),(0,n.jsx)(g.default,{},"divider")]}_getConsentValue(){return this.state.enabledValue?a.getString("CallingSettingsPanel.Enabled"):a.getString("CallingSettingsPanel.Disabled")}}t.default=C},442484:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(823113),a=i(516778),r=i(397691),l=i(787720),c=i(236348),d=i(342961),u=i(812951),g=i(199401),h=i(994224),p=i(47447),S=i(175209),m=i(898278),C=i(746096),y=i(139285),f=i(436237),b=i(915877),_=i(733754),v=i(178735),T=i(581736),P=i(364956),k=i(739182),A=i(262232),I=i(654863),w=i(581760),x=i(311010),N=i(711828),M=i(478262),L=i(619675),O=i(24576),D=i(853374),R=(0,b.lazyProperties)({sliderStyle:()=>a.Styles.createViewStyle({marginBottom:10}),sliderScaleStyle:()=>a.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",marginLeft:10,marginRight:7}),sliderScaleMark:()=>a.Styles.createTextStyle({color:w.Color.gray300,fontSize:x.default.fontSize.size13Deprecated,maxWidth:270}),toggleContainer:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center",marginBottom:5}),toggleText:()=>a.Styles.createTextStyle({flexGrow:1,flexShrink:1,marginRight:10})});class E extends O.default{constructor(){super(...arguments),this._testAudioPromiseChain=new S.default("TestAudio",C.LogTraceArea.AVSettings),this._onSpeakerSelected=e=>{const t=D.default.newCauseId();f.log(C.LogTraceArea.AVSettings,"_onSpeakerSelected "+e+" causeId: "+t),this.props.onSpeakerSelected&&this.props.onSpeakerSelected(e!==this.state.selectedSpeaker),h.default.DeviceStore.choosePreferredDevices({speaker:e},t)},this._onStartTestAudioPress=()=>{this.setState({activeTestAudio:!0})},this._onStopTestAudioPress=()=>{this.setState({activeTestAudio:!1})},this._onToggleUnmuteOnRingEnabled=(e,t)=>{v.default.setUserPreferencesLocal({unmuteOnIncomingRing:t})}}_buildState(e,t){const i=h.default.DeviceStore.getCurrentDevices();return{speakers:h.default.DeviceStore.getSpeakers(),microphonePermissionStatus:T.default.permissionStatus(M.PermissionType.Microphone),selectedSpeaker:i?i.speaker:void 0,isAudioOutputSelectionSupported:h.default.DeviceStore.getIsAudioOutputSelectionSupported(),activeTestAudio:!o.isUndefined(this._testAudioPlayerToken),ringingDeviceOptionSupported:p.CallingCapabilities.secondaryRingingSupported()&&!o.isEmpty(h.default.DeviceStore.getSecondarySpeakers()),unmuteOnRingSupported:p.CallingCapabilities.unmuteDeviceSupported(),unmuteOnRingEnabled:!!v.default.getUserPreferencesLocal().unmuteOnIncomingRing}}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.activeTestAudio!==t.activeTestAudio&&this._onTestAudioToggle(this.state.activeTestAudio)}componentWillUnmount(){super.componentWillUnmount();const e=D.default.newCauseId();f.log(C.LogTraceArea.AVSettings,"componentWillUnmount, causeId: "+e),this._stopTestAudioWithCauseId(e)}_onTestAudioToggle(e){const t=D.default.newCauseId();e?this._startTestAudioWithCauseId(t):this._stopTestAudioWithCauseId(t)}_startTestAudioWithCauseId(e){f.log(C.LogTraceArea.AVSettings,"Starting audio test, causeId: "+e),this._testAudioPromiseChain.chainPromise((()=>A.default.SkypeCallRinging.playRepeating(e).then((e=>{this._testAudioPlayerToken=e,this.props.onAudioTestPerformed&&this.props.onAudioTestPerformed()})).catch((t=>{f.error(C.LogTraceArea.AVSettings,`Failed to start audio test, causeId: ${e}, error: ${t}`),this.setState({activeTestAudio:!1})}))),"start",e)}_stopTestAudioWithCauseId(e){f.log(C.LogTraceArea.AVSettings,"Stopping audio test, causeId: "+e),this._testAudioPromiseChain.chainPromise((()=>(o.isUndefined(this._testAudioPlayerToken)||(A.default.SkypeCallRinging.dispose(this._testAudioPlayerToken,e),this._testAudioPlayerToken=void 0),r.Resolved())),"stop",e)}_getSliderScale(){const e=o.times(11,(e=>(0,n.jsx)(y.HiddenText,Object.assign({style:R.sliderScaleMark},{children:e.toString()}),e)));return(0,n.jsx)(a.View,Object.assign({style:R.sliderScaleStyle},{children:e}),"SliderScale")}render(){let e,t,i,r,h;if(o.isEmpty(this.state.speakers)&&this.state.isAudioOutputSelectionSupported)e=(0,n.jsx)(u.default,{audioTitleKey:"AudioVideoSettings.SpeakersLabel",errorStringKey:"AudioVideoSettings.NoDevicePresent",errorIcon:N.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride});else if(this.state.microphonePermissionStatus===s.PermissionStatus.Denied){const t=P.default.getDeniedPromptKey(M.PermissionType.Microphone);t&&(e=(0,n.jsx)(u.default,{audioTitleKey:"AudioVideoSettings.SpeakersLabel",errorStringKey:t,errorIcon:N.SkypeIcon.Error,colorThemeOverride:this.props.colorThemeOverride}))}else if(!o.isEmpty(this.state.speakers)||!this.props.compactView){const t=g.formatDevicesForPicker(this.state.speakers);e=(0,n.jsx)(d.default,{title:_.getString("AudioVideoSettings.SpeakersLabel"),items:t,onValueChange:this._onSpeakerSelected,selectedValue:this.state.selectedSpeaker||"",labelMaxWidth:this.props.labelMaxWidth,colorThemeOverride:this.props.colorThemeOverride})}return!o.isEmpty(this.state.speakers)&&p.CallingCapabilities.speakerVolumeControlSupported()&&(t=[this.props.compactView?void 0:this._getSliderScale(),(0,n.jsx)(I.default,{style:R.sliderStyle,onAdjustVolume:this.props.onAdjustVolume,trackHeight:10,handleSize:26,colorThemeOverride:this.props.colorThemeOverride},"VolumeSlider")]),this.props.compactView||o.isEmpty(this.state.speakers)&&this.state.isAudioOutputSelectionSupported||(i=(0,n.jsx)(k.default,{style:m.ListItem.small.shortHeightStyle,title:_.getString("AudioVideoSettings.TestAudioButtonLabel"),accessibilityLabel:this.state.activeTestAudio?_.getString("AudioVideoSettings.TestAudioButtonStopLabel"):_.getString("AudioVideoSettings.TestAudioButtonStartLabel"),icon:this.state.activeTestAudio?N.SkypeIcon.Stop:N.SkypeIcon.Play,hideDivider:!0,colorThemeOverride:this.props.colorThemeOverride,onPress:this.state.activeTestAudio?this._onStopTestAudioPress:this._onStartTestAudioPress})),this.props.compactView||!this.state.unmuteOnRingSupported||this.props.isInOnboarding||o.isEmpty(this.state.speakers)&&this.state.isAudioOutputSelectionSupported||(r=(0,n.jsx)(l.default,Object.assign({style:R.toggleContainer,isOn:this.state.unmuteOnRingEnabled,accessibilityLabel:_.getString("AudioVideoSettings.UnmuteRingingTitle"),onChange:this._onToggleUnmuteOnRingEnabled},{children:(0,n.jsx)(L.BodyText,Object.assign({style:R.toggleText,colorThemeOverride:this.props.colorThemeOverride},{children:_.getString("AudioVideoSettings.UnmuteRingingTitle")}))}),"unmuteSpeakersOnRing")),this.props.compactView||!this.state.ringingDeviceOptionSupported||this.props.isInOnboarding||(h=(0,n.jsx)(c.default,{onRingerDeviceSelected:this.props.onRingingDeviceSelected,colorThemeOverride:this.props.colorThemeOverride})),(0,n.jsxs)(a.View,{children:[e,t,i,r,h]})}}t.default=E},209211:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(889391),a=i(746096),r=i(915877),l=i(733754),c=i(104735),d=i(55585),u=i(619675),g=i(24576),h=i(853374),p=i(677524),S=i(267824),m=i(680837),C=i(711930),y=i(540522),f=(0,r.lazyProperties)({switchStyle:()=>o.Styles.createViewStyle({marginBottom:15})});class b extends g.default{constructor(){super(...arguments),this._onVoiceClipsContributionSettingPressed=()=>{c.default.showSpeechConsentPanel({causeId:h.default.newCauseId(),rootViewId:this._getRootViewId()})},this._onVoiceClipContributionLearnMore=()=>{y.openUrlWithParams({origin:a.BrowserOrigin.TelemetryConsentSettingsDescription,url:s.default.getConfigSettingsNoSubscription().translator.learnMoreUrl,rootViewId:this._getRootViewId()})}}_buildState(e,t){return{speechConsentValue:s.default.getS4LCMCFeatures().enableSpeechConsentFlow&&d.default.getSpeechConsentValue(),learnMoreLink:s.default.getConfigSettingsNoSubscription().translator.learnMoreUrl}}render(){const e=l.getString("SpeechConsentPanel.VoiceClipContribution"),t=(0,n.jsx)(p.WideButton,{label:e,accessibilityLabel:e,labelRight:this._getConsentValue(),onPressed:this._onVoiceClipsContributionSettingPressed,labelNumberOfLines:3,hideDivider:!0}),i=this._getVoiceClipContributionLearnMoreLink(),s=l.getParts("SpeechConsentPanel.VoiceClipContributionCaption",{learnMoreLink:i}),a=C.default.linkAccessibilityInfo(l.getString("BlockUnblockDialog.PersonalInformationDisplayText",{learnMoreLink:l.getString("Global.LearnMore")}),!0);return(0,n.jsxs)(o.View,Object.assign({style:f.switchStyle},{children:[t,(0,n.jsx)(o.View,Object.assign({accessibilityLabel:null==a?void 0:a.label,accessibilityTraits:null==a?void 0:a.traits,importantForAccessibility:void 0,onPress:void 0},{children:(0,n.jsx)(u.Caption,Object.assign({style:m.default.flexOne},{children:s}))}))]}))}_getConsentValue(){return this.state.speechConsentValue?l.getString("CallingSettingsPanel.Enabled"):l.getString("CallingSettingsPanel.Disabled")}_getVoiceClipContributionLearnMoreLink(){return(0,n.jsx)(S.AccessibleLink,Object.assign({url:this.state.learnMoreLink,textElement:u.Caption,correctiveMargin:-3},{children:l.getString("Global.LearnMore")}),"voiceClipLearnMore")}}t.default=b},404775:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThankYouReceipt=void 0;const n=i(785893),o=i(516778),s=i(244770),a=i(889391),r=i(898278),l=i(587134),c=i(915877),d=i(733754),u=i(451070),g=i(681115),h=i(22222),p=i(311010),S=i(359433),m=i(680837),C=i(619675),y=i(24576),f=(0,c.lazyProperties)({bodyStyleContainer:()=>o.Styles.createTextStyle({marginTop:10,marginBottom:20}),panelContainer:()=>o.Styles.createViewStyle({marginHorizontal:20,flex:1}),image:()=>o.Styles.createViewStyle({height:192,width:223,margin:20,alignSelf:"center"}),doneButton:()=>o.Styles.createViewStyle({width:260,marginVertical:30,alignSelf:"center"}),privacyLinkStyle:()=>o.Styles.createViewStyle({marginTop:10}),secondaryHeadingContainer:()=>o.Styles.createViewStyle({marginTop:10}),secondaryBodyContainer:()=>o.Styles.createViewStyle({marginBottom:10}),detailsBodyContainer:()=>o.Styles.createViewStyle({padding:10})});class b extends y.default{constructor(){super(...arguments),this._onPrivacyStatementPress=e=>{e.stopPropagation(),e.preventDefault(),o.Linking.openUrl(this.state.privacyStatementUrl)},this._onLearnMorePress=e=>{e.stopPropagation(),e.preventDefault(),o.Linking.openUrl(this.state.learnMoreUrl)}}_buildState(e,t){return{privacyStatementUrl:a.default.getConfigSettings().translator.privacyStatementUrl,learnMoreUrl:a.default.getConfigSettings().translator.speechConsentLearnMoreUrl,statusBarHeight:this._getContext().isPresentedInDesktopSubview?0:u.default.statusBarPadding()}}_renderThankYouReceiptContent(){const e=[p.default.captionFontStyle(this._currentTheme),this._themeStyles.primaryTextColorStyle,f.secondaryBodyContainer];return(0,n.jsxs)(o.View,Object.assign({style:f.panelContainer},{children:[this._getImage(s.Collection.SPEECH_CONSENT_THANK_YOU,f.image),(0,n.jsx)(C.PanelHeader,{children:d.getString("SpeechConsentPanel.ThankYouReceiptMainTitle")}),(0,n.jsx)(o.Text,Object.assign({style:[p.default.bodyFontStyle(),f.bodyStyleContainer]},{children:d.getString("SpeechConsentPanel.ThankYouReceiptMainBody")})),(0,n.jsxs)(o.View,Object.assign({style:f.detailsBodyContainer},{children:[(0,n.jsx)(o.Text,Object.assign({style:p.default.rowTitleFontStyle()},{children:d.getString("SpeechConsentPanel.ReceiptSectionMainTitle")})),(0,n.jsx)(l.default,{marginTop:10}),this._getSecondaryTitleElement("SpeechConsentPanel.ReceiptSectionTitle1"),this._getSecondaryBodyElement("SpeechConsentPanel.ReceiptSectionBody1",e),this._getSecondaryTitleElement("SpeechConsentPanel.ReceiptSectionTitle2"),this._getSecondaryBodyElement("SpeechConsentPanel.ReceiptSectionBody2",e),this._getSecondaryTitleElement("SpeechConsentPanel.ReceiptSectionTitle3"),this._getSecondaryBodyElement("SpeechConsentPanel.ReceiptSectionBody3",e),this._getSecondaryTitleElement("SpeechConsentPanel.ReceiptSectionTitle4"),this._getSeondaryBodyWithPannelSettingsPath(e),(0,n.jsx)(l.default,{marginTop:10})]})),this._getLink(d.getString("SpeechConsentPanel.ThankYouReceiptLearnMore"),this._onLearnMorePress),this._getLink(d.getString("SpeechConsentPanel.PrivacyStatement"),this._onPrivacyStatementPress)]}))}_getSecondaryTitleElement(e){const t=[p.default.selectedCaptionFontStyle(this._currentTheme),f.secondaryHeadingContainer];return(0,n.jsx)(o.Text,Object.assign({style:t},{children:d.getString(e)}))}_getSecondaryBodyElement(e,t){return(0,n.jsx)(o.Text,Object.assign({style:t},{children:d.getString(e)}))}_getSeondaryBodyWithPannelSettingsPath(e){return(0,n.jsxs)(o.Text,Object.assign({style:e},{children:[d.getString("SpeechConsentPanel.ReceiptSectionBody4"),(0,n.jsx)(o.Text,Object.assign({style:[p.default.selectedCaptionFontStyle(this._currentTheme),this._themeStyles.primaryTextColorStyle]},{children:d.getString("SpeechConsentPanel.PanelSettingsPath")}))]}))}_getImage(e,t){return(0,n.jsx)(o.Image,{source:e,style:t,resizeMode:"contain"})}_getLink(e,t){return(0,n.jsx)(S.default,Object.assign({style:f.privacyLinkStyle,linkTextStyle:r.LinkTextStyle.BodyTextSmall,url:"#",blue:!0,onPress:t},{children:e}))}_renderDoneButton(){const e=(0,n.jsx)(h.default,{style:f.doneButton,buttonSize:r.SXButtonSize.Medium,title:d.getString("Global.DoneButtonTitle"),onPress:this.props.onDone});return e}render(){const e=[m.default.flexOne,this._themeStyles.primaryBackgroundColorStyle];let t;this.state.statusBarHeight&&(e.push(g.default.marginTopStyle(this.state.statusBarHeight),m.default.overflowVisible),t=g.default.marginTopStyle(-1*this.state.statusBarHeight));let i=this._renderThankYouReceiptContent();return t&&(i=(0,n.jsx)(o.View,Object.assign({style:t},{children:i}))),(0,n.jsxs)(o.View,Object.assign({style:[m.default.flexOne,this._themeStyles.primaryBackgroundColorStyle]},{children:[(0,n.jsx)(o.ScrollView,Object.assign({style:e,keyboardShouldPersistTaps:!0},{children:i})),this._renderDoneButton()]}))}}t.ThankYouReceipt=b,t.default=b},492798:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceClipsContribution=void 0;const n=i(785893),o=i(516778),s=i(244770),a=i(889391),r=i(898278),l=i(587134),c=i(915877),d=i(733754),u=i(451070),g=i(681115),h=i(55585),p=i(311010),S=i(359433),m=i(680837),C=i(619675),y=i(24576),f=i(677524),b=(0,c.lazyProperties)({bodyStyleContainer:()=>o.Styles.createTextStyle({marginVertical:10}),titleContainer:()=>o.Styles.createTextStyle({paddingBottom:6}),panelContainer:()=>o.Styles.createViewStyle({marginHorizontal:20}),privacyImageDesktop:()=>o.Styles.createViewStyle({height:64,width:102,marginBottom:16,alignSelf:"center"}),privacyImageMobile:()=>o.Styles.createViewStyle({height:96,width:155,marginTop:14,marginBottom:16,alignSelf:"center"}),voiceClipsImageDesktop:()=>o.Styles.createViewStyle({height:64,width:102,marginBottom:16,alignSelf:"center"}),voiceClipsImageMobile:()=>o.Styles.createViewStyle({height:96,width:122,marginTop:40,marginBottom:16,alignSelf:"center"}),noLimitsImage:()=>o.Styles.createViewStyle({height:32,width:32}),imageContainer:()=>o.Styles.createViewStyle({flexDirection:"column",paddingVertical:16}),imageContainerMobile:()=>o.Styles.createViewStyle({flexDirection:"column",paddingVertical:16}),imageContainerItem:()=>o.Styles.createViewStyle({flexDirection:"row",paddingVertical:16,alignItems:"center",justifyContent:"center"}),privacyContainerDesktop:()=>o.Styles.createViewStyle({paddingRight:16}),voiceClipsContainerDesktop:()=>o.Styles.createViewStyle({paddingLeft:16}),noLimitsMainContainer:()=>o.Styles.createViewStyle({flexDirection:"row",padding:16}),noLimitsMainContainerMobile:()=>o.Styles.createViewStyle({marginVertical:16}),noLimitsRightContainer:()=>o.Styles.createViewStyle({flex:1,marginLeft:16}),buttonsWrapper:()=>o.Styles.createViewStyle({alignSelf:"stretch",alignItems:"center",flexDirection:"column",justifyContent:"center"}),buttonWrapperMobile:()=>o.Styles.createViewStyle({margin:0,paddingTop:20,paddingBottom:30,paddingHorizontal:10}),itemButton:()=>o.Styles.createViewStyle({alignSelf:"center"}),privacyLinkStyle:()=>o.Styles.createViewStyle({marginTop:16,marginBottom:16})});class _ extends y.default{constructor(){super(...arguments),this._onLearnMore=e=>{e.stopPropagation(),e.preventDefault(),o.Linking.openUrl(a.default.getConfigSettingsNoSubscription().translator.speechConsentLearnMoreUrl)},this._onPrivacyStatementPress=e=>{e.stopPropagation(),e.preventDefault(),o.Linking.openUrl(a.default.getConfigSettingsNoSubscription().translator.privacyStatementUrl)},this._onContributePress=()=>{this.props.onContribute()},this._onDoNotContributePress=()=>{this.props.onDoNotContribute()},this._setScrollViewRef=e=>{this._scrollView=e||void 0}}_buildState(e,t){return{statusBarHeight:this._getContext().isPresentedInDesktopSubview?0:u.default.statusBarPadding(),currentSpeechConsentValue:h.default.getSpeechConsentValue()}}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.statusBarHeight!==t.statusBarHeight&&this._scrollView&&this._scrollView.setScrollTop(0)}_getImage(e,t){return(0,n.jsx)(o.Image,{source:e,style:t,resizeMode:"contain"})}_getLearnMoreLink(){return(0,n.jsx)(S.default,Object.assign({linkTextStyle:r.LinkTextStyle.BodyText,url:"#",blue:!0,onPress:this._onLearnMore},{children:d.getString("Global.LearnMore")}),"learnMore")}_getPrivacyStatementLink(){return(0,n.jsx)(S.default,Object.assign({style:b.privacyLinkStyle,linkTextStyle:r.LinkTextStyle.BodyTextSmall,url:"#",blue:!0,onPress:this._onPrivacyStatementPress},{children:d.getString("SpeechConsentPanel.PrivacyStatement")}),"privacyStatement")}_renderButtons(){let e,t;this.state.currentSpeechConsentValue?(e=d.getString("SpeechConsentPanel.ContinueContribute"),t=d.getString("SpeechConsentPanel.StopContribute")):(e=d.getString("SpeechConsentPanel.AgreeToContributeButton"),t=d.getString("SpeechConsentPanel.DisagreeToContributeButton"));const i=o.Styles.createViewStyle({backgroundColor:this._themeColors.primaryBackgroundColor},!1);return(0,n.jsxs)(o.View,Object.assign({style:[b.buttonsWrapper,i]},{children:[(0,n.jsx)(f.WideButton,{label:e,hideArrow:!0,onPressed:this._onContributePress,labelStyle:b.itemButton}),(0,n.jsx)(f.WideButton,{label:t,hideArrow:!0,onPressed:this._onDoNotContributePress,labelStyle:b.itemButton})]}))}_renderRequestingConsentPanelContent(){const e=[p.default.captionFontStyle(this._currentTheme),this._themeStyles.primaryTextColorStyle,p.default.bodyFontStyle()];return(0,n.jsxs)(o.View,Object.assign({style:b.panelContainer},{children:[(0,n.jsx)(C.PanelHeader,{children:d.getString("SpeechConsentPanel.PanelTitle")}),(0,n.jsx)(o.Text,Object.assign({style:[p.default.bodyFontStyle(),b.bodyStyleContainer]},{children:d.getString("SpeechConsentPanel.PanelMainContent")})),this._getPrivacyAndVoiceClipsContent(e),this._getNoLimitsContent(e),this._getPrivacyStatementLink()]}))}_getPrivacyAndVoiceClipsContent(e){return(0,n.jsxs)(o.View,Object.assign({style:[b.imageContainer]},{children:[(0,n.jsxs)(o.View,Object.assign({style:[b.imageContainerItem]},{children:[this._getImage(s.Collection.SPEECH_CONSENT_PRIVACY,b.privacyImageDesktop),(0,n.jsxs)(o.View,Object.assign({style:[m.default.flexOne,b.noLimitsRightContainer]},{children:[(0,n.jsx)(o.Text,Object.assign({style:e},{children:d.getString("SpeechConsentPanel.PanelPriorityHeading")})),(0,n.jsxs)(o.Text,Object.assign({style:e},{children:[d.getString("SpeechConsentPanel.PanelPriorityBody"),this._getLearnMoreLink()]}))]}))]})),(0,n.jsxs)(o.View,Object.assign({style:[b.imageContainerItem]},{children:[this._getImage(s.Collection.SPEECH_CONSENT_VOICE_CLIPS,b.voiceClipsImageDesktop),(0,n.jsxs)(o.View,Object.assign({style:[m.default.flexOne,b.noLimitsRightContainer]},{children:[(0,n.jsx)(o.Text,Object.assign({style:e},{children:d.getString("SpeechConsentPanel.PanelVoiceHeading")})),(0,n.jsx)(o.Text,Object.assign({style:e},{children:d.getString("SpeechConsentPanel.PanelVoiceBody")}))]}))]}))]}))}_getNoLimitsContent(e){const t=[p.default.subtitleFontStyle(this._currentTheme),this._themeStyles.primaryTextColorStyle],i=o.Styles.createViewStyle({backgroundColor:this._themeColors.secondaryBackgroundColor},!1);return(0,n.jsxs)(o.View,Object.assign({style:[b.noLimitsMainContainer,i,void 0]},{children:[this._getImage(s.Collection.SPEECH_CONSENT_TRANSLATOR,b.noLimitsImage),(0,n.jsxs)(o.View,Object.assign({style:b.noLimitsRightContainer},{children:[(0,n.jsx)(o.Text,Object.assign({style:e},{children:d.getString("SpeechConsentPanel.PanelKeyContentHeading")})),(0,n.jsxs)(o.Text,Object.assign({style:e},{children:[d.getString("SpeechConsentPanel.PanelKeyContentBody"),(0,n.jsx)(o.Text,Object.assign({style:t},{children:d.getString("SpeechConsentPanel.PanelSettingsPath")}))]}))]}))]}))}render(){const e=[m.default.flexOne,this._themeStyles.primaryBackgroundColorStyle];let t;this.state.statusBarHeight&&(e.push(g.default.marginTopStyle(this.state.statusBarHeight),m.default.overflowVisible),t=g.default.marginTopStyle(-1*this.state.statusBarHeight));let i=this._renderRequestingConsentPanelContent();return t&&(i=(0,n.jsx)(o.View,Object.assign({style:t},{children:i}))),(0,n.jsxs)(o.View,Object.assign({style:[m.default.flexOne,this._themeStyles.primaryBackgroundColorStyle]},{children:[(0,n.jsx)(o.ScrollView,Object.assign({ref:this._setScrollViewRef,style:e,keyboardShouldPersistTaps:!0},{children:i})),(0,n.jsx)(l.default,{marginLeft:0,marginRight:0}),this._renderButtons()]}))}}t.VoiceClipsContribution=_,t.default=_},228574:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(583367),s=i(516778),a=i(787720),r=i(898278),l=i(310167),c=i(746096),d=i(915877),u=i(733754),g=i(285683),h=i(590602),p=i(22222),S=i(640363),m=i(717719),C=i(24576);(0,d.lazyProperties)({container:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsblockContainer:()=>s.Styles.createViewStyle({alignSelf:"stretch",overflow:"visible"})});class y extends C.default{constructor(){super(...arguments),this._openSystemStartupSettings=()=>{o.default.openSystemStartupSettings()}}_buildState(e,t){const i=l.default.getAppSettings();return{autoStartEnabled:!!i&&!!i.autoStartEnabled,launchMinimized:!!i&&!!i.launchMinimized,onCloseKeepRunning:!!i&&!!i.onCloseKeepRunning,isAutoStartSupported:!1,canControlAutoStart:!1}}render(){return null}_getAutoStartButton(){const e=u.getString("UserSettingsPanel.AutoStart"),t=S.default.getPlatformType();let i;return t===c.PlatformType.Linux?i=u.getString("UserSettingsPanel.AutoStartDescriptionLinux"):t===c.PlatformType.Windows&&(i=u.getString("UserSettingsPanel.AutoStartDescriptionWindows")),(0,n.jsx)(a.default,Object.assign({style:[h.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.autoStartEnabled,accessibilityLabel:e,onChange:(e,t)=>this._toggleElectronAppSetting({autoStartEnabled:t})},{children:(0,n.jsx)(g.SwitchLabel,{title:e,subtitle:i})}),"autoStartEnabled")}_openAutoStartSettingsButton(){const e=u.getString("UserSettingsPanel.AutoStart");return(0,n.jsx)(m.default,Object.assign({label:e,labelBottom:u.getString("UserSettingsPanel.AutoStartDescriptionWindows"),labelBottomSingleLine:!0,accessibilityLabel:e,treatAsLink:!0,accessoryIconMarginRight:20},{children:(0,n.jsx)(p.default,{buttonSize:r.SXButtonSize.Small,buttonStyle:r.SXButtonStyle.ThemeStroke,title:u.getString("UserSettingsPanel.SettingsTitle"),accessibilityLabel:e,accessibilityHidden:!0,allowTextWrap:!0,onPress:this._openSystemStartupSettings})}))}_getLaunchMinimizedButton(){const e=u.getString("UserSettingsPanel.LaunchMinimized"),t=S.default.getPlatformType();let i;return t===c.PlatformType.Linux?i=u.getString("UserSettingsPanel.LaunchMinimizedDescriptionLinux"):t===c.PlatformType.Windows&&(i=u.getString("UserSettingsPanel.LaunchMinimizedDescriptionWindows")),(0,n.jsx)(a.default,Object.assign({style:[h.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.launchMinimized,accessibilityLabel:e,onChange:(e,t)=>this._toggleElectronAppSetting({launchMinimized:t})},{children:(0,n.jsx)(g.SwitchLabel,{title:e,subtitle:i})}),"launchMinimizedEnabled")}_getOnCloseKeepRunningButton(){const e=u.getString("UserSettingsPanel.OnCloseKeepRunning"),t=u.getString("UserSettingsPanel.OnCloseKeepRunningDescription");return(0,n.jsx)(a.default,Object.assign({style:[h.default.controlRow,this._themeStyles.dividerBorderColorStyle,this.props.style],isOn:this.state.onCloseKeepRunning,accessibilityLabel:e,onChange:(e,t)=>this._toggleElectronAppSetting({onCloseKeepRunning:t})},{children:(0,n.jsx)(g.SwitchLabel,{title:e,subtitle:t})}),"onCloseKeepRunning")}_toggleElectronAppSetting(e){l.default.changeAppSettings(e)}}t.default=y},159452:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(889391),a=i(458666),r=i(832182),l=i(733754),c=i(46929),d=i(24576),u=i(493620),g=i(104735),h="default";class p extends d.default{constructor(){super(...arguments),this._onPress=()=>{g.default.navigateToSpokenLanguagePicker(!1,this._getRootViewId(),!1,void 0)},this._isSelected=e=>{if(this.props.defaultOption){if(e===this.props.defaultOption)return!0}else if(e===this.state.subtitleLanguageLocale)return!0;return!1},this._onHandleMenuCommand=e=>{this.props.onHandleMenuCommand(e===h?"":e)}}_buildState(e,t){const i=[];if(e.defaultOption)i.push({label:e.defaultOption,value:h});else{const e=l.getString("SettingsLanguages.ResetLanguageOption");i.push({label:e,value:h})}return o.each(s.default.getS4LCMCFeatures().callTranslatorBotConfig.languageSupport.tts,(e=>{const t=a.getLanguageTitle(e);o.isEmpty(t)||i.push({label:t,value:e})})),{items:i,subtitleLanguageLocale:this._getCallTranslatorBotSubtitleLanguageLocale()}}render(){return s.default.getS4LCMCFeaturesNoSubscription().enableNewLanguageSelectors?(0,n.jsx)(u.default,{label:l.getString("LanguageAndTranslationSettingsPanel.CallSubtitleLanguageLabel"),captionText:this._getCaption(),onPress:this._onPress,activeLabel:this._getSelectedItemLabel(),hideDivider:!0}):(0,n.jsx)(r.default,{id:"subtitleLanguagePicker",items:this.state.items,rowTitle:l.getString("LanguageAndTranslationSettingsPanel.CallSubtitleLanguageLabel"),caption:this._getCaption(),isItemSelected:this._isSelected,onHandleItemSelection:this._onHandleMenuCommand,selectedItemLabel:this._getSelectedItemLabel()})}_getCaption(){return this.props.caption?l.getString("SubtitlesSettingsPanel.SubtitleLanguageExplanation"):void 0}_getCallTranslatorBotSubtitleLanguageLocale(){const e=c.default.getCallTranslatorBotSubtitleLanguageLocale();return!e||o.isEmpty(e)?h:e}_getSelectedItemLabel(){if(this.props.defaultOption)return this.props.defaultOption;const e=o.find(this.state.items,(e=>e.value===this.state.subtitleLanguageLocale));return e?e.label:h}}t.default=p},116874:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(889391),a=i(994224),r=i(805581),l=i(458666),c=i(733754),d=i(536150),u=i(590602),g=i(359433),h=i(680837),p=i(619675),S=i(24576);class m extends S.default{constructor(){super(...arguments),this._onLanguageLinkPress=e=>{e.preventDefault(),a.default.CallNavigationHelper.navigateToTranslationSettingsPanel(!1,this._getRootViewId())},this._onLearnMoreLinkPress=e=>{o.Linking.openUrl(s.default.getConfigSettingsNoSubscription().translator.help)}}_buildState(e,t){const i=r.default.getLocalCallTranslatorBotSpokenLanguageLocale(),n=r.default.getLocalCallTranslatorBotSubtitleLanguageLocale(),o=r.default.isDeviceLanguageSupportedForTranslation();return{spokenLanguageLocale:i,subtitleLanguageLocale:n,isMobileScreenReaderEnabled:d.default.isMobileScreenReaderEnabled(),isSpokenLanguageSupported:o}}render(){const e=c.getString("SubtitlesSettingsPanel.LanguageSettingLink"),t=(0,n.jsx)(g.default,Object.assign({url:"#",blue:!0,onPress:this._onLanguageLinkPress},{children:e}),"keyLanguageSetting"),i=(0,n.jsx)(g.default,Object.assign({url:"#",blue:!0,onPress:this._onLearnMoreLinkPress},{children:c.getString("UserSettingsPanel.TranslateMessagesAndCallsExplanationLearnMoreLinkText")}),"keyLearnMore");let s;if(this.state.isSpokenLanguageSupported){const e=l.getLanguageTitle(this.state.subtitleLanguageLocale),i=l.getLanguageTitle(this.state.spokenLanguageLocale);s=this.state.spokenLanguageLocale===this.state.subtitleLanguageLocale?c.getParts("SubtitlesSettingsPanel.SubtitleLanguageSpokenLanguageMatchLink",{language:e,languageSettingsLink:t}):c.getParts("SubtitlesSettingsPanel.SubtitleLanguageSpokenLanguageMisMatchLink",{subtitleLanguage:e,spokenLanguage:i,languageSettingsLink:t})}else s=c.getParts("UserSettingsPanel.TranslateMessagesAndCallsAppLanguageNotSupportedExplanation",{spokenLanguageLink:t,learnMoreLink:i});const a=(0,n.jsx)(p.Caption,Object.assign({style:u.default.subtitleMediumSemiLarge,importantForAccessibility:o.Types.ImportantForAccessibility.Yes,onPress:this.state.isMobileScreenReaderEnabled?this._onLanguageLinkPress:void 0},{children:s}),"subtitle");return(0,n.jsx)(o.View,Object.assign({style:h.default.flexOne},{children:a}))}}t.default=m},461596:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(898278),r=i(765110),l=i(915877),c=i(733754),d=i(293194),u=i(619675),g=i(24576),h=(0,l.lazyProperties)({container:()=>s.Styles.createViewStyle({justifyContent:"space-between",flexDirection:"row",alignItems:"center",alignSelf:"stretch"}),button:()=>s.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10})});class p extends g.default{constructor(){super(...arguments),this._onPickerButtonRef=e=>{this._pickerButton=()=>e||void 0},this._onPickerClick=e=>{e.stopPropagation();const t={anchor:this._pickerButton,useTheme:!0,positionPriorities:["bottom","top"],colorThemeOverride:this.props.colorThemeOverride};return d.default.showWithOptions({id:"textPickerMenu",config:t,getMenuItems:this._getMenuItems,handleMenuCommand:this._onHandleMenuCommand,rootViewId:this._getRootViewId(),invokingEvent:e})},this._getMenuItems=()=>this.props.items.map((e=>({text:e.label,command:e.value}))),this._onHandleMenuCommand=e=>{if(e===d.SXActionMenuCancel)return;const t=o.findIndex(this.props.items,(t=>t.value===e));this.props.onValueChange(e,t)}}render(){const e=this.props.title+", "+this._getSelectedItemLabel()+", "+c.getString("Global.SelectedAccessibilityLabel");return(0,n.jsxs)(s.View,Object.assign({style:[h.container,a.ListItem.small.shortHeightStyle]},{children:[(0,n.jsx)(u.RowTitle,Object.assign({colorThemeOverride:this._currentTheme,disabled:this.props.disabled},{children:this.props.title})),(0,n.jsx)(r.default,{disabled:this.props.disabled,ref:this._onPickerButtonRef,style:h.button,label:this._getSelectedItemLabel(),labelMaxWidth:270,onPress:this._onPickerClick,accessibilityLabel:e,tabIndex:this.props.tabIndex})]}))}_getSelectedItemLabel(){const e=o.find(this.props.items,(e=>e.value===this.props.selectedValue));return e?e.label:""}}t.default=p},380982:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(898278),a=i(677381),r=i(617924),l=i(733754),c=i(330124),d=i(285683);class u extends a.default{_buildState(e,t){return{isUsingStackNavigationContext:c.default.isUsingStackNavigationContext()}}render(){return(0,n.jsxs)(o.View,Object.assign({style:this.props.style},{children:[(0,n.jsx)(d.SectionTitle,{title:l.getString("LanguageAndTranslationSettingsPanel.TranslationHeader")}),(0,n.jsx)(r.default,{buttonStyles:this.state.isUsingStackNavigationContext?void 0:s.ListItem.small.shortHeightStyle})]}))}}t.default=u},733574:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(438891),a=i(832182),r=i(733754),l=i(46929),c=i(24576),d=s.Gender.female;class u extends c.default{constructor(){super(...arguments),this._isSelected=e=>e===this.state.translationVoice,this._onHandleGenderSelection=e=>{const t=e;l.default.setCallTranslatorBotTranslationVoice(t)}}_buildState(e,t){const i=[];return o.each(s.Gender,(e=>{i.push({label:u.getLabelForGender(e),value:e})})),{items:i,translationVoice:this._getCallTranslatorBotVoice()}}render(){return(0,n.jsx)(a.default,{id:"translationVoicePicker",items:this.state.items,rowTitle:r.getString("LanguageAndTranslationSettingsPanel.TranslationVoiceLabel"),caption:r.getString("LanguageAndTranslationSettingsPanel.TranslationVoiceExplanation"),isItemSelected:this._isSelected,onHandleItemSelection:this._onHandleGenderSelection,selectedItemLabel:this._getSelectedItemLabel()})}_getCallTranslatorBotVoice(){return l.default.getCallTranslatorBotTranslationVoice()||d}_getSelectedItemLabel(){const e=o.find(this.state.items,(e=>e.value===this.state.translationVoice));return e?e.label:u.getLabelForGender(d)}static getLabelForGender(e){switch(e){case s.Gender.male:return r.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionMale");case s.Gender.female:return r.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionFemale");default:return""}}}t.default=u},972235:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(889391),a=i(915877),r=i(733754),l=i(46929),c=i(536150),d=i(590602),u=i(359433),g=i(619675),h=i(24576),p=i(587331),S=(0,a.lazyProperties)({switchStyle:()=>o.Styles.createViewStyle({marginVertical:10,flexDirection:"row"}),privacyStatementTextStyle:()=>o.Styles.createTextStyle({paddingRight:15})});class m extends h.default{constructor(){super(...arguments),this._onLearnMoreLinkPress=e=>{e.stopPropagation(),e.preventDefault(),o.Linking.openUrl(this.state.learnMoreUrl)},this._onPrivacySettingChanged=(e,t)=>{l.default.setCallTranslatorPrivacyConsent(t)}}_buildState(e,t){return{learnMoreUrl:s.default.getConfigSettings().translator.learnMoreUrl,isMobileScreenReaderEnabled:c.default.isMobileScreenReaderEnabled(),isPrivacyEnabled:!!l.default.getCallTranslatorPrivacyConsent()}}render(){const e=r.getParts("UserSettingsPanel.TranslationPrivacyConsentSwitch",{learnMoreLink:this._getLearnMoreLink()});return(0,n.jsxs)(o.View,Object.assign({style:S.switchStyle},{children:[(0,n.jsx)(g.Caption,Object.assign({style:[d.default.subtitleMediumSemiLarge,S.privacyStatementTextStyle],onPress:this.state.isMobileScreenReaderEnabled?this._onLearnMoreLinkPress:void 0},{children:e}),"spokenLanguageSubtitle"),(0,n.jsx)(p.default,{isOn:this.state.isPrivacyEnabled,accessibilityLabel:r.getString("UserSettingsPanel.TranslationPrivacyConsentSwitchNoLink"),onChange:this._onPrivacySettingChanged},"spokenLanguageToggle")]}))}_getLearnMoreLink(){return(0,n.jsx)(u.default,Object.assign({url:"#",blue:!0,onPress:this._onLearnMoreLinkPress},{children:r.getString("UserSettingsPanel.TranslationCELAStatementLearnMore")}),"keyLearnMore")}}t.default=m},435040:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(889391),a=i(733754),r=i(677524),l=i(46929),c=i(619675),d=i(680837),u=i(915877),g=i(587134),h=i(104735),p=i(853374),S=i(677381),m=(0,u.lazyProperties)({switchStyle:()=>o.Styles.createViewStyle({marginBottom:15})});class C extends S.default{constructor(){super(...arguments),this._onPress=()=>{h.default.showTruVoiceConsentPanel({causeId:p.default.newCauseId(),rootViewId:this._getRootViewId()})}}_buildState(e,t){return{enableValue:l.default.getCallTranslatorTruVoiceConsent(),hasTranslationConsent:l.default.getCallTranslatorTranslationConsent(),shouldDisplay:s.default.getS4LCMCFeatures().translationFeatures.showInSettings}}render(){if(!this.state.shouldDisplay||!this.state.hasTranslationConsent)return[];const e=a.getString("CallTranscriptionNotifications.TruVoiceFeatureNameAi",{featureName:s.default.getS4LCMCFeaturesNoSubscription().translationFeatures.truVoiceName});return[(0,n.jsxs)(o.View,Object.assign({style:m.switchStyle},{children:[(0,n.jsx)(r.WideButton,{label:e,accessibilityLabel:e,labelRight:this._getConsentValue(),onPressed:this._onPress,labelNumberOfLines:3,hideDivider:!0}),(0,n.jsx)(o.View,{children:(0,n.jsx)(c.Caption,Object.assign({style:d.default.flexOne},{children:a.getString("CallTranscriptionNotifications.TruVoiceConsentSettingText",{featureName:s.default.getS4LCMCFeaturesNoSubscription().translationFeatures.truVoiceName})}))})]}),"truVoicePrivacyButton"),(0,n.jsx)(g.default,{},"divider")]}_getConsentValue(){return this.state.enableValue?a.getString("CallingSettingsPanel.Enabled"):a.getString("CallingSettingsPanel.Disabled")}}t.default=C},748367:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleDesktopUtilityBar=void 0;const n=i(207417);class o extends n.default{_getMenuSections(){return this.props.getMenuSections}_currentMenuText(){return this.props.currentMenuText}_accessibilityText(){return this.props.accessibilityText}_onHandleMenuCommand(e){super._onHandleMenuCommand(e),this.props.onHandleMenuCommand(e)}}t.SimpleDesktopUtilityBar=o,t.default=o},325729:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(281878),s=i(705465),a=i(667294),r=i(600212),l=i(711828),c=i(110117),d=i(3553),u={sm:12,md:16,lg:20};t.default=function({size:e="md"}){const t=(0,a.useRef)(new s.Animated.Value(0)).current,i=t.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]});(0,a.useEffect)((()=>{s.Animated.loop(s.Animated.timing(t,{toValue:1,duration:1.5*d.SECOND,easing:s.Easing.linear,useNativeDriver:!1})).start()}),[t]);const{themeColors:{surfaceAccent:g,surfacePrimary:h,iconOnAccent:p}}=(0,r.useSkypeTheme)(),{containerSize:S,iconSize:m}=function(e){return(0,a.useMemo)((()=>({containerSize:u[e]/4,iconSize:.6*u[e]})),[e])}(e);return(0,n.jsx)(o.Center,Object.assign({height:S,width:S,backgroundColor:g,borderRadius:"full",borderWidth:2,borderColor:h},{children:(0,n.jsx)(s.Animated.View,Object.assign({style:{transform:[{rotate:i}]}},{children:(0,n.jsx)(c.default,{icon:l.SkypeIcon.Refresh,size:m,color:p})}))}))}},247050:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useTextStyles=void 0;const n=i(516778),o=i(311010),s=i(512193);t.useTextStyles=function(e){const t=(0,s.useRXStyles)((({themeColors:{textOnAccent:e}})=>({userName:n.Styles.createTextStyle({color:e},!1)})),[]);return{userName:n.Styles.combine(o.default.modernizeSmallHeaderMobileFontStyle(void 0,e,!1),t.userName)}}},609995:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(277484),o=i(306514),s=i(217093),a=i(948199),r=i(316392);class l extends n.default{_renderSceneContent(e,t){if(!e)return;const i={ref:this._mountedRefsMap.onComponentRef(t)};return e instanceof s.ConversationsListNavigationContext?o.default.renderComponent(e,Object.assign({},i),this.props.useDesktopUI):o.default.renderComponent(e,i,this.props.useDesktopUI)}_navigatorSceneConfigTypeForNavContext(e,t){return e instanceof s.SearchNavigationContext?t&&t instanceof s.ConversationsListNavigationContext?a.default.sceneConfigForSearchTransition():a.default.fade():e instanceof s.QuickCallNavigationContext?t&&t instanceof s.ConversationsListNavigationContext&&e.state.searchOnly?a.default.sceneConfigForSearchTransition():a.default.floatFromBottom(0):e.state.navigationDirection===r.StackNavigationDirection.Present?a.default.floatFromBottom(0):a.default.floatFromRight(0)}}t.default=l},306514:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(699620),s=i(770170),a=i(528805),r=i(488110),l=i(691e3),c=i(505500),d=i(291944),u=i(217093),g=i(510706),h=i(803056),p=i(924521),S=i(436303),m=i(769216);class C{static renderComponentForLeftNavContext(e,t,i,o,s,r){switch(t){case u.LeftNavViewMode.Recents:return(0,n.jsx)(a.default,Object.assign({useMobileView:!1,isScrollToTopTarget:!1,isActiveTab:!0,useDesktopUtilityBar:o,newActionPickerContext:o?u.HubTab.Recents:void 0,disableChangeAnimation:s},i,{ref:r}));case u.LeftNavViewMode.Search:const t=e.getSearchContext();return C.renderComponent(t,i,o);case u.LeftNavViewMode.ConversationInCall:const l=e.getConversationInCallContext();return l?C.renderComponent(l,i,o):void 0;case u.LeftNavViewMode.Calls:const c=e.getCallsContext();return C.renderComponent(c,i,o);case u.LeftNavViewMode.Contacts:const d=e.getContactsV2Context();return C.renderComponent(d,i,o);case u.LeftNavViewMode.Notifications:const g=e.getNotificationsContext();return C.renderComponent(g,i,o);case u.LeftNavViewMode.Today:const h=e.getTodayContext();return C.renderComponent(h,i,o)}}static renderComponent(e,t,i){let a;if(e instanceof u.ConversationsListNavigationContext?a=(0,n.jsx)(g.default,Object.assign({route:{params:{hubTab:e.state.currentTab,screen:e.state.currentTab,hideHeader:i}}},t)):e instanceof u.SearchNavigationContext?a=(0,n.jsx)(c.default,{route:{params:Object.assign({showGroupsFilter:!0,searchPanelInitiator:e.state.searchOrigin,initialSearchFilter:e.state.initialSearchFilter,searchInputSmallMode:i},t)}}):e instanceof u.ConversationInCallNavigationContext?a=(0,n.jsx)(o.default,Object.assign({conversationId:e.state.conversationId,callId:e.state.callId,onClose:e.state.onClose},t),"callConversationPanel"):e instanceof u.QuickCallNavigationContext?a=(0,n.jsx)(s.default,Object.assign({conversationId:e.state.conversationId,callId:e.state.callId,newGroup:e.state.newGroup,searchOnly:e.state.searchOnly,navigationDirection:e.state.navigationDirection,hideHeader:i,hideSearchBar:i,useExperimentalDesktopUtilityBar:i,newActionPickerContext:i?u.HubTab.Calls:void 0},t)):e instanceof u.ContactsPanelV2NavigationContext?a=(0,n.jsx)(l.default,Object.assign({initialTab:e.state.currentTab,hideHeader:i,hideSearchBar:i,useExperimentalDesktopUtilityBar:i,newActionPickerContext:i?u.HubTab.People:void 0},t)):e instanceof u.AlertsHubNavigationContext?a=(0,n.jsx)(p.default,Object.assign({hideHeader:i,useExperimentalDesktopUtilityBar:i},t)):e instanceof u.ArchivedConversationsPanelNavigationContext?a=(0,n.jsx)(r.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}):e instanceof u.TodayTabNavigationContext?a=(0,n.jsx)(d.TodayTabNavigationPanel,Object.assign({},t)):e instanceof S.StoreNavigationContext?a=(0,n.jsx)(m.ContentChannelsStorePanel,{route:{params:e.state}}):e instanceof S.ManageNavigationContext?a=(0,n.jsx)(m.ContentChannelsManagePanel,{route:{params:e.state}}):e instanceof S.SearchNavigationContext&&(a=(0,n.jsx)(m.ContentChannelsSearchPanel,{route:{params:e.state}})),a)return(0,n.jsx)(h.default,Object.assign({isPresentedInDesktopLeftNav:!0},{children:a}))}}t.default=C},961213:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getTabs=void 0;const n=i(785893),o=i(496486),s=i(516778),a=i(889391),r=i(978547),l=i(462033),c=i(996074),d=i(282773),u=i(394894),g=i(496418),h=i(911009),p=i(803056),S=i(898278),m=i(263492),C=i(192758),y=i(476850),f=i(610482),b=i(546172),_=i(792718),v=i(746096),T=i(913944),P=i(436237),k=i(915877),A=i(306514),I=i(609995),w=i(733754),x=i(866127),N=i(593486),M=i(178735),L=i(104735),O=i(217093),D=i(827357),R=i(446068),E=i(581736),B=i(882052),F=i(126978),V=i(581760),U=i(711828),j=i(680837),H=i(360305),W=i(912770),z=i(853374),G=i(878440),K=i(356129),q=i(344352),Q=i(539474),X=i(109106),J=i(415963),$=i(582916),Y=i(518190),Z=i(436303),ee=i(256928),te=i(512952),ie=i(587134),ne=(0,k.lazyProperties)({viewContainer:()=>s.Styles.createViewStyle({alignSelf:"stretch"}),innerContainer:()=>s.Styles.createViewStyle({alignSelf:"stretch"}),rightBorder:()=>s.Styles.createViewStyle({borderRightWidth:1,borderStyle:"solid",borderColor:V.Color.gray50}),rightBorderCompensation:()=>s.Styles.createViewStyle({paddingRight:1}),searchOverlayContainerHidden:()=>s.Styles.createViewStyle({height:0}),searchBoxContainer:()=>s.Styles.createViewStyle({alignSelf:"stretch",alignItems:"stretch",justifyContent:"center",flexDirection:"row",height:48,paddingLeft:8,paddingRight:10,paddingTop:10,paddingBottom:0}),searchBoxContainerTopTabs:()=>s.Styles.createViewStyle({paddingLeft:16,paddingRight:16,paddingBottom:8,paddingTop:4}),searchButtonContainer:()=>s.Styles.createViewStyle({flex:1,flexDirection:"row",justifyContent:"center"}),dialpadButton:()=>s.Styles.createViewStyle({borderRadius:10,marginLeft:8,padding:7}),dialpadBackgroundLight:()=>s.Styles.createViewStyle({backgroundColor:V.Color.white,borderColor:V.Color.black,borderWidth:1}),dialpadBackgroundDark:()=>s.Styles.createViewStyle({backgroundColor:V.Color.black,borderColor:V.Color.white,borderWidth:1}),fullScreenOverrides:()=>(0,k.lazyProperties)({mainContent:()=>s.Styles.createViewStyle({flex:1,borderRightWidth:0,paddingRight:0})}),dragHandle:()=>s.Styles.createViewStyle({position:"absolute",top:0,right:-15,bottom:0,width:20,backgroundColor:V.Color.transparent}),dragHandleDesktop:()=>s.Styles.createViewStyle({cursor:"ew-resize"}),tabsWrapper:()=>s.Styles.createViewStyle({paddingBottom:8,paddingTop:2}),tabsWrapperBorder:()=>s.Styles.createViewStyle({borderBottomWidth:1,borderColor:V.Color.transparent}),tabsWrapperMoreSpace:()=>s.Styles.createViewStyle({marginTop:10,paddingBottom:12}),floatingShadow:()=>s.Styles.createViewStyle({shadowOffset:{height:0,width:0},shadowRadius:16,shadowColor:V.Color.blackOverlay20}),callBackground:()=>s.Styles.createViewStyle({backgroundColor:V.Color.gray400})});t.getTabs=(e,t)=>{const i=[O.HubTab.Recents,O.HubTab.Calls,O.HubTab.People];return e?t&&i.push(O.HubTab.Today):i.push(O.HubTab.Notifications),i};class oe extends c.default{constructor(){super(...arguments),this._animatedWrapperWidthValue=new s.Animated.Value(0),this._animatedWrapperWidthStyle=s.Styles.createAnimatedViewStyle({width:this._animatedWrapperWidthValue}),this._animatedContentWidthValue=new s.Animated.Value(0),this._animatedContentWidthStyle=s.Styles.createAnimatedViewStyle({width:this._animatedContentWidthValue}),this._coachMarkContext={coachMarkArea:h.CoachMarkAreaType.LeftNavigation},this._statusPillInstance=new q.default,this._headerPanelRef=()=>{var e;return null===(e=this._headerRef)||void 0===e?void 0:e.getUserIconRef()},this._onWhatsNewTooltipPress=()=>{var e;return null===(e=this._headerRef)||void 0===e?void 0:e.openMeControl()},this._myBotIconRef=()=>{var e;return null===(e=this._conversationsListPanelRef)||void 0===e?void 0:e.getMyBotRef()},this._onTabPress=(e,t)=>{if(e===O.HubTab.Today&&this._activeTab===e)return;const i=z.default.newCauseId();switch(P.log(v.LogTraceArea.Navigation,"LeftNavigationView._onTabPress, causeId: "+i),P.track(new X.PressAction(X.PressScenario.HubTab,J.ScenarioName.ResponsivenessSelectHubTab,e)),e){case O.HubTab.Recents:L.default.navigateToDesktopRecents(i);break;case O.HubTab.Calls:L.default.navigateToQuickCallPanelInLeftNav({causeId:i});break;case O.HubTab.People:L.default.navigateToContactsPanelInLeftNav(i);break;case O.HubTab.Notifications:L.default.navigateToNotificationsInLeftNav();break;case O.HubTab.Today:L.default.navigateToTodayTab()}this._activeTab=e},this._onTabLongPress=(e,t)=>{const i=z.default.newCauseId();switch(P.log(v.LogTraceArea.Navigation,"LeftNavigationView._onTabLongPress, causeId: "+i),e){case O.HubTab.Recents:case O.HubTab.Notifications:B.default.showDesktopTabOptionsMenu(e,(()=>this._tabRef(e)),this._getRootViewId(),t)}},this._onDesktopHubTabBarRef=e=>{this._tabBar=e||void 0},this._onDesktopNavigationHeaderRef=e=>{this._headerRef=e||void 0},this._onConversationListPanelRef=e=>{this._conversationsListPanelRef=e||void 0},this._onPanDragHandle=e=>{let t;t=this._isDragging?e.pageX-this._currentDragX:e.pageX-e.initialPageX,this._currentDragX=e.pageX,this._currentWidth+=t,this._currentWidth<this.state.minWidth?this._currentWidth=this.state.minWidth:this._currentWidth>S.SideBarWidths.max&&(this._currentWidth=S.SideBarWidths.max),this._animatedContentWidthValue.setValue(this._currentWidth),e.isComplete?(this._expandedWidth=this._currentWidth,this._animatedWrapperWidthValue.setValue(this._expandedWidth),F.default.putWidth(F.SideBar.Left,this._expandedWidth),this._isDragging=!1,this.forceUpdate()):this._isDragging||(this._isDragging=!0,this.forceUpdate());const i=this._currentWidth<S.SideBarWidths.compact;this.state.useCompactIcons!==i&&this.setState({useCompactIcons:i})},this._onSearchButtonClick=e=>{const t=z.default.newCauseId();P.log(v.LogTraceArea.Navigation,"LeftNavigationView._onSearchButtonClick, causeId: "+t),e&&e.stopPropagation(),P.track(new X.PressAction(X.PressScenario.SearchNavigation,v.SearchPanelInitiator.RecentsListSearchButton)),L.default.navigateToSearch({searchOrigin:v.SearchPanelInitiator.RecentsListSearchButton},t)},this._onTabletBackButtonPressed=()=>{const e=z.default.newCauseId();switch(P.log(v.LogTraceArea.Navigation,"LeftNavigationView._onTabletBackButtonPressed, causeId: "+e),this.props.viewMode){case O.LeftNavViewMode.Search:return L.default.closeSearchPanel(e,this._getContext()),!0;case O.LeftNavViewMode.CallSearch:return L.default.closeCallSearchPanel(e,this._getContext()),!0}return!1},this._onDialPadButtonClick=()=>{const e=z.default.newCauseId();P.log(v.LogTraceArea.Navigation,"DesktopNavigation._onDialpadButtonClick causeId: "+e),P.track(new X.PressAction(X.PressScenario.SearchAccessory,v.SearchAccessoryOrigin.DesktopNavigationSearchBox,"DialPad")),L.default.navigateToPSTNDialerWithParams({causeId:e,navigationSource:v.DialerNavigationSource.DesktopNavigationSearchBox},this._getRootViewId())}}_buildState(e,t){const{enableRecentsFilterPills:i}=a.default.getS4LUiFeatures(),n=N.default.isChildOrMinor(),o=H.default.isTabletUI(),s=!o&&b.default.collapseDesktopStackNavContext(),l=F.default.resizingEnabled(F.SideBar.Left),c=e.viewMode===O.LeftNavViewMode.Search,u=e.viewMode===O.LeftNavViewMode.ConversationInCall?S.SideBarWidths.base:S.SideBarWidths.min,g=a.default.getS4LMessagingFeatures().enableNotificationPrompt&&E.default.shouldShowNotificationsPrompt(),h=d.default.isBookmarkAdded(),p=a.default.getEngagementFeatures().whatsNewSetting,m=a.default.getS4LCommerceFeatures().todayTab.enabled,{enableHistory:y,enableSuggest:f}=a.default.getS4LSearchFeatures().bingSearch,_=N.default.isChildOrMinor(),v=M.default.getTodayTabToggledButtonSwitchedOn(),T=m&&!_,P={useDesktopUI:s,useTabletUI:o,isResizeable:l,showNotificationsPrompt:g,mainStageViewMode:l?D.default.getCompositeMainStageNavViewMode():void 0,renderPreMountedSearch:c||!t&&this.state.renderPreMountedSearch,minWidth:u,conversationsListMode:o?C.default.getConversationsListMode():void 0,useExtraCompactLayout:B.default.shouldUseExtraCompactLayoutAndChanges(),isBookmarkAdded:h,shouldShowMyBotToolTip:te.default.shouldShowMyBotFloatToolTip(),isWhatsNewTooltipEnabled:p.enabled&&p.coachmarkEnabled,showWhatsNewTooltip:G.default.showTooltip()&&r.default.isAppUpdated(),modernizeConversationList:x.default.canModernizeConversationList(),isTodayTabToggledButtonSwitchedOn:v,shouldShowTodayTab:T,enableBingSearchHistory:f||y,enableRecentsFilterPills:i&&!n};if(t||u!==this.state.minWidth){this._currentDragX=0,this._expandedWidth=Math.max(u,F.default.getWidth(F.SideBar.Left)),this._currentWidth=this._expandedWidth,this._animatedWrapperWidthValue.setValue(this._currentWidth),this._animatedContentWidthValue.setValue(this._currentWidth);const e=this._currentWidth<=S.SideBarWidths.compact;t&&(this._useCompactIconsOnMount=e),P.useCompactIcons=e}return P}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),!this.state.isTodayTabToggledButtonSwitchedOn&&(this.props.viewMode===O.LeftNavViewMode.Today||D.default.getCompositeMainStageNavViewMode()===O.MainStageNavViewMode.Today)){const e=z.default.newCauseId();L.default.navigateToWelcomeScreen(e)}}componentDidMount(){super.componentDidMount(),this.state.useTabletUI&&l.default.subscribe(this._onTabletBackButtonPressed),this.state.renderPreMountedSearch||W.default.setTimeout((()=>{this.isComponentMounted()&&this.setState({renderPreMountedSearch:!0})}),2500),this._timeoutId=W.default.setTimeout((()=>{this.isComponentMounted()&&(G.default.maybeSetTooltipVisibility(!0),G.default.maybeSetRedDotVisibility(!0),this._timeoutId=void 0)}),2500)}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),this._isDragging||(this._currentWidth=e.viewMode===O.LeftNavViewMode.None?0:this._expandedWidth,this._animatedWrapperWidthValue.setValue(this._currentWidth),this._animatedContentWidthValue.setValue(this._currentWidth))}componentWillUnmount(){super.componentWillUnmount(),l.default.unsubscribe(this._onTabletBackButtonPressed),this._timeoutId&&(W.default.clearTimeout(this._timeoutId),this._timeoutId=void 0),this._statusPillInstance.destroy()}render(){if(this.props.viewMode===O.LeftNavViewMode.None)return null;const e=[ne.viewContainer],i=[ne.innerContainer,s.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfacePrimary},!1)],o=[s.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.dividerPrimary,marginBottom:6,height:.5},!1)];let a,r;!this.state.modernizeConversationList||this._useAccessibleTheme()?i.push(ne.rightBorder):i.push(ne.rightBorderCompensation),this.state.isResizeable&&i.push(j.default.flexOne),this._getContext().isPresentedInDesktopContentPanel?(e.push(j.default.flexOne),i.push(ne.fullScreenOverrides.mainContent)):(e.push(this._animatedWrapperWidthStyle,j.default.overflowVisible),i.push(this._themeStyles.dividerBorderColorStyle,this._animatedContentWidthStyle)),this._useDarkTheme()&&i.push(this._themeStyles.headerShadowBorderColorStyle),this._isDragging&&i.push(ne.floatingShadow),this.props.viewMode!==O.LeftNavViewMode.ConversationInCall&&(a=this._renderHeader(),r=this._renderSearchBox());const l=this.state.isResizeable?(0,n.jsx)(s.GestureView,{style:[ne.dragHandle,ne.dragHandleDesktop],preferredPan:s.Types.PreferredPanGesture.Horizontal,onPanHorizontal:this._onPanDragHandle}):void 0;let c,d;if(this.state.useDesktopUI){const e=this.props.viewMode,i=e===O.LeftNavViewMode.Search||e===O.LeftNavViewMode.ContentChannelsStore||e===O.LeftNavViewMode.ContentChannelsSearch||e===O.LeftNavViewMode.ContentChannelsManage,a=function(e,t){var i;return null!==(i=function(e){switch(e){case O.LeftNavViewMode.Recents:return O.HubTab.Recents;case O.LeftNavViewMode.Calls:return O.HubTab.Calls;case O.LeftNavViewMode.Contacts:return O.HubTab.People;case O.LeftNavViewMode.Notifications:return O.HubTab.Notifications;case O.LeftNavViewMode.Today:return O.HubTab.Today;default:return}}(t===O.LeftNavViewMode.Search&&e?e:t))&&void 0!==i?i:O.HubTab.Recents}(this.props.navContext.state.searchViewModeContext,this.props.viewMode),r=a===O.HubTab.Recents&&!this.state.enableRecentsFilterPills||a===O.HubTab.Calls||a===O.HubTab.People?(0,n.jsx)(_.default,{selectedHubTab:a}):void 0,l=a===O.HubTab.Recents&&this.state.enableRecentsFilterPills?(0,n.jsx)(Y.RecentsActionBar,{}):null,d=[ne.tabsWrapper,this.state.modernizeConversationList?void 0:ne.tabsWrapperBorder,this.state.modernizeConversationList?void 0:this._themeStyles.dividerBorderColorStyle,ne.tabsWrapperMoreSpace],u=function(e){switch(e){case O.LeftNavViewMode.Recents:case O.LeftNavViewMode.Calls:case O.LeftNavViewMode.Contacts:case O.LeftNavViewMode.Notifications:case O.LeftNavViewMode.Search:case O.LeftNavViewMode.Today:return!0;default:return!1}}(e)?(0,n.jsx)(y.default,{ref:this._onDesktopHubTabBarRef,style:d,tabs:(0,t.getTabs)(this.state.shouldShowTodayTab,this.state.isTodayTabToggledButtonSwitchedOn),currentHubTab:a,smallTabsThreshold:S.SideBarWidths.compact,useSmallTabsOnMount:this._useCompactIconsOnMount,hideLabels:this.state.useExtraCompactLayout,onTabPress:this._onTabPress,onTabLongPress:this._onTabLongPress}):void 0,g=this.state.showNotificationsPrompt?(0,n.jsx)(R.default,{}):void 0,h=i?this._renderSearchContextContent():this._renderContent();let p;if(this.state.renderPreMountedSearch||this._isShowingSearch()){const t=[j.default.absoluteFill,i?void 0:ne.searchOverlayContainerHidden];p=(0,n.jsx)(s.View,Object.assign({style:t},{children:this._renderOverlayPanel(e)}))}const C=[j.default.flexOne];let f;i&&(C.push(j.default.displayNone),f=s.Types.ImportantForAccessibility.NoHideDescendants),c=(0,n.jsxs)(s.View,Object.assign({style:j.default.flexOne},{children:[(0,n.jsxs)(s.View,Object.assign({style:C,importantForAccessibility:f},{children:[g,u,r,(0,n.jsx)(ie.default,{style:o}),l,h,(0,n.jsx)(m.default,{statusPillInstance:this._statusPillInstance,statusPillMaxWidth:this._currentWidth-2})]})),p]}))}else d=this._renderSearchPanel(),this._isShowingSearch()||(c=this._renderContent());let u=(0,n.jsxs)(s.Animated.View,Object.assign({style:i,importantForAccessibility:this.state.isResizeable?void 0:this.props.importantForAccessibility},{children:[a,r,d,c,l,this._getBookmarkTooltip(),this._getWhatsNewTooltip(),this._getMyBotTooltip()]}));return this.state.isResizeable&&(this._isDragging&&e.push(j.default.floatingStyle),e.push(this._backgroundColorStyle()),u=(0,n.jsx)(s.Animated.View,Object.assign({style:e,importantForAccessibility:this.props.importantForAccessibility},{children:u}))),(0,n.jsx)(p.default,Object.assign({isPresentedInDesktopLeftNav:!0},{children:(0,n.jsx)(h.CoachMarkContext.Provider,Object.assign({value:this._coachMarkContext},{children:u}))}))}_getBookmarkTooltip(){return this.state.isBookmarkAdded&&!g.default.isCoachMarkBeingShown()?(0,n.jsx)(u.default,{title:w.getString("BookmarksTooltips.BookmarkAdded"),accessibilityLabel:w.getString("BookmarksTooltips.BookmarkAdded"),anchor:this._headerPanelRef,offsetY:-2}):void 0}_getWhatsNewTooltip(){return this.state.isWhatsNewTooltipEnabled&&this.state.showWhatsNewTooltip?(0,n.jsx)(K.default,{title:w.getString("Onboarding.LandingScreenWithCardsCardTitle1"),accessibilityLabel:w.getString("Onboarding.LandingScreenWithCardsCardTitle1"),anchor:this._headerPanelRef,offsetY:-2,onPress:this._onWhatsNewTooltipPress}):void 0}_tabRef(e){return this._tabBar?this._tabBar.tabRef(e):void 0}_renderHeader(){return!function(e){switch(e){case O.LeftNavViewMode.ContentChannelsStore:case O.LeftNavViewMode.ContentChannelsSearch:case O.LeftNavViewMode.ContentChannelsManage:return!1;default:return!0}}(this.props.viewMode)||this.state.useTabletUI?null:(0,n.jsx)(f.default,{ref:this._onDesktopNavigationHeaderRef})}_renderSearchBox(){return!function(e){switch(e){case O.LeftNavViewMode.Search:case O.LeftNavViewMode.ContentChannelsStore:case O.LeftNavViewMode.ContentChannelsSearch:case O.LeftNavViewMode.ContentChannelsManage:return!1;default:return!0}}(this.props.viewMode)||this.state.useTabletUI?null:(0,n.jsx)(Q.HeaderSearch,{onPress:this._onSearchButtonClick,placeholder:w.getString(this.state.enableBingSearchHistory?"HubHeaderPanel.SearchHubTitleEnableSearch":"HubHeaderPanel.SearchHubTitle"),accessory:this.state.useDesktopUI?(0,n.jsx)(T.default,{title:w.getString("PeopleList.PstnDialpadLabel"),icon:this.state.useDesktopUI?U.SkypeIcon.Dialpad:U.SkypeIcon.Filter,size:U.IconSize.size14,color:this._getContext().themeColors.primaryIconColor,onPress:this._onDialPadButtonClick}):void 0})}_getMyBotTooltip(){return this.state.shouldShowMyBotToolTip&&this._isShowingRecents()?(0,n.jsx)(ee.MyBotFloatTooltip,{title:w.getString("MyBotConversation.HightlightedTooltip"),anchor:this._myBotIconRef}):void 0}_renderContent(){const e=this.props.navContext;if(this.state.useTabletUI){const t=function(e,t){const i=o.clone(e.getConversationsListContext());switch(i.id=-1,e.state.viewMode){case O.LeftNavViewMode.Recents:if(t===$.ConversationsListMode.ArchivedConversations){return[i,o.clone(e.getArchivedConversationsContext())]}return[i];case O.LeftNavViewMode.Search:const n=o.clone(e.getSearchContext());return n.id=-2,[i,n];case O.LeftNavViewMode.CallSearch:const s=o.clone(e.getCallSearchContext());return s.id=-4,[i,s];case O.LeftNavViewMode.ConversationInCall:const a=o.clone(e.getConversationInCallContext());return a?(a.id=-3,[a]):[];case O.LeftNavViewMode.ContentChannelsStore:return[e.setContext(new Z.StoreNavigationContext({viewMode:O.LeftNavViewMode.ContentChannelsStore}),Z.StoreNavigationId)];case O.LeftNavViewMode.ContentChannelsSearch:return[e.setContext(new Z.SearchNavigationContext({viewMode:O.LeftNavViewMode.ContentChannelsSearch,searchOrigin:v.SearchResultsListOrigin.ContentChannels}),Z.SearchNavigationId)];case O.LeftNavViewMode.ContentChannelsManage:return[e.setContext(new Z.ManageNavigationContext({viewMode:O.LeftNavViewMode.ContentChannelsManage}),Z.ManageNavigationId)]}return[]}(e,this.state.conversationsListMode);return(0,n.jsx)(I.default,{navContextStack:t,useDesktopUI:this.state.useDesktopUI})}const t={isPresentedInDesktopLeftNav:!0,isCollapsed:!1,useCompactIcon:this.state.useCompactIcons};return A.default.renderComponentForLeftNavContext(e,this.props.viewMode,t,this.state.useDesktopUI,void 0,this._onConversationListPanelRef)}_isShowingRecents(){return this.props.viewMode===O.LeftNavViewMode.Recents}_isShowingSearch(){return this.props.viewMode===O.LeftNavViewMode.Search}_renderOverlayPanel(e){if(e===O.LeftNavViewMode.Search)return this._renderSearchPanel();if(e===O.LeftNavViewMode.ContentChannelsStore){const e={useCompactIcon:this.state.useCompactIcons},t=this.props.navContext.setContext(new Z.StoreNavigationContext({viewMode:O.LeftNavViewMode.ContentChannelsStore}),Z.StoreNavigationId);return A.default.renderComponent(t,e,!1)}if(e===O.LeftNavViewMode.ContentChannelsManage){const e={useCompactIcon:this.state.useCompactIcons},t=this.props.navContext.setContext(new Z.ManageNavigationContext({viewMode:O.LeftNavViewMode.ContentChannelsManage}),Z.ManageNavigationId);return A.default.renderComponent(t,e,!1)}if(e===O.LeftNavViewMode.ContentChannelsSearch){const e={useCompactIcon:this.state.useCompactIcons},t=this.props.navContext.setContext(new Z.SearchNavigationContext({viewMode:O.LeftNavViewMode.ContentChannelsSearch,searchOrigin:v.SearchResultsListOrigin.ContentChannels}),Z.ManageNavigationId);return A.default.renderComponent(t,e,!1)}}_renderSearchPanel(){const e={isCollapsed:!1,hidden:!this._isShowingSearch(),useCompactIcon:this.state.useCompactIcons},t=this.props.navContext.getSearchContext();return A.default.renderComponent(t,e,!1)}_renderSearchContextContent(){if(!this.props.navContext.state.searchViewModeContext||!this.state.useDesktopUI)return;const e={isPresentedInDesktopLeftNav:!0,isCollapsed:!1,useCompactIcon:this.state.useCompactIcons};return A.default.renderComponentForLeftNavContext(this.props.navContext,this.props.navContext.state.searchViewModeContext,e,this.state.useDesktopUI,!0)}_backgroundColorStyle(){switch(this.state.mainStageViewMode){case O.MainStageNavViewMode.Call:case O.MainStageNavViewMode.MeetNow:return ne.callBackground;case O.MainStageNavViewMode.DesktopContentPanel:return this._themeStyles.messageStreamBackgroundColorStyle;case O.MainStageNavViewMode.WelcomeScreen:return this._themeStyles.primaryBackgroundColorStyle;default:return}}}t.default=oe},186673:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(996074),a=i(803056),r=i(911009),l=i(898278),c=i(915877),d=i(306514),u=i(581760),g=i(360305),h=(0,c.lazyProperties)({viewContainer:()=>o.Styles.createViewStyle({alignSelf:"stretch",borderRightWidth:1,borderStyle:"solid",borderColor:u.Color.gray50})});class p extends s.default{constructor(){super(...arguments),this._coachMarkContext={coachMarkArea:r.CoachMarkAreaType.LeftNavigation}}_buildState(e,t){return{sidebarWidth:l.SideBarWidths.base,useTabletUI:g.default.isTabletUI()}}render(){if(!this.props.navContext)return null;const e=d.default.renderComponent(this.props.navContext,{isCollapsed:!1},!0),t=[h.viewContainer,this.state.useTabletUI?this._themeStyles.primaryBackgroundColorStyle:this._themeStyles.secondaryBackgroundColorStyle,this._themeStyles.dividerBorderColorStyle,o.Styles.createViewStyle({width:this.state.sidebarWidth},!1)];return this._useDarkTheme()&&t.push(this._themeStyles.headerShadowBorderColorStyle),(0,n.jsx)(o.View,Object.assign({style:t,importantForAccessibility:this.props.importantForAccessibility},{children:(0,n.jsx)(a.default,Object.assign({isPresentedInDesktopLeftNav:!0},{children:(0,n.jsx)(r.CoachMarkContext.Provider,Object.assign({value:this._coachMarkContext},{children:e}))}))}))}}t.default=p},266630:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(83940),a=i(258187),r=i(691707),l=i(281374),c=i(652525),d=i(961213),u=i(733754),g=i(407593),h=i(217093),p=i(811411),S=(i(267888),i(897634)),m=i(163841),C=i(418037),y=i(385892),f=i(291944),b=i(436303),_=i(769216);t.default=class{static renderComponentForContext(e){let t,i,v;if(e instanceof h.JoiningGuestScreenContext)t=(0,n.jsx)(p.default,{showSpinner:!0,statusText:u.getString("UrlConverter.JoiningConversationMessage"),showLoginFallback:!1,loginCallback:o.noop,darkThemeEnabled:C.default.isDarkThemeNoSubscription()});else if(e instanceof h.WelcomeScreenContext)t=(0,n.jsx)(a.CommonContext.Consumer,{children:e=>{const t=S.isDarkTheme(e.theme)&&!S.isAccessibleTheme(e.theme)?m.Theme.ColorfulDark:void 0;return(0,n.jsx)(c.default,{colorThemeOverride:t})}});else if(e instanceof h.TodayTabNavigationContext)t=f.TodayTabDesktopPanel&&(0,n.jsx)(f.TodayTabDesktopPanel,{route:{params:e.state}});else if(e instanceof h.DesktopContentPanelNavigationContext){const o=e.getConversationContext();o&&(i=o?o.state.conversationId:void 0,t=(0,n.jsx)(r.default,{navContext:o}))}else e instanceof h.CallNavigationContext?(v=e.state.callId,i=e.state.initialConversationMri,t=(0,n.jsx)(s.default,{route:{params:{initialConversationMri:i,callId:v,navigationReason:e.state.navigationReason,convertedVideoToAudio:e.state.convertedVideoToAudio,meetNowParameters:e.state.meetNowParameters}}},"call"+v)):e instanceof g.default.NavigationContext.MeetNowNavigationContext?t=g.default.StackNavigator.renderSceneContent(e):e instanceof h.ForcedUpgradeContext?t=(0,n.jsx)(l.default,{}):e instanceof h.LeftNavigationViewContext?t=(0,n.jsx)(d.default,{navContext:e,viewMode:e.state.viewMode}):e instanceof h.SXPlaygroundNavigationContext||(e instanceof h.RedirectToLogoutNavigationContext?t=(0,n.jsx)(y.LogoutPage,{route:{params:e.state}}):e instanceof b.PreviewNavigationContext&&(t=(0,n.jsx)(_.ContentChannelsPreviewScreen,{route:{params:e.state}})));return{component:t,conversationMri:i,callId:v}}}},594355:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(496486),a=i(671830),r=i(803056),l=i(677381),c=i(746096),d=i(211375),u=i(436237),g=i(172490),h=i(733754),p=i(266630),S=i(104735),m=i(217093),C=i(827357),y=i(853374);class f extends l.default{constructor(){super(...arguments),this._navigateToRecents=(e,t)=>{if(t!==this._getRootViewId())return!1;const i=y.default.newCauseId();return u.log(c.LogTraceArea.Navigation,"MainStageNavigationView._navigateToRecents, causeId: "+i),S.default.navigateToDesktopRecents(i,this._conversationMri,this._callId?c.NavigationConversationOrigin.Call:void 0),d.setFocusWithDelay(d.FocusEvent.Recent,0),!0},this._toggleGallery=(e,t)=>{if(t!==this._getRootViewId())return!1;const i=y.default.newCauseId();return u.log(c.LogTraceArea.Navigation,"MainStageNavigationView._toggleGallery,  causeId: "+i),!this._conversationMri||a.isConversationWithPhoneNumber(this._conversationMri)||a.isS4BBridgeMri(this._conversationMri)||(this.state.isGalleryShowing?(o.Accessibility.announceForAccessibility(h.getString("AccessibilityLabel.GalleryClosed")),S.default.closeGalleryPanel(i,this._getContext())):(o.Accessibility.announceForAccessibility(h.getString("AccessibilityLabel.GalleryOpened")),S.default.navigateToGallery(this._conversationMri,m.GalleryViewMode.All,this._getContext()))),!0}}_buildState(e,t){return{isGalleryShowing:C.default.isGalleryShowing()}}componentDidMount(){super.componentDidMount(),this._registerKeyboardHandlers()}componentWillUnmount(){super.componentWillUnmount(),this._unregisterKeyboardHandlers()}render(){if(!this.props.splitNavContext)return null;const e=this.props.splitNavContext.getNavStack(),t=p.default.renderComponentForContext((0,s.last)(e));return this._conversationMri=t.conversationMri,this._callId=t.callId,t.component?(0,n.jsx)(r.default,Object.assign({isPresentedInDesktopContentPanel:!0},{children:t.component})):null}_registerKeyboardHandlers(){g.default.addHandler(c.KeyboardShortcut.NavigateToRecents,this._navigateToRecents),g.default.addHandler(c.KeyboardShortcut.NavigateToHistory,this._navigateToRecents),g.default.addHandler(c.KeyboardShortcut.ToggleGallery,this._toggleGallery)}_unregisterKeyboardHandlers(){g.default.removeHandler(c.KeyboardShortcut.NavigateToRecents,this._navigateToRecents),g.default.removeHandler(c.KeyboardShortcut.NavigateToHistory,this._navigateToRecents),g.default.removeHandler(c.KeyboardShortcut.ToggleGallery,this._toggleGallery)}}t.default=f},451072:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MaybeListItem=void 0;const n=i(785893),o=i(496486),s=i(396265),a=i(516778);function r(e,t,i,n){const o=e;let s=!1;t.disabled&&(s=!0);const r=s?void 0:t.onPress;if(t.onContextMenu&&(n.onContextMenu=t.onContextMenu,delete i.onContextMenu),r)o._isMaybeListItemPressed=!1,o._maybeListItemOnPress||(o._maybeListItemOnPress=e=>{o._isMaybeListItemPressed=!0}),o._maybeLitItemOrigOnPress!==r&&(o._maybeListItemWrappedOnPress=(e,t)=>{(a.UserInterface.isNavigatingWithKeyboard()||o._isMaybeListItemPressed||t)&&(o._isMaybeListItemPressed=!1,r&&r(e))},o._maybeLitItemOrigOnPress=r);else{if(!o._maybeLitItemOrigOnPress)return;o._isMaybeListItemPressed=!1,delete o._maybeLitItemOrigOnPress,delete o._maybeListItemOnPress,delete o._maybeListItemWrappedOnPress}i.onPress=o._maybeListItemOnPress,n.onPress=o._maybeListItemWrappedOnPress}function l(e,t,i,n){const o=e,s=t.onLongPress;t.onContextMenu&&(n.onContextMenu=t.onContextMenu,delete i.onContextMenu),s&&(o._isMaybeListItemPressed=!1,o._maybeListItemOnLongPress||(o._maybeListItemOnLongPress=e=>{s(e)}),i.onLongPress=o._maybeListItemOnLongPress)}class c extends a.Component{constructor(){super(...arguments),this._onRef=e=>{this._ref=e||void 0}}render(){return(0,n.jsx)(s.Types.VirtualListCellContext.Consumer,{children:e=>{const t=this._processProps(this.props,e),i=t.Component;return(0,n.jsx)(i,Object.assign({ref:this._onRef},t.props))}})}requestFocus(){this._focus?this._focus():this._ref&&this._ref.requestFocus()}_processProps(e,t){let i,n;if(t.onListItemDetails){n=o.clone(e);const s=!!e.keepOriginalProps;delete n.ref,delete n.keepOriginalProps,s||delete n.tabIndex;const a={};i=this.processProps(e,s,n,a),this._focus=t.onListItemDetails(a)}return{Component:i||this.DefaultComponent,props:n||e}}}t.MaybeListItem={View:class extends c{constructor(){super(...arguments),this.DefaultComponent=a.View}processProps(e,t,i,n){return e.accessibilityTraits&&(n.accessibilityTrait=e.accessibilityTraits instanceof Array?e.accessibilityTraits[0]:e.accessibilityTraits,t||delete i.accessibilityTraits),e.accessibilityLabel&&(n.accessibilityLabel=e.accessibilityLabel,t||delete i.accessibilityLabel),e.importantForAccessibility&&(n.importantForAccessibility=e.importantForAccessibility,t||delete i.importantForAccessibility),r(this,e,i,n),l(this,e,i,n),e.onFocus&&(n.onFocus=e.onFocus,delete i.onFocus),e.onBlur&&(n.onBlur=e.onBlur,delete i.onBlur),e.onMouseEnter&&(n.onHoverStart=e.onMouseEnter,delete i.onMouseEnter),i.onMouseLeave&&(n.onHoverEnd=i.onMouseLeave,delete i.onMouseLeave),a.View}},Button:class extends c{constructor(){super(...arguments),this.DefaultComponent=a.Button}processProps(e,t,i,n){return e.accessibilityTraits&&(n.accessibilityTrait=e.accessibilityTraits instanceof Array?e.accessibilityTraits[0]:e.accessibilityTraits,t||delete i.accessibilityTraits),e.accessibilityLabel&&(n.accessibilityLabel=e.accessibilityLabel,t||delete i.accessibilityLabel),e.importantForAccessibility&&(n.importantForAccessibility=e.importantForAccessibility,t||delete i.importantForAccessibility),r(this,e,i,n),l(this,e,i,n),e.onFocus&&(n.onFocus=e.onFocus,delete i.onFocus),e.onBlur&&(n.onBlur=e.onBlur,delete i.onBlur),e.onHoverStart&&(n.onHoverStart=e.onHoverStart,delete i.onHoverStart),i.onHoverEnd&&(n.onHoverEnd=i.onHoverEnd,delete i.onHoverEnd),t?a.Button:a.View}}},t.default=t.MaybeListItem},95674:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(319436),s=i(775352),a=i(67930),r=i(803056),l=i(72822),c=i(746096),d=i(436237),u=i(733754),g=i(928159),h=i(853154),p=i(938980),S=i(383643),m=i(115489),C=i(581760),y=i(711828),f=i(163841),b=i(853374);class _ extends a.default{constructor(){super(...arguments),this._goBack=e=>(d.log(c.LogTraceArea.Navigation,"AVSettingsDialog._goBack,  causeId: "+e),this.props.scenarioNavigator?(this.props.scenarioNavigator.goBack(),!0):super._goBack(e)),this._onCloseButtonClicked=()=>{const e=b.default.newCauseId();d.log(c.LogTraceArea.Navigation,"AVSettingsDialog._onCloseButtonClicked,  causeId: "+e),this._sendTelemetryEvent(l.DialogNavExit.Close),this._goBack(e)},this._onNextButtonClicked=()=>{const e=b.default.newCauseId();d.log(c.LogTraceArea.Navigation,"AVSettingsDialog._onNextButtonClicked,  causeId: "+e),this._sendTelemetryEvent(l.DialogNavExit.Submit),this.props.scenarioNavigator?this.props.scenarioNavigator.goNext():this._goBack(e)},this._onSkipButtonClicked=()=>{const e=b.default.newCauseId();d.log(c.LogTraceArea.Navigation,"AVSettingsDialog._onSkipButtonClicked,  causeId: "+e),this._sendTelemetryEvent(l.DialogNavExit.Skip),this.props.scenarioNavigator?this.props.scenarioNavigator.goNext():this._goBack(e)},this._onCameraSelected=e=>{this._telemetryEvent&&e&&this._telemetryEvent.markDidChangeCameraSetting()},this._onMicrophoneSelected=e=>{this._telemetryEvent&&e&&this._telemetryEvent.markDidChangeMicSetting()},this._onSpeakerSelected=e=>{this._telemetryEvent&&e&&this._telemetryEvent.markDidChangeSpeakerSetting()},this._onRingingDeviceSelected=e=>{this._telemetryEvent&&e&&this._telemetryEvent.markDidChangeRingingDeviceSetting()},this._onMicrophoneAdjusted=()=>{this._telemetryEvent&&this._telemetryEvent.markDidAdjustMicrophone()},this._onMicrophoneAutoAdjustChanged=e=>{this._telemetryEvent&&this._telemetryEvent.markDidChangeMicrophoneAutoAdjustment(e)},this._onAudioTestPerformed=()=>{this._telemetryEvent&&this._telemetryEvent.markAudioTestPerformed()},this._onTestCallPerformed=()=>{this._telemetryEvent&&this._telemetryEvent.markTestCallPerformed()},this._onSpeakerVolumeChanged=()=>{this._telemetryEvent&&this._telemetryEvent.markDidChangeSpeakerVolume()},this._onEchoCancellationChanged=e=>{this._telemetryEvent&&this._telemetryEvent.markDidChangeEchoCancellation(e)},this._onMusicModeChanged=e=>{this._telemetryEvent&&this._telemetryEvent.markDidChangeMusicMode(e)}}static getHeaderText(e){return e===s.SettingsMode.Audio?u.getString("AudioVideoSettings.AudioTestTitle"):e===s.SettingsMode.Video?u.getString("AudioVideoSettings.VideoTestTitle"):u.getString("AudioVideoSettings.Title")}_buildState(e,t){const i={};if(t){this._setupTelemetryEvent(e);const t=(0,S.getOnboardingFeatures)(e.scenarioNavigator);i.themeAwareOnboardingEnabled=t.themeAwareOnboardingEnabled}return i}render(){const e=this.props.origin===l.DialogNavOrigin.Onboarding?h.OnboardingDialogWizardNextButtonVariant.TextAndIcon:h.OnboardingDialogWizardNextButtonVariant.IconOnly,t=this._getNextButtonTitle(),i=this.props.scenarioNavigator&&!this.state.themeAwareOnboardingEnabled&&!this._useDarkTheme(),s=this._useDarkTheme()?C.Color.darkThemeBackground:C.Color.white;return(0,n.jsx)(r.default,Object.assign({goBack:this._goBack},{children:(0,n.jsx)(g.default,Object.assign({headerText:this._getHeaderText(this.state),descriptionElement:u.getString("AudioVideoSettings.AVTestBody"),hideSkipButton:this.props.hideSkipButton,nextButtonIcon:this.props.nextButtonIcon||y.SkypeIcon.Ok,hideCloseButton:this.props.hideCloseButton,closeButtonIcon:this.props.closeButtonIcon,nextButtonVariant:e,nextButtonTitle:t,scenarioNavigator:this.props.scenarioNavigator,onSkipButtonClicked:this._onSkipButtonClicked,onNextButtonClicked:this._onNextButtonClicked,onCloseButtonClicked:this._onCloseButtonClicked,disablePresentationAnimation:!0,isContentScrollable:!0},{children:(0,n.jsx)(o.default,{settingsMode:this.props.settingsMode,colorThemeOverride:i?f.Theme.Colorful:void 0,backgroundColor:i?C.Color.white:s,onCameraSelected:this._onCameraSelected,onMicrophoneSelected:this._onMicrophoneSelected,onSpeakerSelected:this._onSpeakerSelected,onRingingDeviceSelected:this._onRingingDeviceSelected,onMicrophoneAdjusted:this._onMicrophoneAdjusted,onMicrophoneAutoAdjustChanged:this._onMicrophoneAutoAdjustChanged,onSpeakerVolumeChanged:this._onSpeakerVolumeChanged,onAudioTestPerformed:this._onAudioTestPerformed,onTestCallPerformed:this._onTestCallPerformed,onMusicModeChanged:this._onMusicModeChanged,onEchoCancellationChanged:this._onEchoCancellationChanged,isInOnboarding:!0,hideBackgroundBlurCapability:!0})}))}))}componentWillUnmount(){super.componentWillUnmount(),this._sendTelemetryEvent(l.DialogNavExit.CancelOrBack)}_componentId(){return"AVSettingsDialog"}_getNextButtonTitle(){if(this.props.origin===l.DialogNavOrigin.Onboarding)return u.getString("Onboarding.WizardGenericStepContinueButton")}_setupTelemetryEvent(e){let t,i;const n=(0,S.getTypedScenarioNavigator)(e.scenarioNavigator);n&&(t=n.getCurrentStep(),i=n.getTotalNumberOfSteps()),this._telemetryEvent=new m.AVSettingsDialogEvent(e.settingsMode,e.origin,t,i)}_sendTelemetryEvent(e){this._telemetryEvent&&(this._telemetryEvent.setExit(e),p.default.track(this._telemetryEvent),this._telemetryEvent=void 0)}_getHeaderText(e){return _.getHeaderText(this.props.settingsMode)}}t.default=_},607499:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691),o=i(219784),s=i(677381),a=i(437490),r=i(733754),l=i(178735);class c extends s.default{static showIfRequired(e){if(l.default.getUserPreferencesLocalNoSubscription().isArchiveConversationDialogRequired){a.dismissAll();const t=r.getString("HideConversation.DialogTitle"),i=r.getString("HideConversation.DialogBody");return o.default.showOKAlertWithPromise(t,i,e,!1,i).then((()=>{l.default.setUserPreferencesLocal({isArchiveConversationDialogRequired:!1})}))}return n.Resolved()}}t.default=c},797136:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(974634),a=i(735440),r=i(147204),l=i(677381),c=i(746096),d=i(915877),u=i(733754),g=i(104735),h=i(886045),p=i(910265),S=i(581760),m=i(311010),C=i(619675),y=i(677524),f=(0,d.lazyProperties)({contentContainer:()=>o.Styles.createViewStyle({backgroundColor:S.Color.transparent,justifyContent:"center",alignItems:"center"}),innerContainer:()=>o.Styles.createViewStyle({justifyContent:"center",alignItems:"center"}),title:()=>o.Styles.createTextStyle({color:S.Color.white,textAlign:"center",alignSelf:"center",marginTop:10}),description:()=>o.Styles.createTextStyle({color:S.Color.white,alignSelf:"center",textAlign:"center",marginVertical:20,paddingHorizontal:10}),linkButton:()=>o.Styles.createButtonStyle({minHeight:40,paddingLeft:10}),linkText:()=>o.Styles.createTextStyle({font:m.default.font.uiDisplayBold,fontSize:m.default.controlFontSize.bodySmallDeprecated,color:S.Color.white})});class b extends l.default{constructor(){super(...arguments),this._closeAnimationEvent=new s.default,this._onOkButtonClick=()=>{r.default.dismissModal(this.props.dialogId,this._getRootViewId()),this.props.onOkButtonClick&&this.props.onOkButtonClick()},this._onCancelButtonClick=()=>{r.default.dismissModal(this.props.dialogId,this._getRootViewId()),this.props.onCancelButtonClick&&this.props.onCancelButtonClick()},this._onPrivacyStatementPressed=()=>{r.default.dismissModal(this.props.dialogId,this._getRootViewId()),this.props.privacyStatementUrl&&g.default.navigateToInAppBrowser({origin:c.BrowserOrigin.ConsentModal,url:this.props.privacyStatementUrl,openUrlOptions:{onInAppWebBrowserClose:this._onPrivacyStatementClose},openSecondaryBrowserIfNecessary:!0},this._getRootViewId())},this._onTermsPressed=()=>{r.default.dismissModal(this.props.dialogId,this._getRootViewId()),this.props.termsOfServiceUrl&&g.default.navigateToInAppBrowser({origin:c.BrowserOrigin.ConsentModal,url:this.props.termsOfServiceUrl,openUrlOptions:{onInAppWebBrowserClose:this._onTermsOfServiceClose},openSecondaryBrowserIfNecessary:!0},this._getRootViewId())},this._onPrivacyStatementClose=()=>{this.props.onPrivacyStatementClose&&this.props.onPrivacyStatementClose()},this._onTermsOfServiceClose=()=>{this.props.onTermsOfServiceClose&&this.props.onTermsOfServiceClose()}}componentWillUnmount(){super.componentWillUnmount(),this.props.onModalClosed&&this.props.onModalClosed()}render(){const e=[{text:this.props.cancelButtonLabel||u.getString("Global.CancelLabel"),onPress:this._onCancelButtonClick,isCancel:!0},{text:this.props.okButtonLabel||u.getString("Global.OkLabel"),onPress:this._onOkButtonClick,isSubmit:!0,autoFocus:!h.default.shouldAnnounceForAccessibility()||void 0}];let t,i;this.props.privacyStatementLabel&&this.props.privacyStatementUrl&&(t=(0,n.jsx)(y.WideButton,{buttonStyles:f.linkButton,hideDivider:!0,label:this.props.privacyStatementLabel,accessibilityLabel:this.props.privacyStatementLabel,labelStyle:f.linkText,onPressed:this._onPrivacyStatementPressed},"privacyStatementLink")),this.props.termsOfServiceLabel&&this.props.termsOfServiceUrl&&(i=(0,n.jsx)(y.WideButton,{buttonStyles:f.linkButton,hideDivider:!0,label:this.props.termsOfServiceLabel,accessibilityLabel:this.props.termsOfServiceLabel,labelStyle:f.linkText,onPressed:this._onTermsPressed},"termsLink"));const s=u.getString("ConsentModal.ConsentNeededAccessibilityLabel",{description:this.props.description||""});return(0,n.jsx)(p.default,Object.assign({dialogId:this.props.dialogId,buttons:e,buttonAlignment:a.SimpleDialogButtonAlignment.HorizontalStack,closeAnimationEvent:this._closeAnimationEvent,accessibilityLabel:s,horizontalPadding:30},{children:(0,n.jsxs)(o.View,Object.assign({style:f.contentContainer},{children:[(0,n.jsxs)(o.View,Object.assign({style:f.innerContainer,importantForAccessibility:o.Types.ImportantForAccessibility.No},{children:[this.props.iconView,(0,n.jsx)(o.Text,Object.assign({autoFocus:!!h.default.isMobileScreenReaderEnabled()&&void 0,style:[m.default.fontStyle.messagingHeader,f.title]},{children:this.props.title})),(0,n.jsx)(C.BodyText,Object.assign({size:C.BodyTextSize.SmallDeprecated,style:f.description},{children:this.props.description}))]})),t,i]}))}))}}t.default=b},454360:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenLoadingDialog=t.getFullScreenLoadingDialog=void 0;const n=i(785893),o=i(147204),s=i(811411),a=(i(371445),i(418037));t.getFullScreenLoadingDialog="getFullScreenLoadingDialog";t.FullScreenLoadingDialog=class{static show(e,t,i){let r;r=(0,n.jsx)(s.default,{statusText:e.dialogText,showSpinner:e.showActivityIndicator,showLoginFallback:!1,loginCallback:()=>{},isPartnerFlow:!0,darkThemeEnabled:a.default.isDarkThemeNoSubscription()},"appFullScreenDialog"),o.default.showModal(r,e.dialogId,{rootViewId:t,useFocussedWindowFallback:i})}static dismiss(e,t){o.default.dismissModal(e,t)}static isDisplayed(e,t){return o.default.isModalDisplayed(e,t)}}},788531:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(174958),s=i(496486),a=i(516778),r=i(974634),l=i(705465),c=i(281878),d=i(889391),u=i(996074),g=i(898278),h=i(404336),p=i(72822),S=i(746096),m=i(436237),C=i(915877),y=i(733754),f=i(818065),b=i(104735),_=i(921090),v=i(887226),T=i(29130),P=i(640363),k=i(264160),A=i(680837),I=i(360305),w=i(24576),x=i(853374),N=(0,C.lazyProperties)({splitInnerContainer:()=>a.Styles.createViewStyle({flex:1,flexDirection:"row"}),masterContainer:()=>a.Styles.createViewStyle({width:h.DefaultSplitMasterWidth,borderRightWidth:1}),masterContainerNativeBase:()=>a.Styles.createViewStyle({width:h.DefaultSplitMasterWidth,borderRightWidth:1,flexGrow:1})}),M=l.StyleSheet.create({masterView:{flexShrink:1,flexGrow:0},leftCloseButton:{left:12,right:"auto"}});class L extends w.default{constructor(){super(...arguments),this._childProps={onAccessibilityTitleChange:e=>{this.isComponentMounted()&&this.state.title!==e&&this.setState({title:e})}},this._closeAnimationEvent=new r.default,this._willResetFocus=()=>{this._masterContextContainerRef&&this._masterContextContainerRef.setFocusLimited(!0)},this._didResetFocus=()=>{this._masterContextContainerRef&&this._masterContextContainerRef.setFocusLimited(!1)},this._onClickOutside=()=>{var e;this.state.activeDetailContext&&this.state.activeDetailContext.state.isFirstLogin||(null===(e=this.state.activeDetailContext)||void 0===e?void 0:e.state.blockOutsideContent)?this._onboardingFlowClickedOutsideTracked||(this._onboardingFlowClickedOutsideTracked=!0,m.track(new v.SetupWizardClickedOutside(p.DialogNavOrigin.Onboarding))):(m.log(S.LogTraceArea.Navigation,"GenericDesktopModal._onAnimateCloseModal"),this._closeAnimationEvent.fire(this._onCloseModal))},this._onCloseModal=()=>{const e=x.default.newCauseId();m.log(S.LogTraceArea.Navigation,"GenericDesktopModal._onCloseModal causeId: "+e),b.default.closeGenericDesktopModal(e,this._getRootViewId())},this._onResetFocus=()=>{this._modalRef&&this._modalRef.resetFocus()},this._onMasterContextContainerRef=e=>{this._masterContextContainerRef=e||void 0},this._onModalRef=e=>{this._modalRef=e||void 0},this._goBack=e=>{const t=1===this.state.modalNavStackSize,i=this.state.animationType===g.SXModalAnimationType.Bottom?this._onClickOutside:void 0;return m.log(S.LogTraceArea.Navigation,"GenericDesktopModal._goBack isAloneInNavStack: "+t+" closeModal: "+!!i+" causeId: "+e),!(!t||!i)&&(i(),!0)}}_buildState(e,t){let i,n;const o=!1,a=d.default.getS4LUiFeatures().enableNativeBaseModals;e.activeModalSplitContext?(i=s.last(e.activeModalSplitContext.getNavStack()),n=e.activeModalSplitContext.getMasterContext(o)):(i=void 0,n=void 0);const r=I.default.isTabletUI(),l=this._getRootViewId();return{isMobileScreenSize:T.default.isMobileScreenSize(l),animationType:r?g.SXModalAnimationType.Bottom:g.SXModalAnimationType.Default,modalNavStackSize:e.activeModalSplitContext?e.activeModalSplitContext.getNavStack().length:0,activeDetailContext:i,activeMasterContext:n,nativeModalWindow:o,enableNativeBaseModals:a}}componentDidMount(){super.componentDidMount();const e=_.modalNavigatorIdForRootViewId(this._getRootViewId()),t=x.default.newCauseId();m.log(S.LogTraceArea.Navigation,"GenericDesktopModal.componentDidMount navigatorId: "+o.pii.Omit(e)+" causeId: "+t),b.default.collapseSplitNavContext(e,this.state.isMobileScreenSize,t),this._masterContextContainerRef&&!this.state.nativeModalWindow&&this._masterContextContainerRef.setFocusLimited(!1)}UNSAFE_componentWillUpdate(e,t,i){if(super.UNSAFE_componentWillUpdate(e,t,i),t.isMobileScreenSize!==this.state.isMobileScreenSize){const e=_.modalNavigatorIdForRootViewId(this._getRootViewId()),i=x.default.newCauseId();m.log(S.LogTraceArea.Navigation,"GenericDesktopModal.UNSAFE_componentWillUpdate navigatorId: "+o.pii.Omit(e)+" causeId: "+i),b.default.collapseSplitNavContext(e,t.isMobileScreenSize,i)}}render(){var e;const t=this._renderMasterFromNavContext(this.state.activeMasterContext),i=!!(null==t?void 0:t.content),o=this._renderDetailFromNavContext(this.state.activeDetailContext,i,this._childProps),s=null==o?void 0:o.component,r=(null==o?void 0:o.title)||this.state.title||y.getString("Global.DialogAccessibilityLabel");let l=h.DefaultHeight,g=t?h.DefaultSplitViewWidth:h.DefaultWidth;this.state.activeDetailContext&&this.state.activeDetailContext.state&&(this.state.activeDetailContext.state.customizedWidth&&(g=this.state.activeDetailContext.state.customizedWidth),this.state.activeDetailContext.state.customizedHeight&&(l=this.state.activeDetailContext.state.customizedHeight));const p=this.state.activeDetailContext&&this.state.activeDetailContext.state.isFirstLogin;let S;if(S=(null==t?void 0:t.content)?this.state.enableNativeBaseModals?(0,n.jsxs)(c.Row,Object.assign({flex:1},{children:[(0,n.jsx)(c.ScrollView,Object.assign({style:M.masterView,_contentContainerStyle:{flexGrow:1}},{children:t.content})),(0,n.jsx)(c.ScrollView,Object.assign({flex:1,_contentContainerStyle:{flexGrow:1}},{children:s}))]})):(0,n.jsxs)(a.View,Object.assign({style:N.splitInnerContainer},{children:[t.content,s]})):s,S=(0,n.jsx)(u.BaseNavigationWrapper,Object.assign({isPresentedInGenericDesktopModal:!0,isPresentedInDesktopSubview:!0,isPresentedInSplitView:i,goBack:this._goBack},{children:null!=S?S:null})),(null==t?void 0:t.content)&&this.state.enableNativeBaseModals){const e=52,i=d.default.getS4LUiFeaturesNoSubscription().enableWindowRightClose&&!P.default.isWindowCloseOnRight()?M.leftCloseButton:void 0;return(0,n.jsx)(c.Modal,Object.assign({defaultIsOpen:!0,onClose:this._onCloseModal,avoidKeyboard:p,height:"100%"},{children:(0,n.jsxs)(c.Modal.Content,Object.assign({maxWidth:g,maxHeight:l,height:"100%"},{children:[(0,n.jsx)(c.Modal.CloseButton,{color:this._getContext().themeColors.headerTextColor,style:i,_focusVisible:{style:i},accessibilityLabel:y.getString("Global.CloseButtonTitle")}),(0,n.jsx)(c.Modal.Header,Object.assign({height:e,_text:{fontWeight:"bold",color:this._getContext().themeColors.primaryTextColor,textAlign:"center"},backgroundColor:this._getContext().themeColors.primaryBackgroundColor},{children:null==t?void 0:t.title})),(0,n.jsx)(c.Box,Object.assign({flex:1,backgroundColor:this._getContext().themeColors.primaryBackgroundColor},{children:S}))]}))}))}return(0,n.jsx)(k.default,Object.assign({ref:this._onModalRef,modalWidth:g,modalHeight:l,onClickOutside:this._onClickOutside,closeAnimationEvent:this._closeAnimationEvent,fullSize:this.state.isMobileScreenSize,modalTitle:r,animationType:this.state.animationType,showOverflow:this.props.showOverflow,skipEscHandling:p,willResetFocus:this._willResetFocus,didResetFocus:this._didResetFocus,showTitlebar:!(!(null==t?void 0:t.content)||!s),title:null==t?void 0:t.title,close:this._onClickOutside,newBordersModal:null===(e=this.state.activeDetailContext)||void 0===e?void 0:e.state.newBorders},{children:(0,n.jsx)(a.View,Object.assign({style:A.default.flexOne},{children:S}))}))}_renderDetailFromNavContext(e,t,i){if(!e)return;const n=Object.assign(Object.assign({},i),{isAloneInNavStack:1===this.state.modalNavStackSize,closeModal:this.state.animationType===g.SXModalAnimationType.Bottom?this._onClickOutside:void 0,isPresentedInSplitView:this._getContext().isPresentedInSplitView});return f.default.renderComponent(e,n)}_renderMasterFromNavContext(e){if(!e)return;const t={closeModal:this.state.animationType===g.SXModalAnimationType.Bottom?this._onClickOutside:void 0,resetFocus:this._onResetFocus,detailContext:this.props.activeModalSplitContext?this.props.activeModalSplitContext.getNavStack():void 0,isPresentedInSplitView:this._getContext().isPresentedInSplitView},i=f.default.renderComponent(e,t);let o=i?i.component:void 0;if(o){const e=this.state.enableNativeBaseModals?N.masterContainerNativeBase:N.masterContainer;o=(0,n.jsx)(a.View,Object.assign({ref:this._onMasterContextContainerRef,style:[e,this._themeStyles.dividerBorderColorStyle],limitFocusWithin:this.state.nativeModalWindow?void 0:a.Types.LimitFocusType.Limited},{children:o}))}return{content:o,title:null==i?void 0:i.title}}}t.default=L},650556:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingDialog=void 0;const n=i(785893),o=i(516778),s=i(147204),a=i(898278),r=i(915877),l=i(89808),c=i(915415),d=i(22222),u=i(581760),g=i(619675),h=(0,r.lazyProperties)({modalBackground:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center",backgroundColor:u.Color.blackOverlay50}),modal:()=>o.Styles.createViewStyle({backgroundColor:u.Color.white,maxWidth:300,maxHeight:300,borderRadius:8,alignSelf:"center",justifyContent:"center",alignItems:"center",paddingVertical:20}),modalText:()=>o.Styles.createTextStyle({color:u.Color.gray400,alignSelf:"stretch",justifyContent:"center",alignItems:"center",paddingVertical:20,marginHorizontal:20}),button:()=>o.Styles.createButtonStyle({alignSelf:"stretch",justifyContent:"center",alignItems:"center"})});t.LoadingDialog=class{static show(e,t,i){let r,u;e.showActivityIndicator&&(r=(0,n.jsx)(c.default,{size:a.SXActivityIndicatorSize.Medium,tintColor:l.default.getPrimaryColorNoSubscription()})),e.showCancelButton&&(u=(0,n.jsx)(d.default,{style:h.button,buttonSize:a.SXButtonSize.Medium,buttonStyle:a.SXButtonStyle.DarkFill,title:e.buttonText||"",onPress:e.onButtonPress}));const p=(0,n.jsx)(o.View,Object.assign({style:h.modalBackground},{children:(0,n.jsxs)(o.View,Object.assign({style:h.modal,restrictFocusWithin:!0,accessibilityTraits:o.Types.AccessibilityTrait.Dialog,accessibilityLabel:e.dialogText,tabIndex:-1,autoFocus:!0},{children:[r,(0,n.jsx)(g.BodyText,Object.assign({style:h.modalText,autoFocus:!1},{children:e.dialogText})),u]}))}));s.default.showModal(p,e.dialogId,{rootViewId:t,useFocussedWindowFallback:i})}static dismiss(e,t){s.default.dismissModal(e,t)}static isDisplayed(e,t){return s.default.isModalDisplayed(e,t)}}},818065:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(417096),s=i(362477),a=i(96283),r=i(696894),l=i(966964),c=i(366376),d=i(873709),u=i(163531),g=i(723975),h=i(922139),p=i(717517),S=i(95674),m=i(775352),C=i(833204),y=i(362165),f=i(924899),b=i(691848),_=i(104096),v=i(151013),T=i(735517),P=i(53028),k=i(252289),A=i(941260),I=i(692626),w=i(772619),x=i(707095),N=i(217756),M=i(666222),L=i(691e3),O=i(524360),D=i(18946),R=i(832749),E=i(221847),B=i(404336),F=i(257004),V=i(357595),U=i(638558),j=i(57231),H=i(866957),W=i(79274),z=i(594641),G=i(32687),K=i(155898),q=i(746096),Q=i(490135),X=i(695153),J=i(849899),$=i(50035),Y=i(750876),Z=i(750876),ee=i(716079),te=i(530197),ie=i(565752),ne=i(733754),oe=i(851424),se=i(634887),ae=i(407593),re=i(476359),le=i(778887),ce=i(18078),de=i(217093),ue=i(741235),ge=i(6855),he=i(758962),pe=i(969197),Se=i(841736),me=i(262393),Ce=i(20957),ye=i(234898),fe=i(590940),be=i(526286),_e=i(746408),ve=i(770170),Te=i(10250),Pe=i(847473),ke=i(34273),Ae=i(505500),Ie=i(128076),we=i(946999),xe=i(760180),Ne=i(505327),Me=i(690574),Le=i(607225),Oe=i(519865),De=i(928673),Re=i(340346),Ee=i(705793),Be=i(73365),Fe=i(220044),Ve=i(67164),Ue=i(398155),je=i(336061),He=i(482994),We=i(451699),ze=i(530590),Ge=i(747358),Ke=i(31161),qe=i(944699),Qe=i(359161),Xe=i(404335),Je=i(286766),$e=i(751793),Ye=i(257538),Ze=i(224793),et=i(358454),tt=i(993801),it=i(82476),nt=i(480321),ot=i(988504),st=i(212260),at=i(362807),rt=i(910586),lt=i(764211),ct=i(331039),dt=i(307069),ut=i(630631),gt=i(922716),ht=i(385892),pt=i(859937),St=i(924521),mt=i(75889),Ct=i(291944),yt=i(769216),ft=i(436303);t.default=class{static renderComponent(e,t){let i,bt;if(e instanceof de.PSTNDialerNavigationContext)i=(0,n.jsx)(W.default,{route:{params:Object.assign({callId:e.state.callId,conversationId:e.state.conversationId,prefilledNumber:e.state.prefilledNumber,navigationSource:e.state.navigationSource,reopenOnInvalidNumber:e.state.navigationSource===q.DialerNavigationSource.CallFailedInvalidNumber},t)}}),bt=W.default.getHeaderText();else if(e instanceof de.QuickCallNavigationContext)i=(0,n.jsx)(ve.default,Object.assign({conversationId:e.state.conversationId,callId:e.state.callId,newGroup:e.state.newGroup,searchOnly:e.state.searchOnly},t));else if(e instanceof de.GetBalanceStateNavigationContext)i=(0,n.jsx)(y.default,Object.assign({showHeader:e.state.showHeader,source:e.state.source,scrollTo:e.state.scrollTo},t)),bt=y.default.getHeaderText();else if(e instanceof de.PurchaseConfirmationDialogWrapperNavigationContext)i=(0,n.jsx)(ot.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),bt=ot.default.getHeaderText(e.state.isNative);else if(e instanceof de.PurchaseContinuationNavigationContext)i=(0,n.jsx)(be.default,{route:{params:Object.assign({offerType:e.state.offerType,campaignRef:e.state.campaignRef},t)}}),bt=be.default.getHeaderText(e.state.offerType);else if(e instanceof de.SubscriptionIntroNavigationContext)i=(0,n.jsx)(Fe.default,{route:{params:Object.assign({},t)}}),bt=Fe.default.getHeaderText();else if(e instanceof de.CallerIdPromptContext)i=(0,n.jsx)(P.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),bt=P.default.getHeaderText();else if(e instanceof de.CallFailurePromptContext)i=(0,n.jsx)(k.default,{route:{params:Object.assign({dialogId:"pstnDialog",phoneNumber:e.state.phoneNumber,reason:e.state.reason},t)}}),bt=k.default.getHeaderText();else if(e instanceof de.SmsFailurePromptContext)i=(0,n.jsx)(Be.default,{route:{params:Object.assign({dialogId:e.state.dialogId,phoneNumber:e.state.phoneNumber,isSmsInfo:e.state.isSmsInfo},t)}}),bt=Be.default.getHeaderText(e.state.isSmsInfo);else if(e instanceof de.TasterPostCallPanelContext)i=(0,n.jsx)(Ke.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),bt=Ke.default.getHeaderText();else if(e instanceof de.CallFailurePostPurchasePromptContext)i=(0,n.jsx)(Ze.CallFailurePostPurchasePromptPanel,{route:{params:Object.assign({dialogId:e.state.dialogId,phoneNumber:e.state.phoneNumber},t)}}),bt=Ze.CallFailurePostPurchasePromptPanel.getHeaderText();else if(e instanceof de.SkypeNumberPostPurchasePromptNavigationContext)i=(0,n.jsx)(Ze.SkypeNumberPostPurchasePromptPanel,{route:{params:Object.assign({dialogId:e.state.dialogId},t)}}),bt=Ze.SkypeNumberPostPurchasePromptPanel.getHeaderText();else if(e instanceof de.DesktopSettingsGroupNavigationContext)i=(0,n.jsx)(V.default,Object.assign({group:e.state.group},t),e.state.group),e.state.group!==de.SettingsGroup.AccountAndProfile&&(bt=V.default.getHeaderText(e.state.group,!!t.isPresentedInSplitView));else if(e instanceof de.ManageUsersSettingsPanelNavigationContext)i=(0,n.jsx)(se.default,{route:{params:Object.assign({},t)}}),bt=se.default.getHeaderText();else if(e instanceof de.MySettingsNavigationContext)i=(0,n.jsx)(F.default,Object.assign({},t));else if(e instanceof de.QRCodeSignInNavigationContext)i=(0,n.jsx)(_e.default,Object.assign({},t)),bt=_e.default.getHeaderText();else if(e instanceof de.DesktopCloseAccountNavigationContext)i=(0,n.jsx)(it.default,Object.assign({},t)),bt=it.default.getHeaderText();else if(e instanceof de.CreateConversationNavigationContext)i=(0,n.jsx)(Je.default,{route:{params:Object.assign(Object.assign(Object.assign({},t),e.state),{navigator:e.navigator})}}),bt=Je.default.getHeaderText(e.navigator.context.navigationOrigin===q.NavigationConversationOrigin.NewModeratedGroup);else if(e instanceof de.ReportConcernNavigationContext)i=(0,n.jsx)(Pe.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),bt=Pe.default.getHeaderText();else if(e instanceof de.ConversationParticipantsNavigationContext)i=(0,n.jsx)(xe.default,{route:{params:Object.assign(Object.assign(Object.assign({},t),e.state),{navigator:e.navigator})}},`setconvparticipants${e.state.isSuperComposer}`);else if(e instanceof de.DetailsNavigationContext)i=(0,n.jsx)(j.DetailsPanel,{route:{params:Object.assign({mri:e.state.mri,conversationId:e.state.conversationId,showConversationSettings:e.state.showConversationSettings,origin:e.state.origin||H.DetailsPanelOrigin.Unknown,openMagicBotToolboxByDefault:e.state.openMagicBotToolboxByDefault},t)}},"details");else if(e instanceof de.ChatConfigNavigationContext)i=(0,n.jsx)(A.default,{route:{params:Object.assign(Object.assign({},t),e.state)}},"chatSettings"),bt=A.default.getHeaderText();else if(e instanceof de.BotsListNavigationContext)i=(0,n.jsx)(g.default,Object.assign({filterFunction:e.state.filterBotsFunction,showHeader:!0,sortByProperty:e.state.sortBotsByProperty,title:e.state.botMarketplaceTitle},t));else if(e instanceof de.BotDiscoveryNavigationContext)i=(0,n.jsx)(u.default,{route:{params:Object.assign({},t)}}),bt=u.default.getHeaderText();else if(e instanceof de.ShareContactsToConversationContext)i=(0,n.jsx)(Ne.default,{route:{params:Object.assign(Object.assign({},t),e.state)}},"shareContactsToConversation"),bt=e.state.panelTitle;else if(e instanceof de.ShareWithPanelNavigationContext)i=(0,n.jsx)(Me.default,Object.assign({multipleMessagesParameters:e.state.multipleMessagesParameters,onShareComplete:e.state.onShareComplete,onPostComplete:e.state.onPostComplete,shareMessageTitle:e.state.shareMessageTitle,accessibilityLabelTitle:e.state.accessibilityLabelTitle,onShareCancel:e.state.onShareCancel,onExternalShare:e.state.onExternalShare,userMrisToExclude:e.state.userMrisToExclude,enableMediaPreview:e.state.enableMediaPreview,sharePreviewType:e.state.sharePreviewType,showForwardPreview:e.state.showForwardPreview,entryPoint:e.state.entryPoint,isMagicBotShare:e.state.isMagicBotShare},t),"shareWithPanel");else if(e instanceof de.CaptivePortalQuestionnaireContext)i=(0,n.jsx)(N.default,{route:{params:Object.assign({},t)}},"captivePortalQuestionnaire"),bt=N.default.getHeaderText();else if(e instanceof de.PesSearchNavigationContext)e.state.searchType===he.TabType.Emoticon?i=(0,n.jsx)(G.default,{searchType:e.state.searchType,conversationId:e.state.conversationId,onMessageSent:e.state.onMessageSent,onCloseSearch:e.state.onCloseSearch,clearEditInChatsComposer:e.state.clearEditInChatsComposer}):e.state.searchType===he.TabType.Moji?i=(0,n.jsx)(re.default,{searchType:e.state.searchType,conversationId:e.state.conversationId}):e.state.searchType===he.TabType.ChatSticker&&(i=(0,n.jsx)(je.default,{searchType:e.state.searchType,conversationId:e.state.conversationId}));else if(e instanceof de.UserProfileContext)i=(0,n.jsx)(Xe.default,{route:{params:Object.assign({origin:e.state.origin,closeButtonIcon:e.state.closeButtonIcon,scenarioNavigator:e.state.scenarioNavigator},t)}});else if(e instanceof de.ThemeContext)i=(0,n.jsx)(Ge.default,{route:{params:Object.assign({origin:e.state.origin,hideSkipButton:e.state.hideSkipButton,hideCloseButton:e.state.hideCloseButton,isFirstLogin:e.state.isFirstLogin,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.state.scenarioNavigator},t)}}),bt=Ge.default.getHeaderText();else if(e instanceof de.InviteLinkQRPanelNavigationContext)i=(0,n.jsx)(X.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),bt=ne.getString("InviteShare.ShowQRCodeButtonLabel");else if(e instanceof de.AVSettingsContext){const o=e.state.settingsMode||m.SettingsMode.All;i=(0,n.jsx)(S.default,Object.assign({origin:e.state.origin,hideSkipButton:!!e.state.hideSkipButton,isFirstLogin:!!e.state.isFirstLogin,hideCloseButton:!!e.state.hideCloseButton,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.navigator,settingsMode:o},t),o),bt=S.default.getHeaderText(o)}else e instanceof de.ChooseAvatarContext?i=(0,n.jsx)(p.default,{route:{params:Object.assign({origin:e.state.origin,hideSkipButton:e.state.hideSkipButton,isFirstLogin:e.state.isFirstLogin,hideCloseButton:e.state.hideCloseButton,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.state.scenarioNavigator,showCaptureViewFirst:e.state.showCaptureViewFirst},t)}}):e instanceof de.ChooseAvatarCommonPickerContext?i=(0,n.jsx)(h.default,{route:{params:Object.assign({origin:e.state.origin,hideSkipButton:e.state.hideSkipButton,isFirstLogin:e.state.isFirstLogin,hideCloseButton:e.state.hideCloseButton,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.state.scenarioNavigator,showCaptureViewFirst:e.state.showCaptureViewFirst},t)}}):e instanceof de.ContactsPanelV2NavigationContext?(i=(0,n.jsx)(L.default,Object.assign({initialTab:e.state.currentTab},t)),bt=L.default.getHeaderText()):e instanceof de.AddContactPanelNavigationContext?(i=(0,n.jsx)(a.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}),bt=a.default.getHeaderText()):e instanceof de.DesktopMsaPhoneAccrualNavigationContext?i=(0,n.jsx)(le.default,Object.assign({phoneNumber:e.state.phoneNumber,email:e.state.email,isEmailAccrual:e.state.isEmailAccrual},t)):e instanceof de.SearchNavigationContext?i=(0,n.jsx)(Ae.default,{route:{params:Object.assign({searchPanelInitiator:e.state.searchOrigin,isPresentedInModal:!0,modalTitle:e.state.modalTitle},t)}}):e instanceof de.SendCreditSearchPeopleContext?i=(0,n.jsx)(gt.SendCreditSearchPeople,{route:{params:Object.assign({},t)}}):e instanceof de.CallingSettingsEntryNavigationContext?i=(0,n.jsx)(D.DesktopCallingSettingsWebPanel,Object.assign({},t,{link:e.state.link,source:e.state.source,title:e.state.title,goTarget:e.state.goTarget,enableWebViewBackNavigation:e.state.enableWebViewBackNavigation,titleAccessibilityRegion:e.state.titleAccessibilityRegion})):e instanceof de.SkypeNumberWebFlowNavigationContext?i=(0,n.jsx)(nt.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}):e instanceof de.Payments3dsNavigationContext?(i=(0,n.jsx)(ge.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),bt=ge.default.getHeaderText()):e instanceof de.SkypeNumberListNavigationContext?(i=(0,n.jsx)(Oe.default,{route:{params:Object.assign({},t)}}),bt=Oe.default.getHeaderText()):e instanceof de.SkypeNumberInfoScreenNavigationContext?(i=(0,n.jsx)(De.default,{route:{params:Object.assign({origin:e.state.origin},t)}}),bt=ne.getString("SkypeNumberPanel.Title")):e instanceof de.SkypeNumberFormsNavigationContext?(i=(0,n.jsx)(rt.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),bt=Ee.default.getHeaderText()):e instanceof de.SkypeNumberPanelPurchaseFlowNavigationContext?(i=(0,n.jsx)(Ee.default,{route:{params:Object.assign({},t)}}),bt=Ee.default.getHeaderText()):e instanceof de.CallingSettingsPanelNavigationContext?(i=(0,n.jsx)(x.default,{route:{params:Object.assign({},t)}}),bt=x.default.getHeaderText()):e instanceof de.BackgroundEffectsSettingsNavigationContext?(i=(0,n.jsx)(C.default,Object.assign({},t)),bt=x.default.getHeaderText()):e instanceof de.CallerIdCallingSettingsPanelNavigationContext?(i=(0,n.jsx)(w.default,{route:{params:Object.assign({},t)}}),bt=w.default.getHeaderText()):e instanceof de.CallerIdNumberCallingSettingsPanelNavigationContext?(i=(0,n.jsx)(I.default,{route:{params:Object.assign({},t)}}),bt=I.default.getHeaderText()):e instanceof de.AdvancedCallingSettingsPanelNavigationContext?(i=(0,n.jsx)(d.default,{route:{params:Object.assign({},t)}}),bt=d.default.getHeaderText()):e instanceof de.SubtitlesCallingSettingsPanelNavigationContext?(i=(0,n.jsx)(He.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),bt=He.default.getHeaderText()):e instanceof de.TranslationSettingsPanelNavigationContext?(i=(0,n.jsx)(Qe.default,{route:{params:Object.assign({},t)}}),bt=Qe.default.getHeaderText()):e instanceof de.PreSignOutPanelNavigationContext?i=(0,n.jsx)(ht.PreSignOutPanel,{route:{params:Object.assign(Object.assign({},e.state),t)}}):e instanceof de.CallRosterNavigationContext?(i=(0,n.jsx)(b.default,{route:{params:Object.assign({conversationId:e.state.conversationId,callId:e.state.callId},t)}},"CallRosterPanel"),bt=b.default.getHeaderText()):e instanceof de.BingBackgroundNavigationContext?(i=(0,n.jsx)(f.default,{route:{params:Object.assign({callId:e.state.callId},t)}},"BingBackgroundsPanel"),bt=b.default.getHeaderText()):e instanceof de.AddToCallNavigationContext?i=(0,n.jsx)(ve.default,Object.assign({conversationId:e.state.conversationId,callId:e.state.callId,searchOnly:e.state.searchOnly,addToCallTelemetryOrigin:e.state.origin,newGroup:e.state.newGroup},t),"quickCallPanel"):e instanceof de.DiagnosticToolsNavigationContext?(i=(0,n.jsx)(J.default,{route:{params:{}}}),bt=J.default.getHeaderText()):e instanceof de.SendDiagnosticLogsNavigationContext?(i=(0,n.jsx)(we.default,{route:{params:Object.assign({},t)}}),bt=we.default.getHeaderText()):e instanceof de.BlockedUsersListNavigationContext?(i=(0,n.jsx)(v.default,{route:{params:Object.assign({},t)}}),bt=v.default.getHeaderText()):e instanceof de.ConnectedUsersListNavigationContext?(i=(0,n.jsx)(M.default,{route:{params:Object.assign({},t)}}),bt=M.default.getHeaderText()):e instanceof de.ProfilePicturePanelNavigationContext?(i=(0,n.jsx)(ye.default,{route:{params:Object.assign({},t)}}),bt=ye.default.getHeaderText()):e instanceof de.SyncAddressBookContext?i=(0,n.jsx)(We.default,Object.assign({origin:e.state.origin,hideSkipButton:e.state.hideSkipButton,hideCloseButton:e.state.hideCloseButton,isFirstLogin:e.state.isFirstLogin,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.state.scenarioNavigator,compositeNavContainerWidth:B.DefaultWidth},t)):e instanceof de.PeopleYouMayKnowNoticeContext?(i=(0,n.jsx)(ue.default,{route:{params:Object.assign({origin:e.state.origin,hideSkipButton:e.state.hideSkipButton,hideCloseButton:e.state.hideCloseButton,isFirstLogin:e.state.isFirstLogin,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.state.scenarioNavigator,compositeNavContainerWidth:B.DefaultWidth},t)}}),bt=ue.default.getHeaderText()):e instanceof de.TelemetryConsentContext?(i=(0,n.jsx)(ze.default,{route:{params:Object.assign({origin:e.state.origin,hideSkipButton:e.state.hideSkipButton,hideCloseButton:e.state.hideCloseButton,isFirstLogin:e.state.isFirstLogin,closeButtonIcon:e.state.closeButtonIcon,nextButtonIcon:e.state.nextButtonIcon,scenarioNavigator:e.state.scenarioNavigator,compositeNavContainerWidth:B.DefaultWidth},t)}}),bt=ze.default.getHeaderText()):e instanceof de.PnvEnterNumberContext?i=(0,n.jsx)(Se.default,Object.assign({initialPhoneNumber:e.state.phoneNumber,compositeNavContainerWidth:B.DefaultWidth},t)):e instanceof de.PnvEnterCodeContext?i=(0,n.jsx)(pe.default,Object.assign({compositeNavContainerWidth:B.DefaultWidth},t)):e instanceof de.FeatureFlagListNavigationContext?i=(0,n.jsx)($.default,{route:{params:{}}}):e instanceof de.SlimcoreFlagListNavigationContext?i=(0,n.jsx)(Ve.default,{route:{params:Object.assign({},t)}}):e instanceof de.RawPreferencesNavigationContext?i=(0,n.jsx)(Te.default,{route:{params:{}}}):e instanceof de.LanguagePickerPanelNavigationContext?(i=(0,n.jsx)(Y.default,{route:{params:Object.assign({},t)}}),bt=Y.default.getHeaderText()):e instanceof de.LanguagePickerPanelOldNavigationContext?(i=(0,n.jsx)(Z.default,{route:{params:Object.assign({},t)}}),bt=Z.default.getHeaderText()):e instanceof de.SpokenLanguagePickerPanelNavigationContext?(i=(0,n.jsx)(ee.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}),bt=ee.default.getHeaderText()):e instanceof de.VoicePickerPanelNavigationContext?(i=(0,n.jsx)(te.default,{route:{params:Object.assign({},t)}}),bt=te.default.getHeaderText()):e instanceof de.ManageSearchInfoPanelNavigationContext?i=(0,n.jsx)(oe.default,{route:{params:Object.assign(Object.assign({},t),{origin:e.state.origin})}}):e instanceof de.LoadingPanelNavigationContext?i=(0,n.jsx)(ie.default,{message:e.state.message}):e instanceof de.PSTNCountrySelectorNavigationContext?(i=(0,n.jsx)(O.default,{route:{params:Object.assign({onCountrySelected:e.state.onCountrySelected,countriesFiltered:e.state.countriesFiltered,hideRecentCountries:e.state.hideRecentCountries,searchAutoFocus:e.state.searchAutoFocus},t)}}),bt=O.default.getHeaderText()):e instanceof de.SkypeNumberCountryAreaSelectorNavigationContext?(i=(0,n.jsx)(Le.default,{route:{params:Object.assign({onCountryAreaSelected:e.state.onCountryAreaSelected},t)}}),bt=Le.default.getHeaderText()):e instanceof de.SkypeNumberPrefixSelectorNavigationContext?(i=(0,n.jsx)(Re.default,{route:{params:Object.assign({onPrefixSelected:e.state.onPrefixSelected},t)}}),bt=Re.default.getHeaderText()):e instanceof de.SkypeNumberFormOptionSelectorNavigationContext?(i=(0,n.jsx)(lt.default,{route:{params:Object.assign({selectionOptions:e.state.selectionOptions,countryId:e.state.countryId,inputName:e.state.inputName,filledKey:e.state.filledKey},t)}}),bt=Re.default.getHeaderText()):e instanceof de.ThirdPartyNoticesNavigationContext?(i=(0,n.jsx)(qe.default,{route:{params:Object.assign({},t)}}),bt=qe.default.getHeaderText()):e instanceof de.PromptPermissionContext?i=(0,n.jsx)(Ce.default,{route:{params:Object.assign({origin:e.state.origin,showUIPrompts:!0,scenarioNavigator:e.state.scenarioNavigator,hideCloseButton:e.state.hideCloseButton},t)}}):e instanceof de.SettingsMenuContext?(i=(0,n.jsx)(U.default,Object.assign({title:e.state.title},t)),bt=U.default.getHeaderText()):e instanceof de.ActiveNowPanelNavigationContext?(i=(0,n.jsx)(s.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}),bt=s.default.getHeaderText()):e instanceof de.InviteShareNavigationContext?(i=(0,n.jsx)(fe.default,{route:{params:Object.assign({skypeMri:e.state.skypeMri,displayName:e.state.displayName,origin:e.state.origin},t)}}),bt=fe.default.getHeaderText()):e instanceof de.ConversationShareNavigationContext?(i=(0,n.jsx)(tt.ConversationInviteSharePanel,{route:{params:Object.assign({skypeMri:e.state.skypeMri,displayName:e.state.displayName,origin:e.state.origin},t)}}),bt=tt.ConversationInviteSharePanel.getHeaderText()):e instanceof de.GuestUpsellNavigationContext?(i=(0,n.jsx)(Q.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),bt=Q.default.getHeaderText()):e instanceof de.AddPhoneNumberPanelNavigationContext?(i=(0,n.jsx)(c.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}),bt=c.default.getHeaderText(e.state.origin)):e instanceof de.EngagementSharePanelContext?i=(0,n.jsx)(K.default,{route:{params:Object.assign({onShareComplete:e.state.onShareComplete,onPostComplete:e.state.onPostComplete,onShareCancel:e.state.onShareCancel,shareableContentConfigs:e.state.shareableContentConfigs,accessibilityLabelTitle:e.state.accessibilityLabelTitle,userMrisToExclude:e.state.userMrisToExclude},t)}},"engagementSharePanel"):e instanceof de.MeControlNavigationContext?i=(0,n.jsx)(E.default,Object.assign({userMri:ce.default.getSkypeMri(),isMoodMessageEditMode:e.state.isMoodMessageEditMode},t),"DesktopMeControlPanel"):e instanceof de.AlertsHubNavigationContext?i=(0,n.jsx)(St.default,Object.assign({useExperimentalDesktopUtilityBar:!0},t)):e instanceof ke.default.NavigationContext.ScheduleCallNavigationContext?(bt=ke.default.StackNavigator.getHeaderText(),i=ke.default.StackNavigator.renderSceneContent(e,t)):e instanceof ae.default.NavigationContext.MeetNowNavigationContext?(bt=ae.default.StackNavigator.getHeaderText(),i=ae.default.StackNavigator.renderSceneContent(e)):e instanceof me.default.NavigationContext.PollCreationPanelNavigationContext||e instanceof me.default.NavigationContext.PollSummaryPanelNavigationContext||e instanceof me.default.NavigationContext.PollVotersListPanelNavigationContext?(i=me.default.StackNavigator.renderSceneContent(e,t),bt=me.default.StackNavigator.getHeaderText()):e instanceof l.OneDriveAddinPanelNavigationContext?(bt=e.state.integration.name,i=r.default.AddinStackNavigator.renderSceneContent(e,t)):e instanceof de.LocationPickerContext?(bt=R.default.getHeaderText(),i=(0,n.jsx)(R.default,Object.assign({conversationId:e.state.conversationId,displayInModal:!0},t))):e instanceof de.InAppBrowserNavigationContext?i=(0,n.jsx)(T.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}):e instanceof de.CallingDebugPanelNavigationContext?i=(0,n.jsx)(_.default,{route:{params:{callId:e.state.callId||"",nativeWindow:e.state.nativeWindow||!1}}}):e instanceof de.CustomReactionsPanelNavigationContext?i=(0,n.jsx)(et.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}):e instanceof de.GifPreviewContext?i=(0,n.jsx)(ct.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}):e instanceof de.SpeechConsentNavigationContext?i=(0,n.jsx)(Ue.default,{route:{params:Object.assign({},t)}}):e instanceof de.TranslationConsentNavigationContext?i=(0,n.jsx)(dt.default,{route:{params:Object.assign({},t)}}):e instanceof de.TruVoiceConsentNavigationContext?i=(0,n.jsx)(ut.default,{route:{params:Object.assign({},t)}}):e instanceof de.SendCreditPanelNavigationContext?(i=(0,n.jsx)(Ie.default,{route:{params:Object.assign({},t)}}),bt=Ie.default.getHeaderText()):e instanceof de.E911AcknowledgementPanelNavigationContext?(i=(0,n.jsx)(z.default,{route:{params:Object.assign({shouldSkipLocationConsent:e.state.shouldSkipLocationConsent,onComplete:e.state.onComplete},t)}}),bt=z.default.getHeaderText()):e instanceof de.TwinCamModalContext?(i=(0,n.jsx)(o.default,{route:{params:Object.assign({callId:e.state.callId,conversationMri:e.state.conversationMri,onStopTwinCamPressed:e.state.onStopTwinCamPressed},t)}}),bt=o.default.getHeaderText()):e instanceof de.CallPreviewNavigationContext?i=(0,n.jsx)($e.default,{meetNowParameters:{origin:Ye.MeetNowOrigin.JoinLobby,convId:e.state.conversationMri},callPreviewProps:{callOrigin:e.state.callOrigin,permissionsAlreadyChecked:e.state.permissionsAlreadyChecked}}):e instanceof at.MobileMeetingAvatarPickerNavigationContext?i=(0,n.jsx)(st.default,{route:{params:Object.assign(Object.assign({},t),e.state)}}):e instanceof de.AvatarPickerPanelNavigationContext?(i=(0,n.jsx)(pt.default,{route:{params:Object.assign(Object.assign({},e.state),t)}}),bt=ne.getString("AvatarPickerPanel.PanelTitle")):e instanceof de.TodayTabInterestsPanelNavigationContext?(i=(0,n.jsx)(Ct.TodayTabInterestsPanel,{route:{params:Object.assign({},t)}}),bt=Ct.TodayTabInterestsPanel.getHeaderText()):e instanceof de.MagicBotToolboxNavigationContext?(i=(0,n.jsx)(mt.MagicBotToolboxNavigation,{route:{params:Object.assign(Object.assign({},t),e.state)}}),bt=ne.getString("MagicBot.ToolboxTitle")):e instanceof ft.FRENavigationContext&&(i=(0,n.jsx)(yt.ContentChannelsFREModal,{route:{params:Object.assign({},e.state)}}));return i?{component:i,title:bt}:void 0}}},746880:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(996074),a=i(803056),r=i(898278),l=i(746096),c=i(436237),d=i(915877),u=i(928159),g=i(772136),h=i(525313),p=i(789871),S=i(915415),m=i(581760),C=i(311010),y=i(711828),f=i(619675),b=i(853374),_=(0,d.lazyProperties)({spinner:()=>o.Styles.createViewStyle({position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:m.Color.transparent,justifyContent:"center",alignItems:"center",alignSelf:"stretch"}),textInput:()=>o.Styles.createTextInputStyle({padding:6,borderRadius:10,font:C.default.font.uiDisplayRegular,fontSize:C.default.controlFontSize.body,backgroundColor:m.Color.gray100,color:m.Color.black,marginLeft:50,marginRight:50,height:32,textAlignVertical:"top"}),statusLabel:()=>o.Styles.createTextStyle({color:m.Color.white,paddingHorizontal:20,marginTop:50}),errorText:()=>o.Styles.createTextStyle({color:m.Color.white,paddingHorizontal:20,marginTop:10,alignItems:"center",textAlign:"center"})});class v extends s.default{constructor(){super(...arguments),this._goBack=e=>(c.log(l.LogTraceArea.Navigation,"PnvDebugDialog._goBack,  causeId: "+e),this.props.scenarioNavigator?(this.props.scenarioNavigator.goBack(),!0):super._goBack(e)),this._onCloseButtonClicked=()=>{const e=b.default.newCauseId();c.log(l.LogTraceArea.Navigation,"PnvDebugDialog._onCloseButtonClicked,  causeId: "+e),this._goBack(e)},this._onSkipButtonClicked=()=>{const e=b.default.newCauseId();c.log(l.LogTraceArea.Navigation,"PnvDebugDialog._onSkipButtonClicked,  causeId: "+e),this.props.scenarioNavigator?this.props.scenarioNavigator.goNext():this.props.onNextButtonPressed?this.props.onNextButtonPressed():this._goBack(e)},this._onChangeText=e=>{this.setState({phoneNumber:e})},this._onPressNextButton=e=>{e.stopPropagation();const t=b.default.newCauseId();if(c.log(l.LogTraceArea.Navigation,"PnvDebugDialog._onPressNextButton,  causeId: "+t),this.state.removalExecuted)this._goBack(t);else{this.setState({removalInProgress:!0});const e=g.default.getCountryByCode(this.state.countryIsoCode.toLowerCase()),t=e?e.countryCode:1;h.default.removePhoneFromProfile(this.state.phoneNumber,this.state.countryIsoCode,t.toString()).then((e=>{this.isComponentMounted()&&this.setState({errorCode:e})})).finally((()=>{this.isComponentMounted()&&this.setState({removalInProgress:!1,removalExecuted:!0})}))}}}componentDidMount(){super.componentDidMount(),p.default.initializeCountrySelection()}_buildState(e,t){const i={},n=h.default.getLastPhoneVerificationStatus();if(i.phoneNumber=n.PhoneNumber,i.countryIsoCode=n.CountryIsoCode,i.countryCallingCode=n.CountryCallingCode,i.errorCode=n.ErrorCode,!this.state||!this.state.countryIsoCode){const e=p.default.getSelectedCountry();e&&(i.countryIsoCode=e.country)}return i}render(){const e=this.state.removalInProgress?(0,n.jsx)(o.Button,Object.assign({style:_.spinner},{children:(0,n.jsx)(S.default,{size:r.SXActivityIndicatorSize.Medium,tintColor:m.Color.white})})):void 0,t=this.state.removalExecuted?void 0:(0,n.jsx)(o.TextInput,{style:_.textInput,value:this.state.phoneNumber,multiline:!1,blurOnSubmit:!0,keyboardType:"numeric",onChangeText:this._onChangeText,clearButtonMode:"never"}),i=(0,n.jsx)(f.Header,Object.assign({size:r.HeaderSize.h5,style:_.statusLabel,importantForAccessibility:o.Types.ImportantForAccessibility.Yes},{children:"Last Error Code:"})),s=(0,n.jsx)(f.BodyText,Object.assign({bold:!0,style:_.errorText,importantForAccessibility:o.Types.ImportantForAccessibility.Yes},{children:this.state.errorCode?this.state.errorCode:"Success"}));return(0,n.jsx)(a.default,Object.assign({goBack:this._goBack},{children:(0,n.jsxs)(u.default,Object.assign({headerText:"PNV Debug Tool",descriptionElement:"Remove your registered number from your profile",hideSkipButton:this.props.hideSkipButton,nextButtonIcon:this.props.nextButtonIcon||y.SkypeIcon.Ok,hideCloseButton:this.props.hideCloseButton,closeButtonIcon:this.props.closeButtonIcon,onSkipButtonClicked:this._onSkipButtonClicked,onNextButtonClicked:this._onPressNextButton,onCloseButtonClicked:this._onCloseButtonClicked,scenarioNavigator:this.props.scenarioNavigator},{children:[t,e,i,s]}))}))}_componentId(){return"PnvDebugDialog"}}t.default=v},969197:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(583367),s=i(516778),a=i(839696),r=i(67930),l=i(803056),c=i(898278),d=i(746096),u=i(436237),g=i(547126),h=i(915877),p=i(733754),S=i(104735),m=i(928159),C=i(525313),y=i(26851),f=i(886045),b=i(78780),_=i(581760),v=i(640363),T=i(311010),P=i(711828),k=i(734528),A=i(619675),I=i(912770),w=i(853374),x=i(73877),N=1e3,M="•",L=(0,h.lazyProperties)({codeContainer:()=>s.Styles.createViewStyle({flexDirection:"row",justifyContent:"center"}),codeInput:()=>s.Styles.createTextInputStyle({padding:6,font:T.default.font.uiDisplayRegular,fontSize:T.default.fontSize.size32,backgroundColor:_.Color.transparent,color:_.Color.white,width:48,height:48,textAlignVertical:"top"}),resendContainer:()=>s.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",marginTop:40}),resendButton:()=>s.Styles.createButtonStyle({marginLeft:20,borderRadius:30,backgroundColor:_.Color.black}),callmeButton:()=>s.Styles.createButtonStyle({marginLeft:20,marginTop:20,borderRadius:30,backgroundColor:_.Color.black}),resendButtonText:()=>s.Styles.createTextStyle({color:_.Color.white,padding:5,alignSelf:"center",textAlign:"center"}),timerText:()=>s.Styles.createTextStyle({color:_.Color.white,font:T.default.font.uiDisplayBold,fontSize:T.default.fontSize.size18,alignSelf:"center",marginRight:20}),animationContainer:()=>s.Styles.createViewStyle({height:300,alignSelf:"stretch",alignItems:"center",justifyContent:"center",overflow:"visible"}),errorDescriptionText:()=>s.Styles.createTextStyle({color:_.Color.pink}),descriptionText:()=>s.Styles.createTextStyle({marginBottom:10,color:_.Color.white,paddingHorizontal:20,alignItems:"center",textAlign:"center"})});class O extends r.default{constructor(){super(...arguments),this._automaticallyFocusKeyboardOnce=!1,this._stopWatchTimer=0,this._isSMSReaderRegistered=!1,this._onVerifyingTextContentViewRef=e=>{this._verifyingTextContentView=e||void 0},this._onVerifiedTextContentViewRef=e=>{this._verifiedTextContentView=e||void 0},this._goBack=e=>(u.log(d.LogTraceArea.Navigation,"PnvEnterCodeDialog._goBack, causeId: "+e),!!this.state.verifying||(this.state.verified?this._closeDialog():(this._navigateToPnvEnterNumber(),!0))),this._onOnboardingDialogWizardRef=e=>{if(e){this._onboardingDialogWizard=e;const t=!!this.state&&this.state.verified;this._onboardingDialogWizard.disableNextButton(!t)}},this._onTextInputRefCode1=e=>{this._textInputCode1=e||void 0},this._onTextInputRefCode2=e=>{this._textInputCode2=e||void 0},this._onTextInputRefCode3=e=>{this._textInputCode3=e||void 0},this._onTextInputRefCode4=e=>{this._textInputCode4=e||void 0},this._onCloseButtonClicked=()=>{this._sendScenarioEvent(y.PnvScenarioStep.CodeBack),this._navigateToPnvEnterNumber()},this._onSkipButtonClicked=()=>{this._sendScenarioEvent(y.PnvScenarioStep.CodeSkip),this._goNext()},this._onKeyDown=e=>!(e.keyCode!==g.default.ENTER||!this.state.verified)&&(this._goNext(),!0),this._onChangeTextCode1=e=>{this._textInputCode2&&e.match(/^\d+$/)&&this._textInputCode2.requestFocus(),this._checkToken(e,this.state.code2,this.state.code3,this.state.code4),this.setState({code1:e})},this._onChangeTextCode2=e=>{this._textInputCode3&&e.match(/^\d+$/)&&this._textInputCode3.requestFocus(),this._checkToken(this.state.code1,e,this.state.code3,this.state.code4),this.setState({code2:e})},this._onChangeTextCode3=e=>{this._textInputCode4&&e.match(/^\d+$/)&&this._textInputCode4.requestFocus(),this._checkToken(this.state.code1,this.state.code2,e,this.state.code4),this.setState({code3:e})},this._onChangeTextCode4=e=>{this._checkToken(this.state.code1,this.state.code2,this.state.code3,e),this.setState({code4:e})},this._onKeyPress2=e=>{this._textInputCode1&&e.keyCode===g.default.DELETE&&!this.state.code2&&this._textInputCode1.requestFocus()},this._onKeyPress3=e=>{this._textInputCode2&&e.keyCode===g.default.DELETE&&!this.state.code3&&this._textInputCode2.requestFocus()},this._onKeyPress4=e=>{this._textInputCode3&&e.keyCode===g.default.DELETE&&!this.state.code4&&this._textInputCode3.requestFocus()},this._onSubmitEditing=()=>{this._submitCode(this._getToken())},this._onPressNextButton=e=>{e.stopPropagation(),this._submitCode(this._getToken())},this._onPressResendButton=e=>{e.stopPropagation(),this._resendCode(C.VerificationMethod.SMS),this._sendScenarioEvent(y.PnvScenarioStep.CodeResend)},this._onPressCallmeButton=e=>{e.stopPropagation(),this._resendCode(C.VerificationMethod.Voice),this._sendScenarioEvent(y.PnvScenarioStep.CodeCall)}}_buildState(e,t){const i={},n=C.default.getLastPhoneVerificationStatus();return i.phoneNumber=n.PhoneNumber,i.countryIsoCode=n.CountryIsoCode,i.countryCallingCode=n.CountryCallingCode,i.errorCode=n.ErrorCode,i.verified=n.Verified,t&&n.ThrottleDuration&&n.ThrottleDuration>0&&(i.resendButtonDisabled=!0),n.ErrorCode&&(i.code1="",i.code2="",i.code3="",i.code4="",this._automaticallyFocusKeyboardOnce=!1),i}componentDidMount(){super.componentDidMount(),this.state.resendButtonDisabled&&this._scheduleEnableResendButton(),s.Input.keyDownEvent.subscribe(this._onKeyDown)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),f.default.isMobileScreenReaderEnabled()&&(this._verifyingTextContentView&&this.state.verifying&&!t.verifying&&(this._verifyingTextContentView.requestFocus(),v.default.getPlatformType()===d.PlatformType.Android&&s.Accessibility.announceForAccessibility(p.getString("PhoneNumberVerification.EnterCodeVerifyingText"))),this._verifiedTextContentView&&this.state.verified&&!t.verified&&this._verifiedTextContentView.requestFocus())}_componentDidRender(){if(super._componentDidRender(),!this._getToken()&&this._textInputCode1&&!this._automaticallyFocusKeyboardOnce)if(this._automaticallyFocusKeyboardOnce=!0,f.default.shouldAnnounceForAccessibility()){const e=500;this._textInputCode1.setAccessibilityFocus(),I.default.setTimeout((()=>{this._textInputCode1&&this._textInputCode1.requestFocus()}),e)}else this._textInputCode1.requestFocus()}componentWillUnmount(){super.componentWillUnmount(),this._clearStopWatchTimer(),s.Input.keyDownEvent.unsubscribe(this._onKeyDown),this._isSMSReaderRegistered&&o.default.unregisterSMSReader("pnvsmsreader")}_getCodeInputComponent(){const e=(0,n.jsx)(s.TextInput,{style:this._isValidCode(this.state.code1)?L.codeInput:[L.codeInput,L.errorDescriptionText],value:this.state.code1,multiline:!1,blurOnSubmit:!0,placeholder:M,placeholderTextColor:_.Color.white,keyboardType:"numeric",accessibilityLabel:p.getString("AccessibilityLabel.EnterCode"),maxLength:1,ref:this._onTextInputRefCode1,onChangeText:this._onChangeTextCode1,onSubmitEditing:this._isPossibleToken(this._getToken())?this._onSubmitEditing:void 0,clearButtonMode:"never"}),t=(0,n.jsx)(s.TextInput,{style:this._isValidCode(this.state.code2)?L.codeInput:[L.codeInput,L.errorDescriptionText],value:this.state.code2,multiline:!1,blurOnSubmit:!0,placeholder:M,placeholderTextColor:_.Color.white,keyboardType:"numeric",accessibilityLabel:p.getString("AccessibilityLabel.EnterCode"),maxLength:1,ref:this._onTextInputRefCode2,onKeyPress:this._onKeyPress2,onChangeText:this._onChangeTextCode2,onSubmitEditing:this._isPossibleToken(this._getToken())?this._onSubmitEditing:void 0,clearButtonMode:"never"}),i=(0,n.jsx)(s.TextInput,{style:this._isValidCode(this.state.code3)?L.codeInput:[L.codeInput,L.errorDescriptionText],value:this.state.code3,multiline:!1,placeholder:M,placeholderTextColor:_.Color.white,keyboardType:"numeric",accessibilityLabel:p.getString("AccessibilityLabel.EnterCode"),maxLength:1,ref:this._onTextInputRefCode3,onKeyPress:this._onKeyPress3,onChangeText:this._onChangeTextCode3,onSubmitEditing:this._isPossibleToken(this._getToken())?this._onSubmitEditing:void 0,clearButtonMode:"never"}),o=(0,n.jsx)(s.TextInput,{style:this._isValidCode(this.state.code4)?L.codeInput:[L.codeInput,L.errorDescriptionText],value:this.state.code4,multiline:!1,placeholder:M,placeholderTextColor:_.Color.white,keyboardType:"numeric",accessibilityLabel:p.getString("AccessibilityLabel.EnterCode"),maxLength:1,ref:this._onTextInputRefCode4,onKeyPress:this._onKeyPress4,onChangeText:this._onChangeTextCode4,onSubmitEditing:this._isPossibleToken(this._getToken())?this._onSubmitEditing:void 0,clearButtonMode:"never"});return(0,n.jsxs)(s.View,Object.assign({style:L.codeContainer},{children:[e,t,i,o]}))}_getHeaderText(e){return e.verified||e.verifying?void 0:p.getString("PhoneNumberVerification.EnterCodeHeaderText")}render(){const e=this.props.compositeNavContainerWidth||x.default.measureWindow(this._getRootViewId()).width,t=this.state.verified||this.state.verifying?(0,n.jsx)(s.View,Object.assign({style:L.animationContainer},{children:(0,n.jsx)(a.default,{animation:this.state.verified?b.default.ONBOARDING_SYNC_ADDRESSBOOK:b.default.SPLASH_LOADER,loop:!0,shortSide:e})})):void 0,i=this.state.verified||this.state.verifying?void 0:this._getCodeInputComponent(),o=this._getHeaderText(this.state);let r,d;this.state.verified||this.state.verifying?r=void 0:this.state.errorCode?(r=p.getString("PhoneNumberVerification.EnterCodeErrorText"),d=L.errorDescriptionText):r=p.getString("PhoneNumberVerification.EnterCodeDescriptionText",{phonenumber:this.state.phoneNumber});const u=this.state.verified?(0,n.jsx)(A.Header,Object.assign({size:c.HeaderSize.h4,style:L.descriptionText,importantForAccessibility:s.Types.ImportantForAccessibility.Yes,ref:this._onVerifiedTextContentViewRef},{children:p.getString("PhoneNumberVerification.NumberVerifiedText")})):void 0,g=this.state.verifying?(0,n.jsx)(A.Header,Object.assign({size:c.HeaderSize.h4,style:L.descriptionText,importantForAccessibility:s.Types.ImportantForAccessibility.Yes,ref:this._onVerifyingTextContentViewRef},{children:p.getString("PhoneNumberVerification.EnterCodeVerifyingText")})):void 0,h=this.state.verifying?(0,n.jsx)(A.BodyText,Object.assign({style:L.descriptionText},{children:p.getString("PhoneNumberVerification.EnterCodeTakeMinuteText")})):void 0,S=this.state.verified||this.state.verifying?void 0:this._getResendComponent(),C=this.state.verifying||this.state.verified,y=this.state.verifying||this.state.verified;return(0,n.jsx)(l.default,Object.assign({goBack:this._goBack},{children:(0,n.jsxs)(m.default,Object.assign({headerText:o,descriptionElement:r,descriptionElementStyle:d,hideSkipButton:C,nextButtonIcon:this.props.nextButtonIcon||P.SkypeIcon.Ok,hideCloseButton:y,closeButtonIcon:k.backIcon(),hideNextButton:this.state.verifying,onSkipButtonClicked:this._onSkipButtonClicked,onNextButtonClicked:this._onPressNextButton,onCloseButtonClicked:this._onCloseButtonClicked,ref:this._onOnboardingDialogWizardRef,scenarioNavigator:this.props.scenarioNavigator,disablePresentationAnimation:!0,isContentScrollable:!1},{children:[i,t,u,g,h,S]}))}))}_getResendComponent(){const e=(0,n.jsx)(s.Button,Object.assign({style:L.resendButton,onPress:this._onPressResendButton,disabled:this.state.resendButtonDisabled},{children:(0,n.jsx)(s.Text,Object.assign({style:[T.default.fontStyle.secondaryButton,L.resendButtonText]},{children:p.getString("PhoneNumberVerification.ResendCodeText")}))})),t=(0,n.jsx)(s.Button,Object.assign({style:L.callmeButton,onPress:this._onPressCallmeButton,disabled:this.state.resendButtonDisabled},{children:(0,n.jsx)(s.Text,Object.assign({style:[T.default.fontStyle.secondaryButton,L.resendButtonText]},{children:p.getString("PhoneNumberVerification.CallMeText")}))}));return(0,n.jsxs)(s.View,Object.assign({style:L.resendContainer},{children:[(0,n.jsxs)(s.View,{children:[e,t]}),(0,n.jsx)(s.Text,Object.assign({style:L.timerText,numberOfLines:1},{children:this.state.timerText}))]}))}_componentId(){return"PnvEnterCodeDialog"}_navigateToPnvEnterNumber(){this._closeDialog(),S.default.navigateToPnvEnterNumber(void 0,this._getRootViewId())}_closeDialog(){const e=w.default.newCauseId();return u.log(d.LogTraceArea.Navigation,"PnvEnterCodeDialog._closeDialog, causeId: "+e),this.props.scenarioNavigator?(this.props.scenarioNavigator.goBack(),!0):super._goBack(e)}_goNext(){this.props.scenarioNavigator?this.props.scenarioNavigator.goNext():this.props.onNextButtonPressed?this.props.onNextButtonPressed():this._closeDialog()}_isValidCode(e){return!e||e===M||e.match(/^\d+$/)}_checkToken(e,t,i,n){let o=!1;if(e&&t&&i&&n){const s=e+t+i+n;this._isPossibleToken(s)&&(o=!0)}this._onboardingDialogWizard.disableNextButton(!o)}_getToken(){let e="";return this.state.code1&&this.state.code2&&this.state.code3&&this.state.code4&&(e=this.state.code1+this.state.code2+this.state.code3+this.state.code4),e}_isPossibleToken(e){return!!e&&(4===e.length&&e.match(/^\d+$/))}_submitCode(e,t=!1){this._sendScenarioEvent(y.PnvScenarioStep.CodeNext),this.state.verified?this._goNext():C.default.isVerifyingToken(this.state.phoneNumber,this.state.countryIsoCode,this.state.countryCallingCode)||(this.setState({verifying:!0}),C.default.verifyPhoneWithToken(this.state.phoneNumber,this.state.countryIsoCode,this.state.countryCallingCode,e).then((e=>{t&&e.Verified&&I.default.setTimeout((()=>{this.isComponentMounted()&&this._goNext()}),5e3)})).finally((()=>{this.isComponentMounted()&&this.setState({verifying:!1})})))}_scheduleEnableResendButton(){if(this.isComponentMounted()){let e=C.default.getTokenRequestThrottleDurationInMS(),t=this._convertMStoMinutesSeconds(e);this.setState({timerText:t}),this._clearStopWatchTimer(),this._stopWatchTimer=I.default.setInterval((()=>{let i=!0;e-=N,e>0?t=this._convertMStoMinutesSeconds(e):(this._clearStopWatchTimer(),t="",i=!1),this.isComponentMounted()&&this.setState({timerText:t,resendButtonDisabled:i})}),N)}}_clearStopWatchTimer(){this._stopWatchTimer&&(I.default.clearInterval(this._stopWatchTimer),this._stopWatchTimer=0)}_resendCode(e){this.setState({resendButtonDisabled:!0}),C.default.provisionPhoneForVerification(this.state.phoneNumber,this.state.countryIsoCode,this.state.countryCallingCode,e,p.getLocale()).then((e=>{this.isComponentMounted()&&this._textInputCode1&&this._textInputCode1.requestFocus()})).finally((()=>{this._scheduleEnableResendButton()}))}_convertMStoMinutesSeconds(e){const t=Math.floor(e/6e4),i=Math.floor((e-6e4*t)/N),n=i<10?":0":":";return t.toString()+n+i.toString()}_sendScenarioEvent(e){this.state.verified||this.state.verifying||y.default.get().markStep(e)}}t.default=O},841736:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(839696),a=i(996074),r=i(803056),l=i(147204),c=i(898278),d=i(817456),u=i(437490),g=i(746096),h=i(139285),p=i(110117),S=i(436237),m=i(915877),C=i(733754),y=i(104735),f=i(330124),b=i(928159),_=i(772136),v=i(525313),T=i(527683),P=i(26851),k=i(789871),A=i(886045),I=i(78780),w=i(581760),x=i(640363),N=i(311010),M=i(711828),L=i(734528),O=i(79669),D=i(619675),R=i(912770),E=i(853374),B=i(73877),F="pnvCountrySelectorPopup",V=(0,m.lazyProperties)({phoneNumberContainer:()=>o.Styles.createViewStyle({flexDirection:"row",justifyContent:"center"}),underline:()=>o.Styles.createViewStyle({borderBottomWidth:1,borderStyle:"solid",borderColor:w.Color.white,marginTop:2}),callingCodeView:()=>o.Styles.createViewStyle({marginLeft:50,marginRight:10}),callingCodeText:()=>o.Styles.createTextInputStyle({padding:6,font:N.default.font.uiDisplayRegular,fontSize:N.default.controlFontSize.body,backgroundColor:w.Color.transparent,width:50,height:32,textAlignVertical:"top"}),phoneNumberView:()=>o.Styles.createViewStyle({marginRight:50}),textInput:()=>o.Styles.createTextInputStyle({padding:6,font:N.default.font.uiDisplayRegular,fontSize:N.default.controlFontSize.body,backgroundColor:w.Color.transparent,color:w.Color.white,marginLeft:10,width:200,height:32,textAlignVertical:"top"}),animationContainer:()=>o.Styles.createViewStyle({height:300,alignSelf:"stretch",alignItems:"center",justifyContent:"center",overflow:"visible"}),descriptionText:()=>o.Styles.createTextStyle({marginBottom:10,color:w.Color.white,paddingHorizontal:20,alignItems:"center",textAlign:"center"}),errorDescriptionText:()=>o.Styles.createTextStyle({color:w.Color.pink}),callMeButton:()=>o.Styles.createButtonStyle({alignSelf:"center",justifyContent:"center",padding:20,marginTop:60,borderRadius:30,backgroundColor:w.Color.black}),callMeButtonText:()=>o.Styles.createTextStyle({color:w.Color.white,alignSelf:"center",textAlign:"center",fontSize:N.default.fontSize.size20}),iconStyle:()=>o.Styles.createViewStyle({marginTop:6,paddingLeft:3}),countryList:()=>o.Styles.createViewStyle({flexDirection:"row",marginTop:50,marginLeft:50,marginRight:50}),countryTextContainer:()=>o.Styles.createTextStyle({flexDirection:"row"}),countrySelectorPopupContainer:()=>o.Styles.createViewStyle({height:350,width:300}),countryText:()=>o.Styles.createTextStyle({color:w.Color.white,font:N.default.font.uiDisplayBold,fontSize:N.default.fontSize.size18,textAlign:"center",marginRight:5})});class U extends a.default{constructor(e){super(e),this._automaticallyFocusKeyboardOnce=!1,this._onVerifyingTextContentViewRef=e=>{this._verifyingTextContentView=e||void 0},this._onCountryListRef=e=>{this._countryListRef=e||void 0},this._onCountrySelectorPress=e=>{e.stopPropagation(),this._automaticallyFocusKeyboardOnce=!1,f.default.isUsingStackNavigationContext()?(u.dismissAll(),y.default.navigateToCountrySelector(this._getRootViewId())):this._openCountrySelectorModal()},this._openCountrySelectorModal=()=>{const e=e=>{const t=this.state.countries[e];k.default.setSelectedCountry(t),l.default.dismissPopup(F,this._getRootViewId()),this._numberTextInput&&this._numberTextInput.requestFocus()},t={getAnchor:()=>this._countryListRef,renderPopup:(t,i,s,a)=>(0,n.jsx)(O.default,Object.assign({anchorPosition:t,anchorOffset:i,popupWidth:s,popupHeight:a,fillColor:this._themeColors.popoverBackgroundColor,strokeColor:this._useDarkTheme()?this._themeColors.popupBorderColor:void 0,skipPopupAutoFocus:!0},{children:(0,n.jsx)(o.View,Object.assign({style:V.countrySelectorPopupContainer},{children:(0,n.jsx)(d.default,{countries:this.state.countries,onSelect:e})}))})),positionPriorities:["top","bottom"],dismissIfShown:!0,rootViewId:this._getRootViewId()};l.default.showPopup(t,F)},this._goBack=e=>(S.log(g.LogTraceArea.Navigation,"PnvEnterNumberDialog._goBack, causeId: "+e),!!this.state.provisioning||(this.props.scenarioNavigator?(this.props.scenarioNavigator.goBack(),!0):super._goBack(e))),this._onPressCallMeButton=e=>{e.stopPropagation(),P.default.get().markStep(P.PnvScenarioStep.NumberCall),this._submitPhoneNumber(v.VerificationMethod.Voice)},this._onNumberTextInputRef=e=>{this._numberTextInput=e||void 0},this._onCloseButtonClicked=()=>{P.default.get().markStep(P.PnvScenarioStep.NumberBack),this._closeDialog()},this._onOnboardingDialogWizardRef=e=>{e&&(this._onboardingDialogWizard=e,this._disableNextButton())},this._onChangeText=e=>{this.setState({phoneNumber:e})},this._onSubmitEditing=()=>{this._submitPhoneNumber()},this._onPressNextButton=e=>{e.stopPropagation(),this._submitPhoneNumber()},v.default.initialize()}_buildState(e,t){const i={},n=v.default.getLastPhoneVerificationStatus();return!t&&this.state.phoneNumber||(i.phoneNumber=n.PhoneNumber),t&&e.initialPhoneNumber&&(i.phoneNumber=e.initialPhoneNumber),i.countries=_.default.getCountries(),i.selectedCountry=k.default.getSelectedCountry(),i.errorCode=n.ErrorCode,i}componentDidMount(){super.componentDidMount(),k.default.initializeCountrySelection()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._verifyingTextContentView&&this.state.provisioning&&!t.provisioning&&A.default.isMobileScreenReaderEnabled()&&(this._verifyingTextContentView.requestFocus(),x.default.getPlatformType()===g.PlatformType.Android&&o.Accessibility.announceForAccessibility(C.getString("PhoneNumberVerification.EnterNumberVerifyingText"))),this._disableNextButton()}_componentDidRender(){if(super._componentDidRender(),this.state.phoneNumber,this._numberTextInput&&!this._automaticallyFocusKeyboardOnce)if(this._automaticallyFocusKeyboardOnce=!0,A.default.shouldAnnounceForAccessibility()){const e=500;this._numberTextInput.setAccessibilityFocus(),R.default.setTimeout((()=>{this._numberTextInput&&this._numberTextInput.requestFocus()}),e)}else this._numberTextInput.requestFocus()}_getCountryListComponent(){let e=C.getString("PSTNDialerPanel.UnknownCountry");return this.state.selectedCountry&&(e=this.state.selectedCountry.countryName),(0,n.jsx)(o.Button,Object.assign({style:V.countryList,onPress:this._onCountrySelectorPress,accessibilityLabel:C.getString("PSTNDialerPanel.CountriesAndRegionsAccessibilityLabel",{countryTitle:e})},{children:(0,n.jsxs)(h.default,Object.assign({ref:this._onCountryListRef,style:V.countryTextContainer},{children:[(0,n.jsx)(o.Text,Object.assign({style:V.countryText,numberOfLines:1},{children:e})),(0,n.jsx)(p.default,{icon:M.SkypeIcon.DownChevron,size:M.IconSize.size12,color:w.Color.white,style:V.iconStyle})]}))}))}_getPhoneNumberInputComponent(){const e=this.state.selectedCountry?"+"+this.state.selectedCountry.countryCode:"+00",t=(0,n.jsx)(o.TextInput,{style:V.callingCodeText,multiline:!1,blurOnSubmit:!0,placeholder:e,placeholderTextColor:w.Color.gray300,editable:!1,importantForAccessibility:o.Types.ImportantForAccessibility.No,clearButtonMode:"never"}),i=(0,n.jsx)(o.View,{style:V.underline}),s=(0,n.jsx)(o.TextInput,{style:V.textInput,value:this.state.phoneNumber,multiline:!1,blurOnSubmit:!0,placeholder:C.getString("PhoneNumberVerification.EnterNumberPlaceHolderText"),placeholderTextColor:w.Color.white,keyboardType:"numeric",accessibilityLabel:C.getString("AccessibilityLabel.EnterPhoneNumber"),ref:this._onNumberTextInputRef,onChangeText:this._onChangeText,onSubmitEditing:this._isCurrentPhoneNumberValid()?this._onSubmitEditing:void 0,clearButtonMode:"never"});return(0,n.jsxs)(o.View,Object.assign({style:V.phoneNumberContainer},{children:[(0,n.jsxs)(o.View,Object.assign({style:V.callingCodeView},{children:[t,i]})),(0,n.jsxs)(o.View,Object.assign({style:V.phoneNumberView},{children:[s,i]}))]}))}_renderProgress(){const e=this.props.compositeNavContainerWidth||B.default.measureWindow(this._getRootViewId()).width,t=(0,n.jsx)(o.View,Object.assign({style:V.animationContainer},{children:(0,n.jsx)(s.default,{animation:I.default.SPLASH_LOADER,loop:!0,shortSide:e})})),i=(0,n.jsx)(D.Header,Object.assign({size:c.HeaderSize.h4,style:V.descriptionText,importantForAccessibility:o.Types.ImportantForAccessibility.Yes,ref:this._onVerifyingTextContentViewRef},{children:C.getString("PhoneNumberVerification.EnterNumberVerifyingText")})),a=(0,n.jsx)(D.BodyText,Object.assign({style:V.descriptionText},{children:C.getString("PhoneNumberVerification.EnterCodeTakeMinuteText")}));return(0,n.jsxs)(b.default,Object.assign({hideSkipButton:!0,nextButtonIcon:this.props.nextButtonIcon||M.SkypeIcon.Ok,hideCloseButton:!0,closeButtonIcon:L.backIcon(),hideNextButton:!0,onNextButtonClicked:this._onPressNextButton,onCloseButtonClicked:this._onCloseButtonClicked,ref:this._onOnboardingDialogWizardRef,scenarioNavigator:this.props.scenarioNavigator,disablePresentationAnimation:!0},{children:[t,i,a]}))}render(){if(this.state.provisioning)return(0,n.jsx)(r.default,Object.assign({goBack:this._goBack},{children:this._renderProgress()}));const e=this.state.errorCode?C.getString("PhoneNumberVerification.EnterNumberErrorText"):C.getString("PhoneNumberVerification.EnterNumberDescriptionText"),t=this.state.errorCode?V.errorDescriptionText:void 0,i=this._showCallMeButton()?(0,n.jsx)(o.Button,Object.assign({style:V.callMeButton,onPress:this._onPressCallMeButton,disabled:!this._isCurrentPhoneNumberValid()},{children:(0,n.jsx)(o.Text,Object.assign({style:[N.default.fontStyle.primaryButtonLarge,V.callMeButtonText]},{children:C.getString("PhoneNumberVerification.CallMeText")}))})):void 0;return(0,n.jsx)(r.default,Object.assign({goBack:this._goBack},{children:(0,n.jsxs)(b.default,Object.assign({headerText:C.getString("PhoneNumberVerification.EnterNumberHeaderText"),descriptionElement:e,descriptionElementStyle:t,hideSkipButton:!0,nextButtonIcon:this.props.nextButtonIcon||M.SkypeIcon.Ok,hideCloseButton:this.props.hideCloseButton,closeButtonIcon:this.props.closeButtonIcon,onNextButtonClicked:this._onPressNextButton,onCloseButtonClicked:this._onCloseButtonClicked,ref:this._onOnboardingDialogWizardRef,scenarioNavigator:this.props.scenarioNavigator,disablePresentationAnimation:!0,isContentScrollable:!1},{children:[this._getPhoneNumberInputComponent(),this._getCountryListComponent(),i]}))}))}_componentId(){return"PnvEnterNumberDialog"}_showCallMeButton(){return"SendTokenError:UnsupportedVerifyMethod"===this.state.errorCode}_closeDialog(){const e=E.default.newCauseId();return S.log(g.LogTraceArea.Navigation,"PnvEnterNumberDialog._closeDialog, causeId: "+e),this.props.scenarioNavigator?(this.props.scenarioNavigator.goBack(),!0):super._goBack(e)}_isPossiblePhoneNumber(e,t){let i=!1;return e&&t&&(i=T.default.isPossibleNumber(e,t)),i}_isCurrentPhoneNumberValid(){let e=!1;if(this.state&&this.state.selectedCountry&&this.state.phoneNumber&&(e=this._isPossiblePhoneNumber(this.state.phoneNumber,this.state.selectedCountry.country),e)){const t=T.default.parse(this.state.phoneNumber,this.state.selectedCountry.country);e=T.default.isValidNumber(t)}return e}_disableNextButton(){this._onboardingDialogWizard&&this._onboardingDialogWizard.disableNextButton(!this._isCurrentPhoneNumberValid())}_submitPhoneNumber(e=v.VerificationMethod.SMS){if(P.default.get().markStep(P.PnvScenarioStep.NumberNext),v.default.isWaitingForToken(this.state.phoneNumber,this.state.selectedCountry.country,this.state.selectedCountry.countryCode.toString()))this._navigateToPnvEnterCode();else if(!v.default.isProvisioningPhone(this.state.phoneNumber,this.state.selectedCountry.country,this.state.selectedCountry.countryCode.toString())){this.setState({provisioning:!0});const t=T.default.parse(this.state.phoneNumber,this.state.selectedCountry.country),i=t?T.default.format(t,T.PhoneNumberFormat.NATIONAL):"";v.default.provisionPhoneForVerification(i,this.state.selectedCountry.country,this.state.selectedCountry.countryCode.toString(),e,C.getLocale()).then((e=>{e.ErrorCode||this._navigateToPnvEnterCode()})).finally((()=>{this.isComponentMounted()&&this.setState({provisioning:!1})}))}}_navigateToPnvEnterCode(){this._closeDialog(),y.default.navigateToPnvEnterCode(this._getRootViewId())}}t.default=U},524387:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(733754),o=i(293194),s=o.default.menuId();t.default=class{constructor(e){this._feedbackHandler=e,this._menuOptions=()=>[{text:n.getString("UserSettingsPanel.PicturePrefetchStatusOn"),command:"On"},{text:n.getString("UserSettingsPanel.PicturePrefetchStatusWifi"),command:"Wifi"},{text:n.getString("UserSettingsPanel.PicturePrefetchStatusOff"),command:"Off"}],this._handleMenuCommand=(e,t)=>{e!==o.SXActionMenuCancel?this._feedbackHandler(e):this._feedbackHandler(void 0)}}show(e,t,i,n){const a={anchor:t,useTheme:!0,popupBeakSize:{height:0,width:0},positionPriorities:["top","left"]};o.default.showWithOptions({id:s,config:a,getMenuItems:this._menuOptions,handleMenuCommand:e=>this._handleMenuCommand(e,i),menuTitle:e,rootViewId:i,invokingEvent:n})}}},695697:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(219784),a=i(889391),r=i(462033),l=i(129825),c=(i(147204),i(898278)),d=i(706417),u=i(746096),g=i(670635),h=i(436237),p=i(115340),S=i(915877),m=i(875913),C=i(374606),y=i(650556),f=i(733754),b=i(10909),_=i(593486),v=i(178735),T=i(104735),P=i(352803),k=(i(190631),i(982445)),A=i(22222),I=i(581760),w=i(640363),x=i(311010),N=i(619675),M=i(24576),L=i(163841),O=i(418037),D=i(658874),R=i(626712),E="reportingAProblem",B=20,F=(0,S.lazyProperties)({dialog:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),headerText:()=>o.Styles.createTextStyle({paddingTop:30,paddingBottom:10,marginLeft:B}),textInputContainer:()=>o.Styles.createViewStyle({borderRadius:10,marginLeft:B,marginRight:B}),textInput:()=>o.Styles.createTextInputStyle({padding:6,borderRadius:10,font:x.default.font.uiDisplayRegular,fontSize:x.default.controlFontSize.body,wordBreak:"break-word",backgroundColor:I.Color.transparent,height:180,textAlignVertical:"top"}),buttonContainer:()=>o.Styles.createViewStyle({alignItems:"stretch"}),sendButton:()=>o.Styles.createButtonStyle({marginLeft:B,marginRight:B,marginTop:10}),checkboxAndTextContainer:()=>o.Styles.createViewStyle({marginLeft:B,justifyContent:"center",marginBottom:16}),checkboxView:()=>o.Styles.createViewStyle({flexDirection:"row",alignSelf:"flex-start",paddingTop:6}),checkboxLabel:()=>o.Styles.createTextStyle({paddingTop:4,flex:-1,marginLeft:-4}),linksContainer:()=>o.Styles.createViewStyle({flex:1,alignItems:"flex-end",justifyContent:"center",flexDirection:"row",marginBottom:B,marginTop:50}),linkDivider:()=>o.Styles.createTextStyle({marginLeft:8,marginRight:8})});class V extends M.default{constructor(){super(...arguments),this._openTerms=()=>{m.default.openTerms()},this._openPrivacy=()=>{m.default.openPrivacy()},this._onScrollViewRef=e=>{this._scrollView=e||void 0},this._onFocus=e=>{this._scrollView&&this._scrollView.setScrollTop(100,!1)},this._onPressSendButton=e=>{e.stopPropagation(),this._sendProblemReport()},this._onCancelButtonPress=e=>{e.stopPropagation(),y.LoadingDialog.dismiss(E,this._getRootViewId())},this._onChangeText=e=>{this.setState({problemText:e})},this._onPressAttachLogsCheckboxButton=e=>{e.stopPropagation(),this.setState({isAttachLogsAndScreenshotChecked:!this.state.isAttachLogsAndScreenshotChecked})},this._onPressShakeToSendFeedbackCheckboxButton=e=>{e.stopPropagation(),this.setState({isShakeAndSendChecked:!this.state.isShakeAndSendChecked}),v.default.setDisableShakeAndSend(this.state.isShakeAndSendChecked)},this._onBack=()=>(this._dismiss(),h.log(u.LogTraceArea.HardwareBackButton,"goBack: true componentId: ReportAProblemDialog"),!0),this._dismiss=()=>{d.default.closeModel(this._getRootViewId())}}static canReportFeedback(e){return e||a.default.getOnboardingFeatures().features.enableReportProblemDirectly||a.default.getOnboardingFeatures().enableReportProblemViaBot}static reportProblem(e,t,i,n,o){_.default.isChild()||(h.track(new P.ReportProblemDialogOpenedEvent(!0)),g.default.showFeedbackDialog(t,i,n,o))}static openFeedbackUrl(e,t,i,n=!1){if(!_.default.isChild()){const o=e,s=!R.default.isUrlValid(o);let r=R.default.addUrlParameter(o,"lang",f.getLocale(),s);r=R.default.addUrlParameter(r,"p",w.default.getSkypePlatformId().toString(),s),r=R.default.addUrlParameter(r,"v",w.default.getAppVersion(),s),r=R.default.addUrlParameter(r,"eTag",encodeURIComponent(a.default.getCachedEcsConfigEtag()),s),r=R.default.addUrlParameter(r,"e",D.UIFactor[D.UIFactorHelper.getUIFactor()],s),r=R.default.addUrlParameter(r,"theme",L.Theme[O.default.colorTheme()],s),r=k.addSsoFlagToUrl(r,s);let l={};n&&(l={tcg:this._triggerULUploadAndGetCorrelationId()}),T.default.navigateToHelpAndFeedbackLink(r,"",t,i,l)}}static _triggerULUploadAndGetCorrelationId(){const e=w.default.getSessionId()+"_"+Date.now();return h.log(u.LogTraceArea.SkypeFeedback,"SendFeedback: log submitting event. logCorrelationId: "+e),e}_buildState(e,t){const i={};return t&&(i.isAttachLogsAndScreenshotChecked=a.default.getConfigSettings().feedback.sendLogsByDefault,i.isShakeAndSendChecked=!v.default.isShakeAndSendDisabled(),i.problemText="",i.isChild=_.default.isChild()),i}componentDidMount(){super.componentDidMount(),r.default.subscribe(this._onBack)}componentWillUnmount(){super.componentWillUnmount(),r.default.unsubscribe(this._onBack)}render(){if(this.state.isChild)return;return(0,n.jsxs)(p.KeyboardAvoidingView,Object.assign({style:[F.dialog,this._themeStyles.primaryBackgroundColorStyle]},{children:[undefined,(0,n.jsxs)(o.ScrollView,Object.assign({ref:this._onScrollViewRef,keyboardShouldPersistTaps:!0},{children:[(0,n.jsx)(N.Header,Object.assign({size:4,style:F.headerText,numberOfLines:2},{children:f.getString("ReportAProblemDialog.Header")})),(0,n.jsxs)(o.View,Object.assign({style:F.checkboxAndTextContainer},{children:[(0,n.jsxs)(o.View,Object.assign({style:F.checkboxView,onPress:this._onPressAttachLogsCheckboxButton,accessibilityTraits:o.Types.AccessibilityTrait.None,accessibilityLabel:this._getCheckboxAccessibilityLabel(f.getString("ReportAProblemDialog.AttachLogsAndScreenCheckbox"),this.state.isAttachLogsAndScreenshotChecked)},{children:[(0,n.jsx)(C.default,{isOn:this.state.isAttachLogsAndScreenshotChecked}),(0,n.jsx)(N.BodyText,Object.assign({style:F.checkboxLabel},{children:f.getString("ReportAProblemDialog.AttachLogsAndScreenCheckbox")}))]})),undefined]})),(0,n.jsx)(o.View,Object.assign({style:[F.textInputContainer,this._themeStyles.rowHighlightViewStyle]},{children:(0,n.jsx)(o.TextInput,{autoCorrect:!0,value:this.state.problemText,style:[F.textInput,this._themeStyles.primaryTextColorStyle],multiline:!0,onFocus:this._onFocus,onChangeText:this._onChangeText,placeholder:f.getString("ReportAProblemDialog.Placeholder"),placeholderTextColor:this._themeColors.secondaryTextColor,autoCapitalize:"sentences",maxLength:1e3,clearButtonMode:"never"})})),(0,n.jsx)(o.View,Object.assign({style:F.buttonContainer},{children:(0,n.jsx)(A.default,{style:F.sendButton,buttonStyle:c.SXButtonStyle.ThemeFill,onPress:this._onPressSendButton,disabled:0===this.state.problemText.length,title:f.getString("ReportAProblemDialog.SendButton")})})),(0,n.jsxs)(o.View,Object.assign({style:F.linksContainer},{children:[(0,n.jsx)(o.Button,Object.assign({onPress:this._openTerms},{children:(0,n.jsx)(N.Subtitle,{children:f.getString("ReportAProblemDialog.TermsOfUseButton")})})),(0,n.jsx)(N.Subtitle,Object.assign({style:F.linkDivider},{children:"|"})),(0,n.jsx)(o.Button,Object.assign({onPress:this._openPrivacy},{children:(0,n.jsx)(N.Subtitle,{children:f.getString("ReportAProblemDialog.PrivacyAndCookiePolicyButton")})}))]}))]}))]}))}_getCheckboxAccessibilityLabel(e,t){const i=this._getCheckboxCheckedState(t);return f.getString("ReportAProblemDialog.AccLabelCheckbox",{checkboxTitle:e,state:i})}_getCheckboxCheckedState(e){return e?f.getString("ReportAProblemDialog.AccLabelCheckboxChecked"):f.getString("ReportAProblemDialog.AccLabelCheckboxUnchecked")}_sendProblemReport(){this._dismiss(),y.LoadingDialog.show({dialogId:E,dialogText:f.getString("ReportAProblemDialog.ReportingProblem"),showActivityIndicator:!0,buttonText:f.getString("Global.CancelLabel"),onButtonPress:this._onCancelButtonPress,showCancelButton:!0},this._getRootViewId());const e={ReportTitle:this.state.problemText,ReportDescription:this.state.problemText,feedbackSendLogsAndScreenshot:this.state.isAttachLogsAndScreenshotChecked,screenShotUri:this.props.screenshotUri,vsoTags:this.props.vsoTags};l.default.sendBRB(e).then((()=>{b.default.scheduleTextMessage(f.getString("ReportAProblemDialog.ProblemReportedSuccessfully"),void 0,this._getRootViewId())}),(e=>{s.default.showErrorAlert(e,this._getRootViewId())})).finally((()=>{y.LoadingDialog.dismiss(E,this._getRootViewId())}))}}t.default=V},264160:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(665768),s=i(516778),a=i(218330),r=i(898278),l=i(746096),c=i(732235),d=(i(211375),i(436237)),u=i(861253),g=i(172490),h=i(915877),p=i(733754),S=i(330124),m=i(216582),C=i(190631),y=(i(450795),i(581760)),f=i(79669),b=i(680837),_=i(360305),v=i(24576),T=i(912770),P=i(73877),k=i(889391),A=(0,h.lazyProperties)({modalContainerBackgroundDesktop:()=>s.Styles.createViewStyle({position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"}),modalContainerAnimatedDesktop:()=>s.Styles.createViewStyle({backgroundColor:y.Color.blackOverlay50}),modalContainerAnimatedTablet:()=>s.Styles.createViewStyle({bottom:-100}),modalContainerBackgroundMobile:()=>s.Styles.createViewStyle({position:"absolute",backgroundColor:y.Color.blackOverlay50,left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"}),modalContainerInner:()=>s.Styles.createViewStyle({position:"absolute",left:0,right:0,top:0,bottom:0,alignItems:"center",justifyContent:"center"}),modalContainerInnerFullSize:()=>s.Styles.createViewStyle({flex:1,position:"absolute",left:0,right:0,top:0,bottom:0}),modalContainer:()=>s.Styles.createViewStyle({flex:-1,flexDirection:"row"}),modalContainerMobile:()=>[s.Styles.createViewStyle({flex:-1,justifyContent:"center"}),b.default.noncollapsibleView],modalContainerFullSize:()=>[s.Styles.createViewStyle({flex:1,justifyContent:"center"}),b.default.noncollapsibleView],modalContainerTablet:()=>s.Styles.createViewStyle({flex:-1,alignItems:"flex-start",overflow:"visible"}),modalBox:()=>s.Styles.createViewStyle({flex:-1,margin:32}),modalBoxTablet:()=>s.Styles.createViewStyle({margin:20}),modelBoxTranslate:()=>s.Styles.createViewStyle({transform:[{translateX:0}]}),modalBoxModernizedDesktop:()=>s.Styles.createViewStyle({borderRadius:8}),modelBoxDesktop:()=>s.Styles.createViewStyle({borderRadius:3}),newModelBoxDesktop:()=>s.Styles.createViewStyle({borderRadius:24}),modalBoxDesktopFullSize:()=>s.Styles.createViewStyle({flex:1,position:"absolute",left:0,right:0,top:0,bottom:0}),fullScreenView:()=>s.Styles.createViewStyle({position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:y.Color.transparent})}),I="SXModal";class w extends v.default{constructor(){super(...arguments),this._contentOpacityValue=new s.Animated.Value(1),this._suppressDismissalEvents=!1,this._renderPopup=(e,t,i,o,r)=>(0,n.jsx)(f.default,Object.assign({anchorPosition:a.default.popupAnchorPositionToString(e),anchorOffset:t,popupWidth:i,popupHeight:o,borderRadius:10,strokeColor:this.props.popupColorInfo?this.props.popupColorInfo.strokeColor:this._themeColors.popupBorderColor,fillColor:this.props.popupColorInfo?this.props.popupColorInfo.fillColor:this._themeColors.popoverBackgroundColor,shadow:"0px 2px 4px rgba(0, 0, 0, 0.25)",popupAccessibilityTitle:this._modalAccessibilityLabel()},{children:(0,n.jsx)(s.View,Object.assign({style:[this.state.widthStyle,this.state.heightStyle]},{children:this.props.children}))})),this._arbitrateFocus=e=>(0,c.arbitrateModalOrPopupFocus)(I,e),this._onContainerRef=e=>{this._container=e||void 0},this._onEscape=()=>(this._intClickOutside(),!0),this._onLayout=e=>{if(this.isComponentMounted()){const t={width:e.width,height:e.height};(0,u.default)(t,this.state.viewDimensions)||this.setState({viewDimensions:t})}},this._clickInside=e=>{e.stopPropagation()},this._onLongPressOutside=e=>{e.stopPropagation()},this._clickOutside=e=>{e.stopPropagation(),this._intClickOutside()},this._intClickOutside=()=>{this.props.onClickOutside&&this.props.onClickOutside()}}_buildState(e,t){const{modernizeSearchPanel:i}=k.default.getS4LMessagingFeatures(),n={isUsingStackNavigationContext:S.default.isUsingStackNavigationContext(),useTabletUI:!e.fullSize&&_.default.isTabletUI(),modernizeSearchPanel:i},o=this._getRootViewId();if(!n.isUsingStackNavigationContext)if(n.widthStyle=e.modalWidth?s.Styles.createViewStyle({width:e.modalWidth},!1):void 0,e.modalHeight){const t=n.useTabletUI?Math.min(e.modalHeight,P.default.measureWindow(o).height-60):e.modalHeight;n.heightStyle=s.Styles.createViewStyle({height:t},!1)}else n.heightStyle=void 0;if(t){if(this._suppressDismissalEvents=!!e.suppressDismissalEvents,this._opacityAnimationValue=new s.Animated.Value(n.isUsingStackNavigationContext||e.fullSize?0:1),this._opacityAnimationStyle=e.animationType!==r.SXModalAnimationType.None?s.Styles.createAnimatedViewStyle({opacity:this._opacityAnimationValue}):void 0,e.animationType===r.SXModalAnimationType.Bottom){const t=w._yOffset(e.modalHeight,!!e.fullSize,o);this._contentTransformYValue=new s.Animated.Value(t),this._bottomAnimationStyle=s.Styles.createAnimatedViewStyle({transform:[{translateY:this._contentTransformYValue}]})}else e.animationType!==r.SXModalAnimationType.None&&(this._contentScaleValue=new s.Animated.Value(1),this._defaultAnimationStyle=s.Styles.createAnimatedViewStyle({transform:[{scale:this._contentScaleValue}],opacity:this._contentOpacityValue}));e.closeAnimationEvent&&(this._closeAnimationSubcriptionToken=e.closeAnimationEvent.subscribe((e=>this._animateClose(e))));const t=P.default.measureWindow(o);n.viewDimensions={width:t.width,height:t.height}}return n}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this.props.skipEscHandling||g.default.addEscapeHandler(this._onEscape)}componentDidMount(){super.componentDidMount(),d.log(l.LogTraceArea.CoreUI,"SXModal componentDidMount, animationType: "+this.props.animationType);const e=!0,t=[];this.props.animationType===r.SXModalAnimationType.None?(this._contentScaleValue&&this._contentScaleValue.setValue(1),this._contentTransformYValue&&this._contentTransformYValue.setValue(0),this._opacityAnimationValue&&this._opacityAnimationValue.setValue(1)):this.props.animationType===r.SXModalAnimationType.Bottom?(this._contentTransformYValue&&t.push(o.timing.easeOut({value:this._contentTransformYValue,toValue:0,useNativeDriver:e})),this._opacityAnimationValue&&t.push(o.timing.easeOut({value:this._opacityAnimationValue,toValue:1,useNativeDriver:e})),this._contentScaleValue&&this._contentScaleValue.setValue(1)):this.state.isUsingStackNavigationContext||this.props.fullSize?(this._opacityAnimationValue&&t.push(o.timing.easeOut({value:this._opacityAnimationValue,toValue:1,useNativeDriver:e})),this._contentScaleValue&&this._contentScaleValue.setValue(1)):(this._contentScaleValue,this._contentTransformYValue&&this._contentTransformYValue.setValue(0),this._opacityAnimationValue&&this._opacityAnimationValue.setValue(1)),t.length&&s.Animated.parallel(t).start()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),e.modalTitle!==this.props.modalTitle&&e.modalTitle&&this.resetFocus()}componentWillUnmount(){if(super.componentWillUnmount(),g.default.removeEscapeHandler(this._onEscape),this._closeAnimationSubcriptionToken&&this._closeAnimationSubcriptionToken.unsubscribe(),!this._suppressDismissalEvents){const e=p.getString("AccessibilityLabel.DialogClosed",{dialogTitle:this.props.modalTitle});s.Accessibility.announceForAccessibility(e)}}resetFocus(){if(this._container){this.props.willResetFocus&&this.props.willResetFocus(),this._container.setFocusRestricted(!1),this._container.requestFocus();const e=e=>{d.log(l.LogTraceArea.CoreUI,"SXModal resetFocus, timedOut: "+e),this._clearFocusRestrictionTimeout(),this.props.didResetFocus&&this.props.didResetFocus()};this._clearFocusRestrictionTimeout(),this._focusRestrictionTimeout=T.default.setTimeout((()=>{e(!0)}),1e3),this._container.setFocusRestricted(!0,(()=>{e(!1)}))}}suppressDismissalEvents(e){this._suppressDismissalEvents=e}_clearFocusRestrictionTimeout(){this._focusRestrictionTimeout&&(T.default.clearTimeout(this._focusRestrictionTimeout),this._focusRestrictionTimeout=void 0)}_modalAccessibilityLabel(){return this.props.modalTitle?this.props.modalTitle:void 0}render(){const e=this._modalAccessibilityLabel(),t="modal",i=this.props.backgroundStyle||this._themeStyles.primaryBackgroundColorStyle,o=this.props.showTitlebar?(0,n.jsx)(C.SimplePanelHeader,{leftButton:{closeButtonType:C.CloseButtonType.Close,onPress:this.props.close},panelName:this.props.title,useCenteredControls:!0}):void 0;if(this.state.isUsingStackNavigationContext){let e;const t=[A.modalContainerBackgroundMobile];this.props.overlayColor&&t.push(s.Styles.createViewStyle({backgroundColor:this.props.overlayColor},!1)),this.props.animationType!==r.SXModalAnimationType.None&&t.push(this.props.animationType===r.SXModalAnimationType.Bottom?this._bottomAnimationStyle:this._opacityAnimationStyle);const i=[this.props.fullSize?A.modalContainerFullSize:A.modalContainerMobile];return this.props.horizontalPadding&&i.push(s.Styles.createViewStyle({maxWidth:this.state.viewDimensions.width-2*this.props.horizontalPadding},!1)),this.props.verticalPadding&&i.push(s.Styles.createViewStyle({maxHeight:this.state.viewDimensions.height-2*this.props.verticalPadding},!1)),(0,n.jsxs)(s.Animated.View,Object.assign({style:t,onDragEnter:this._clickInside,onLayout:this.props.horizontalPadding||this.props.verticalPadding?this._onLayout:void 0},{children:[e,(0,n.jsx)(s.View,Object.assign({style:this.props.fullSize?A.modalContainerInnerFullSize:A.modalContainerInner},{children:(0,n.jsx)(s.View,Object.assign({style:i,restrictFocusWithin:!0},{children:this.props.children}))}))]}))}if(this.props.fullSize){const a=[A.modalBoxDesktopFullSize,i];return this.props.animationType!==r.SXModalAnimationType.None&&a.push(this.props.animationType===r.SXModalAnimationType.Bottom?this._bottomAnimationStyle:this._opacityAnimationStyle),(0,n.jsx)(s.Animated.View,Object.assign({style:a},{children:(0,n.jsxs)(s.View,Object.assign({style:A.modalContainerFullSize,restrictFocusWithin:!0,accessibilityId:I,accessibilityTraits:s.Types.AccessibilityTrait.Dialog,accessibilityLabel:e,tabIndex:-1,autoFocus:!0,arbitrateFocus:this._arbitrateFocus},{children:[o,this.props.children]}),t)}))}{let a;if(this.props.anchor)a=(0,n.jsx)(m.default,{animateDismissal:!0,renderPopup:(e,t,i,n,o)=>this._renderPopup(e,t,i,n,o),allowTaps:!0,ignorePointerEvents:!0,getAnchorElement:this.props.anchor,getPopupPositions:this.props.getPopupPositions},t);else{const l=this.props.newBordersModal?A.newModelBoxDesktop:A.modelBoxDesktop,c=[this.state.useTabletUI?A.modalBoxTablet:A.modalBox,this.props.showOverflow?b.default.overflowVisible:void 0,this.state.modernizeSearchPanel?A.modalBoxModernizedDesktop:l,A.modelBoxTranslate,i];this.state.widthStyle&&c.push(this.state.widthStyle),this._useDarkTheme()&&c.push(this._themeStyles.viewBorderStyle);const d=[this.state.useTabletUI?A.modalContainerTablet:A.modalContainer,this.props.showOverflow?b.default.overflowVisible:void 0];this.props.animationType!==r.SXModalAnimationType.None&&d.push(this.props.animationType===r.SXModalAnimationType.Bottom?this._bottomAnimationStyle:this._defaultAnimationStyle),this.state.heightStyle&&(this.state.useTabletUI?c.push(this.state.heightStyle):d.push(this.state.heightStyle)),a=(0,n.jsx)(s.Animated.View,Object.assign({style:d},{children:(0,n.jsxs)(s.View,Object.assign({style:c,ref:this._onContainerRef,onPress:this._clickInside,accessibilityId:I,accessibilityTraits:s.Types.AccessibilityTrait.Dialog,restrictFocusWithin:!0,disableTouchOpacityAnimation:!0,tabIndex:-1,accessibilityLabel:e,autoFocus:!0,arbitrateFocus:this._arbitrateFocus},{children:[o,this.props.children]}),t)}))}const l=[A.modalContainerBackgroundDesktop];let c;if(!this.props.hideBackground){const e=[b.default.absoluteFill,A.modalContainerAnimatedDesktop];this.props.showOverflow&&(this.state.useTabletUI,l.push(b.default.overflowVisible)),this._opacityAnimationStyle&&e.push(this._opacityAnimationStyle),c=(0,n.jsx)(s.Animated.View,{style:e})}return(0,n.jsxs)(s.View,Object.assign({style:l},{children:[c,(0,n.jsx)(s.View,{style:A.fullScreenView,onPress:this._clickOutside,onLongPress:this._onLongPressOutside,disableTouchOpacityAnimation:!0}),a]}))}}_animateClose(e){d.log(l.LogTraceArea.CoreUI,"SXModal _animateClose, animationType: "+this.props.animationType);const t=()=>{this.isComponentMounted()&&e&&e()};if(this.props.animationType===r.SXModalAnimationType.None)return void t();const i=!0,n=[];this.props.animationType===r.SXModalAnimationType.Bottom?(this._contentTransformYValue&&n.push(o.timing.easeOut({value:this._contentTransformYValue,toValue:w._yOffset(this.props.modalHeight,!!this.props.fullSize,this._getRootViewId()),useNativeDriver:i})),this._opacityAnimationValue&&n.push(o.timing.easeOut({value:this._opacityAnimationValue,toValue:0,useNativeDriver:i}))):(this._opacityAnimationValue&&n.push(o.timing.easeOut({value:this._opacityAnimationValue,toValue:0,useNativeDriver:i})),this.state.isUsingStackNavigationContext||this.props.fullSize||n.push(o.timing.easeOut({value:this._contentOpacityValue,toValue:0,useNativeDriver:i}))),s.Animated.parallel(n).start(t)}static _yOffset(e,t,i){const n=P.default.measureWindow(i).height;return e&&!t?n-(n-e)/2:n}}t.default=w},910265:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(974634),r=i(735440),l=i(462033),c=i(711930),d=i(147204),u=i(677381),g=i(746096),h=i(436237),p=i(547126),S=i(915877),m=i(733754),C=i(29130),y=i(581760),f=i(264160),b=i(680837),_=i(619675),v=i(600212),T=(0,S.lazyProperties)({container:()=>s.Styles.createViewStyle({flex:1}),titleText:()=>s.Styles.createTextStyle({textAlign:"center",padding:16}),contentText:()=>s.Styles.createTextStyle({textAlign:"center",paddingVertical:16}),contentTextLeftAligned:()=>s.Styles.createTextStyle({textAlign:"left"}),contentContainer:()=>s.Styles.createViewStyle({flex:1,paddingHorizontal:16}),buttonContainer:()=>s.Styles.createViewStyle({alignItems:"stretch"}),horizontalButtonContainer:()=>s.Styles.createViewStyle({flexDirection:"row"}),buttonsContainerFullSize:()=>s.Styles.createViewStyle({backgroundColor:y.Color.white}),button:()=>s.Styles.createButtonStyle({justifyContent:"center",alignItems:"center",borderTopWidth:1,paddingVertical:16,flex:1}),buttonText:()=>s.Styles.createTextStyle({textAlign:"center",marginHorizontal:12})}),P=(e,t=!1,i)=>{const n=v.default.themeColorsForTheme(e);return t?{containerBackground:{backgroundColor:i||n.primaryBackgroundColor},titleText:{},contentText:{},button:{borderColor:n.dividerColor},buttonText:{},buttonHover:{color:n.textHoverColor}}:{containerBackground:{backgroundColor:i||y.Color.gray400},titleText:{color:y.Color.white},contentText:{color:y.Color.white},button:{borderColor:y.Color.black},buttonText:{color:y.Color.white},buttonHover:{color:y.Color.gray300}}};class k extends u.default{constructor(){super(...arguments),this._closeAnimationEvent=new a.default,this._buttonPressHandled=!1,this._renderButton=(e,t)=>{const i=P(this.state.theme,this.props.isThemeAware),o=[T.button,i.button],a=[T.buttonText,i.buttonText];return e.buttonStyle&&o.push(e.buttonStyle),e.textStyle&&a.push(e.textStyle),t!==this.state.hoverButtonIndex||e.isDisabled||a.push(i.buttonHover),(0,n.jsx)(s.Button,Object.assign({style:o,onHoverStart:()=>this.setState({hoverButtonIndex:t}),onHoverEnd:this._onHoverEnd,onPress:t=>this._onButtonPress(t,e),disabled:e.isDisabled,accessibilityLabel:e.text,ref:e.ref,autoFocus:e.autoFocus},{children:(0,n.jsx)(_.BodyText,Object.assign({bold:e.isSubmit,style:a},{children:e.text}))}),t)},this._onHoverEnd=()=>{this.setState({hoverButtonIndex:-1})},this._onClickOutside=()=>{this.props.onClickOutside&&this.props.onClickOutside(),this.props.closeOnClickOutside&&this._getCloseAnimationEvent().fire((()=>{d.default.dismissModal(this.props.dialogId,this._getRootViewId(),this.props.useScopedModalId)}))},this._onKeyUp=e=>{let t;return e.keyCode===p.default.ESCAPE?o.each(this.props.buttons,(e=>{e.isCancel&&(t=e)})):e.keyCode!==p.default.ENTER||s.UserInterface.isNavigatingWithKeyboard()||o.each(this.props.buttons,(e=>{!e.isDisabled&&e.isSubmit&&(t=e)})),t?(this._completeButtonPress(t),h.log(g.LogTraceArea.GenericUnsafe,"onKeyUp: true componentId: SimpleDialog"),!0):(h.log(g.LogTraceArea.GenericUnsafe,"onKeyUp: false componentId: SimpleDialog"),!1)},this._onBack=()=>{let e;return o.each(this.props.buttons,(t=>{t.isCancel&&(e=t)})),e?(this._completeButtonPress(e),h.log(g.LogTraceArea.HardwareBackButton,"goBack: true componentId: SimpleDialog"),!0):(h.log(g.LogTraceArea.HardwareBackButton,"goBack: false componentId: SimpleDialog"),!1)},this._onHeaderContentLayout=e=>{this.props.allowScrolling&&e.height!==this.state.headerHeight&&this.setState({headerHeight:e.height},this._checkIfScrollingNeeded)},this._onDialogContentLayout=e=>{this.props.allowScrolling&&e.height!==this.state.dialogHeight&&this.setState({dialogHeight:e.height},this._checkIfScrollingNeeded)},this._onButtonsContentLayout=e=>{this.props.allowScrolling&&e.height!==this.state.buttonsHeight&&this.setState({buttonsHeight:e.height},this._checkIfScrollingNeeded)}}_buildState(e,t){const i={screenWidth:C.default.getWidth(this._getRootViewId()),screenHeight:C.default.getHeight(this._getRootViewId()),theme:this._getContext().theme};return t?Object.assign(Object.assign({},i),{hoverButtonIndex:-1}):i}componentDidMount(){super.componentDidMount(),l.default.subscribe(this._onBack),s.Input.keyUpEvent.subscribe(this._onKeyUp)}componentWillUnmount(){super.componentWillUnmount(),l.default.unsubscribe(this._onBack),s.Input.keyUpEvent.unsubscribe(this._onKeyUp)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._checkIfScrollingNeeded()}render(){const e=P(this.state.theme,this.props.isThemeAware,this.props.backgroundColor);let t,i;if(this.props.text){const i=!0;if(t=(0,n.jsx)(_.PanelHeader,Object.assign({style:[T.titleText,e.titleText],accessibilityHidden:!!i},{children:this.props.text})),i){const e=c.default.headerAccessibilityInfo(this.props.text);t=(0,n.jsx)(s.View,Object.assign({accessibilityLabel:e.accessibilityLabel,importantForAccessibility:s.Types.ImportantForAccessibility.Yes,accessibilityTraits:e.accessibilityTraits,autoFocus:!1,onLayout:this._onHeaderContentLayout},{children:t}))}}if(this.props.simpleContent){const t=[T.contentText,e.contentText];this.props.leftAlignContent&&t.push(T.contentTextLeftAligned),i=(0,n.jsx)(_.BodyText,Object.assign({style:t,autoFocus:!1},{children:this.props.simpleContent}))}const a=o.map(this.props.buttons,this._renderButton),l=[T.buttonContainer];let d;if(this.props.fullScreen&&l.push(T.buttonsContainerFullSize),this.props.buttonAlignment&&this.props.buttonAlignment===r.SimpleDialogButtonAlignment.HorizontalStack&&l.push(T.horizontalButtonContainer),this.props.buttons&&this.props.buttons.length>0)if(this.props.allowScrolling&&this.state.useScrolling){const e=s.Styles.createViewStyle({height:this.state.buttonsContainerHeight});d=(0,n.jsx)(s.View,Object.assign({style:[l,b.default.flexGrowOne]},{children:(0,n.jsx)(s.ScrollView,Object.assign({style:[b.default.flexOne,e],showsVerticalScrollIndicator:!0},{children:(0,n.jsx)(s.View,Object.assign({style:l,onLayout:this._onButtonsContentLayout},{children:a}))}))}))}else d=(0,n.jsx)(s.View,Object.assign({style:l,onLayout:this._onButtonsContentLayout},{children:a}));const u=[this.props.fullScreen?b.default.flexOne:T.container,this.props.showOverflow?b.default.overflowVisible:void 0,e.containerBackground];this.props.containerStyle&&u.push(this.props.containerStyle);const g=this.props.anchor?{fillColor:y.Color.gray400,strokeColor:y.Color.gray400}:void 0;return(0,n.jsx)(f.default,Object.assign({modalWidth:this.props.maxWidth||Math.min(this.state.screenWidth-32,450),modalHeight:this.props.maxHeight||(this.props.allowScrolling&&this.state.useScrolling&&this.state.dialogHeight?this.state.screenHeight:void 0),horizontalPadding:this.props.horizontalPadding||this.props.allowScrolling?16:void 0,verticalPadding:this.props.allowScrolling?16:void 0,onClickOutside:this._onClickOutside,closeAnimationEvent:this._getCloseAnimationEvent(),fullSize:this.props.fullScreen,modalTitle:this.props.accessibilityLabel||m.getString("Global.DialogAccessibilityLabel"),anchor:this.props.anchor,popupColorInfo:g,suppressDismissalEvents:this.props.suppressModalDismissalEvents,backgroundStyle:e.containerBackground,showOverflow:this.props.showOverflow},{children:(0,n.jsxs)(s.View,Object.assign({style:u,onLayout:this._onDialogContentLayout},{children:[t,(0,n.jsxs)(s.View,Object.assign({style:[this.props.fullScreen||this.props.useFullSizeContainer?b.default.flexOne:T.contentContainer,this.props.showOverflow?b.default.overflowVisible:void 0,this.state.useScrolling?b.default.flexGrowZero:void 0]},{children:[this.props.children,i]})),d]}))}))}_getCloseAnimationEvent(){return this.props.closeAnimationEvent||this._closeAnimationEvent}_onButtonPress(e,t){e.stopPropagation(),this._completeButtonPress(t)}_completeButtonPress(e){this._buttonPressHandled||(e.onPress&&e.onPress(),this._getCloseAnimationEvent().fire((()=>{d.default.dismissModal(this.props.dialogId,this._getRootViewId(),this.props.useScopedModalId)})),this._buttonPressHandled=!0)}_checkIfScrollingNeeded(){if(this.props.allowScrolling&&this.state.screenHeight&&this.state.dialogHeight&&this.state.headerHeight){const e=this.state.screenHeight-64<=this.state.dialogHeight,t=this.state.dialogHeight-this.state.headerHeight;this.setState({useScrolling:e,buttonsContainerHeight:t})}}}t.default=k},146110:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SuggestionCommandTypes=void 0;const n=i(733754),o=i(293194);var s;!function(e){e[e.NegativeFeedback=0]="NegativeFeedback",e[e.LearnMore=1]="LearnMore"}(s=t.SuggestionCommandTypes||(t.SuggestionCommandTypes={}));const a=o.default.menuId();t.default=class{constructor(e){this._feedbackHandler=e,this._menuOptions=()=>[{text:n.getString("SwiftQuickReplyListView.TheseAreBad"),command:s[s.NegativeFeedback]},{text:n.getString("SwiftQuickReplyListView.LearnMore"),command:s[s.LearnMore]}],this._handleMenuCommand=(e,t)=>{if(e===s[s.NegativeFeedback])this._feedbackHandler()}}show(e,t,i){const s={anchor:e,useTheme:!0,popupBeakSize:{height:0,width:0},positionPriorities:["top","left"]};o.default.showWithOptions({id:a,config:s,getMenuItems:this._menuOptions,handleMenuCommand:e=>this._handleMenuCommand(e,t),menuTitle:n.getString("SwiftQuickReplyListView.SuggestionsMenuTitle"),rootViewId:t,invokingEvent:i})}}},649882:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeColorPicker=t.ThemeColorOption=void 0;const n=i(785893),o=i(496486),s=i(967593),a=i(516778),r=i(217041),l=i(10102),c=i(915877),d=i(374606),u=i(866127),g=i(733754),h=i(581760),p=(0,c.lazyProperties)({container:()=>a.Styles.createViewStyle({flexDirection:"row",flexWrap:"wrap",alignSelf:"stretch"}),colorSwatchContainer:()=>a.Styles.createViewStyle({paddingRight:6,paddingBottom:6}),colorSwatch:()=>a.Styles.createViewStyle({width:44,height:44,borderRadius:22,backgroundColor:h.Color.gray300}),checkmark:()=>a.Styles.createViewStyle({position:"absolute",right:3,bottom:3,marginRight:0})});var S;!function(e){e[e.Classic=1]="Classic",e[e.Colorful=2]="Colorful",e[e.Blue=3]="Blue",e[e.Fuschia=4]="Fuschia",e[e.Mint=5]="Mint",e[e.Orange=6]="Orange",e[e.Rose=7]="Rose",e[e.Yellow=8]="Yellow"}(S=t.ThemeColorOption||(t.ThemeColorOption={}));class m extends r.ComponentBase{constructor(){super(...arguments),this._allColors=[],this._colorSwatch=e=>{let t;e.option===S.Classic&&(t=this.props.useDarkTheme?h.Color.delphiDarkBubbleColorSelf:this.state.modernizeConversationList?h.Color.delphiBubbleColorSelfModernize:h.Color.delphiBubbleColorSelf);const i=e.option===this.props.selectedColorOption;return(0,n.jsx)(C,{themeColorInfo:e,backgroundColor:t,toggleBorderColor:i?this.props.backgroundColor:void 0,selected:i,disabled:this.props.disabled,onSelected:this._onColorSelected},"swatch"+e.option)},this._onColorSelected=e=>{this.props.onSelectColor(e.option)}}_buildState(e,t){return{modernizeConversationList:u.default.canModernizeConversationList()}}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount();const e=o.compact([S.Classic,S.Blue,S.Fuschia,S.Mint,S.Rose,S.Yellow]);this._allColors=o.map(e,(e=>({option:e,colorInfo:m.themeColorOptionToColorInfo(e),accessibilityLabel:m.accessibilityLabelForThemeColorOption(e)})))}render(){return(0,n.jsx)(a.View,Object.assign({style:[p.container,this.props.style]},{children:o.map(this._allColors,(e=>this._colorSwatch(e)))}))}static themeColorOptionToColorInfo(e){let t;switch(e){case S.Blue:t=l.SerializedColorByNumber.Blue;break;case S.Fuschia:t=l.SerializedColorByNumber.Fuschia;break;case S.Mint:t=l.SerializedColorByNumber.Mint;break;case S.Orange:t=l.SerializedColorByNumber.Orange;break;case S.Rose:t=l.SerializedColorByNumber.Rose;break;case S.Yellow:t=l.SerializedColorByNumber.Yellow;case S.Colorful:case S.Classic:}return o.isUndefined(t)?void 0:l.getColorInfoForSerializedColor(t)}static accessibilityLabelForThemeColorOption(e){switch(e){case S.Blue:return g.getString("Colors.Blue");case S.Fuschia:return g.getString("Colors.Fuschia");case S.Mint:return g.getString("Colors.Mint");case S.Orange:return g.getString("Colors.Orange");case S.Rose:return g.getString("Colors.Rose");case S.Yellow:return g.getString("Colors.Yellow");case S.Colorful:return g.getString("Colors.Multi");case S.Classic:return g.getString("Colors.Classic")}return g.getString("Colors.Custom")}}t.ThemeColorPicker=m;class C extends r.ComponentBase{constructor(){super(...arguments),this._onPress=()=>{this.props.onSelected(this.props.themeColorInfo);const e=g.getString("ColorPickerDialog.ColorWasSetAnnouncement",{color:m.accessibilityLabelForThemeColorOption(this.props.themeColorInfo.option)});a.Accessibility.announceForAccessibility(e)}}render(){let e;const t=[p.colorSwatch];this.props.backgroundColor&&t.push(a.Styles.createViewStyle({backgroundColor:this.props.backgroundColor},!1)),e=this.props.themeColorInfo.colorInfo?(0,n.jsx)(s.GradientView,{style:t,colors:this.props.themeColorInfo.colorInfo.colors,direction:s.GradientDirection.BOTTOM_RIGHT}):(0,n.jsx)(a.View,{style:t});const i=this.props.selected?(0,n.jsx)(d.default,{style:p.checkmark,selectionBorderColor:this.props.toggleBorderColor,isOn:!0}):void 0,o=[a.Types.AccessibilityTrait.Button];let r=this.props.themeColorInfo.accessibilityLabel;return this.props.disabled?(o.push(a.Types.AccessibilityTrait.Disabled),r+=", "+g.getString("AccessibilityLabel.Disabled")):this.props.selected&&(o.push(a.Types.AccessibilityTrait.Selected),r+=", "+g.getString("Global.SelectedAccessibilityLabel")),(0,n.jsxs)(a.Button,Object.assign({style:[p.colorSwatchContainer,this.props.style],accessibilityLabel:r,accessibilityTraits:o,disabled:this.props.disabled,onPress:this._onPress},{children:[e,i]}))}}t.default=m},818956:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(67930),r=i(162168),l=i(72822),c=i(746096),d=i(139285),u=i(913944),g=i(436237),h=i(915877),p=i(733754),S=i(89808),m=i(104735),C=i(330124),y=i(938980),f=i(954976),b=i(121579),_=i(285683),v=i(115489),T=i(311010),P=i(711828),k=i(680837),A=i(649882),I=i(165186),w=i(163841),x=i(418037),N=i(897634),M=i(853374),L=i(724067),O=i(767927),D=i(889391),R=i(134952),E=i(6541),B=i(891834),F=i(99634),V="light",U="dark",j="lightAccessible",H="darkAccessible",W="system",z=(0,h.lazyProperties)({title:()=>s.Styles.createTextStyle({paddingTop:16,paddingBottom:8}),colorPicker:()=>s.Styles.createViewStyle({marginBottom:4}),rowStyle:()=>s.Styles.createViewStyle({minHeight:50}),previewLabelWrapper:()=>s.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between"}),flipIcon:()=>s.Styles.createViewStyle({width:P.IconSize.default,height:P.IconSize.default}),noBorder:()=>s.Styles.createViewStyle({borderBottomWidth:0})});class G extends a.default{constructor(){super(...arguments),this._onModeSelected=e=>{var t;null===(t=this._telemetryEvent)||void 0===t||t.markDidToggleLightDarkTab();const i=N.isAccessibleTheme(this.state.currentTheme);switch(e){case V:i?this._setTheme(w.Theme.Delphi,!1):this.state.isDarkTheme?this._onLightDarkTogglePressed():this.state.useSystemTheme&&this._setTheme(this._currentTheme,!1);break;case U:i?this._setTheme(w.Theme.DelphiDark,!1):this.state.isDarkTheme?this.state.useSystemTheme&&this._setTheme(this._currentTheme,!1):this._onLightDarkTogglePressed();break;case W:this._setTheme(x.default.getSystemThemeNoSubscription(),!0);break;case j:this._setTheme(w.Theme.Accessible,!1);break;case H:this._setTheme(w.Theme.AccessibleDark,!1)}},this._onThemeColorSelected=e=>{const t=M.default.newCauseId();g.log(c.LogTraceArea.Theme,"ThemeDialog._onThemeColorSelected causeId: "+t);const i=G._themeColorOptionToTheme(e,N.isDarkTheme(this.state.currentTheme)),n=this.state.enableRefreshedPalette?(0,R.constructLegacyColorInfo)(e,(0,R.getSkypeGradients)(e,this.state.isDarkTheme?"dark":"light").secondary,(0,R.getSkypePrimaryColors)(e,this.state.isDarkTheme?"dark":"light")):A.default.themeColorOptionToColorInfo(e);i!==this.state.currentTheme&&this._setTheme(i,this.state.useSystemTheme);const o=e=>{var i;null===(i=this._remoteUserAppearanceTelemetryEvent)||void 0===i||i.setDidUpdateColorInfo(),this.state.updateImmediately?S.default.setUserColor(e,t):this.setState({userColor:e})};n?n!==this.state.userColor&&o(n):o(this.state.initialUserColor)},this._isFlippedSelected=()=>{var e;null===(e=this._remoteUserAppearanceTelemetryEvent)||void 0===e||e.setDidToggleFlipBubbleColors();const t=!this.state.isFlipped,i=M.default.newCauseId();g.log(c.LogTraceArea.Theme,"ThemeDialog._isFlippedSelected flipped: "+t+" causeId: "+i);const n=G._flipAvailableForTheme(this.state.currentTheme)&&t;this.state.updateImmediately?x.default.setFlipBubbleColors(n):this.setState({isFlipped:n})},this._onCompactListModeChange=()=>{var e;null===(e=this._remoteUserAppearanceTelemetryEvent)||void 0===e||e.setDidUpdateRecentsRowSize()},this._applyThemeChanges=()=>{const e=M.default.newCauseId();g.log(c.LogTraceArea.Theme,"ThemeDialog._commitChanges causeId: "+e),this.state.updateImmediately||(x.default.setTheme(this.state.currentTheme,this.state.useSystemTheme),S.default.setUserColor(this.state.userColor,e),x.default.setFlipBubbleColors(G._flipAvailableForTheme(this.state.currentTheme)&&this.state.isFlipped),m.default.navigateBack(e,this._getContext()),this._sendTelemetryEvent(l.DialogNavExit.Submit),s.Accessibility.announceForAccessibility(p.getString("ColorThemeDialog.ThemeAppliedAnnouncement")))},this._isDoneButtonDisabled=()=>this.state.currentTheme===this.state.initialTheme&&this.state.useSystemTheme===this.state.initialUseSystemTheme&&this.state.userColor===this.state.initialUserColor&&this.state.isFlipped===this.state.initialIsFlipped}static getHeaderText(){return p.getString("UserSettingsPanel.AppearanceButton")}_buildState(e,t){const i=x.default.colorTheme(),n={updateImmediately:this._isPresentedInDesktopModal(),systemThemeEnabled:N.systemThemeEnabled(),systemTheme:x.default.getSystemTheme(),isUsingStackNavigation:C.default.isUsingStackNavigationContext(),enableRefreshedPalette:D.default.getS4LUiFeatures().enableRefreshedPalette};if((t||n.updateImmediately)&&(n.isDarkTheme=x.default.isDarkTheme(),n.useSystemTheme=x.default.shouldUseSystemTheme(),n.currentTheme=i,n.userColor=S.default.getColorInfo(!0),n.isFlipped=x.default.flipBubbleColors()),t)n.initialTheme=n.currentTheme,n.initialUserColor=n.userColor,n.initialIsFlipped=n.isFlipped,n.initialUseSystemTheme=n.useSystemTheme,this._setupTelemetryEvents(e);else if(!n.updateImmediately&&this.state.systemTheme!==n.systemTheme){const e=x.default.previewThemeNoSubscription();this.state.initialUseSystemTheme?(n.initialTheme=i,e||(n.isDarkTheme=x.default.isDarkThemeNoSubscription(),n.currentTheme=i)):this.state.useSystemTheme&&e&&(n.isDarkTheme=N.isDarkTheme(n.systemTheme),n.currentTheme=n.systemTheme,x.default.setPreviewTheme(n.currentTheme))}return n}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i);const n=N.isDarkTheme(this.state.currentTheme);if(n!==N.isDarkTheme(t.currentTheme)){const e=p.getString(n?"ColorThemeDialog.SelectedDarkToggleTitleAccessible":"ColorThemeDialog.SelectedLightToggleTitleAccessible");s.Accessibility.announceForAccessibility(e)}const o=N.isAccessibleTheme(this.state.currentTheme);if(o!==N.isAccessibleTheme(t.currentTheme)){const e=p.getString(o?"ColorThemeDialog.SelectedHighContrastTitleAccessible":"ColorThemeDialog.DeselectedHighContrastTitleAccessible");s.Accessibility.announceForAccessibility(e)}}componentWillUnmount(){super.componentWillUnmount(),x.default.setPreviewTheme(void 0),this._sendTelemetryEvent(l.DialogNavExit.CancelOrBack)}_setupTelemetryEvents(e){this._telemetryEvent=new v.ThemeEvent(e.origin),this._remoteUserAppearanceTelemetryEvent=new b.RemoteUserAppearanceTelemetryEvent}_getHeaderText(e){return G.getHeaderText()}_componentId(){return"ThemeDialogV2"}_onLightDarkTogglePressed(){this._setTheme(N.matchingLightOrDarkTheme(this.state.currentTheme),!1)}_setTheme(e,t){const i=void 0!==t;this._remoteUserAppearanceTelemetryEvent&&(e!==this.state.currentTheme&&this._remoteUserAppearanceTelemetryEvent.setDidUpdateColorTheme(),t&&this._remoteUserAppearanceTelemetryEvent.setDidToggleSystemTheme());const n=N.isDarkTheme(e);if(this.state.updateImmediately)x.default.setTheme(e,!!t),this.state.enableRefreshedPalette&&S.default.setUserColor(this._constructUserColor(n),M.default.newCauseId());else{const o={currentTheme:e,isDarkTheme:n};i&&(o.useSystemTheme=!!t),this.state.enableRefreshedPalette&&(o.userColor=this._constructUserColor(n)),this.setState(o),o.currentTheme===this.state.initialTheme&&o.useSystemTheme===this.state.initialUseSystemTheme?x.default.setPreviewTheme(void 0):x.default.setPreviewTheme(e)}}_constructUserColor(e){const{secondary:t}=(0,R.getSkypeGradients)(this.state.userColor.key,e?"dark":"light");return(0,R.constructLegacyColorInfo)(this.state.userColor.key,t,(0,R.getSkypePrimaryColors)(this.state.userColor.key,e?"dark":"light"))}_sendTelemetryEvent(e){if(this._telemetryEvent){this._telemetryEvent.setMode(function(e,t){switch(e){case w.Theme.Delphi:case w.Theme.Mono:return t?"systemLight":"light";case w.Theme.DelphiDark:case w.Theme.MonoDark:return t?"systemDark":"dark";case w.Theme.Accessible:return"highContrastLight";case w.Theme.AccessibleDark:return"highContrastDark";default:return"unknown"}}(this.state.currentTheme,this.state.useSystemTheme)),this._telemetryEvent.setUserColor(this.state.userColor.key),this._telemetryEvent.setExit(e);const t=e===l.DialogNavExit.Submit||this.state.updateImmediately;this.state.initialTheme!==this.state.currentTheme&&t&&this._telemetryEvent.markDidSelectNewTheme(),this._telemetryEvent.setFinalTheme(t?this.state.currentTheme:this.state.initialTheme),y.default.track(this._telemetryEvent),this._telemetryEvent=void 0}this._remoteUserAppearanceTelemetryEvent&&(g.track(this._remoteUserAppearanceTelemetryEvent),this._remoteUserAppearanceTelemetryEvent=void 0)}_getApplyButton(){return{onPress:this._applyThemeChanges,disabled:this._isDoneButtonDisabled(),text:p.getString("Global.ApplyButtonTitle"),accessibilityLabel:p.getString("Global.ApplyButtonTitle")}}render(){var e,t;const i=N.isAccessibleTheme(this.state.currentTheme);let a;const l=function(e,t,i){if(e&&"classic"===t)return!1;return i}(this.state.enableRefreshedPalette,i?"highContrast":null===(e=this.state.userColor)||void 0===e?void 0:e.key,G._flipAvailableForTheme(this.state.currentTheme));l&&(a=(0,n.jsx)(u.default,{icon:P.SkypeIcon.PreviousNext,style:void 0,size:P.IconSize.size18,color:this._themeColors.secondaryTextColor,hoverColor:this._themeColors.iconHoverColor,title:p.getString("ColorThemeDialog.ReverseThemeTitle"),onPress:this._isFlippedSelected}));let c=(0,n.jsx)(_.SectionTitle,{title:p.getString("ColorThemeDialog.PreviewUpper"),titleStyles:z.title},"previewTitle");a&&(c=(0,n.jsxs)(s.View,Object.assign({style:z.previewLabelWrapper},{children:[c,a]})));const g=(0,n.jsx)(_.SectionTitle,{title:p.getString("ColorThemeDialog.ColorUpper"),titleStyles:z.title},"colorTitle"),h=(0,n.jsx)(_.SectionTitle,{title:p.getString("ColorThemeDialog.ModesUpper"),titleStyles:z.title},"themeTitle"),S=(0,n.jsx)(_.SectionTitle,{title:p.getString("ColorThemeDialog.AccessibleModesUpper"),titleStyles:z.title},"accessibleThemeTitle"),m=(0,n.jsx)(r.default,{titleStyles:z.title,hideBottomBorder:!0,onChangeListMode:this._onCompactListModeChange}),C=(0,n.jsx)(B.default,{titleStyles:z.title}),y=(0,n.jsx)(F.default,{titleStyles:z.title}),b=(0,o.compact)([{key:V,text:p.getString("ColorThemeDialog.LightToggleTitle")},{key:U,text:p.getString("ColorThemeDialog.DarkToggleTitle")},this.state.systemThemeEnabled?{key:W,text:p.getString("ColorThemeDialog.SystemModeLabel")}:void 0]),v=i?void 0:this.state.useSystemTheme?W:this.state.isDarkTheme?U:V,x=(0,n.jsx)(f.default,{radioButtons:b,selectedKey:v,rowStyle:z.rowStyle,textStyle:T.default.rowTitleFontStyle(this._currentTheme),dividerType:f.DividerType.Between,disableSelectionAnimation:!0,onSelected:this._onModeSelected,fullWidth:!0}),M=(0,o.compact)([{key:j,text:p.getString("ColorThemeDialog.HighContrastLight")},N.isAccessibleTheme(w.Theme.AccessibleDark)?{key:H,text:p.getString("ColorThemeDialog.HighContrastDark")}:void 0]),D=i?this.state.isDarkTheme?H:j:void 0,R=(0,n.jsx)(f.default,{radioButtons:M,selectedKey:D,rowStyle:z.rowStyle,textStyle:T.default.rowTitleFontStyle(this._currentTheme),dividerType:f.DividerType.Between,disableSelectionAnimation:!0,onSelected:this._onModeSelected,fullWidth:!0}),K=(0,n.jsx)(d.default,Object.assign({style:l?k.default.pointerCursor:void 0,onPress:l?this._isFlippedSelected:void 0,activeOpacity:.8},{children:this.state.enableRefreshedPalette?(0,n.jsx)(E.ThemePreview,{userColor:i?"highContrast":null===(t=this.state.userColor)||void 0===t?void 0:t.key,mode:this.state.isDarkTheme?"dark":"light",isFlipped:l&&this.state.isFlipped}):(0,n.jsx)(I.default,{colorTheme:this.state.currentTheme,userColor:this.state.userColor,isFlipped:this.state.isFlipped},this.state.currentTheme)})),q=N.isAccessibleTheme(this.state.currentTheme)?void 0:G._themeToThemeColorOption(this.state.currentTheme,this.state.userColor),Q=this.state.enableRefreshedPalette?(0,n.jsx)(E.UserColorPicker,{selectedColorOption:this.state.userColor.key,onSelectColor:this._onThemeColorSelected,isDisabled:i,mode:this.state.isDarkTheme?"dark":"light"}):(0,n.jsx)(A.default,{style:z.colorPicker,useDarkTheme:this.state.isDarkTheme,disabled:i,backgroundColor:this._themeColors.primaryBackgroundColor,selectedColorOption:q,onSelectColor:this._onThemeColorSelected}),X=this.state.isUsingStackNavigation?(0,n.jsx)(L.default,{button:this._getApplyButton()}):void 0;return(0,n.jsxs)(O.default,Object.assign({footer:X},{children:[c,K,g,Q,h,x,S,R,y,m,C]}))}static _flipAvailableForTheme(e){return N.isMonoTheme(e)}static _themeColorOptionToTheme(e,t){switch(e){case A.ThemeColorOption.Classic:return t?w.Theme.DelphiDark:w.Theme.Delphi;case A.ThemeColorOption.Colorful:return t?w.Theme.ColorfulDark:w.Theme.Colorful;default:return t?w.Theme.MonoDark:w.Theme.Mono}}static _themeToThemeColorOption(e,t){switch(e){case w.Theme.DelphiDark:case w.Theme.Delphi:return A.ThemeColorOption.Classic;case w.Theme.ColorfulDark:case w.Theme.Colorful:return A.ThemeColorOption.Colorful}if(t)switch(t.key){case"blue":return A.ThemeColorOption.Blue;case"fuschia":return A.ThemeColorOption.Fuschia;case"mint":return A.ThemeColorOption.Mint;case"orange":return A.ThemeColorOption.Orange;case"rose":return A.ThemeColorOption.Rose;case"yellow":return A.ThemeColorOption.Yellow}}}t.default=G},165186:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThemePage=void 0;const n=i(785893),o=i(496486),s=i(967593),a=i(516778),r=i(10102),l=i(677381),c=i(139285),d=i(915877),u=i(733754),g=i(330124),h=i(866127),p=i(29130),S=i(536150),m=i(581760),C=i(600212),y=i(619675),f=i(897634),b=(0,d.lazyProperties)({pageInner:()=>a.Styles.createViewStyle({flex:1,borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:20,borderBottomRightRadius:20,backgroundColor:m.Color.white,alignItems:"center",paddingTop:25,paddingBottom:25,borderWidth:1,borderStyle:"solid",borderColor:m.Color.transparent}),pageInnerCompact:()=>a.Styles.createViewStyle({borderTopLeftRadius:10,borderTopRightRadius:10,borderBottomLeftRadius:10,borderBottomRightRadius:10,paddingTop:10,paddingBottom:6,borderWidth:1}),bubble:()=>a.Styles.createViewStyle({backgroundColor:m.Color.gray400,borderTopRightRadius:10,borderBottomLeftRadius:10,borderBottomRightRadius:10,padding:13,alignSelf:"flex-start",marginBottom:4,marginLeft:20,marginRight:50}),bubbleCompact:()=>a.Styles.createViewStyle({marginLeft:10}),bubbleSelf:()=>a.Styles.createViewStyle({backgroundColor:m.Color.gray50,borderTopLeftRadius:10,borderTopRightRadius:10,borderBottomLeftRadius:10,padding:13,alignSelf:"flex-end",marginBottom:4,marginRight:30,marginLeft:20}),bubbleSelfCompact:()=>a.Styles.createViewStyle({marginRight:10}),bubbleWithGradient:()=>a.Styles.createViewStyle({backgroundColor:m.Color.transparent}),bubbleWithSmallerPadding:()=>a.Styles.createViewStyle({padding:10}),bubbleRTL:()=>a.Styles.createViewStyle({borderTopRightRadius:0,borderTopLeftRadius:10,borderBottomRightRadius:10,borderBottomLeftRadius:10}),bubbleSelfRTL:()=>a.Styles.createViewStyle({borderBottomLeftRadius:0,borderTopRightRadius:10,borderTopLeftRadius:10,borderBottomRightRadius:10}),gradient:()=>a.Styles.createViewStyle({position:"absolute",top:0,left:0,right:0,bottom:0,borderTopRightRadius:10,borderBottomLeftRadius:10,borderBottomRightRadius:10}),gradientSelf:()=>a.Styles.createViewStyle({position:"absolute",top:0,left:0,right:0,bottom:0,borderTopLeftRadius:10,borderTopRightRadius:10,borderBottomLeftRadius:10}),bubbleText:()=>a.Styles.createTextStyle({color:m.Color.white,backgroundColor:m.Color.transparent})});class _ extends l.default{constructor(){super(...arguments),this._bubbleText=(e,t)=>{let i;return 0===t?i="ColorThemeDialog.ClassicThemeBubble1":1===t?i="ColorThemeDialog.ClassicThemeBubble2":2===t?i="ColorThemeDialog.ClassicThemeBubble3":3===t&&(i="ColorThemeDialog.ClassicThemeBubble4"),i?u.getString(i):""},this._renderBubble=(e,t)=>{const i=C.default.themeStylesForTheme(this.props.colorTheme),o=[e.fromSelf?b.bubbleSelf:b.bubble],a=[e.fromSelf?b.gradientSelf:b.gradient];let r;o.push(e.fromSelf?b.bubbleSelfCompact:b.bubbleCompact),this._getContext().isRTL&&(o.push(e.fromSelf?b.bubbleSelfRTL:b.bubbleRTL),a.push(e.fromSelf?b.bubbleSelfRTL:b.bubbleRTL));const l=e.fromSelf&&!e.isFlipped||!e.fromSelf&&e.isFlipped;l&&i.bubbleColorSelfStyle&&!this.state.modernizeConversationList?o.push(i.bubbleColorSelfStyle):l&&i.bubbleColorSelfStyleModernize&&this.state.modernizeConversationList?o.push(i.bubbleColorSelfStyleModernize):i.bubbleColorOtherStyle?o.push(i.bubbleColorOtherStyle):e.gradientColors&&(o.push(b.bubbleWithGradient),r=(0,n.jsx)(s.GradientView,{style:a,colors:e.gradientColors,direction:s.GradientDirection.RIGHT})),this.state.useSmallPaddingBubbles&&o.push(b.bubbleWithSmallerPadding);const d=[b.bubbleText];return l&&i.bubbleTextColorSelfStyle?d.push(i.bubbleTextColorSelfStyle):i.bubbleTextColorOtherStyle&&d.push(i.bubbleTextColorOtherStyle),(0,n.jsxs)(c.default,Object.assign({style:o},{children:[r,(0,n.jsx)(y.BodyText,Object.assign({style:d,allowFontScaling:!1},{children:e.text}))]}),"bubble"+t)}}_buildState(e,t){const i={isMobileScreenReaderEnabled:S.default.isMobileScreenReaderEnabled(),isUsingStackNavigationContext:g.default.isUsingStackNavigationContext(),useSmallPaddingBubbles:p.default.isHeightSmallerThanThreshold(630,this._getRootViewId()),modernizeConversationList:h.default.canModernizeConversationList()};return t&&this._initColorPages(e,i),i}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),this._initColorPages(e,t)}_initColorPages(e,t){const i=f.isMonoTheme(e.colorTheme),n=e.isFlipped&&i,s=i?r.gradientColorsForColorInfo(e.userColor):void 0;this._bubbleTextConfigs=[{text:this._bubbleText(e,0),gradientColors:s||r.gradientColorsForSerializedColor(r.SerializedColorByNumber.Yellow),isFlipped:n},{text:this._bubbleText(e,1),gradientColors:s||r.gradientColorsForSerializedColor(r.SerializedColorByNumber.Fuschia),isFlipped:n},{text:this._bubbleText(e,2),fromSelf:!0,gradientColors:s,isFlipped:n},{text:this._bubbleText(e,3),gradientColors:s||r.gradientColorsForSerializedColor(r.SerializedColorByNumber.Mint),isFlipped:n}];let a=3;p.default.isHeightSmallerThanThresholdNoSubscription(630,this._getRootViewId())&&(a=Math.min(a,this._bubbleTextConfigs.length-1)),this._bubbleTextConfigs=o.take(this._bubbleTextConfigs,a)}render(){const e=C.default.themeStylesForTheme(this.props.colorTheme),t=this.props.pageWidth?a.Styles.createViewStyle({width:this.props.pageWidth-5},!1):void 0,i=[b.pageInner,t,e.messageStreamBackgroundColorStyle,e.dividerBorderColorStyle,b.pageInnerCompact];return(0,n.jsx)(c.default,Object.assign({style:this.props.style,accessibilityLabel:f.getAccessibilityLabel(this.props.colorTheme),onPress:this.state.isMobileScreenReaderEnabled?this.props.onSelectedThemePress:void 0,tabIndex:-1},{children:(0,n.jsx)(c.default,Object.assign({style:i},{children:o.map(this._bubbleTextConfigs,this._renderBubble)}))}))}}t.ThemePage=_,t.default=_},374434:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(705465),s=i(967593),a=i(281878),r=i(374606),l=i(347796),c=i(510159);t.default=function(e){const t=(0,l.useSwatchStyles)(e.colorKey,e.mode),i=(0,c.useSwatchAccessibilityLabel)(e.accessibilityLabel,e.isDisabled,e.isSelected);return(0,n.jsx)(a.Box,Object.assign({padding:"1"},{children:(0,n.jsxs)(o.Pressable,Object.assign({onPress:()=>e.onPress(e.colorKey),disabled:e.isDisabled,accessibilityRole:"button",accessibilityLabel:i},{children:[(0,n.jsx)(s.GradientView,{style:t.gradient,colors:e.colors,direction:s.GradientDirection.BOTTOM_RIGHT}),e.isSelected&&!e.isDisabled?(0,n.jsx)(r.default,{style:t.checkmark,isOn:!0}):null]}))}))}},689278:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Message=void 0;const n=i(785893),o=i(281878),s=i(134952),a=i(619675),r=i(549886);t.Message=function(e){const{fromCurrentUser:t,userColor:i,mode:l,isFlipped:c,text:d}=e,{styles:u,bubbleRadius:g}=(0,r.useMessageStyles)(t,i,l),{surfaceSecondary:h,dividerPrimary:p,bubble:S}=(0,s.getSkypeColors)(i,l),m="highContrast"===i?p:void 0,C="highContrast"===i?1:0,y=t?"flex-end":"flex-start",f=function(e,t){return e&&!t||!e&&t}(t,c)?S:h;return(0,n.jsx)(o.Box,Object.assign({importantForAccessibility:"no-hide-descendants",alignSelf:y,backgroundColor:f,borderColor:m,borderWidth:C,padding:"3"},g,{children:(0,n.jsx)(a.BodyText,Object.assign({style:u.text,allowFontScaling:!1},{children:d}))}))}},821686:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(281878),s=i(689278),a=i(134952),r=i(733754),l=["ColorThemeDialog.ClassicThemeBubble1","ColorThemeDialog.ClassicThemeBubble2","ColorThemeDialog.ClassicThemeBubble3"];t.default=function(e){const{surfacePrimary:t,dividerPrimary:i}=(0,a.getSkypeColors)(e.userColor,e.mode);return(0,n.jsx)(o.Column,Object.assign({space:"2",padding:"3",backgroundColor:t,borderRadius:"8",borderWidth:"1",borderColor:i},{children:l.map(((t,i)=>(0,n.jsx)(s.Message,{text:(0,r.getString)(t),fromCurrentUser:i>1,userColor:e.userColor,mode:e.mode,isFlipped:e.isFlipped},`message-${i}`)))}))}},135300:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(667294),s=i(281878),a=i(134952),r=i(733754),l=i(374434),c=["blue","orange","yellow","green","teal","indigo","purple","pink","classic"];t.default=(0,o.memo)((function(e){const t=c.map((t=>function(e,t){const{bubble:i}=(0,a.getSkypeColors)(t,e);return{key:t,colors:[i,i],accessibilityLabel:(0,r.getString)(d[t])}}(e.mode,t))),i=t=>e.onSelectColor(t);return(0,n.jsx)(s.Row,Object.assign({flexWrap:"wrap"},{children:t.map((t=>(0,n.jsx)(l.default,{colorKey:t.key,mode:e.mode,accessibilityLabel:t.accessibilityLabel,colors:t.colors,isDisabled:e.isDisabled,isSelected:t.key===e.selectedColorOption,onPress:i},t.key)))}))}));const d={classic:"Colors.Classic",blue:"Colors.Blue",orange:"Colors.Orange",yellow:"Colors.Yellow",green:"Colors.Green",teal:"Colors.Teal",indigo:"Colors.Indigo",purple:"Colors.Purple",pink:"Colors.Pink"}},6541:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserColorPicker=t.ThemePreview=void 0;var n=i(821686);Object.defineProperty(t,"ThemePreview",{enumerable:!0,get:function(){return n.default}});var o=i(135300);Object.defineProperty(t,"UserColorPicker",{enumerable:!0,get:function(){return o.default}})},549886:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useMessageStyles=void 0;const n=i(667294),o=i(516778),s=i(134952),a=i(512193);t.useMessageStyles=function(e,t,i){const r=(0,n.useMemo)((()=>({borderTopLeftRadius:e?8:0,borderTopRightRadius:8,borderBottomLeftRadius:8,borderBottomRightRadius:e?0:8})),[e]);return{styles:(0,a.useRXStyles)((()=>({text:o.Styles.createTextStyle({color:(0,s.getSkypeColors)(t,i).textPrimary},!1),gradient:o.Styles.createViewStyle(Object.assign({position:"absolute",top:0,left:0,right:0,bottom:0},r),!1)})),[r,i,t]),bubbleRadius:r}}},510159:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSwatchAccessibilityLabel=void 0;const n=i(667294),o=i(733754);t.useSwatchAccessibilityLabel=function(e,t,i){return(0,n.useMemo)((()=>function(e,t,i){let n=e;return t?n+=", "+o.getString("AccessibilityLabel.Disabled"):i&&(n+=", "+o.getString("Global.SelectedAccessibilityLabel")),n}(e,t,i)),[e,t,i])}},347796:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSwatchStyles=void 0;const n=i(516778),o=i(134952),s=i(512193);t.useSwatchStyles=function(e,t){return(0,s.useRXStyles)((i=>({checkmark:n.Styles.createViewStyle({position:"absolute",right:0,bottom:0,marginRight:0},!1),gradient:n.Styles.createViewStyle({width:44,height:44,borderRadius:22,borderWidth:1,borderColor:(0,o.getSkypeColors)(e,t).strokeAccent,backgroundColor:i.themeColors.surfaceSecondary},!1)})),[e,t])}},559248:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeThumbnail=t.ThumbnailSize=void 0;const n=i(785893),o=i(516778),s=i(217041),a=i(915877),r=i(374606),l=i(581760),c=i(680837),d=i(866127);!function(e){e[e.Default=0]="Default",e[e.Small=1]="Small"}(t.ThumbnailSize||(t.ThumbnailSize={}));const u=(0,a.lazyProperties)({thumbnail:()=>o.Styles.createViewStyle({width:130,height:130,borderRadius:10,borderWidth:2,borderColor:l.Color.transparent,paddingHorizontal:10,paddingVertical:24,justifyContent:"space-between",overflow:"visible"}),thumbnailCompact:()=>o.Styles.createViewStyle({width:110,height:110,paddingVertical:14}),thumbnailLight:()=>o.Styles.createViewStyle({backgroundColor:l.Color.white,borderColor:l.Color.gray200}),thumbnailDark:()=>o.Styles.createViewStyle({backgroundColor:l.Color.black}),selectedThumbnail:()=>o.Styles.createViewStyle({borderColor:l.Color.blue}),bubble:()=>o.Styles.createViewStyle({height:21,width:80,borderRadius:4,backgroundColor:l.Color.delphiBubbleColorOther}),bubbleCompact:()=>o.Styles.createViewStyle({width:67}),bubbleWide:()=>o.Styles.createViewStyle({width:90}),bubbleAccessible:()=>o.Styles.createViewStyle({backgroundColor:l.Color.gray400}),bubbleDark:()=>o.Styles.createViewStyle({backgroundColor:l.Color.delphiDarkBubbleColorOther}),bubbleAccessibleDark:()=>o.Styles.createViewStyle({backgroundColor:l.Color.white}),myBubble:()=>o.Styles.createViewStyle({alignSelf:"flex-end",backgroundColor:l.Color.delphiBubbleColorSelf}),myBubbleModernize:()=>o.Styles.createViewStyle({alignSelf:"flex-end",backgroundColor:l.Color.delphiBubbleColorSelfModernize}),myBubbleAccessible:()=>o.Styles.createViewStyle({backgroundColor:l.Color.gray50}),myBubbleDark:()=>o.Styles.createViewStyle({backgroundColor:l.Color.delphiDarkBubbleColorSelf}),myBubbleAccessibleDark:()=>o.Styles.createViewStyle({backgroundColor:l.Color.gray400}),toggle:()=>o.Styles.createViewStyle({position:"absolute",top:-9,right:-9,marginRight:0})});class g extends s.ComponentBase{_buildState(e,t){return{modernizeConversationList:d.default.canModernizeConversationList()}}render(){const e=[u.thumbnail,this.props.compact?u.thumbnailCompact:void 0,this.props.dark?u.thumbnailDark:u.thumbnailLight,this.props.selected?u.selectedThumbnail:void 0],t=[this._renderBubble(0),this._renderBubble(1),this._renderBubble(2)],i=this.props.selected?(0,n.jsx)(r.default,{style:u.toggle,isOn:!0,selectionColor:l.Color.blue,colorThemeOverride:this.props.colorThemeOverride,importantForAccessibility:o.Types.ImportantForAccessibility.NoHideDescendants}):void 0;return(0,n.jsxs)(o.View,Object.assign({style:[c.default.overflowVisible,this.props.style]},{children:[(0,n.jsx)(o.Button,Object.assign({style:e,importantForAccessibility:this.props.importantForAccessibility,accessibilityLabel:this.props.accessibilityLabel,accessibilityTraits:this.props.accessibilityTraits,tabIndex:this.props.tabIndex,activeOpacity:.8,onPress:this.props.onPress},{children:t})),i]}))}_renderBubble(e){const t=[u.bubble];return 1===e?this.state.modernizeConversationList?t.push(u.myBubbleModernize):t.push(u.myBubble):2===e&&t.push(u.bubbleWide),this.props.compact&&t.push(u.bubbleCompact),this.props.highContrast?1===e?t.push(this.props.dark?u.myBubbleAccessibleDark:u.myBubbleAccessible):t.push(this.props.dark?u.bubbleAccessibleDark:u.bubbleAccessible):this.props.dark&&t.push(1===e?u.myBubbleDark:u.bubbleDark),(0,n.jsx)(o.View,{style:t},"bubble"+e)}}t.ThemeThumbnail=g,t.default=g},561920:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(219784),a=i(677381),r=i(437490),l=i(733754),c=i(619675),d=i(915877),u=i(311010),g=i(104735),h=(0,d.lazyProperties)({contentText:()=>o.Styles.createTextStyle({textAlign:"center",paddingVertical:16}),actionLabelText:()=>o.Styles.createTextStyle({textDecorationLine:"underline"})});class p extends a.default{static show(e,t){r.dismissAll();const i=l.getString("FollowingTabUnavailable.DialogTitle"),a=t?l.getString("FollowingTabUnavailable.DialogBody"):l.getString("FollowingTabUnavailable.DialogBodyNoInterests"),d=t?l.getString("FollowingTabUnavailable.DialogActionLabel"):null,p=(0,n.jsxs)(c.BodyText,Object.assign({style:h.contentText,autoFocus:!1},{children:[a,(0,n.jsx)(o.Text,Object.assign({style:[h.actionLabelText,u.default.font.uiDisplayBold],onPress:()=>{g.default.navigateToTodayTabInterestsPanel(e)}},{children:d}))]})),S=[{text:l.getString("Global.OkLabel"),onPress:()=>{}}];return s.default.showCustomAlertWithOptions({rootViewId:e,buttons:S,accessibilityTitle:i,dialogTitle:i,dialogText:"",content:p})}}t.default=p},539320:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(217041),a=i(915877),r=i(733754),l=i(581760),c=i(311010),d=(0,a.lazyProperties)({newLabel:()=>o.Styles.createViewStyle({backgroundColor:l.Color.red,paddingHorizontal:6,borderRadius:8}),newLabelText:()=>o.Styles.createTextStyle({color:l.Color.white,fontSize:c.default.controlFontSize.smallBadge,font:c.default.font.uiDisplayBold})});class u extends s.ComponentBase{render(){return(0,n.jsx)(o.View,Object.assign({style:[d.newLabel,this.props.style]},{children:(0,n.jsx)(o.Text,Object.assign({style:[d.newLabelText]},{children:r.getString("Global.NewIndicatorUpper")}))}))}}t.default=u},858115:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(398293),a=i(351077),r=i(671830),l=i(822854),c=i(770891),d=i(110117),u=i(915877),g=i(733754),h=i(723752),p=i(106658),S=i(581760),m=i(311010),C=i(711828),y=i(619675),f=i(702301),b=i(567977),_=p.messageTextLineHeight,v=(0,u.lazyProperties)({toastContentContainer:()=>o.Styles.createViewStyle({flexDirection:"row",alignSelf:"stretch",alignItems:"flex-start",justifyContent:"flex-start",paddingHorizontal:10}),toastTextContentContainer:()=>o.Styles.createViewStyle({flex:1,alignItems:"center",justifyContent:"center",marginTop:10,marginHorizontal:10}),toastContent:()=>o.Styles.createViewStyle({flex:1,marginLeft:12,alignSelf:"stretch",justifyContent:"center"}),toastTitle:()=>o.Styles.createTextStyle({color:S.Color.white}),toastMessageContentContainer:()=>o.Styles.createViewStyle({marginTop:2,alignSelf:"stretch",height:_}),toastLastMessageOverrideText:()=>o.Styles.createTextStyle({flex:1,lineHeight:_,color:S.Color.white}),toastTextContainer:()=>o.Styles.createTextStyle({color:S.Color.white,textAlign:"center",backgroundColor:S.Color.transparent}),iconContainer:()=>o.Styles.createViewStyle({height:12,width:17})});class T extends s.default{_renderNotificationContent(){if(!this.state.currentMessage&&!this.state.messageText)return;let e;if(this.state.currentMessage){const t=[m.default.fontStyle.body,v.toastLastMessageOverrideText],i=o.Styles.combine({},t),s={processing:c.ProcessingDefaults.Preview,trimToFirstLine:!0,forceLayoutInRTL:!0,allowLargeEmoticons:!1,renderMedia:!1,mediaPlaceholderIconColor:S.Color.white,numberOfLines:1,message:this.state.currentMessage,textOverrideStyle:i,atMentionStyle:i,atMentionMeOverrideStyle:i,renderSimpleAtMentions:!0};e=(0,n.jsxs)(o.View,Object.assign({style:v.toastContent},{children:[(0,n.jsx)(y.RowTitle,Object.assign({style:v.toastTitle,numberOfLines:1},{children:this.state.headerText})),this._getLastMessageContent(s)]}))}else this.state.messageText&&(e=(0,n.jsx)(o.View,Object.assign({style:v.toastTextContentContainer},{children:(0,n.jsx)(y.BodyText,Object.assign({bold:!0,style:v.toastTextContainer},{children:this.state.messageText}))})));return(0,n.jsxs)(o.View,Object.assign({style:v.toastContentContainer},{children:[this._getNotificationIcon(),e]}))}_getNotificationIcon(){return this.state.toastCreator?(0,n.jsx)(f.UserIcon,{userMri:this.state.toastCreator,size:b.UserIconSize.Size40,useCircleForAgentMask:!0},"userIcon"):this.state.conversationId?(0,n.jsx)(l.ConversationIcon,{conversationId:this.state.conversationId,size:b.ConversationIconSize.Size40}):void 0}_getLastMessageContent(e){if(this.state.currentMessage){let t;if(r.isEncryptedThread(this.state.currentMessage.conversationId))t=(0,n.jsx)(y.BodyText,Object.assign({style:v.toastTitle},{children:g.getString("Notifications.E2eeTextNotificationLabel")}));else if(a.isScheduledCallType(this.state.currentMessage.messagetype)){let e;this.state.messageTextIcon&&(e=(0,n.jsx)(o.View,Object.assign({style:v.iconContainer},{children:(0,n.jsx)(d.IconView,{color:S.Color.white,size:C.IconSize.size12,icon:this.state.messageTextIcon})}),"placeholderIcon")),t=(0,n.jsxs)(y.BodyText,Object.assign({style:v.toastTitle,numberOfLines:1},{children:[e,this.state.messageText]}))}else t=(0,n.jsx)(h.default,{message:this.state.currentMessage,options:e});return(0,n.jsx)(o.View,Object.assign({style:v.toastMessageContentContainer},{children:t}))}}}t.default=T},385639:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationPermissionPromptActionButton=void 0;const n=i(785893),o=i(823113),s=i(390535),a=i(516778),r=i(217041),l=i(300060),c=i(898278),d=i(746096),u=i(436237),g=i(915877),h=i(888553),p=i(729143),S=i(581736),m=i(22222),C=i(581760),y=i(311010),f=i(478262),b=(0,g.lazyProperties)({buttonTextStyle:()=>a.Styles.createTextStyle({fontSize:y.default.controlFontSize.smallButton})});class _ extends r.ComponentBase{constructor(){super(...arguments),this._displayTracked=!1,this._pressed=!1,this._onPress=()=>{this._pressed=!0;const e=S.default.permissionStatus(f.PermissionType.Notifications);o.PermissionStatus.Granted,this._log("permission "+o.PermissionStatus[e]+", prompting"),h.default.initNotificationsAndRequestPermissions().then((e=>{this._onAttemptToChangeNotificationPermissionStatus(e?o.PermissionStatus.Granted:o.PermissionStatus.Denied),e||this._launchSettings()}),this._handlePermissionRequestFailure)},this._handlePermissionRequestFailure=()=>{this._log("NotificationQueueService initialization failed"),this.props.onNotificationPermissionRequestFailed&&this.props.onNotificationPermissionRequestFailed(),this._launchSettings()}}componentDidMount(){super.componentDidMount(),o.default.notificationsPermissionStatus().then((e=>this._status=e)),this._activationSubscription=l.default.subscribeForChanges("NotificationPermissionPromptActionButton",(e=>{switch(e){case a.Types.AppActivationState.Background:this._appBackgrounded=!0;break;case a.Types.AppActivationState.Active:this._appBackgrounded&&(this._appBackgrounded=!1,o.default.notificationsPermissionStatus().then((e=>{this._onAttemptToChangeNotificationPermissionStatus(e)})))}})),this._displayTracked||(u.track(new p.NotificationsPromptDisplayed(this.props.origin)),this._displayTracked=!0)}componentWillUnmount(){super.componentWillUnmount(),this._activationSubscription&&(this._activationSubscription.unsubscribe(),this._activationSubscription=void 0)}render(){var e;return(0,n.jsx)(m.default,{buttonSize:c.SXButtonSize.Small,buttonStyle:c.SXButtonStyle.Custom,textStyleDeprecated:this.props.textStyle||b.buttonTextStyle,style:this.props.style,title:this.props.title,allowTextWrap:!0,buttonConfig:this._getButtonConfig(),onPress:null!==(e=this.props.onPress)&&void 0!==e?e:this._onPress})}_getButtonConfig(){return this.props.buttonConfig?this.props.buttonConfig:{textColor:C.Color.black,backgroundColor:C.Color.white}}_onAttemptToChangeNotificationPermissionStatus(e){this._log("notification permission status changed: "+o.PermissionStatus[e]),this._openSettingsEvent?(e===o.PermissionStatus.Granted&&this._openSettingsEvent.enabledNotifications(),u.track(this._openSettingsEvent),this._openSettingsEvent=void 0,S.default.setPermissionStatus(f.PermissionType.Notifications,e,e,o.PermissionOrigin.NotificationPrompt)):e===o.PermissionStatus.Granted&&S.default.setPermissionStatus(f.PermissionType.Notifications,e,e,o.PermissionOrigin.NotificationPromptExternal),this._status===e&&this._pressed&&(this._pressed=!1),this.props.onAttemptToChangeNotificationPermissionStatus&&this.props.onAttemptToChangeNotificationPermissionStatus(e)}_launchSettings(){this._openSettingsEvent=new p.NotificationsPromptSettingsOpened(this.props.origin),s.default.openAppNotificationsSettings()}_log(e){u.log(d.LogTraceArea.Permissions,"NotificationPermissionPromptActionButton in "+p.NotificationPromptOrigin[this.props.origin]+" area: "+e)}}t.NotificationPermissionPromptActionButton=_},446068:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(809206),s=i(583367),a=i(823113),r=i(516778),l=i(281878),c=i(913944),d=i(110117),u=i(436237),g=i(915877),h=i(733754),p=i(385639),S=i(729143),m=i(581736),C=i(29130),y=i(889391),f=i(581760),b=i(311010),_=i(711828),v=i(478262),T=i(360305),P=i(619675),k=i(24576),A=i(680837),I=(0,g.lazyProperties)({container:()=>r.Styles.createViewStyle({paddingVertical:15,paddingHorizontal:15,borderStyle:"solid",borderBottomWidth:1}),containerBottomBorder:()=>r.Styles.createViewStyle({borderBottomWidth:10}),alternativePortraitContent:()=>r.Styles.createViewStyle({alignItems:"center",paddingBottom:20}),desktopContent:()=>r.Styles.createViewStyle({paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:10,marginBottom:5}),blueBackground:()=>r.Styles.createViewStyle({backgroundColor:f.Color.blue}),paragraphMargin:()=>r.Styles.createViewStyle({marginBottom:10}),centeredParagraph:()=>r.Styles.createViewStyle({justifyContent:"center"}),headingRow:()=>r.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",alignItems:"center"}),textHeader:()=>r.Styles.createTextStyle({marginHorizontal:10,textAlign:"center"}),headingRowPortrait:()=>r.Styles.createViewStyle({flexDirection:"row",justifyContent:"center",alignSelf:"stretch",paddingTop:5}),headingRowDesktop:()=>r.Styles.createViewStyle({flexDirection:"row",alignSelf:"stretch",paddingTop:9}),descriptionRow:()=>r.Styles.createTextStyle({textAlign:"center",marginHorizontal:5}),descriptionRowDesktop:()=>r.Styles.createTextStyle({marginHorizontal:12,fontSize:b.default.controlFontSize.subtitle}),button:()=>r.Styles.createViewStyle({marginTop:5}),buttonDesktop:()=>r.Styles.createButtonStyle({marginRight:12}),buttonTextStyle:()=>r.Styles.createTextStyle({fontSize:b.default.controlFontSize.smallButton}),closeButton:()=>r.Styles.createViewStyle({position:"absolute",right:-10,top:-10,padding:10}),closeButtonDesktop:()=>r.Styles.createViewStyle({position:"absolute",right:-3,top:-3,padding:10}),titleIcon:()=>r.Styles.createViewStyle({marginTop:3,marginLeft:12,marginRight:5}),whiteText:()=>r.Styles.createTextStyle({color:f.Color.white}),lightThemeBorder:()=>r.Styles.createViewStyle({borderColor:f.Color.gray50}),darkThemeBorder:()=>r.Styles.createViewStyle({borderColor:f.Color.gray400})});class w extends k.default{constructor(){super(...arguments),this._closeNotificationsPrompt=()=>{m.default.closeNotificationsPrompt()},this._onClose=()=>{m.default.closeNotificationsPrompt(),u.track(new S.NotificationsPromptClosed(S.NotificationPromptOrigin.ConversationList))}}static containsLargeContent(){return w.getHeadingText().length>100}static getHeadingText(){return h.getString("NotificationsPrompt.Text")}_buildState(e,t){const i=this._getContext().isPresentedInDesktopLeftNav&&!T.default.isTablet();return{isDesktop:i,hideButton:m.default.permissionStatus(v.PermissionType.Notifications)===a.PermissionStatus.Denied,deviceOrientation:i?s.DeviceOrientation.Portrait:C.default.getDeviceOrientation(this._getRootViewId()),enableRefreshedPalette:y.default.getS4LUiFeatures().enableRefreshedPalette}}render(){if(!o.BrowserEnvironment.supportsNotifications())return null;const e=[this._themeStyles.primaryBackgroundColorStyle,this._themeStyles.dividerBorderColorStyle,I.container],t=this.state.deviceOrientation===s.DeviceOrientation.Landscape,i=!t;this.state.isDesktop||e.push(I.containerBottomBorder),e.push(this._useDarkTheme()?I.darkThemeBorder:I.lightThemeBorder),this.state.isDesktop?e.push(I.desktopContent):i&&e.push(I.alternativePortraitContent),this.props.style&&e.push(this.props.style);const a=this.state.isDesktop?[I.paragraphMargin,I.headingRowDesktop]:i?[I.paragraphMargin,I.headingRowPortrait]:[I.headingRow],c=this.state.enableRefreshedPalette?r.Styles.createTextStyle({color:this._themeColors.textOnColor}):I.whiteText;this.state.enableRefreshedPalette?e.push(r.Styles.createViewStyle({backgroundColor:this._themeColors.surfaceInteractive},!1)):e.push(I.blueBackground);const d=this._renderTitleIcon(),u=this._renderCloseButton();let g;if(this.state.isDesktop){const e=[I.paragraphMargin,A.default.flexOne];g=(0,n.jsx)(r.View,Object.assign({style:e},{children:(0,n.jsx)(r.Text,Object.assign({style:[I.descriptionRowDesktop,c]},{children:w.getHeadingText()}))}))}else if(i){const e=[I.paragraphMargin,I.centeredParagraph];g=(0,n.jsx)(r.View,Object.assign({style:e},{children:(0,n.jsx)(r.Text,Object.assign({style:[I.descriptionRow,c],numberOfLines:3,ellipsizeMode:"tail"},{children:w.getHeadingText()}))}))}const m=this.state.isDesktop?I.buttonDesktop:t?void 0:I.button,C={textColor:f.Color.black,backgroundColor:f.Color.white},y=this.state.hideButton?void 0:(0,n.jsx)(p.NotificationPermissionPromptActionButton,{origin:S.NotificationPromptOrigin.ConversationList,title:h.getString("NotificationsPrompt.ButtonLabel"),style:m,textStyle:I.buttonTextStyle,buttonConfig:C,onAttemptToChangeNotificationPermissionStatus:this._closeNotificationsPrompt,onNotificationPermissionRequestFailed:this._closeNotificationsPrompt}),b=this._getHeadingVariant(),_=this.state.isDesktop?c:[c,I.textHeader],v=[g,i?y:void 0];return(0,n.jsxs)(r.View,Object.assign({style:e},{children:[(0,n.jsxs)(r.View,Object.assign({style:a},{children:[d,(0,n.jsx)(P.RowTitle,Object.assign({style:_},{children:b})),u,t?y:void 0]})),this.state.isDesktop?(0,n.jsx)(l.Row,{children:v}):v]}))}_getHeadingVariant(){const e=this.state.deviceOrientation===s.DeviceOrientation.Landscape;return this.state.isDesktop?h.getString("NotificationsPrompt.HeadingEnableWeb"):e?h.getString("NotificationsPrompt.ShortText"):h.getString("NotificationsPrompt.Heading")}_renderTitleIcon(){if(!this.state.isDesktop)return;const e=this.state.enableRefreshedPalette?this._themeColors.iconOnColor:f.Color.white;return(0,n.jsx)(d.default,{size:_.IconSize.size16,color:e,icon:_.SkypeIcon.Alert,style:I.titleIcon})}_renderCloseButton(){if(this.state.deviceOrientation===s.DeviceOrientation.Landscape)return;const e=this.state.enableRefreshedPalette?this._themeColors.iconOnColor:f.Color.white;return(0,n.jsx)(c.default,{size:_.IconSize.size16,color:e,hoverColor:e,icon:_.SkypeIcon.ClosePanel,style:this.state.isDesktop?I.closeButtonDesktop:I.closeButton,title:h.getString("NotificationsPrompt.CloseButtonTitle"),onPress:this._onClose})}}t.default=w},820405:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CloudsBottomOverlayScreenType=void 0;const n=i(785893),o=(i(667294),i(244770)),s=i(281878),a=i(600212),r=i(3553);var l;function c(e,t,i){switch(t){case l.WelcomeScreen:return i?o.Collection.CLOUDS_BOTTOM_DARK(e):o.Collection.CLOUDS_BOTTOM_LIGHT(e);case l.LandingPageCardBack:return i?o.Collection.CLOUDS_FRONT_DARK():o.Collection.CLOUDS_FRONT_LIGHT();case l.LandingPageCardFront:return i?o.Collection.CLOUDS_BACK_DARK():o.Collection.CLOUDS_BACK_LIGHT();default:return o.Collection.CLOUDS_BOTTOM(e)}}!function(e){e[e.IllustrationScreen=0]="IllustrationScreen",e[e.WelcomeScreen=1]="WelcomeScreen",e[e.LandingPageCardBack=2]="LandingPageCardBack",e[e.LandingPageCardFront=3]="LandingPageCardFront"}(l=t.CloudsBottomOverlayScreenType||(t.CloudsBottomOverlayScreenType={}));t.default=e=>{var t,i,o,l;const{mode:d}=(0,a.useSkypeTheme)(),u=null!==(i=null===(t=e.themeOverride)||void 0===t?void 0:t.isDark)&&void 0!==i?i:d.isDark,g={preserveAspectRatio:null!==(o=e.preserveAspectRatio)&&void 0!==o?o:"xMidYMin slice",height:"100%",width:"100%",fill:u?r.SkypeColor.darkCloudsColor:r.SkypeColor.white};return(0,n.jsx)(s.Center,Object.assign({bottom:0,left:0,right:0,display:"flex",height:null!==(l=e.height)&&void 0!==l?l:150,position:"absolute",flexDirection:"column"},{children:(0,n.jsx)(s.Box,Object.assign({display:"flex",justifyContent:"center",width:"100%",flexGrow:1},{children:c(g,e.cloudsType,u)}))}))}},91545:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CloudsMiddleOverlay=void 0;const n=i(785893),o=i(516778),s=i(244770),a=i(281878),r=i(915877),l=i(600212),c=(0,r.lazyProperties)({cloud:()=>o.Styles.createViewStyle({flexGrow:1,alignSelf:"stretch"})});t.CloudsMiddleOverlay=({isLandscape:e})=>{const{mode:t}=(0,l.useSkypeTheme)();return(0,n.jsxs)(a.Center,Object.assign({position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column"},{children:[(0,n.jsx)(d,{width:e?"25%":"56%",align:"right",source:t.isDark?s.Collection.CLOUD_RIGHT_DARK:s.Collection.CLOUD_RIGHT_LIGHT}),(0,n.jsx)(d,{width:e?"22%":"53%",align:"left",source:t.isDark?s.Collection.CLOUD_LEFT_DARK:s.Collection.CLOUD_LEFT_LIGHT})]}))};const d=({width:e,align:t,source:i})=>{const s="left"===t?"flex-start":"right"===t?"flex-end":"center";return(0,n.jsx)(a.Box,Object.assign({display:"flex",alignItems:s,justifyContent:"center",width:"100%",flexGrow:1},{children:(0,n.jsx)(a.Box,Object.assign({display:"flex",flexDirection:"column",width:e,flexGrow:1},{children:(0,n.jsx)(o.Image,{source:i,style:c.cloud,resizeMode:"contain"})}))}))}},509709:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(967593),a=i(217041),r=i(23293),l=i(915877),c=i(89808),d=i(581760),u=i(311010),g=i(680837),h=(0,l.lazyProperties)({gradientView:()=>o.Styles.createViewStyle({borderRadius:10,alignItems:"center",justifyContent:"center"}),overlayText:()=>o.Styles.createTextStyle({color:d.Color.white,font:u.default.font.uiDisplayBold,fontSize:u.default.fontSize.size18})});class p extends a.ComponentBase{_buildState(e,t){return{gradientColors:e.conversationId?r.default.getGradientColors(e.conversationId):c.default.getGradientColors()}}render(){return(0,n.jsx)(o.View,Object.assign({ignorePointerEvents:!0,style:g.default.absoluteFill},{children:(0,n.jsx)(s.GradientView,Object.assign({style:[g.default.absoluteFill,h.gradientView],colors:this.state.gradientColors,direction:s.GradientDirection.BOTTOM_RIGHT},{children:(0,n.jsx)(o.Text,Object.assign({style:h.overlayText},{children:this.props.label}))}))}))}}t.default=p},185453:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorfulGradientOverlay=void 0;const n=i(785893),o=i(967593),s=i(281878),a=i(680837),r=i(600212),l=i(478135),c=[l.SkypeColor.colorfulBackgroundGradientStop0,l.SkypeColor.colorfulBackgroundGradientStop1,l.SkypeColor.colorfulBackgroundGradientStop2];t.ColorfulGradientOverlay=function(){const{themeColors:e,mode:t}=(0,r.useSkypeTheme)(),i=t.isDark?l.SkypeColor.black0p:l.SkypeColor.white0p,d=[e.surfacePrimary,e.surfacePrimary,i,i,i];return t.isAccessible?null:(0,n.jsxs)(s.Box,Object.assign({position:"absolute",top:0,bottom:0,left:0,right:0},{children:[(0,n.jsx)(o.GradientView,{colors:c,direction:o.GradientDirection.BOTTOM_LEFT,ignorePointerEvents:!0,style:a.default.absoluteFill}),(0,n.jsx)(o.GradientView,{colors:d,direction:o.GradientDirection.BOTTOM,ignorePointerEvents:!0,style:a.default.absoluteFill})]}))}},332808:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(103291),a=i(110117),r=i(915877),l=i(733754),c=i(581760),d=i(711828),u=i(619675),g=i(24576),h=i(640363),p=(0,r.lazyProperties)({overlayPanel:()=>o.Styles.createViewStyle({alignSelf:"stretch",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:c.Color.whiteOverlay90}),overlayPanelDarkTheme:()=>o.Styles.createViewStyle({backgroundColor:c.Color.blackOverlay70}),overlayPanelDashedInner:()=>o.Styles.createViewStyle({flex:1,flexDirection:"row",alignSelf:"stretch",alignItems:"center",justifyContent:"center",margin:10,borderColor:c.Color.gray300,borderWidth:2,borderStyle:"dashed"}),messageContainer:()=>o.Styles.createViewStyle({flex:-1,flexDirection:"row",alignItems:"center",justifyContent:"center",paddingHorizontal:20}),messageText:()=>o.Styles.createTextStyle({flex:-1,color:c.Color.gray400,marginLeft:10}),messageTextDarkTheme:()=>o.Styles.createTextStyle({color:c.Color.gray100})});class S extends g.default{render(){const e=[p.messageText],t=[p.overlayPanel],i=this._useDarkTheme();i&&(e.push(p.messageTextDarkTheme),t.push(p.overlayPanelDarkTheme));let s=l.getString("DragAndDrop.FileUploadMessage");return this._canShowDragContacts()&&(s=l.getString("DragAndDrop.FileUploadOrContactShareMessage")),(0,n.jsx)(o.View,Object.assign({style:t,ignorePointerEvents:!0},{children:(0,n.jsx)(o.View,Object.assign({style:p.overlayPanelDashedInner},{children:(0,n.jsxs)(o.View,Object.assign({style:p.messageContainer},{children:[(0,n.jsx)(a.default,{icon:d.SkypeIcon.Media,size:d.IconSize.size24,color:i?c.Color.gray100:c.Color.gray400}),(0,n.jsx)(u.Header,Object.assign({size:5,style:e},{children:s}))]}))}))}))}_canShowDragContacts(){return s.default.isDragAndDropContactsEnabled()&&!h.default.isEdgeShoreline()}}t.default=S},562216:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(667294),o=i(785893),s=i(696894),a=i(735517),r=i(699620),l=i(104096),c=i(500091),d=i(675942),u=i(832749),g=i(521063),h=i(217093),p=i(262393),S=i(34273);t.default=class{static renderComponent(e,t,i){return e instanceof h.GalleryNavigationContext?(0,o.jsx)(d.default,Object.assign({},t,{conversationId:e.state.conversationId,viewMode:e.state.viewMode,callId:e.state.callId,parentConversationId:e.state.parentConversationId,onClose:e.state.onClose})):e instanceof h.FindPanelNavigationContext?(0,o.jsx)(g.default,Object.assign({conversationId:e.state.conversationId,overflowActionConfig:e.state.overflowActionConfig,onFindComplete:e.state.onFindComplete,showHeader:!0},t),"find"):e instanceof h.LocationPickerContext?(0,o.jsx)(u.default,Object.assign({conversationId:e.state.conversationId},t),"location"):e instanceof h.InAppBrowserNavigationContext?(0,o.jsx)(a.default,{route:{params:{origin:e.state.origin,url:e.state.url,integrationCorrelationId:e.state.integrationCorrelationId,headers:e.state.headers,injectedJavaScript:e.state.injectedJavaScript,onNavigationStateChange:e.state.onNavigationStateChange,onClose:i,onShareComplete:e.state.onShareComplete,onWebViewClose:e.state.onWebViewClose,onMessage:e.state.onMessage,headerTitle:e.state.headerTitle,usePredeterminedHeaderTitle:e.state.usePredeterminedHeaderTitle,conversationId:e.state.conversationId,messageId:e.state.messageId,suggestionAttributes:e.state.suggestionAttributes,openIntegrationScenario:e.state.perfScenario,useBingMiniCanvas:e.state.useBingMiniCanvas,onExternalShare:e.state.onExternalShare,forceInAppViewer:e.state.forceInAppViewer,useBrowserActionInHeader:e.state.useBrowserActionInHeader,beforeOpenBrowser:e.state.beforeOpenBrowser,onSuccesfulOpenBrowser:e.state.onSuccesfulOpenBrowser,onSuccessfulShare:e.state.onSuccessfulShare,shareSameSession:e.state.shareSameSession,renderWebViewComponent:e.state.renderWebViewComponent}}},"browser"):e instanceof s.default.AddinNavigationContext?s.default.AddinStackNavigator.renderSceneContent(e,t):e instanceof S.default.NavigationContext.ScheduleCallNavigationContext?S.default.StackNavigator.renderSceneContent(e,t):e instanceof p.default.NavigationContext.PollNavigationContext?p.default.StackNavigator.renderSceneContent(e,t):e instanceof h.ConversationInCallNavigationContext?(0,n.createElement)(r.default,Object.assign({},t,{key:"callConversationPanel",conversationId:e.state.conversationId,callId:e.state.callId,onClose:e.state.onClose})):e instanceof h.SubtitlesNavigationContext?(0,o.jsx)(c.default,Object.assign({callId:e.state.callId,conversationMri:e.state.conversationMri,reactionsMri:e.state.reactionMri},t),"callTranscriptionPanelView"):e instanceof h.CallingDebugPanelNavigationContext?(0,o.jsx)(l.default,{route:{params:{callId:e.state.callId||"",nativeWindow:e.state.nativeWindow||!1}}}):void 0}}},710226:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(665768),a=i(516778),r=i(705465),l=i(437490),c=i(211375),d=i(915877),u=i(853374),g=i(647738),h=i(640363),p=i(451096),S=i(217093),m=i(889391),C=i(360305),y=i(104735),f=i(29130),b=i(451070),_=i(126978),v=i(436237),T=i(898278),P=i(746096),k=i(581760),A=i(956280),I=i(803056),w=i(562216),x=i(680837),N=i(24576),M=i(172490),L=i(912770),O=T.SideBarWidths.base,D=(0,d.lazyProperties)({absoluteStyle:()=>a.Styles.createViewStyle({position:"absolute",top:0,bottom:0}),flyoutContainer:()=>a.Styles.createViewStyle({left:0,width:O,flex:0,flexDirection:"column",borderLeftWidth:2,borderStyle:"solid",borderColor:k.Color.gray50}),flyoutInnerUnspecified:()=>a.Styles.createViewStyle({flex:1,minWidth:O,alignSelf:"stretch",borderLeftWidth:2,borderStyle:"solid",borderColor:k.Color.gray50}),flyoutInnerPreview:()=>a.Styles.createViewStyle({borderLeftWidth:2,borderStyle:"solid",borderColor:k.Color.gray50}),flyoutContainerNarrow:()=>a.Styles.createViewStyle({right:0,left:0}),floating:()=>a.Styles.createViewStyle({right:0}),floatingShadow:()=>a.Styles.createViewStyle({shadowOffset:{height:0,width:0},shadowRadius:16,shadowColor:k.Color.blackOverlay20}),floatingNarrow:()=>a.Styles.createViewStyle({right:0,left:0}),animatedRightPanelContainer:()=>a.Styles.createViewStyle({alignSelf:"stretch"}),fixedWidth:()=>a.Styles.createViewStyle({width:O}),dragHandle:()=>a.Styles.createViewStyle({position:"absolute",top:0,left:-10,bottom:0,width:20,backgroundColor:k.Color.transparent}),elevationAndroid:()=>a.Styles.createViewStyle({elevation:6})});class R extends N.default{constructor(){super(...arguments),this._wrapperWidthValue=new a.Animated.Value(0),this._wrapperWidthStyle=a.Styles.createAnimatedViewStyle({width:this._wrapperWidthValue}),this._contentWidthValue=new a.Animated.Value(0),this._contentWidthStyle=a.Styles.createAnimatedViewStyle({width:this._contentWidthValue}),this._rightPanelXValue=new a.Animated.Value(R._xValue(O+20)),this._rightPanelXStyle=a.Styles.createAnimatedViewStyle({transform:[{translateX:this._rightPanelXValue}]}),this._rightPanelOpacityValue=new a.Animated.Value(0),this._rightPanelOpacityStyle=a.Styles.createAnimatedViewStyle({opacity:this._rightPanelOpacityValue}),this._mainViewRefCallback=e=>{this._mainView=e||void 0},this.handleResize=()=>{this.state.isTodayTab&&L.default.setTimeout((()=>{var e,t;const i=this._resolveSidebarWidth((null===(t=null===(e=this.state)||void 0===e?void 0:e.renderedNavContext)||void 0===t?void 0:t.state.sidebarSize)||A.RightSidebarSize.Regular);this._wrapperWidthValue.setValue(i),this._contentWidthValue.setValue(i)}),30)},this.onPan=(e,t)=>{let i=e.pageX-e.initialPageX;if(this._getContext().isRTL?i>0&&(i=0):i<0&&(i=0),this._rightPanelXValue.setValue(i),e.isComplete){let n=!1;n=this._getContext().isRTL?e.velocityX<-.1||i<O/2*-1:e.velocityX>.1||i>O/2,n?this._closeRightPanel(t):this._openRightPanel()}},this._resolveSidebarWidth=e=>{const t=window.innerWidth;let i=T.SideBarScreenSplits.extendedSplitScreenWidth,n=T.SideBarScreenSplits.extendedSidebarWidth;switch(e){case A.RightSidebarSize.Fullscreen:i=T.SideBarScreenSplits.extendedSplitScreenWidth,n=window.innerWidth-T.SideBarWidths.base-.5;break;case A.RightSidebarSize.Large:i=T.SideBarScreenSplits.extendedSplitScreenWidth,n=T.SideBarScreenSplits.extendedSidebarWidth;break;case A.RightSidebarSize.Regular:i=T.SideBarScreenSplits.defaultSplitScreenWidth,n=T.SideBarScreenSplits.defaultSidebarWidth}return t<i&&(v.track(new p.TodayArticleReaderSizeOverride(g.TodayArticleReaderOverrideType.ChatVisible)),n=window.innerWidth-T.SideBarWidths.base-.5),t<T.SideBarScreenSplits.minScreenWidth&&(v.track(new p.TodayArticleReaderSizeOverride(g.TodayArticleReaderOverrideType.Fullscreen)),n=window.innerWidth),n},this._isRestrictedFocus=()=>{const e=this._isRightPanelVisible(this.props),t=this._isFlyoutFloating(this.props,this.state);return e&&t},this._onPanDragHandle=e=>{let t;t=this._isDragging?e.pageX-this._currentDragX:e.pageX-e.initialPageX,this._currentDragX=e.pageX,this._currentWidth-=t,this._currentWidth<T.SideBarWidths.base?this._currentWidth=T.SideBarWidths.base:this._currentWidth>T.SideBarWidths.maxRight&&(this._currentWidth=T.SideBarWidths.maxRight),this._contentWidthValue.setValue(this._currentWidth),e.isComplete?(this._expandedWidth=this._currentWidth,_.default.putWidth(_.SideBar.Right,this._expandedWidth),this.state.resizeOnCommit&&this._wrapperWidthValue.setValue(this._currentWidth),this._setIsDragging(!1)):this._isDragging||this._setIsDragging(!0)},this._onEscapeKey=()=>{const e=u.default.newCauseId();return v.log(P.LogTraceArea.Navigation,"RightSidebarView._onKeyUp, causeId: "+e),y.default.closeRightPanel(e,this._getRootViewId()),!0},this._openRightPanel=()=>{l.dismissAll();const e=this.state.renderedNavContext;let t;const i=()=>{t&&this._contentWidthValue.setValue(t),this.isComponentMounted()&&this.setState({renderedNavContext:e})};if(this.state.useTabletUI)this._animateRightPanel(this._rightPanelXValue,0,!0,!0,i),t=this._currentWidth,this._contentWidthValue.setValue(this._currentWidth),this.state.resizeOnCommit&&this._wrapperWidthValue.setValue(this._currentWidth),this._rightPanelOpacityValue.setValue(1);else if(this.state.isMinDesktopSize)this._animateRightPanel(this._rightPanelOpacityValue,1,!0,!1,i),t=this.state.windowWidth,this._contentWidthValue.setValue(this.state.windowWidth),this.state.resizeOnCommit&&this._wrapperWidthValue.setValue(this.state.windowWidth),this._rightPanelXValue.setValue(0);else{const e=!!this.props.suppressAnimation&&!this._isFlyoutFloating(this.props,this.state);this.state.resizeOnCommit?(t=this._currentWidth,this._contentWidthValue.setValue(this._currentWidth),this._animateRightPanel(this._wrapperWidthValue,this._currentWidth,!e,!1,i)):this._animateRightPanel(this._contentWidthValue,this._currentWidth,!e,!1,i),this._rightPanelOpacityValue.setValue(1),this._rightPanelXValue.setValue(0)}},this._closeRightPanel=e=>{this._intCloseRightPanel((()=>{e&&e(),this.isComponentMounted()&&this.setState({viewMode:S.RightSidebarViewMode.None,renderedNavContext:void 0}),c.setFocus(c.FocusEvent.CloseRightPanel)}))},this._intCloseRightPanel=e=>{if(this.state.useTabletUI)this._animateRightPanel(this._rightPanelXValue,R._xValue(O+20),!0,!0,e),this._contentWidthValue.setValue(0),this.state.resizeOnCommit&&this._wrapperWidthValue.setValue(0),this._rightPanelOpacityValue.setValue(0);else if(this.state.isMinDesktopSize)this._animateRightPanel(this._rightPanelOpacityValue,0,!0,!1,e),this._contentWidthValue.setValue(0),this.state.resizeOnCommit&&this._wrapperWidthValue.setValue(0),this._rightPanelXValue.setValue(R._xValue(O));else{const t=!!this.props.suppressAnimation&&!this._isFlyoutFloating(this.props,this.state);this.state.resizeOnCommit?this._animateRightPanel(this._wrapperWidthValue,0,!t,!1,(()=>{this._contentWidthValue.setValue(0),e()})):this._animateRightPanel(this._contentWidthValue,0,!t,!1,e),this._rightPanelOpacityValue.setValue(0),this._rightPanelXValue.setValue(R._xValue(O))}},this._onInAppWebBrowserClose=()=>{if(this.state.renderedNavContext instanceof S.InAppBrowserNavigationContext){const e=this.state.renderedNavContext;e.state.onInAppWebBrowserClose&&e.state.onInAppWebBrowserClose(),this._onClose()}return!1},this._onClose=()=>{const e=u.default.newCauseId();v.log(P.LogTraceArea.Navigation,"RightSidebarView._onClose, causeId: "+e),y.default.closeRightPanel(e,this._getRootViewId())}}_buildState(e,t){const i=this._getRootViewId(),n=C.default.isTabletUI(),s=_.default.resizingEnabled(_.SideBar.Right),a={windowWidth:f.default.getWidth(i),isMinDesktopSize:f.default.isMinDesktopWidth(i),useTabletUI:n,forceFloat:n,isResizeable:s,resizeOnCommit:s,topPadding:n?b.default.statusBarHeight():0,enableRefreshedPalette:m.default.getS4LUiFeatures().enableRefreshedPalette};if(e.stackNavContext){const t=e.stackNavContext.getNavStack();t.length>0&&(a.renderedNavContext=o.last(t))}if(a.renderedNavContext&&a.renderedNavContext instanceof S.InAppBrowserNavigationContext&&a.renderedNavContext.state.origin===P.BrowserOrigin.TodayTabNewsArticle){const e=a.renderedNavContext&&a.renderedNavContext instanceof S.InAppBrowserNavigationContext?a.renderedNavContext.state.sidebarSize:A.RightSidebarSize.Regular,t=this._resolveSidebarWidth(e);this._expandedWidth=t,this._currentWidth=t,a.disableResizablePane=!0,a.isTodayTab=!0}else{const e=a.renderedNavContext&&a.renderedNavContext instanceof S.InAppBrowserNavigationContext&&a.renderedNavContext.state.useBingMiniCanvas?T.SideBarWidths.miniCanvasRight:T.SideBarWidths.base;this._expandedWidth=Math.max(e,_.default.getWidth(_.SideBar.Right)),this._currentWidth=this._expandedWidth,a.disableResizablePane=!1,a.isTodayTab=!1}return t&&(this._currentDragX=0,this._isDragging=!1),a}_isFlyoutFloating(e,t){if(t.forceFloat)return!0;return t.windowWidth-O-(e.leftNavCollapsedOrHidden?0:_.default.getWidthNoSubscription())<500&&!t.isMinDesktopSize}render(){const e=[D.animatedRightPanelContainer];let t=[D.absoluteStyle],i=!1;this.state.useTabletUI?(e.push(D.absoluteStyle,D.floating,D.floatingShadow,D.fixedWidth,this._rightPanelXStyle),t.push(D.flyoutContainer)):this.state.isMinDesktopSize?(e.push(this._rightPanelOpacityStyle,D.absoluteStyle),this._isRightPanelVisible(this.props)&&e.push(D.floatingNarrow),t.push(D.flyoutContainerNarrow)):(this.state.isResizeable?(i=!!this.state.renderedNavContext,this.state.resizeOnCommit?(e.push(this._wrapperWidthStyle,x.default.overflowVisible),t=[D.absoluteStyle,D.flyoutInnerPreview,this._contentWidthStyle],this._isDragging&&t.push(D.floating,D.floatingShadow)):(e.push(this._contentWidthStyle),t=[D.flyoutInnerUnspecified])):(e.push(this._contentWidthStyle),t.push(D.flyoutContainer)),this._isFlyoutFloating(this.props,this.state)&&(e.push(D.absoluteStyle,D.floating),this.state.resizeOnCommit?t.push(D.floatingShadow):e.push(D.floatingShadow))),this.props.mainStageNavigationViewUsesShadow,this._useDarkDivider()&&t.push(this._themeStyles.headerShadowBorderColorStyle),this.state.enableRefreshedPalette&&t.push(a.Styles.createViewStyle({backgroundColor:this._getContext().themeColors.surfacePrimary},!1));const o=i?(0,n.jsx)(a.GestureView,{style:D.dragHandle,preferredPan:a.Types.PreferredPanGesture.Horizontal,onPanHorizontal:this._onPanDragHandle,mouseOverCursor:a.Types.GestureMouseCursor.EWResize}):void 0,s=(0,n.jsx)(a.Animated.View,Object.assign({style:t,restrictFocusWithin:this._isRestrictedFocus(),ref:this._mainViewRefCallback},{children:this._renderRightPanelContent()}));return(0,n.jsx)(a.Animated.View,Object.assign({style:e},{children:(0,n.jsxs)(I.default,Object.assign({isPresentedInDesktopSubview:!0,isPresentedInDesktopRightNav:!0},{children:[s,!this.state.disableResizablePane&&o]}))}),"container"+this.state.useTabletUI)}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),h.default.isElectronOsx()&&M.default.addEscapeHandler(this._onEscapeKey)}componentDidMount(){super.componentDidMount(),this._isRightPanelVisible(this.props)?this._openRightPanel():this._mainView&&this._mainView.setFocusRestricted(!1),this._dimensionsHandler=r.Dimensions.addEventListener("change",this.handleResize)}componentWillUnmount(){super.componentWillUnmount(),M.default.removeEscapeHandler(this._onEscapeKey),this._dimensionsHandler.remove()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i);const n=this._isRightPanelVisible(e),o=this._isRightPanelVisible(this.props),s=this._isFlyoutFloating(this.props,this.state);this._mainView&&this._mainView.setFocusRestricted(this._isRestrictedFocus()),o&&!n&&this._openRightPanel(),o&&n&&t.isMinDesktopSize&&this._openRightPanel(),!o&&n&&this._closeRightPanel(),_.default.putRightSideBarFloating(s)}_setIsDragging(e){this._isDragging!==e&&(this._isDragging=e,this.state.resizeOnCommit&&this.forceUpdate())}_renderRightPanelContent(){const e={isPresentedInDesktopSubview:!0,isPresentedInDesktopRightNav:!0,topPadding:this.state.topPadding,onClose:this._onClose};return w.default.renderComponent(this.state.renderedNavContext,e,this.state.renderedNavContext instanceof S.InAppBrowserNavigationContext?this._onInAppWebBrowserClose:void 0)}_useDarkDivider(){return this._useDarkTheme()||this._isPresentedInTabletRightNav()}_isRightPanelVisible(e){return!!e.stackNavContext&&e.stackNavContext.getNavStack().length>0}_animateRightPanel(e,t,i,n,o){this._rightPanelAnimation&&this._rightPanelAnimation.stop(),i?(this._rightPanelAnimation=a.Animated.timing(e,{toValue:t,easing:s.Easing.SkypeExpoInOut5,duration:s.Common.Duration.Default,useNativeDriver:n}),this._rightPanelAnimation.start((()=>{this.isComponentMounted()&&(this._rightPanelAnimation=void 0,o&&o())}))):(e.setValue(t),o&&o())}static _xValue(e){return e*(h.default.isRTL()?-1:1)}}t.default=R},324735:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(809206),a=i(930640),r=i(823113),l=i(502027),c=i(993694),d=i(546393),u=(i(31615),i(516778)),g=i(217041),h=i(705465),p=i(281878),S=i(735440),m=i(889391),C=i(978547),y=i(651587),f=i(994224),b=i(47447),_=i(147204),v=i(898278),T=i(313560),P=i(273145),k=i(746096),A=i(436237),I=i(915877),w=i(733754),x=i(679154),N=i(10909),M=i(307581),L=i(330124),O=i(581736),D=i(594474),R=i(451070),E=i(583181),B=i(910265),F=i(190631),V=i(811411),U=(i(371445),i(422538)),j=(i(404057),i(581760)),H=i(640363),W=i(478262),z=i(680837),G=i(360305),K=i(897634),q=i(418037),Q=i(912770),X=(i(628069),i(598180)),J=i(626712),$=i(853374),Y=i(115340),Z=i(340395),ee=i(692375),te=(0,I.lazyProperties)({lightBackground:()=>u.Styles.createViewStyle({backgroundColor:j.Color.white}),darkBackground:()=>u.Styles.createViewStyle({backgroundColor:j.Color.darkThemeBackground}),fillScreen:()=>u.Styles.createViewStyle({flex:1,alignSelf:"stretch",flexDirection:"column"}),loadingScreen:()=>u.Styles.createViewStyle({position:"absolute",top:0,left:0,right:0,bottom:0,paddingTop:20,backgroundColor:j.Color.white})}),ie=h.StyleSheet.create({eventsListener:{flex:1}}),ne="upgradealertdialog";class oe extends g.ComponentBase{constructor(){super(...arguments),this._animateSplashScreenStarted=!1,this._shouldOpenForceUpgradeLinkExternalWindow=e=>{const t=m.default.getConfigSettings().helpGoParam.upgradeLearnMore+"/";return J.default.removeHost(e)===t},this._onSplashScreenRef=e=>{this._splashScreen=e||void 0},this._onUpgradeDialogOkButtonClick=()=>{this._dismissUpgradeAlertDialog(),y.openAppStore()},this._onUpgradeDialogCancelButtonClick=()=>{this._dismissUpgradeAlertDialog()}}_buildState(e,t){const i=m.default.getS4LFeatures(),n=G.default.isTabletUI(),o={startupComplete:E.default.getStartupUIState()===E.StartupUIState.StartupComplete,incomingCallIds:f.default.CallingStore.getIncomingCallIds(),uiShown:E.default.isUIDisplayed(),isShowingCustomActionMenu:T.default.isCustomActionMenuShown(),useMobileCustomActionMenu:L.default.isUsingStackNavigationContext()||n,bottomSafeAreaInset:R.default.bottomSafeAreaInset(v.BottomInsetDefault),useTabletUI:n,appActivationState:C.default.getAppState(),darkThemeEnabled:U.HasStarted(q.default)?K.isDarkTheme(q.default.colorTheme()):e.isDarkThemeActiveCached,theme:q.default.colorTheme()};if(t){s.BrowserEnvironment.isMobile()||u.UserInterface.useCustomScrollbars(),o.showSplashScreen=!o.startupComplete,o.upgradeScreendHasBeenDisplayed=!1}return!o.startupComplete||!t&&this.state.startupComplete||(i.upgrade&&i.upgrade.noticeUrl&&(o.shouldForceUpgrade=!0,A.log(k.LogTraceArea.RootAppView,"Displaying force upgrade screen on initial startup")),o.cameraRollGranted=O.default.permissionStatus(W.PermissionType.CameraRoll)===r.PermissionStatus.Granted),i.upgrade&&(o.upgradeUrl=i.upgrade.noticeUrl,o.upgradeRequired=i.upgrade.required),!this._hasRingsForState(o)&&this._presentingIncomingCallId&&(A.log(k.LogTraceArea.RootAppView,"No incoming ring, clearing ring"),this._presentingIncomingCallId=void 0),u.UserInterface.setNativeFocusOutlineEnabled(!1),o}componentDidMount(){super.componentDidMount();const e=$.default.newCauseId();A.log(k.LogTraceArea.RootAppView,"componentDidMount causeId: "+e),this.state.startupComplete&&this._startAnimateSplashScreen(),this._maybePresentIncomingRing(e),this._maybeShowPartialBrowserSupportToast(e),this.state.cameraRollGranted&&this._preHeatMediaPicker(),N.default.setBottomMarginDefault(this.state.bottomSafeAreaInset),x.default.open()}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),!this.state.startupComplete&&t.startupComplete&&this._startAnimateSplashScreen()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i);const n=$.default.newCauseId();A.log(k.LogTraceArea.RootAppView,"componentDidUpdate rings: "+JSON.stringify(this.state.incomingCallIds)+" appState: "+this.state.appActivationState+" causeId: "+n),this._maybePresentIncomingRing(n),this._hasRingsForState(this.state)||this.state.appActivationState===u.Types.AppActivationState.Background||this._checkAndInstallAppUpgrades(n),this._checkElectronForceUpgrade(),this.state.cameraRollGranted&&!t.cameraRollGranted&&this._preHeatMediaPicker(),this.state.bottomSafeAreaInset!==t.bottomSafeAreaInset&&N.default.setBottomMarginDefault(this.state.bottomSafeAreaInset)}componentWillUnmount(){super.componentWillUnmount(),A.log(k.LogTraceArea.RootAppView,"RootAppView componentWillUnmount")}render(){let e=[];e.push((0,n.jsx)(l.default,{window},"customFocusOutline"));const t=this.state.darkThemeEnabled?te.darkBackground:te.lightBackground;if(this.state.uiShown){const i=this.state.isShowingCustomActionMenu?u.Types.ImportantForAccessibility.NoHideDescendants:void 0,o=[te.fillScreen,t];this.state.useTabletUI&&o.push(z.default.overflowVisible),e.push((0,n.jsx)(p.GestureHandlerRootView,{children:(0,n.jsx)(p.BottomSheetModalProvider,{children:(0,n.jsx)(D.default,{style:o,useTabletUI:this.state.useTabletUI,importantForAccessibility:i},"rootNavView")})},"gestureHandlerRoot"))}if(this.state.showSplashScreen){const t=this._isWebPartnerFlow(),i=w.getString("SignInSignUp.MeetNowMeetingStartup");e.push((0,n.jsx)(V.default,{ref:this._onSplashScreenRef,statusText:t?i:this.props.startupStatusText,showSpinner:!0,darkThemeEnabled:this.state.darkThemeEnabled,showLoginFallback:this.props.showLoginFallback,loginCallback:this.props.loginCallback,errorCode:this.props.errorCode,isPartnerFlow:t},"splashscreen"))}if(this.state.shouldForceUpgrade&&this.state.upgradeUrl&&!this.state.upgradeScreendHasBeenDisplayed){e=[];const t={onPress:()=>{this.setState({shouldForceUpgrade:!1,upgradeScreendHasBeenDisplayed:!0})},closeButtonType:F.CloseButtonType.Close,title:w.getString("Global.CancelLabel")};e.push((0,n.jsxs)(u.View,Object.assign({style:te.fillScreen},{children:[(0,n.jsx)(F.SimplePanelHeader,{leftButton:this.state.upgradeRequired?void 0:t,hideBottomBorder:!0,panelName:w.getString("RootAppView.Upgrade")}),(0,n.jsx)(u.View,Object.assign({style:te.fillScreen},{children:(0,n.jsx)(d.WebViewBridge,{style:te.loadingScreen,url:this.state.upgradeUrl,javaScriptEnabled:!0,ariaLabel:w.getString("RootAppView.Upgrade"),sandbox:u.Types.WebViewSandboxMode.AllowSameOrigin,shouldOpenExternalWindow:this._shouldOpenForceUpgradeLinkExternalWindow})}))]}),"webViewForUpdate"))}const i=this.state.useMobileCustomActionMenu&&this.state.startupComplete?(0,n.jsx)(M.default,{}):void 0,o=(0,n.jsx)(P.DesktopContextMenuTarget,{},"contextmenuanchor");return e=(0,n.jsx)(Y.KeyboardAvoidingView,Object.assign({enabled:this.state.useTabletUI},{children:e})),(0,n.jsx)(u.View,Object.assign({style:z.default.flexOne,onLayout:this.props.onLayout},{children:(0,n.jsxs)(h.View,Object.assign({onTouchStart:ee.RootTouchEventsHelper.handleTouchStart,style:ie.eventsListener},{children:[(0,n.jsx)(Z.default,{statusBarKey:"RootAppView",animated:!0}),o,e,i]}))}))}_preHeatMediaPicker(){a.default.open().then((e=>{a.default.close(e)}))}_hasRingsForState(e){return!o.isEmpty(e.incomingCallIds)}_checkAndInstallAppUpgrades(e){0}_checkElectronForceUpgrade(){}_startAnimateSplashScreen(){this._animateSplashScreenStarted||(this._animateSplashScreenStarted=!0,A.log(k.LogTraceArea.RootAppView,"Starting to hide splash screen"),o.defer((()=>{this.props.onSplashScreenWillBeDismissed();const e=e=>{A.log(k.LogTraceArea.RootAppView,"Done hiding splash screen, animation timed out: "+e),this._splashScreenTimeout&&(Q.default.clearTimeout(this._splashScreenTimeout),this._splashScreenTimeout=void 0),this.isComponentMounted()&&this.setState({showSplashScreen:!1})};this._splashScreen?(this._splashScreen.animateLeave((()=>{e(!1),c.default.onSplashScreenClosed()})),this._splashScreenTimeout=Q.default.setTimeout((()=>{e(!0),c.default.onSplashScreenClosed()}),1e3)):(e(!1),c.default.onSplashScreenClosed())})))}_maybePresentIncomingRing(e){if(this._hasRingsForState(this.state)&&this.state.startupComplete&&this.state.appActivationState!==u.Types.AppActivationState.Background){const t=o.head(this.state.incomingCallIds);t&&t!==this._presentingIncomingCallId&&(this._presentingIncomingCallId=t,A.log(k.LogTraceArea.RootAppView,"_maybePresentIncomingRing for callId: "+t+" causeId: "+e),f.default.CallNavigationHelper.presentIncomingRing(t,e))}else this._presentingIncomingCallId=void 0}_maybeShowPartialBrowserSupportToast(e){b.CallingCapabilities.limitedSupportBrowser()&&(A.log(k.LogTraceArea.RootAppView,"_maybeShowPartialBrowserSupportToast causeId: "+e),f.default.CallNavigationHelper.showLimitedSupportBrowser({}))}_showUpgradeAlertDialog(e,t=!1){const i=[{text:w.getString(e?"UpgradeAlertDialog.UpgradeRequiredButtonLabel":"UpgradeAlertDialog.UpgradeButtonLabel"),onPress:this._onUpgradeDialogOkButtonClick}];let o,s;e?(o=w.getString("UpgradeAlertDialog.TitleRequired"),s=w.getString("UpgradeAlertDialog.BodyRequired")):(o=w.getString("UpgradeAlertDialog.Title"),s=w.getString("UpgradeAlertDialog.Body"),i.unshift({text:w.getString("UpgradeAlertDialog.CancelButtonLabel"),onPress:this._onUpgradeDialogCancelButtonClick}));const a=(0,n.jsx)(B.default,{dialogId:ne,buttonAlignment:S.SimpleDialogButtonAlignment.HorizontalStack,closeOnClickOutside:!e,text:o,simpleContent:s,buttons:t?void 0:i,horizontalPadding:20,accessibilityLabel:o});_.default.showModal(a,ne,{rootViewId:v.MainRootViewId,rootViewType:v.RootViewType.MainWindow})}_dismissUpgradeAlertDialog(){_.default.dismissModal(ne,v.MainRootViewId)}_isWebPartnerFlow(){var e;const t=J.default.getURIComponents(H.default.getLoadPath());return!!(null===(e=null==t?void 0:t.queryParameterKeyValues)||void 0===e?void 0:e.action)&&o.includes([X.UrlNavigationAction.CreateWebPartnerFlow,X.UrlNavigationAction.JoinWebPartnerFlow],null==t?void 0:t.queryParameterKeyValues.action)}}t.default=oe},760508:(e,t,i)=>{const n=i(785893),o=i(496486),s=i(665768),a=i(516778),r=i(889391),l=i(925310),c=i(746096),d=i(788531),u=i(139285),g=i(436237),h=i(548650),p=i(915877),S=i(961213),m=i(186673),C=i(594355),y=i(866127),f=i(104735),b=i(217093),_=i(827357),v=i(921090),T=i(29130),P=i(710226),k=i(581760),A=i(478262),I=i(680837),w=i(24576),x=i(618546),N=i(899056),M=i(853374),L=i(73877),O=i(29130),D=(0,p.lazyProperties)({contentContainerStyle:()=>a.Styles.createViewStyle({alignSelf:"stretch",flex:1}),contentWrapper:()=>a.Styles.createViewStyle({flexDirection:"row",alignSelf:"stretch"}),rightPanelShim:()=>a.Styles.createViewStyle({position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:k.Color.blackOverlay50}),leftShadowBase:()=>a.Styles.createViewStyle({shadowOffset:{width:0,height:2},shadowRadius:8,shadowColor:"rgba(0, 0, 0, 0.14)"}),leftShadowAndroidBase:()=>a.Styles.createViewStyle({elevation:3}),leftShadowIOS:()=>a.Styles.createViewStyle({shadowOpacity:1,overflow:"visible"})});class R extends w.default{constructor(){super(...arguments),this._rightPanelShimOpacityValue=new a.Animated.Value(0),this._rightPanelShimOpacityStyle=a.Styles.createAnimatedViewStyle({opacity:this._rightPanelShimOpacityValue}),this._closeRightPanel=()=>{const e=M.default.newCauseId();g.log(c.LogTraceArea.Navigation,"RootCompositeNavigationView._closeRightPanel,  causeId: "+e),f.default.closeRightPanel(e,this._getRootViewId())},this._onRightSidebarView=e=>{this._rightSidebarView=e||void 0},this._onPan=e=>{this._rightSidebarView&&this._rightSidebarView.onPan(e,this._closeRightPanel)}}_buildState(e,t){const i=v.modalNavigatorIdForRootViewId(this._getRootViewId()),n=_.default.getCurrentModalStackNavigationContext(i),o=n&&n.isValid()?n:void 0,s=_.default.getCurrentSidebarStackNavigationContext(v.rightSideBarNavigatorId),a=this._getRootViewId();return{responsiveWidth:T.default.getResponsiveWidth(a),showShimForRightPanel:e.useTabletUI,fixedContainerHeight:0,shouldDisplayRightNavigation:_.default.shouldDisplayRightNavigation(),activeModalSplitContext:o,rightSidebarStackNavContext:s,showFooter:!O.default.isSmallOrTinyScreenSize(this._getRootViewId())&&(!_.default.getCompositeCallVisible()||r.default.getS4LUiFeatures().enableWebFooterEverywhere),modernizeConversationList:y.default.canModernizeConversationList()}}componentDidMount(){super.componentDidMount(),this.state.showShimForRightPanel&&this._rightPanelShimOpacityValue.setValue(this._hasRightNavContext(this.props,this.state)?1:0),this._registerKeyboardHandlers()}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),this.state.showShimForRightPanel){const i=this._hasRightNavContext(this.props,this.state);i!==this._hasRightNavContext(e,t)&&s.timing.easeOut({value:this._rightPanelShimOpacityValue,toValue:i?1:0,duration:s.Common.Duration.Short,useNativeDriver:!0}).start()}}componentWillUnmount(){super.componentWillUnmount(),this._unregisterKeyboardHandlers()}render(){const e=[I.default.flexOne];this.props.useTabletUI&&e.push(I.default.overflowVisible);const t=this._renderCompositeSplitView(this.props.splitNavContext,this.state.showFooter?void 0:e),i=this.state.showFooter?(0,n.jsx)(l.default,{}):void 0;return(0,n.jsxs)(a.View,Object.assign({style:e},{children:[t,i]}))}_registerKeyboardHandlers(){this._keyboardShortcutToken=h.default.registerKeyboardHandlers()}_unregisterKeyboardHandlers(){this._keyboardShortcutToken&&(h.default.unregisterKeyboardHandlers(this._keyboardShortcutToken),this._keyboardShortcutToken=void 0)}_renderCompositeSplitView(e,t){const i=[],s=e.getMasterContext(),r=!!s&&e instanceof b.RootCompositeSplitViewContext&&!e.shouldDisplayMainAreaFullScreen(),l=!!s&&s.state.viewMode===b.LeftNavViewMode.Search,c=this.state.showShimForRightPanel&&this._hasRightNavContext(this.props,this.state)?a.Types.ImportantForAccessibility.NoHideDescendants:void 0;let g=!0;s&&(s instanceof b.LeftNavigationViewContext?r&&(i.push((0,n.jsx)(S.default,{navContext:s,viewMode:s.state.viewMode,importantForAccessibility:c},"leftNav")),this.state.responsiveWidth<=A.ResponsiveWidth.Tiny&&l&&(g=!1)):i.push((0,n.jsx)(m.default,{navContext:s,importantForAccessibility:c},"leftNav")));let h=b.RightSidebarViewMode.None;const p=this.state.modernizeConversationList&&!this._useAccessibleTheme();if(g){if(this.state.rightSidebarStackNavContext){const e=o.last(this.state.rightSidebarStackNavContext.getNavStack());h=v.deriveViewModeFromRightNavContext(e)}const t=p?this._getLeftShadowStyle():void 0,s=[I.default.flexOne];p&&!this.props.useTabletUI&&s.push(I.default.flexOne,t);const r=[I.default.flexOne,t];let l=(0,n.jsx)(a.View,Object.assign({style:s},{children:(0,n.jsx)(C.default,{splitNavContext:e},"mainStage")}),"mainStage");this.props.useTabletUI&&(l=(0,n.jsx)(a.View,Object.assign({style:r,importantForAccessibility:c},{children:l}),"mainStage")),i.push(l)}if(this.state.shouldDisplayRightNavigation){if(this.state.showShimForRightPanel){h!==b.RightSidebarViewMode.None&&i.push((0,n.jsx)(u.HiddenAnimatedView,Object.assign({style:[D.rightPanelShim,this._rightPanelShimOpacityStyle],disableTouchOpacityAnimation:!0},{children:(0,n.jsx)(a.GestureView,{style:I.default.flexOne,onPanHorizontal:this._onPan,onTap:this._closeRightPanel})}),"rightNavShim"))}let e=!1;const t=this.props.splitNavContext.getNavStack();e=!!t&&(o.last(t)instanceof b.CallNavigationContext||o.last(t)instanceof b.TodayTabNavigationContext),i.push((0,n.jsx)(P.default,{ref:this._onRightSidebarView,stackNavContext:this.state.rightSidebarStackNavContext,leftNavCollapsedOrHidden:!s||!r,suppressAnimation:e,mainStageNavigationViewUsesShadow:p},"rightNav"))}let y,f;this.state.activeModalSplitContext&&(y=(0,n.jsx)(d.default,{activeModalSplitContext:this.state.activeModalSplitContext,showOverflow:!!this.props.useTabletUI}));const _=[D.contentWrapper];y&&this.state.fixedContainerHeight?_.push(a.Styles.createViewStyle({height:this.state.fixedContainerHeight,width:L.default.measureWindow(this._getRootViewId()).width},!1)):_.push(I.default.flexOne);const T=[t||D.contentContainerStyle];return this.props.useTabletUI&&(T.push(I.default.overflowVisible),_.push(I.default.overflowVisible)),(0,n.jsxs)(a.View,Object.assign({style:T},{children:[(0,n.jsx)(x.default,{}),(0,n.jsx)(a.View,Object.assign({style:_,importantForAccessibility:f},{children:i})),y,(0,n.jsx)(N.default,{})]}))}_getLeftShadowStyle(){return D.leftShadowBase}_hasRightNavContext(e,t){return!!t.rightSidebarStackNavContext&&t.rightSidebarStackNavContext.getNavStack().length>0}}t.Z=R},271243:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(705465),s=i(217041),a=i(516778),r=i(281878),l=i(258187),c=i(418037),d=i(733754),u=i(89808),g=i(134952),h=i(157452),p=i(897634),S=i(600212);class m extends s.ComponentBase{constructor(){super(...arguments),this._setNewLanguage=e=>{this.state.language!==e&&this.setState({language:e,isRTL:a.International.isRTL()})}}_buildState(e){var t;const i=c.default.colorTheme(),n=u.default.getColorInfo(),o=h.osThemeStore.getOSTheme(),s=null===(t=c.default.shouldUseSystemTheme())||void 0===t||t,r=(0,p.convertOSThemeToTheme)(i,o),l=(0,g.skypeThemeConnector)(s&&r||i,n.key);return{rootViewId:e.rootViewId,rootViewType:e.rootViewType,language:d.getLocale(),isRTL:a.International.isRTL(),theme:s&&r?r:i,themeStyles:s&&r?S.default.themeStylesForTheme(r):c.default.themeStyles(),themeColors:l.colors,mode:l.themeMode,gradients:l.gradients,userColor:n}}componentDidMount(){super.componentDidMount(),d.localeChangedEvent.subscribe(this._setNewLanguage)}componentWillUnmount(){super.componentWillUnmount(),d.localeChangedEvent.unsubscribe(this._setNewLanguage)}render(){const e=(0,n.jsx)(l.CommonContext.Provider,Object.assign({value:this.state},{children:(0,n.jsx)(r.SUIThemeProvider,Object.assign({colors:this.state.themeColors,gradients:this.state.gradients,mode:this.state.mode},{children:this.props.children}))}));return(0,n.jsx)(o.ReactRootView,Object.assign({rootTag:this.props.nativeRootComponent},{children:e}))}}t.default=m},594474:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(667294),a=i(516778),r=i(757361),l=(i(508859),i(18016)),c=i(889391),d=i(996074),u=i(623111),g=i(895975),h=i(180843),p=i(313560),S=i(546172),m=(i(247920),i(746096)),C=(i(913214),i(422003),i(436237)),y=i(520751),f=i(104735),b=i(330124),_=i(827357),v=i(858115),T=i(29130),P=i(42623),k=i(316392),A=i(478262),I=i(680837),w=i(24576),x=i(853374),N=i(258187),M=i(897634);function L(e){const t=(0,r.useNavigationContainerRef)();(0,s.useEffect)((()=>(_.default.setStackReactNavigation(t.current||void 0),()=>_.default.setStackReactNavigation(void 0))),[t]);const i=(0,N.useCommonContext)(),o=M.isDarkTheme(i.theme),a=o?r.DarkTheme:r.DefaultTheme,l={dark:o,colors:Object.assign(Object.assign({},a.colors),{primary:i.themeColors.headerIconColor,background:i.themeColors.primaryBackgroundColor,card:i.themeColors.primaryBackgroundColor,border:i.themeColors.headerShadowColor,text:i.themeColors.headerTextColor})};return(0,n.jsx)(r.NavigationContainer,Object.assign({ref:t,theme:l,initialState:_.default.initialNavigationState(),onStateChange:e=>{e&&_.default.onStackReactNavigationStateChange(e)}},{children:e.children}))}class O extends w.default{constructor(){super(...arguments),this._onDragDrop=e=>{e.preventDefault(),e.stopPropagation()}}_buildState(e,t){let i;const n=this._getRootViewId(),o=b.default.isUsingStackNavigationContext();o||(i=_.default.getCurrentStackNavigationContext(k.StackNavigatorId.DesktopContent));const s={compositeSplitNavStack:i,isUsingStackNavigationContext:o,shouldCollapseSplitNav:S.default.collapseDesktopStackNavContext()&&T.default.getResponsiveWidth(n)<=A.ResponsiveWidth.Tiny,isCustomActionMenuShown:p.default.isCustomActionMenuShown(),enabledTooltips:[...h.default.getEnabledTooltips()]};return t&&c.default.getS4LUiFeaturesNoSubscription().enableStackReactNavigationFreeze&&(0,l.enableFreeze)(),s.enableRefreshedPalette=c.default.getS4LUiFeatures().enableRefreshedPalette,s}componentDidMount(){if(super.componentDidMount(),S.default.collapseDesktopStackNavContextNoSubscription()){const e=x.default.newCauseId();C.log(m.LogTraceArea.Navigation,"RootNavigationView.componentDidMount, causeId: "+e),f.default.collapseSplitNavContext(k.StackNavigatorId.DesktopContent,this.state.shouldCollapseSplitNav,e)}}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),this.state.shouldCollapseSplitNav!==t.shouldCollapseSplitNav){const e=x.default.newCauseId();C.log(m.LogTraceArea.Navigation,"RootNavigationView.componentDidUpdate, causeId: "+e),f.default.collapseSplitNavContext(k.StackNavigatorId.DesktopContent,this.state.shouldCollapseSplitNav,e)}}render(){const e=[this.props.style,this._themeStyles.primaryBackgroundColorStyle];this.props.useTabletUI&&e.push(I.default.overflowVisible);const t=void 0;return this.state.compositeSplitNavStack?this._renderCompositeView(this.state.compositeSplitNavStack,e,t):(0,n.jsx)(L,Object.assign({enableRefreshedPalette:this.state.enableRefreshedPalette},{children:this._renderStackViewReactNavigation(e,t)}))}_renderStackViewReactNavigation(e,t){return(0,n.jsx)(d.BaseNavigationWrapper,Object.assign({isPresentedByMobileStackNavigator:!0},{children:(0,n.jsxs)(a.View,Object.assign({style:e,importantForAccessibility:this.props.importantForAccessibility},{children:[(0,n.jsx)(P.default,{}),this._renderOptionalPipView(),this._renderCoachmarkPresenter(),this._getOptionalEngagementTooltips(),this._renderNotificationToasts(),t]}),"app")}))}_renderCompositeView(e,t,o){const s=[t];this.props.useTabletUI&&s.push(I.default.overflowVisible);const r=i(760508).Z;return(0,n.jsxs)(a.View,Object.assign({style:s,onDrop:this._onDragDrop,importantForAccessibility:this.props.importantForAccessibility},{children:[(0,n.jsx)(r,{splitNavContext:e,useTabletUI:this.props.useTabletUI},"compositeView"),null,this._renderOptionalPipView(),this._renderCoachmarkPresenter(),this._getOptionalEngagementTooltips(),this._renderNotificationToasts(),o]}))}_renderOptionalPipView(){return null}_renderCoachmarkPresenter(){return(0,n.jsx)(u.default,{})}_getOptionalEngagementTooltips(){return this.state.enabledTooltips.map(((e,t)=>{if(!o.isUndefined(e)&&h.default.isTooltipEnabled(e.type))return g.default.getEngagementTooltip(e,t)}))}_renderNotificationToasts(){return[(0,n.jsx)(v.default,{},"notificationtoast"),(0,n.jsx)(y.default,{},"minitoast")]}}t.default=O},42623:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(530254),a=i(966964),r=i(929314),l=(i(844285),i(249060)),c=i(362807),d=i(242596),u=i(554679),g=i(980633),h=i(951088),p=i(615315),S=i(224793),m=i(872508),C=i(385892),y=i(490135),f=i(947709),b=i(993801),_=i(859937),v=i(217093),T=i(600212),P=i(889391),k=i(104735),A=i(733754),I=i(581760),w=i(137799),x=i(307069),N=i(630631),M=i(924737),L=i(291944),O=i(240641),D=(i(334924),i(436303)),R=i(769216),E=i(702437),B=i(593486),F=(0,s.createNativeStackNavigator)();function V({enableContentChannels:e,useLegacyMobileHub:t,useLegacyQRPanel:i,truVoiceName:o}){const{themeColors:s}=(0,T.useSkypeTheme)(),P={headerShown:!1,headerBackTitleVisible:!1,headerTitleStyle:{fontWeight:"bold"},title:A.getString("Global.AppTitle"),contentStyle:{backgroundColor:s.surfacePrimary}},B={hubTab:v.HubTab.Recents},V=e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(F.Screen,{name:D.StoreNavigationId,component:R.ContentChannelsStoreScreen,options:{headerShown:!0,title:A.getString("ContentChannels.StoreScreenTitle"),headerRight:()=>(0,n.jsx)(E.ContentChannelsHeaderControls,{})}}),(0,n.jsx)(F.Screen,{name:D.ManageNavigationId,component:R.ContentChannelsManageScreen,options:{headerShown:!0,title:A.getString("ContentChannels.ManageScreenTitle")}}),(0,n.jsx)(F.Screen,{name:D.FRENavigationId,component:R.ContentChannelsFREScreen,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM}}),(0,n.jsx)(F.Screen,{name:D.PreviewNavigationId,component:R.ContentChannelsPreviewScreen}),(0,n.jsx)(F.Screen,{name:D.SearchNavigationId,component:R.ContentChannelsSearchScreen})]}):null;return(0,n.jsxs)(F.Navigator,Object.assign({initialRouteName:v.MobileHubNavigationId,screenOptions:()=>Object.assign(Object.assign({},P),{animation:v.StackAnimationType.SLIDE_FROM_RIGHT}),screenListeners:{transitionEnd:e=>{e.data.closing||k.default.stackNavigationCompleted()}}},{children:[(0,n.jsx)(F.Screen,{name:v.MobileHubNavigationId,component:t?w.MobileHub:w.MobileHubV2,initialParams:B}),(0,n.jsx)(F.Screen,{name:a.OneDriveAddinPanelNavigationId,component:r.default}),(0,n.jsx)(F.Screen,{name:v.BingBackgroundNavigationId,component:p.BingBackgroundsPanelView}),(0,n.jsx)(F.Screen,{options:{gestureEnabled:!0},name:v.CallNavigationId,component:p.CallPanel}),(0,n.jsx)(F.Screen,{name:v.CallPreviewNavigationId,component:p.CallPreviewStackNavigation}),(0,n.jsx)(F.Screen,{name:v.CallRosterNavigationId,component:p.CallRosterPanel}),(0,n.jsx)(F.Screen,{name:v.CallingDebugPanelNavigationId,component:p.CallStatsView}),(0,n.jsx)(F.Screen,{name:v.SubtitlesNavigationId,component:p.CallTranscriptionStackPanel}),(0,n.jsx)(F.Screen,{name:v.PSTNCountrySelectorPanelId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:p.CountrySelector}),(0,n.jsx)(F.Screen,{name:v.PSTNDialerPanelId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:p.DialerPanel}),(0,n.jsx)(F.Screen,{name:v.E911AcknowledgementPanelId,component:p.E911AcknowledgementPanel}),(0,n.jsx)(F.Screen,{name:v.QuickCallPanelId,component:p.QuickCallNavigation}),(0,n.jsx)(F.Screen,{name:v.TogetherModeNavigationId,component:p.TogetherModePanel}),(0,n.jsx)(F.Screen,{name:v.TwinCamModalNavigationId,component:p.TwinCamPanel}),(0,n.jsx)(F.Screen,{name:v.GetBalanceStateId,component:S.BalanceStatePanelNavigation}),(0,n.jsx)(F.Screen,{name:v.CallerIdPromptNavigationId,component:S.CallerIdPromptPanel}),(0,n.jsx)(F.Screen,{name:v.CallFailurePromptId,component:S.CallFailurePromptPanel}),(0,n.jsx)(F.Screen,{name:v.CallFailurePostPurchasePromptNavigationId,component:S.CallFailurePostPurchasePromptPanel}),(0,n.jsx)(F.Screen,{name:v.SkypeNumberPostPurchasePromptNavigationId,component:S.SkypeNumberPostPurchasePromptPanel}),(0,n.jsx)(F.Screen,{name:v.SkypeNumberPanelPurchaseFlowNavigationId,component:S.SkypeNumberPurchaseFlow}),(0,n.jsx)(F.Screen,{name:v.Payments3dsNavigationId,component:S.Payments3dsWebPanel}),(0,n.jsx)(F.Screen,{name:v.PurchaseConfirmationDialogWrapperNavigationId,component:S.PurchaseConfirmationDialogWrapper}),(0,n.jsx)(F.Screen,{name:v.GetProductWebFlowNavigationId,component:S.PaymentsWebFlowPanel}),(0,n.jsx)(F.Screen,{name:v.PurchaseContinuationId,component:S.PurchaseContinuationPanel}),(0,n.jsx)(F.Screen,{name:v.SendCreditPanelNavigationId,component:S.SendCreditPanel}),(0,n.jsx)(F.Screen,{name:v.SendCreditSearchPeopleId,component:S.SendCreditSearchPeople}),(0,n.jsx)(F.Screen,{name:v.SkypeNumberCountryAreaSelectorPanelId,component:S.SkypeNumberCountryAreaSelector}),(0,n.jsx)(F.Screen,{name:v.SkypeNumberListNavigationId,component:S.SkypeNumberList}),(0,n.jsx)(F.Screen,{name:v.SkypeNumberInfoScreenNavigationId,component:S.SkypeNumberInfoScreen,options:{headerShown:!0,title:A.getString("SkypeNumberPanel.Title")}}),(0,n.jsx)(F.Screen,{name:v.SkypeNumberFormsNavigationId,component:S.SkypeNumberFormPanel,options:{headerShown:!0,title:A.getString("SkypeNumberPanel.Title")}}),(0,n.jsx)(F.Screen,{name:v.SkypeNumberPrefixSelectorPanelId,component:S.SkypeNumberPrefixSelector}),(0,n.jsx)(F.Screen,{name:v.SkypeNumberFormOptionSelectorPanelId,component:S.SkypeNumberFormOptionSelector,options:{headerShown:!0,title:A.getString("SkypeNumberPanel.OptionsTitle")}}),(0,n.jsx)(F.Screen,{name:v.SmsFailurePromptId,component:S.SmsFailurePrompt}),(0,n.jsx)(F.Screen,{name:v.SubscriptionIntroNavigationId,component:S.SubscriptionsIntro}),(0,n.jsx)(F.Screen,{name:v.TasterPostCallPanelId,component:S.TasterPostCallPanel}),(0,n.jsx)(F.Screen,{name:v.TodayTabInterestsPanelNavigationId,component:L.TodayTabInterestsPanel,options:{headerShown:!0,title:L.TodayTabInterestsPanel.getHeaderText()}}),(0,n.jsx)(F.Screen,{name:v.TelemetryPerfId,component:w.TelemetryPerfPanel,options:{headerShown:!0,title:"Telemetry Monitor"}}),(0,n.jsx)(F.Screen,{name:v.JoiningGuestNavigatorId,component:w.SplashScreenNavigation}),(0,n.jsx)(F.Screen,{name:v.CaptivePortalQuestionnaireNavigationId,component:w.CaptivePortalQuestionnaire,options:{headerShown:!0,title:A.getString("ConnectivityStatusBar.CaptivePortalDismissHeader")}}),(0,n.jsx)(F.Screen,{name:v.ReportConcernNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:w.ReportConcernModal}),(0,n.jsx)(F.Screen,{name:v.DetailsNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:w.DetailsPanel}),(0,n.jsx)(F.Screen,{name:v.BotDiscoveryNavigationId,component:m.AgentsDiscoveryPanel}),(0,n.jsx)(F.Screen,{name:v.BotsListNavigationId,component:m.AgentsPanelNavigation}),(0,n.jsx)(F.Screen,{name:v.InAppBrowserNavigationId,component:m.Browser}),(0,n.jsx)(F.Screen,{name:v.AvatarNavigationId,component:C.AvatarPickerDialog}),(0,n.jsx)(F.Screen,{name:v.CommonAvatarNavigationId,component:C.AvatarCommonPickerDialog}),(0,n.jsx)(F.Screen,{name:v.EngagementSharePanelNavigationId,component:C.EngagementSharePanel}),(0,n.jsx)(F.Screen,{name:v.PeopleYouMayKnowNoticeNavigationId,component:C.PeopleYouMayKnowNoticeDialog}),(0,n.jsx)(F.Screen,{name:v.PnvEnterCodeNavigationId,component:w.PnvEnterCodeNavigation}),(0,n.jsx)(F.Screen,{name:v.PnvEnterNumberNavigationId,component:w.PnvEnterNumberNavigation}),(0,n.jsx)(F.Screen,{name:v.PnvDebugToolNavigationId,component:w.PnvDebugNavigation}),(0,n.jsx)(F.Screen,{name:v.PromptPermissionsNavigatorId,component:w.PromptPermissionDialog}),(0,n.jsx)(F.Screen,{name:v.SsoWebFlowNavigationId,component:C.SsoWebFlowPanelNavigation}),(0,n.jsx)(F.Screen,{name:v.SyncAddressBookNavigationId,component:C.SyncAddressBookNavigation}),(0,n.jsx)(F.Screen,{name:v.TelemetryConsentNavigationId,component:C.TelemetryConsentDialog}),(0,n.jsx)(F.Screen,{name:v.ThemeNavigationId,component:w.ThemeDialog}),(0,n.jsx)(F.Screen,{name:v.UserProfileNavigationId,component:w.UserProfileDialog}),(0,n.jsx)(F.Screen,{name:v.AboutNavigationId,component:w.AboutPanelNavigation,options:{headerShown:!0,title:A.getString("AboutPanel.AboutTitle")}}),(0,n.jsx)(F.Screen,{name:v.AdvancedCallingSettingsPanelNavigationId,component:w.AdvancedCallingSettingsPanel,options:{headerShown:!0,title:A.getString("AdvancedCallingSettingsPanel.HeaderText")}}),(0,n.jsx)(F.Screen,{name:v.AlertsHubNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM,headerShown:!0,headerStyle:{backgroundColor:s.surfacePrimary},headerLeft:()=>(0,n.jsx)(M.default,{}),title:A.getString("SettingsHubHeader.NotificationsTitle"),headerTitleAlign:"center"},component:w.AlertsHubPanelNavigation}),(0,n.jsx)(F.Screen,{name:v.BlockedUsersListId,component:w.BlockedUsersListPanel,options:{headerShown:!0,title:A.getString("UserSettingsPanel.BlockedContactsTitle")}}),(0,n.jsx)(F.Screen,{name:v.CallerIdCallingSettingsPanelNavigationId,component:w.CallerIdSettingsPanel,options:{headerShown:!0,title:A.getString("CallingSettingsPanel.CallerID")}}),(0,n.jsx)(F.Screen,{name:v.CallerIdNumberCallingSettingsPanelNavigationId,component:w.CallerIdNumberPanel,options:{headerShown:!0,title:A.getString("CallingSettingsPanel.CallerID")}}),(0,n.jsx)(F.Screen,{name:v.CallingSettingsPanelNavigationId,component:w.CallingSettingsPanel,options:{headerShown:!0,title:A.getString("UserSettingsPanel.CallSettingsTitle")}}),(0,n.jsx)(F.Screen,{name:v.ConnectedUsersListNavigationId,component:w.ConnectedUsersListPanel,options:{headerShown:!0,title:A.getString("UserSettingsPanel.ProfileVisiblityTitle")}}),(0,n.jsx)(F.Screen,{name:v.DiagnosticToolsId,component:w.DiagnosticToolsPanel,options:{headerShown:!0,title:A.getString("UserSettingsPanel.DiagnosticToolsTitle")}}),(0,n.jsx)(F.Screen,{name:v.ManageSearchInfoPanelId,component:w.ManageSearchInfoPanel,options:{headerShown:!0,title:A.getString("ManageSearchInfoPanel.PanelTitleContactsPrivacy")}}),(0,n.jsx)(F.Screen,{name:v.FeatureFlagListId,component:w.FeatureFlags,options:{headerShown:!0,title:"Manage feature flags"}}),(0,n.jsx)(F.Screen,{name:v.LanguagePickerNavigationId,component:w.LanguagePickerPanel}),(0,n.jsx)(F.Screen,{name:v.LanguagePickerOldNavigationId,component:w.LanguagePickerPanelOld}),(0,n.jsx)(F.Screen,{name:v.SpokenLanguagePickerNavigationId,component:w.SpokenLanguagePickerPanel}),(0,n.jsx)(F.Screen,{name:v.VoicePickerNavigationId,component:w.VoicePickerPanel}),(0,n.jsx)(F.Screen,{name:v.ManageUsersSettingsPanelNavigationId,component:w.ManageUsersSettingsPanel,options:{headerShown:!0,title:A.getString("UserSettingsPanel.ManageContactsTitle")}}),(0,n.jsx)(F.Screen,{name:v.NewSettingsPanelNavigationId,component:w.MobileSettingsPanel,options:{headerShown:!0,title:A.getString("UserSettingsPanel.SettingsTitle")}}),(0,n.jsx)(F.Screen,{name:v.MySettingsNavigationId,component:w.MySettingsPanel}),(0,n.jsx)(F.Screen,{name:v.ProfilePicturePanelId,component:w.ProfilePicturePanel,options:{headerShown:!0,title:A.getString("UserSettingsPanel.ProfilePictureTitle")}}),(0,n.jsx)(F.Screen,{name:v.RawPreferencesId,component:w.RawPreferences,options:{headerShown:!0,title:"Raw app preferences"}}),(0,n.jsx)(F.Screen,{name:v.SendDiagnosticLogsId,component:w.SendDiagnosticLogsPanel,options:{headerShown:!0,title:A.getString("SendDiagnosticLogsDialog.SendDiagnosticLogs")}}),(0,n.jsx)(F.Screen,{name:v.SettingsGroupNavigationId,component:w.SettingsGroupPanel,options:{headerShown:!0}}),(0,n.jsx)(F.Screen,{name:v.SlimcoreFlagListId,component:w.SlimcoreFlagsPanel}),(0,n.jsx)(F.Screen,{name:v.SpeechConsentNavigationId,component:w.SpeechConsentPanel,options:{headerShown:!0,title:A.getString("SpeechConsentPanel.PanelTitle")}}),(0,n.jsx)(F.Screen,{name:v.TranslationConsentNavigationId,component:x.default,options:{headerShown:!0,title:A.getString("CallTranscriptionNotifications.TranslationConsent")}}),(0,n.jsx)(F.Screen,{name:v.TruVoiceConsentNavigationId,component:N.default,options:{headerShown:!0,title:A.getString("CallTranscriptionNotifications.TruVoiceConsent",{featureName:o})}}),(0,n.jsx)(F.Screen,{name:v.SubtitlesCallingSettingsPanelNavigationId,component:w.SubtitlesCallingSettingsPanel,options:{headerShown:!0,title:A.getString("CallingSettingsPanel.SubtitlesButtonLabel")}}),(0,n.jsx)(F.Screen,{name:v.ThirdPartyNoticesNavigationId,component:w.ThirdPartyNoticesPanel,options:{headerShown:!0,title:A.getString("ThirdPartyNoticesPanel.ThirdPartyNoticesTitle")}}),(0,n.jsx)(F.Screen,{name:v.TranslationSettingsPanelNavigationId,component:w.TranslationSettingsPanel,options:{headerShown:!0,title:A.getString("UserSettingsPanel.TranslationSettingsTitle")}}),(0,n.jsx)(F.Screen,{name:v.PreSignOutPanelNavigationId,component:C.PreSignOutPanel,options:{headerShown:!0,title:A.getString("PreSignOutMenu.LandingScreenTitle")}}),(0,n.jsx)(F.Screen,{name:v.GuestUpsellNavigationId,component:y.default,options:{headerShown:!0,title:A.getString("GuestUpsell.TitleText")}}),(0,n.jsx)(F.Screen,{name:c.MeetNowCreatorLobbyNavigationId,component:l.MeetNowCreatorLobbyWrapper,options:{gestureEnabled:void 0}}),(0,n.jsx)(F.Screen,{name:c.MeetNowJoinLinkPanelNavigationId,component:l.MeetNowJoinLinkPanel}),(0,n.jsx)(F.Screen,{name:c.JoinMeetNowPanelNavigationId,component:l.JoinMeetNowPanelNavigation}),(0,n.jsx)(F.Screen,{name:c.MeetNowLobbyNavigationId,component:l.MeetNowLobbyNavigation,options:{gestureEnabled:void 0}}),(0,n.jsx)(F.Screen,{name:c.MeetNowCreateOrJoinFlyoutNavigationId,component:l.MeetNowCreateOrJoinFlyout}),(0,n.jsx)(F.Screen,{name:c.MobileMeetingAvatarPickerNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:l.MobileMeetingTitleAndAvatarPicker}),(0,n.jsx)(F.Screen,{name:c.MeetNowJoinFlyoutNavigationId,options:{animation:v.StackAnimationType.SIMPLE_PUSH},component:l.MeetNowJoinFlyout}),(0,n.jsx)(F.Screen,{name:v.RedirectToLogoutNavigationId,options:{animation:v.StackAnimationType.SIMPLE_PUSH},component:C.LogoutPage}),(0,n.jsx)(F.Screen,{name:v.ArchivedConversationsId,options:{headerShown:!0,title:A.getString("ArchivedConversationsPanel.Title")},component:f.ArchivedConversationsNavigation}),(0,n.jsx)(F.Screen,{name:v.CreateConversationNavigationId,component:f.CreateConversationNavigation}),(0,n.jsx)(F.Screen,{name:v.ConversationParticipantsNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:f.ConversationParticipantsNavigation}),(0,n.jsx)(F.Screen,{name:v.CaptureComboNavigationId,component:f.CaptureComboViewNavigation}),(0,n.jsx)(F.Screen,{name:v.CaptureMultiPreviewNavigationId,component:f.CaptureMultiplePreviewNavigation}),(0,n.jsx)(F.Screen,{name:v.CapturePreviewNavigationId,component:f.CapturePreviewNavigation}),(0,n.jsx)(F.Screen,{name:v.CustomReactionsPanelId,component:f.CustomReactionsNavigation}),(0,n.jsx)(F.Screen,{name:v.ConversationMediaViewerPanelNavigationId,options:{animation:v.StackAnimationType.FADE},component:f.ConversationMediaViewerNavigation}),(0,n.jsx)(F.Screen,{name:v.LoadingPanelNavigationId,component:f.LoadingNavigation}),(0,n.jsx)(F.Screen,{name:v.LocationPickerNavigationId,component:f.LocationPickerNavigation}),(0,n.jsx)(F.Screen,{name:v.LocationViewerNavigationId,options:({route:e})=>({headerShown:!0,title:(0,f.getLocationViewerNavigationHeaderTitle)(e.params)}),component:f.LocationViewerNavigation}),(0,n.jsx)(F.Screen,{name:v.NearByPlacesNavigationId,component:f.NearByPlacesNavigation}),(0,n.jsx)(F.Screen,{name:v.MediaPickerNavigationId,component:f.MediaPickerNavigation}),(0,n.jsx)(F.Screen,{name:v.ConversationNavigationId,component:f.MobileContentPanel}),(0,n.jsx)(F.Screen,{name:v.PesSearchNavigationId,component:f.PesSearchNavigation}),(0,n.jsx)(F.Screen,{name:v.ShareContactsToConversationNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:f.ShareContactsToConversationNavigation}),(0,n.jsx)(F.Screen,{name:v.ShareWithPanelNavigationId,component:f.ShareWithNavigation}),(0,n.jsx)(F.Screen,{name:v.GalleryNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:f.StackGalleryNavigation}),(0,n.jsx)(F.Screen,{name:v.MediaViewerNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM,headerShown:!0,headerStyle:{backgroundColor:I.Color.black},headerTintColor:I.Color.white,headerTitle:""},component:f.MediaViewerNavigation}),(0,n.jsx)(F.Screen,{name:v.DocumentViewerNavigationId,component:f.DocumentViewerNavigation}),(0,n.jsx)(F.Screen,{name:v.GifPreviewNavigationId,options:{headerShown:!0,headerTitle:"",animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:f.GifPreviewNavigation}),(0,n.jsx)(F.Screen,{name:v.ActiveNowPanelId,component:b.ActiveNowNavigation}),(0,n.jsx)(F.Screen,{name:v.AddContactPanelId,options:{animation:v.StackAnimationType.SIMPLE_PUSH},component:b.AddContactNavigation}),(0,n.jsx)(F.Screen,{name:v.AddPhoneNumberPanelNavigationId,options:{animation:v.StackAnimationType.SIMPLE_PUSH},component:b.AddPhoneNumberNavigation}),(0,n.jsx)(F.Screen,{name:v.CallingSettingsHeaderAuthWebFlowNavigationId,component:b.CallingSettingsHeaderAuthWebFlowNavigation}),(0,n.jsx)(F.Screen,{name:v.ChatConfigNavigationId,component:b.ChatSettingsNavigation}),(0,n.jsx)(F.Screen,{name:v.ContactsPanelId,component:b.ContactsNavigation}),(0,n.jsx)(F.Screen,{name:v.ConversationSharingScreenId,component:b.ConversationInviteSharePanel}),(0,n.jsx)(F.Screen,{name:v.InviteLinkQRPanelNavigationId,component:b.DisplayQRPanel,options:{headerShown:!i,headerTitle:A.getString("InviteShare.QRPanelHeader"),headerTitleAlign:"center",headerTransparent:!0}}),(0,n.jsx)(F.Screen,{name:v.MeControlNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:b.MobileMeControlPanel}),(0,n.jsx)(F.Screen,{name:v.InviteShareNavigationId,component:b.ProfileInviteSharePanel}),(0,n.jsx)(F.Screen,{name:v.SkypeNumberWebFlowNavigationId,component:b.HeaderAuthWebFlowNavigation}),(0,n.jsx)(F.Screen,{name:v.SearchNavigationId,options:{animation:v.StackAnimationType.FADE},component:b.SearchPanel}),(0,n.jsx)(F.Screen,{name:u.PollCreationPanelNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM,headerShown:!0,title:A.getString("Poll.Header")},component:d.PollCreationPanel}),(0,n.jsx)(F.Screen,{name:u.PollSummaryPanelNavigationId,component:d.PollSummaryPanel}),(0,n.jsx)(F.Screen,{name:u.PollVotersListPanelNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:d.PollVotersListPanel}),(0,n.jsx)(F.Screen,{name:h.ScheduleCallCreationPanelNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:g.ScheduleCallCreationPanel}),(0,n.jsx)(F.Screen,{name:h.ScheduleCallReminderPanelNavigationId,component:g.ScheduleCallReminderPanel}),(0,n.jsx)(F.Screen,{options:{gestureEnabled:!1},name:h.ScheduledCallOrganizerEditPanelNavigationId,component:g.ScheduledCallOrganizerEditPanel}),(0,n.jsx)(F.Screen,{name:h.ScheduledCallsListPanelNavigationId,component:g.ScheduledCallsListPanel}),(0,n.jsx)(F.Screen,{name:h.ScheduledCallOverviewPanelNavigationId,options:{animation:v.StackAnimationType.SLIDE_FROM_BOTTOM},component:g.ScheduledCallOverviewPanel}),(0,n.jsx)(F.Screen,{name:v.ArticleReaderMobileNavigationId,options:{animation:v.StackAnimationType.FADE},component:O.default}),(0,n.jsx)(F.Screen,{name:v.AvatarPickerPanelNavigationId,component:_.default,options:{headerShown:!0,title:A.getString("AvatarPickerPanel.PanelTitle")}}),!1,V]}))}class U extends o.ComponentBase{_buildState(){const{enableMobileHubV2:e,enableContentChannels:t}=P.default.getS4LUiFeatures(),i=B.default.isChildOrMinor(),{translationFeatures:{truVoiceName:n}}=P.default.getS4LCMCFeatures(),{enableRedesignedQrCodePanel:o}=P.default.getS4LMeetNowFeatures();return{enableContentChannels:t&&!i,useLegacyQRPanel:!o,useLegacyMobileHub:!e,truVoiceName:n}}render(){return(0,n.jsx)(V,{enableContentChannels:this.state.enableContentChannels,useLegacyMobileHub:this.state.useLegacyMobileHub,useLegacyQRPanel:this.state.useLegacyQRPanel,truVoiceName:this.state.truVoiceName})}}t.default=U},205844:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(281878),s=i(600212),a=i(619675),r="https://secure.skypeassets.com/content/dam/scom/features/main/bgreplacefeatures22.jpg";t.default=function(){const{gradients:{tertiary:e}}=(0,s.useSkypeTheme)();return(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.Header,Object.assign({size:a.HeaderSize.h2},{children:"Image Avatar"})),(0,n.jsxs)(o.Row,Object.assign({space:"2"},{children:[(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxxs"}),(0,n.jsx)(o.ImageAvatar,{size:"xxxs",uri:r})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxs"}),(0,n.jsx)(o.ImageAvatar,{size:"xxs",uri:r})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xs"}),(0,n.jsx)(o.ImageAvatar,{size:"xs",uri:r})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"sm"}),(0,n.jsx)(o.ImageAvatar,{size:"sm",uri:r})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"md"}),(0,n.jsx)(o.ImageAvatar,{size:"md",uri:r})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"lg"}),(0,n.jsx)(o.ImageAvatar,{size:"lg",uri:r})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xl"}),(0,n.jsx)(o.ImageAvatar,{size:"xl",uri:r})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxl"}),(0,n.jsx)(o.ImageAvatar,{size:"xxl",uri:r})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxxl"}),(0,n.jsx)(o.ImageAvatar,{size:"xxxl",uri:r})]})]})),(0,n.jsx)(a.Header,Object.assign({size:a.HeaderSize.h2},{children:"Compound Avatar"})),(0,n.jsxs)(o.Row,Object.assign({space:"2"},{children:[(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxxs"}),(0,n.jsx)(o.CompoundAvatar,{size:"xxxs",background:e,element:(0,n.jsx)(a.BodyText,{children:"😊"})})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxs"}),(0,n.jsx)(o.CompoundAvatar,{size:"xxs",background:e,element:(0,n.jsx)(a.BodyText,{children:"😊"})})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xs"}),(0,n.jsx)(o.CompoundAvatar,{size:"xs",background:e,element:(0,n.jsx)(a.BodyText,{children:"😊"})})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"sm"}),(0,n.jsx)(o.CompoundAvatar,{size:"sm",background:e,element:(0,n.jsx)(a.BodyText,{children:"😊"})})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"md"}),(0,n.jsx)(o.CompoundAvatar,{size:"md",background:e,element:(0,n.jsx)(a.BodyText,{children:"😊"})})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"lg"}),(0,n.jsx)(o.CompoundAvatar,{size:"lg",background:e,element:(0,n.jsx)(a.BodyText,{children:"😊"})})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xl"}),(0,n.jsx)(o.CompoundAvatar,{size:"xl",background:e,element:(0,n.jsx)(a.BodyText,{children:"😊"})})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxl"}),(0,n.jsx)(o.CompoundAvatar,{size:"xxl",background:e,element:(0,n.jsx)(a.BodyText,{children:"😊"})})]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxxl"}),(0,n.jsx)(o.CompoundAvatar,{size:"xxxl",background:e,element:(0,n.jsx)(a.BodyText,{children:"😊"})})]})]}))]})}},590874:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(281878),s=i(619675),a=i(711828),r=i(600212);t.default=function({}){const{themeColors:{iconOnColor:e,iconPrimary:t,dividerPrimary:i}}=(0,r.useSkypeTheme)();return(0,n.jsxs)(o.Column,Object.assign({space:"2"},{children:[(0,n.jsxs)(o.Row,Object.assign({flex:"1",space:"2"},{children:[(0,n.jsxs)(o.Column,Object.assign({width:"350px",space:"2",borderRightColor:i,borderRightWidth:"1",paddingX:"2"},{children:[(0,n.jsx)(s.Header,Object.assign({size:s.HeaderSize.h4},{children:"Branded"})),(0,n.jsx)(o.Row,Object.assign({height:"8"},{children:(0,n.jsx)(o.Button,{variant:"branded",label:"Branded button"})})),(0,n.jsx)(o.Row,Object.assign({height:"8"},{children:(0,n.jsx)(o.Button,{variant:"branded",label:"Branded button with icon",PrefixSlot:(0,a.getIcon)(a.SkypeIcon.Plus,a.IconSize.size24,e)})})),(0,n.jsx)(o.Row,Object.assign({height:"8"},{children:(0,n.jsx)(o.Button,{variant:"branded",label:"Branded button fluid",fluid:!0})}))]})),(0,n.jsxs)(o.Column,Object.assign({width:"350px",space:"2",borderRightColor:i,borderRightWidth:"1",paddingX:"2"},{children:[(0,n.jsx)(s.Header,Object.assign({size:s.HeaderSize.h4},{children:"Ghost"})),(0,n.jsx)(o.Row,Object.assign({height:"8"},{children:(0,n.jsx)(o.Button,{variant:"ghost",label:"Ghost sbutton"})})),(0,n.jsx)(o.Row,Object.assign({height:"8"},{children:(0,n.jsx)(o.Button,{variant:"ghost",label:"Ghost button with icon",PrefixSlot:(0,a.getIcon)(a.SkypeIcon.Plus,a.IconSize.size24,t)})})),(0,n.jsx)(o.Row,Object.assign({height:"8"},{children:(0,n.jsx)(o.Button,{variant:"ghost",label:"Ghost button fluid",fluid:!0})}))]}))]})),(0,n.jsxs)(o.Row,Object.assign({flex:"1",space:"2"},{children:[(0,n.jsxs)(o.Column,Object.assign({width:"350px",space:"2",borderRightColor:i,borderRightWidth:"1",paddingX:"2"},{children:[(0,n.jsx)(s.Header,Object.assign({size:s.HeaderSize.h4},{children:"Outline"})),(0,n.jsx)(s.BodyText,{children:"Outline buttons are comming soon."})]})),(0,n.jsxs)(o.Column,Object.assign({width:"350px",space:"2",borderRightColor:i,borderRightWidth:"1",paddingX:"2"},{children:[(0,n.jsx)(s.Header,Object.assign({size:s.HeaderSize.h4},{children:"Branded outline"})),(0,n.jsx)(s.BodyText,{children:"Branded outline buttons are comming soon."})]})),(0,n.jsxs)(o.Column,Object.assign({width:"350px",space:"2",borderRightColor:i,borderRightWidth:"1",paddingX:"2"},{children:[(0,n.jsx)(s.Header,Object.assign({size:s.HeaderSize.h4},{children:"Color"})),(0,n.jsx)(s.BodyText,{children:"Color buttons are comming soon."})]}))]}))]}))}},100262:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(705465),s=i(281878),a=i(600212);t.default=function(){const{open:e,isOpen:t,close:i}=(0,s.useDialogDisclose)(),{themeColors:{category1:r,category2:l,category3:c,category4:d,category5:u,category6:g}}=(0,a.useSkypeTheme)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.View,Object.assign({style:{width:300}},{children:(0,n.jsx)(o.Button,{onPress:e,title:"Bottom Sheet"})})),(0,n.jsx)(s.BottomSheet,Object.assign({isOpen:t,onClose:i},{children:(0,n.jsxs)(o.ScrollView,{children:[(0,n.jsx)(o.Button,{onPress:i,title:"cancel"}),(0,n.jsxs)(s.Column,Object.assign({paddingY:4},{children:[(0,n.jsxs)(s.Row,Object.assign({space:2},{children:[(0,n.jsx)(s.Box,{width:40,height:40,borderRadius:20,backgroundColor:r}),(0,n.jsx)(s.Box,{width:40,height:40,borderRadius:20,backgroundColor:l})]})),(0,n.jsxs)(s.Row,Object.assign({space:2},{children:[(0,n.jsx)(s.Box,{width:40,height:40,borderRadius:20,backgroundColor:c}),(0,n.jsx)(s.Box,{width:40,height:40,borderRadius:20,backgroundColor:d})]})),(0,n.jsxs)(s.Row,Object.assign({space:2},{children:[(0,n.jsx)(s.Box,{width:40,height:40,borderRadius:20,backgroundColor:u}),(0,n.jsx)(s.Box,{width:40,height:40,borderRadius:20,backgroundColor:g})]}))]}))]})}))]})}},495381:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(281878),a=i(619675),r=i(23656),l=i(18078);function c({conversationId:e}){const t="28:a62068e3-63e9-4ffc-89a6-14d841e224d2";return(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.Header,Object.assign({size:a.HeaderSize.h2},{children:"Conversation Avatar"})),(0,n.jsx)(a.BodyText,{children:"Conversation avatar. This component is aware of conversation entity and should not be used for other entities."}),(0,n.jsx)(a.Caption,{children:"Decides whether to render a round or square avatar based on the conversation type. Will render a fallback initials avatar if the avatar image fails to load."}),(0,n.jsx)(a.Header,Object.assign({size:a.HeaderSize.h4},{children:"Conversation"})),(0,n.jsxs)(s.Row,Object.assign({space:"2"},{children:[(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxxs"}),(0,n.jsx)(r.ConversationAvatar,{id:e,size:"xxxs"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxs"}),(0,n.jsx)(r.ConversationAvatar,{id:e,size:"xxs"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xs"}),(0,n.jsx)(r.ConversationAvatar,{id:e,size:"xs"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"sm"}),(0,n.jsx)(r.ConversationAvatar,{id:e,size:"sm"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"md"}),(0,n.jsx)(r.ConversationAvatar,{id:e,size:"md"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"lg"}),(0,n.jsx)(r.ConversationAvatar,{id:e,size:"lg"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xl"}),(0,n.jsx)(r.ConversationAvatar,{id:e,size:"xl"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxl"}),(0,n.jsx)(r.ConversationAvatar,{id:e,size:"xxl"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxxl"}),(0,n.jsx)(r.ConversationAvatar,{id:e,size:"xxxl"})]})]})),(0,n.jsx)(a.Header,Object.assign({size:a.HeaderSize.h4},{children:"Bot"})),(0,n.jsxs)(s.Row,Object.assign({space:"2"},{children:[(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxxs"}),(0,n.jsx)(r.ConversationAvatar,{id:t,size:"xxxs"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxs"}),(0,n.jsx)(r.ConversationAvatar,{id:t,size:"xxs"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xs"}),(0,n.jsx)(r.ConversationAvatar,{id:t,size:"xs"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"sm"}),(0,n.jsx)(r.ConversationAvatar,{id:t,size:"sm"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"md"}),(0,n.jsx)(r.ConversationAvatar,{id:t,size:"md"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"lg"}),(0,n.jsx)(r.ConversationAvatar,{id:t,size:"lg"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xl"}),(0,n.jsx)(r.ConversationAvatar,{id:t,size:"xl"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxl"}),(0,n.jsx)(r.ConversationAvatar,{id:t,size:"xxl"})]}),(0,n.jsxs)(s.Column,{children:[(0,n.jsx)(a.BodyText,{children:"xxxl"}),(0,n.jsx)(r.ConversationAvatar,{id:t,size:"xxxl"})]})]}))]})}class d extends o.ComponentBase{_buildState(){return{conversationId:l.default.getSkypeMri()}}render(){return(0,n.jsx)(c,Object.assign({},this.props,{conversationId:this.state.conversationId}))}}t.default=d},332419:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(667294),s=i(516778),a=i(281878),r=i(600212),l=[{label:"Bottom",value:a.Direction.bottom.toString()},{label:"Bottom Left",value:a.Direction.bottomLeft.toString()},{label:"Bottom Right",value:a.Direction.bottomRight.toString()},{label:"Left",value:a.Direction.left.toString()},{label:"Right",value:a.Direction.right.toString()},{label:"Top",value:a.Direction.top.toString()},{label:"Top Left",value:a.Direction.topLeft.toString()},{label:"Top Right",value:a.Direction.topRight.toString()},{label:"To Bottom Right",value:a.Direction.toBottomRight.toString()}];t.default=function(){const{gradients:{secondary:e}}=(0,r.useSkypeTheme)(),[t,i]=(0,o.useState)(l[0].value),c=(0,o.useCallback)((e=>{i(e)}),[]);return(0,n.jsxs)(a.Column,{children:[(0,n.jsx)(s.Picker,{style:{width:300},items:l,selectedValue:t,onValueChange:c}),(0,n.jsx)(a.Center,Object.assign({height:"100",width:"100"},{children:(0,n.jsx)(a.Gradient,{direction:parseInt(t,10),colors:e,style:{width:100,height:100,borderRadius:50}})}))]})}},522787:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(281878),s=i(619675),a=i(600212);t.default=function(){const{themeColors:e}=(0,a.useSkypeTheme)();return(0,n.jsxs)(o.Column,Object.assign({space:2},{children:[(0,n.jsxs)(o.Row,Object.assign({space:1,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"0.5"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,paddingLeft:"0.5"})]})),(0,n.jsxs)(o.Row,Object.assign({space:4,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"1"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,paddingLeft:1})]})),(0,n.jsxs)(o.Row,Object.assign({space:1,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"1.5"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:"1.5"})]})),(0,n.jsxs)(o.Row,Object.assign({space:4,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"2"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:2})]})),(0,n.jsxs)(o.Row,Object.assign({space:4,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"3"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:3})]})),(0,n.jsxs)(o.Row,Object.assign({space:4,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"4"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:4})]})),(0,n.jsxs)(o.Row,Object.assign({space:4,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"5"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:5})]})),(0,n.jsxs)(o.Row,Object.assign({space:4,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"6"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:6})]})),(0,n.jsxs)(o.Row,Object.assign({space:4,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"7"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:7})]})),(0,n.jsxs)(o.Row,Object.assign({space:4,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"8"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:8})]})),(0,n.jsxs)(o.Row,Object.assign({space:4,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"9"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:9})]})),(0,n.jsxs)(o.Row,Object.assign({space:2,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"10"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:10})]})),(0,n.jsxs)(o.Row,Object.assign({space:2,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"12"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:12})]})),(0,n.jsxs)(o.Row,Object.assign({space:2,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"14"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:14})]})),(0,n.jsxs)(o.Row,Object.assign({space:2,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"16"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:16})]})),(0,n.jsxs)(o.Row,Object.assign({space:2,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"20"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:20})]})),(0,n.jsxs)(o.Row,Object.assign({space:2,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"24"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:24})]})),(0,n.jsxs)(o.Row,Object.assign({space:2,alignItems:"center"},{children:[(0,n.jsx)(s.BodyText,{children:"28"}),(0,n.jsx)(o.Box,{background:e.surfaceInteractiveFill,height:2,pl:28})]}))]}))}},673367:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(281878),s=i(667294),a=i(600212),r=i(619675);t.default=function({}){const{themeColors:{surfacePrimary:e}}=(0,a.useSkypeTheme)(),[t,i]=(0,s.useState)("all");return(0,n.jsxs)(o.Column,{children:[(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(r.Header,Object.assign({size:r.HeaderSize.h3},{children:"Pill"})),(0,n.jsx)(o.Row,Object.assign({paddingX:"2",paddingTop:"2",paddingBottom:"3",height:"52px",space:"2",justifyContent:"space-between",flexWrap:"nowrap",backgroundColor:e},{children:(0,n.jsx)(o.SegmentedControl,{variant:"pill",onSelectionChange:i,items:[{id:"all",label:"All"},{id:"chats",label:"Chats"},{id:"channels",label:"Channels"}],selectedId:t})}))]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(r.Header,Object.assign({size:r.HeaderSize.h3},{children:"Pill Fluid"})),(0,n.jsx)(o.Row,Object.assign({paddingX:"2",paddingTop:"2",paddingBottom:"3",height:"52px",space:"2",justifyContent:"space-between",flexWrap:"nowrap",backgroundColor:e},{children:(0,n.jsx)(o.SegmentedControl,{fluid:!0,variant:"pill",onSelectionChange:i,items:[{id:"all",label:"All"},{id:"chats",label:"Chats"},{id:"channels",label:"Channels"}],selectedId:t})}))]}),(0,n.jsxs)(o.Column,{children:[(0,n.jsx)(r.Header,Object.assign({size:r.HeaderSize.h3},{children:"Segmented"})),(0,n.jsx)(o.Row,Object.assign({paddingX:"2",paddingTop:"2",paddingBottom:"3",height:"52px",space:"2",justifyContent:"space-between",flexWrap:"nowrap",backgroundColor:e},{children:(0,n.jsx)(o.SegmentedControl,{variant:"segmented",onSelectionChange:i,items:[{id:"all",label:"All"},{id:"chats",label:"Chats"},{id:"channels",label:"Channels"}],selectedId:t})}))]})]})}},656714:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(705465),a=i(281878),r=i(619675),l=i(134952),c=i(600212),d=i(258187);t.default=function(e){const{userColor:t}=(0,d.useCommonContext)(),{themeColors:i,gradients:u,mode:g}=(0,c.useSkypeTheme)(),h=(0,l.getSkypeColors)(t,g.isDark?"dark":"light");return(0,n.jsxs)(a.Column,Object.assign({space:"4"},{children:[(0,n.jsx)(r.BodyText,{children:"If the token name is crossed out, it is deprecated and should not be used."}),(0,n.jsx)(r.Header,Object.assign({size:r.HeaderSize.h5},{children:"Colors"})),(0,n.jsx)(a.Column,Object.assign({space:"2",style:{gap:4}},{children:Object.entries(i).sort().reduce(((e,[t,r])=>(!0===r||!1===r||e.push((0,n.jsxs)(a.Row,Object.assign({space:"2",alignItems:"center"},{children:[(0,n.jsx)(a.Box,{backgroundColor:r,width:25,height:25,borderRadius:"full"}),(0,n.jsx)(s.Text,Object.assign({style:{color:i.textPrimary,textDecorationLine:(0,o.has)(h,t)?void 0:"line-through"}},{children:t}))]}))),e)),[])})),(0,n.jsx)(r.Header,Object.assign({size:r.HeaderSize.h5},{children:"Gradients"})),(0,n.jsx)(a.Column,Object.assign({space:"2",style:{gap:4}},{children:Object.entries(u).sort().map((([e,t])=>(0,n.jsxs)(a.Row,Object.assign({space:"2",alignItems:"center"},{children:[(0,n.jsx)(a.Box,Object.assign({position:"relative",width:50,height:50},{children:(0,n.jsx)(a.Gradient,{direction:a.Direction.top,colors:t,style:{width:50,height:50,borderRadius:50}})})),(0,n.jsx)(s.Text,Object.assign({style:{color:i.textPrimary}},{children:e}))]}))))}))]}))}},104653:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(665768),a=i(516778),r=i(898278),l=i(915877),c=i(22222),d=i(631839),u=i(619675),g=100,h=(0,l.lazyProperties)({container:()=>a.Styles.createViewStyle({justifyContent:"space-between",paddingBottom:20}),component:()=>a.Styles.createViewStyle({height:g,width:g,backgroundColor:"red",marginBottom:20}),picker:()=>a.Styles.createPickerStyle({maxWidth:300,marginBottom:20}),buttons:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center"})});class p extends d.default{static getHeaderText(){return"Animations"}constructor(e){super(e),this._fadeIn=()=>(this._sxAnimatedView.setValue({opacity:0}),{start:()=>{this._sxAnimatedView.fadeIn()},stop:o.noop}),this._fadeOut=()=>(this._sxAnimatedView.setValue({opacity:1}),{start:()=>{this._sxAnimatedView.fadeOut()},stop:o.noop}),this._getTranslateXToValue=()=>this._isRTL()?0:this._layout.width-g,this._onLayout=e=>{this._layout=e,this._resetAnimatedStyles()},this._onPickerValueChange=e=>{this.setState({selectedAnimation:e})},this._onSXAnimatedViewRef=e=>{this._sxAnimatedView=e},this._resetAnimatedStyles=()=>{const e=this._getInitX();this._sxAnimatedView.setValue({scale:1,x:e,y:0,opacity:1})},this._scale=()=>this._sxAnimatedView.getAnimation({scale:.5},"sxplayground"),this._scaleAndTranslateX=()=>{const e=this._getTranslateXToValue(),t=this._getInitX();return this._sxAnimatedView.setValue({x:t}),this._sxAnimatedView.getAnimation({x:e,scale:.5},"sxplayground")},this._start=()=>{this._resetAnimatedStyles(),this._testAnimations[this.state.selectedAnimation](this._layout,this._sxAnimatedView).start()},this._testAnimations={scale:(e,t)=>this._scale(),"x right":(e,t)=>this._translateX(),"x left":(e,t)=>this._translateX(),"scale, x right":(e,t)=>this._scaleAndTranslateX(),"scale, x left":(e,t)=>this._scaleAndTranslateX(),"fadeIn()":(e,t)=>this._fadeIn(),"fadeOut()":(e,t)=>this._fadeOut()},this._translateX=()=>{const e=this._getInitX(),t=this._getTranslateXToValue();return this._sxAnimatedView.setValue({x:e}),this._sxAnimatedView.getAnimation({x:t},"sxplayground")},this._pickerItems=o.map(o.keys(this._testAnimations),(e=>({label:e,value:e}))),this.state={selectedAnimation:this.state?this.state.selectedAnimation:this._pickerItems[0].value}}componentDidMount(){super.componentDidMount()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.selectedAnimation!==t.selectedAnimation&&this._resetAnimatedStyles()}render(){return(0,n.jsxs)(a.View,Object.assign({style:h.container,onLayout:this._onLayout},{children:[(0,n.jsx)(u.Header,Object.assign({size:3,selectable:!0},{children:"More coming soon... "})),(0,n.jsx)(s.View,{ref:this._onSXAnimatedViewRef,style:h.component}),(0,n.jsx)(a.Picker,{style:h.picker,items:this._pickerItems,selectedValue:this.state.selectedAnimation,onValueChange:this._onPickerValueChange}),(0,n.jsxs)(a.View,Object.assign({style:h.buttons},{children:[(0,n.jsx)(c.default,{buttonSize:r.SXButtonSize.Medium,title:"Start",onPress:this._start}),(0,n.jsx)(c.default,{buttonStyle:r.SXButtonStyle.ThemeNoBackground,buttonSize:r.SXButtonSize.Medium,title:"reset",onPress:this._resetAnimatedStyles})]}))]}))}_getInitX(){return this._isRTL()?this._layout.width-g:0}_isRTL(){return o.includes(this.state.selectedAnimation,"left")}}t.default=p},858811:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(4736),r=i(898278),l=i(915877),c=i(22222),d=i(711828),u=i(89808),g=i(631839),h=i(64893),p=i(587331),S=i(581760),m=(0,l.lazyProperties)({titleInput:()=>s.Styles.createTextInputStyle({width:100,borderWidth:1}),multilineWidth:()=>s.Styles.createViewStyle({maxWidth:120})}),C="Button";class y extends g.default{constructor(e){super(e),this.state={buttonStyle:r.SXButtonStyle.GradientFill,title:C,subtitle:void 0,buttonSize:r.SXButtonSize.Medium,iconPositon:r.SXButtonIconPosition.Start,userPrimaryColor:u.default.getPrimaryColor()}}render(){return[this._renderComponentSection("ActionButton.tsx",this._renderActionButton()),this._renderComponentSection("SXButton.tsx",this._renderSXButton())]}_renderActionButton(){return o.flatten([this._renderActionButtonSize(),this._renderActionButtonWithBackgroundColor(),this._renderActionButtonWithGradientIcon()])}_renderActionButtonWithBackgroundColor(){return this._renderPropSection("props",{title:"ActionButton.tsx: props",url:"#"},[this._renderPropOptionSection("backgroundColor",(0,n.jsx)(a.default,{backgroundColor:S.Color.red,icon:d.SkypeIcon.Alert}),!1),this._renderPropOptionSection("disabled",(0,n.jsx)(a.default,{disabled:!0,icon:d.SkypeIcon.SkypeIcon}),!1),this._renderPropOptionSection("flipIcon",(0,n.jsx)(a.default,{flipIcon:!0,icon:d.SkypeIcon.SkypeIcon}),!1),this._renderPropOptionSection("iconSize",(0,n.jsx)(a.default,{iconSize:36,icon:d.SkypeIcon.SkypeIcon}),!1),this._renderPropOptionSection("iconColor",(0,n.jsx)(a.default,{iconColor:S.Color.red,icon:d.SkypeIcon.SkypeIcon}),!1),this._renderPropOptionSection("deselected",(0,n.jsx)(a.default,{deselected:!0,icon:d.SkypeIcon.SkypeIcon}),!1)])}_renderActionButtonWithGradientIcon(){return this._renderPropSection("gradient icon",{title:"PauseGradient.svg: defs",url:"#"},[this._renderPropOptionSection("set linearGradient in *.svg file",(0,n.jsx)(a.default,{backgroundColor:S.Color.gray100,iconColor:this.state.userPrimaryColor,icon:d.SkypeIcon.PauseGradient}),!1)])}_renderActionButtonSize(){const e=h.getEnumEntries(a.ActionButtonSize);return this._renderPropSection("size",{title:"ActionButton.tsx: ActionButtonSize",url:"#"},e.map(((e,t)=>this._renderPropOptionSection(e,(0,n.jsx)(a.default,{icon:d.SkypeIcon.Plus,size:t},"actioButtonSize"+t),!1))))}_renderSXButton(){return o.flatten([this._renderTitle(),this._renderSubtitle(),this._renderMultiline(),this._renderSXButtonStyle(),this._renderButtonSize(),this._renderIconSection(),this._renderActivityIndicatorSection()])}_renderTitle(){const e=this._renderInput(C,(e=>{this.setState({title:e.length?e:C})}));return this._renderPropSection("title",{title:"string",url:"#"},e)}_renderSubtitle(){const e=this._renderInput("subtitle",(e=>{this.setState({subtitle:e.length?e:void 0})}));return this._renderPropSection("subtitle",{title:"string",url:"#"},e)}_renderMultiline(){const e=(0,n.jsx)(p.default,{isOn:this.state.allowTextWrap,accessibilityLabel:this.props.accessibilityLabel,onChange:(e,t)=>{this.setState({allowTextWrap:t})}});return this._renderPropSection("allowTextWrap",{title:"boolean",url:"#"},e)}_renderSXButtonStyle(){const e=h.getEnumEntries(r.SXButtonStyle),t=o.map(e,((e,t)=>this._renderButtonPropDemo(e+t,e,t===this.state.buttonStyle,{buttonStyle:t,onPress:()=>{this.setState({buttonStyle:t})}})));return this._renderPropSection("buttonStyle",{title:"CommonUiModels.ts: SXButtonStyle",url:"https://aka.ms/skype-coreui-sxbutton-props"},t)}_renderButtonSize(){const e=h.getEnumEntries(r.SXButtonSize),t=["Primary Button","Primary Button","Tertiary Button"],i=o.map(e,((e,i)=>this._renderButtonPropDemo(e+i,`${e}\n(${t[i]})`,i===this.state.buttonSize,{buttonSize:i,onPress:()=>{this.setState({buttonSize:i})}})));return this._renderPropSection("buttonSize + GradientFill",{title:"CommonUIModels.ts: SXButtonSize",url:"https://aka.ms/skype-coreui-sxbutton-props"},i)}_renderIconSection(){const e=h.getEnumEntries(r.SXButtonIconPosition),t=this._renderPropSection("iconPosition",{title:"CommonUIModels.ts: SXButtonIconPosition",url:"https://aka.ms/skype-coreui-sxbutton-props"},o.map(e,((e,t)=>this._renderButtonPropDemo(e+t,e,t===this.state.iconPositon,{icon:d.SkypeIcon.SkypeIcon,iconPositon:t,onPress:()=>{this.setState({iconPositon:t})}})))),i=h.getEnumEntries(d.IconSize);return[t,this._renderPropSection("iconSize",{title:"SXIconModels.ts: IconSize",url:"https://aka.ms/skype-coreui-sxbutton-props"},o.map(i,((e,t)=>{const i=h.getIconSizeFromEnumPropertyName(e);return this._renderButtonPropDemo(e+t,e,!1,{icon:d.SkypeIcon.SkypeIcon,iconSize:i})})))]}_renderActivityIndicatorSection(){const e=o.map([!0,!1],(e=>{const t=e.toString();return this._renderButtonPropDemo("activityIndicator"+t,t,!1,{showActivityIndicator:e})}));return e.push(this._renderButtonPropDemo("activityIndicatortruewithicon","true with icon",!1,{showActivityIndicator:!0,icon:d.SkypeIcon.SkypeIcon})),this._renderPropSection("showActivityIndicator",{title:"boolean",url:"#"},e)}_renderButtonPropDemo(e,t,i,s){const a={buttonStyle:this.state.buttonStyle,title:this.state.title,buttonSize:this.state.buttonSize,subtitle:this.state.subtitle,iconPositon:this.state.iconPositon,allowTextWrap:this.state.allowTextWrap,style:this.state.allowTextWrap?m.multilineWidth:void 0,agnosticGradientColor:S.AgnosticGradientFillButtonColors.orange};return this._renderPropOptionSection(t,(0,n.jsx)(c.default,Object.assign({},o.extend(a,s)),e),i)}_renderInput(e,t){return(0,n.jsx)(s.TextInput,{style:[m.titleInput,this._themeStyles.viewBorderStyle],placeholder:e,blurOnSubmit:!0,onChangeText:o.debounce(t,100)},"textinput"+e)}}t.default=y},234764:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(915877),r=i(581760),l=i(631839),c=i(680837),d=(0,a.lazyProperties)({colorContainer:()=>s.Styles.createViewStyle({width:45,height:45,borderRadius:45}),propSectionContainer:()=>s.Styles.createViewStyle({flexDirection:"column",alignItems:"flex-start"}),propOptionContainer:()=>s.Styles.createViewStyle({minWidth:450})});class u extends l.default{constructor(){super(...arguments),this._renderColor=(e,t)=>{const i=s.Styles.createViewStyle({backgroundColor:e},!1);return this._renderPropOptionSection(t,(0,n.jsx)(s.View,{style:[d.colorContainer,c.default.flexOne,i]}),!1,[d.propOptionContainer,c.default.flexOne])}}render(){const e=this._renderPropSection("Color",{title:"SXColorModels.ts",url:"https://aka.ms/skype-coreui-sxcolormodels"},o.map(r.Color,this._renderColor),[d.propSectionContainer]);return this._renderComponentSection("SXColorModels.ts",e)}}t.default=u},263227:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(913944),a=i(944973),r=i(581760),l=i(711828),c=i(631839),d=i(64893),u=i(680837);class g extends c.default{constructor(e){super(e),this._setIcon=e=>{this.setState({icon:e})},this._setIconSize=e=>{this.setState({size:e})},this.state={icon:l.SkypeIcon.SkypeIcon,size:l.IconSize.default}}render(){return this._renderSXIconsSection()}_renderSXIconsSection(){const e=d.getEnumEntries(l.IconSize),t=this._renderPropSection("iconSize",{title:"SXIconModels.ts: IconSize",url:"https://aka.ms/skype-coreui-sxbutton-props"},o.map(e,((e,t)=>{const i=d.getIconSizeFromEnumPropertyName(e);return this._renderPropOptionSection(e,(0,n.jsx)(s.default,{icon:this.state.icon,size:i,color:this._themeColors.primaryIconColor,hoverColor:this._themeColors.iconHoverColor,onPress:()=>{this._setIconSize(i)}},"Iconsize"+t),this.state.size===i)}))),i=this._renderPropSection("SkypeIcon",{title:"https://skypeassets.azurewebsites.net/skype-assets/",url:"https://skypeassets.azurewebsites.net/skype-assets/"},o.map(Object.keys(l.SkypeIcon).filter((e=>isNaN(Number(e)))),(e=>this._renderPropOptionSection(e,(0,n.jsx)(s.default,{icon:l.SkypeIcon[e],size:this.state.size,color:this._themeColors.primaryIconColor,hoverColor:this._themeColors.iconHoverColor,onPress:()=>this._setIcon(l.SkypeIcon[e])},"icon"+e),this.state.icon===l.SkypeIcon[e],[u.default.flexOne])))),c=this._renderPropSection("CompositeIcon",{title:"CompositeIcon.tsx",url:"https://skypeassets.azurewebsites.net/skype-assets/"},[(0,n.jsx)(a.default,{icons:[{icon:l.SkypeIcon.CallRecordStroke,color:r.Color.white},{icon:l.SkypeIcon.CallRecordDot,color:r.Color.red}],iconSize:this.state.size}),(0,n.jsx)(a.default,{icons:[{icon:l.SkypeIcon.GlobeCredit,color:r.Color.yellow},{icon:l.SkypeIcon.CreditGlobe,color:r.Color.blue}],iconSize:this.state.size})]);return this._renderComponentSection("SXIconModels.ts",[t,i,c])}}t.default=g},497005:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(267824),r=i(267824),l=i(311010),c=i(359433),d=i(631839);class u extends d.default{constructor(e){super(e),this.LINK_LABEL="This is a link"}render(){return[this._renderComponentSection("Links comparison",this._renderLinks())]}_renderLinks(){return o.flatten([this._renderLink(),this._renderAccessibleLink(),this._renderSXLink(),this._renderRXLink()])}_renderLink(){return this._renderPropSection("Link (recommended: accessible and theme aware)",{title:"Link.tsx",url:"#"},[this._renderPropOptionSection("",(0,n.jsx)(a.Link,Object.assign({style:l.default.captionFontStyle(this._currentTheme),url:"#"},{children:this.LINK_LABEL})),!1)])}_renderAccessibleLink(){return this._renderPropSection("AccessibleLink (not hoverable)",{title:"AccessibleLink.tsx",url:"#"},[this._renderPropOptionSection("",(0,n.jsx)(r.AccessibleLink,Object.assign({style:l.default.captionFontStyle(this._currentTheme),url:"#"},{children:this.LINK_LABEL})),!1)])}_renderSXLink(){return this._renderPropSection("SXLink (deprecated)",{title:"SXLink",url:"#"},[this._renderPropOptionSection("",(0,n.jsx)(c.default,Object.assign({style:l.default.captionFontStyle(this._currentTheme),url:"#"},{children:this.LINK_LABEL})),!1)])}_renderRXLink(){return this._renderPropSection("RX.Link (deprecated)",{title:"RX.Link",url:"#"},[this._renderPropOptionSection("",(0,n.jsx)(s.Link,Object.assign({style:l.default.captionFontStyle(this._currentTheme),url:"#"},{children:this.LINK_LABEL})),!1)])}}t.default=u},756634:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SXPlaygroundSkypeUIItems=t.SXPlaygroundMenuItems=void 0;const n=i(785893),o=i(496486),s=i(516778),a=i(281878),r=i(898278),l=i(915877),c=i(104735),d=i(217093),u=i(190631),g=i(22222),h=i(711828),p=i(24576),S=i(853374),m=i(619675),C=(0,l.lazyProperties)({container:()=>s.Styles.createViewStyle({alignSelf:"stretch"})});var y,f;!function(e){e[e.Colors=0]="Colors",e[e.Icons=1]="Icons",e[e.Buttons=2]="Buttons",e[e.Text=3]="Text",e[e.Link=4]="Link",e[e.Animations=5]="Animations",e[e.Avatars=6]="Avatars"}(y=t.SXPlaygroundMenuItems||(t.SXPlaygroundMenuItems={})),function(e){e.SkypeTheme="Skype Theme",e.Button="Button",e.Avatar="Avatar",e.Gradient="Gradient",e.Grid="Grid",e.Dialog="Dialog",e.SegmentedControl="SegmentedControl"}(f=t.SXPlaygroundSkypeUIItems||(t.SXPlaygroundSkypeUIItems={}));class b extends p.default{constructor(){super(...arguments),this._onSettingsPress=()=>{const e=S.default.newCauseId();c.default.closeGenericDesktopModal(e,this._getRootViewId()),c.default.navigateToDesktopSettingsGroup(d.SettingsGroup.ThemeSettings,this._getRootViewId(),e)}}componentDidMount(){super.componentDidMount(),this.props.onMenuItemPress(0)}render(){return(0,n.jsxs)(s.View,Object.assign({style:C.container},{children:[(0,n.jsx)(u.SimplePanelHeader,{panelName:"SX Playground",leftButton:{closeButtonType:u.CloseButtonType.Back,onPress:this.props.onBackButtonPress},rightButtons:{icon:h.SkypeIcon.Settings,onPress:this._onSettingsPress}}),this._renderMenuItems(),(0,n.jsx)(a.Row,Object.assign({flex:"1",backgroundColor:this._getContext().themeColors.surfaceSecondary},{children:(0,n.jsx)(m.Header,Object.assign({size:r.HeaderSize.h5},{children:"Skype UI"}))})),this._renderSkypeUISection()]}))}_renderMenuItems(){return o.map(y,(e=>{const t=y[e];return o.isString(t)?(0,n.jsx)(g.default,{buttonStyle:r.SXButtonStyle.ThemeNoBackground,title:y[e],onPress:()=>{this.props.onMenuItemPress(e)}},"sxmenu"+t):void 0}))}_renderSkypeUISection(){return o.map(f,(e=>{const t=e;return"string"==typeof t?(0,n.jsx)(g.default,{buttonStyle:r.SXButtonStyle.ThemeNoBackground,title:e,onPress:()=>{this.props.onMenuItemPress(e)}},"sxmenu"+t):void 0}))}}t.default=b},267888:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(705465),a=i(996074),r=i(898278),l=i(915877),c=i(104653),d=i(858811),u=i(234764),g=i(263227),h=i(756634),p=i(645673),S=i(680837),m=i(619675),C=i(205844),y=i(332419),f=i(522787),b=i(100262),_=i(656714),v=i(497005),T=i(673367),P=i(590874),k=i(495381),A=(0,l.lazyProperties)({container:()=>o.Styles.createViewStyle({flexDirection:"row"}),leftSidebar:()=>o.Styles.createViewStyle({width:r.SideBarWidths.max,borderRightWidth:1}),innerScroll:()=>o.Styles.createScrollViewStyle({paddingHorizontal:10,paddingVertical:5}),contentContainer:()=>o.Styles.createViewStyle({paddingVertical:20,alignItems:"stretch"})});class I extends a.default{constructor(){super(...arguments),this._onScrollViewRed=e=>{this._scrollView=e||void 0},this._onBackButtonPress=e=>{this._goBack("sxplayground")},this._onMenuItemPress=e=>{this._scrollView&&this._scrollView.setScrollTop(0),this.setState({currentMenuItem:e})}}render(){const e=[A.container,this._themeStyles.primaryBackgroundColorStyle,S.default.absoluteFill],t=[A.leftSidebar,this._themeStyles.dividerBorderColorStyle],i="string"==typeof this.state.currentMenuItem?this.state.currentMenuItem:h.SXPlaygroundMenuItems[this.state.currentMenuItem];return(0,n.jsxs)(o.View,Object.assign({style:e},{children:[(0,n.jsx)(o.View,Object.assign({style:t},{children:(0,n.jsx)(s.ScrollView,{children:(0,n.jsx)(h.default,{onBackButtonPress:this._onBackButtonPress,onMenuItemPress:this._onMenuItemPress})})})),(0,n.jsx)(o.ScrollView,Object.assign({ref:this._onScrollViewRed,style:S.default.flexOne},{children:(0,n.jsxs)(o.View,Object.assign({style:A.innerScroll},{children:[(0,n.jsx)(m.Header,Object.assign({size:1},{children:i})),(0,n.jsx)(o.View,Object.assign({style:A.contentContainer},{children:this._renderContent()}))]}))}))]}))}_renderContent(){switch(this.state.currentMenuItem){case h.SXPlaygroundMenuItems.Buttons:return(0,n.jsx)(d.default,{});case h.SXPlaygroundMenuItems.Animations:return(0,n.jsx)(c.default,{});case h.SXPlaygroundMenuItems.Icons:return(0,n.jsx)(g.default,{});case h.SXPlaygroundMenuItems.Colors:return(0,n.jsx)(u.default,{});case h.SXPlaygroundMenuItems.Text:return(0,n.jsx)(p.default,{});case h.SXPlaygroundMenuItems.Link:return(0,n.jsx)(v.default,{});case h.SXPlaygroundMenuItems.Avatars:return(0,n.jsx)(k.default,{});case h.SXPlaygroundSkypeUIItems.SkypeTheme:return(0,n.jsx)(_.default,{});case h.SXPlaygroundSkypeUIItems.Avatar:return(0,n.jsx)(C.default,{});case h.SXPlaygroundSkypeUIItems.Gradient:return(0,n.jsx)(y.default,{});case h.SXPlaygroundSkypeUIItems.Grid:return(0,n.jsx)(f.default,{});case h.SXPlaygroundSkypeUIItems.Dialog:return(0,n.jsx)(b.default,{});case h.SXPlaygroundSkypeUIItems.SegmentedControl:return(0,n.jsx)(T.default,{});case h.SXPlaygroundSkypeUIItems.Button:return(0,n.jsx)(P.default,{});default:return}}}t.default=I},631839:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(996074),a=i(587134),r=i(915877),l=i(311010),c=i(680837),d=i(619675),u=(0,r.lazyProperties)({componentHeading:()=>o.Styles.createTextStyle({paddingVertical:20}),propContent:()=>o.Styles.createButtonStyle({flexDirection:"row",flexWrap:"wrap"}),propContainer:()=>o.Styles.createViewStyle({paddingVertical:20}),propHeading:()=>o.Styles.createTextStyle({paddingBottom:20}),propLink:()=>o.Styles.createTextStyle({marginBottom:20,textDecorationLine:"underline"}),propOptionContainer:()=>o.Styles.createViewStyle({padding:20}),propOptionContainerSelected:()=>o.Styles.createViewStyle({borderWidth:2}),propOptionCaption:()=>o.Styles.createTextStyle({paddingBottom:20}),propOptionContent:()=>o.Styles.createViewStyle({justifyContent:"space-between"})});class g extends s.default{_renderComponentSection(e,t){return(0,n.jsxs)(o.View,{children:[(0,n.jsx)(d.Header,Object.assign({style:u.componentHeading,size:3,selectable:!0},{children:e})),(0,n.jsx)(o.View,{children:t}),(0,n.jsx)(a.default,{})]},e)}_renderPropSection(e,t,i=void 0,s=void 0){const a=t?(0,n.jsx)(o.Link,Object.assign({style:[l.default.subtitleFontStyle(),this._themeStyles.primaryTextColorStyle,this._themeStyles.linkTextColorStyle,u.propLink]},t,{selectable:!0},{children:t.title})):void 0;return(0,n.jsxs)(o.View,Object.assign({style:u.propContainer},{children:[(0,n.jsx)(d.Header,Object.assign({style:a?void 0:u.propHeading,size:5},{children:e})),a,(0,n.jsx)(o.View,Object.assign({style:[u.propContent,s]},{children:i}))]}),e)}_renderPropOptionSection(e,t=void 0,i=!1,s=void 0,a="auto"){const r=[c.default.alignItemsCenter,u.propOptionContainer];i&&(r.push(u.propOptionContainerSelected),r.push(this._themeStyles.viewBorderStyle)),s&&r.push(s);const l=o.Styles.createTextStyle({alignSelf:a},!1);return(0,n.jsxs)(o.View,Object.assign({style:r},{children:[(0,n.jsx)(d.CardTitle,Object.assign({style:[u.propOptionCaption,l],selectable:!0},{children:e})),(0,n.jsx)(o.View,Object.assign({style:u.propOptionContent},{children:t}))]}),e)}}t.default=g},645673:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(915877),r=i(106658),l=i(631839),c=i(64893),d=i(619675),u="One Skype for all your devices",g=(0,a.lazyProperties)({propSectionContainer:()=>s.Styles.createViewStyle({flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start"})});class h extends l.default{render(){return[this._renderHeader(),this._renderBodyText(),this._renderCaption(),this._renderCardTitle(),this._renderPanelHeader(),this._renderRowTitle(),this._renderSubtitle()]}_renderHeader(){const e=c.getEnumEntries(d.HeaderSize);return this._renderComponentSection("Header",this._renderPropSection("size",{title:"SXTextModels.ts: HeaderSize",url:""},o.map(e,((e,t)=>this._renderPropOptionSection(e,(0,n.jsx)(d.Header,Object.assign({size:t},{children:u}),"header"+e),!1,void 0,"flex-start"))),[g.propSectionContainer]))}_renderBodyText(){return this._renderComponentSection("BodyText",this._renderPropSection("bold",{title:"boolean",url:"#"},[this._renderPropOptionSection("false",(0,n.jsx)(d.BodyText,{children:u},"bodytext1"),!1,void 0,"flex-start"),this._renderPropOptionSection("true",(0,n.jsx)(d.BodyText,Object.assign({bold:!0},{children:u}),"bodytext2"),!1,void 0,"flex-start")],[g.propSectionContainer]))}_renderCaption(){const e=c.getEnumEntries(r.MessageStreamFontSize);return this._renderComponentSection("Caption",this._renderPropSection("messageStreamFontSize (optional)",{title:"MessageStreamModels.ts: MessageStreamFontSize",url:"#"},o.map(e,((e,t)=>this._renderPropOptionSection(e,(0,n.jsx)(d.Caption,Object.assign({messageStreamFontSize:t},{children:u}),"caption"+t),!1,void 0,"flex-start"))),[g.propSectionContainer]))}_renderCardTitle(){return this._renderComponentSection("CardTitle",this._renderPropSection("",{title:"",url:"#"},this._renderPropOptionSection("",(0,n.jsx)(d.CardTitle,{children:u},"cardtitle1"),!1,void 0,"flex-start")))}_renderPanelHeader(){return this._renderComponentSection("PanelHeader",this._renderPropSection("",{title:"",url:"#"},this._renderPropOptionSection("",(0,n.jsx)(d.PanelHeader,{children:u},"panelheader1"),!1,void 0,"flex-start")))}_renderRowTitle(){return this._renderComponentSection("RowTitle",this._renderPropSection("disabled",{title:"boolean",url:"#"},[this._renderPropOptionSection("false",(0,n.jsx)(d.RowTitle,{children:u},"RowTitle1"),!1,void 0,"flex-start"),this._renderPropOptionSection("true",(0,n.jsx)(d.RowTitle,Object.assign({disabled:!0},{children:u}),"RowTitle2"),!1,void 0,"flex-start")],[g.propSectionContainer]))}_renderSubtitle(){return this._renderComponentSection("Subtitle",this._renderPropSection("",{title:"",url:"#"},this._renderPropOptionSection("",(0,n.jsx)(d.Subtitle,{children:u},"subtitle1"),!1,void 0,"flex-start")))}}t.default=h},64893:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getIconSizeFromEnumPropertyName=t.getEnumEntries=void 0;const n=i(711828);t.getEnumEntries=function(e){return Object.keys(e).filter((t=>!isNaN(Number(e[t]))))},t.getIconSizeFromEnumPropertyName=function(e){return n.IconSize[e]}},680837:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(516778),o=i(47447),s=i(581760),a={};class r{static dimensionsStyle(e){const t=`${e.width}x${e.height}`;return a[t]||(a[t]=n.Styles.createViewStyle({width:e.width,height:e.height})),a[t]}}r.absoluteFill=n.Styles.createViewStyle({position:"absolute",top:0,left:0,right:0,bottom:0}),r.flexOne=n.Styles.createViewStyle({flex:1}),r.flexOneRN=r.flexOne,r.flexRow=n.Styles.createViewStyle({flexDirection:"row"}),r.flexNegativeOne=n.Styles.createViewStyle({flex:-1}),r.flexZero=n.Styles.createViewStyle({flex:0}),r.flexGrowOne=n.Styles.createViewStyle({flexGrow:1}),r.flexGrowZero=n.Styles.createViewStyle({flexGrow:0}),r.alignItemsCenter=n.Styles.createViewStyle({alignItems:"center"}),r.alignItemsFlexStart=n.Styles.createViewStyle({alignItems:"flex-start"}),r.textAlignCenter=n.Styles.createTextStyle({textAlign:"center"}),r.overflowVisible=n.Styles.createViewStyle({overflow:"visible"}),r.transparentBackground=n.Styles.createViewStyle({backgroundColor:s.Color.transparent}),r.floatingStyle=n.Styles.createViewStyle({zIndex:1}),r.newStackingContext=n.Styles.createViewStyle({zIndex:0}),r.noncollapsibleView=r.transparentBackground,r.displayNone={display:"none"},r.noWrap={whiteSpace:"nowrap"},r.pointerCursor=o.UICapabilities.cursorTypesSupported()?n.Styles.createViewStyle({cursor:"pointer"}):void 0,r.defaultCursor=o.UICapabilities.cursorTypesSupported()?n.Styles.createViewStyle({cursor:"default"}):void 0,r.shadowStyle=n.Styles.createViewStyle({overflow:"visible",shadowColor:s.Color.black,shadowOpacity:.7,shadowRadius:2,shadowOffset:{height:2,width:0},elevation:3}),r.shadowLightStyle=n.Styles.createViewStyle({overflow:"visible",shadowColor:s.Color.blackOverlay20,shadowRadius:3,shadowOffset:{height:1,width:0}}),t.default=r},413262:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(366355),a=i(436237),r=i(912770);class l extends o.Component{constructor(e){super(e),this.scrollToBottom=()=>{var e;const{contentHeight:t,contentVisibleHeight:i}=this.state;(null===(e=this._scrollViewRef)||void 0===e?void 0:e.setScrollTop)&&void 0!==t&&void 0!==i&&(a.log(s.LogTraceArea.CoreUI,"ScrollToBottomView: Scroll to bottom requested"),this._scrollViewRef.setScrollTop(t-i,!0)),this._scrollToBottomTimeout&&(r.default.clearTimeout(this._scrollToBottomTimeout),delete this._scrollToBottomTimeout),this._scrollToBottomTimeout=r.default.setTimeout((()=>{a.log(s.LogTraceArea.CoreUI,"ScrollToBottomView: Scroll to bottom timeout completed"),this.props.onScrollToBottom(),delete this._scrollToBottomTimeout}),200)},this._onScrollViewRef=e=>{this._scrollViewRef=e||void 0},this._onScroll=(e,t)=>{var i,n;e!==this.state.scrollTop&&this.setState({scrollTop:e}),null===(n=(i=this.props).onScroll)||void 0===n||n.call(i,e,t)},this._onLayout=e=>{var t,i;const n=e.height;n!==this.state.contentVisibleHeight&&this.setState({contentVisibleHeight:n}),null===(i=(t=this.props).onLayout)||void 0===i||i.call(t,e)},this._onContentSizeChange=(e,t)=>{var i,n;void 0===this.state.contentVisibleHeight?a.log(s.LogTraceArea.CoreUI,"ScrollToBottomView: Skipping content size change event"):t!==this.state.contentHeight&&this.setState({contentHeight:t}),null===(n=(i=this.props).onContentSizeChange)||void 0===n||n.call(i,e,t)},this.state={scrollTop:0}}componentDidUpdate(e,t){const i=t.scrollTop!==this.state.scrollTop,n=t.contentHeight!==this.state.contentHeight,o=t.contentVisibleHeight!==this.state.contentVisibleHeight;(i||n||o)&&this._checkScrollToBottom()}componentWillUnmount(){this._scrollToBottomTimeout&&r.default.clearTimeout(this._scrollToBottomTimeout)}_checkScrollToBottom(){const{scrollTop:e,contentHeight:t,contentVisibleHeight:i}=this.state;void 0!==t&&void 0!==i?Math.ceil(e+i)>=Math.ceil(t)-2&&(a.log(s.LogTraceArea.CoreUI,"ScrollToBottomView: Bottom reached with scroll"),this.props.onScrollToBottom()):a.log(s.LogTraceArea.CoreUI,"ScrollToBottomView: Cannot check if bottom is reached")}render(){return(0,n.jsx)(o.ScrollView,Object.assign({},this.props,{ref:this._onScrollViewRef,onScroll:this._onScroll,onLayout:this._onLayout,onContentSizeChange:this._onContentSizeChange},{children:this.props.children}))}}t.default=l},811411:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(665768),s=i(516778),a=i(244770),r=i(217041),l=i(898278),c=i(746096),d=i(436237),u=i(915877),g=i(733754),h=i(494109),p=i(710056),S=i(105103),m=i(915415),C=i(22222),y=i(581760),f=i(680837),b=i(619675),_=(0,u.lazyProperties)({splashScreenLight:()=>s.Styles.createViewStyle({backgroundColor:y.Color.white,appRegion:"drag"}),splashScreenDark:()=>s.Styles.createViewStyle({backgroundColor:y.Color.darkThemeBackground,appRegion:"drag"}),centerContent:()=>s.Styles.createViewStyle({alignItems:"center",justifyContent:"center"}),contentContainer:()=>s.Styles.createViewStyle({flex:0,height:200,marginTop:288,flexDirection:"column",alignItems:"center",marginHorizontal:30}),spinnerContainer:()=>s.Styles.createViewStyle({flexDirection:"row",overflow:"visible",marginTop:40}),spinnerContainerTransparent:()=>s.Styles.createViewStyle({opacity:0}),statusText:()=>s.Styles.createTextStyle({color:y.Color.gray400,textAlign:"center",lineHeight:20}),loginButtonWrap:()=>s.Styles.createViewStyle({marginTop:20,alignItems:"center",appRegion:"no-drag"}),loginButton:()=>s.Styles.createViewStyle({marginTop:40}),iconOffsetStyle:()=>s.Styles.createViewStyle({marginTop:2}),microsoftLogoContainer:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"}),microsoftLogo:()=>s.Styles.createImageStyle({marginBottom:60,height:24,width:112}),meetNow:()=>(0,u.lazyProperties)({contentContainer:()=>s.Styles.createViewStyle({marginTop:0})})});class v extends r.ComponentBase{constructor(){super(...arguments),this._animatedLogoScaleValue=new s.Animated.Value(1),this._animatedSplashScreenOpacityValue=new s.Animated.Value(1),this._animatedSplashScreenStyle=s.Styles.createAnimatedViewStyle({opacity:this._animatedSplashScreenOpacityValue}),this._handleLogin=e=>{this.props.loginCallback()},this._onSignOutPressed=()=>{h.default.redirectToLogout(c.LogoutReason.LoginRestarted,!0)}}_buildState(e,t){return{isBusy:!e.showLoginFallback&&!e.errorCode&&e.showSpinner}}animateLeave(e){d.log(c.LogTraceArea.Startup,"SplashScreen animateLeave");const t=()=>{this.setState({isBusy:!1}),e()};if(this.isComponentMounted()){const e=!0;o.parallel([o.timing.easeOut({value:this._animatedLogoScaleValue,toValue:1.4,useNativeDriver:e}),o.timing.easeOut({value:this._animatedSplashScreenOpacityValue,toValue:0,useNativeDriver:e})]).start((e=>{e.finished&&this.isComponentMounted()&&t()}))}else t()}_renderLoginFallbackIfNeeded(){if(this.props.showLoginFallback)return(0,n.jsxs)(s.View,Object.assign({style:_.loginButtonWrap},{children:[(0,n.jsx)(b.BodyText,Object.assign({size:b.BodyTextSize.SmallDeprecated,bold:!0,style:_.statusText},{children:g.getString("SplashScreen.LoginErrorMessage")})),(0,n.jsx)(C.default,{buttonSize:l.SXButtonSize.Medium,buttonStyle:l.SXButtonStyle.AgnosticGradientFill,agnosticGradientColor:y.AgnosticGradientFillButtonColors.blue,title:g.getString("SplashScreen.LoginButtonTitle"),onPress:this._handleLogin,style:_.loginButton})]}),"fallback")}_renderSpinner(){const e=[_.spinnerContainer];return this.state.isBusy||e.push(_.spinnerContainerTransparent),(0,n.jsx)(s.View,Object.assign({style:e},{children:(0,n.jsx)(m.default,{size:l.SXActivityIndicatorSize.Medium,tintColor:y.Color.blue,useRXIndicator:!0})}),"spinner")}_renderMessage(){if(this.props.statusText)return(0,n.jsx)(S.default,{statusText:this.props.statusText,errorCode:this.props.errorCode,onSignOutPressed:this._onSignOutPressed,isPartnerFlow:this.props.isPartnerFlow,isDarkThemeEnabled:this.props.darkThemeEnabled},"message")}_renderMicrosoftLogo(){return(0,n.jsx)(s.View,Object.assign({style:_.microsoftLogoContainer},{children:(0,n.jsx)(s.Image,{style:_.microsoftLogo,source:this.props.darkThemeEnabled?a.Collection.MICROSOFT_LOGO_COLOR_WHITE:a.Collection.MICROSOFT_LOGO_COLOR,resizeMode:"stretch"})}),"logo")}render(){const e=[f.default.absoluteFill,this.props.darkThemeEnabled?_.splashScreenDark:_.splashScreenLight,this._animatedSplashScreenStyle],t=[_.contentContainer],i=(0,n.jsx)(s.View,Object.assign({style:[f.default.absoluteFill,_.centerContent]},{children:(0,n.jsx)(p.SkypeLogo,{isAnimated:!0})}));let o=[this._renderMessage(),this._renderLoginFallbackIfNeeded(),this._renderSpinner()];return this.props.isPartnerFlow&&(o=[this._renderLoginFallbackIfNeeded(),this._renderSpinner(),this._renderMessage()],t.push(_.meetNow.contentContainer)),(0,n.jsxs)(s.Animated.View,Object.assign({style:e},{children:[this._renderMicrosoftLogo(),!this.props.isPartnerFlow&&i,(0,n.jsx)(s.View,Object.assign({style:[f.default.absoluteFill,_.centerContent]},{children:(0,n.jsx)(s.View,Object.assign({style:t},{children:o}))}))]}))}}t.default=v},105103:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(217041),a=i(898278),r=i(915877),l=i(733754),c=i(22222),d=i(581760),u=i(619675),g=(0,r.lazyProperties)({centerContent:()=>o.Styles.createViewStyle({alignItems:"center",justifyContent:"center"}),messageContainer:()=>o.Styles.createViewStyle({paddingHorizontal:30}),statusText:()=>o.Styles.createTextStyle({color:d.Color.gray400,textAlign:"center",backgroundColor:d.Color.transparent,marginVertical:30}),meetNowStatusText:()=>o.Styles.createTextStyle({textAlign:"center",backgroundColor:d.Color.transparent,marginVertical:30,fontSize:24})});class h extends s.ComponentBase{render(){return(0,n.jsxs)(o.View,Object.assign({style:[g.centerContent,g.messageContainer,this.props.style]},{children:[this._renderBodyText(),this._renderErrorInfo()]}))}_renderErrorInfo(){return this.props.errorCode?(0,n.jsxs)(o.View,{children:[(0,n.jsx)(c.default,{buttonStyle:a.SXButtonStyle.DarkFill,buttonSize:a.SXButtonSize.Medium,title:l.getString("SplashScreen.LoggingOutButtonTittle"),onPress:this.props.onSignOutPressed}),(0,n.jsx)(u.Caption,Object.assign({style:g.statusText},{children:this.props.errorCode}))]}):null}_renderBodyText(){const e=[this.props.isPartnerFlow?g.meetNowStatusText:g.statusText];return this.props.isDarkThemeEnabled&&e.push(o.Styles.createTextStyle({color:d.Color.white})),(0,n.jsx)(u.BodyText,Object.assign({bold:!0,style:e},{children:this.props.statusText}))}}t.default=h},371445:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SplashScreenNative=void 0;const n=i(785893),o=i(665768),s=i(516778),a=i(217041),r=i(244770),l=i(746096),c=i(436237),d=i(915877),u=i(494109),g=i(105103),h=i(356266),p=i(581760),S=i(680837),m=(0,d.lazyProperties)({containerLight:()=>s.Styles.createViewStyle({backgroundColor:p.Color.white}),containerDark:()=>s.Styles.createViewStyle({backgroundColor:p.Color.darkThemeBackground}),alternativeSpinner:()=>s.Styles.createViewStyle({paddingTop:64}),microsoftLogoContainer:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch",flexDirection:"column",alignItems:"center",justifyContent:"flex-end"}),microsoftLogo:()=>s.Styles.createImageStyle({marginBottom:40,height:24,width:112})});class C extends a.ComponentBase{constructor(){super(...arguments),this._animatedOpacityValue=new s.Animated.Value(1),this._animatedOpacityStyle=s.Styles.createAnimatedViewStyle({opacity:this._animatedOpacityValue}),this._onSignOutPressed=()=>{u.default.redirectToLogout(l.LogoutReason.LoginRestarted,!0)}}_buildState(e,t){return{renderAlternative:!(!e.renderAlternative||e.renderIntro||e.statusText)}}animateLeave(e){c.log(l.LogTraceArea.Startup,"SplashScreen animateLeave"),this.isComponentMounted()?o.timing.easeOut({value:this._animatedOpacityValue,toValue:0,useNativeDriver:!0}).start((t=>{t.finished&&e()})):e()}_renderSpinner(){return this.props.statusText?null:(0,n.jsx)(s.View,Object.assign({style:S.default.absoluteFill},{children:(0,n.jsx)(h.default,{style:this.state.renderAlternative?m.alternativeSpinner:void 0,showBlueLogo:this.state.renderAlternative,darkThemeEnabled:this.props.darkThemeEnabled,onComplete:this.props.onComplete})}))}_renderMessage(){return this.props.statusText?(0,n.jsx)(g.default,{style:S.default.absoluteFill,statusText:this.props.statusText,errorCode:this.props.errorCode,onSignOutPressed:this._onSignOutPressed}):null}_renderMicrosoftLogo(){return(0,n.jsx)(s.View,Object.assign({style:m.microsoftLogoContainer},{children:(0,n.jsx)(s.Image,{style:m.microsoftLogo,source:this.props.darkThemeEnabled?r.Collection.MICROSOFT_LOGO_COLOR_WHITE:r.Collection.MICROSOFT_LOGO_COLOR,resizeMode:"stretch"})}))}render(){const e=[S.default.absoluteFill,this._animatedOpacityStyle,this.props.darkThemeEnabled?m.containerDark:m.containerLight];return(0,n.jsxs)(s.Animated.View,Object.assign({style:e},{children:[this._renderSpinner(),this._renderMicrosoftLogo(),this._renderMessage()]}))}}t.SplashScreenNative=C,t.default=C},356266:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(889391),a=i(839696),r=i(898278),l=i(677381),c=i(746096),d=i(915877),u=i(710056),g=i(915415),h=i(78780),p=i(581760),S=i(640363),m=i(680837),C=(0,d.lazyProperties)({containerLight:()=>o.Styles.createViewStyle({backgroundColor:p.Color.white}),containerDark:()=>o.Styles.createViewStyle({backgroundColor:p.Color.darkThemeBackground}),panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch",flexDirection:"column",alignItems:"center",justifyContent:"center"}),staticLogo:()=>o.Styles.createViewStyle({width:375,height:375,paddingBottom:50,justifyContent:"flex-end"}),iconContainer:()=>o.Styles.createViewStyle({justifyContent:"center",alignItems:"center"})});class y extends l.default{_buildState(e,t){return{useStaticLoader:!s.default.getS4LUiFeatures().jsonAnimationEnabled}}componentDidMount(){super.componentDidMount(),this.props.onComplete&&this.props.onComplete()}render(){let e;if(this.props.showBlueLogo)e=(0,n.jsx)(g.default,{size:r.SXActivityIndicatorSize.Large,tintColor:p.Color.blue});else if(this.state.useStaticLoader)e=(0,n.jsxs)(o.View,Object.assign({style:C.staticLogo},{children:[(0,n.jsx)(o.View,Object.assign({style:[m.default.absoluteFill,C.iconContainer]},{children:(0,n.jsx)(u.SkypeLogo,{})})),(0,n.jsx)(g.default,{size:r.SXActivityIndicatorSize.Small,tintColor:p.Color.blue,useRXIndicator:!0})]}));else{const t=h.default.SPLASH_LOADER_NEXT,i=o.Styles.createViewStyle({width:t.intrinsicSize.width,height:t.intrinsicSize.height},!1);e=(0,n.jsx)(o.View,Object.assign({style:i},{children:(0,n.jsx)(a.default,{animation:t,delay:S.default.getPlatformType()===c.PlatformType.Android?100:50,loop:!0,sizeToFit:!0})}))}return(0,n.jsx)(o.View,Object.assign({style:[C.panel,this.props.darkThemeEnabled?C.containerDark:C.containerLight,this.props.style]},{children:e}))}}t.default=y},411397:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(588785),a=i(217041);class r extends a.ComponentBase{render(){const e=this.props.progressStrokeProperties.strokeWidth||1,t=this.props.size;let i=this.props.progress&&o.isFinite(this.props.progress)?this.props.progress:0;0===i&&(i=.03);const a=t/2,r=(t-e)/2,l=360*i,c=Math.PI*(l-90)/180;let d="M"+a+","+(a-r)+" A"+r+","+r+" 0 "+(l>180?1:0)+",1 "+(a+r*Math.cos(c))+","+(a+r*Math.sin(c));const u="M"+a+","+a+"m"+-r+",0a"+r+","+r+" 0 1,0 "+2*r+",0 a"+r+","+r+" 0 1,0 "+-2*r+",0";let g;return this.props.showCircleBackground&&(g=(0,n.jsx)(s.SvgPath,Object.assign({d:u},this.props.backgroundCircleProperties)),1===i&&(d=u)),(0,n.jsxs)(s.ImageSvg,Object.assign({viewBox:"0 0 "+t+" "+t,style:this.props.style,width:t,height:t},{children:[g,(0,n.jsx)(s.SvgPath,Object.assign({d},this.props.progressStrokeProperties))]}))}}t.default=r},622951:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TabTitleView=t.TabAnimationDirection=void 0;const n=i(785893),o=i(665768),s=i(516778),a=i(915877),r=i(311010),l=i(680837),c=i(24576);!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(t.TabAnimationDirection||(t.TabAnimationDirection={}));const d=(0,a.lazyProperties)({defaultTabTextStyle:()=>s.Styles.createTextStyle({flex:1,font:r.default.font.uiDisplayRegular,fontSize:r.default.controlFontSize.tabHeader,textAlign:"center"}),defaultSmallTabTextStyle:()=>s.Styles.createTextStyle({fontSize:r.default.controlFontSize.tabHeaderSmall}),defaultTabTextStylePadding:()=>s.Styles.createTextStyle({paddingHorizontal:2}),defaultSelectedTabTextStyle:()=>s.Styles.createTextStyle({flex:-1,letterSpacing:-.5,font:r.default.font.uiDisplaySemibold,fontSize:r.default.controlFontSize.tabHeader,paddingHorizontal:2,textAlign:"center"}),tabTitleContainerStyle:()=>s.Styles.createViewStyle({flex:1,alignItems:"stretch",justifyContent:"flex-end"}),tabTitleStyle:()=>s.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",paddingBottom:9}),tabTitleStyleSmall:()=>s.Styles.createViewStyle({paddingBottom:5})});class u extends c.default{constructor(){super(...arguments),this._animated=!1,this._currentSelectedValue=0,this._animatedDeselectedOpacityValue=new s.Animated.Value(1),this._animatedDeselectedStyle=s.Styles.createAnimatedTextStyle({opacity:this._animatedDeselectedOpacityValue}),this._animatedSelectedOpacityValue=new s.Animated.Value(0),this._animatedSelectedStyle=s.Styles.createAnimatedTextStyle({opacity:this._animatedSelectedOpacityValue}),this._resetTransitionTransformValue=new s.Animated.Value(0),this._resetTransitionOpacityValue=new s.Animated.Value(1),this._resetTransitionStyle=s.Styles.createAnimatedViewStyle({opacity:this._resetTransitionOpacityValue,transform:[{translateY:this._resetTransitionTransformValue}]}),this._animatedContentOpacityValue=new s.Animated.Value(1),this._animatedContentOpacityStyle=s.Styles.createAnimatedViewStyle({opacity:this._animatedContentOpacityValue}),this._animatedShowHideStyle=this._resetTransitionStyle}componentDidMount(){super.componentDidMount(),o.NativeUtils.markAnimatedValue(this._animatedContentOpacityValue,1)}update(e,t=!1){this._currentSelectedValue=e,this._animated?t?(this._selectedAnimation&&this._selectedAnimation.stop(),this._selectedAnimation=o.parallel([o.timing.easeOut({value:this._animatedSelectedOpacityValue,toValue:e}),o.timing.easeOut({value:this._animatedDeselectedOpacityValue,toValue:1-e})]),this._selectedAnimation.start((e=>{e.finished&&delete this._selectedAnimation}))):(this._animatedSelectedOpacityValue.setValue(e),this._animatedDeselectedOpacityValue.setValue(1-e)):1!==e&&0!==e||this.isComponentMounted()&&this.forceUpdate()}showOrHide(e,t=0){o.timing.easeOut({value:this._animatedContentOpacityValue,toValue:e?1:0,duration:e?o.Common.Duration.Short:o.Common.Duration.Tiny,delay:t,useNativeDriver:!0}).start()}_getTabTextStyles(e){if(!this._animated)return e?[d.defaultSelectedTabTextStyle,this._themeStyles.primaryTextColorStyle]:[d.defaultTabTextStyle,this._themeStyles.secondaryTextColorStyle];let t;return t=e?[d.defaultSelectedTabTextStyle,this._themeStyles.primaryTextColorStyle,this._animatedSelectedStyle]:[d.defaultTabTextStyle,l.default.absoluteFill,this._themeStyles.secondaryTextColorStyle,this._animatedDeselectedStyle],this.props.useSmallFonts&&t.push(d.defaultSmallTabTextStyle),t}render(){const e=this._getTabTextStyles(!1),t=this._getTabTextStyles(!0),i=this._animated,o=i?(0,n.jsx)(s.Animated.Text,Object.assign({style:e,numberOfLines:1},{children:this.props.title})):null;i||e.push(d.defaultTabTextStylePadding);const a=i||1===this._currentSelectedValue?t:e,r=[d.tabTitleStyle];return this._animated&&r.push(this._animatedShowHideStyle),this.props.useSmallFonts&&r.push(d.tabTitleStyleSmall),(0,n.jsx)(s.View,Object.assign({style:d.tabTitleContainerStyle},{children:(0,n.jsx)(s.Animated.View,Object.assign({style:r},{children:(0,n.jsxs)(s.Animated.View,Object.assign({style:[l.default.flexNegativeOne,this._animatedContentOpacityStyle]},{children:[o,(0,n.jsx)(s.Animated.Text,Object.assign({style:a,numberOfLines:1},{children:this.props.title}))]}))}))}))}}t.TabTitleView=u,t.default=u},282481:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextCompletion=void 0;const n=i(785893),o=i(496486),s=i(516778),a=(i(497174),i(547126)),r=i(915877),l=(i(733754),i(886045),i(581760)),c=i(311010),d=i(24576),u=(0,r.lazyProperties)({textCompletePopup:()=>s.Styles.createViewStyle({position:"absolute",left:0,right:0,bottom:1}),textCompletePopupTopBorder:()=>s.Styles.createViewStyle({borderTopWidth:1,borderStyle:"solid",height:1,alignSelf:"stretch"}),textCompletePopupDesktop:()=>s.Styles.createViewStyle({borderWidth:1,borderStyle:"solid",borderRadius:8,paddingVertical:4}),textCompleteItem:()=>s.Styles.createButtonStyle({justifyContent:"center",paddingHorizontal:8,height:38}),textCompleteItemSelected:()=>s.Styles.createButtonStyle({backgroundColor:l.Color.blueOverlay10}),textCompleteMenuText:()=>s.Styles.createTextStyle({fontSize:c.default.fontSize.size13Deprecated,font:c.default.font.uiDisplayRegular}),textCompleteMenuSelectedText:()=>s.Styles.createTextStyle({color:l.Color.blue})});class g extends d.default{constructor(){super(...arguments),this._animatedHeightValue=new s.Animated.Value(0),this._animatedHeightStyle=s.Styles.createAnimatedViewStyle({height:this._animatedHeightValue})}_buildState(e,t){if(t)return{currentEntityDetector:void 0,candidatesToDisplay:[],selectedIndex:0}}componentDidUpdate(e,t,i){if(super.componentDidUpdate(e,t,i),this.props.inputText!==e.inputText||this.props.maxMenuHeight!==e.maxMenuHeight){let e=this.props.candidatesToDisplay;38*e+8>this.props.maxMenuHeight&&(e=Math.max(Math.floor((this.props.maxMenuHeight-8)/38),1));const t=this.getReplacementCandidates(this.props.inputText,e);this.setState({currentEntityDetector:t.entityDetector,candidatesToDisplay:t.candidates,selectedIndex:0,selectionChangeKeyReceived:!1}),this.props.onTextReplacementCandidatesShown(t.candidates.length)}const n=this.state.candidatesToDisplay&&this.state.candidatesToDisplay.length,o=n&&t.candidatesToDisplay&&this.state.candidatesToDisplay.length!==t.candidatesToDisplay.length;if((t.selectedIndex!==this.state.selectedIndex||o)&&void 0!==this.state.selectedIndex&&n&&this.state.currentEntityDetector){const e=this.state.currentEntityDetector.createAccessibilityLabel(this.state.candidatesToDisplay[this.state.selectedIndex],this.state.selectedIndex+1,this.state.candidatesToDisplay.length);s.Accessibility.announceForAccessibility(e)}}render(){const e=this.state.candidatesToDisplay?this.state.candidatesToDisplay.length:0;if(0===e)return null;const t=o.map(this.state.candidatesToDisplay,((t,i)=>{const o=[u.textCompleteItem],a=[u.textCompleteMenuText];i===this.state.selectedIndex&&(o.push(u.textCompleteItemSelected),a.push(u.textCompleteMenuSelectedText));let r=this.state.currentEntityDetector?this.state.currentEntityDetector.render(t,i===this.state.selectedIndex&&!0):void 0;"string"==typeof r&&(r=(0,n.jsx)(s.Text,Object.assign({style:a,numberOfLines:1},{children:r})));const l=this.state.currentEntityDetector?this.state.currentEntityDetector.createAccessibilityLabel(t,i+1,e):void 0;return(0,n.jsx)(s.Button,Object.assign({style:o,onHoverStart:()=>this._onMouseOver(i),onPress:e=>this._onClick(e,i),underlayColor:this._themeColors.rowHighlightColor,accessibilityLabel:l},{children:r}),t.uniqueKey||t.replacementText)})),i=[u.textCompletePopup,this._themeStyles.popoverBackgroundColorStyle];return void 0!==this.props.leftOffset&&i.push(s.Styles.createViewStyle({left:this.props.leftOffset},!1)),this.state.currentEntityDetector&&(this.state.currentEntityDetector.maxPopupWidth&&i.push(s.Styles.createViewStyle({maxWidth:this.state.currentEntityDetector.maxPopupWidth},!1)),i.push([u.textCompletePopupDesktop,this._themeStyles.dividerBorderColorStyle])),this.props.style&&i.push(this.props.style),(0,n.jsxs)(s.Animated.View,Object.assign({style:i},{children:[undefined,t]}))}handleKeyDown(e){if(0===this.state.candidatesToDisplay.length)return!1;let t=!0;return e.keyCode===a.default.DOWN?!o.isUndefined(this.state.selectedIndex)&&this.state.selectedIndex<this.state.candidatesToDisplay.length-1&&this.setState({selectedIndex:this.state.selectedIndex+1,selectionChangeKeyReceived:!0}):e.keyCode===a.default.UP?!o.isUndefined(this.state.selectedIndex)&&this.state.selectedIndex>0&&this.setState({selectedIndex:this.state.selectedIndex-1,selectionChangeKeyReceived:!0}):e.keyCode===a.default.PAGEUP?0!==this.state.selectedIndex&&this.setState({selectedIndex:0,selectionChangeKeyReceived:!0}):e.keyCode===a.default.PAGEDOWN?this.state.selectedIndex!==this.state.candidatesToDisplay.length-1&&this.setState({selectedIndex:this.state.candidatesToDisplay.length-1,selectionChangeKeyReceived:!0}):e.keyCode===a.default.TAB||e.keyCode===a.default.RETURN&&!e.shiftKey&&!e.ctrlKey?void 0!==this.state.selectedIndex&&this._selectItem(this.state.selectedIndex):e.keyCode===a.default.ESCAPE&&this.state.candidatesToDisplay.length>0?this.setState({candidatesToDisplay:[]}):t=!1,t}_onMouseOver(e){e>=0&&e<this.state.candidatesToDisplay.length&&this.state.selectedIndex!==e&&this.setState({selectedIndex:e})}_onClick(e,t){e.stopPropagation(),t>=0&&t<this.state.candidatesToDisplay.length&&this._selectItem(t)}_selectItem(e){o.delay((()=>{const t=this.state.candidatesToDisplay[e];this.props.onReplaceText&&t&&t.entity&&this.state.currentEntityDetector&&this.props.onReplaceText(t.charsToReplace,t.replacementText,this.state.currentEntityDetector.entityType,t.entity)}),140)}getReplacementCandidates(e,t){if(e){const i=this.props.entityDetectors();if(i)for(let n=0;n<i.length;n++){const s=i[n],a=e.match(s.match);if(a&&a.length>1){const i=a.index,n=0===i||" "===e[i]||" "===e[i-1]||"\n"===e[i-1];let r=s.search(a[1],n,t);if(r.length>0)return r=o.sortBy(r,(e=>e.priority)),r.length>t&&(r=r.slice(0,t)),{entityDetector:s,candidates:r}}}}return{entityDetector:void 0,candidates:[]}}}t.TextCompletion=g,t.default=g},24576:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(677381),o=i(897634),s=i(600212),a=i(134952);class r extends n.default{get _themeStyles(){const e=this.props.colorThemeOverride;return e?s.default.themeStylesForTheme(e):this._getContext().themeStyles}get _themeColors(){const e=this.props.colorThemeOverride;return e?(0,a.skypeThemeConnector)(e,this._getContext().userColor.key).colors:this._getContext().themeColors}get _currentTheme(){var e;return null!==(e=this.props.colorThemeOverride)&&void 0!==e?e:this._getContext().theme}_useAccessibleTheme(){return o.isAccessibleTheme(this._currentTheme)}_useDarkTheme(){return o.isDarkTheme(this._currentTheme)}}t.default=r},618546:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(471727),r=i(898278),l=i(300513),c=i(446509),d=i(32937),u=i(758262),g=i(319310),h=i(596223),p=i(490795),S=i(297122),m=i(442629),C=i(953143),y=i(748222),f=i(911896),b=i(948942),_=i(677381),v=i(915877),T=i(178735),P=i(581760),k=i(163841),A=i(994224),I=i(609554),w=(0,v.lazyProperties)({container:()=>s.Styles.createViewStyle({alignSelf:"stretch"}),backgroundDark:()=>s.Styles.createViewStyle({backgroundColor:r.CompositeNotificationToastInfo.color,borderColor:r.CompositeNotificationToastInfo.color,borderWidth:2}),backgroundLight:()=>s.Styles.createViewStyle({backgroundColor:P.Color.gray50Overlay50,borderColor:P.Color.white,borderWidth:2})});class x extends _.default{_buildState(e,t){const i=C.default.getToasts(this._getRootViewId()),n=A.default.CallingStore.getConnectedOrOutgoingAndNotOnHoldCallId(),o=T.default.getNewCallScreenDesignEnabled()&&a.default.isLightTheme();return{activeCallId:n,useLightTheme:o,themeOverride:o?k.Theme.Colorful:k.Theme.ColorfulDark,toasts:i.map((e=>({id:e.id,type:e.type,onDismiss:e.onDismiss})))}}render(){const e=[];return o.each(this.state.toasts,(t=>{switch(t.type){case C.ToastType.IncomingCall:e.push((0,n.jsx)(h.default,{id:t.id},t.id));break;case C.ToastType.Notification:e.push((0,n.jsx)(m.default,{colorThemeOverride:this.state.themeOverride,toastId:t.id},t.id));break;case C.ToastType.CallRecorder:e.push((0,n.jsx)(I.default,{colorThemeOverride:this.state.themeOverride,toastId:t.id},t.id));break;case C.ToastType.RemoteCallMediaCapturer:e.push((0,n.jsx)(c.RemoteCompositeCallMediaCapturerToast,{colorThemeOverride:this.state.themeOverride,toastId:t.id},t.id));break;case C.ToastType.LocalCallMediaCapturer:e.push((0,n.jsx)(c.LocalCompositeCallMediaCapturerToast,{colorThemeOverride:this.state.themeOverride,toastId:t.id},t.id));break;case C.ToastType.IncomingVideoDisabled:e.push((0,n.jsx)(p.default,{colorThemeOverride:this.state.themeOverride,toastId:t.id},t.id));break;case C.ToastType.NetworkConnection:e.push((0,n.jsx)(S.default,{toastId:t.id},t.id));break;case C.ToastType.CallConnectionQuality:e.push((0,n.jsx)(l.default,{colorThemeOverride:this.state.themeOverride,toastId:t.id},t.id));break;case C.ToastType.CameraDeniedToast:e.push((0,n.jsx)(u.default,{colorThemeOverride:this.state.themeOverride,toastId:t.id},t.id));break;case C.ToastType.WebFeedback:e.push((0,n.jsx)(f.default,{colorThemeOverride:this.state.themeOverride,toastId:t.id},t.id));break;case C.ToastType.Translation:e.push((0,n.jsx)(y.default,{colorThemeOverride:this.state.themeOverride,toastId:t.id},t.id));break;case C.ToastType.LimitedSupportBrowser:e.push((0,n.jsx)(b.default,{colorThemeOverride:this.state.themeOverride,toastId:t.id},t.id));break;case C.ToastType.TeamsInterop:case C.ToastType.TogetherModeNotice:case C.ToastType.MusicModeEnabled:case C.ToastType.PstnTranslation:case C.ToastType.PstnParticipantRing:e.push((0,n.jsx)(g.default,{colorThemeOverride:this.state.themeOverride,toastId:t.id,toastType:t.type,onDismiss:t.onDismiss},t.id));break;case C.ToastType.VideoRestricted:this.state.activeCallId&&e.push((0,n.jsx)(d.default,{toastId:t.id,callId:this.state.activeCallId,onDismiss:t.onDismiss}))}})),e.length?(0,n.jsx)(s.View,Object.assign({style:[w.container,this.state.useLightTheme?w.backgroundLight:w.backgroundDark]},{children:e})):null}}t.default=x},679481:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(677381);class a extends s.default{constructor(){super(...arguments),this._isVisible=!0,this._onVisibilityChanged=e=>{this._isVisible!==e&&(this._isVisible=e,this.forceUpdate())}}componentDidMount(){super.componentDidMount();const e=this._getContext();e.componentVisibilityStatus&&(this._visibilitySubscriptionToken=e.componentVisibilityStatus.isVisibleEvent().subscribe(this._onVisibilityChanged),this._isVisible=e.componentVisibilityStatus.isVisible())}componentWillUnmount(){super.componentWillUnmount(),this._visibilitySubscriptionToken&&(this._visibilitySubscriptionToken.unsubscribe(),this._visibilitySubscriptionToken=void 0)}render(){const e=this._getContext();return e&&e.componentVisibilityStatus&&!e.componentVisibilityStatus.isVisible()?null:(0,n.jsx)(o.View,Object.assign({style:this.props.style},{children:this.props.children}))}}t.default=a},191066:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(217041),a=i(711930);class r extends s.ComponentBase{constructor(){super(...arguments),this._onContainerRef=e=>{this._containerRef=e||void 0}}setAnimatedStyle(e){this._animatedStyle!==e&&(this._animatedStyle=e,this.isComponentMounted()&&this.forceUpdate())}requestFocus(){this._containerRef&&this._containerRef.requestFocus()}render(){let e={ref:this._onContainerRef,style:[this.props.style,this._animatedStyle],importantForAccessibility:this.props.importantForAccessibility};return this.props.shouldGroupAccessibilityChildren&&(e=a.default.applyShouldGroupAccessibilityChildren(e)),(0,n.jsx)(o.Animated.View,Object.assign({},e,{children:this.props.children}))}}t.default=r},31280:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenu=t.Header=t.Caption=t.BodyText=void 0;const n=i(570655);var o=i(619675);Object.defineProperty(t,"BodyText",{enumerable:!0,get:function(){return o.BodyText}}),Object.defineProperty(t,"Caption",{enumerable:!0,get:function(){return o.Caption}}),Object.defineProperty(t,"Header",{enumerable:!0,get:function(){return o.Header}});var s=i(279108);Object.defineProperty(t,"ContextMenu",{enumerable:!0,get:function(){return s.default}}),n.__exportStar(i(231820),t),n.__exportStar(i(23656),t)},540522:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isUrlMsnArticle=t.defaultOpenErrorHandler=t.openMailToLink=t.launchNativeEmail=t.launchNativeSms=t.openUrl=t.openUrlWithParams=void 0;const n=i(98530),o=i(516778),s=i(397691),a=i(219784),r=i(850576),l=i(898278),c=i(746096),d=i(314299),u=i(94031),g=i(233244),h=i(436237),p=i(32806),S=i(733754),m=i(536699),C=i(164723),y=i(104735),f=i(173714),b=(i(18078),i(626712)),_=i(889391),v=(i(926448),i(853374)),T=i(647738),P=i(217093),k=i(316392),A=i(827357),I=i(330124);function w(e,t,i,a={},l=!1){return t?a.openInExternalBrowser?n.default.openUrl(t).fail(M):f.default.getNavigationActionForDeepLink(t,c.NavigationConversationOrigin.LinkerUtil,i,e,l,void 0,a.conversationId,a.onShareComplete).then((n=>{if(n)return a.preventInAppNavigationForGuest?void y.default.navigateToGuestUpsell(d.GuestUpsellType.LeaveGroup):(p.trackEntryPoint(c.AppEntryPoint.URI),n.intent===g.Intent.Chat&&m.default.beginTrackingJoinMeetNow(l?C.MeetNowOrigin.JoinLinkDeeplink:C.MeetNowOrigin.ConversationDeeplink),void n.action());if(L(t)&&I.default.isUsingStackNavigationContextNoSubscription()){const e=v.default.newCauseId();return h.log(c.LogTraceArea.LinkNode,"Navigate to Article Reader"),void y.default.navigateAssertingUIStarted((()=>{const i={url:t,origin:T.ArticleReaderOrigin.LinkerUtil,navigationDirection:k.StackNavigationDirection.Push},n=new P.ArticleReaderMobilePanelNavigationContext(i);A.default.navigateToView(n,e)}))}if(!u.default.shouldLaunchInAppBrowser(t)||r.default.shouldLaunchExternalBrowser(t))return 0===t.indexOf("skype:")?void 0:o.Linking.openUrl(t);y.default.navigateToInAppBrowser({origin:e,url:t,openUrlOptions:{integrationCorrelationId:a.integrationCorrelationId,headers:a.headers,injectedJavaScript:a.injectedJavaScript,onNavigationStateChange:a.onNavigationStateChange,onInAppWebBrowserClose:a.onInAppWebBrowserClose,onShareComplete:a.onShareComplete,onWebViewClose:a.onWebViewClose,onMessage:a.onMessage,browserTitle:a.browserTitle,conversationId:a.conversationId,messageId:a.messageId,suggestionAttributes:a.suggestionAttributes,hideBrowserActions:a.hideBrowserActions,openIntegrationScenario:a.openIntegrationScenario,useBingMiniCanvas:a.useBingMiniCanvas,useBrowserActionInHeader:a.useBrowserActionInHeader,shareSameSession:a.shareSameSession,forceInAppViewer:a.forceInAppViewer}},i)})).fail(M):s.Rejected()}function x(e){switch(e.code){case o.Types.LinkingErrorCode.NoAppFound:return S.getString("LinkerUtil.NoAppFoundError");case o.Types.LinkingErrorCode.UnexpectedFailure:default:return S.getString("LinkerUtil.UnexpectedFailureError")}}function N(e,t,i){i.code===o.Types.LinkingErrorCode.Blocked&&e?a.default.showConfirmationAlert(e.message,void 0,e.actionName,(()=>w(c.BrowserOrigin.LinkerUtil,i.url,t)),l.MainRootViewId):(a.default.showOKAlert(x(i),void 0,l.MainRootViewId),function(e){if(e){let t=x(e);e.description&&(t+=", URL: "+e.url+", Error: "+e.description),h.error(c.LogTraceArea.GenericUnsafe,t)}}(i))}function M(e){return N(void 0,l.MainRootViewId,e)}function L(e){const t=b.default.getHost(e),i=_.default.getS4LCommerceFeaturesNoSubscription().articleReader.trustedHosts;return!(!t||!i.includes(t))}t.openUrlWithParams=function(e){w(e.origin,e.url,e.rootViewId,e.options,e.wasLaunchedFromExternalApp)},t.openUrl=w,t.launchNativeSms=function(e){o.Linking.launchSms(e).fail(M)},t.launchNativeEmail=function(e,t){o.Linking.launchEmail(e).fail((e=>N(t,l.MainRootViewId,e)))},t.openMailToLink=function(e,t){w(e,"mailto:"+t.to.join(",")+"?Subject="+t.subject+"&Body="+t.body,l.MainRootViewId)},t.defaultOpenErrorHandler=M,t.isUrlMsnArticle=L},173714:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(397691),s=i(800637),a=i(544330),r=i(671830),l=i(592487),c=i(746096),d=i(436237),u=i(233244),g=i(104735),h=i(217093),p=i(914976),S=i(640363),m=i(361694),C=i(811199),y=i(626712),f=i(853374),b=i(427158),_=i(445762),v=i(18078),T=/^buycredit/i;t.default=new class{getUrlForCompositeConversationNavigationContext(e){let t="/";return t=`${S.default.getFrontendBaseUrl()}/`,e&&(t+=e.otherPartyMri||e.conversationId),t}getUrlForNavigationContextStack(e,t){let i="/";if(i=`${S.default.getFrontendBaseUrl()}/`,e)if(e===h.MobileContentPanelId){const e=t;e&&(i+=e.otherPartyMri||e.conversationId)}else e===h.DetailsNavigationId&&(i+=t.mri);return i}getNavigationActionForDeepLink(e,t,i,h,S=!1,P,k,A){var I,w,x;const N=f.default.newCauseId();if(d.log(c.LogTraceArea.Navigation,`getNavigationActionForDeepLink: [${p.dev_unknownOmit(e)}] causeId: `+N),!y.default.isUrlValid(e))return d.error(c.LogTraceArea.Navigation,`getNavigationActionForDeepLink: invalid url [${p.dev_unknownOmit(e)}] causeId: `+N),o.Resolved(void 0);const M=y.default.getURIComponents(e);let L=k||(null===(I=null==M?void 0:M.queryParameterKeyValues)||void 0===I?void 0:I.threadId);const O=null==M?void 0:M.pathname;if(!L&&O&&O.includes(":")&&r.isThread(O)&&(L=O),M&&(M.pathname||M.queryParameterString)){v.default.isGuestUser();d.track(new l.OpenDeepLinkEvent(M,L,t,h,null===(w=M.queryParameterKeyValues)||void 0===w?void 0:w.launcher,null===(x=M.queryParameterKeyValues)||void 0===x?void 0:x.action))}if(M&&n.includes(["http","https"],M.protocol))return C.navigationPromiseForHttpLink(M,e,t,S,i,h,P);if(M&&(M.type===m.UrlType.Tel||M.type===m.UrlType.CallTo))return b.handleTelDeeplink(M,i,N);if(y.default.isContactUrlComponentsValid(M))return o.Resolved({action:n.noop,intent:u.Intent.Other});if(M&&(M.type===m.UrlType.VoipAudio||M.type===m.UrlType.VoipVideo))return b.handleVoipDeeplink(M,i,N);if(M&&M.type===m.UrlType.Messaging)return _.handleIpMessagingDeeplink(M,t,h,P);if((null==M?void 0:M.type)===m.UrlType.Skype||(null==M?void 0:M.type)===m.UrlType.Winshell){if(!M.queryParameterString||/^call/i.test(M.queryParameterString))return b.handleCallPayload(M,i,N);if(/^chat/i.test(M.queryParameterString))return _.handleChatPayload(M,t,e,h,P);if(/^action/i.test(M.queryParameterString))return s.handleActionPayload(e,M,t,i,N,S,h,k,A);if(/^home\b/i.test(M.queryParameterString))return(0,a.cancelOffnetworkInviteResolving)(),o.Resolved(void 0);if(/^quickaction/i.test(M.queryParameterString))return s.handleQuickActionPayload(M,i);if(T.test(M.queryParameterString))return o.Resolved({intent:u.Intent.Other,action:()=>g.default.navigateToBalanceStatePanel("BuyCreditFlow.navigateBalanceState",i)})}return o.Resolved(void 0)}}},627081:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=(i(667294),i(705465)),s=i(512193);t.default=function({variant:e,children:t}){const i=a(e);return(0,n.jsx)(o.View,Object.assign({style:i},{children:t}))};const a=e=>(0,s.useSkypeStyles)((({themeColors:t,mode:i})=>({_:{backgroundColor:"onAccent"===e?t.surfaceOnAccent:t.surfaceSecondary,borderWidth:i.isAccessible?1:0,borderColor:i.isAccessible?t.strokeHighContrast:void 0,width:32,alignItems:"center",justifyContent:"center",borderRadius:10}})),[e])._},820675:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(785893),s=i(667294),a=i(752414),r=(0,s.forwardRef)(((e,t)=>{var{onCancel:i,variant:s}=e,r=n.__rest(e,["onCancel","variant"]);return(0,o.jsx)(a.SearchRow,Object.assign({variant:s},{children:(0,o.jsx)(a.SearchWithCancel,Object.assign({onCancel:i},{children:(0,o.jsx)(a.SearchInput,Object.assign({ref:t,variant:s},r,{onEscape:i}))}))}))}));t.default=r},198082:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(667294),a=i(705465),r=i(281878),l=i(512193),c=i(898278),d=i(711828),u=i(913944),g=i(110117),h=i(915415),p=i(564513),S=i(600212),m=i(359753),C=(0,s.forwardRef)((({variant:e="regular",accessibilityLabel:t,autoFocus:i,isLoading:C,query:y,onQueryChange:f,onClear:b,onEscape:_,placeholder:v},T)=>{const{themeColors:{iconPrimary:P,iconOnColor:k,iconHint:A,strokePrimary:I},mode:{isAccessible:w}}=(0,S.useSkypeTheme)(),{isRTL:x}=(0,m.useLocalization)(),N=(0,p.useInputStyle)(e),M=(0,s.useRef)(null);(0,s.useEffect)((()=>{var e;i&&(null===(e=M.current)||void 0===e||e.focus())}),[i,M]),(0,s.useImperativeHandle)(T,(()=>({requestFocus:()=>{var e;return null===(e=M.current)||void 0===e?void 0:e.focus()},blur:()=>{var e;return null===(e=M.current)||void 0===e?void 0:e.blur()}})));const{textInputStyle:L}=(0,l.useSkypeStyles)((({themeColors:e})=>({textInputStyle:{flexShrink:0,flexGrow:1,color:e.textPrimary}})),[]),{clear:O,clearHover:D}=(0,l.useRXStyles)((({themeColors:e})=>({clear:o.Styles.createViewStyle(Object.assign({padding:10,alignSelf:"stretch",flex:1},x?{borderTopLeftRadius:8,borderBottomLeftRadius:8}:{borderTopRightRadius:8,borderBottomRightRadius:8}),!1),clearHover:o.Styles.createViewStyle({backgroundColor:e.surfaceInteractive},!1)})),[x]),R=(0,p.useEscapeKeyListener)((0,s.useCallback)((()=>{y.length>0?b():_()}),[b,_,y]));return(0,n.jsxs)(r.Row,Object.assign({flex:"1",direction:x?"row-reverse":"row",style:N,borderColor:w?I:void 0,width:"100%",height:"100%",space:"1"},{children:[(0,n.jsx)(r.Box,{children:(0,n.jsx)(g.default,{icon:d.SkypeIcon.Search,size:d.IconSize.size20,color:P})}),(0,n.jsx)(r.Box,Object.assign({flex:"1"},{children:(0,n.jsx)(a.TextInput,{ref:M,value:y,onChangeText:f,style:L,onKeyPress:R,placeholder:v,accessibilityLabel:t||v})})),(0,n.jsx)(r.Box,Object.assign({flexGrow:0},{children:C?(0,n.jsx)(h.default,{size:c.SXActivityIndicatorSize.ExtraSmall,tintColor:P}):null})),(0,n.jsx)(r.Box,Object.assign({height:"100%",justifyContent:"center"},{children:y.length>0&&(0,n.jsx)(u.default,{icon:d.SkypeIcon.DismissCircleInverted,size:d.IconSize.size12,color:A,onPress:b,style:O,showHoverEffect:w,hoverStyle:D,hoverColor:w?k:void 0})}))]}))}));t.default=C},288765:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(705465),s=i(281878),a=i(809206),r=i(311010),l=i(258187),c=i(564513),d=i(512193),u=i(627081),g=i(110117),h=i(711828);t.default=function({variant:e="regular",onPress:t,placeholder:i,accessory:p}){const{isRTL:S,themeColors:{iconPrimary:m,strokeHighContrast:C}}=(0,l.useCommonContext)(),y=o.StyleSheet.flatten([(0,c.useInputStyle)(e),{borderColor:C}]),f=(0,d.useSkypeStyles)((({themeColors:{textSecondary:e}})=>({_:Object.assign({color:e,fontSize:a.default.isMobile()?r.default.fontSize.size17:r.default.fontSize.size14},r.default.font.uiDisplayRegular)})),[])._;return(0,n.jsxs)(s.Row,Object.assign({flex:1,direction:S?"row-reverse":"row",height:"100%",width:"100%"},{children:[(0,n.jsxs)(o.Pressable,Object.assign({style:y,onPress:t,accessibilityRole:"button",accessibilityLabel:i},{children:[(0,n.jsx)(s.Box,{children:(0,n.jsx)(g.default,{icon:h.SkypeIcon.Search,size:h.IconSize.size20,color:m})}),(0,n.jsx)(o.Text,Object.assign({style:f},{children:i}))]})),p?(0,n.jsx)(s.Row,Object.assign({marginLeft:2},{children:(0,n.jsx)(u.default,Object.assign({variant:e},{children:p}))})):null]}))}},724268:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=(i(667294),i(705465)),s=i(281878),a=i(887315),r=i(564513);t.default=function({variant:e="regular",children:t}){const i=(0,r.useContainerColorStyles)(e),l=(0,r.useContainerStyle)(52);return(0,n.jsx)(s.Row,Object.assign({style:o.StyleSheet.flatten([i,l,a.styles.paddings])},{children:t}))}},235464:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=(i(667294),i(705465)),s=i(281878),a=i(166454),r=i(564513),l=i(887315);t.default=function({variant:e="regular",value:t,valueFrom:i,valueTo:c,maxHeight:d,children:u}){const g=(0,r.useContainerColorStyles)(e);return(0,n.jsx)(a.CollapsibleRow,Object.assign({value:t,valueFrom:i,valueTo:c,maxHeight:d},{children:(0,n.jsx)(s.Row,Object.assign({height:"100%",style:o.StyleSheet.flatten([g,l.styles.paddings])},{children:u}))}))}},456910:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=(i(667294),i(281878)),s=i(258187),a=i(733754),r=i(898278),l=i(22222),c=i(564513);t.default=function({onCancel:e,children:t}){const{isRTL:i}=(0,s.useCommonContext)(),d=(0,a.getString)("Global.CancelLabel"),u=(0,c.useContainerStyle)(36);return(0,n.jsxs)(o.Row,Object.assign({flex:1,direction:i?"row-reverse":"row",style:u},{children:[t,(0,n.jsx)(l.default,Object.assign({buttonStyle:r.SXButtonStyle.ThemeNoBackground,buttonSize:r.SXButtonSize.Small,title:d,onPress:e},{children:d}))]}))}},564513:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useEscapeKeyListener=t.useContainerStyle=t.useContainerColorStyles=t.useInputStyle=void 0;const n=i(667294),o=i(705465),s=i(512193),a=i(887315);t.useInputStyle=e=>{const t=(0,s.useSkypeStyles)((({mode:t,themeColors:i})=>({_:{backgroundColor:"onAccent"===e?i.surfaceOnAccent:i.surfaceSecondary,borderWidth:t.isAccessible?1:0,paddingLeft:8}})),[e]);return o.StyleSheet.flatten([a.styles.button,t._])};t.useContainerColorStyles=e=>(0,s.useSkypeStyles)((({themeColors:t})=>({_:{backgroundColor:"onAccent"===e?t.surfaceAccent:t.surfacePrimary}})),[e])._;t.useContainerStyle=e=>(0,s.useSkypeStyles)((()=>({_:{height:e}})),[e])._,t.useEscapeKeyListener=function(e){return(0,n.useCallback)((t=>{"Escape"===t.nativeEvent.key&&e()}),[e])}},752414:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SearchHeader=t.SearchRowCollapsible=t.SearchWithCancel=t.SearchRow=t.SearchInput=t.SearchInputButton=void 0;var n=i(288765);Object.defineProperty(t,"SearchInputButton",{enumerable:!0,get:function(){return n.default}});var o=i(198082);Object.defineProperty(t,"SearchInput",{enumerable:!0,get:function(){return o.default}});var s=i(724268);Object.defineProperty(t,"SearchRow",{enumerable:!0,get:function(){return s.default}});var a=i(456910);Object.defineProperty(t,"SearchWithCancel",{enumerable:!0,get:function(){return a.default}});var r=i(235464);Object.defineProperty(t,"SearchRowCollapsible",{enumerable:!0,get:function(){return r.default}});var l=i(820675);Object.defineProperty(t,"SearchHeader",{enumerable:!0,get:function(){return l.default}})},887315:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;const n=i(705465);t.styles=n.StyleSheet.create({button:{flex:1,flexDirection:"row",alignItems:"center",borderRadius:10},paddings:{paddingVertical:8,paddingHorizontal:16,alignItems:"center"}})},410575:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.bannersRelatedCommands=void 0;i(823113),i(184469),i(968894),i(172146),i(452374),i(178735),i(640363),i(478262),i(581736);t.bannersRelatedCommands=[]},963900:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});i(74478),i(588485),i(882261),i(846116),i(871664),i(63413),i(400984),i(481627),i(178735),i(46929),i(898278),i(746096),i(452374);t.default=[]},567923:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(481169),s=i(539549),a=i(882261),r=i(82433),l=i(746096),c=i(497174),d=i(436237),u=i(452374),g=i(733754),h=i(317219),p=i(685329),S=i(346200),m={command:"addreactions",usageHint:"[emoticon1], [emoticon2], ...",description:g.getString("SlashCommandDescriptions.AddReactions"),isVisible:!0,isEnabled:()=>!0,action:(e,t,i)=>{if(!e)return u.ActionResult.InvalidParameters;const o=T(e,i);return n.size(o)>0&&((0,h.default)().addReactions(o),(0,h.default)().saveCurrentReactions(),d.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.ReactionListBatchAdd,{numberOfReactions:n.size(o)}))),u.ActionResult.None}},C={command:"addcallreactions",usageHint:"[emoticon1], [emoticon2], ...",description:g.getString("SlashCommandDescriptions.AddReactions"),isVisible:!0,isEnabled:()=>!0,action:(e,t,i)=>{if(!e)return u.ActionResult.InvalidParameters;const o=T(e,i);return n.size(o)>0&&((0,p.default)().addReactions(o),(0,p.default)().saveCurrentReactions(),d.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.CallReactionListBatchAdd,{numberOfReactions:n.size(o)}))),u.ActionResult.None}},y={command:"removereactions",usageHint:"[emoticon1], [emoticon2], ...",description:g.getString("SlashCommandDescriptions.RemoveReactions"),isVisible:!0,isEnabled:()=>!0,action:(e,t,i)=>{if(!e)return u.ActionResult.InvalidParameters;const o=T(e,i);return n.size(o)>0&&((0,h.default)().removeReactions(o),(0,h.default)().saveCurrentReactions(),d.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.ReactionListBatchRemove,{numberOfReactions:n.size(o)})),(0,h.default)().getLocalReactionsCount()||d.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.LastReactionRemovedCallReset))),u.ActionResult.None}},f={command:"removecallreactions",usageHint:"[emoticon1], [emoticon2], ...",description:g.getString("SlashCommandDescriptions.RemoveReactions"),isVisible:!0,isEnabled:()=>!0,action:(e,t,i)=>{if(!e)return u.ActionResult.InvalidParameters;const o=T(e,i);return n.size(o)>0&&((0,p.default)().removeReactions(o),(0,p.default)().saveCurrentReactions(),d.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.CallReactionListBatchRemove,{numberOfReactions:n.size(o)})),(0,h.default)().getLocalReactionsCount()||d.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.LastCallReactionRemovedCallReset))),u.ActionResult.None}},b=[Object.assign(Object.assign({},m),{command:"addreaction",isVisible:!1}),m,y,Object.assign(Object.assign({},y),{command:"removereaction",isVisible:!1}),C,Object.assign(Object.assign({},C),{command:"addcallreaction",isVisible:!1}),f,Object.assign(Object.assign({},f),{command:"removecallreaction",isVisible:!1}),{command:"resetreactions",description:"Resets reactions set back to default",isVisible:!0,isEnabled:()=>!0,action:()=>((0,h.default)().resetUnsavedReactions(),(0,h.default)().saveCurrentReactions(),d.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.ReactionListReset)),u.ActionResult.None)},{command:"resetcallreactions",description:"Resets call reactions set back to default",isVisible:!0,isEnabled:()=>!0,action:()=>((0,p.default)().resetUnsavedReactions(),(0,p.default)().saveCurrentReactions(),d.track(new S.ReactionsManipulationTelemetry(S.ReactionsManipulationAction.CallReactionListReset)),u.ActionResult.None)},{command:"removereactionsat",usageHint:"reaction positions, use /printreactions for more info",description:g.getString("SlashCommandDescriptions.RemoveReactionsAt"),isVisible:!1,isEnabled:()=>!0,action:(e,t,i)=>e&&_(e)?((0,h.default)().removeReactionsAt(v(e).map((e=>e-1))),(0,h.default)().saveCurrentReactions(),u.ActionResult.None):u.ActionResult.InvalidParameters},{command:"removecallreactionsat",usageHint:"reaction positions, use /printcallreactions for more info",description:g.getString("SlashCommandDescriptions.RemoveCallReactionsAt"),isVisible:!1,isEnabled:()=>!0,action:(e,t,i)=>e&&_(e)?((0,p.default)().removeReactionsAt(v(e).map((e=>e-1))),(0,p.default)().saveCurrentReactions(),u.ActionResult.None):u.ActionResult.InvalidParameters},{command:"printreactions",usageHint:"(optional) position",description:g.getString("SlashCommandDescriptions.PrintReactions"),isVisible:!1,isEnabled:()=>!0,action:(e,t,i,o)=>{if(e&&!_(e))return u.ActionResult.InvalidParameters;const r=n.isEmpty(e)?[]:v(e);if((0,s.default)().getConversation(t)){const e="Reactions:\n",i=(0,h.default)().getCustomReactions(),s=n.isEmpty(r)?i.reduce(((e,t,i)=>e.concat(`${i+1}. (${t})\n`)),e):r.reduce(((e,t)=>`${t}. (${i[t-1]})`),e);o(a.createMessageInfoFromEscapedText(t,l.PostSource.SlashCommand,s))}return u.ActionResult.None}},{command:"printcallreactions",usageHint:"(optional) position",description:g.getString("SlashCommandDescriptions.PrintReactions"),isVisible:!1,isEnabled:()=>!0,action:(e,t,i,o)=>{if(e&&!_(e))return u.ActionResult.InvalidParameters;const r=n.isEmpty(e)?[]:v(e);if((0,s.default)().getConversation(t)){const e="Call Reactions:\n",i=(0,p.default)().getCustomReactions(),s=n.isEmpty(r)?i.reduce(((e,t,i)=>e.concat(`${i+1}. (${t})\n`)),e):r.reduce(((e,t)=>`${t}. (${i[t-1]})`),e);o(a.createMessageInfoFromEscapedText(t,l.PostSource.SlashCommand,s))}return u.ActionResult.None}}];function _(e){return(e||"").match(/^(\d|\s)+$/)&&"0"!==e}function v(e){return(0,o.chain)(e,(e=>e.trim().toLowerCase().split(" ")),(e=>e.map(n.toInteger)))}function T(e,t){const i=t.slice(2);return n.size(i)>0&&n.every(i,(e=>e instanceof c.EmoticonEntity))?i.map((e=>e.emoticonName)):(0,o.chain)(e,(e=>e.trim().toLowerCase().split(" ")),(e=>e.map((e=>{return function(e,t){if(e&&(e.id===t||n.includes(e.shortcuts,t)))return e.id;0;return}((t=e,r.default.getEmoticonByShortcutNoSubscription(`(${t})`)||r.default.getEmoticonByShortcutNoSubscription(t)),e);var t}))),n.compact)}t.default=b},308420:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.findSlashCommand=t.getVisibleCommands=t.getSlashCommands=t.FindResult=void 0;const n=i(496486),o=i(421832),s=i(516283),a=i(809206),r=(i(269521),i(148540),i(397691)),l=(i(464090),i(1706)),c=(i(180843),i(72105)),d=(i(3553),i(889391),i(978547),i(734581)),u=i(850781),g=i(994224),h=(i(924339),i(325489),i(598925)),p=(i(598925),i(32057)),S=i(422801),m=i(476621),C=i(871908),y=(i(351077),i(890239)),f=i(61375),b=i(581697),_=i(671830),v=i(562141),T=(i(898278),i(653445),i(959904)),P=i(400984),k=i(465848),A=(i(185455),i(539549)),I=i(882261),w=(i(440276),i(899686),i(184469),i(952262)),x=i(606452),N=(i(667121),i(759799),i(909682)),M=i(284334),L=i(321444),O=i(968894),D=i(746096),R=(i(765947),i(172146),i(805581),i(172685)),E=i(497174),B=i(436237),F=(i(452461),i(452374)),V=i(458666),U=i(614532),j=i(518460),H=i(733754),W=(i(46634),i(494109)),z=(i(624606),i(850513),i(844972)),G=(i(352914),i(593486),i(178735)),K=i(46929),q=i(18078),Q=i(104735),X=i(330124),J=i(932226),$=(i(541998),i(832844),i(23521),i(753891)),Y=i(371926),Z=(i(617707),i(399375)),ee=(i(256507),i(74478),i(785207)),te=i(567923),ie=i(963900),ne=i(431234),oe=i(954416),se=i(350325),ae=i(914976),re=(i(34273),i(279829),i(214673)),le=i(666765),ce=(i(496856),i(660181)),de=i(55585),ue=i(422538),ge=(i(150449),i(404057)),he=i(640363),pe=(i(912770),i(994214)),Se=i(626712),me=i(172758),Ce=i(853374),ye=i(410575),fe=(i(474728),i(211377),i(957315),i(955840),i(853154),i(72822),i(11324),i(818882),i(480707)),be=i(760051),_e=i(106429),ve=/^\/[a-z_!]+(?:\s|$)/i,Te=[{command:"refresh",isVisible:!1,usageHint:"[info|chat|alerts|all]",description:H.getString("SlashCommandDescriptions.Refresh"),action:(e,t)=>{const i=e.trim().toLowerCase();if("info"===i)R.default.fireAllEarly(),me.default.slashCommand_refreshProfiles(),N.default.requestUpdate();else if("chat"===i)b.default.forceResyncAllConversations();else if("alerts"===i)c.default.slashCommand_refresh();else if("all"===i)R.default.fireAllEarly(),me.default.slashCommand_refreshProfiles(),N.default.requestUpdate(),b.default.forceResyncAllConversations(),c.default.slashCommand_refresh();else{if(i)return F.ActionResult.InvalidParameters;b.default.forceResyncConversation(t)}return F.ActionResult.None}},{command:"me",isVisible:!0,usageHint:"[emote text]",description:H.getString("SlashCommandDescriptions.Me"),action:(e,t,i)=>{if(!e.trim())return F.ActionResult.InvalidParameters;const o=w.default.getDisplayName(q.default.getSkypeMri()),s=Ce.default.escapeXml(o).length+1;let a=3;const r=[];n.each(i,(e=>{if(a>0){const t=e.text();if(t.length<a)a-=t.length;else{const e=o+t.substring(a);r.push(new E.UnhandledEntity(e)),a=0}}else r.push(e)}));const l=I.createEmoteMessageInfo(t,D.PostSource.SlashCommand,r,s);return ee.default.postMessage(l),F.ActionResult.None}},{command:"swift",isVisible:!1,usageHint:"[todo | weather | trello | hotel | receipt | signin]",description:"Adds a test Swift card to the stream",action:(e,t,i,n)=>{const o=e.trim(),s=I.createSwiftFakeMessage(t,D.PostSource.SlashCommand,o);return s?(n(s),F.ActionResult.None):F.ActionResult.InvalidParameters}},{command:"poll",isVisible:!0,usageHint:"[title],[option1],[option2],[option3], ...",description:H.getString("SlashCommandDescriptions.Poll"),isEnabled:()=>!0,action:(e,t)=>{const i=e.split(",");if(i&&i.length>$.MinPollOptionCount){const e=i[0],o=n.take(i.slice(1),$.MaxPollOptionCount);return Z.postPollMessage(t,e,o,Z.getDefaultExpirationTimeMs(),!1,Y.CreatePollOrigin.SlashCommand),F.ActionResult.None}return F.ActionResult.InvalidParameters}},{command:"tokenrefresh",isVisible:!1,description:"Force refresh of SkypeToken",action:()=>(pe.default.skypeTokenInvalid(pe.default.getRawSkypeToken(),!0),F.ActionResult.None)},{command:"epidrefresh",isVisible:!1,description:"Force refresh of EndpointId",action:()=>(le.default.markEndpointMissing(le.default.getEndpointId()),F.ActionResult.None)},{command:"add",isVisible:!1,usageHint:"[user]",description:H.getString("SlashCommandDescriptions.Add"),action:(e,t)=>F.ActionResult.None},{command:"leave",isVisible:!0,description:H.getString("SlashCommandDescriptions.Leave"),isEnabled:e=>Pe(e),action:(e,t)=>{C.leaveConversationAsync(t,f.RemoveMemberFromThreadSource.LeaveCommand);const i=Ce.default.newCauseId();return B.log(D.LogTraceArea.SlashCommandUtils,"/leave",ae.mriOrId(t)," causeId:",i),X.default.isUsingStackNavigationContext()?Q.default.navigateToRecentsTab():Q.default.navigateToDesktopRecents(i),F.ActionResult.None}},{command:"kick",isVisible:!1,usageHint:"[Skype Name]",description:"Eject chat member",isEnabled:e=>{const t=(0,A.default)().getConversation(e);return Pe(e)&&!(0,z.isRegularMemberInModeratedGroup)(t)},action:(e,t)=>{const i=e.trim();return i?(n.each(i.split(" "),(e=>{const i=_.sanitizeMri(e,_.Namespaces.SkypeId);C.removeParticipantFromConversation(i,t,f.RemoveMemberFromThreadSource.KickCommand)})),F.ActionResult.None):F.ActionResult.InvalidParameters}},{command:"kickban",isVisible:!0,usageHint:"[Skype Name]",description:H.getString("SlashCommandDescriptions.KickBan"),isEnabled:e=>{const t=(0,A.default)().getConversation(e);return Pe(e,!0)&&!(0,z.isRegularMemberInModeratedGroup)(t)},action:(e,t)=>{const i=e.trim();if(!i)return F.ActionResult.InvalidParameters;const o=(0,A.default)().getConversation(t);let s=o?o.getBannedSkypeIds():[];return n.each(i.split(" "),(e=>{const i=_.sanitizeMri(e,_.Namespaces.SkypeId);C.removeParticipantFromConversation(i,t,f.RemoveMemberFromThreadSource.KickCommand),s.push(e)})),s=n.uniq(s),S.default.setBannedSkypeIds(t,s),F.ActionResult.None}},{command:"getbanlist",isVisible:!0,description:H.getString("SlashCommandDescriptions.GetBanList"),isEnabled:e=>{const t=(0,A.default)().getConversation(e);return Pe(e,!0)&&!(0,z.isRegularMemberInModeratedGroup)(t)},action:(e,t,i,o)=>{const s=(0,A.default)().getConversation(t);if(s){let e="BANNED USERS:\n";const i=s.getBannedSkypeIds();n.each(i,(t=>{e+=`   ${t}\n`}));o(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,e))}return F.ActionResult.None}},{command:"setbanlist",isVisible:!0,usageHint:"[[+|-][Skype Name]]",description:H.getString("SlashCommandDescriptions.SetBanList"),isEnabled:e=>{const t=(0,A.default)().getConversation(e);return Pe(e,!0)&&!(0,z.isRegularMemberInModeratedGroup)(t)},action:(e,t)=>{const i=e.trim();if(!i)return F.ActionResult.InvalidParameters;const o=(0,A.default)().getConversation(t);if(o){let e=!1,s=o.getBannedSkypeIds();if(n.each(i.split(" "),(t=>{"+"===t[0]?s.push(_.asSkypeId(t.slice(1))):"-"===t[0]?n.remove(s,(e=>e===t.slice(1))):e=!0})),e)return F.ActionResult.InvalidParameters;s=n.uniq(s),S.default.setBannedSkypeIds(t,s)}return F.ActionResult.None}},{command:"showmembers",isVisible:!0,description:H.getString("SlashCommandDescriptions.ShowMembers"),isEnabled:e=>Pe(e),action:(e,t,i,o)=>{const s=(0,A.default)().getConversation(t);if(s){let e="CONVERSATION MEMBERS:\n";const i=s.getThreadMembers();n.each(i,(t=>{if(_.isAgent(t.id)){const i=l.default.getAgentDescriptionForMri(t.id);e+=`   ${i.getDisplayName()} (${t.id}): ${t.role}\n`}else{const i=_.getSkypeIdFromMri(t.id);i&&(e+=`   ${i}: ${t.role}\n`)}}));o(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,e))}return F.ActionResult.None}},{command:"setrole",isVisible:!0,usageHint:"[Skype Name] [Admin|User]",description:H.getString("SlashCommandDescriptions.SetRole"),isEnabled:e=>{const t=(0,A.default)().getConversation(e);return Pe(e)&&!(0,z.isRegularMemberInModeratedGroup)(t)},action:(e,t)=>{const i=e.split(" ");if(2!==i.length||i[1].toLowerCase()!==y.ThreadMemberRoles.Admin.toLowerCase()&&"master"!==i[1].toLowerCase()&&i[1].toLowerCase()!==y.ThreadMemberRoles.User.toLowerCase())return F.ActionResult.InvalidParameters;const n=_.sanitizeMri(i[0],_.Namespaces.SkypeId),o=(0,A.default)().getConversation(t);return o&&o.isUserMember(n)?(q.default.getSkypeMri()===n||S.default.serviceAddMemberToThread(t,n,f.AddMemberToThreadSource.SetRoleCommand,i[1].toLowerCase()===y.ThreadMemberRoles.Admin.toLowerCase()||"master"===i[1].toLowerCase()),F.ActionResult.None):F.ActionResult.None}},{command:"showconv",isVisible:!1,description:"Displays raw conversation info",action:(e,t,i,n)=>{const o=(0,A.default)().getConversation(t);if(o){n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,JSON.stringify(o)))}return F.ActionResult.None}},{command:"showconvid",isVisible:!1,description:"Displays conversation id",action:(e,t,i,n)=>(n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,JSON.stringify(t))),F.ActionResult.None)},{command:"dumprawalerts",isVisible:!1,usageHint:"[count]",description:"Dumps raw alerts info",action:(e,t,i,n)=>{const o=c.default.test_getAllRawAlerts(),s=Number(e.trim());s>0&&o.splice(s);return n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,JSON.stringify(o))),F.ActionResult.None}},{command:"dumpalerts",isVisible:!1,usageHint:"[count]",description:"Dumps visible alerts info",action:(e,t,i,o)=>{let s=c.default.getRecentAlerts();const a=Number(e.trim());if(a>0){const e=n.clone(s);e.splice(a),s=e}return o(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,JSON.stringify(s))),F.ActionResult.None}},{command:"syncinfo",isVisible:!1,description:"Displays conversation's sync info",action:(e,t,i,n)=>{const o=m.default.getConversationMetaFromMemoryCache(t);if(!o)return F.ActionResult.None;let s="Conversation: "+t+", Version: "+o.conv.convViewVersion+", MessagesStale: "+o.syncInfo.messagesStale+", MessagesSyncState: "+o.syncInfo.messagesSyncState;o.conv.isThread()&&(s+=", ThreadDetailsVersion: "+o.conv.threadDetailsVersion+", ThreadPropsVersion: "+o.conv.getThreadProperty(_.ThreadProps.ThreadDetailsVersion));return n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,s)),F.ActionResult.None}},{command:"language",isVisible:!1,description:H.getString("SlashCommandDescriptions.Language"),usageHint:"[ll-CC|ll|reset]",action:e=>e.trim()?(B.track(new U.LanguageSlashCommandChangedEvent(H.getLocale(),e)),"reset"===e.trim()?(V.resetLocaleToSystem(),B.log(D.LogTraceArea.SlashCommandUtils,"Resetting language to default via slash command")):(V.setLocale(e),B.log(D.LogTraceArea.SlashCommandUtils,`Locale set via slash command to [${e}]`)),F.ActionResult.None):F.ActionResult.InvalidParameters},{command:"rtl",isVisible:!1,description:"Force right-to-left layout",usageHint:"[on|off]",action:(e,t,i,n)=>{const o=e.trim();if("on"!==o&&"off"!==o)return F.ActionResult.InvalidParameters;const s="on"===o;H.forceRTL(s),G.default.setUserPreferencesLocal({rtl:s});return n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,"The app needs to be restarted for this change to take effect")),F.ActionResult.None}},{command:"forcecqf",isVisible:!1,usageHint:"[on|off]",description:"Forces Call Quality Feedback for all calls",action:(e,t)=>{const i=e.trim().toLowerCase();return i&&"on"!==i&&"off"!==i?F.ActionResult.InvalidParameters:(G.default.setUserPreferencesLocal({forceCQF:"on"===i}),F.ActionResult.None)}},{command:"callinfo",isVisible:!1,description:"Display call info in the conversation",action:(e,t,i,o)=>{const s=g.default.CallingStore.getCallIdsForConversationMri(t),a=s.length?n.head(s):g.default.CallingStore.getMostRecentCallId();return a?(g.default.CallingStore.getDebugInformation(a,!!s.length).then((e=>{if(!e)return;const i=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,e);o(i)})),F.ActionResult.None):F.ActionResult.None}},{command:"calltechinfo",isVisible:!1,description:"Display call technical information in the conversation",action:(e,t,i,o)=>{const s=g.default.CallingStore.getCallIdsForConversationMri(t);s.length?n.head(s):g.default.CallingStore.getMostRecentCallId();return F.ActionResult.None}},{command:"golive",isVisible:!0,usageHint:"",description:H.getString("SlashCommandDescriptions.GoLive"),isEnabled:e=>{const t=(0,A.default)().getConversation(e);return _.isGroupConversation(e)&&!(0,z.isRegularMemberInModeratedGroup)(t)},action:(e,t,i,n)=>{const o=Ce.default.newCauseId();return _.isThread(t)?g.default.CallNavigationHelper.isGoLiveAllowed(t,o)?(B.log(D.LogTraceArea.SlashCommandUtils,"/golive",ae.mriOrId(t)," causeId:",o),g.default.CallNavigationHelper.startGoLiveCall({conversationMri:t,withVideo:!0,origin:D.NavigationCallOrigin.GoLiveSlashCommand},o),F.ActionResult.None):(B.log(D.LogTraceArea.SlashCommandUtils,"Ignoring /golive ",ae.mriOrId(t),"- golive is not allowed"),F.ActionResult.None):F.ActionResult.None}},{command:"flamingo",isVisible:!1,usageHint:"[on|off]",description:"Forces MSNP pushes for all calls",action:(e,t)=>{const i=e.trim().toLowerCase();return i&&"on"!==i&&"off"!==i?F.ActionResult.InvalidParameters:(G.default.setUserPreferencesLocal({forceFlamingo:"on"===i}),F.ActionResult.None)}},{command:"showbrowserinfo",isVisible:!1,description:"Show browser info",action:(e,t,i,n)=>{const o="BrowserName: "+a.default.SystemModel+" browserVersion: "+a.default.SystemManufacturer+" isMobile: "+a.default.isMobile()+" supportsDragAndDropEffect: "+a.BrowserEnvironment.supportsDragAndDropEffect()+" supportsScreenSharing: "+a.BrowserEnvironment.supportsScreenSharing()+" supportsCopy: "+a.BrowserEnvironment.supportsCopy()+" browserEngine: "+a.BrowserEnvironment.getBrowserEngine();return n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,o)),F.ActionResult.None}},{command:"showreconnect",isVisible:!1,usageHint:"[on|off|none]",description:"Force-render reconnect UI",action:(e,t,i,n)=>{if(!u.default.isCallingBundleLoaded())return F.ActionResult.InvalidParameters;const o=e.trim().toLowerCase();if(o&&"on"!==o&&"off"!==o&&"none"!==o)return F.ActionResult.InvalidParameters;const s="on"===o?h.NetworkConnectionState.Connecting:"off"===o?h.NetworkConnectionState.Connected:h.NetworkConnectionState.LostConnection,a=Ce.default.newCauseId(),r=g.default.CallingStore.getConnectedAndNotOnHoldCallId();return r?(B.log(D.LogTraceArea.SlashCommandUtils,"Setting call reconnect UI networkState: "+h.NetworkConnectionState[s]+" callId: "+r+" causeId: "+a),g.default.CallingStore.networkConnectionEvent().fire({callId:r,eventType:h.CallNetworkQualityEventType.NetworkReconnection,networkState:s,causeId:a}),F.ActionResult.None):F.ActionResult.InvalidParameters}},{command:"showpoorconnection",isVisible:!1,usageHint:"[on|off]",description:"Force-render poor connection UI",action:(e,t,i,n)=>{const o=e.trim().toLowerCase();if(o&&"on"!==o&&"off"!==o)return F.ActionResult.InvalidParameters;if(!u.default.isCallingBundleLoaded())return F.ActionResult.InvalidParameters;const s="on"===o,a=Ce.default.newCauseId(),r=g.default.CallingStore.getConnectedAndNotOnHoldCallId();return r?(B.log(D.LogTraceArea.SlashCommandUtils,(s?"Showing":"Hiding")+" calling poor connection UI callId: "+r+" causeId: "+a),g.default.CallingStore.networkConnectionEvent().fire({callId:r,eventType:h.CallNetworkQualityEventType.NetworkReceiveQuality,networkState:s?h.NetworkConnectionState.LostConnection:h.NetworkConnectionState.Connected,causeId:a}),F.ActionResult.None):F.ActionResult.InvalidParameters}},{command:"showaudioonlyprompt",isVisible:!1,usageHint:"[on|off]",description:"Force-render catastrophic network event",action:(e,t,i,n)=>{if(!u.default.isCallingBundleLoaded())return F.ActionResult.InvalidParameters;const o=e.trim().toLowerCase();if(o&&"on"!==o&&"off"!==o&&"none"!==o)return F.ActionResult.InvalidParameters;let s=h.NetworkConnectionState.LostConnection;"on"===o?s=h.NetworkConnectionState.Connecting:"off"===o&&(s=h.NetworkConnectionState.Connected);const a=Ce.default.newCauseId(),r=g.default.CallingStore.getConnectedAndNotOnHoldCallId();return r?(B.log(D.LogTraceArea.SlashCommandUtils,"Setting audio only prompt UI networkState: "+h.NetworkConnectionState[s]+" callId: "+r+" causeId: "+a),g.default.CallingStore.networkConnectionEvent().fire({callId:r,eventType:h.CallNetworkQualityEventType.NetworkReceiveCatastrophic,networkState:s,causeId:a}),F.ActionResult.None):F.ActionResult.InvalidParameters}},{command:"showcallnetworkconnectioninfo",isVisible:!1,usageHint:"",description:"Displays call network quality values",action:(e,t,i,n)=>{if(!u.default.isCallingBundleLoaded())return F.ActionResult.InvalidParameters;const o=g.default.CallingStore.getConnectedAndNotOnHoldCallId();if(!o)return F.ActionResult.InvalidParameters;const s=(0,p.default)(),a=s.getCallReconnectionState(o),r=s.isCallQualityPoor(o),l=s.isCallCatastrophic(o);let c=`Reconnection: ${a}`;return a&&(c+=` (${h.NetworkConnectionState[a]})`),c+=`\nQualityPoor: ${r}`,c+=`\nCatastrophic: ${l}`,n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,c)),F.ActionResult.None}},{command:"dumpmsnp",isVisible:!1,description:"Display debugging info in the conversation",action:(e,t,i,o)=>{let s;switch(J.default.getConnectionStatus()){case J.ConnectionStatus.Connected:s="NetStateConnected";break;case J.ConnectionStatus.DisconnectedButNetworkingPossible:s="NetStateConnecting";break;case J.ConnectionStatus.DisconnectedNoNetworkingReported:s="NetStateDisconnected";break;default:s="Unknown"}const a=q.default.getMyMris(),r=n.filter(a,(e=>_.getMriNamespace(e)===_.Namespaces.MSA)).map((e=>e.substring(2))),l=n.find(r,(e=>0!==e.indexOf("cid-(")))||n.head(r)||"Unknown",c=(new Date).getTimezoneOffset(),d=Math.abs(c%60),u=(c-d)/60,g=(u>0?"-":"+")+(u<10?"0"+u:u)+":"+(d<10?"0"+d:d),h=le.default.getEndpointInfo(),p=pe.default.getSkypeToken(),C=oe.default.debug_getLastPayload(),f=S.default.debug_getCurrentCloudUrl(),b=m.default.getUserProperty(_.ServerUserProps.UserRing),v=[["Status",s],["Dogfood Status",f?_.isDogfoodCloudUrl(f).toString():"None"],["Cloud Url",f||"None"],["User Ring",n.isUndefined(b)?"None":y.UserRing[n.toNumber(b)]||b],["Login",l],["Skypename",q.default.getSkypeId()],["EPID",h.exists?h.id:"None"],["EPFlags",h.exists?h.featureFlags:"None"],["Push Sub Id",h.pushSubscriptionId||"None"],["ClientVersion",he.default.getAppVersion()],["OSVersion",he.default.getPlatformTypeName()+" "+he.default.getOSVersion()],["Time",`TZ: UTC${g}, Local: ${Date.now()}    /*, Server */`],["PnhInfo",C?JSON.stringify(C):"None"],["My Mris",a.join(", ")],["Locale",H.getLocale()],["PlatformType",""+he.default.getPlatformType()],["Chat Service Connection",S.default.isConnected()?"REST/Long Poll":"None"],["Skype Token Expiration",p?""+p.expiration:"None"],["FrontendUrl",he.default.getFrontendBaseUrl()]];const T="MSNP: Connection Data:\n"+n.map(v,(e=>`* ${e[0]}: ${e[1]}`)).join("\n");return o(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,T)),F.ActionResult.None}},{command:"pnh",isVisible:!1,description:"Display PNH registrations",action:(e,t,i,n)=>(oe.default.debug_enumerateRegistrations().then((e=>{const i=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,JSON.stringify(e,null," "));n(i)})),F.ActionResult.None)},{command:"tracing",isVisible:!1,usageHint:"[on|off|(number number number number number number)]",description:"Enables or disables debug log tracing",action:(e,t)=>{const i=e.toLowerCase().trim();if("on"===i)B.setLocalTracingMasks([-1,-1,-1,-1,-1,-1,-1,-1,-1]);else if("off"===i)B.setLocalTracingMasks([0,0,0,0,0,0,0,0,0]);else{if(!i)return F.ActionResult.InvalidParameters;{const e=i.split(" "),t=n.map(e,(e=>Number(e)));if(!n.every(t,n.isFinite)||t.length!==s.ECSMaskLength)return F.ActionResult.InvalidParameters;B.setLocalTracingMasks(t)}}return F.ActionResult.None}},{command:"unreadcounts",isVisible:!1,description:"Validates unread message counts and dumps details to debug log file",action:(e,t,i,n)=>{const o=e.toLowerCase().trim();if(o&&"fix"!==o)return F.ActionResult.InvalidParameters;const s=m.default.getConversationMetaFromMemoryCache(t);return k.validateUnreadMessageCounts([s]).then((e=>{const i=e?"Unread message counts are consistent.":"Unread message counts are inconsistent. Please file a bug.",o=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,i);n(o)})),F.ActionResult.None}},{command:"resetprefs",isVisible:!1,usageHint:"[local|roaming]",description:"Resets user preferences. By default, both local and roaming are reset.",action:(e,t)=>{const i=e.trim().toLowerCase(),n="local"===i,o="roaming"===i;return!i||n||o?(n||K.default.reset(),o||G.default.reset(),F.ActionResult.None):F.ActionResult.InvalidParameters}},{command:"usestacknav",isVisible:!1,usageHint:"[on|off]",description:"Overrides navigation context to stack navigation on narrow desktop",action:(e,t)=>{const i=e.trim().toLowerCase();return i&&"on"!==i&&"off"!==i?F.ActionResult.InvalidParameters:(G.default.setUserPreferencesLocal({useStackNavOnNarrowDesktop:"on"===i}),F.ActionResult.None)}},{command:"download",isVisible:!1,usageHint:"[info|cancel]",description:'Gets info or cancels for all "Downloading" media and files',action:(e,t,i,o)=>{const[s,a]=e.trim().toLowerCase().split(" ");let r=!s||"info"===s;"all"!==s||a||(r=!0);const l="cancel"===s||"cancell"===s;if(!r&&!l)return F.ActionResult.InvalidParameters;const c=n.cloneDeep(n.values(x.default.debug_allFileDownloads())),d=n.cloneDeep(n.values(x.default.debug_allFileDownloadsCleaningUp())),u=n.cloneDeep(x.default.debug_allDownloadFailedRetryInfo());let g=`${r?"Currently downloading ":"Canceling "}${c.length} as of ${Date.now()}:\n${JSON.stringify(c)}`;if(r&&(d.length&&(g+=`\n\nCleaning up ${d.length}:\n${JSON.stringify(d)}`),n.isEmpty(u)||(g+=`\n\nRetry info:\n${JSON.stringify(u)}`)),l){const e=n.filter(c,(e=>!x.default.cancelDownloadForKey(e.key,"666")));e.length&&(g+=`\n\nFailed to cancel ${e.length}:\n${n.map(e,(e=>e.id)).join(", ")}`)}return o(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,g)),F.ActionResult.None}},{command:"post",isVisible:!1,usageHint:"[info|cancel] [all]",description:'Gets info or cancels for all "Sending" messages and media uploads in this or all conversation(s)',action:(e,t,i,o)=>{const[s,a]=e.trim().toLowerCase().split(" ");let l="all"===a,c=!s||"info"===s;"all"!==s||a||(l=!0,c=!0);const d="cancel"===s||"cancell"===s;if(!c&&!d)return F.ActionResult.InvalidParameters;const u=e=>{const i=n.cloneDeep(n.values(e)),o=l?i:n.filter(i,(e=>!!e.persisted.messagesForPosting[t])),s=n.sortBy(o,(e=>e.persisted.postTime));return n.map(s,(e=>e.getPersistedActionData()))},g=u(ee.default.debug_allPosts()),h=u(ee.default.debug_allPostsCleaningUp()),p=n.cloneDeep(ee.default.debug_allPostsFailedRetryInfo()),S=n.map(g,(e=>{const t=n.map(e.messagesForPosting,((e,t)=>v.default.getMessageByCuid(t,_.getCuidForMessage(e))));return r.all(t).then((t=>n.some(t,(e=>!e))?e:void 0))}));return r.all(S).then((e=>n.compact(e))).then((e=>{const i=l?"":" in this conversation";let s=`${c?"Currently sending ":"Canceling "}${g.length}${i} as of ${Date.now()}:\n${JSON.stringify(g)}`;if(c&&(h.length&&(s+=`\n\nCleaning up ${h.length}:\n${JSON.stringify(h)}`),n.isEmpty(p)||(s+=`\n\nRetry info:\n${JSON.stringify(p)}`)),d){const e=n.filter(g,(e=>{const i=l?n.first(e.conversationIds):t,o=e.messagesForPosting[i];return!ee.default.cancelPostMessage(i,o.clientmessageid)}));if(e.length){const t=n.map(e,(e=>e.id));s+=`\n\nFailed to cancel ${e.length}:\n${t.join(", ")}`}}if(e.length){const t=n.map(e,(e=>e.id));s+=`\n\nMissing DB message for ${e.length}:\n${t.join(", ")}`}const a=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,s);o(a)})),F.ActionResult.None}},{command:"getuserinfo",isVisible:!1,description:"Retrieves a users' User Info, including SkypeID and CID",action:(e,t,i,n)=>{const o=`User Ids:\n${q.default.getMyMris().join("\n")}`;return n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,o)),F.ActionResult.None}},{command:"dumpmessages",isVisible:!1,usageHint:"[all | number of messages] [pretty | JSON spaces]",description:"Retrieves raw messages from the database",action:(e,t,i,o)=>{const[s,a]=e.trim().toLowerCase().split(" "),r="all"===s?Number.MAX_VALUE:Number(s);if(!n.isFinite(r)||0===r)return F.ActionResult.InvalidParameters;return(r>0?v.default.getMessagesForConversationBeforeTime(t,Number.MAX_VALUE,r,!1):v.default.getMessagesForConversationAfterTime(t,0,-r,!1)).then((e=>{const i=Number(a)||("pretty"===a?4:void 0),s=n.map(e,(e=>JSON.stringify(e,null,i))).join(i?"\n\n":void 0),r=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,s);o(r),B.debug((()=>["dumpmessages",e]))})),F.ActionResult.None}},{command:"getmessagebycuid",isVisible:!1,usageHint:"cuid",description:"Retrieves raw message from the database by cuid",action:(e,t,i,n)=>{const o=e.trim();return!o||/\D/.test(o)?F.ActionResult.InvalidParameters:(v.default.getMessageByCuid(t,o).then((e=>{const i=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,JSON.stringify(e));n(i),B.debug((()=>["getmessagebycuid",e]))})),F.ActionResult.None)}},{command:"switchconv",isVisible:!1,usageHint:"conversationId",description:"Navigates to a chat conversation",action:(e,t)=>{const i=Ce.default.newCauseId();B.log(D.LogTraceArea.SlashCommandUtils,"SlashCommandUtils.switchconv, causeId: "+i);const n=e.trim();return _.isMri(n)?(Q.default.navigateToConversation({convId:n,origin:D.NavigationConversationOrigin.SlashCommand,causeId:i}),F.ActionResult.None):F.ActionResult.InvalidParameters}},{command:"skonsole",isVisible:!1,description:"Opens a fake conversation to display streaming instrumentation/console lines",action:(e,t,i)=>{const n=Ce.default.newCauseId();return B.log(D.LogTraceArea.SlashCommandUtils,"SlashCommandUtils.skonsole, causeId: "+n),m.default.createFakeConversation(_.SkonsoleMri),Q.default.navigateToConversation({convId:_.SkonsoleMri,origin:D.NavigationConversationOrigin.SlashCommand,causeId:n}),F.ActionResult.None}},{command:"clearmru",isVisible:!0,description:H.getString("SlashCommandDescriptions.ClearMru"),action:(e,t)=>(ne.default.clearHistory(),F.ActionResult.None)},{command:"geturicomponents",isVisible:!1,usageHint:"[uri] [native|regex]",description:"Get uri components synchronously.",action:(e,t,i,o)=>{const s=e&&n.compact(n.trim(e).split(" "));if(0===s.length)return F.ActionResult.InvalidParameters;const a=n.trim(s[0]);let r,l;switch(s.length>1?n.trim(s[1]).toLowerCase():"default"){case"native":r=Se.default.test_syncGetUriComponents(a);break;case"regex":r=Se.default.test_regexGetUriComponents(a);break;default:r=Se.default.getURIComponents(a)}if(r){const e=[["Input",a],["Is valid",Se.default.isUrlValid(a)],["Protocol",r.protocol],["Email Name",r.emailName],["Skype Participants",r.skypeParticipants],["Tel Number",r.telNumber],["Host",r.host],["Port",r.port],["Path",r.pathname],["Querystring",r.queryParameterString],["Fragment",r.fragment]];l="Uri components:\n"+n.map(e,(e=>`* ${e[0]}: ${e[1]}`)).join("\n")}else l="Failed to parse uri: "+a;return o(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,Ce.default.escapeXml(l))),F.ActionResult.None}},{command:"fetchprofile",isVisible:!1,usageHint:"[mri]",description:"Fetches a profile from the People Service.",action:(e,t,i,o)=>e&&0!==e.length?(ce.default.getProfiles([e]).then((e=>{n.each(e.profiles,(e=>{const i=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,JSON.stringify(e));o(i)}))})),F.ActionResult.None):F.ActionResult.InvalidParameters},{command:"fetchcontact",isVisible:!1,usageHint:"[mri]",description:"Fetches contacts from the Contacts Service and searches for given mri.",action:(e,t,i,o)=>e&&0!==e.length?(T.default.getContacts(q.default.getSkypeId()).then((i=>{if(i.contacts){const s=n.find(i.contacts,(t=>t.mri===e));let a=i.contacts.length+" total contacts - ";if(a+=s?"found ":"did not find ",a+='"'+e+'"',o(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,a)),s){const e=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,JSON.stringify(s));o(e)}}else o(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,"Something went wrong"))})).catch((e=>{const i=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,ge.default.errorAsString(e));o(i)})),F.ActionResult.None):F.ActionResult.InvalidParameters},{command:"getprofilefromdb",isVisible:!1,usageHint:"[mri]",description:"Gets user profile from the local database.",action:(e,t,i,n)=>e&&0!==e.length?(v.default.getDisplayableUser(e).then((e=>{if(e){const i="Displayable user mini profile:\n\n"+JSON.stringify(e);n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,i))}else n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,"No displayable user mini profile found"))})),be.ContactsRepository.getUserProfileByMri(e).then((e=>{if(e){const i="Full user profile:\n\n"+JSON.stringify(e);n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,i))}else n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,"No full user profile found"))})),F.ActionResult.None):F.ActionResult.InvalidParameters},{command:"getcontactswithphones",isVisible:!1,description:"Fetches contacts with phones from the Contacts Service for the current user.",action:(e,t,i,o)=>(T.default.getContacts(q.default.getSkypeId()).then((e=>{if(e.contacts){const i=n.filter(e.contacts,(e=>!!e.phones||!!e.profile&&!!e.profile.phones)),s=n.filter(e.contacts,(e=>!!e.phone_hashes)),a=e.contacts.length+" total contacts - "+s.length+" contacts with phone hashes - "+i.length+" contacts with phones";o(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,a)),n.each(i,(e=>{const i=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,JSON.stringify(e));o(i)}))}else o(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,"Something went wrong"))})).catch((e=>{const i=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,ge.default.errorAsString(e));o(i)})),F.ActionResult.None)},{command:"synccontacts",isVisible:!1,usageHint:"[full]",description:"Trigger syncing of contacts from the Contacts Service",action:(e,t,i,n)=>{P.default.triggerContactsRefresh("full"===e);const o="full"===e?"Triggered full sync":"Triggered delta sync";return n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,o)),F.ActionResult.None}},{command:"resynclocaladdressbook",isVisible:!1,description:"Trigger re-syncing of the local address book",action:(e,t,i,n)=>{j.default.syncLocalAddressBook();return n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,"Attempted to trigger local address book sync. Check contacts permissions.")),F.ActionResult.None}},{command:"azms",isVisible:!1,usageHint:"[environ ENVIRON)]",description:"Set AzMS REST API deployment slot.",action:(e,t)=>{B.log(D.LogTraceArea.SlashCommandUtils,"AzMS setting user preference: "+e);const[i,n]=e.trim().toLowerCase().split(" ");return!i||"environ"!==i||!n||["default","test","production"].indexOf(n)<0?F.ActionResult.InvalidParameters:(B.log(D.LogTraceArea.SlashCommandUtils,"AzMS pointing to environment: "+n),d.default.setEnvironment(n),G.default.setUserPreferencesLocal({azmsEnvironment:n}),F.ActionResult.None)}},{command:"wipedatabase",isVisible:!1,description:"Wipes your database",action:(e,t,i)=>{const n=W.default.internal_setDatabaseWipeFlag(),o=ue.EnsureStartedExclusive([re.default]).then((()=>re.default.nukeDB()));return r.all([n,o]).always((()=>{se.reloadApp("slash-command-wipedatabase")})),F.ActionResult.None}},{command:"version",isVisible:!0,description:H.getString("SlashCommandDescriptions.Version"),action:(e,t,i,n)=>{const s=o.default.getVersion();return n(I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,"Skype Version: "+he.default.getAppVersion()+"\nCalling Version: "+s.build+"\nOVB Revision: "+s.ovb)),F.ActionResult.None}},{command:"showplaces",isVisible:!1,description:"Shows all endpoints and their details",action:(e,t,i,o)=>(S.default.serviceEnumerateEndpoints().then((e=>{const i=e.endpoints,s=n.map(i,(e=>S.default.serviceGetEndpointPresenceDoc(_.formatEndpointId(e.id)).then((e=>{if(!e)return r.Rejected();const t=_.getTextualEndpointInfo(e),o=n.find(i,(t=>_.formatEndpointId(t.id)===_.getEndpointIdFromPresenceDoc(e)));return t+" - isActive: "+o.isActive+", Subs: "+n.map(o.subscriptions,(e=>e.id+":"+e.channelType)).join(",")})).catch((()=>"Unknown ID: "+S.default.serviceGetEndpointPresenceDoc(_.formatEndpointId(e.id))))));r.all(s).then((e=>{const i=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,e.join("\n"));o(i)}))})),F.ActionResult.None)},{command:"pullcampaign",isVisible:!1,usageHint:"[campaing_id] [camapaign_variant] (language)",description:"Download pull campaign",action:(e,t,i,o)=>{const s=n.split(e," ",3);if(s.length<2||s.length>3){const e=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,"Wrong number of parameters. /pullcampaign campaing_id camapaign_variant (locale)");return o(e),F.ActionResult.InvalidParameters}const a=s[0],r=s[1],l=2===s.length||3===s.length?H.getLocale():s[2];if(!l||!H.isLocaleSupported(l)){const e=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,'Invalid language provided. Please use "en-US" format');return o(e),F.ActionResult.InvalidParameters}return L.default.slashCommandTriggerPullCampaign(a,r,l).then((e=>{M.default.insertRealTimeMessage(e.payload,e.type,O.EngagementSource.EngagementApi);const i=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,"Slash command completed with success. Campaign payload sent to EngagementBotMessageServiceV2 for processing");o(i)})).fail((e=>{const i=I.createMessageInfoFromEscapedText(t,D.PostSource.SlashCommand,e);o(i)})),F.ActionResult.None}},{command:"speechprivacyconsent",isVisible:!1,usageHint:"reset",description:"Resets value given to speech consent for translations ",action:e=>{B.log(D.LogTraceArea.SlashCommandUtils,"Changes the value for speech consent for privacy"+e);const t=e.trim().toLowerCase();return t&&n.includes(["reset"],t)?(de.default.test_resetState(),F.ActionResult.None):F.ActionResult.InvalidParameters}},...te.default,...ie.default,...fe.ContentChannelsCommands,..._e.CommerceCommands];function Pe(e,t=!1){const i=(0,A.default)().getConversation(e);return i&&(i.isThread()&&!t||i.isModerated())||!1}function ke(e,t){return!t.isEnabled||t.isEnabled(e)}Te.push(...ye.bannersRelatedCommands);var Ae;!function(e){e[e.None=0]="None",e[e.InvalidLooksLikeCommand=1]="InvalidLooksLikeCommand",e[e.FoundCommand=2]="FoundCommand"}(Ae=t.FindResult||(t.FindResult={})),t.getSlashCommands=function(){return Te},t.getVisibleCommands=function(e){return n.filter(Te,(t=>t.isVisible&&ke(e,t)))},t.findSlashCommand=function(e,t){if((t[0]instanceof E.CommandEntity||t[0]instanceof E.UnhandledEntity||t[0]instanceof E.SmsEntity)&&"/"===t[0].text().charAt(0)){const i=n.map(t,(e=>e.text())).join("");if(ve.test(i)){let t=i.indexOf(" ");-1===t&&(t=i.length);const o=i.substring(1,t).toLowerCase(),s=i.substring(t+1),a=n.find(Te,(t=>t.command===o&&ke(e,t)));return{result:a?Ae.FoundCommand:Ae.InvalidLooksLikeCommand,command:a,params:s}}}return{result:Ae.None}}},199401:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formatDevicesForPicker=void 0,t.formatDevicesForPicker=function(e){return e.map((e=>({label:e.label,value:e.id})))}},219784:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(397691),r=i(735440),l=i(147204),c=i(898278),d=i(746096),u=i(436237),g=i(733754),h=i(914976),p=i(910265),S="customdialog";class m{static showWithOptions(e){m._show(e.title,e.message,e.dialogAccessibilityTitle,e.buttons,e.rootViewId,e.useHorizontalButtons,e.useDesktopDialog,e.leftAlignContent,e.useFocussedWindowFallback,e.suppressModalDismissalEvents,e.onClickOutside,e.allowScrolling)}static showErrorAlert(e,t){this.showErrorAlertWithOptions({errorText:e,dialogAccessibilityTitle:e,rootViewId:t,hideTitle:!1})}static showErrorAlertWithOptions(e){u.warn(d.LogTraceArea.GenericUnsafe,"AlertUtils: Error dialog: "+h.dev_unknownOmit(e.errorText));const t=e.hideTitle?"":e.errorTitle||g.getString("Global.ErrorDialogTagline"),i=e.dialogAccessibilityTitle||g.getString("Global.ErrorTitle");m.showOkAlertWithOptions({title:t,message:e.errorText,dialogAccessibilityTitle:i,rootViewId:e.rootViewId})}static showCloseAlertWithOptions(e){const t={text:g.getString("Global.CloseButtonTitle"),isSubmit:!0};m.showWithOptions(Object.assign(Object.assign({},e),{buttons:[t]}))}static showOkAlertWithOptions(e){const t={text:g.getString("Global.OkLabel"),isSubmit:!0};m.showWithOptions(Object.assign(Object.assign({},e),{buttons:[t]}))}static showOKAlert(e,t,i,n){m.showOkAlertWithOptions({title:e,dialogAccessibilityTitle:t||e,message:t,rootViewId:i,useFocussedWindowFallback:n})}static showOKAlertWithPromise(e,t,i,n,o){const s=a.Defer(),r={text:g.getString("Global.OkLabel"),isSubmit:!0,onPress:()=>{s.resolve(void 0)}};return m.showWithOptions({title:e,message:t,buttons:[r],rootViewId:i,useFocussedWindowFallback:n,dialogAccessibilityTitle:o||t||e}),s.promise()}static showConfirmationAlert(e,t,i,n,o,s,a,r,l){const c=[{text:g.getString("Global.CancelLabel"),onPress:r,isCancel:!0},{text:i,onPress:n,isSubmit:!0}];m.showWithOptions({title:e,dialogAccessibilityTitle:a||t||e,message:t,buttons:c,rootViewId:o,useFocussedWindowFallback:s,onClickOutside:l})}static showNatively(e,t,i,n){{const i=t||e;if(n&&n.length)if(window.confirm(i)){const e=o.find(n,(e=>!!e.isSubmit));e&&e.onPress&&e.onPress()}else{const e=o.find(n,(e=>!!e.isCancel));e&&e.onPress&&e.onPress()}else window.alert(i)}}static dismissCurrentCustomAlert(e){const t=S+this._customDialogId;l.default.dismissModal(t,e)}static showCustomAlertWithOptions(e){this.dismissCurrentCustomAlert(e.rootViewId),this._customDialogId++;const t=S+this._customDialogId,i=!e.requireUserAction;let o;if(e.imageSource){const t=s.Styles.createImageStyle({width:e.imageSource.width,height:e.imageSource.height,borderRadius:e.imageSource.imageBorderRadiusValue,alignSelf:e.imageSource.centerImageInAlert?"center":void 0},!1);o=(0,n.jsx)(s.Image,{style:t,resizeMode:e.imageResizeMode||c.ImageResizeModeEnum.cover,source:e.imageSource.source})}const a=(0,n.jsxs)(p.default,Object.assign({dialogId:t,isThemeAware:!0,closeOnClickOutside:i,onClickOutside:i?e.onClickOutside:void 0,text:e.dialogTitle,accessibilityLabel:e.accessibilityTitle||e.dialogTitle,simpleContent:e.dialogText,buttons:e.buttons,buttonAlignment:e.useHorizontalButtons?r.SimpleDialogButtonAlignment.HorizontalStack:void 0,leftAlignContent:e.leftAlignContentText,suppressModalDismissalEvents:e.suppressModalDismissalEvents,allowScrolling:e.allowScrolling},{children:[o,e.content]}),t);l.default.showModal(a,t,{rootViewId:e.rootViewId})}static _show(e,t,i,n,o,s,a,r,l,c,d,u){(o=>{const a=m._decorateAlertButtons(n);m.showCustomAlertWithOptions({dialogTitle:e,dialogText:t,buttons:a,useHorizontalButtons:s,accessibilityTitle:i,leftAlignContentText:r,rootViewId:o,onClickOutside:d,suppressModalDismissalEvents:c,allowScrolling:u})})(o)}static _decorateAlertButtons(e){return o.map(e,(e=>(e.isCancel?e.style="cancel":"cancel"===e.style&&(e.isCancel=!0),e)))}}m._customDialogId=0,t.default=m},183267:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(516778),o=i(142826),s=i(72105),a=i(746096),r=i(436237),l=i(733754),c=i(104735),d=i(217093),u=i(330124),g=i(795691),h=i(24148),p=i(293194),S=i(853374);class m{static showMenu(e,t,i,n){const o={anchor:t,buttons:this.menuItems(e),cancelButtonTitleIOS:l.getString("Global.CancelLabel")};p.default.showWithActionMenuConfig({options:o,callback:e=>this.handleOverflowActionMenuCommand(e,i),maintainAnchor:!0,rootViewId:i,invokingEvent:n})}static menuItems(e){const t=[];return e&&t.push({text:l.getString("AlertsPanel.MarkAllAsReadButton"),command:o.AlertMenuItemCommand.markAllRead}),t.push({text:l.getString("AlertsPanel.NotificationsSettingsButton"),command:o.AlertMenuItemCommand.settings}),t}static menuItemTitle(e){switch(e){case o.AlertTypeFilter.All:return l.getString("AlertsPanel.AllFilter");case o.AlertTypeFilter.HighPriorityMessages:return l.getString("AlertsPanel.HighPriorityFilter");case o.AlertTypeFilter.Reactions:return l.getString("AlertsPanel.ReactionsFilter")}return""}static menuItemCommand(e){switch(e){case o.AlertTypeFilter.All:return o.AlertMenuItemCommand.all;case o.AlertTypeFilter.HighPriorityMessages:return o.AlertMenuItemCommand.highPriority;case o.AlertTypeFilter.Reactions:return o.AlertMenuItemCommand.reactions}return""}static filterForCommand(e){switch(e){case o.AlertMenuItemCommand.highPriority:return o.AlertTypeFilter.HighPriorityMessages;case o.AlertMenuItemCommand.reactions:return o.AlertTypeFilter.Reactions;case o.AlertMenuItemCommand.all:return o.AlertTypeFilter.All}}}m.handleOverflowActionMenuCommand=(e,t)=>{const i=S.default.newCauseId();switch(r.log(a.LogTraceArea.Navigation,"AlertsHubUIUtils.handleOverflowActionMenuCommand, causeId: "+i),e){case o.AlertMenuItemCommand.markAllRead:return n.Accessibility.announceForAccessibility(l.getString("AlertsPanel.MarkAllAsReadConfirmation")),s.default.markAllAsRead(),!0;case o.AlertMenuItemCommand.settings:return u.default.isUsingStackNavigationContextNoSubscription()?c.default.navigateToSettingsGroup(d.SettingsGroup.Notifications,t):c.default.navigateToDesktopSettingsGroup(d.SettingsGroup.Notifications,t,i),r.track(new h.NavigationNotificationSettings(g.NavigationSettingsOrigin.NotificationsPanel)),!0;case p.SXActionMenuCancel:return!0}return!1},t.default=m},780128:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(746096),o=i(29130),s=i(170919),a=i(640363),r=i(330124),l=s.SearchInputHeight.default,c=s.SearchInputHeight.default,d=2*s.SearchInputHeight.default,u=s.SearchInputHeight.small,g=s.SearchInputHeight.small,h=2*s.SearchInputHeight.small,p=s.SearchInputHeight.iOS,S=s.SearchInputHeight.default+s.SearchInputHeight.iOS,m=s.SearchInputHeight.iOS,C=s.SearchInputHeight.small+s.SearchInputHeight.iOS,y=s.SearchInputHeight.modernizedSmall,f=s.SearchInputHeight.default+s.SearchInputHeight.modernizedSmall,b=s.SearchInputHeight.small+s.SearchInputHeight.modernizedSmall;t.default=class{static collapsedHeight(e){return o.default.isSmallDeviceNoSubscription(e)?g:c}static expandedHeight(e){const t=o.default.isSmallDeviceNoSubscription(e);return r.default.isUsingStackNavigationContextNoSubscription()?t?b:f:this.shouldUseIOSSearchStyles()?t?C:S:t?h:d}static collapsableHeight(e){const t=o.default.isSmallDeviceNoSubscription(e);return r.default.isUsingStackNavigationContextNoSubscription()?y:this.shouldUseIOSSearchStyles()?t?m:p:t?u:l}static shouldUseIOSSearchStyles(){return a.default.getPlatformType()===n.PlatformType.iOS}}},711930:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(809206),a=(i(211375),i(733754));const r=new class{linkAccessibilityInfo(e,t){const i=e;let n;return n=t?[o.Types.AccessibilityTrait.Button]:[o.Types.AccessibilityTrait.None,o.Types.AccessibilityTrait.Link],{label:i,traits:n}}wrapLinkWithAccessibilityView(e,t,i,s){const a=this.linkAccessibilityInfo(t);return(0,n.jsx)(o.Button,Object.assign({style:s,accessibilityTraits:a.traits,accessibilityLabel:a.label,importantForAccessibility:o.Types.ImportantForAccessibility.Yes,onPress:i},{children:e}))}tabAccessibilityLabel(e,t,i,n=!1){let o=e;return(s.default.isMobile()||n)&&(s.default.isMobile()?(o+=", ",o+=a.getString("Hub.TabCountAccessibilityLabel",{count:t+1,total:i})):(o+=", ",o+=a.getString("Global.CountOfTotal",{count:t+1,total:i}))),o}headerAccessibilityInfo(e,t){return{accessibilityLabel:this.combinedAccessibilityLabel(e,t)||"",accessibilityTraits:o.Types.AccessibilityTrait.Header}}tabAccessibilityTraits(e){return e?[o.Types.AccessibilityTrait.Tab,o.Types.AccessibilityTrait.Selected]:[o.Types.AccessibilityTrait.Tab]}buttonAccessibilityInfo(e,t){const i=[o.Types.AccessibilityTrait.Button];let n=e;return t&&i.push(o.Types.AccessibilityTrait.Disabled),{accessibilityLabel:n,accessibilityTraits:i}}applyMoreOptionsAccessibilityHint(e){return e+", "+a.getString("Global.MoreOptionsAvailableAccessibilityLabel")}combinedAccessibilityLabel(e,t,i){return e?e+(t?(i||", ")+t:""):t}registerMobileFocusHandler(e,t){0}applyShouldGroupAccessibilityChildren(e){return e}};t.default=r},147204:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(502027),s=i(516778),a=i(803056),r=i(898278),l=i(746096),c=i(436237),d=i(914976),u=i(680837);const g=new class{constructor(){this.headerModalBaseWidth=330,this.headerModalBaseHeight=600}showModal(e,t,i){(g=>{var h;c.log(l.LogTraceArea.Navigation,"CommonModalUtils.showModal modalId: "+t+" rootViewId: "+d.mriOrId(g));const p=i.useScopedModalId?this._getAdjustedId(t,i.rootViewId):t,S=Object.assign(Object.assign({},i),{rootViewId:g===r.MainRootViewId?void 0:g}),m=(0,n.jsx)(o.default,{window},"modalFocusOutline"),C=(0,n.jsxs)(a.default,Object.assign({rootViewType:null!==(h=i.rootViewType)&&void 0!==h?h:r.RootViewType.EmbeddedModal},{children:[m,!1===i.useModalContainer?e:(0,n.jsx)(s.View,Object.assign({style:u.default.absoluteFill},{children:e}))]}));s.Modal.show(C,p,S)})(i.rootViewId)}dismissModal(e,t,i){c.log(l.LogTraceArea.Navigation,"CommonModalUtils.dismissModal modalId: "+e+" rootViewId: "+d.mriOrId(t));const n=i?this._getAdjustedId(e,t):e;s.Modal.dismiss(n)}isModalDisplayed(e,t,i){const n=i?this._getAdjustedId(e,t):e;return s.Modal.isDisplayed(n)}showPopup(e,t,i){return(g=>{c.log(l.LogTraceArea.Navigation,"CommonModalUtils.showPopup popupId: "+t+" rootViewId: "+d.mriOrId(g));const h=e.useScopedPopupId?this._getAdjustedId(t,e.rootViewId):t,p=Object.assign(Object.assign({},e),{renderPopup:(t,i,l,c)=>{var d;const g=e.renderPopup(t,i,l,c),h=(0,n.jsx)(o.default,{window,isPopup:!0},"popupFocusOutline");return(0,n.jsxs)(a.default,Object.assign({rootViewType:null!==(d=e.rootViewType)&&void 0!==d?d:r.RootViewType.EmbeddedModal},{children:[h,(0,n.jsx)(s.View,Object.assign({style:u.default.overflowVisible},{children:g}))]}))},rootViewId:g===r.MainRootViewId?void 0:g,getAnchor:()=>{const i=e.getAnchor?e.getAnchor():void 0;return i||c.log(l.LogTraceArea.Navigation,"CommonModalUtils.showPopup getAnchor popupId: "+t+" rootViewId: "+d.mriOrId(g)+" hasAnchor: false"),i}});return s.Popup.show(p,h,i)})(e.rootViewId)}dismissPopup(e,t,i){c.log(l.LogTraceArea.Navigation,"CommonModalUtils.dismissPopup popupId: "+e+" rootViewId: "+(t?d.mriOrId(t):"none"));const n=i?this._getAdjustedId(e,t):e;return s.Popup.dismiss(n)}validatePopupOffset(e){e&&(Math.abs(e.x)>50||Math.abs(e.y)>50)&&c.warn(l.LogTraceArea.GenericUnsafe,"CommonModalUtils popup offset is too large x: "+e.x+" y: "+e.y)}_getAdjustedId(e,t){return t!==r.MainRootViewId?e+"_"+t:e}};t.default=g},484994:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(516778),s=i(898278),a=i(915877),r=(i(640363),50),l=56,c=56,d=40,u=38,g=(0,a.lazyProperties)({tabBarDefault:()=>o.Styles.createViewStyle({height:r}),tabBarAndroid:()=>o.Styles.createViewStyle({height:l}),tabBarTablet:()=>o.Styles.createViewStyle({height:c}),tabBarIOSLandscape:()=>o.Styles.createViewStyle({height:d}),tabBarCompactDesktop:()=>o.Styles.createViewStyle({height:u})});const h=new class{tabBarHeightStyle(e){switch(e){case s.TabBarHeight.Android:return g.tabBarAndroid;case s.TabBarHeight.Tablet:return g.tabBarTablet;case s.TabBarHeight.iosLandscape:return g.tabBarIOSLandscape;case s.TabBarHeight.CompactDesktop:return g.tabBarCompactDesktop;default:case s.TabBarHeight.Default:return g.tabBarDefault}}tabBarHeight(e){switch(e){case s.TabBarHeight.Android:return l;case s.TabBarHeight.Tablet:return c;case s.TabBarHeight.iosLandscape:return d;case s.TabBarHeight.CompactDesktop:return u;default:case s.TabBarHeight.Default:return r}}generateIndexToTabEnumMap(e){const t={};return n.each(e,((e,i)=>{t[i]=e})),t}generateTabEnumToIndexMap(e){const t={};return n.each(e,((e,i)=>{t[e]=i})),t}shouldUseTabListContainer(){return!0}};t.default=h},662602:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(516778),o=i(217041),s=i(397691),a=i(547126);const r=new class{measureLayoutRelativeToWindow(e){const t=this.maybeMountedAnchor(e());return t?n.UserInterface.measureLayoutRelativeToWindow(t):s.Rejected("Anchor component undefined or unmounted.")}measureLayoutRelativeToAncestor(e,t){const i=this.maybeMountedAnchor(e()),o=this.maybeMountedAnchor(t());return i&&o?n.UserInterface.measureLayoutRelativeToAncestor(i,o):s.Rejected("Anchor and/or ancestor undefined or unmounted.")}maybeMountedAnchor(e){if(!(e instanceof o.ComponentBase)||e.isComponentMounted())return e}maybeHandleKeyPress(e,t){return(e.keyCode===a.default.SPACE||e.keyCode===a.default.ENTER)&&(e.stopPropagation(),e.preventDefault(),t(),!0)}};t.default=r},757139:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(153211),a=i(313560),r=i(746096),l=i(436237),c=i(600076),d=i(853374);class u{static showWithBuilders(e){const t=d.default.newCauseId();l.log(r.LogTraceArea.GenericUnsafe,"CustomActionMenuUtils.showWithBuilders, causeId: "+t);const i=(0,n.jsx)(c.default,{rowBuilders:e.builders,colorThemeOverride:e.colorThemeOverride}),a=s.default.getMenuItemHeight();let g=0;o.each(e.builders,(e=>{g+=e.props.rowHeight||a}));const h=Object.assign(Object.assign({},e),{menuId:e.menuId||this.menuId(),menuHeight:g,content:i});u.showWithContent(h,t)}static showWithContent(e,t){l.log(r.LogTraceArea.GenericUnsafe,"CustomActionMenuUtils.showWithContent, causeId: "+t),a.default.show(e,t)}static menuId(){return"custommenu"+this._menuCount++}static close(e,t){l.log(r.LogTraceArea.GenericUnsafe,"CustomActionMenuUtils.close, causeId: "+t),a.default.close(e,t)}static closeIfNeeded(e,t){const i=a.default.isCustomActionMenuShownNoSubscription();l.log(r.LogTraceArea.GenericUnsafe,"CustomActionMenuUtils.closeIfNeeded menuShown: "+i+" causeId: "+t),i&&this.close(e,t)}}u._menuCount=0,t.default=u},168934:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(662602),o=i(746096),s=i(436237),a=i(871499);const r=new class{showToolTip(e,t,i,r,l={}){s.log(o.LogTraceArea.GenericUnsafe,"CustomToolTipUtils.showToolTip: "+r),n.default.measureLayoutRelativeToWindow(e).then((e=>{i()&&a.default.setToolTipConfig(Object.assign({rect:e,displayText:r,rootViewId:t},l))}),(e=>{s.warn(o.LogTraceArea.GenericUnsafe,"CustomToolTipUtils.showToolTip, anchor not measured: "+e.toString())}))}clearToolTip(){s.log(o.LogTraceArea.GenericUnsafe,"CustomToolTipUtils.clearToolTip"),a.default.clearToolTipConfig()}};t.default=r},536659:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(889391),s=i(994224),a=i(47447),r=i(437490),l=i(746096),c=i(436237),d=i(733754),u=i(104735),g=i(217093),h=i(795691),p=i(24148),S=i(593486),m=i(393818),C=i(695697),y=i(293194),f=i(853374),b="settings",_="apsettings",v="avsettings",T="helpandfeedback",P="reportproblem",k="rateus",A="signout",I="hotkeys";var w;!function(e){e[e.MobileSettings=0]="MobileSettings",e[e.DesktopSettings=1]="DesktopSettings",e[e.DesktopRemainder=2]="DesktopRemainder",e[e.Feedback=3]="Feedback",e[e.HelpAndAbout=4]="HelpAndAbout",e[e.SignOut=5]="SignOut",e[e.HotKeys=6]="HotKeys",e[e.ReportProblem=7]="ReportProblem"}(w||(w={}));const x="overflowpopup";class N{static showOptionsMenu(e,t,i,s){const a={anchor:e,useTheme:!0,positionPriorities:["bottom","right"],popupBeakSize:{width:0,height:0}};{const e=S.default.isChild(),r=[{key:w.DesktopSettings,menuItems:this._getMenuItems(w.DesktopSettings)}],l=[];l.push.apply(l,this._getMenuItems(w.HelpAndAbout)),!e&&o.default.getS4LUiFeatures().showReportAProblemInDesktopOverflow&&l.push.apply(l,this._getMenuItems(w.ReportProblem)),l.push.apply(l,this._getMenuItems(w.HotKeys)),n.isEmpty(l)||r.push({key:w.DesktopRemainder,menuItems:l}),r.push({key:w.SignOut,menuItems:this._getMenuItems(w.SignOut),menuTextStyles:{color:s}}),y.default.showGroupWithOptions({id:x,config:a,getMenuGroups:()=>r,handleMenuCommand:e=>this._onHandleMenuCommand(e,t),cancelButtonTitleIOS:d.getString("Global.CancelLabel"),rootViewId:t,invokingEvent:i})}}static dismissOptionsMenu(e){y.default.dismiss(x,e)}static _getMenuItems(e){const t=S.default.isChild();switch(e){case w.MobileSettings:const e=[{text:d.getString("DesktopProfileMenu.AppSettingsTitle"),command:_}];return a.UICapabilities.avSettingsSupported()&&e.push({text:d.getString("DesktopProfileMenu.AudioVideoSettingsTitle"),command:v}),e;case w.DesktopSettings:return[{text:d.getString("UserSettingsPanel.SettingsTitle"),command:b,shortcut:l.KeyboardShortcut.OpenAppSettings}];case w.HotKeys:return[{text:d.getString("KeyboardShortcuts.Title2"),command:I,shortcut:l.KeyboardShortcut.OpenKeyboardShortcuts}];case w.HelpAndAbout:return[{text:d.getString("MyProfilePanel.HelpAndFeedbackButtonTitle"),command:T}];case w.ReportProblem:return[{text:d.getString("MyProfilePanel.ReportAProblemButtonTitle"),command:P,shortcut:l.KeyboardShortcut.SendFeedback}];case w.Feedback:return t?[]:[{text:d.getString("MyProfilePanel.HelpAndFeedbackButtonTitle"),command:T},{text:d.getString("MyProfilePanel.ReportAProblemButtonTitle"),command:P},{text:d.getString("MyProfilePanel.RateUsButtonTitle"),command:k}];case w.SignOut:return[{text:d.getString("MyProfilePanel.SignOutButtonTitle"),command:A}]}return[]}}N._onHandleMenuCommand=(e,t)=>{const i=f.default.newCauseId();switch(c.log(l.LogTraceArea.Navigation,"DesktopOverflowHelper._onHandleMenuCommand causeId: "+i),e){case _:u.default.navigateToRootDesktopSettingsGroup(g.SettingsGroup.AppSettings,t,i);break;case b:c.track(new m.SettingsTelemetry(l.SettingsOrigin.DesktopOverflowMenu)),setTimeout((()=>u.default.navigateToDesktopSettings(t,i)),100);break;case I:u.default.navigateToDesktopSettingsGroup(g.SettingsGroup.HotKeys,t,i);break;case v:s.default.CallNavigationHelper.navigateToAVRootDesktopSettings(t,i);break;case T:c.track(new p.NavigationHelpAndFeedback(h.NavigationSettingsItem.HelpAndFeedback,h.NavigationSettingsOrigin.DesktopOverflowMenu)),u.default.navigateToRootDesktopSettingsGroup(g.SettingsGroup.HelpAndFeedback,t,i);break;case P:c.track(new p.NavigationHelpAndFeedback(h.NavigationSettingsItem.ReportAProblem,h.NavigationSettingsOrigin.DesktopOverflowMenu)),r.dismissAll(),C.default.reportProblem(!0,t,void 0,void 0,h.NavigationSettingsOrigin.DesktopOverflowMenu);break;case k:c.track(new p.NavigationHelpAndFeedback(h.NavigationSettingsItem.RateUs,h.NavigationSettingsOrigin.DesktopOverflowMenu)),C.default.openFeedbackUrl(o.default.getConfigSettings().feedbackAndProblemGoParam.rating,d.getString("MyProfilePanel.RateUsButtonTitle"),t);break;case A:u.default.navigateToPreSignOutPanel(t,l.LogoutReason.DesktopOverflowMenu);case y.SXActionMenuCancel:}},t.default=N},247920:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(31615),s=i(889391),a=i(994224),r=i(898278),l=i(677381),c=i(72822),d=i(310167),u=i(746096),g=i(172146),h=i(731733),p=i(436237),S=i(548650),m=i(733754),C=i(844285),y=i(893974),f=i(536699),b=i(164723),_=i(865788),v=i(18078),T=i(104735),P=i(217093),k=i(795691),A=i(24148),I=i(887226),w=i(938980),x=i(982445),N=i(173714),M=i(853374),L=i(494109);class O extends l.default{constructor(){super(...arguments),this._electronSubscriptions=[],this._navigateToMandatoryUpdatePage=()=>{T.default.navigateToForcedUpgradeScreen()},this._navigateToAboutPage=()=>{const e=M.default.newCauseId();p.log(u.LogTraceArea.Navigation,"RootCompositeNavigationView._navigateToAboutPage causeId: "+e),T.default.closeGenericDesktopModal(e,this._getRootViewId()),T.default.navigateToRootDesktopSettingsGroup(P.SettingsGroup.About,this._getRootViewId(),e)},this._navigateToSettings=()=>{S.default.navigateToSettings()},this._navigateToAVSettings=()=>{const e=M.default.newCauseId();p.log(u.LogTraceArea.Navigation,"RootCompositeNavigationView._navigateToAVSettings causeId: "+e),T.default.closeGenericDesktopModal(e,this._getRootViewId()),a.default.CallNavigationHelper.navigateToAVRootDesktopSettings(this._getRootViewId(),e)},this._navigateToMeControl=()=>{const e=M.default.newCauseId();p.log(u.LogTraceArea.Navigation,"RootCompositeNavigationView._navigateToMeControl causeId: "+e),T.default.closeGenericDesktopModal(e,this._getRootViewId()),T.default.navigateToMeControl(this._getRootViewId(),e)},this._navigateToProfile=()=>{const e=M.default.newCauseId();p.log(u.LogTraceArea.Navigation,"RootCompositeNavigationView._navigateToAVSettings causeId: "+e),T.default.closeGenericDesktopModal(e,this._getRootViewId()),T.default.navigateToMyProfile(this._getRootViewId(),u.ProfileOpenOrigin.Menu)},this._navigateToSearch=e=>{S.default.navigateToSearch(e)},this._navigateToFeedback=()=>{S.default.navigateToFeedback(),g.default.isSetupWizardCompleted(!1)||(g.default.setIsSetupWizardCompleted(),w.default.track(new I.BugReportedInWizard(c.DialogNavOrigin.Onboarding)))},this._navigateToSupport=()=>{const e=h.getTelemetryCorrelationId();p.track(new A.NavigationHelpAndFeedback(k.NavigationSettingsItem.GoToSupport,k.NavigationSettingsOrigin.ApplicationMenu,e)),this._openHelpUrlWithTrackingParams(s.default.getConfigSettings().helpGoParam.supportArticles,m.getString("MyProfilePanel.GetHelpTitle"),"menu.support",e)},this._navigateToStatus=()=>{const e=h.getTelemetryCorrelationId();p.track(new A.NavigationHelpAndFeedback(k.NavigationSettingsItem.SkypeStatus,k.NavigationSettingsOrigin.ApplicationMenu,e)),this._openHelpUrlWithTrackingParams(s.default.getConfigSettings().helpGoParam.skypeStatus,m.getString("MyProfilePanel.SkypeStatusButtonTitle"),"menu.status",e)},this._navigateToSkypeURI=e=>{N.default.getNavigationActionForDeepLink(e,u.NavigationConversationOrigin.ElectronUri,r.MainRootViewId,void 0,!0).then((t=>{v.default.isUserLoggedIn()&&y.default.isPartnerUri(e)?p.track(new _.MeetNowUriReceivedEvent(e)):v.default.isUserLoggedIn()&&C.MeetNowHelpers.isJoinOrCreateFlow(null==t?void 0:t.intent)&&f.default.beginTrackingJoinMeetNow(b.MeetNowOrigin.JoinLinkDeeplink),t&&t.action()}))},this._startNewConversation=e=>{S.default.startNewConversation(e)},this._startNewGroupConversation=e=>{S.default.startNewGroupConversation(e)},this._startNewCall=()=>{const e=M.default.newCauseId();p.log(u.LogTraceArea.Navigation,"RootCompositeNavigationView._startNewCall,  causeId: "+e),T.default.navigateToQuickCallPanel(e,this._getRootViewId())},this._signOut=()=>{o.MainWindow.requestFocus(),L.default.showSignOutConfirmation(u.LogoutReason.DesktopMenu,r.MainRootViewId)}}componentDidMount(){super.componentDidMount(),this._electronSubscriptions.push(d.default.onMandatoryUpdate.subscribe(this._navigateToMandatoryUpdatePage),d.default.onNavigateToAboutPage.subscribe(this._navigateToAboutPage),d.default.onNavigateToSettings.subscribe(this._navigateToSettings),d.default.onNavigateToAVSettings.subscribe(this._navigateToAVSettings),d.default.onNavigateToProfile.subscribe(this._navigateToProfile),d.default.onNavigateToMeControl.subscribe(this._navigateToMeControl),d.default.onNavigateToSearch.subscribe((()=>{this._navigateToSearch(u.SearchPanelInitiator.ElectronMenu)})),d.default.onNavigateToFeedback.subscribe(this._navigateToFeedback),d.default.onNavigateToSkypeURI.subscribe(n.debounce(this._navigateToSkypeURI,s.default.getS4LCMCFeaturesNoSubscription().electronNavigationDebounce)),d.default.onNewConversation.subscribe((()=>{this._startNewConversation(u.NavigationConversationOrigin.AppMenu)})),d.default.onNewGroupConversation.subscribe((()=>{this._startNewGroupConversation(u.NavigationConversationOrigin.AppMenu)})),d.default.onNewCall.subscribe(this._startNewCall),d.default.onSignOut.subscribe(this._signOut),d.default.onNavigateToSupport.subscribe(this._navigateToSupport),d.default.onNavigateToStatus.subscribe(this._navigateToStatus))}componentWillUnmount(){super.componentWillUnmount(),n.each(this._electronSubscriptions,(e=>{e.unsubscribe()})),this._electronSubscriptions=[]}render(){return null}_openHelpUrlWithTrackingParams(e,t,i,n){let o=x.addSsoFlagToUrl(e,!0);o=h.addCommonTrackingParams(o,!0,!0);const s={tcg:n};T.default.navigateToHelpAndFeedbackLink(o,i,t,r.MainRootViewId,s)}}t.default=O},935933:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.show=void 0;const n=i(219784),o=i(889391),s=i(437490),a=i(733754);t.show=function(e){s.dismissAll();const t=a.getString("FilePicker.LimitExceeded"),i=a.getString("FilePicker.LimitExceededContent",{value:o.default.getS4LMessagingFeaturesNoSubscription().limitForFilePicker});n.default.showOKAlert(t,i,e)}},226651:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(583367),o=i(404336),s=i(330124),a=i(29130);t.default=class{constructor(e){this._screenWidth=a.default.getWidth(e),this._screenHeight=a.default.getHeight(e),this._isLandscape=a.default.getDeviceOrientation(e)===n.DeviceOrientation.Landscape,this._isUsingStackNavigationContext=s.default.isUsingStackNavigationContext()}getAvatarWidth(){return this._isUsingStackNavigationContext?this._isLandscape?.4*this._screenHeight:this._screenWidth:o.DefaultWidthForNewProfile}getAvatarHeight(){return this._isUsingStackNavigationContext?Math.min(this._screenWidth,.4*this._screenHeight):o.DefaultWidthForNewProfile}maybeWrapAvatar(e){return e}}},625728:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(1706),s=i(63413),a=i(871908),r=i(671830),l=i(400984),c=i(952262),d=i(733754),u=i(527683),g=i(293194),h=i(889391);t.default=class{static safelyRemovePersonFromConversation(e,t,i,n,o){const s=c.default.getDisplayName(t)||d.getString("Notifications.UnknownUserShort"),a={anchor:n,buttons:[{text:d.getString("RemoveUserDialog.RemoveButtonLabel"),command:"remove"}],destructiveButtonIndex:0};a.message=d.getString("RemoveUserDialog.ConversationContent",{userDisplayName:s}),g.default.showWithActionMenuConfig({options:a,callback:n=>this._handleActionSheetCommands(n,t,e,i),useAlertForDesktop:!0,useAlertForMobile:!1,rootViewId:o,invokingEvent:void 0})}static isSendImCapable(e){if(!e.isOneOnOne())return e.isCurrentUserMember();const t=e.getOtherPartyMri();if(!t)return!1;if(s.default.isMriBlocked(t))return!1;if(r.isAgent(t)){const e=o.default.getAgentDescriptionForMri(t);if(!e.isUnknown){const i=h.default.getS4LCaapFeaturesNoSubscription().skipContactCheck,o=n.filter(e.capabilities,(e=>"im.send"===e)).length>0,s=n.indexOf(l.default.dangerousGetContactMriListMutable(),t)>=0;return o&&(i||s)}}return!r.isPhoneMri(t)||void 0===u.default.getPossibleExtension(t,!0)}static _handleActionSheetCommands(e,t,i,n){switch(e){case"remove":a.removeParticipantFromConversation(t,i,n);case g.SXActionMenuCancel:}}}},388117:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(890239),r=i(136400),l=i(110117),c=i(915877),d=i(330124),u=i(581760),g=i(311010),h=i(711828),p=i(418037),S=i(567977),m=i(286259),C=(0,c.lazyProperties)({userPresent:()=>s.Styles.createTextStyle({backgroundColor:u.Color.available}),userAway:()=>s.Styles.createTextStyle({backgroundColor:u.Color.away}),userDnd:()=>s.Styles.createTextStyle({backgroundColor:u.Color.red}),userInvisible:()=>s.Styles.createTextStyle({backgroundColor:u.Color.gray300}),userIdle:()=>s.Styles.createTextStyle({backgroundColor:u.Color.available})});class y{static getStyles(e,t){const i=e+"_"+(o.isUndefined(t)?"none":t);if(y._cachedIconStyles[i])return y._cachedIconStyles[i];let n,a;e<=S.UserIconSize.Size24?(n=S.PresenceIconSize.Size8,a=0):e===S.UserIconSize.Size64?(n=S.PresenceIconSize.Size14,a=e/8-7):e>=S.UserIconSize.Size100?(n=S.PresenceIconSize.Size15,a=e/8-7):(n=Math.min(10,Math.floor(e/4)),a=e>=S.UserIconSize.Size60?n/5:-1);return y._cachedIconStyles[i]={containerStyle:s.Styles.createViewStyle({width:e,height:e+2,justifyContent:"center",overflow:"visible"}),iconStyle:s.Styles.createViewStyle({width:e,height:e,alignItems:"center"}),iconRoundedStyle:s.Styles.createViewStyle({width:e,height:e,alignItems:"center",borderRadius:Math.ceil(e/2)}),iconRoundedRectStyle:s.Styles.createViewStyle({width:e,height:e,alignItems:"center",borderRadius:o.isUndefined(t)?Math.ceil(e/6):t}),image:s.Styles.createImageStyle({width:e,height:e,borderRadius:e/2}),imageRoundedRect:s.Styles.createImageStyle({width:e,height:e,borderRadius:o.isUndefined(t)?Math.ceil(e/6):t}),userStatus:s.Styles.createViewStyle({position:"absolute",bottom:a,right:a,borderRadius:(n+2)/2,borderColor:u.Color.white,borderStyle:"solid",borderWidth:1,width:n+2,height:n+2,alignItems:"center",justifyContent:"center"},!1),userStatusHover:s.Styles.createViewStyle({borderRadius:(n+2)/2,width:n+2,height:n+2,alignItems:"center",justifyContent:"center"},!1),privateConversationBadge:s.Styles.createViewStyle({position:"absolute",bottom:0,right:0,borderRadius:21,borderColor:u.Color.white,borderStyle:"solid",borderWidth:1,width:42,height:42,alignItems:"center",justifyContent:"center"},!1),presenceSize:n},y._cachedIconStyles[i]}static getFontSizeStyles(e,t){const i=Math.ceil(e/(e<=S.UserIconSize.Size40?3:4));let n=y._cachedFontSizeStyles[i];return n||(n=s.Styles.createTextStyle({fontSize:i,font:g.default.font.uiDisplayBold,color:u.Color.white},!1),y._cachedFontSizeStyles[i]=n),[n,s.Styles.createTextStyle({color:t},!1)]}static getBlockedOverlayStyles(e){const t=Math.min(18,Math.floor(e/3));if(y._cachedBlockedOverlayStyles[t])return y._cachedBlockedOverlayStyles[t];return y._cachedBlockedOverlayStyles[t]={blockedStyle:s.Styles.createViewStyle({position:"absolute",bottom:0,right:0,borderRadius:(t+4)/2,backgroundColor:u.Color.white,borderColor:u.Color.white,borderStyle:"solid",borderWidth:2,width:t+4,height:t+4,alignItems:"center",justifyContent:"center"}),blockedSize:t},y._cachedBlockedOverlayStyles[t]}static getBackgroundColor(e){return p.default.isAccessibleThemeNoSubscription()?u.Color.accessibleBackground:d.default.isUsingStackNavigationContextNoSubscription()?e?u.Color.gray400:u.Color.gray50:e?u.Color.gray400:u.Color.gray100}static getCachedBackgroundColorStyle(e,t){let i;return i=e||this.getBackgroundColor(t),this._backgroundColorStyleCache[i]||(this._backgroundColorStyleCache[i]=s.Styles.createViewStyle({backgroundColor:i})),this._backgroundColorStyleCache[i]}static getCachedBorderColorStyle(e){e||(e=u.Color.blue);const t=`${e}_width1`;return this._borderColorStyleCache[t]||(this._borderColorStyleCache[t]=s.Styles.createViewStyle({borderColor:e,borderWidth:1,borderStyle:"solid"})),this._borderColorStyleCache[t]}static getCachedIconColorStyle(e){return e||(e=u.Color.blue),this._iconColorStyleCache[e]||(this._iconColorStyleCache[e]=s.Styles.createTextStyle({color:e})),this._iconColorStyleCache[e]}static getIconColor(e){return e||(e=u.Color.blue),e}static getIconBackgroundColor(e,t,i){return t?i?u.Color.gray50:u.Color.gray400:e||u.Color.blue}static getCachedPresenceBorderColorStyle(e){return this._cachedPresenceBorderStyles[e]||(this._cachedPresenceBorderStyles[e]=s.Styles.createViewStyle({borderColor:e})),this._cachedPresenceBorderStyles[e]}static renderPresenceIcon(e,t,i,n){if(!o.isUndefined(e))return this.getPresenceIcon(e,t.userStatus,t.presenceSize,i,n)}static getPresenceIcon(e,t,i,c,d){let g,p;if(o.isUndefined(e))return;switch(m.maskedUserStatus(e)){case a.UserStatus.Online:g=C.userPresent;break;case a.UserStatus.Busy:g=C.userDnd,p=h.SkypeIcon.PresenceDND;break;case a.UserStatus.Away:g=C.userAway,p=h.SkypeIcon.PresenceAway;break;case a.UserStatus.Offline:case a.UserStatus.Hidden:case a.UserStatus.Unknown:g=C.userInvisible,p=h.SkypeIcon.PresenceInvisible;break;case a.UserStatus.Idle:g=C.userIdle,p=h.SkypeIcon.PresenceInvisible;break;default:return}const S=[t,g];c&&S.push(y.getCachedPresenceBorderColorStyle(c));const f=p?(0,n.jsx)(l.default,{icon:p,size:i,color:u.Color.white}):void 0;return(0,n.jsx)(r.HoverableView,Object.assign({style:S,title:d,importantForAccessibility:s.Types.ImportantForAccessibility.NoHideDescendants,accessibilityTraits:s.Types.AccessibilityTrait.None,tabIndex:-1},{children:f}),"presence")}static getIconSize(e=S.AvatarIconSize.Size40){switch(e){case S.AvatarIconSize.Size24:return{user:S.UserIconSize.Size24,conversation:S.ConversationIconSize.Size24};case S.AvatarIconSize.Size36:return{user:S.UserIconSize.Size36,conversation:S.ConversationIconSize.Size36};case S.AvatarIconSize.Size44:return{user:S.UserIconSize.Size44,conversation:S.ConversationIconSize.Size44};case S.AvatarIconSize.Size50:return{user:S.UserIconSize.Size50,conversation:S.ConversationIconSize.Size50};case S.AvatarIconSize.Size60:return{user:S.UserIconSize.Size60,conversation:S.ConversationIconSize.Size60};case S.AvatarIconSize.Size64:return{user:S.UserIconSize.Size64,conversation:S.ConversationIconSize.Size64};default:case S.AvatarIconSize.Size40:return{user:S.UserIconSize.Size40,conversation:S.ConversationIconSize.Size40}}}}y._backgroundColorStyleCache={},y._borderColorStyleCache={},y._iconColorStyleCache={},y._cachedPresenceBorderStyles={},y._cachedIconStyles={},y._cachedFontSizeStyles={},y._cachedBlockedOverlayStyles={},t.default=y},790070:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HubCommands=void 0;const n=i(889391),o=i(249758),s=(i(711930),i(258031)),a=i(731761),r=i(437490),l=i(952262),c=i(746096),d=(i(211375),i(713873)),u=i(346195),g=i(436237),h=i(835114),p=i(733754),S=i(844285),m=i(164723),C=i(18078),y=i(104735),f=i(217093),b=i(795691),_=i(210541),v=i(316392),T=i(293194),P=i(711828),k=i(853374);t.HubCommands={AddConversationGroupCommand:"group",AddConversationModeratedGroupCommand:"moderatedgroup",AddConversation1on1Command:"1on1",AddConversationPrivateCommand:"private",InviteCommand:"contact",AddBotCommand:"bot",OpenSuperComposer:"supercomposer",NewGroupCallCommand:"newGroupCall",NewMeetNowCommand:"newMeetNow",NewCellularSmsConversationCommand:"newCellularSmsConversationCommand",AddContactCommand:"addcontact",Cancel:"cancel"};class A{static actionButtonForHubTab(e,t){switch(e){case f.HubTab.Recents:return{icon:P.SkypeIcon.Compose,title:p.getString("HubHeaderPanel.NewConversationTitle"),onPressCallback:A.onSuperComposerClick};case f.HubTab.Calls:return{title:p.getString("PeopleList.PstnDialpadLabel"),icon:P.SkypeIcon.Dialpad,onPressCallback:A.onDialpadButtonClick,disabled:t};case f.HubTab.People:return{title:p.getString("Hub.AddContactsLabelGrouped"),icon:P.SkypeIcon.ContactAdd,onPressCallback:A.onPeoplePlusButtonClickForNewMobileHub}}}static headerButtonLayoutForHubTab(e){return{leftControls:e.useTabletUI?this._getTabletLeftControls():this._getNewMobileHubLeftControls(e),rightControls:this._getNewMobileHubRightControls(e)}}static handleAddMenuCommand(e,t,i,n=!1,o=!1){this._onHandleAddMenuCommand({command:e,fromSuperComposer:n,modifier:o,anchor:t,rootViewId:i})}static accessibilityAnnouncementForTab(e){let t;switch(e){case f.HubTab.Recents:t=p.getString("Hub.RecentsTabTitle");break;case f.HubTab.Calls:t=p.getString("Hub.CallsTabTitle");break;case f.HubTab.People:t=p.getString("Hub.ContactsTabTitle");break;case f.HubTab.Notifications:t=p.getString("Notifications.Notify")}return t&&(t=p.getString("Global.ItemSelectedAccessibilityLabel",{text:t})),t}static _getTabletLeftControls(){return this._getTabletSecondaryControls()}static _getTabletSecondaryControls(){return[u.HeaderButtonType.Profile,u.HeaderButtonType.NameAndMoodText]}static _getNewMobileHubLeftControls(e){const t=[];return e.notificationsToHeader||e.hideAlertsButton||t.push(u.HeaderButtonType.Notifications),t.push(u.HeaderButtonType.Profile),t.push(u.HeaderButtonType.NameAndMoodText),t}static _getNewMobileHubRightControls(e){const t=[];switch(e.hubTab){case f.HubTab.Recents:e.enableHeartEntryPoint&&t.push(u.HeaderButtonType.Feedback),t.push(u.HeaderButtonType.MeetNow),e.notificationsToHeader&&!e.hideAlertsButton&&t.push(u.HeaderButtonType.Notifications);break;case f.HubTab.People:break;case f.HubTab.Calls:t.push(u.HeaderButtonType.MeetNow),t.push(u.HeaderButtonType.Call);break;case f.HubTab.Notifications:t.push(u.HeaderButtonType.NotificationsSettings),t.push(u.HeaderButtonType.MeetNow)}return t}static _showAddTouchMenu(e,t,i,n){A._registerMobileDismissalHandler(n);let a=[];if(e===f.HubTab.People){if(a=A._getContactsAddMenuItems(),a=A._getNewContactsPanelContactsMenuItems(),1===a.length)return void y.default.navigateToAddContactPanel(s.AddContactPanelOrigin.HubTabPeople,v.StackNavigationDirection.Present,i)}else a=A._getNewAddMenuItems();const r={anchor:n,buttons:a,cancelButtonTitleIOS:p.getString("Global.CancelLabel")};g.track(new o.BotInteraction(c.BotsInteraction.ClickPlusMenu)),t.show(r,(t=>A._onHandleAddMenuCommand({command:t,currentHubTab:e,anchor:n,rootViewId:i})))}static _getNewAddMenuItems(){const e=[];return n.default.getS4LMessagingFeatures().showNewChatFirstInPlusMenu?e.push({text:p.getString("Hub.New1on1ChatLabel"),command:t.HubCommands.AddConversation1on1Command},{text:p.getString("Hub.NewGroupChatLabel"),command:t.HubCommands.AddConversationGroupCommand}):e.push({text:p.getString("Hub.NewGroupChatLabel"),command:t.HubCommands.AddConversationGroupCommand},{text:p.getString("Hub.New1on1ChatLabel"),command:t.HubCommands.AddConversation1on1Command}),e.push({text:p.getString("Hub.NewPrivateChatLabel"),command:t.HubCommands.AddConversationPrivateCommand}),n.default.getS4LCaapFeatures().botDiscoveryEnabled&&e.push({text:p.getString("Hub.FindBotLabel"),command:t.HubCommands.AddBotCommand}),e}static _getNewContactsPanelContactsMenuItems(){const e=[];return e.push({text:p.getString("Hub.AddContactMenuLabel"),command:t.HubCommands.AddContactCommand}),n.default.getS4LCaapFeatures().botDiscoveryEnabled&&e.push({text:p.getString("Hub.AddBotMenuLabel"),command:t.HubCommands.AddBotCommand}),e}static _getContactsAddMenuItems(){const e=[];return n.default.getS4LCaapFeatures().botDiscoveryEnabled&&e.push({text:p.getString("Hub.FindBotLabel"),command:t.HubCommands.AddBotCommand}),e}static _registerMobileDismissalHandler(e){}static _showJoinLinkMenu(e){const t=C.default.getSkypeMri(),i=l.default.getDisplayName(t);y.default.navigateToInviteShare(t,i,h.InviteLinkOrigin.NewChatInvite,e)}}A.onSuperComposerClick=(e,i,n,o)=>{const s=i||void 0,a=s?s.shiftKey||s.metaKey:void 0;A._onHandleAddMenuCommand({command:t.HubCommands.OpenSuperComposer,anchor:o,modifier:a,rootViewId:e})},A.onPeoplePlusButtonClickForNewMobileHub=(e,t,i,n)=>{A._onPlusButtonClick(f.HubTab.People,e,i,n,t)},A._onPlusButtonClick=(e,t,i,n,o)=>{const s=i||{show:(e,i)=>{T.default.showWithActionMenuConfig({options:e,callback:i,maintainAnchor:!0,rootViewId:t,invokingEvent:o})}};A._showAddTouchMenu(e,s,t,n)},A._onSuperComposerGroupCallButtonClick=e=>{const t=k.default.newCauseId();g.log(c.LogTraceArea.Navigation,"HubUIUtils._onSuperComposerGroupCallButtonClick, causeId: "+t),y.default.navigateToQuickCallPanelWithParams({newGroup:!0,navigationDirection:v.StackNavigationDirection.Push,causeId:t},e)},A.onDialpadButtonClick=(e,t,i,n)=>{A._registerMobileDismissalHandler(n);const o=k.default.newCauseId();g.log(c.LogTraceArea.Navigation,"HubUIUtils._onDialpadButtonClick, causeId: "+o),y.default.navigateToPSTNDialerWithParams({causeId:o,navigationSource:c.DialerNavigationSource.QuickCallPanelFab},e)},A._onGroupCallButtonClick=(e,t,i,n)=>{const o=k.default.newCauseId();g.log(c.LogTraceArea.Navigation,"HubUIUtils._onGroupCallButtonClick, causeId: "+o),A._registerMobileDismissalHandler(n),y.default.navigateToQuickCallPanelWithParams({newGroup:!0,causeId:o},e)},A._onHandleAddMenuCommand=e=>{const i=k.default.newCauseId();switch(g.log(c.LogTraceArea.Navigation,"HubUIUtils._onHandleAddMenuCommand, command: "+e.command+" fromSuperComposer: "+e.fromSuperComposer+" modifier: "+e.modifier+" causeId: "+i),g.track(new d.HubPlusButtonEvent(e.command)),r.dismissAll(),A._registerMobileDismissalHandler(e.anchor),e.command){case t.HubCommands.Cancel:return;case t.HubCommands.OpenSuperComposer:const{enableNewConversationCreation:i}=n.default.getS4LMessagingFeaturesNoSubscription(),{enableModeratedGroupChats:r}=n.default.getS4LMessagingFeatures();(i?new a.default({peopleType:_.PeopleType.All,filterPeopleType:_.FilterType.None,navigationOrigin:c.NavigationConversationOrigin.Recents,wizardSteps:[b.WizardSteps.setConvParticipants]}):new a.default({creating1on1Conversation:!0,useSuperComposerFor1on1Conversation:!0,peopleType:_.PeopleType.All,filterPeopleType:_.FilterType.None,isSingleContactSelect:!0,showModeratedGroupOption:e.modifier||r,navigationOrigin:c.NavigationConversationOrigin.SuperComposer,wizardSteps:[b.WizardSteps.setConvParticipants]})).start(e.rootViewId);break;case t.HubCommands.AddConversationGroupCommand:new a.default({navigationOrigin:c.NavigationConversationOrigin.NewGroup,peopleType:_.PeopleType.All,filterPeopleType:_.FilterType.GroupCapable,presentedFromSuperComposer:e.fromSuperComposer}).start(e.rootViewId);break;case t.HubCommands.AddConversationModeratedGroupCommand:new a.default({navigationOrigin:c.NavigationConversationOrigin.NewModeratedGroup,peopleType:_.PeopleType.All,filterPeopleType:_.FilterType.GroupCapable,presentedFromSuperComposer:e.fromSuperComposer}).start(e.rootViewId);break;case t.HubCommands.AddConversation1on1Command:new a.default({creating1on1Conversation:!0,useSuperComposerFor1on1Conversation:!1,peopleType:_.PeopleType.All,filterPeopleType:_.FilterType.None,isSingleContactSelect:!0,navigationOrigin:c.NavigationConversationOrigin.NewChat,presentedFromSuperComposer:e.fromSuperComposer,wizardSteps:[b.WizardSteps.setConvParticipants]}).start(e.rootViewId);break;case t.HubCommands.AddConversationPrivateCommand:new a.default({creating1on1Conversation:!0,useSuperComposerFor1on1Conversation:!1,peopleType:_.PeopleType.AllExcludingBots,filterPeopleType:_.FilterType.None,isSingleContactSelect:!0,navigationOrigin:c.NavigationConversationOrigin.NewPrivateChat,presentedFromSuperComposer:e.fromSuperComposer,wizardSteps:[b.WizardSteps.setConvParticipants]}).start(e.rootViewId);break;case t.HubCommands.NewGroupCallCommand:e.fromSuperComposer?A._onSuperComposerGroupCallButtonClick(e.rootViewId):A._onGroupCallButtonClick(e.rootViewId);break;case t.HubCommands.InviteCommand:A._showJoinLinkMenu(e.rootViewId);break;case t.HubCommands.AddContactCommand:y.default.navigateToAddContactPanel(s.AddContactPanelOrigin.HubTabPeople,v.StackNavigationDirection.Present,e.rootViewId);break;case t.HubCommands.AddBotCommand:g.track(new o.BotInteraction(c.BotsInteraction.NavigateToBotStore)),y.default.navigateToBotDiscovery(e.fromSuperComposer?v.StackNavigationDirection.Push:v.StackNavigationDirection.Present,e.rootViewId);break;case t.HubCommands.NewCellularSmsConversationCommand:new a.default({creating1on1Conversation:!0,useSuperComposerFor1on1Conversation:!1,peopleType:_.PeopleType.AllWithPhoneNumbers,filterPeopleType:_.FilterType.CallCapable,isSingleContactSelect:!0,navigationOrigin:c.NavigationConversationOrigin.NewChat,presentedFromSuperComposer:e.fromSuperComposer,wizardSteps:[b.WizardSteps.setConvParticipants],createCellularSmsConversation:!0}).start(e.rootViewId);break;case t.HubCommands.NewMeetNowCommand:S.MeetNowHelpers.showNewMeetNow(m.MeetNowOrigin.NewChatMobile)}},t.default=A},631409:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getIllustrationHeaderTextStyle=t.styles=void 0;const n=i(516778),o=i(915877),s=i(311010),a=i(898278),r=i(711828),l=s.default.controlFontSize.illustrationScreenBody,c=r.IconSize.size18;t.styles=(0,o.lazyProperties)({bodyTextStyle:()=>n.Styles.createTextStyle({fontSize:l,alignItems:"center",textAlign:"center"}),headerTextStyle:()=>n.Styles.createTextStyle({textAlign:"center",fontWeight:a.FontWeight.bold,fontSize:s.default.controlFontSize.illustrationScreenHeader}),bodyIconStyle:()=>n.Styles.createTextStyle({width:c,height:l,overflow:"visible"}),panelWrapperStyle:()=>n.Styles.createViewStyle({flex:0,flexDirection:"row"})}),t.getIllustrationHeaderTextStyle=function(e){return n.Styles.combine(t.styles.headerTextStyle,n.Styles.createTextStyle({color:e},!1))}},100571:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useIsFloatingKeyboard=void 0;const n=i(667294),o=i(705465);t.useIsFloatingKeyboard=()=>{const e=o.Dimensions.get("window").width,[t,i]=(0,n.useState)(!1);return(0,n.useEffect)((()=>o.Keyboard.addListener("keyboardWillChangeFrame",(t=>{i(t.endCoordinates.width!==e)})).remove),[e]),t}},548650:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(516778),s=i(889391),a=i(898278),r=i(731761),l=i(746096),c=i(211375),d=i(731733),u=i(436237),g=i(172490),h=i(733754),p=i(593486),S=i(104735),m=i(217093),C=i(795691),y=i(24148),f=i(393818),b=i(695697),_=i(210541),v=i(982445),T=i(418037),P=i(897634),k=i(853374);class A{static registerKeyboardHandlers(){const e=A._registrationTokenCounter++;return this._registeredTokens.push(e),u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper.registerKeyboardHandlers token: "+e),this._keyboardHandlersRegistered||(u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper.registerKeyboardHandlers, registering handlers"),g.default.addHandler(l.KeyboardShortcut.OpenThemePicker,this._navigateToThemePicker),g.default.addHandler(l.KeyboardShortcut.OpenHelpInABrowser,this._openHelpInABrowser),g.default.addHandler(l.KeyboardShortcut.ToggleTheme,this._toggleLightOrDarkTheme),g.default.addHandler(l.KeyboardShortcut.SendFeedback,this._navigateToFeedback),g.default.addHandler(l.KeyboardShortcut.OpenContactsPanel,this._navigateToContactsPanel),g.default.addHandler(l.KeyboardShortcut.OpenNotificationPanel,this._navigateToNotificationsPanel),g.default.addHandler(l.KeyboardShortcut.OpenDialpad,this._openMainDialpad),g.default.addHandler(l.KeyboardShortcut.OpenKeyboardShortcuts,this._navigateToKeyboardShortcuts),g.default.addHandler(l.KeyboardShortcut.OpenSxPlayground,this._navigateToSXPlayground),g.default.addHandler(l.KeyboardShortcut.OpenAppSettings,this._navigateToSettings),g.default.addHandler(l.KeyboardShortcut.StartNewConversation,this._startNewConversation),g.default.addHandler(l.KeyboardShortcut.NewGroup,this._startNewGroupConversation),g.default.addHandler(l.KeyboardShortcut.Search,this._navigateToSearch),this._keyboardHandlersRegistered=!0),e}static unregisterKeyboardHandlers(e){u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper.unregisterKeyboardHandlers token: "+e),this._registeredTokens=n.remove(this._registeredTokens,(t=>t===e)),this._keyboardHandlersRegistered&&n.isEmpty(this._registeredTokens)&&(u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper.unregisterKeyboardHandlers, unregistering handlers"),g.default.removeHandler(l.KeyboardShortcut.OpenThemePicker,this._navigateToThemePicker),g.default.removeHandler(l.KeyboardShortcut.OpenHelpInABrowser,this._openHelpInABrowser),g.default.removeHandler(l.KeyboardShortcut.ToggleTheme,this._toggleLightOrDarkTheme),g.default.removeHandler(l.KeyboardShortcut.SendFeedback,this._navigateToFeedback),g.default.removeHandler(l.KeyboardShortcut.OpenContactsPanel,this._navigateToContactsPanel),g.default.removeHandler(l.KeyboardShortcut.OpenNotificationPanel,this._navigateToNotificationsPanel),g.default.removeHandler(l.KeyboardShortcut.OpenDialpad,this._openMainDialpad),g.default.removeHandler(l.KeyboardShortcut.OpenKeyboardShortcuts,this._navigateToKeyboardShortcuts),g.default.removeHandler(l.KeyboardShortcut.OpenSxPlayground,this._navigateToSXPlayground),g.default.removeHandler(l.KeyboardShortcut.OpenAppSettings,this._navigateToSettings),g.default.removeHandler(l.KeyboardShortcut.StartNewConversation,this._startNewConversation),g.default.removeHandler(l.KeyboardShortcut.NewGroup,this._startNewGroupConversation),this._keyboardHandlersRegistered=!1)}static navigateToSettings(){this._navigateToSettings()}static navigateToSearch(e=l.SearchPanelInitiator.KeyboardShortcut){this._navigateToSearchWithOrigin(e)}static startNewConversation(e=l.NavigationConversationOrigin.KeyboardShortcut){this._startNewConversationWithOrigin(e)}static startNewGroupConversation(e=l.NavigationConversationOrigin.KeyboardShortcut){this._startNewGroupConversationWithOrigin(e)}static navigateToFeedback(){this._navigateToFeedback()}static _navigateToSearchWithOrigin(e){const t=k.default.newCauseId();u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToSearch causeId: "+t),S.default.closeGenericDesktopModal(t,a.MainRootViewId);A._openInMainWindow(t,(i=>{S.default.navigateToSearch({searchOrigin:e},t),c.setFocusWithDelay(c.FocusEvent.SearchInput,0)}))}static _startNewConversationWithOrigin(e){const t=k.default.newCauseId();u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._startNewConversation causeId: "+t),S.default.closeGenericDesktopModal(t,a.MainRootViewId);A._openInMainWindow(t,(t=>{new r.default({creating1on1Conversation:!0,peopleType:_.PeopleType.All,filterPeopleType:_.FilterType.None,isSingleContactSelect:!0,navigationOrigin:e,wizardSteps:[C.WizardSteps.setConvParticipants]}).start(a.MainRootViewId)}))}static _startNewGroupConversationWithOrigin(e){const t=k.default.newCauseId();u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._startNewGroupConversation causeId: "+t),S.default.closeGenericDesktopModal(t,a.MainRootViewId);A._openInMainWindow(t,(t=>{new r.default({navigationOrigin:e,peopleType:_.PeopleType.All,filterPeopleType:_.FilterType.GroupCapable}).start(a.MainRootViewId)}))}static _openInMainWindow(e,t){u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._maybeOpenMainWindow causeId: "+e),this._intOpenInWindow(e,!0,t)}static _openInCurrentWindow(e,t){u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._openInCurrentWindow causeId: "+e),this._intOpenInWindow(e,!1,t)}static _intOpenInWindow(e,t,i){u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._intOpenInWindow causeId: "+e),i(a.MainRootViewId)}}A._keyboardHandlersRegistered=!1,A._registrationTokenCounter=1,A._registeredTokens=[],A._navigateToThemePicker=()=>{const e=k.default.newCauseId();u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToAVSettings causeId: "+e),S.default.closeGenericDesktopModal(e,a.MainRootViewId);return A._openInMainWindow(e,(t=>{S.default.navigateToDesktopSettingsGroup(m.SettingsGroup.ThemeSettings,t,e)})),!0},A._navigateToSearch=()=>(A._navigateToSearchWithOrigin(l.SearchPanelInitiator.KeyboardShortcut),!0),A._navigateToContactsPanel=()=>{const e=k.default.newCauseId();u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToContactsPanel causeId: "+e),S.default.closeGenericDesktopModal(e,a.MainRootViewId);return A._openInMainWindow(e,(t=>{S.default.navigateToContactsPanelInLeftNav(e),c.setFocusWithDelay(c.FocusEvent.Contacts,0)})),!0},A._navigateToNotificationsPanel=()=>{const e=k.default.newCauseId();u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToNotificationsPanel causeId: "+e),S.default.closeGenericDesktopModal(e,a.MainRootViewId);return A._openInMainWindow(e,(t=>{S.default.navigateToNotificationsPanelInLeftNav(e),c.setFocusWithDelay(c.FocusEvent.Notifications,0)})),!0},A._navigateToSettings=()=>{const e=k.default.newCauseId();u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToSettings causeId: "+e),S.default.closeGenericDesktopModal(e,a.MainRootViewId);return A._openInMainWindow(e,(t=>{u.track(new f.SettingsTelemetry(l.SettingsOrigin.Shortcut)),S.default.navigateToDesktopSettings(t,e)})),!0},A._startNewConversation=()=>(A._startNewConversationWithOrigin(l.NavigationConversationOrigin.KeyboardShortcut),!0),A._startNewGroupConversation=()=>(A._startNewGroupConversationWithOrigin(l.NavigationConversationOrigin.KeyboardShortcut),!0),A._openMainDialpad=()=>{const e=k.default.newCauseId();u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._openMainDialpad causeId: "+e),S.default.closeGenericDesktopModal(e,a.MainRootViewId);return A._openInMainWindow(e,(t=>{S.default.navigateToPSTNDialerWithParams({causeId:e,navigationSource:l.DialerNavigationSource.RootCompositeNavigationView},t)})),!0},A._navigateToFeedback=()=>{if(p.default.isChild())return!0;const e=k.default.newCauseId();u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToFeedback causeId: "+e);return A._openInCurrentWindow(e,(t=>{u.track(new y.NavigationHelpAndFeedback(C.NavigationSettingsItem.ReportAProblem,C.NavigationSettingsOrigin.ApplicationMenu)),S.default.closeGenericDesktopModal(e,t),b.default.reportProblem(!0,t)})),!0},A._navigateToSXPlayground=()=>!0,A._openHelpInABrowser=()=>{const e=d.getTelemetryCorrelationId();u.track(new y.NavigationHelpAndFeedback(C.NavigationSettingsItem.GetHelp,C.NavigationSettingsOrigin.KeyboardShortcut,e)),u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._openHelpInABrowser");let t=v.addSsoFlagToUrl(s.default.getConfigSettings().helpGoParam.supportArticles,!0);t=d.addCommonTrackingParams(t,!0,!0);const i={tcg:e};return S.default.navigateToHelpAndFeedbackLink(t,"",h.getString("MyProfilePanel.GetHelpTitle"),a.MainRootViewId,i),!0},A._toggleLightOrDarkTheme=()=>{u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._toggleLightOrDarkTheme"),T.default.toggleLightOrDarkTheme();const e=P.isDarkTheme(T.default.colorThemeNoSubscription()),t=h.getString(e?"ColorThemeDialog.ShortcutThemeToggleDarkAccessible":"ColorThemeDialog.ShortcutThemeToggleLightAccessible");return o.Accessibility.announceForAccessibility(t),!0},A._navigateToKeyboardShortcuts=()=>{const e=k.default.newCauseId();u.log(l.LogTraceArea.Navigation,"KeyboardShortcutUIHelper._navigateToKeyboardShortcuts causeId: "+e),S.default.closeGenericDesktopModal(e,a.MainRootViewId);return A._openInCurrentWindow(e,(t=>{S.default.navigateToDesktopSettingsGroup(m.SettingsGroup.HotKeys,t,e)})),!0},t.default=A},172490:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeyboardShortcuts=t.WindowsAndLinuxShortcutsWeb=t.WindowsShortcuts=t.WindowsAndLinuxShortcutsCommon=t.MacShortcutsWeb=t.MacShortcuts=t.MacShortcutsCommon=void 0;const n=i(496486),o=i(324542),s=i(516778),a=i(719061),r=i(47447),l=i(898278),c=i(746096),d=i(366199),u=i(436237),g=i(547126),h=i(733754),p=i(178735),S=i(640363),m="answerOrStartCall",C="addToCallOrConversation",y="toggleCameraOrStartCall";t.MacShortcutsCommon=[{shortcut:c.KeyboardShortcut.OpenNotificationPanel,keyCombination:{keyCode:g.default.O,shiftKey:!0,metaKey:!0}},{shortcut:c.KeyboardShortcut.OpenContactsPanel,keyCombination:{keyCode:g.default.C,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.SendFeedback,keyCombination:{keyCode:g.default.O,metaKey:!0,altKey:!0}},{shortcut:c.KeyboardShortcut.NavigateToRecents,keyCombination:{keyCode:g.default.ONE,altKey:!0}},{shortcut:c.KeyboardShortcut.NavigateToHistory,keyCombination:{keyCode:g.default.Y,metaKey:!0}},{shortcut:c.KeyboardShortcut.ShowConversationProfile,keyCombination:{keyCode:g.default.I,metaKey:!0}},{shortcut:c.KeyboardShortcut.AddPeopleToConversation,keyCombination:{keyCode:g.default.A,metaKey:!0,shiftKey:!0},shortcutAlias:C},{shortcut:c.KeyboardShortcut.StartVideoCall,keyCombination:{keyCode:g.default.K,metaKey:!0,shiftKey:!0},shortcutAlias:y},{shortcut:c.KeyboardShortcut.MarkAsUnread,keyCombination:{keyCode:g.default.U,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.ToggleLeftPanel,keyCombination:{keyCode:g.default.ONE,ctrlKey:!0,altKey:!0}},{shortcut:c.KeyboardShortcut.EditMessage,keyCombination:{keyCode:g.default.E,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.EnableMultipleSelectMessages,keyCombination:{keyCode:g.default.L,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.FocusMessageComposer,keyCombination:{keyCode:g.default.E,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.ToggleMicrophone,keyCombination:{keyCode:g.default.M,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.ToggleCamera,keyCombination:{keyCode:g.default.K,metaKey:!0,shiftKey:!0},shortcutAlias:y},{shortcut:c.KeyboardShortcut.AddPeopleToCall,keyCombination:{keyCode:g.default.A,metaKey:!0,shiftKey:!0},shortcutAlias:C},{shortcut:c.KeyboardShortcut.HangupOrRejectCall,keyCombination:{keyCode:g.default.H,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.AnnounceMuteStatus,keyCombination:{keyCode:g.default.M,metaKey:!0,shiftKey:!0,altKey:!0}},{shortcut:c.KeyboardShortcut.AnnounceSelfVideoOnOffStatus,keyCombination:{keyCode:g.default.K,metaKey:!0,shiftKey:!0,altKey:!0}},{shortcut:c.KeyboardShortcut.ArchiveConversation,keyCombination:{keyCode:g.default.E,metaKey:!0}},{shortcut:c.KeyboardShortcut.CallDebugPanel,keyCombination:{keyCode:g.default.D,metaKey:!0,shiftKey:!0}}],t.MacShortcuts=[...t.MacShortcutsCommon,{shortcut:c.KeyboardShortcut.OpenAppSettings,keyCombination:{keyCode:g.default.COMMA,metaKey:!0}},{shortcut:c.KeyboardShortcut.OpenHelpInABrowser,keyCombination:{keyCode:g.default.H,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.StartNewConversation,keyCombination:{keyCode:g.default.N,metaKey:!0}},{shortcut:c.KeyboardShortcut.OpenThemePicker,keyCombination:{keyCode:g.default.T,metaKey:!0}},{shortcut:c.KeyboardShortcut.ToggleTheme,keyCombination:{keyCode:g.default.T,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.TakeCallSnapshot,keyCombination:{keyCode:g.default.S,metaKey:!0}},{shortcut:c.KeyboardShortcut.OpenDialpad,keyCombination:{keyCode:g.default.TWO,metaKey:!0}},{shortcut:c.KeyboardShortcut.NewGroup,keyCombination:{keyCode:g.default.G,metaKey:!0}},{shortcut:c.KeyboardShortcut.ToggleGallery,keyCombination:{keyCode:g.default.G,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.StartAudioCall,keyCombination:{keyCode:g.default.R,metaKey:!0,shiftKey:!0},shortcutAlias:m},{shortcut:c.KeyboardShortcut.AcceptIncomingCall,keyCombination:{keyCode:g.default.R,metaKey:!0,shiftKey:!0},shortcutAlias:m},{shortcut:c.KeyboardShortcut.SendFile,keyCombination:{keyCode:g.default.F,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.NavigateToPreviousConversation,keyCombination:{keyCode:g.default.TAB,shiftKey:!0,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.NavigateToNextConversation,keyCombination:{keyCode:g.default.TAB,shiftKey:!1,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.ResizeVideoPreview,keyCombination:{keyCode:g.default.J,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.Quit,keyCombination:{keyCode:g.default.Q,metaKey:!0}}],t.MacShortcutsWeb=[...t.MacShortcutsCommon,{shortcut:c.KeyboardShortcut.OpenAppSettings,keyCombination:{keyCode:g.default.COMMA,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.StartNewConversation,keyCombination:{keyCode:g.default.N,shiftKey:!0,altKey:!0}},{shortcut:c.KeyboardShortcut.OpenHelpInABrowser,keyCombination:{keyCode:g.default.H,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.OpenDialpad,keyCombination:{keyCode:g.default.TWO,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.NewGroup,keyCombination:{keyCode:g.default.G,metaKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.StartAudioCall,keyCombination:{keyCode:g.default.R,altKey:!0,shiftKey:!0},shortcutAlias:m},{shortcut:c.KeyboardShortcut.AcceptIncomingCall,keyCombination:{keyCode:g.default.R,altKey:!0,shiftKey:!0},shortcutAlias:m},{shortcut:c.KeyboardShortcut.ResizeVideoPreview,keyCombination:{keyCode:g.default.J,altKey:!0,shiftKey:!0}}],t.WindowsAndLinuxShortcutsCommon=[{shortcut:c.KeyboardShortcut.OpenNotificationPanel,keyCombination:{keyCode:g.default.I,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.OpenContactsPanel,keyCombination:{keyCode:g.default.TWO,altKey:!0}},{shortcut:c.KeyboardShortcut.NavigateToRecents,keyCombination:{keyCode:g.default.ONE,altKey:!0}},{shortcut:c.KeyboardShortcut.NavigateToHistory,keyCombination:{keyCode:g.default.Y,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.AddPeopleToConversation,keyCombination:{keyCode:g.default.A,ctrlKey:!0,shiftKey:!0},shortcutAlias:C},{shortcut:c.KeyboardShortcut.StartVideoCall,keyCombination:{keyCode:g.default.K,ctrlKey:!0,shiftKey:!0},shortcutAlias:y},{shortcut:c.KeyboardShortcut.StartAudioCall,keyCombination:{keyCode:g.default.P,ctrlKey:!0,shiftKey:!0},shortcutAlias:m},{shortcut:c.KeyboardShortcut.MarkAsUnread,keyCombination:{keyCode:g.default.U,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.ToggleLeftPanel,keyCombination:{keyCode:g.default.ONE,ctrlKey:!0,altKey:!0}},{shortcut:c.KeyboardShortcut.EnableMultipleSelectMessages,keyCombination:{keyCode:g.default.L,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.FocusMessageComposer,keyCombination:{keyCode:g.default.E,altKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.ToggleMicrophone,keyCombination:{keyCode:g.default.M,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.ToggleCamera,keyCombination:{keyCode:g.default.K,ctrlKey:!0,shiftKey:!0},shortcutAlias:y},{shortcut:c.KeyboardShortcut.AcceptIncomingCall,keyCombination:{keyCode:g.default.P,ctrlKey:!0,shiftKey:!0},shortcutAlias:m},{shortcut:c.KeyboardShortcut.AddPeopleToCall,keyCombination:{keyCode:g.default.A,ctrlKey:!0,shiftKey:!0},shortcutAlias:C},{shortcut:c.KeyboardShortcut.HangupOrRejectCall,keyCombination:{keyCode:g.default.H,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.ArchiveConversation,keyCombination:{keyCode:g.default.E,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.AnnounceMuteStatus,keyCombination:{keyCode:g.default.M,ctrlKey:!0,altKey:!0}},{shortcut:c.KeyboardShortcut.AnnounceSelfVideoOnOffStatus,keyCombination:{keyCode:g.default.K,ctrlKey:!0,shiftKey:!0,altKey:!0}},{shortcut:c.KeyboardShortcut.CallDebugPanel,keyCombination:{keyCode:g.default.D,altKey:!0,shiftKey:!0}}],t.WindowsShortcuts=[...t.WindowsAndLinuxShortcutsCommon,{shortcut:c.KeyboardShortcut.OpenAppSettings,keyCombination:{keyCode:g.default.COMMA,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.OpenHelpInABrowser,keyCombination:{keyCode:g.default.H,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.StartNewConversation,keyCombination:{keyCode:g.default.N,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.OpenThemePicker,keyCombination:{keyCode:g.default.T,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.ToggleTheme,keyCombination:{keyCode:g.default.T,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.TakeCallSnapshot,keyCombination:{keyCode:g.default.S,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.OpenDialpad,keyCombination:{keyCode:g.default.D,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.NewGroup,keyCombination:{keyCode:g.default.G,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.ToggleGallery,keyCombination:{keyCode:g.default.G,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.SendFeedback,keyCombination:{keyCode:g.default.O,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.ShowConversationProfile,keyCombination:{keyCode:g.default.P,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.SendFile,keyCombination:{keyCode:g.default.F,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.NavigateToPreviousConversation,keyCombination:{keyCode:g.default.TAB,shiftKey:!0,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.NavigateToNextConversation,keyCombination:{keyCode:g.default.TAB,shiftKey:!1,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.ResizeVideoPreview,keyCombination:{keyCode:g.default.J,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.Quit,keyCombination:{keyCode:g.default.Q,ctrlKey:!0}}],t.WindowsAndLinuxShortcutsWeb=[...t.WindowsAndLinuxShortcutsCommon,{shortcut:c.KeyboardShortcut.OpenAppSettings,keyCombination:{keyCode:g.default.COMMA,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.StartNewConversation,keyCombination:{keyCode:g.default.N,altKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.OpenHelpInABrowser,keyCombination:{keyCode:g.default.H,altKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.OpenDialpad,keyCombination:{keyCode:g.default.D,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.NewGroup,keyCombination:{keyCode:g.default.G,ctrlKey:!0,shiftKey:!0}},{shortcut:c.KeyboardShortcut.ShowConversationProfile,keyCombination:{keyCode:g.default.P,ctrlKey:!0,altKey:!0}},{shortcut:c.KeyboardShortcut.ResizeVideoPreview,keyCombination:{keyCode:g.default.J,altKey:!0,shiftKey:!0}}];class f{constructor(){this._handlers={},this._shouldSubscribeToKeyboardEvents=!0,this._subscribedToEscapeKeyEvents=!1,this._escapeHandlers=[],this._shortcutsMap={},this._extendedShortcutsMap={},this._onKeyUp=e=>{if(e.keyCode===g.default.ESCAPE)for(let t=this._escapeHandlers.length-1;t>=0;t--){const i=this._escapeHandlers[t];if(i&&i(e,l.MainRootViewId))return e.stopPropagation(),!0}return!1},this._onKeyDown=e=>{let t;const i=this._getKeyboardShortcut(e);for(let e=0;e<i.length;e++){const n=this._handlers[this._getShortcutMapKey(i[e].shortcut)];if(n){t=n;break}}if(t){return((t,i)=>{if(t&&t.length)for(let n=t.length-1;n>=0;n--)if(t[n](e,i)){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault();break}})(t,l.MainRootViewId),!0}return!1},this._getSearchInConversationKeyCombination=()=>S.default.getPlatformType()===c.PlatformType.OSX?{keyCode:g.default.F,metaKey:!0}:{keyCode:g.default.F,ctrlKey:!0},this._getSearchKeyCombination=()=>S.default.getPlatformType()===c.PlatformType.OSX?{keyCode:g.default.F,metaKey:!0,shiftKey:!0}:{keyCode:g.default.F,ctrlKey:!0,shiftKey:!0},this._makeMacShortcuts=()=>{const e=[...t.MacShortcutsWeb];return e.push({shortcut:c.KeyboardShortcut.Search,keyCombination:this._getSearchKeyCombination()},{shortcut:c.KeyboardShortcut.SearchInConversation,keyCombination:this._getSearchInConversationKeyCombination()}),e.push({shortcut:c.KeyboardShortcut.OpenKeyboardShortcuts,keyCombination:{keyCode:g.default.BACKSLASH,metaKey:!0}},{shortcut:c.KeyboardShortcut.OpenSxPlayground,keyCombination:{keyCode:g.default.P,altKey:!0,shiftKey:!0}}),e},this._makeWindowsOrLinuxShortcuts=()=>{const e=[...t.WindowsAndLinuxShortcutsWeb];return e.push({shortcut:c.KeyboardShortcut.Search,keyCombination:this._getSearchKeyCombination()},{shortcut:c.KeyboardShortcut.SearchInConversation,keyCombination:this._getSearchInConversationKeyCombination()}),e.push({shortcut:c.KeyboardShortcut.OpenKeyboardShortcuts,keyCombination:{keyCode:g.default.FORWARDSLASH,ctrlKey:!0}},{shortcut:c.KeyboardShortcut.OpenSxPlayground,keyCombination:{keyCode:g.default.P,altKey:!0,shiftKey:!0}}),e},this._constructShortcuts(),this._shouldSubscribeToKeyboardEvents&&(h.localeChangedEvent.subscribe((()=>{this._extendedShortcutsMap={}})),s.Input.keyDownEvent.subscribe(this._onKeyDown))}_constructShortcuts(){u.log(c.LogTraceArea.KeyboardShortcuts,"_constructShortcuts was called"),this._shortcuts=S.default.getPlatformType()===c.PlatformType.OSX?this._makeMacShortcuts():this._makeWindowsOrLinuxShortcuts();const e={};n.each(this._shortcuts,(t=>{e[t.shortcut]=t})),this._shortcutsMap=e}keyCombinationForKeyboardShortcut(e){const t=this._shortcutsMap[e];return t?t.keyCombination:void 0}acceleratorForKeyboardShortcut(e){const t=this.keyCombinationForKeyboardShortcut(e);if(t){const e=f._acceleratorCommandParts(t);return f._joinCommands(e,"+")}}compactShortcutStringForKeyboardShortcut(e){const t=this.keyCombinationForKeyboardShortcut(e);if(t){const e=f._commandParts(t);return f._joinCommands(e,"+")}}shortcutListItemForShortcut(e){let t=this._extendedShortcutsMap[e];if(!t&&this._shortcutsMap[e]){const i=f._actionDescriptionForShortcut(e),n=f._commandParts(this._shortcutsMap[e].keyCombination),o=f._joinCommands(n),s=f._constructCommand(this._shortcutsMap[e].keyCombination,!0);i&&o&&(t=Object.assign(Object.assign({},this._shortcutsMap[e]),{action:i,command:o,accessibleCommand:s,commandParts:n}),this._extendedShortcutsMap[e]=t)}return t}addHandler(e,t){if(this._shouldSubscribeToKeyboardEvents&&a.default.canUseKeyboardShortcut(e)){u.log(c.LogTraceArea.KeyboardShortcuts,"Adding handler for "+c.KeyboardShortcut[e]);const i=this._getShortcutMapKey(e);this._handlers[i]?this._handlers[i].push(t):this._handlers[i]=[t],u.log(c.LogTraceArea.KeyboardShortcuts,"Handler count for shortcut "+c.KeyboardShortcut[e]+" count: "+this._handlers[i].length)}}removeHandler(e,t){if(this._shouldSubscribeToKeyboardEvents){u.log(c.LogTraceArea.KeyboardShortcuts,"Removing handler for "+c.KeyboardShortcut[e]);const i=this._getShortcutMapKey(e),o=n.remove(this._handlers[i],(e=>e===t)),s=this._handlers[i]?this._handlers[i].length:0;return u.log(c.LogTraceArea.KeyboardShortcuts,"Handler count for shortcut "+c.KeyboardShortcut[e]+" count: "+s),s||delete this._handlers[i],!n.isEmpty(o)}return!1}addEscapeHandler(e){this._subscribedToEscapeKeyEvents||(u.log(c.LogTraceArea.KeyboardShortcuts,"Subscribing to Escape key events"),s.Input.keyUpEvent.subscribe(this._onKeyUp),this._subscribedToEscapeKeyEvents=!0),this._escapeHandlers.push(e)}removeEscapeHandler(e){this._escapeHandlers=n.filter(this._escapeHandlers,(t=>t!==e)),n.isEmpty(this._escapeHandlers)&&this._subscribedToEscapeKeyEvents&&(u.log(c.LogTraceArea.KeyboardShortcuts,"Unsubscribing from Escape key events"),s.Input.keyUpEvent.unsubscribe(this._onKeyUp),this._subscribedToEscapeKeyEvents=!1)}addSystemHandler(e,t){if(!this._shouldSubscribeToKeyboardEvents||!a.default.canUseKeyboardShortcut(e))return;if(this.addHandler(e,t),!p.default.getUserPreferencesLocal().enableSystemHotKeys||!r.UICapabilities.systemHotKeysSupported())return;const i=this.keyCombinationForKeyboardShortcut(e),n=this.acceleratorForKeyboardShortcut(e);o.default.hotKeyCallback=t=>{const i=this._onKeyDown(t);return u.track(new d.GlobalHotkeyInvokedEvent(c.KeyboardShortcut[e],n)),i};const s=o.default.registerHotKey(i,n);void 0===i||s||u.warn(c.LogTraceArea.KeyboardShortcuts,"Failed to register system handler"),u.track(new d.GlobalHotkeyRegisteredEvent(s,c.KeyboardShortcut[e],n))}removeSystemHandler(e,t){if(!this._shouldSubscribeToKeyboardEvents)return;if(!this.removeHandler(e,t)||!r.UICapabilities.systemHotKeysSupported())return;const i=this.keyCombinationForKeyboardShortcut(e),n=this.acceleratorForKeyboardShortcut(e),s=o.default.unRegisterHotKey(i,n);void 0===i||s||u.warn(c.LogTraceArea.KeyboardShortcuts,"Failed to unregister system handler"),u.track(new d.GlobalHotkeyUnregisteredEvent(s,c.KeyboardShortcut[e],n))}hasRegisteredMultipleHandlers(e){const t=this._getShortcutMapKey(e),i=this._handlers[t];return!!(i&&i.length>1)}generateTooltipLabelWithShortcutForCondition(e,t,i){const n=this.compactShortcutStringForKeyboardShortcut(t);return!n||void 0!==i&&!0!==i?e:`${e}\n(${n})`}_getKeyboardShortcut(e){return this._shortcuts?this._shortcuts.filter((t=>{const i=t.keyCombination;return e.keyCode===i.keyCode&&!!e.ctrlKey==!!i.ctrlKey&&!!e.shiftKey==!!i.shiftKey&&!!e.altKey==!!i.altKey&&!!e.metaKey==!!i.metaKey})):[]}_getShortcutMapKey(e){const t=this._shortcutsMap[e];return"keyboardShortcut_"+((t?t.shortcutAlias:void 0)||e)}static _actionDescriptionForShortcut(e){switch(e){case c.KeyboardShortcut.OpenNotificationPanel:return h.getString("KeyboardShortcuts.OpenNotificationPanel");case c.KeyboardShortcut.OpenAppSettings:return h.getString("KeyboardShortcuts.OpenAppSettings");case c.KeyboardShortcut.OpenHelpInABrowser:return h.getString("KeyboardShortcuts.OpenHelpInABrowser");case c.KeyboardShortcut.OpenDialpad:return h.getString("KeyboardShortcuts.OpenDialpad");case c.KeyboardShortcut.StartNewConversation:return h.getString("KeyboardShortcuts.StartNewConversation");case c.KeyboardShortcut.NewGroup:return h.getString("KeyboardShortcuts.NewGroup");case c.KeyboardShortcut.OpenContactsPanel:return h.getString("KeyboardShortcuts.OpenContactsPanel");case c.KeyboardShortcut.SendFeedback:return h.getString("KeyboardShortcuts.SendFeedback");case c.KeyboardShortcut.OpenThemePicker:return h.getString("KeyboardShortcuts.OpenThemePicker");case c.KeyboardShortcut.NavigateToRecents:case c.KeyboardShortcut.NavigateToHistory:return h.getString("KeyboardShortcuts.NavigateToRecents");case c.KeyboardShortcut.ShowConversationProfile:return h.getString("KeyboardShortcuts.ShowConversationProfile");case c.KeyboardShortcut.AddPeopleToConversation:return h.getString("KeyboardShortcuts.AddPeopleToConversation");case c.KeyboardShortcut.SendFile:return h.getString("KeyboardShortcuts.SendFile");case c.KeyboardShortcut.StartVideoCall:return h.getString("KeyboardShortcuts.StartVideoCall");case c.KeyboardShortcut.StartAudioCall:return h.getString("KeyboardShortcuts.StartAudioCall");case c.KeyboardShortcut.ToggleGallery:return h.getString("KeyboardShortcuts.ToggleGallery");case c.KeyboardShortcut.MarkAsUnread:return h.getString("KeyboardShortcuts.MarkAsUnread");case c.KeyboardShortcut.HangupOrRejectCall:return h.getString("KeyboardShortcuts.HangupOrRejectCall");case c.KeyboardShortcut.ToggleMicrophone:return h.getString("KeyboardShortcuts.ToggleMicrophone");case c.KeyboardShortcut.ToggleCamera:return h.getString("KeyboardShortcuts.ToggleCamera");case c.KeyboardShortcut.AcceptIncomingCall:return h.getString("KeyboardShortcuts.AcceptIncomingCall");case c.KeyboardShortcut.AddPeopleToCall:return h.getString("KeyboardShortcuts.AddPeopleToCall");case c.KeyboardShortcut.Search:return h.getString("KeyboardShortcuts.Search");case c.KeyboardShortcut.SearchInConversation:return h.getString("KeyboardShortcuts.SearchInConversation");case c.KeyboardShortcut.ToggleTheme:return h.getString("KeyboardShortcuts.ToggleTheme");case c.KeyboardShortcut.EditMessage:return h.getString("KeyboardShortcuts.EditMessage");case c.KeyboardShortcut.EnableMultipleSelectMessages:return h.getString("KeyboardShortcuts.EnableMultipleSelectMessages");case c.KeyboardShortcut.TakeCallSnapshot:return h.getString("KeyboardShortcuts.TakeCallSnapshot");case c.KeyboardShortcut.ArchiveConversation:return h.getString("KeyboardShortcuts.ArchiveConversation");case c.KeyboardShortcut.OpenMainWindow:return h.getString("KeyboardShortcuts.OpenMainWindow");case c.KeyboardShortcut.Refresh:return h.getString("KeyboardShortcuts.Refresh");case c.KeyboardShortcut.ZoomIn:return h.getString("KeyboardShortcuts.ZoomIn");case c.KeyboardShortcut.ZoomOut:return h.getString("KeyboardShortcuts.ZoomOut");case c.KeyboardShortcut.ResetZoom:return h.getString("KeyboardShortcuts.ResetZoom");case c.KeyboardShortcut.OpenKeyboardShortcuts:return h.getString("KeyboardShortcuts.OpenKeyboardShortcuts");case c.KeyboardShortcut.FocusMessageComposer:return h.getString("KeyboardShortcuts.FocusMessageComposer");case c.KeyboardShortcut.AnnounceMuteStatus:return h.getString("KeyboardShortcuts.AnnounceMuteStatus");case c.KeyboardShortcut.AnnounceSelfVideoOnOffStatus:return h.getString("KeyboardShortcuts.AnnounceSelfVideoOnOffStatus");case c.KeyboardShortcut.NavigateToNextConversation:return h.getString("KeyboardShortcuts.NextConversationLabel");case c.KeyboardShortcut.NavigateToPreviousConversation:return h.getString("KeyboardShortcuts.PreviousConversationLabel");case c.KeyboardShortcut.ResizeVideoPreview:return h.getString("CallPanel.ResizeCameraPreviewText");case c.KeyboardShortcut.FocusScreenSharingToolbar:return h.getString("KeyboardShortcuts.FocusScreenSharingToolbar");case c.KeyboardShortcut.Quit:return h.getString("KeyboardShortcuts.Quit");case c.KeyboardShortcut.OpenSxPlayground:return h.getString("KeyboardShortcuts.OpenSxPlayground")}}static _commandParts(e,t=!1){const i=S.default.getPlatformType()===c.PlatformType.OSX,o=[];return e.ctrlKey&&o.push(f._keyDescriptor(i?g.default.CONTROL:g.default.CTRL,t)),e.altKey&&o.push(f._keyDescriptor(i?g.default.OPTION:g.default.ALT,t)),e.metaKey&&o.push(f._keyDescriptor(g.default.COMMAND,t)),e.shiftKey&&o.push(f._keyDescriptor(g.default.SHIFT,t)),e.keyCode&&o.push(f._keyDescriptor(e.keyCode,t)),n.compact(o)}static _acceleratorCommandParts(e){const t=S.default.getPlatformType()===c.PlatformType.OSX,i=[];return e.ctrlKey&&i.push("Control"),e.altKey&&i.push(t?"Option":"Alt"),e.metaKey&&i.push("Command"),e.shiftKey&&i.push("Shift"),e.keyCode&&i.push(f._keyAcceleratorCode(e.keyCode)),n.compact(i)}static _constructCommand(e,t=!1){const i=f._commandParts(e,t);return f._joinCommands(i,t?" ":" + ")}static _joinCommands(e,t){return n.join(e,t||" + ")}static _keyAcceleratorCode(e){switch(e){case g.default.PLUS:return"Plus";case g.default.SPACE:return"Space";case g.default.TAB:return"Tab";case g.default.DELETE:return"Delete";case g.default.INSERT:return"Insert";case g.default.ENTER:return"Enter";case g.default.UP:return"Up";case g.default.DOWN:return"Down";case g.default.LEFT:return"Left";case g.default.RIGHT:return"Right";case g.default.ESCAPE:return"Escape";case g.default.PAGEUP:return"PageUp";case g.default.PAGEDOWN:return"PageDown"}return f._keyDescriptor(e,!1)}static _keyDescriptor(e,t=!1){switch(e){case g.default.A:return"A";case g.default.B:return"B";case g.default.C:return"C";case g.default.D:return"D";case g.default.E:return"E";case g.default.F:return"F";case g.default.G:return"G";case g.default.H:return"H";case g.default.I:return"I";case g.default.J:return"J";case g.default.K:return"K";case g.default.L:return"L";case g.default.M:return"M";case g.default.N:return"N";case g.default.O:return"O";case g.default.P:return"P";case g.default.Q:return"Q";case g.default.R:return"R";case g.default.S:return"S";case g.default.T:return"T";case g.default.U:return"U";case g.default.V:return"V";case g.default.W:return"W";case g.default.X:return"X";case g.default.Y:return"Y";case g.default.Z:return"Z";case g.default.ZERO:return"0";case g.default.ONE:return"1";case g.default.TWO:return"2";case g.default.THREE:return"3";case g.default.FOUR:return"4";case g.default.FIVE:return"5";case g.default.SIX:return"6";case g.default.SEVEN:return"7";case g.default.EIGHT:return"8";case g.default.NINE:return"9";case g.default.LEFT:return t?h.getString("KeyboardShortcuts.LeftArrow"):"←";case g.default.RIGHT:return t?h.getString("KeyboardShortcuts.RightArrow"):"→";case g.default.UP:return t?h.getString("KeyboardShortcuts.UpArrow"):"↑";case g.default.DOWN:return t?h.getString("KeyboardShortcuts.DownArrow"):"↓";case g.default.TAB:return h.getString("KeyboardShortcuts.TabKey");case g.default.SHIFT:return h.getString("KeyboardShortcuts.ShiftKey");case g.default.ESCAPE:return h.getString("KeyboardShortcuts.EscapeKey");case g.default.DELETE:return h.getString("KeyboardShortcuts.DeleteKey");case g.default.SPACE:return h.getString("KeyboardShortcuts.SpaceKey");case g.default.PAGEUP:return h.getString("KeyboardShortcuts.PageUpKey");case g.default.PAGEDOWN:return h.getString("KeyboardShortcuts.PageDownKey");case g.default.COMMA:return t?h.getString("KeyboardShortcuts.CommaKey"):",";case g.default.PLUS:return t?h.getString("KeyboardShortcuts.PlusKey"):"+";case g.default.MINUS:return t?h.getString("KeyboardShortcuts.MinusKey"):"-";case g.default.BACKSLASH:return"\\";case g.default.FORWARDSLASH:return"/";case g.default.COMMAND:return t||S.default.getPlatformType()!==c.PlatformType.OSX?h.getString("KeyboardShortcuts.CommandKey"):"⌘";case g.default.CONTROL:case g.default.CTRL:return t||S.default.getPlatformType()===c.PlatformType.OSX?h.getString("KeyboardShortcuts.ControlKey"):h.getString("KeyboardShortcuts.ControlKeyShort");case g.default.RETURN:case g.default.ENTER:return S.default.getPlatformType()===c.PlatformType.OSX?h.getString("KeyboardShortcuts.ReturnKey"):h.getString("KeyboardShortcuts.EnterKey");case g.default.ALT:case g.default.OPTION:return S.default.getPlatformType()===c.PlatformType.OSX?h.getString("KeyboardShortcuts.OptionKey"):h.getString("KeyboardShortcuts.AltKey")}}}t.KeyboardShortcuts=f,t.default=new f},80468:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(733754),o=i(886045),s=i(219784),a=i(476621),r=i(557102),l=i(539549),c=i(871908);t.default=function(e,t,i,d){return a.default.ensureConversationLoaded(e).then((()=>{if(!(0,l.default)().isConversationKnown(e))return;const a=[{text:n.getString("InfoPanel.LeaveConfirmationConfirmButtonTitle"),onPress:()=>{c.leaveConversationAsync(e,d);const i=n.getString("ConversationsListItem.LeftGroupAccessibilityAnnouncement");o.default.maybeAnnounceForAccessibility(i,500),t()},isSubmit:!0},{text:n.getString("Global.LearnMore"),onPress:r.ConversationUtils.openClearLeaveConversationLearnMore},{text:n.getString("Global.CancelLabel"),isCancel:!0}],u=n.getString("InfoPanel.LeaveConfirmationDialogTitle2"),g=n.getString("InfoPanel.LeaveConfirmationDialogMessage2");s.default.showWithOptions({title:u,dialogAccessibilityTitle:u,message:g,buttons:a,rootViewId:i})}))}},679154:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(667294),s=i(516778),a=i(996074),r=i(951638),l=i(147204),c=i(273865),d=i(746096),u=(i(211375),i(436237)),g=i(362807),h=i(104735),p=i(217093),S=i(362807),m=i(330124),C=i(29130),y=i(897982),f=i(34273),b=i(153940),_=i(615112),v=(0,o.lazy)((()=>Promise.resolve().then((()=>i(230734))))),T=(0,o.lazy)((()=>Promise.resolve().then((()=>i(911881))))),P=(0,o.lazy)((()=>Promise.resolve().then((()=>i(723303))))),k=(0,o.lazy)((()=>Promise.resolve().then((()=>i(469198))))),A=(0,o.lazy)((()=>Promise.resolve().then((()=>i(630886))))),I=(0,o.lazy)((()=>Promise.resolve().then((()=>i(767337))))),w=(0,o.lazy)((()=>Promise.resolve().then((()=>i(285320))))),x=(0,o.lazy)((()=>Promise.resolve().then((()=>i(678054))))),N=(0,o.lazy)((()=>Promise.resolve().then((()=>i(945213))))),M=(0,o.lazy)((()=>Promise.resolve().then((()=>i(126630))))),L=(0,o.lazy)((()=>Promise.resolve().then((()=>i(635428))))),O=(0,o.lazy)((()=>Promise.resolve().then((()=>i(577721))))),D=(0,o.lazy)((()=>Promise.resolve().then((()=>i(212260))))),R=(0,o.lazy)((()=>Promise.resolve().then((()=>i(426805)))));class E{constructor(){this._modalIndex=0,this._onLaunchModal=e=>{u.log(d.LogTraceArea.Navigation,"ManagedModalNavigationHelper._onLaunchModal causeId: "+e.causeId);const t=e.modalId||"modal"+this._modalIndex++,s={dialogId:t,isAloneInNavStack:!0};let h=!1;const E={rootViewId:e.rootViewId,useScopedModalId:e.useScopedModalId};let B;if(e.context instanceof p.UnansweredCallNavigationContext){const n=e.context;h=!m.default.isUsingStackNavigationContextNoSubscription(),Promise.resolve().then((()=>i(721045))).then((i=>{this._onHandleCloseModal=i.show(n.state.unansweredCallOutput,t,E,e.causeId)}))}else if(e.context instanceof p.CaptureComboNavigationContext)if(e.context.state.allowOfficeLens){const t=e.context.state.onSendFlowComplete,i=e.context.state.capturedContentHandler;if(i){const n=(0,b.getCaptureFor)(b.CaptureScenario.Messaging),o=e.context.state.mediaPickerOnly,s=o?(0,b.checkCameraRollPermissions)().then((()=>null==n?void 0:n.startInPickerMode(i))):(0,b.checkCameraPermissions)().then((()=>null==n?void 0:n.startInCameraMode(i)));null==s||s.then((e=>null==n?void 0:n.handleCapturedContent(i,e))).then((()=>{null==n||n.trackCaptureSuccess(o?_.CaptureProviderScenarioTelemetry.Picker:_.CaptureProviderScenarioTelemetry.Camera),null==t||t()}))}}else{const t=e.context.state;Promise.resolve().then((()=>i(632827))).then((i=>{i.default.show(t,E,(()=>{e.onDismiss&&e.onDismiss(),this._dispatchCloseModalEvent()}))}))}else if(e.context instanceof p.CapturePreviewNavigationContext){const t=e.context;B=(0,n.jsx)(k,Object.assign({localMediaObjectUri:t.state.localMediaObjectUri,localMediaThumbnailUri:t.state.localMediaThumbnailUri,localMediaIsVideo:t.state.localMediaIsVideo,mediaSelection:t.state.mediaSelection,fileSize:t.state.fileSize,mediaHeight:t.state.height,mediaWidth:t.state.width,skipShareWithPanel:t.state.skipShareWithPanel,onCaptureFlowComplete:t.state.onCaptureFlowComplete,conversationId:t.state.conversationId,callId:t.state.callId,markupEnabled:!0,unlockOrientation:t.state.unlockOrientation,performMarkupOnly:t.state.performMarkupOnly,capturedContentHandler:t.state.capturedContentHandler,captureSessionTelemetry:t.state.captureSessionTelemetry,entryPoint:t.state.entryPoint,inlinePreview:t.state.inlinePreview,iconForClose:t.state.iconForClose,onReject:t.state.onReject,fileExtension:t.state.fileExtension},s))}else if(e.context instanceof p.CaptureMultiPreviewNavigationContext){const t=e.context;B=(0,n.jsx)(P,{mediaPreviews:t.state.mediaPreviews,conversationId:t.state.conversationId,onReject:t.state.onReject})}else if(e.context instanceof p.LocationPickerContext)B=(0,n.jsx)(c.default,{children:(0,n.jsx)(w,{route:{params:Object.assign(Object.assign({},s),e.context.state)}})});else if(e.context instanceof p.ScreenShareModalContext){const t=e.context;B=(0,n.jsx)(c.default,{children:(0,n.jsx)(L,{currentScreenSharingSource:t.state.currentScreenSharingSource,currentScreenSharingSourceType:t.state.currentScreenSharingSourceType,isScreenSharingActive:t.state.isScreenSharingActive,onSelectSource:t.state.onSelectSource,onClose:t.state.onClose,initialShareSounds:t.state.shareSounds})})}else if(e.context instanceof p.TogetherModeModalContext){const t=e.context;B=(0,n.jsx)(c.default,{children:(0,n.jsx)(O,{route:{params:Object.assign({onChangeBackground:t.state.onChangeBackground,onStartTogetherMode:t.state.onStartTogetherMode,onClose:t.state.onClose,isAudienceBotInCall:t.state.isAudienceBotInCall,selectedBackground:t.state.selectedBackground},s)}})})}else if(e.context instanceof g.MeetNowJoinLinkPanelNavigationContext){const t=e.context;B=(0,n.jsx)(c.default,Object.assign({onDismiss:t.state.onDismiss},{children:(0,n.jsx)(N,{route:{params:t.state}})}))}else if(e.context instanceof p.LocationViewerContext){const t=e.context;B=(0,n.jsx)(c.default,{children:(0,n.jsx)(x,{route:{params:Object.assign(Object.assign({},s),t.state)}})})}else if(e.context instanceof p.DocumentViewerContext)B=(0,n.jsx)(c.default,{children:(0,n.jsx)(I,{route:{params:Object.assign(Object.assign({},s),e.context.state)}})});else if(e.context instanceof p.DesktopCaptureComboViewNavigationContext)B=(0,n.jsx)(c.default,{children:(0,n.jsx)(A,Object.assign({conversationId:e.context.state.conversationId,onShareComplete:e.context.state.onShareComplete},s),"desktopCapturePanel")});else if(e.context instanceof p.AugmentedPermissionsViewNavigationContext){if(void 0===e.permissionType)return void u.error(d.LogTraceArea.Navigation,"AugmentedPermissions event fired without a permission type, no UI shown");h=!m.default.isUsingStackNavigationContextNoSubscription();const n=e.permissionType,o=e.context.state;Promise.resolve().then((()=>i(837726))).then((i=>{this._onHandleCloseModal=i.show(t,E,n,e.causeId,o.conversationMri,o.onContinueAfterPermissionsDenied)}))}else if(e.context instanceof p.AndroidCallMonitorPermissionNavigationContext)B=(0,n.jsx)(v,Object.assign({deviceWidth:C.default.getWidthNoSubscription(E.rootViewId)},s));else if(e.context instanceof p.CQFNavigationContext){const t=e.context.state.callInfo,i=e.context.state;h=!m.default.isUsingStackNavigationContextNoSubscription(),B=(0,n.jsx)(T,Object.assign({callId:t.callId,conversationMri:t.conversationMri,endpointId:i.endpointId,nodeId:i.nodeId,participantId:i.participantId,pstnCdrId:i.pstnCdrId,problemSections:r.problemSections(t.callId,i.includedVideo),maxConnectedParticipants:i.maxConnectedParticipants},s))}else if(e.context instanceof f.default.NavigationContext.ScheduleNextCallNavigationContext){const t=e.context.state.callEndedInfo;B=(0,n.jsx)(M,Object.assign({conversationMri:t.conversationMri,callDuration:t.durationSeconds},s))}else if(e.context instanceof p.CallPreviewNavigationContext){const t=e.context.state;Promise.resolve().then((()=>i(845092))).then((e=>e.maybePresentCallPreviewPanel(Object.assign({},t),E)))}else e.context instanceof p.RinglessCallInterstitialNavigationContext?y.maybePresentRinglessCallInterstitial(Object.assign({},e.context.state),E):e.context instanceof S.MobileMeetingAvatarPickerNavigationContext?B=(0,n.jsx)(D,{route:{params:Object.assign(Object.assign({},s),e.context.state)}}):e.context instanceof p.SkypeClipsRecorderNavigationContext&&(B=(0,n.jsx)(c.default,{children:(0,n.jsx)(R,{route:{params:Object.assign(Object.assign({},s),e.context.state)}})}));B&&l.default.showModal((0,n.jsx)(o.Suspense,Object.assign({fallback:null},{children:(0,n.jsx)(a.BaseNavigationWrapper,Object.assign({isPresentedInManagedModal:!0,isPresentedInDesktopSubview:h,goBack:i=>(u.log(d.LogTraceArea.Navigation,"ModalNavigationHelper._goBack causeId: "+i),l.default.dismissModal(t,e.rootViewId),this._dispatchCloseModalEvent(),!0)},{children:B}))})),t,E)},this._onCloseModal=e=>{u.log(d.LogTraceArea.Navigation,"ManagedModalNavigationHelper._onCloseModal"),this._onHandleCloseModal?this._onHandleCloseModal(e.modalId):e.modalId?l.default.dismissModal(e.modalId,e.rootViewId,e.useScopedModalId):s.Modal.dismissAll(),this._dispatchCloseModalEvent()},u.log(d.LogTraceArea.Navigation,"ManagedModalNavigationHelper constructor"),h.default.launchModalEvent.subscribe(this._onLaunchModal),h.default.closeModalEvent.subscribe(this._onCloseModal)}static open(){u.log(d.LogTraceArea.Navigation,"ManagedModalNavigationHelper.open"),this._modalNavigationHelper||(this._modalNavigationHelper=new E)}static close(){u.log(d.LogTraceArea.Navigation,"ManagedModalNavigationHelper.close"),this._modalNavigationHelper&&(this._modalNavigationHelper._close(),this._modalNavigationHelper=void 0)}_close(){u.log(d.LogTraceArea.Navigation,"ManagedModalNavigationHelper._close"),this._launchModalToken&&(this._launchModalToken.unsubscribe(),this._launchModalToken=void 0),this._closeModalToken&&(this._closeModalToken.unsubscribe(),this._closeModalToken=void 0)}_dispatchCloseModalEvent(){0}}t.default=E},734537:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(516778),o=i(915877),s=i(581760),a=i(898278),r=i(311010),l=i(89808),c=i(853374),d=i(746096);const u=new class{constructor(){this._colors={light:s.Color.white,dark:"#202020",highlightLightDefault:"#DBF1FF",highlightLightBlue:"#DDDBF0",highlightLightFuschia:"#F6DFF3",highlightLightMint:"#D6EDFF",highlightLightRose:"#FFD6D6",highlightLightYellow:"#FDDFCE",highlightDark:"#2B2C32"},this._styles=(0,o.lazyProperties)({backgroundColorLight:()=>n.Styles.createViewStyle({backgroundColor:this._colors.light}),backgroundColorDark:()=>n.Styles.createViewStyle({backgroundColor:this._colors.dark}),itemHighlightColorLightDefault:()=>n.Styles.createViewStyle({backgroundColor:this._colors.highlightLightDefault}),itemHighlightColorLightBlue:()=>n.Styles.createViewStyle({backgroundColor:this._colors.highlightLightBlue}),itemHighlightColorLightFuschia:()=>n.Styles.createViewStyle({backgroundColor:this._colors.highlightLightFuschia}),itemHighlightColorLightMint:()=>n.Styles.createViewStyle({backgroundColor:this._colors.highlightLightMint}),itemHighlightColorLightRose:()=>n.Styles.createViewStyle({backgroundColor:this._colors.highlightLightRose}),itemHighlightColorLightYellow:()=>n.Styles.createViewStyle({backgroundColor:this._colors.highlightLightYellow}),itemHighlightColorDark:()=>n.Styles.createViewStyle({backgroundColor:this._colors.highlightDark}),itemHoverColorLightDefault:()=>n.Styles.createViewStyle({backgroundColor:"rgba(219, 241, 255, 0.5)"}),itemHoverColorLightBlue:()=>n.Styles.createViewStyle({backgroundColor:"rgba(221, 219, 240, 0.5)"}),itemHoverColorLightFuschia:()=>n.Styles.createViewStyle({backgroundColor:"rgba(246, 223, 243, 0.5)"}),itemHoverColorLightMint:()=>n.Styles.createViewStyle({backgroundColor:"rgba(214, 237, 255, 0.5)"}),itemHoverColorLightRose:()=>n.Styles.createViewStyle({backgroundColor:"rgba(255, 214, 214, 0.5)"}),itemHoverColorLightYellow:()=>n.Styles.createViewStyle({backgroundColor:"rgba(253, 223, 206, 0.5)"}),itemHoverColorDark:()=>n.Styles.createViewStyle({backgroundColor:s.Color.classicDarkBubbleOther}),bannerBackgroundColorLight:()=>n.Styles.createViewStyle({backgroundColor:"#F5F5F5"}),bannerBackgroundColorDark:()=>n.Styles.createViewStyle({backgroundColor:s.Color.darkThemeSecondaryBackground}),searchCategoryHeaderBackgroundColorLight:()=>n.Styles.createViewStyle({backgroundColor:"#F0F4F8"}),searchCategoryHeaderBackgroundColorDark:()=>n.Styles.createViewStyle({backgroundColor:s.Color.gray400}),roundStyle:()=>n.Styles.createViewStyle({borderRadius:8,marginHorizontal:8}),headerTextBase:()=>n.Styles.createTextStyle({font:r.default.font.uiDisplaySemibold}),headerTextDesktop:()=>n.Styles.createTextStyle({font:r.default.font.uiDisplaySemibold,fontSize:14}),headerTextMobile:()=>n.Styles.createTextStyle({font:r.default.font.uiDisplaySemibold,fontSize:15,lineHeight:20}),headerTextTablet:()=>n.Styles.createTextStyle({font:r.default.font.uiDisplaySemibold,fontSize:16}),itemTitleTextBase:()=>n.Styles.createTextStyle({fontSize:16,lineHeight:22}),itemTitleTextBaseMobile:()=>n.Styles.createTextStyle({fontSize:17,lineHeight:22}),itemSubtitleTextBase:()=>[r.default.font.uiDisplayRegular,n.Styles.createTextStyle({fontSize:14})],itemSubtitleTextBaseMobile:()=>n.Styles.createTextStyle({fontSize:15,lineHeight:20}),itemSubtitleTextLight:()=>n.Styles.createTextStyle({color:s.Color.gray400Overlay70}),itemSubtitleTextDark:()=>n.Styles.createTextStyle({color:s.Color.gray200Overlay60}),defaultThemeBadgeColorStyle:()=>n.Styles.createViewStyle({backgroundColor:s.Color.blue})})}getModernizeColors(e){if(e)switch(e.key){case"blue":return this._colors.highlightLightBlue;case"fuschia":return this._colors.highlightLightFuschia;case"mint":return this._colors.highlightLightMint;case"rose":return this._colors.highlightLightRose;case"yellow":return this._colors.highlightLightYellow}return this._colors.highlightLightDefault}getBackgroundColorStyle(e,t,i){return t?i.secondaryBackgroundColorStyle:e?this._styles.backgroundColorDark:this._styles.backgroundColorLight}getBackgroundColor(e,t,i){return t?i.secondaryBackgroundColor:e?this._colors.dark:this._colors.light}_getSelectedItemBackgroundStyleForLightNonA11yTheme(e){if(e)switch(e.key){case"blue":return this._styles.itemHighlightColorLightBlue;case"fuschia":return this._styles.itemHighlightColorLightFuschia;case"mint":return this._styles.itemHighlightColorLightMint;case"rose":return this._styles.itemHighlightColorLightRose;case"yellow":return this._styles.itemHighlightColorLightYellow}return this._styles.itemHighlightColorLightDefault}_getSelectedItemBackgroundStyleForDarkNonA11yTheme(e){return this._styles.itemHighlightColorDark}_getHoveredItemBackgroundStyleForLightNonA11yTheme(e){if(e)switch(e.key){case"blue":return this._styles.itemHoverColorLightBlue;case"fuschia":return this._styles.itemHoverColorLightFuschia;case"mint":return this._styles.itemHoverColorLightMint;case"rose":return this._styles.itemHoverColorLightRose;case"yellow":return this._styles.itemHoverColorLightYellow}return this._styles.itemHoverColorLightDefault}_getHoveredItemBackgroundStyleForDarkNonA11yTheme(e){return this._styles.itemHoverColorDark}getItemBackgroundStyle(e,t,i,n,o,s){return n?t?[this._styles.roundStyle,o.secondaryRowHighlightViewStyle]:i?[this._styles.roundStyle,o.secondaryRowHoverViewStyle]:[this._styles.roundStyle]:t?[this._styles.roundStyle,e?this._getSelectedItemBackgroundStyleForDarkNonA11yTheme(s):this._getSelectedItemBackgroundStyleForLightNonA11yTheme(s)]:i?[this._styles.roundStyle,e?this._getHoveredItemBackgroundStyleForDarkNonA11yTheme(s):this._getHoveredItemBackgroundStyleForLightNonA11yTheme(s)]:[this._styles.roundStyle]}getBannerBackgroundColorStyle(e,t,i){return t?i.secondaryBackgroundColorStyle:e?this._styles.bannerBackgroundColorDark:this._styles.bannerBackgroundColorLight}getSearchCategoryHeaderBackgroundColorStyle(e,t,i){return t?i.searchHeaderColorStyle:e?this._styles.searchCategoryHeaderBackgroundColorDark:this._styles.searchCategoryHeaderBackgroundColorLight}getRowPadding(e){return e?a.RowPaddingModernize:a.RowPaddingClassic}getCategoryHeaderTextStyle(e,t){return[this._styles.headerTextBase,this._styles.headerTextDesktop,e.secondaryTextColorStyle]}getItemTitleTextStyle(e,t,i,n){const o=[n?this._styles.itemTitleTextBaseMobile:this._styles.itemTitleTextBase,i.headerTextColorStyle];return t?o.push(r.default.font.uiDisplayBold):e?o.push(r.default.font.uiDisplaySemibold):o.push(r.default.font.uiDisplayRegular),o}getItemSubtitleTextStyle(e,t,i,n,o){const s=[o?this._styles.itemSubtitleTextBaseMobile:this._styles.itemSubtitleTextBase];return i?s.push(e?n.secondaryTextColorStyle:n.primaryTextColorStyle):s.push(e?this._styles.itemSubtitleTextDark:this._styles.itemSubtitleTextLight),t&&s.push(n.headerTextColorStyle),s}getBadgeColorStyle(){return l.default.getPrimaryBackgroundColorStyle()}canModernizeSearchResultsMobile(e,t){switch(e){case d.SearchResultsListOrigin.QuickCallPanel:return!!t;case d.SearchResultsListOrigin.ContactsPanel:case d.SearchResultsListOrigin.ContactsPanelV2:case d.SearchResultsListOrigin.CallsTabPanel:case d.SearchResultsListOrigin.PhoneTabPanel:return!0;case d.SearchResultsListOrigin.SearchPanel:case d.SearchResultsListOrigin.AddContact:case d.SearchResultsListOrigin.SendCreditSearchPeople:case d.SearchResultsListOrigin.QuickCallPanelModal:case d.SearchResultsListOrigin.AddingParticipantsToGroup:case d.SearchResultsListOrigin.ActiveNowPanel:case d.SearchResultsListOrigin.DiscoverPanel:case d.SearchResultsListOrigin.FindBots:case d.SearchResultsListOrigin.MoreContactsPanel:case d.SearchResultsListOrigin.NewChat:case d.SearchResultsListOrigin.NewGroup:case d.SearchResultsListOrigin.NewPrivateChat:case d.SearchResultsListOrigin.ShareWithPanel:case d.SearchResultsListOrigin.SuperComposer:case d.SearchResultsListOrigin.NewCellularSmsConversation:case d.SearchResultsListOrigin.ListSearchPickerPanel:case d.SearchResultsListOrigin.ContentChannels:case d.SearchResultsListOrigin.SayHiPopup:return!1;default:c.default.switchStatementExhaustiveChecking(e)}}canModernizeSearchResultsList(e){switch(e){case d.SearchResultsListOrigin.QuickCallPanel:case d.SearchResultsListOrigin.ContactsPanel:case d.SearchResultsListOrigin.ContactsPanelV2:case d.SearchResultsListOrigin.SearchPanel:case d.SearchResultsListOrigin.CallsTabPanel:case d.SearchResultsListOrigin.PhoneTabPanel:return!0;case d.SearchResultsListOrigin.AddContact:case d.SearchResultsListOrigin.SendCreditSearchPeople:case d.SearchResultsListOrigin.QuickCallPanelModal:case d.SearchResultsListOrigin.AddingParticipantsToGroup:case d.SearchResultsListOrigin.ActiveNowPanel:case d.SearchResultsListOrigin.DiscoverPanel:case d.SearchResultsListOrigin.FindBots:case d.SearchResultsListOrigin.MoreContactsPanel:case d.SearchResultsListOrigin.NewChat:case d.SearchResultsListOrigin.NewGroup:case d.SearchResultsListOrigin.NewPrivateChat:case d.SearchResultsListOrigin.ShareWithPanel:case d.SearchResultsListOrigin.SuperComposer:case d.SearchResultsListOrigin.NewCellularSmsConversation:case d.SearchResultsListOrigin.ListSearchPickerPanel:case d.SearchResultsListOrigin.ContentChannels:case d.SearchResultsListOrigin.SayHiPopup:return!1;default:c.default.switchStatementExhaustiveChecking(e)}}};t.default=u},882052:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=(i(516778),i(72105)),s=i(219784),a=i(889391),r=i(871908),l=i(671830),c=i(475760),d=i(192758),u=i(539549),g=i(436237),h=i(733754),p=i(178735),S=i(46929),m=i(104735),C=i(217093),y=i(330124),f=i(149643),b=i(793003),_=i(121579),v=i(293194),T=(i(912770),i(582916)),P="archived",k="time",A="unread",I="active",w="compactToggle",x="markAllRead",N="markAllNotificationsRead",M="showCategoriesToggle";class L{static showOptionsMenu(e,t,i){const n=L._getMenuItems(void 0);this._intShowMenu(n,void 0,e,t,i)}static showDesktopTabOptionsMenu(e,t,i,n){const o=L._getTabMenuItems(e);this._intShowMenu(o,e,t,i,n)}static showAllConversations(){d.default.setConversationsListMode(T.ConversationsListMode.AllConversations),this._sendEvent(f.RecentConversationsFilterAction.ShowAllConversations)}static showArchivedConversations(){y.default.isUsingStackNavigationContextNoSubscription()?m.default.navigateToMobileArchivedConversationsPanel():d.default.setConversationsListMode(T.ConversationsListMode.ArchivedConversations),this._sendEvent(f.RecentConversationsFilterAction.ShowArchivedConversations)}static sortByTime(){p.default.setUserPreferencesLocal({recentsSortedBy:b.RecentsSortBy.Time}),(0,u.default)().resortRecentConversations(),this._sendEvent(f.RecentConversationsFilterAction.SortByTime)}static sortByUnread(){p.default.setUserPreferencesLocal({recentsSortedBy:b.RecentsSortBy.Unread}),(0,u.default)().resortRecentConversations(),this._sendEvent(f.RecentConversationsFilterAction.SortByUnread)}static sortByActive(){p.default.setUserPreferencesLocal({recentsSortedBy:b.RecentsSortBy.Active}),(0,u.default)().resortRecentConversations(),this._sendEvent(f.RecentConversationsFilterAction.SortByActive)}static setRowSizeToDefault(){const e={recentsRowSize:b.RowSize.Default};a.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences&&S.default.setUserAppearancePreferencesForCurrentPlatform(e),p.default.setUserPreferencesLocal(e),this._sendEvent(f.RecentConversationsFilterAction.RowSizeDefault)}static setRowSizeToCompact(e){const t=e?b.RowSize.Compact:b.RowSize.ExtraCompact;a.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences&&S.default.setUserAppearancePreferencesForCurrentPlatform({recentsRowSize:t}),p.default.setUserPreferencesLocal({recentsRowSize:t}),this._sendEvent(f.RecentConversationsFilterAction.RowSizeCompact)}static recentRowSizeAndChanges(){return this._getRecentsRowSize()||b.RowSize.Default}static nonRecentRowSizeAndChanges(){return this.recentRowSizeAndChanges()}static shouldUseExtraCompactLayoutAndChanges(){return this.recentRowSizeAndChanges()===b.RowSize.ExtraCompact}static useAnyCompactLayoutAndChanges(){return this.recentRowSizeAndChanges()===b.RowSize.Compact||this.recentRowSizeAndChanges()===b.RowSize.ExtraCompact}static showCategories(){p.default.setUserPreferencesLocal({recentsShowCategories:!0}),(0,u.default)().resortRecentConversations(),this._sendEvent(f.RecentConversationsFilterAction.ShowCategories)}static hideCategories(){p.default.setUserPreferencesLocal({recentsShowCategories:!1}),(0,u.default)().resortRecentConversations(),this._sendEvent(f.RecentConversationsFilterAction.HideCategories)}static markAllConversationsRead(){L._markAllRead(!1),this._sendEvent(f.RecentConversationsFilterAction.MarkAllConversationsRead)}static _getRecentsRowSize(){const e=a.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences,t=p.default.getUserPreferencesLocal(),i=e?S.default.getUserAppearancePreferencesForCurrentPlatform():{};return i&&i.recentsRowSize?i.recentsRowSize:t.recentsRowSize}static _getRecentsRowSizeNoSubscription(){const e=a.default.getS4LNativePlatformsEcsConfigNoSubscription().enableRemoteClientAppearancePreferences,t=p.default.getUserPreferencesLocalNoSubscription(),i=e?S.default.getUserAppearancePreferencesForCurrentPlatformNoSubscription():{};return i&&i.recentsRowSize?i.recentsRowSize:t.recentsRowSize}static _intShowMenu(e,t,i,o,s){if(e.length>0){const a={anchor:i||(()=>{}),buttons:e,title:n.isUndefined(t)?h.getString("MobileRecentsFilter.ManageChats"):void 0};v.default.showWithActionMenuConfig({options:a,callback:e=>this._onHandleMenuCommand(e,o,i),maintainAnchor:!0,rootViewId:o,invokingEvent:s})}}static _sendEvent(e){g.track(new f.RecentConversationsFilterEvent(e))}static _markAllRead(e){const t=n.keys(c.default.getConversationsWithUnreadCounts());n.each(t,(t=>{const i=t;l.isHighlightsThread(i)===e&&r.markConversationRead(i)}))}static _getMenuItems(e){const t=[],i=n.isUndefined(e);if((0,u.default)().getArchivedConversations().length>0&&t.push({text:h.getString("MobileRecentsFilter.HiddenChats"),command:P}),i&&(t.push({text:h.getString("MobileRecentsFilter.Recent"),command:k}),t.push({text:h.getString("MobileRecentsFilter.Unread"),command:A}),t.push({text:h.getString("MobileRecentsFilter.Active"),command:I})),i||e===C.HubTab.Recents){const e=n.keys(c.default.getConversationsWithUnreadCounts());n.filter(e,(e=>!l.isHighlightsThread(e))).length>0&&t.push({text:h.getString("MobileRecentsFilter.MarkRead"),command:x});const i=L.shouldShowCategories()?"DesktopRecentsFilter.HideFavorites":"DesktopRecentsFilter.ShowFavorites";t.push({text:h.getString(i),command:M})}if(e===C.HubTab.Notifications&&o.default.hasUnreadAlerts(!0)&&t.push({text:h.getString("MobileRecentsFilter.MarkRead"),command:N}),i){let e;const i=this._getRecentsRowSizeNoSubscription();e=i===b.RowSize.Compact||i===b.RowSize.ExtraCompact?h.getString("MobileRecentsFilter.DisableCompactLayout"):h.getString("MobileRecentsFilter.EnableCompactLayout"),t.push({text:e,command:w})}return t}static _getTabMenuItems(e){const t=[];if(e===C.HubTab.Recents){const e=n.keys(c.default.getConversationsWithUnreadCounts());n.filter(e,(e=>!l.isHighlightsThread(e))).length>0&&t.push({text:h.getString("MobileRecentsFilter.MarkRead"),command:x})}return e===C.HubTab.Notifications&&o.default.hasUnreadAlerts(!0)&&t.push({text:h.getString("MobileRecentsFilter.MarkRead"),command:N}),t}static _getMenuItemAnnouncement(e){switch(e){case P:return h.getString("MobileRecentsFilter.HiddenChats");case k:return h.getString("MobileRecentsFilter.Recent");case A:return h.getString("MobileRecentsFilter.Unread");case I:return h.getString("MobileRecentsFilter.Active");case w:return h.getString("MobileRecentsFilter.CompactToggle");case x:case N:return h.getString("MobileRecentsFilter.MarkRead");case M:return L.shouldShowCategories()?"DesktopRecentsFilter.HideFavorites":"DesktopRecentsFilter.ShowFavorites"}}static showMarkAllReadConfirmationDialog(e){const t=[{text:h.getString("Global.CancelLabel"),isCancel:!0},{text:h.getString("MarkConversationsReadConfirmationDialog.MarkReadButtonTitle"),isSubmit:!0,onPress:()=>L.markAllConversationsRead()}],i=h.getString("MarkConversationsReadConfirmationDialog.DialogTitle"),n=h.getString("MarkConversationsReadConfirmationDialog.MarkReadDialogContent");s.default.showWithOptions({title:i,dialogAccessibilityTitle:n,message:n,buttons:t,rootViewId:e})}static test_getRecentsRowSize(){return this._getRecentsRowSize()}static test_getRecentsRowSizeNoSubscription(){return this._getRecentsRowSizeNoSubscription()}}L.shouldShowCategories=()=>{const e=p.default.getUserPreferencesLocal().recentsShowCategories;return void 0===e||e},L._onHandleMenuCommand=(e,t,i)=>{const n=void 0;switch(e){case P:L.showArchivedConversations();break;case k:L.sortByTime();break;case A:L.sortByUnread();break;case I:L.sortByActive();break;case w:const e=new _.RemoteUserAppearanceTelemetryEvent;e.setDidUpdateRecentsRowSize(),g.track(e);const i=L._getRecentsRowSizeNoSubscription();i===b.RowSize.Compact||i===b.RowSize.ExtraCompact?L.setRowSizeToDefault():L.setRowSizeToCompact();break;case x:L.showMarkAllReadConfirmationDialog(t);break;case N:o.default.markAllAsRead();break;case M:L.shouldShowCategories()?L.hideCategories():L.showCategories();case v.SXActionMenuCancel:}},t.default=L},692375:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useRootTouchEvents=t.RootTouchEventsHelper=t.TouchEventType=void 0;const n=i(667294);var o;!function(e){e[e.TouchStart=0]="TouchStart"}(o=t.TouchEventType||(t.TouchEventType={}));const s={[o.TouchStart]:new Set};class a{}a.handleTouchStart=e=>{s[o.TouchStart].forEach((t=>t(e)))},t.RootTouchEventsHelper=a;t.useRootTouchEvents=(e,t)=>{(0,n.useEffect)((()=>(s[e].add(t),()=>{s[e].delete(t)})),[t,e])}},848659:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(110117),a=i(915877),r=i(711828),l=(0,a.lazyProperties)({searchAccessoryIcon:()=>o.Styles.createViewStyle({height:40,width:40,borderRadius:20,padding:10}),searchAccessoryIconCompact:()=>o.Styles.createViewStyle({height:24,width:24,borderRadius:12,padding:4})});t.default=new class{searchAccessoryIcon(e,t,i){return(0,n.jsx)(s.default,{icon:e,color:t.primaryIconColor,size:i?r.IconSize.size16:r.IconSize.size20,style:i?l.searchAccessoryIconCompact:l.searchAccessoryIcon})}}},276347:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reloadAndJoinConversation=t.navigateToMeetNowJoinFlow=t.navigateToMeetNowCreateFlow=t.navigateToGroupConversation=t.navigateGuestToMeetNow=t.navigateTo1on1Conversation=t.navigateToConversation=void 0;const n=i(397691),o=i(889391),s=i(905531),a=i(422801),r=i(476621),l=i(61375),c=i(581697),d=i(671830),u=i(898278),g=i(400984),h=i(539549),p=i(746096),S=i(454360),m=i(436237),C=i(377478),y=i(674465),f=i(494109),b=i(164723),_=i(865788),v=i(536699),T=i(18078),P=i(104735),k=i(422538),A=i(853374),I=i(212547),w=i(844285),x=i(893974),N=i(5470),M=i(952262),L=i(818882);function O(e,t,i,n){const o=A.default.newCauseId();if(m.log(p.LogTraceArea.Navigation,"UrlConverter._navigateTo1on1Conversation, causeId: "+o),!e||!d.isValidNamespaceMri(e)||T.default.isMyMri(e))return;const s=(0,h.default)(),a=s.getConversation(e),l=s.ableToViewConversation(e)&&a&&!a.isDeleted();!d.isAgent(e)||g.default.isContact(e)&&l?r.default.ensureConversationLoadedOrFaked(e).then((()=>{P.default.navigateToConversation({convId:e,origin:t,browserOrigin:i,causeId:o,inviteLinkScenario:n})})):P.default.showDetailsPanelWithParams({mri:e,rootViewId:u.MainRootViewId,causeId:o})}function D(e){const t=e.convId;if(!t)return;const i=A.default.newCauseId();m.log(p.LogTraceArea.Navigation,"UrlConverter._navigateGuestToMeetNow, causeId: "+i),F(t),e.call?C.default.navigateToMeetNowCall(e,i):N.default.navigateToMeetNowLobby(u.MainRootViewId,e),function(e,t,i){c.default.waitForConversationListSyncToFinish().then((()=>{const n=(0,h.default)();if(!n.ableToViewConversation(e)){m.warn(p.LogTraceArea.Navigation,`UrlConverter._guestNavigateToMeetNowPanel: guest user is not part of the conversation causeId: ${t}`),f.default.redirectToLogout(p.LogoutReason.GuestSessionEnded);const o=n.getConversation(e),s=(0,I.getMeetNowErrorFromConversation)(o);m.track(new _.MeetNowErrorEvent(i,s))}}))}(t,i,e)}function R(e,t,i,c,g){if(!e||!d.isValidNamespaceMri(e))return;const C=A.default.newCauseId(),v=(0,h.default)(),P={convId:e,origin:t,causeId:C,browserOrigin:i,scenario:c,options:g};m.log(p.LogTraceArea.Navigation,"UrlConverter._navigateToGroupConversation, causeId: "+C),v.ableToViewConversation(e)?V(Object.assign(Object.assign({},P),{existingMember:!0})):(w.MeetNowHelpers.showMeetNowFullScreenLoadingDialog(u.MainRootViewId),function(e,t,i,n){return new Promise(((o,r)=>{k.EnsureStarted([a.default]).then((()=>(n&&n.markStepCompleted("AddMemberToThread"),a.default.serviceAddMemberToThread(e,T.default.getSkypeMri(),l.AddMemberToThreadSource.JoiningConversation,!1)))).then((()=>o())).catch((n=>{y.default.trackAddMemberToThreadError(e,n,t,i),s.default.navigation().canAccessRecentsList||f.default.redirectToLogout(p.LogoutReason.GuestSessionEnded),r(Object.assign(Object.assign({},n),{meetNowError:b.MeetNowError.CannotAddUserToTheThread}))}))}))}(e,t,i,c).then((()=>(F(e),function(e,t,i){return new Promise(((s,a)=>{const l=o.default.getS4LCMCFeaturesNoSubscription().waitJoinKnowledgeTimeoutMs;n.raceTimer(r.default.waitForJoinedKnowledgeOfRealConversation(e),l).then((n=>{n.timedOut?(y.default.trackWaitForJoinedKnowledgeTimedOut(l,e,t,i),a({meetNowError:b.MeetNowError.WaitForConversationKnownTimedOut})):s()})).catch((()=>{a({meetNowError:b.MeetNowError.WaitForJoinedKnowledgeFailed})}))}))}(e,t,i).then((()=>v.ableToViewConversation(e)?V(Object.assign(Object.assign({},P),{existingMember:!1})):n.Rejected({meetNowError:b.MeetNowError.UserUnableToViewConversation})))))).catch((n=>{const o=v.getConversation(e),s=n.meetNowError===b.MeetNowError.WaitForConversationKnownTimedOut;let a;if(m.warn(p.LogTraceArea.Navigation,`UrlConverter._navigateToGroupConversation failed: MeetNowError: ${n.meetNowError} is conversation defined: ${!!o} timeout: ${s} isBlocked: ${v.isConversationBlocked(o)} causeId: ${C} `),g){const e=n.meetNowError||(0,I.getMeetNowErrorFromConversation)(o);m.track(new _.MeetNowErrorEvent(g,e,(null==n?void 0:n.errorCode)||(null==n?void 0:n.statusCode)))}s&&(a=()=>R(e,t,i,c,g)),(0,I.showJoinConversationFailedAlert)(Object.assign(Object.assign({},n),{retryAction:a}))})).finally((()=>{S.FullScreenLoadingDialog.dismiss(S.getFullScreenLoadingDialog,u.MainRootViewId)})))}function E(e,t){m.track(new _.MeetNowRepeatedGuestLoginEvent(x.default.getPartnerParametersFromUri(e))),f.default.redirectToLogout(p.LogoutReason.GuestSessionEnded).then((()=>{L.LocalStorage.setItem(L.StorageKeys.StartupUrl,JSON.stringify(j(e+"&threadId="+t)))}))}function B(e){m.track(new _.MeetNowRepeatedGuestLoginEvent(x.default.getPartnerParametersFromUri(e))),f.default.redirectToLogout(p.LogoutReason.GuestSessionEnded).then((()=>{L.LocalStorage.setItem(L.StorageKeys.StartupUrl,JSON.stringify(j(e)))}))}function F(e){k.EnsureStarted([c.default]).then((()=>{c.default.prioritizeMeetNowThreadDetails(e)}))}function V(e){const{convId:t,existingMember:i,origin:n,causeId:o,browserOrigin:s,scenario:a,options:r}=e,l=(null==r?void 0:r.env)===b.MeetNowSource.EdgeWorkspace;return(null==r?void 0:r.chat)?P.default.navigateToConversation({convId:t,causeId:o,origin:p.NavigationConversationOrigin.EdgeWorkspace,hideBackButton:l}):(v.default.trackUserIsConversationParticipant(t),C.default.navigateToGroupConversationAndJoinCall(t,i,n,o,s,a,r))}function U(){return d.isGuestUserMri(T.default.getSkypeMri())}function j(e){const t=M.default.getDisplayName(T.default.getSkypeMri());return e+(t&&!t.startsWith(d.GuestUserMriPrefix)?`&name=${t}`:"")}t.navigateToConversation=function(e,t,i,n,o){e&&(d.isGroupConversation(e)?R(d.asSkypeThreadId(e),t,i,n,o):O(e,t,i,n))},t.navigateTo1on1Conversation=O,t.navigateGuestToMeetNow=D,t.navigateToGroupConversation=R,t.navigateToMeetNowCreateFlow=function(e){const t=x.default.getPartnerParametersFromUri(e);m.track(new _.MeetNowDeeplinkProcessedEvent(t)),U()?t.convId?D(t):B(e):w.MeetNowHelpers.showNewMeetNow(b.MeetNowOrigin.CampaignDeeplink,t)},t.navigateToMeetNowJoinFlow=function(e){const t=T.default.isUserLoggedIn(),i=U(),n=x.default.getPartnerParametersFromUri(e);if(i&&n.convId)m.track(new _.MeetNowDeeplinkProcessedEvent(n)),D(n);else{const o=t=>{E(e,t)},s=()=>{B(e)};i||m.track(new _.MeetNowDeeplinkProcessedEvent(n)),N.default.navigateToMeetNowJoinLinkPanel(t,n,i?o:void 0,i?s:void 0)}},t.reloadAndJoinConversation=E},212547:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getMeetNowErrorFromConversation=t.showJoinConversationFailedAlert=void 0;const n=i(219784),o=i(898278),s=i(733754),a=i(257538),r=i(539549);t.showJoinConversationFailedAlert=function(e){const t=s.getString("UrlConverter.JoinConversationFailedTitle");let i=s.getString("UrlConverter.JoinConversationFailedGenericMessage");const a=[{text:s.getString("Global.OkLabel"),isSubmit:!0}];if(e)if(void 0!==e.statusCode)switch(e.statusCode){case 403:i=s.getString("UrlConverter.JoinConversationFailedJoinDisabledMessage");break;case 404:i=s.getString("UrlConverter.JoinConversationFailedThreadNotFoundMessage");break;case 412:i=s.getString("UrlConverter.JoinConversationFailedTooManyMembersMessage")}else e.retryAction&&a.unshift({text:s.getString("ConfirmationDialog.RetryLabel"),onPress:e.retryAction});n.default.showWithOptions({title:t,message:i,dialogAccessibilityTitle:i,rootViewId:o.MainRootViewId,buttons:a})},t.getMeetNowErrorFromConversation=function(e){let t=a.MeetNowError.Unknown;return e?e.isCurrentUserMember()?(0,r.default)().isConversationBlocked(e)&&(t=a.MeetNowError.ConversationIsBlocked):t=a.MeetNowError.UserIsNotAMember:t=a.MeetNowError.ConversationIsUndefined,t}},542561:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getConfigConfirmationDialog=void 0;const n=i(496486),o=i(593705),s=i(733754),a=i(436237),r=i(592487),l=i(49140),c=i(104735),d=i(217093),u=i(403486),g=i(471502),h=i(404057),p=i(366355);function S(e,t){const i=e?r.PhoneDiscoverabilityDialogCommand.RejectOutside:r.PhoneDiscoverabilityDialogCommand.Reject;a.track(new r.PhoneDiscoverabilityEvent({origin:l.PhoneDiscoverabilityOrigin.DeepLink,userPhonesCount:null==t?void 0:t.Value.length,command:i}))}t.getConfigConfirmationDialog=function(e,t){const i=n.find(e,(e=>e.Name===o.AttributeNames.PersonalContactProfilePhones));if(n.isEmpty(null==i?void 0:i.Value)||!i)return{dialogConfigs:{dialogTitle:s.getString("UrlConverter.EnablePhoneDiscoverableNoPhoneTitle"),dialogContentText:s.getString("UrlConverter.EnablePhoneDiscoverableNoPhoneContentText"),confirmButtonText:s.getString("UrlConverter.EnablePhoneDiscoverableNoPhoneButtonText")},actionAfterConfirmation:()=>{a.track(new r.PhoneDiscoverabilityEvent({origin:l.PhoneDiscoverabilityOrigin.DeepLink,userPhonesCount:0,command:r.PhoneDiscoverabilityDialogCommand.Confirm})),c.default.navigateToSettingsGroup(d.SettingsGroup.Contacts,t)},actionAfterCancel:()=>{S(!1)},onClickOutside:()=>{S(!0)}};if(i.Value.length>1)return{dialogConfigs:{dialogTitle:s.getString("UrlConverter.EnablePhoneDiscoverableManyPhonesTitle"),dialogContentText:s.getString("UrlConverter.EnablePhoneDiscoverableManyPhonesContentText"),confirmButtonText:s.getString("UrlConverter.EnablePhoneDiscoverableManyPhonesButtonText")},actionAfterConfirmation:()=>{a.track(new r.PhoneDiscoverabilityEvent({origin:l.PhoneDiscoverabilityOrigin.DeepLink,userPhonesCount:null==i?void 0:i.Value.length,command:r.PhoneDiscoverabilityDialogCommand.Confirm})),c.default.navigateToSettingsGroup(d.SettingsGroup.Contacts,t)},actionAfterCancel:()=>{S(!1,i)},onClickOutside:()=>{S(!0,i)}};{const e=i.Value[0],t=u.default.getPhonePartsFromViewValue(e);return{dialogConfigs:{dialogTitle:s.getString("UrlConverter.EnablePhoneDiscoverableOnePhoneTitle"),dialogContentText:s.getString("UrlConverter.EnablePhoneDiscoverableOnePhoneContentText",{phoneNumber:t.Number}),confirmButtonText:s.getString("UrlConverter.EnablePhoneDiscoverableOnePhoneButtonText")},actionAfterConfirmation:()=>{a.track(new r.PhoneDiscoverabilityEvent({origin:l.PhoneDiscoverabilityOrigin.DeepLink,userPhonesCount:null==i?void 0:i.Value.length,command:r.PhoneDiscoverabilityDialogCommand.Confirm})),g.default.showPhoneNumberInSearch(t,null==e?void 0:e.Source).then((()=>{a.track(new l.PhoneNumberDiscoverabilityPrivacyEvent(!0,l.PhoneDiscoverabilityOrigin.DeepLink))})).catch((e=>{a.track(new l.PhoneNumberDiscoverabilityPrivacyEvent(void 0,l.PhoneDiscoverabilityOrigin.DeepLink,{errorStatusCode:null==e?void 0:e.code,errorMessage:h.default.errorAsString(e)})),a.log(p.LogTraceArea.ManageSearchInfo,"Service error while trying to enable phone number for discoverability. Error: "+h.default.errorAsString(e))}))},actionAfterCancel:()=>{S(!1,i)},onClickOutside:()=>{S(!0,i)}}}}},800637:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleQuickActionPayload=t.handleActionPayload=void 0;const n=i(496486),o=i(397691),s=i(746096),a=i(898278),r=i(478262),l=i(233244),c=i(104735),d=i(217093),u=i(47447),g=i(853374),h=i(733754),p=i(219784),S=i(458666),m=i(72822),C=i(731761),y=i(210541),f=i(651587),b=i(640363),_=i(248663),v=i(671830),T=i(82433),P=i(18078),k=i(497174),A=i(882261),I=i(785207),w=i(276347),x=i(510610),N=i(951267),M=i(614980),L=i(198447),O=i(795691),D=i(797822),R=i(889391),E=i(76567),B=i(758962),F=i(581736),V=i(993924),U=i(321444),j=i(330124),H=i(281020),W=i(400984),z=i(942808),G=i(279829),K=i(436237),q=i(844285),Q=i(257538),X=i(471502),J=i(542561),$=i(592487),Y=i(593486),Z=i(46929),ee=i(49140),te=i(760213),ie=i(379467),ne=i(809343),oe=i(843368),se=(i(540897),i(725465),i(364956)),ae=i(953143),re=i(711828),le=i(626712),ce=i(650737),de=i(423175),ue=i(588485),ge=i(383290),he=i(752869),pe=i(871664),Se=i(46634),me=i(649197),Ce=i(480707),ye=i(589079),fe=i(70825),be=["call","chat","settings","openapp","generalsettings","notificationssettings","choosecolor","chooseprofilepic","newgroupcall","closeexternalbrowser","engagementsharecontent","backgroundexecution","meetnow","meetnowjoin","callerid","opentab","todayinterests","sendcredit","dialpad","openconversation",ue.MAGIC_BOT_WAIT_LIST_ACTION,ue.MAGIC_BOT_WELCOME_ACTION,me.DeepLink.Store,me.DeepLink.Manage,me.DeepLink.ChannelsTab,ye.DeepLink.MagicBotToolbox],_e="prefilledNumber";function ve(e){if(e.queryParameterKeyValues){const t=e.queryParameterKeyValues.source,i=e.queryParameterKeyValues.caller;t&&"skypebridge"===t&&K.track(new te.SystemTrayEvent(i))}}function Te(e){switch(e){case s.BrowserOrigin.LinkNode:return ne.AddinOrigin.LinkNode;case s.BrowserOrigin.FindPanel:return ne.AddinOrigin.FindPanel;case s.BrowserOrigin.PopCard:return ne.AddinOrigin.PopCard;case s.BrowserOrigin.SwiftActionView:return ne.AddinOrigin.SwiftActionView;case s.BrowserOrigin.SwiftQuickReplyView:return ne.AddinOrigin.SwiftQuickReplyView;case s.BrowserOrigin.LinkerUtil:return ne.AddinOrigin.LinkerUtil;case s.BrowserOrigin.AdaptiveCard:return ne.AddinOrigin.AdaptiveCard;default:return ne.AddinOrigin.DeepLinkRequest}}function Pe(e,t,i,n){if(!e.queryParameterKeyValues)return;let o;const s=e.queryParameterKeyValues.toSkypeId;s&&v.isSkypeId(s)&&(o=v.skypeIdToMri(v.asSkypeId(s)),j.default.isUsingStackNavigationContext()?(0,w.navigateToConversation)(o,i,n):(0,w.navigateTo1on1Conversation)(o,i,n));const r=decodeURIComponent(e.queryParameterKeyValues.query);oe.default.openInSearchMode(t,r,a.MainRootViewId)}t.handleActionPayload=function(e,t,i,te,ne,oe=!1,ce,ke,Ae){var Ie,we,xe;const Ne=t.queryParameterKeyValues.action;if((oe||function(e){switch(e){case s.BrowserOrigin.AuthActionLink:case s.BrowserOrigin.AudioVideoSettings:case s.BrowserOrigin.LinkNode:case s.BrowserOrigin.BotSettings:case s.BrowserOrigin.ConsentModal:case s.BrowserOrigin.SuggestionsLearnMore:case s.BrowserOrigin.NotebookLink:case s.BrowserOrigin.DeepLinkRequest:case s.BrowserOrigin.SyncAddressBookDialogPrivacyStatement:case s.BrowserOrigin.SwiftActionView:case s.BrowserOrigin.LinkerUtil:case s.BrowserOrigin.AdaptiveCard:case s.BrowserOrigin.ConnectorProfile:case s.BrowserOrigin.CreditExpiration:case s.BrowserOrigin.SuggestionsConsentLearnMore:case s.BrowserOrigin.ReadReceiptsSettingsDescription:case s.BrowserOrigin.NetworkConnectionAlert:case s.BrowserOrigin.FileSharingLimits:case s.BrowserOrigin.PrivacyProfile:case s.BrowserOrigin.PeopleYouMayKnowNoticeDialog:case s.BrowserOrigin.SubscriptionDataSection:case s.BrowserOrigin.MeProfile:case s.BrowserOrigin.MeControl:case s.BrowserOrigin.HotkeysSettingsDescription:case s.BrowserOrigin.GuestUpsellPanel:case s.BrowserOrigin.TelemetryConsentSettingsDescription:case s.BrowserOrigin.TelemetryConsentDialog:return!0;case s.BrowserOrigin.AddinMenu:case s.BrowserOrigin.CloseAccount:case s.BrowserOrigin.EngagementNotice:case s.BrowserOrigin.FindPanel:case s.BrowserOrigin.JoinLink:case s.BrowserOrigin.LocationNode:case s.BrowserOrigin.Moji:case s.BrowserOrigin.Plugins:case s.BrowserOrigin.PopCard:case s.BrowserOrigin.SearchSuggestionsSettings:case s.BrowserOrigin.SwiftQuickReplyView:case s.BrowserOrigin.TPUMRequest:case s.BrowserOrigin.WebLauncher:case s.BrowserOrigin.UserProfileOnboarding:case s.BrowserOrigin.CallPanel:case s.BrowserOrigin.EmptyStateCTA:case s.BrowserOrigin.PurchaseRedirect:case s.BrowserOrigin.AgeGroupRestrictions:case s.BrowserOrigin.BingBackgroundReplaceImage:case s.BrowserOrigin.AttributionNode:case s.BrowserOrigin.TodayTabNewsArticle:case s.BrowserOrigin.MiniApp:case void 0:return!1;default:return g.default.switchStatementExhaustiveChecking(e,"Unknown browserOrigin"),!0}}(ce))&&!n.includes(be,Ne))return o.Resolved(void 0);let Me=n.noop,Le=l.Intent.Other;switch(Ne){case me.DeepLink.ChannelsTab:case me.DeepLink.Store:case me.DeepLink.Manage:Me=()=>(0,Ce.handleDeepLink)(te,Ne);break;case ue.MAGIC_BOT_WAIT_LIST_ACTION:Me=()=>{pe.default.addUserToWaitlist(),K.track(new he.MagicBotWaitListClicked)};break;case ue.MAGIC_BOT_WELCOME_ACTION:Me=()=>{pe.default.giveConsent(),K.track(new he.MagicBotConsentGivenOnWelcome),Se.default.updateLocationWithPermission(s.LocationUpdateReason.Bing),c.default.navigateToConversation({convId:(0,ge.getMagicBotId)(),causeId:g.default.newCauseId()})};break;case ue.MAGIC_BOT_CONSENT_ACTION:Me=()=>{pe.default.giveConsent(),Se.default.updateLocationWithPermission(s.LocationUpdateReason.Bing),K.track(new he.MagicBotConsentGivenOnSendAttempt)};break;case ue.MAGIC_BOT_CONSENT_NAV_ACTION:Me=()=>{pe.default.giveConsent(),K.track(new he.MagicBotConsentGivenOnSendAttempt),Se.default.updateLocationWithPermission(s.LocationUpdateReason.Bing),c.default.navigateToConversation({convId:(0,ge.getMagicBotId)(),causeId:g.default.newCauseId()})};break;case ye.DeepLink.MagicBotToolbox:Me=()=>(0,fe.handleDeepLinks)(te,Ne);break;case"changeprofilevisibility":Me=()=>c.default.navigateToProfilePicturePanel(te);break;case"settings":Me=()=>c.default.navigateToMyProfile(te,s.ProfileOpenOrigin.DeepLink);break;case"openapp":Me=()=>c.default.navigateToDesktopRecents(ne),ve(t);break;case"generalsettings":Me=()=>c.default.navigateToSettingsGroup(d.SettingsGroup.General,te),ve(t);break;case"privacysettings":Me=()=>c.default.navigateToSettingsGroup(d.SettingsGroup.Privacy,a.MainRootViewId);break;case"avsettings":Me=function(e,t){return u.UICapabilities.avSettingsSupported()?(ve(e),()=>c.default.navigateToRootDesktopSettingsGroup(d.SettingsGroup.AudioVideoSettings,t,g.default.newCauseId())):n.noop}(t,te);break;case"notificationssettings":Me=()=>c.default.navigateToSettingsGroup(d.SettingsGroup.Notifications,te);break;case"messagingsettings":Me=()=>c.default.navigateToSettingsGroup(d.SettingsGroup.Chat,te);break;case"languagesettings":const o=t.queryParameterKeyValues.lang;if(o&&h.isLocaleSupported(o)){const e=h.getStringUnsafe(`SettingsLanguages.${o}`);p.default.showConfirmationAlert(h.getString("LanguagePickerAlert.ConfirmationTitle"),h.getString("LanguagePickerAlert.ConfirmationMessage",{language:e}),h.getString("LanguagePickerAlert.ConfirmationButton"),S.setLocale.bind(o),a.MainRootViewId),Me=n.noop}else Me=()=>c.default.navigateToLanguagePicker(!1,te);break;case"choosecolor":Me=()=>c.default.navigateToSettingsGroup(d.SettingsGroup.ThemeSettings,te);break;case"sendcredit":const{skypeToPhoneEnabled:oe}=R.default.dangerouslyGetS4LCommerceFeatures().sendCredit;oe?(Me=()=>c.default.navigateToSendCreditSearchPeople(te),K.track(new de.SendCreditEvent(de.SendCreditStep.Deeplink))):Me=n.noop;break;case"chooseprofilepic":Me=()=>c.default.navigateToAvatarPickerWithParams({hideSkipButton:!0,origin:m.DialogNavOrigin.PopCard,useCommonAvatarPicker:!1},te);break;case"playvideo":const be=t.queryParameterKeyValues.data;if(be){const e=decodeURIComponent(be);Me=()=>function(e,t=""){const i={mediaType:ie.VideoViewer.MediaType,thumbnailUrl:t,videoUrl:e};c.default.navigateToMediaViewerPanel({initialMedia:i,controller:{getOptions:()=>({})},totalMedia:1,onClose:()=>{const e=g.default.newCauseId();K.log(s.LogTraceArea.Navigation,"UrlConverter._navigateToPlayVideoFullScreen onClose, causeId:"+e),c.default.navigateBack(e,void 0)}})}(e)}else Me=n.noop;break;case"discoverbots":case"editphoto":Me=n.noop;break;case"newgroup":Me=()=>{new C.default({peopleType:y.PeopleType.All,filterPeopleType:y.FilterType.GroupCapable,navigationOrigin:i}).start(a.MainRootViewId)};break;case"newgroupcall":Me=()=>c.default.navigateToQuickCallPanelWithParams({newGroup:!0,causeId:ne},te);break;case"rating":Me=()=>f.openAppStore();break;case"personalizedoffers":const Oe=t.queryParameterKeyValues.offerType;if(Oe){if(b.default.getPlatformType()===s.PlatformType.iOS&&"calling"===Oe){Me=n.noop;break}{const e=t.queryParameterKeyValues.campaign;Me=()=>c.default.navigateToPurchaseContinuationPanel(Oe,e,te)}}else Me=n.noop;break;case"balancestate":Me=()=>c.default.navigateToBalanceStatePanel("Deeplink.navigateBalanceState",te);break;case"closeexternalbrowser":_.default.dismiss(),Me=n.noop;break;case"sendemoticon":if(!t.skypeParticipants||n.includes(t.skypeParticipants,";")||!t.queryParameterKeyValues||!t.queryParameterKeyValues.emoticon){Me=n.noop;break}const De=v.sanitizeMri(t.skypeParticipants,v.Namespaces.SkypeId),Re="("+t.queryParameterKeyValues.emoticon+")",Ee=T.default.getEmoticonByShortcut(Re);if(P.default.isMyMri(De)||!Ee){Me=n.noop;break}const Be=new k.EmoticonEntity(Re,Ee.id,Ee.tone),Fe=A.createMessageInfo(De,s.PostSource.DeepLink,[Be]);I.default.postMessage(Fe),Me=()=>(0,w.navigateToConversation)(De,i,ce),Le=l.Intent.Chat;break;case"notifications":Me=()=>c.default.navigateToAlertsHub();break;case"recents":Me=()=>c.default.navigateToRecentsTab(),Le=l.Intent.Recents;break;case"creditexpiration":Me=()=>x.default.show();break;case"capture":switch(t.queryParameterKeyValues.mode){case"selfie":N.default.setCameraMode(N.CameraMode.Front);break;case"rear":N.default.setCameraMode(N.CameraMode.Back)}Me=()=>M.navigateToCaptureComboWithParams({capturedContentHandler:new L.CapturedContentHandlerForSharing,allowVideo:!0,willDismissOnSend:!0,mediaPickerShouldCollapseFully:!0},void 0);break;case"calls":Le=l.Intent.Dialpad,Me=()=>{c.default.navigateToQuickCallPanel(ne,te);const e=t.queryParameterKeyValues.dialpad;e&&"true"===e&&c.default.navigateToPSTNDialerWithParams({causeId:ne,navigationSource:s.DialerNavigationSource.DeepLink},te)};break;case"supercomposer":Me=()=>{new C.default({creating1on1Conversation:!0,useSuperComposerFor1on1Conversation:!0,peopleType:y.PeopleType.All,filterPeopleType:y.FilterType.None,isSingleContactSelect:!0,navigationOrigin:s.NavigationConversationOrigin.DeepLink,wizardSteps:[O.WizardSteps.setConvParticipants]}).start(a.MainRootViewId)};break;case"verifyphone":Me=()=>{(0,D.startPhoneNumberVerification)(a.MainRootViewId)};break;case"callerid":Me=()=>{if(R.default.getS4LCommerceFeatures().callingSettingsPanel.callerId.enabled)return c.default.navigateToCallerIdSettingsPanel(te,ne)};break;case"synccontacts":Me=()=>c.default.navigateToSyncAddressBook({origin:m.DialogNavOrigin.DeepLink,hideSkipButton:!0},void 0,te);break;case"addin":if(!t.queryParameterKeyValues){Me=n.noop;break}const Ve=t.queryParameterKeyValues.id;if(!Ve){Me=n.noop;break}Me=()=>E.default.AddinNavigationActions.navigateToAddin({integrationCorrelationId:Ve,origin:Te(ce),conversationId:ke,url:e,onClose:Ae,isLaunch:!0});break;case"pesgifsearch":Me=()=>{Pe(t,B.TabType.Gif,i,ce)};break;case"pesmojisearch":Me=()=>{Pe(t,B.TabType.Moji,i,ce)};break;case"pesstickersearch":Me=()=>{Pe(t,B.TabType.ChatSticker,i,ce)};break;case"pesemojisearch":Me=()=>{Pe(t,B.TabType.Emoticon,i,ce)};break;case"captureavatar":Me=()=>{const e={hideSkipButton:!0,origin:m.DialogNavOrigin.DeepLink,showCaptureViewFirst:!0,useCommonAvatarPicker:!1};F.default.permissionStatus(r.PermissionType.CameraRoll)===V.PermissionStatus.Unknown?F.default.requestPermission(r.PermissionType.CameraRoll,r.PermissionPromptOptions.SkipPrePrompt).then((()=>{F.default.permissionStatus(r.PermissionType.Camera)===V.PermissionStatus.Unknown&&F.default.requestPermission(r.PermissionType.Camera,r.PermissionPromptOptions.SkipPrePrompt)})).finally((()=>{c.default.navigateToAvatarPickerWithParams(e,te)})):c.default.navigateToAvatarPickerWithParams(e,te)};break;case"engagementsharecontent":if(!R.default.getEngagementFeatures().engagementShareableContent.enabled||!t.queryParameterKeyValues){Me=n.noop;break}const Ue=t.queryParameterKeyValues.campaignId,je="true"===t.queryParameterKeyValues.shareButton,He="true"===t.queryParameterKeyValues.reshare,We=t.queryParameterKeyValues.title;c.default.navigateAfterUIStarted((()=>{const e=We?decodeURIComponent(We):void 0;U.default.shareEngagementContent(Ue,je,e,He)})),Me=n.noop;break;case"sharecontacts":if(!t.queryParameterKeyValues){Me=n.noop;break}const ze=t.queryParameterKeyValues.toSkypeId;if(!ze||!v.isSkypeId(ze)){Me=n.noop;break}const Ge=v.skypeIdToMri(v.asSkypeId(ze));Me=()=>{c.default.navigateAfterUIStarted((()=>{j.default.isUsingStackNavigationContext()||(0,w.navigateTo1on1Conversation)(Ge,i,ce),c.default.navigateToShareContactsToConversationPanel({panelTitle:h.getString("DetailsPanelHeader.ShareContactToConversationTitle"),causeId:ne,entryPoint:H.ShareContactOrigin.Deeplink,userMrisToExclude:[Ge],conversationId:Ge},a.MainRootViewId)}))};break;case"scheduleCall":const Ke=le.default.getParticipantMrisFromUrl(t.skypeParticipants,!1),qe=n.first(Ke);if(1!==Ke.length||!qe||!W.default.isContact(qe)){Me=n.noop;break}const Qe=t.queryParameterKeyValues&&t.queryParameterKeyValues.startDateTime?parseInt(t.queryParameterKeyValues.startDateTime,10):void 0,Xe=t.queryParameterKeyValues?t.queryParameterKeyValues.subject:void 0;Me=()=>{z.default.navigateToScheduleCallCreationPanel({conversationId:qe,entryPoint:G.ScheduleCallEntryPoint.Deeplink,dateTimeMs:!Qe||n.isNaN(Qe)?void 0:Qe,subject:Xe},te)};break;case"backgroundexecution":Me=()=>{F.default.requestPermission(r.PermissionType.BackgroundExecution,r.PermissionPromptOptions.SkipPrePrompt|r.PermissionPromptOptions.PromptAgainIfDenied).then((e=>{const t=se.default.getDeniedPrompt(r.PermissionType.BackgroundExecution);if(e===V.PermissionStatus.Denied&&t){const e=1e4;ae.default.addNotificationToast({notificationText:t,icon:re.SkypeIcon.Warning,timeout:e},a.MainRootViewId)}K.log(s.LogTraceArea.Navigation,"navigateToRequestBackgroundExecutionPrompt: "+V.PermissionStatus[e])}))};break;case"bookmarks":Me=()=>{const e=g.default.newCauseId();K.log(s.LogTraceArea.Navigation,"Opening bookmarks browser from deeplink. causeId: "+e),c.default.navigateToConversation({convId:v.BookmarksThreadId,origin:s.NavigationConversationOrigin.DeepLink,causeId:e})};break;case"meetnow":q.MeetNowHelpers.showMeetNowFullScreenLoadingDialog(),Me=()=>{(0,w.navigateToMeetNowCreateFlow)(e)};break;case"meetnowcampaign":Me=()=>{q.MeetNowHelpers.showNewMeetNow(Q.MeetNowOrigin.CampaignDeeplink,{origin:Q.MeetNowOrigin.CreatorPanel})};break;case"meetnowjoin":Me=()=>{(0,w.navigateToMeetNowJoinFlow)(e)};break;case"enablephonenumber":X.default.getProfile().then((e=>{var t;const i=null===(t=e.Views[0])||void 0===t?void 0:t.Attributes;let o,s=n.noop,r=n.noop,l=n.noop;if(!i)return;({actionAfterConfirmation:s,dialogConfigs:o,actionAfterCancel:r,onClickOutside:l}=J.getConfigConfirmationDialog(i,te));const{dialogTitle:c,dialogContentText:d,confirmButtonText:u}=o;p.default.showConfirmationAlert(c,d,u,s,a.MainRootViewId,void 0,void 0,r,l),K.track(new $.PhoneDiscoverabilityEvent({command:$.PhoneDiscoverabilityDialogCommand.OpenConfirmation}))})),Me=n.noop;break;case"telemetryoptin":if(Me=n.noop,Y.default.isChild())break;const Je=null===(Ie=t.queryParameterKeyValues)||void 0===Ie?void 0:Ie.optedin;if("true"===Je){Z.default.setOptionalTelemetryPreferences({enabled:!0,onboardingCompleted:!0}),K.track(new ee.SendFullTelemetryEvent(!0,ee.SendFullTelemetryOrigin.DeepLink));const e=h.getString("UrlConverter.EnableOptionalTelemetryOptinThankYouMessage");p.default.showCloseAlertWithOptions({dialogAccessibilityTitle:e,title:e,rootViewId:te})}else"false"===Je&&(Z.default.setOptionalTelemetryPreferences({enabled:!1,onboardingCompleted:!0}),K.track(new ee.SendFullTelemetryEvent(!1,ee.SendFullTelemetryOrigin.DeepLink)));break;case"opentab":"today"===(null===(we=t.queryParameterKeyValues)||void 0===we?void 0:we.tabname)?(Me=()=>c.default.navigateToTodayTab(),Le=l.Intent.Today):Me=n.noop;break;case"openconversation":const $e=null===(xe=t.queryParameterKeyValues)||void 0===xe?void 0:xe.convid;if(R.default.getS4LMessagingFeaturesNoSubscription().openLinkWithEdgeSidebar&&$e){const e=v.sanitizeMri($e,v.Namespaces.SkypeId);if(!e){Me=n.noop,K.error(s.LogTraceArea.Navigation,`[ActionLinkHandlers][handleActionPayload][${ne}] failed: skypeMri is null [action:openconversation]`);break}if(!v.isGroupConversation(e)){if(!(v.isValidNamespaceMri(e)&&!P.default.isMyMri(e))){Me=n.noop,K.error(s.LogTraceArea.Navigation,`[ActionLinkHandlers][handleActionPayload][${ne}] failed: skypeMri is invalid one one conversation [action:openconversation]`);break}}Me=()=>{var n;c.default.navigateToConversation({convId:e,origin:i,browserOrigin:ce,causeId:ne}),K.track(new $.OpenDeepLinkEvent(t,void 0,i,ce,void 0,null===(n=t.queryParameterKeyValues)||void 0===n?void 0:n.action))}}break;case"dialpad":R.default.getS4LCMCFeaturesNoSubscription().enableDialpadDeeplink&&(Le=l.Intent.Dialpad,Me=()=>{var e,n;const o=null===(e=t.queryParameterKeyValues)||void 0===e?void 0:e[_e];c.default.navigateToPSTNDialerWithParams({causeId:ne,navigationSource:s.DialerNavigationSource.EdgeTelLink,prefilledNumber:o&&/^\d+$/.test(o)?o:void 0},te),K.track(new $.OpenDeepLinkEvent(t,void 0,i,ce,void 0,null===(n=t.queryParameterKeyValues)||void 0===n?void 0:n.action));try{window.location.href.includes(_e)&&window.history.pushState({},"",window.location.origin)}catch(e){K.error(s.LogTraceArea.Navigation,`[ActionLinkHandlers][handleActionPayload][${ne}] failed: ${null==e?void 0:e.message} [action:dialpad]`)}});break;case"todayinterests":Me=()=>{j.default.isUsingStackNavigationContext()?c.default.navigateToTodayTab({openInterestsManagerOnLoad:!0}):(c.default.navigateToTodayTab({openInterestsManagerOnLoad:!1}),c.default.navigateToTodayTabInterestsPanel(te))},Le=l.Intent.Today;break;default:Me=n.noop}return o.Resolved({intent:Le,action:Me})},t.handleQuickActionPayload=function(e,t){let i=n.noop,r=l.Intent.Other;if(e.queryParameterKeyValues){const n=e.queryParameterKeyValues.quickaction;[r,i]=function(e,t,i,n){const o=g.default.newCauseId();switch(K.log(s.LogTraceArea.Navigation,"UrlConverter._quickActionsProtocolLaunch, causeId:"+o),K.track(new ce.QuickActionsEvent(e)),e){case"presence":n=()=>c.default.navigateToMeControl(t,o);break;case"call":n=()=>{c.default.navigateToQuickCallPanelWithParams({causeId:o,newGroup:!0},t)};break;case"dialpad":i=l.Intent.Dialpad,n=()=>{c.default.navigateToPSTNDialerWithParams({causeId:o,navigationSource:s.DialerNavigationSource.DeepLink},t)};break;case"recents":i=l.Intent.Recents,n=()=>c.default.navigateToRecentsTab();break;case"chat":n=()=>{new C.default({creating1on1Conversation:!0,peopleType:y.PeopleType.AllExcludingBots,filterPeopleType:y.FilterType.None,isSingleContactSelect:!0,navigationOrigin:s.NavigationConversationOrigin.DeepLink,wizardSteps:[O.WizardSteps.setConvParticipants]}).start(a.MainRootViewId)};break;default:K.error(s.LogTraceArea.Navigation,e+" is not a recognized shortcut.")}return[i,n]}(n,t,r,i)}else K.error(s.LogTraceArea.Navigation,"No queryParameterString found!");return o.Resolved({intent:r,action:i})}},427158:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleTelDeeplink=t.handleVoipDeeplink=t.handleCallPayload=void 0;const n=i(496486),o=i(397691),s=i(361694),a=i(898278),r=i(233244),l=i(436237),c=i(366355),d=i(994224),u=i(746096),g=i(671830),h=i(104735),p=i(914976),S=i(889391),m=i(948310),C=i(650556),y=i(581697),f=i(733754),b=i(422538),_=i(626712);function v(e,t,i,o,s,r=!1){var v;const T=null===(v=e.queryParameterKeyValues)||void 0===v?void 0:v.threadId,P=_.default.getParticipantMrisFromUrl(e.skypeParticipants);if(P.length>1)!function(e,t,i,n){l.log(c.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink group call causeId:"+i),d.default.CallNavigationHelper.startNewGroupCallAndConversation(e,t,i,n,u.NavigationCallOrigin.DeepLink)}(P,t,o,s);else if(1===P.length){const e=n.head(P);e?g.isPhoneMri(e)?function(e,t,i){const n=g.stripMriNamespace(e);l.log(c.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink PSTN call causeId:"+t),h.default.navigateToPSTNDialerWithParams({causeId:t,navigationSource:u.DialerNavigationSource.DeepLink,prefilledNumber:n},i)}(e,o,i):g.isMri(e)?function(e,t,i){l.log(c.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink 1:1 call causeId:"+e),d.default.CallNavigationHelper.startCall({conversationMri:t,withVideo:i,origin:u.NavigationCallOrigin.DeepLink},e)}(o,e,t):l.error(c.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink invalid participant "+p.mriOrId(e)+" causeId:"+o):l.error(c.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink no participant in participants causeId:"+o)}else if(r&&T){!function(e,t,i){const n="loadingDialog",o=S.default.getS4LCMCFeaturesNoSubscription().twinCamOneOnOneForceUpdateEnabled;m.default.beginTrackingTwinCam(u.NavigationCallOrigin.TwinCamQr),m.default.trackQRCodeScanned(t);const s=o=>{C.LoadingDialog.dismiss(n,a.MainRootViewId),o===t&&(y.default.finishedSyncingConversation.unsubscribe(s),l.log(c.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink joining as twincam causeId:"+i),d.default.CallNavigationHelper.startCallWithPreview({callId:e,conversationMri:t,withVideo:!0,isTwinCam:!0,origin:u.NavigationCallOrigin.DeepLink},i))};o&&g.isOneOnOneConversation(t)?(C.LoadingDialog.show({dialogId:n,dialogText:f.getString("Global.LoadingStatus"),showActivityIndicator:!0,showCancelButton:!1},a.MainRootViewId),b.EnsureStarted([y.default]).then((()=>{y.default.finishedSyncingConversation.subscribe(s),y.default.forceResyncConversation(t)}))):s(t)}(e.queryParameterKeyValues&&e.queryParameterKeyValues.callId,T,o)}else!function(e,t){l.log(c.LogTraceArea.Navigation,"UrlConverter getNavigationActionForDeepLink quick call panel causeId:"+e),h.default.navigateToQuickCallPanel(e,t)}(o,i)}t.handleCallPayload=function(e,t,i){var n,s,a;const l=null===(n=e.queryParameterKeyValues)||void 0===n?void 0:n.topic,c=null===(s=e.queryParameterKeyValues)||void 0===s?void 0:s.video,d=null===(a=e.queryParameterKeyValues)||void 0===a?void 0:a.twincam,u="true"===c,g="true"===d;return o.Resolved({intent:r.Intent.Call,action:()=>v(e,u,t,i,l,g)})},t.handleVoipDeeplink=function(e,t,i){const n=e.type===s.UrlType.VoipVideo;return o.Resolved({intent:r.Intent.Call,action:()=>v(e,n,t,i)})},t.handleTelDeeplink=function(e,t,i){return o.Resolved({intent:r.Intent.Other,action:()=>h.default.navigateToPSTNDialerWithParams({causeId:i,navigationSource:u.DialerNavigationSource.BrowseIntent,prefilledNumber:e.telNumber},t)})}},445762:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleIpMessagingDeeplink=t.handleChatPayload=void 0;const n=i(397691),o=i(496486),s=i(746096),a=i(240267),r=i(539549),l=i(276347),c=i(893974),d=i(436237),u=i(865788),g=i(233244),h=i(671830),p=i(544330),S=i(731761),m=i(210541),C=i(898278),y=i(18078),f=i(626712);function b(e,t,i,o,s){var a;const r=f.default.getParticipantMrisFromUrl(e.skypeParticipants,!1);if(r){const c=r[0];if("buddy"===(e.queryParameterKeyValues?e.queryParameterKeyValues.utm_source:void 0)&&h.isMri(c)){const t=e.skypeParticipants,i=(null===(a=e.queryParameterKeyValues)||void 0===a?void 0:a.utm_content)||"";return s&&s.markStepCompleted("InviteReceived"),(0,p.handleInviteLink)(t,i,s)}return 1!==r.length&&t?n.Resolved((()=>{new S.default({invitedUsersMris:r,creating1on1Conversation:!1,navigationOrigin:i,isSingleContactSelect:!1,peopleType:m.PeopleType.All}).start(C.MainRootViewId)})):n.Resolved((()=>(0,l.navigateTo1on1Conversation)(c,i,o)))}return n.Resolved((()=>{new S.default({isSingleContactSelect:!0,creating1on1Conversation:!0,peopleType:m.PeopleType.All,filterPeopleType:m.FilterType.None,navigationOrigin:i}).start(C.MainRootViewId)}))}t.handleChatPayload=function(e,t,i,p,S){var m;const C=e&&e.queryParameterKeyValues&&e.queryParameterKeyValues[a.WebLauncherOriginParamName]===a.WebLauncherOriginParamValue,f=null===(m=e.queryParameterKeyValues)||void 0===m?void 0:m.threadId;if(!f)return b(e,!1,t,p,S).then((e=>({action:e,intent:g.Intent.Chat})));if(C&&(p=s.BrowserOrigin.WebLauncher),!h.isGuestUserMri(y.default.getSkypeMri()))return n.Resolved({intent:g.Intent.Chat,action:()=>(0,l.navigateToGroupConversation)(f,t,p)});if(!!o.isEmpty((0,r.default)().getAllConversationsInMemory())){const e=c.default.getPartnerParametersFromUri(i);return d.track(new u.MeetNowDeeplinkProcessedEvent(e)),n.Resolved({intent:g.Intent.Chat,action:()=>(0,l.navigateGuestToMeetNow)(e)})}return(0,l.reloadAndJoinConversation)(i,f),n.Resolved(void 0)},t.handleIpMessagingDeeplink=function(e,t,i,n){return b(e,!0,t,i,n).then((e=>({action:e,intent:g.Intent.Chat})))}},638329:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GuestHttpJoinLinkHandler=void 0;const n=i(516778),o=i(397691),s=i(496486),a=(i(746096),i(233244)),r=(i(671830),i(539549)),l=(i(18078),i(473600)),c=i(893974),d=i(276347);i(422801),i(61375),i(494109),i(818882);t.GuestHttpJoinLinkHandler=class{navigationPromiseForAutoBuddyLink(){return o.Rejected({code:n.Types.LinkingErrorCode.UnexpectedFailure})}navigationPromiseForBotLink(){return o.Rejected({code:n.Types.LinkingErrorCode.UnexpectedFailure})}navigationPromiseForCreateFlow(){return o.Rejected({code:n.Types.LinkingErrorCode.UnexpectedFailure})}navigationPromiseForJoinFlow(){return o.Resolved({intent:a.Intent.JoinMeetNow,action:()=>(0,d.navigateToMeetNowJoinFlow)("skype-meetnow:?action=meetnowjoin&source=InClientLink")})}navigationPromiseForShortLink(e,t,i){s.isEmpty((0,r.default)().getAllConversationsInMemory());return l.default.resolveJoinShortId(e).then((e=>{const t=e.threadId;return function(e,t){const i=Object.assign(Object.assign({},c.default.getPartnerParametersFromUri(e)),{convId:t});return o.Resolved({intent:a.Intent.Chat,action:()=>(0,d.navigateGuestToMeetNow)(i)})}(i,t)}))}}},811199:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isValidHttpHost=t.navigationPromiseForHttpLink=void 0;const n=i(496486),o=i(397691),s=i(800637),a=i(889391),r=i(898278),l=i(746096),c=i(257538),d=i(233244),u=i(640363),g=i(638329),h=i(179204),p=i(844285),S=i(671830),m=i(893974),C=i(436237),y=i(865788),f=i(398907),b=i(536699),_=i(276347),v=i(912770),T=i(853374),P=i(589079),k="bot",A="invite",I=["callerid","sendcredit","dialpad","openconversation",P.DeepLink.MagicBotToolbox];function w(e){return e===u.default.getFrontendHost()}function x(e){return"join.skype.com"===e||"latest-join.skype.com"===e}t.navigationPromiseForHttpLink=function(e,t,i,u,P,N,M){var L;const O=e.pathname?n.compact(e.pathname.split("/")):[],D=null===(L=e.host)||void 0===L?void 0:L.toLowerCase(),R=e.queryParameterKeyValues;if(function(e,t){return(w(t)||x(t))&&e.length>0}(O,D)){const e=p.MeetNowHelpers.isGuestFlow()?new g.GuestHttpJoinLinkHandler:new h.SignedInHttpJoinLinkHandler,n=O[0];if(2===O.length){if(n===k){const t=O[1];return e.navigationPromiseForBotLink(t,i,N)}if(n===A&&x(D))return e.navigationPromiseForAutoBuddyLink(t,u,P,M)}else if(1===O.length)return x(D)?function(e,t,i,n,o,s,a){switch(function(e,t){t&&(t.markStepCompleted("RetrievedJoinLinkData"),e&&t.markStepCompleted("LaunchedFromExternalApp"))}(s,a),t){case"meetnow":return e.navigationPromiseForCreateFlow();case"join":return e.navigationPromiseForJoinFlow();default:return e.navigationPromiseForShortLink(t,n,i,o,a)}}(e,n,t,i,N,u,M):function(e,t,i,n){const{removeThreadIdFromUrlHistory:s}=a.default.getS4LCMCFeaturesNoSubscription();s&&function(){const{href:e}=window.location;if(e.toLowerCase().includes("@thread.skype")){const t=e.replace(/\/[^\/]+@thread.skype/i,"/");v.default.setTimeout((()=>{try{window.history.replaceState(null,"",t)}catch(e){C.error(l.LogTraceArea.Navigation,e.message)}}),0)}}();const r=S.sanitizeMri(e,S.Namespaces.SkypeId),u=Object.assign(Object.assign({},m.default.getPartnerParametersFromUri(t)),{convId:r});u.origin===c.MeetNowOrigin.Unknown&&(u.origin=c.MeetNowOrigin.DeepLink);C.track(new y.MeetNowDeeplinkProcessedEvent(u)),u.origin===c.MeetNowOrigin.CreatorPanel?f.default.beginTrackingCreateMeetNow(c.MeetNowOrigin.DeepLink,null==u?void 0:u.partner):u.origin===c.MeetNowOrigin.JoinLobby&&(b.default.beginTrackingJoinMeetNow(c.MeetNowOrigin.ConversationDeeplink,null==u?void 0:u.partner),b.default.trackValidJoinLinkEntered(e));if(p.MeetNowHelpers.isGuestFlow())return o.Resolved({intent:d.Intent.Call,action:()=>(0,_.navigateGuestToMeetNow)(u)});return o.Resolved({intent:d.Intent.Chat,action:()=>(0,_.navigateToConversation)(r,i,n,void 0,u)})}(n,t,i,N);return o.Resolved(void 0)}if(function(e,t){return w(t)&&n.has(e,"action")&&n.includes(I,null==e?void 0:e.action)}(R,D)){const n=T.default.newCauseId();return(0,s.handleActionPayload)(t,e,i,r.MainRootViewId,n,!0)}return o.Resolved(void 0)},t.isValidHttpHost=w},179204:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SignedInHttpJoinLinkHandler=void 0;const n=i(496486),o=i(397691),s=i(516778),a=i(746096),r=i(671830),l=i(233244),c=i(276347),d=i(544330),u=i(436237),g=i(404057),h=i(219784),p=i(898278),S=i(473600),m=i(240267),C=i(733754),y=i(626712),f=i(1706);t.SignedInHttpJoinLinkHandler=class{navigationPromiseForAutoBuddyLink(e,t,i,s){return s&&(s.markStepCompleted("AppInstalledOneOnOneInvite"),t&&s.markStepCompleted("LaunchedFromExternalApp")),(0,d.handleAutoBuddyInviteLinkFromUrl)(e,i,s).catch((e=>{u.warn(a.LogTraceArea.Navigation,`Failed to process invite link: ${g.default.errorAsString(e)}`);const t=C.getString("UrlConverter.ProcessingInviteLinkFailedMessage");return h.default.showOKAlert(t,void 0,p.MainRootViewId),s&&(s.markStepCompleted("ProcessingInviteLinkFailed"),s.fail(`ProcessingInviteLinkFailed ${g.default.errorAsString(e)}`)),o.Resolved(n.noop)})).then((e=>({intent:l.Intent.Other,action:e})))}navigationPromiseForBotLink(e,t,i){return e?f.default.getAgentDescriptionForMriAsync(r.sanitizeMri(e,r.Namespaces.Bot)).then((n=>{if(n.isUnknown)return o.Rejected({code:s.Types.LinkingErrorCode.UnexpectedFailure});const a=r.sanitizeMri(e,r.Namespaces.Bot);return{intent:l.Intent.Chat,action:()=>(0,c.navigateTo1on1Conversation)(a,t,i)}})):o.Resolved(void 0)}navigationPromiseForCreateFlow(){return o.Resolved({intent:l.Intent.CreateMeetNow,action:()=>(0,c.navigateToMeetNowCreateFlow)("skype-meetnow:?action=meetnow&source=InClientLink")})}navigationPromiseForJoinFlow(){return o.Resolved({intent:l.Intent.JoinMeetNow,action:()=>(0,c.navigateToMeetNowJoinFlow)("skype-meetnow:?action=meetnowjoin&source=InClientLink")})}navigationPromiseForShortLink(e,t,i,n,s){return S.default.resolveJoinShortId(e).then((e=>{var r;const d=e.threadId,u=y.default.getURIComponents(i);return(null===(r=null==u?void 0:u.queryParameterKeyValues)||void 0===r?void 0:r[m.WebLauncherOriginParamName])===m.WebLauncherOriginParamValue&&(n=a.BrowserOrigin.WebLauncher),o.Resolved({intent:l.Intent.Chat,action:()=>(0,c.navigateToConversation)(d,t,n,s)})}))}}},939657:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useHovering=void 0;const n=i(667294);t.useHovering=function(){const[e,t]=(0,n.useState)(!1);return[e,(0,n.useCallback)((()=>{t(!0)}),[t]),(0,n.useCallback)((()=>{t(!1)}),[t])]}},195314:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(142826),s=i(861253),a=i(112692),r=i(853374);class l{constructor(e,t,i,o,s,l,c,d,u,g,h,p,S,m){e&&(this.guid=e.guid,this.alertType=e.alertType,this.alertTime=e.alertTime,this.isRead=e.isRead,this.highlightsFollowInfo=e.highlightsFollowInfo,this.highlightCommentInfo=e.highlightCommentInfo,this.popCardInfo=e.popCardInfo,this.noticeMessageInfo=e.noticeMessageInfo,this.highlightsSkypeChannelInfo=e.highlightsSkypeChannelInfo,this.scheduledCallInfo=e.scheduledCallInfo,this.missedCallbackReminderCalleeMri=e.missedCallbackReminderCalleeMri,this.oldFriendMri=e.oldFriendMri,e.message&&(this.message=a.default.fromDatabaseObject(e.message))),n.isUndefined(t)?n.isUndefined(this.guid)&&(this.guid=r.default.newGuid()):this.guid=t,n.isUndefined(i)||(this.alertType=i),n.isUndefined(o)||(this.alertTime=o),n.isUndefined(s)||(this.isRead=s?1:0),l&&(this.message=l),n.isUndefined(c)||(this.highlightsFollowInfo=c),n.isUndefined(d)||(this.highlightCommentInfo=d),n.isUndefined(u)||(this.popCardInfo=u),n.isUndefined(g)||(this.noticeMessageInfo=g),n.isUndefined(h)||(this.highlightsSkypeChannelInfo=h),n.isUndefined(p)||(this.scheduledCallInfo=p),n.isUndefined(S)||(this.missedCallbackReminderCalleeMri=S),n.isUndefined(m)||(this.oldFriendMri=m)}static fromDatabaseObject(e){return e?new l(e):void 0}static fromScratch(e,t,i,n,o={}){return new l(void 0,o.guid,e,t,i,n,o.highlightsFollowInfo,o.highlightCommentInfo,o.popCardInfo,o.noticeMessageInfo,o.highlightsSkypeChannelInfo,o.scheduledCallInfo,o.missedCallbackReminderCalleeMri,o.oldFriendMri)}applyRead(e){return!!this.isRead==!!e?this:new l(this,void 0,void 0,void 0,e)}updateHighlightsFollowStatus(e,t,i,n){return e===this.alertTime&&!!this.isRead==!!t&&(0,s.default)(this.message,i)&&(0,s.default)(this.highlightsFollowInfo,n)?this:new l(this,void 0,void 0,e,t,i,n)}isHighlightsFollowRequest(){return this.highlightsFollowInfo&&this.alertType===o.AlertType.HighlightsFollowRequest&&this.highlightsFollowInfo.followState===o.HighlightsFollowAlertState.Follow}isRemovedHighlightsFollowRequest(){return this.highlightsFollowInfo&&this.alertType===o.AlertType.HighlightsFollowRequest&&this.highlightsFollowInfo.followState===o.HighlightsFollowAlertState.Removed}isAcceptedByMeHighlightsFollowRequest(){return this.highlightsFollowInfo&&this.alertType===o.AlertType.HighlightsFollowRequest&&this.highlightsFollowInfo.followState===o.HighlightsFollowAlertState.AcceptedByMe}isEngagementAlert(){return this.alertType===o.AlertType.Engagement||this.alertType===o.AlertType.Notice}isHighlightsSkypeChannelAlert(){return this.alertType===o.AlertType.HighlightsSkypeChannel||this.alertType===o.AlertType.HighlightsSkypeChannelSecondary}isScheduledCallAlert(){return this.alertType===o.AlertType.ScheduledCall}}t.default=l},38566:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioManagerSource=void 0;const n=i(496486),o=i(285788),s=i(397691),a=i(889391),r=i(746096),l=i(436237);var c;!function(e){e[e.AudioMessageComposer=0]="AudioMessageComposer",e[e.AudioPlayer=1]="AudioPlayer",e[e.CapturePanel=2]="CapturePanel",e[e.CapturePreview=3]="CapturePreview",e[e.Moji=4]="Moji",e[e.SwiftVideo=5]="SwiftVideo",e[e.VideoViewer=6]="VideoViewer"}(c=t.AudioManagerSource||(t.AudioManagerSource={}));t.default=class{static initialize(){o.default.setConfig({cmc:a.default.getS4LCMCFeatures(),audio:a.default.getSkypeAudioLibraryFeatures()}),a.default.subscribe((()=>{o.default.setConfig({cmc:a.default.getS4LCMCFeatures(),audio:a.default.getSkypeAudioLibraryFeatures()})}))}constructor(e){this._source=e,this._requestSequence=0}hasToken(){return!n.isUndefined(this._token)}requestMode(e,t){const i=++this._requestSequence;let a,d;return n.isUndefined(this._token)?(a="request("+e+")",d=o.default.requestMode(e,t)):(a="exchange("+this._token+", "+e+")",d=o.default.exchangeMode(this._token,e,t)),l.log(r.LogTraceArea.AudioManagerClient,"("+c[this._source]+").requestMode calling AudioManager."+a+". causeId: "+t),d.then((e=>i===this._requestSequence?(l.log(r.LogTraceArea.AudioManagerClient,"("+c[this._source]+").requestMode completed with token "+e+". causeId: "+t),this._token=e,s.Resolved(!0)):(l.log(r.LogTraceArea.AudioManagerClient,"("+c[this._source]+").requestMode completed with token "+e+" - aborting because of subsequent request. causeId: "+t),o.default.release(e,t),s.Resolved(!1))))}release(e){this._requestSequence++,l.log(r.LogTraceArea.AudioManagerClient,"("+c[this._source]+").release("+this._token+"). causeId: "+e),n.isUndefined(this._token)||(o.default.release(this._token,e),this._token=void 0)}}},258187:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useCommonContext=t.CommonContext=t.ComponentVisibilityStatus=void 0;const n=i(667294),o=i(974634),s=i(898278),a=i(163841),r=i(10102);t.ComponentVisibilityStatus=class{constructor(){this._isVisible=!0,this._visibilityChanged=new o.default}updateVisibility(e){this._isVisible!==e&&(this._isVisible=e,this._visibilityChanged.fire(e))}isVisibleEvent(){return this._visibilityChanged}isVisible(){return this._isVisible}},t.CommonContext=(0,n.createContext)({rootViewId:s.MainRootViewId,rootViewType:s.RootViewType.MainWindow,themeStyles:{},themeColors:{},language:"en-us",theme:a.Theme.Delphi,gradients:{},mode:{isAccessible:!1,isDark:!1},userColor:(0,r.getDefaultUnknownColorInfo)(),isRTL:!1}),t.CommonContext.displayName="CommonContext";t.useCommonContext=()=>(0,n.useContext)(t.CommonContext)},63060:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(667294),s=i(861253);class a{equals(e){if(e===this)return!0;if(!e.isImmutable()!=!this.isImmutable())return!1;return(0,s.default)(this,e)}static comparator(e,t){if(e===t)return!0;if(null===e||null===t)return!1;const i=typeof e;if(i!==typeof t)return!1;if("object"!==i)return e!=e&&t!=t;if(e instanceof a)return t instanceof a&&e.equals(t);if(t instanceof a)return!1;if(o.isValidElement(e))return!!o.isValidElement(t)&&(e.key===t.key&&e.type===t.type&&!a.comparator(e.props,t.props)&&!a.comparator(e.state,t.state));if(n.isArray(e)){const i=e.length;if(!n.isArray(t)||i!==t.length)return!1;if(0===i)return!0;if(!a.comparator(e[0],t[0]))return!1;for(let n=i-1;n>0;n--)if(!a.comparator(e[n],t[n]))return!1;return!0}for(const i in e)if(Object.hasOwnProperty.call(e,i)){if(!Object.hasOwnProperty.call(t,i))return!1;if(!a.comparator(e[i],null==t?void 0:t[i]))return!1}for(const i in t)if(Object.hasOwnProperty.call(t,i)&&!Object.hasOwnProperty.call(e,i))return!1;return!0}}t.default=a},867213:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(671830),s=i(10102),a=i(124898),r=i(733754),l=i(404057);class c extends a.default{getRecordId(){return""}getSkypeId(){const e=this.getMri();return e?o.getSkypeIdFromMri(e):void 0}getMri(){}static convertDisplayNameToInitials(e){let t="?";const i=n.compact(e.split(" "));if(i.length>=2)t=r.getString("DisplayProfile.UsernameInitials",{firstNameLetter:l.default.substr(i[0],0,1),secondNameLetter:l.default.substr(i[1],0,1)});else if(1===i.length){const e=n.startsWith(i[0],"live:")?5:0;t=l.default.substr(i[0],e,2)}return t}static convertDisplayNameToUpperCaseInitials(e){const t=l.default.deburrLocaleUpperCase(e);return this.convertDisplayNameToInitials(t)}getDisplayName(e,t){const i=this.getMri();return i&&!o.isOrgIdUserMri(i)&&o.isDisplayableStrippedMri(i)?o.stripMriNamespace(i):e||r.getString("Notifications.UnknownUser")}getShortName(e){return n.first(n.compact(this.getDisplayName(void 0,e).split(" ")))||""}getInitials(){return c.convertDisplayNameToInitials(this.getDisplayName())}getUpperCaseInitials(){return c.convertDisplayNameToUpperCaseInitials(this.getDisplayName())}getAvatarUrl(e){}getColor(){return s.getDefaultUnknownColorInfo()}isEncrypted(){const e=this.getConversationId();return!!e&&o.isEncryptedThread(e)}getConversationId(){return this.getMri()}}t.default=c},124898:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(63060);class s extends o.default{constructor(e){if(super(),e)for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}mergePartialUpdate(e){const t=Object.create(this.constructor.prototype);for(const e in this)this.hasOwnProperty(e)&&(t[e]=n.cloneDeep(this[e]));return n.each(e,((e,i)=>{t[i]=e})),t}}t.default=s},57199:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(63060);class o extends n.default{constructor(e){super(),this.value=e}isImmutable(){return!0}}t.default=o},40907:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(491632),o=i(746096);t.default=class{constructor(e,t){if(!e)return void n.Instrumentation.error(o.LogTraceArea.SISU,"Tried creating an MSA access token with invalid token value");const i=Date.parse(t);n.Instrumentation.log(o.LogTraceArea.SISU,`Creating Access token with expiresOn: ${t}, expiresOnTimestamp: ${i}`),this.rawToken=e,this.expiration=i}isTokenExpired(){return Date.now()>=this.expiration}}},864674:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(974634),s=i(77388);t.default=class{constructor(){this._items=[],this.listChanged=new o.default}addItems(e,t,i){const n={type:s.ListModificationType.AddItems,items:t,insertIndex:e,options:i};this.apply(n)}removeItems(e,t,i){const n={type:s.ListModificationType.RemoveItems,removeIndex:e,count:t,options:i};this.apply(n)}replaceItems(e,t,i){const n={type:s.ListModificationType.ReplaceItems,items:t,removeIndex:e,insertIndex:e,count:t.length,options:i};this.apply(n)}moveItems(e,t,i,n,o){const a={type:s.ListModificationType.MoveItems,removeIndex:e,insertIndex:t,count:n,options:o,items:i};this.apply(a)}getItemList(){return this._items}setItemList(e){this._items=n.clone(e);const t={type:s.ListModificationType.ReplaceItems,items:this._items,removeIndex:0,count:this._items.length};this.listChanged.fire(t,this._items)}_canConvertRemoveAddToReplace(e){return 2===e.length&&e[0].type===s.ListModificationType.RemoveItems&&e[1].type===s.ListModificationType.AddItems&&n.size(e[1].items)>0&&e[0].count===n.size(e[1].items)}_getReplaceModification(e,t,i){let o,a;n.each(e,(e=>{this.apply(e,t,i,!0),e.type===s.ListModificationType.RemoveItems?a=e:e.type===s.ListModificationType.AddItems&&(o=e)}));return{count:a.count,insertIndex:o.insertIndex,removeIndex:a.removeIndex,items:o.items,type:s.ListModificationType.ReplaceItems}}applyMany(e,t,i){if(this._canConvertRemoveAddToReplace(e)){const n=this._getReplaceModification(e,t,i);this.listChanged.fire(n,this._items)}else n.each(e,(e=>{this.apply(e,t,i)}));if(0===e.length){t&&t(this._items);const e={type:s.ListModificationType.Metadata};this.listChanged.fire(e,this._items)}}apply(e,t,i,n){i&&i(e,this._items),e.type===s.ListModificationType.AddItems?this._items=[...this._items.slice(0,e.insertIndex),...e.items,...this._items.slice(e.insertIndex)]:e.type===s.ListModificationType.RemoveItems?this._items=[...this._items.slice(0,e.removeIndex),...this._items.slice(e.removeIndex+e.count)]:e.type===s.ListModificationType.ReplaceItems?this._items=[...this._items.slice(0,e.removeIndex),...e.items,...this._items.slice(e.removeIndex+e.items.length)]:e.type===s.ListModificationType.MoveItems&&(e.removeIndex<e.insertIndex?this._items=[...this._items.slice(0,e.removeIndex),...this._items.slice(e.removeIndex+e.count,e.insertIndex+e.count),...e.items,...this._items.slice(e.insertIndex+e.count)]:this._items=[...this._items.slice(0,e.insertIndex),...e.items,...this._items.slice(e.insertIndex,e.removeIndex),...this._items.slice(e.removeIndex+e.count)]),t&&t(this._items),n||this.listChanged.fire(e,this._items)}}},981956:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(63060),o=i(404057),s=i(491632),a=i(746096);class r extends n.default{static fromDbToken(e){if(e)return new r(e.rawToken,e.expiration)}constructor(e,t){super(),e&&"string"==typeof e&&(s.Instrumentation.log(a.LogTraceArea.SISU,`Creating Skype token with expiration: ${t}`),this.rawToken=e,this.expiration=t)}isImmutable(){return!0}clone(){return new r(this.rawToken,this.expiration)}isTokenExpired(){return Date.now()>this.expiration}getCidFromSkypeToken(){const e=this.rawToken.split(".");if(e.length<2)return;const t=o.default.parseJsonErrorToUndefined(atob(e[1]));return(null==t?void 0:t.cid)&&o.default.toUpper(null==t?void 0:t.cid)}}if(t.default=r,"undefined"!=typeof window){window.SkypeToken=r}},719061:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(671830),s=i(746096),a=i(18078),r=i(217093);class l{canNavigateInApp(){return!a.default.isGuestUser()}canForwardMessage(){return!a.default.isGuestUser()}canBookmarkMessage(){return!a.default.isGuestUser()}canUseKeyboardShortcut(e){return!a.default.isGuestUser()||n.includes(l._allowedGuestKeyboardShortcuts,e)}canStartConversationWith(e){return!o.isGuestUserMri(e)}canAddContact(e){return!o.isGuestUserMri(e)}canUseQuickSignOn(){return!a.default.isGuestUser()}allowGroupInteractionBetweenBlockedParticipants(e,t){return o.isGuestUserMri(e)||o.isGuestUserMri(t)}preserveOtherStoredAccounts(){return a.default.isGuestUser()}eligibleLeftNavViewModes(){if(a.default.isGuestUser())return l._eligibleLeftNavModesForGuestUsers}}l._allowedGuestKeyboardShortcuts=[s.KeyboardShortcut.AcceptIncomingCall,s.KeyboardShortcut.EditMessage,s.KeyboardShortcut.EnableMultipleSelectMessages,s.KeyboardShortcut.HangupOrRejectCall,s.KeyboardShortcut.MarkAsUnread,s.KeyboardShortcut.OpenAppSettings,s.KeyboardShortcut.OpenHelpInABrowser,s.KeyboardShortcut.SearchInConversation,s.KeyboardShortcut.SendFeedback,s.KeyboardShortcut.SendFile,s.KeyboardShortcut.TakeCallSnapshot,s.KeyboardShortcut.ToggleCamera,s.KeyboardShortcut.ToggleGallery,s.KeyboardShortcut.ToggleMicrophone],l._eligibleLeftNavModesForGuestUsers=[r.LeftNavViewMode.None,r.LeftNavViewMode.ConversationInCall],t.default=new l},905531:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(496486),s=i(217041),a=i(376358),r=i(861253);let l=class extends s.StoreBase{constructor(e){super(),this._providers=e}init(){o.each(a.providers,(e=>{e.subscribe&&e.subscribe((()=>{this._updateFlags()}))})),this._updateFlags()}_updateFlags(){const e=o.map(this._providers,(e=>e.flags())),t=o.mergeWith({},...e,((e,t)=>o.isBoolean(e)||o.isBoolean(t)?!1!==e&&!1!==t:void 0));(0,r.default)(this._merged,t)||(this._merged=t,this.trigger(1))}entitlements(){return this._merged.entitlements}userSettings(){return this._merged.userSettings}navigation(){return this._merged.navigation}addins(){return this._merged.addins}onboarding(){return this._merged.onboarding}identity(){return this._merged.identity}contacts(){return this._merged.contacts}meetnow(){return this._merged.meetnow}call(){return this._merged.call}cookie(){return this._merged.cookie}};n.__decorate([(0,s.autoSubscribeWithKey)(1)],l.prototype,"entitlements",null),n.__decorate([(0,s.autoSubscribeWithKey)(1)],l.prototype,"userSettings",null),n.__decorate([(0,s.autoSubscribeWithKey)(1)],l.prototype,"navigation",null),n.__decorate([(0,s.autoSubscribeWithKey)(1)],l.prototype,"addins",null),n.__decorate([(0,s.autoSubscribeWithKey)(1)],l.prototype,"onboarding",null),n.__decorate([(0,s.autoSubscribeWithKey)(1)],l.prototype,"identity",null),n.__decorate([(0,s.autoSubscribeWithKey)(1)],l.prototype,"contacts",null),n.__decorate([(0,s.autoSubscribeWithKey)(1)],l.prototype,"meetnow",null),n.__decorate([(0,s.autoSubscribeWithKey)(1)],l.prototype,"call",null),n.__decorate([(0,s.autoSubscribeWithKey)(1)],l.prototype,"cookie",null),l=n.__decorate([s.AutoSubscribeStore],l),t.default=new l(o.values(a.providers))},18078:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(496486),s=i(217041),a=i(974634),r=i(397691);var l;!function(e){e[e.userCidUpdated=0]="userCidUpdated",e[e.userGuestUpdated=1]="userGuestUpdated"}(l||(l={}));let c=class extends s.StoreBase{constructor(){super(...arguments),this._logoutStarted=!1,this._mris=[],this.TextMessageMeMri="21:ME",this.userLoggedInUpdatedEvent=new a.default}internal_feedInfo(e,t,i,n,o,s){const a=[];e&&e!==this._skypeId&&(this._skypeId=e,this.userLoggedInUpdatedEvent.fire(!0),a.push(l.userGuestUpdated)),t&&(this._msaId=t),i&&this._cid!==i&&(this._cid=i,a.push(l.userCidUpdated)),n&&(this._cidHex=n);const r=[this.getSkypeMri()];if(this._msaId&&r.push("1:"+this._msaId),this._mris=r,this._cid){const e=this._cidDeferred;e&&(this._cidDeferred=void 0,e.resolve(this._cid))}if(this._cidHex){const e=this._cidHexDeferred;e&&(this._cidHexDeferred=void 0,e.resolve(this._cidHex))}o&&(this._msaIdFromSignIn=o),s&&(this._anid=s),a.length&&this.trigger(a)}getSkypeId(){return this._skypeId}hasSkypeId(){return!!this._skypeId}hasLogoutStarted(){return this._logoutStarted}logoutUser(){this.isUserLoggedIn()&&(this._logoutStarted=!0,this.userLoggedInUpdatedEvent.fire(!1))}isUserLoggedIn(){return this._skypeId&&!this._logoutStarted}getDisplayableSecondaryIdentifier(){const e=this.getSkypeId();return o.startsWith(e,"live:")?this.getMsaId():e}getMsaId(){return this._msaId}getUserCidHex(){return this._cidHex?this._cidHex:void 0}getUserCidHexAsync(){return this._cidHex?r.Resolved(this._cidHex):(this._cidHexDeferred||(this._cidHexDeferred=r.Defer()),this._cidHexDeferred.promise())}getSkypeMri(){return"8:"+this._skypeId}isMyMri(e){return o.includes(this._mris,e)||e.toLowerCase()===this.TextMessageMeMri.toLowerCase()}getMyMris(){return o.clone(this._mris)}getUserCidAsync(){return this._cid?r.Resolved(this._cid):(this._cidDeferred||(this._cidDeferred=r.Defer()),this._cidDeferred.promise())}getUserCid(){return this._cid?this._cid:void 0}getMsaIdFromSignIn(){return this._msaIdFromSignIn}isGuestUser(){return o.startsWith(this._skypeId,"guest:")}getAnid(){return this._anid}test_reset(){0}};n.__decorate([s.disableWarnings],c.prototype,"getSkypeId",null),n.__decorate([s.disableWarnings],c.prototype,"hasSkypeId",null),n.__decorate([s.disableWarnings],c.prototype,"hasLogoutStarted",null),n.__decorate([s.disableWarnings],c.prototype,"logoutUser",null),n.__decorate([s.disableWarnings],c.prototype,"isUserLoggedIn",null),n.__decorate([s.disableWarnings],c.prototype,"getDisplayableSecondaryIdentifier",null),n.__decorate([s.disableWarnings],c.prototype,"getMsaId",null),n.__decorate([s.disableWarnings],c.prototype,"getUserCidHex",null),n.__decorate([s.disableWarnings],c.prototype,"getUserCidHexAsync",null),n.__decorate([s.disableWarnings],c.prototype,"getSkypeMri",null),n.__decorate([s.disableWarnings],c.prototype,"isMyMri",null),n.__decorate([s.disableWarnings],c.prototype,"getMyMris",null),n.__decorate([s.disableWarnings],c.prototype,"getUserCidAsync",null),n.__decorate([(0,s.autoSubscribeWithKey)(l.userCidUpdated)],c.prototype,"getUserCid",null),n.__decorate([s.disableWarnings],c.prototype,"getMsaIdFromSignIn",null),n.__decorate([s.disableWarnings],c.prototype,"isGuestUser",null),c=n.__decorate([s.AutoSubscribeStore],c),t.default=new c},929330:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.internal_feedAndPersistInfo=void 0;const n=i(397691),o=i(562141),s=i(998754),a=i(861253),r=i(18078),l=i(527683);i(422538);t.internal_feedAndPersistInfo=function(e,t,i,c,d,u){const g=s.default.getData(o.InternalKeys.MyUserStoreData)||{};let h;t&&(-1!==t.indexOf("@")||l.default.isValidNumberString(t))&&(h=t);const p={},S=i||r.default.getUserCid()||g.msaCid,m=c||r.default.getUserCidHex()||g.msaCidHex;let C;return h=h||r.default.getMsaId()||g.msaId,t=t||r.default.getMsaIdFromSignIn()||g.msaIdFromSignIn,u=u||r.default.getAnid()||g.anid,S&&(p.msaCid=S),m&&(p.msaCidHex=m),h&&(p.msaId=h),t&&(p.msaIdFromSignIn=t),u&&(p.anid=u),C=(0,a.default)(p,g)?n.Resolved():s.default.putData(o.InternalKeys.MyUserStoreData,p,d),r.default.internal_feedInfo(e,p.msaId,p.msaCid,p.msaCidHex,p.msaIdFromSignIn,p.anid),C}},640363:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(809206),s=i(516778),a=i(746096),r=i(472731),l=i(808222),c=i(853374),d=i(733754),u=i(749679),g=i(651046),h=/[^\u0009\u000A\u000D\u0020-\u007E\u0085\u00A0-\uD7FF\uE000-\uFDCF\uFDF0-\uFFFD]/gm;const p=new class{constructor(){this._sessionId=c.default.newGuid(),this._isRunningInBackgroundTokenRefreshMode=!1}initialize(e){var t;this._appShellType=a.AppShellType.Browser,this._frontendHost=e.frontendHostOverride||"web.skype.com",this._loadPath=e.loadPath||"",this._loadPathFragment=e.loadPathFragment||"",this._initialSkypeURI=e.initialSkypeURI;const s=(e.appVersion||"").split(".");if(4===s.length)this._appVersion=e.appVersion;else{let e=4-s.length;for(;e>0;)s.push("0"),e--;this._appVersion=n.take(s,4).join(".")}if(this._osVersion=o.EnvironmentInfo.OsVersion,this._locale=o.EnvironmentInfo.SystemLocale,this._systemModel=o.EnvironmentInfo.SystemModel,this._deviceId=o.EnvironmentInfo.DeviceId,this._androidOsVersionCode=o.EnvironmentInfo.AndroidOsVersionCode,this._uwpPackageVersion=o.EnvironmentInfo.UWPPackageVersion,this._msixPackageVersion=o.EnvironmentInfo.MSIXPackageVersion,this._cpuCount=o.EnvironmentInfo.CPUCount?o.EnvironmentInfo.CPUCount:void 0,this._cpuSpeedMhz=o.EnvironmentInfo.CPUSpeed?Math.round(o.EnvironmentInfo.CPUSpeed/1e3):void 0,this._chipset=o.EnvironmentInfo.Chipset,this._deviceName=o.EnvironmentInfo.DeviceName,this._deviceType=o.EnvironmentInfo.DeviceType,this._systemManufacturer=o.EnvironmentInfo.SystemManufacturer,this._languageCode=o.EnvironmentInfo.SystemLanguage,this._countryCode=o.EnvironmentInfo.SystemCountry,this._appIdentifier=o.EnvironmentInfo.AppIdentifier,this._preInstallPartnerId=o.EnvironmentInfo.PreInstallPartnerId,this._mccCode=o.EnvironmentInfo.NetworkMCCCode,this._mncCode=o.EnvironmentInfo.NetworkMNCCode,this._cpuAbi=o.EnvironmentInfo.CpuAbi,this._androidPrivateCpuAbi=o.EnvironmentInfo.AndroidPrivateCpuAbi,this._isChromeOS=o.EnvironmentInfo.IsChromeOS,this._isFireOS=o.EnvironmentInfo.IsFireOS,this._isDuoDevice=o.EnvironmentInfo.IsDuoDevice,this._uiTestsConfig=o.EnvironmentInfo.UITestsConfig,null===(t=e.loadPath)||void 0===t?void 0:t.search("correlationId")){const t=e.loadPath.substring(e.loadPath.indexOf("?")+1,e.loadPath.length).split("&");let i;n.each(t,(e=>{const t=e.split("=");"correlationId"===t[0]&&(i=t[1])})),i&&(this._sessionId=i)}{const e=this._locale.split("-");this._languageCode=e.shift(),e.length?this._countryCode=e.join("-"):this._countryCode=r.getDefaultLocale(this._languageCode).toUpperCase();const t=new URLSearchParams(i.g.location.search),n=this.getBrowserNameParam(t.get("browsername"));this._browserName=null!=n?n:this._systemModel,this._browserVersion=this._systemManufacturer}o.EnvironmentInfo.onLocaleChange.subscribe((e=>{this._locale=e.systemLocale,this._languageCode=e.systemLanguage,this._countryCode=e.systemCountry,d.setSystemLocale(this._locale),u.setLocale(this._locale)})),this._appInitTime=e.startupTimestamp,this._appLoadDuration=e.loadDuration,e.skypeData&&(this._errorText=e.skypeData.errorText,this._startupSkypeId=e.skypeData.startupSkypeId,this._startupSignInName=e.skypeData.startupSignInName,this._startupRawSkypeToken=e.skypeData.startupRawSkypeToken,this._startupSkypeTokenExpiration=e.skypeData.startupSkypeTokenExpiration),this._corporateInstallationTag=o.EnvironmentInfo.CorporateInstallationTag}getBrowserName(){return this._browserName}getBrowserNameParam(e){switch(e){case"edge_canary_shoreline":return a.EdgeBrowserNameType.edgeCanaryShoreline;case"edge_dev_shoreline":return a.EdgeBrowserNameType.edgeDevShoreline;case"edge_beta_shoreline":return a.EdgeBrowserNameType.edgeBetaShoreline;case"edge_stable_shoreline":return a.EdgeBrowserNameType.edgeStableShoreline;default:return}}getBrowserVersion(){return this._browserVersion}isEdgeShoreline(){const e=this.getBrowserName();return e===a.EdgeBrowserNameType.edgeCanaryShoreline||e===a.EdgeBrowserNameType.edgeDevShoreline||e===a.EdgeBrowserNameType.edgeBetaShoreline||e===a.EdgeBrowserNameType.edgeStableShoreline}setChatEndpointId(e){this._chatEndpointId=e}getChatEndpointId(){return this._chatEndpointId}getEchoMri(){return"8:echo123"}getCallLogMri(){return"48:calllogs"}getBlockedPSTNMri(){return"4:+000000"}getDocRoot(){return""}getSoundPath(e=""){return this.getDocRoot()+"media/"+e}getWasmPath(e){return this.getDocRoot()+"resources/"+e}getProtocol(){return"undefined"!=typeof location&&void 0!==location.protocol?location.protocol:"https:"}getFrontendHost(){return this._frontendHost}getFrontendBaseUrl(){return this.getProtocol()+"//"+this._frontendHost}getOAuthEndUrl(){return this.getFrontendBaseUrl()+"/oauthcallback"}deprecatedGetAppShellType(){return this._appShellType}getAppShellTypeName(){return a.AppShellType[this.deprecatedGetAppShellType()]}getPlatformType(){return o.EnvironmentInfo.getPlatformType()}isWindowCloseOnRight(){return this.getPlatformType()===o.PlatformType.Windows||this.getPlatformType()===o.PlatformType.Linux}getPreInstallPartnerId(){return this._preInstallPartnerId}getPlatformTypeName(){return o.EnvironmentInfo.getPlatformTypeName()}getOSVersion(){return this._osVersion}getAndroidOSVersionCode(){return this._androidOsVersionCode}isChromeOS(){return!!this._isChromeOS}isFireOS(){return!!this._isFireOS}isDuoDevice(){return!!this._isDuoDevice}getUITestsConfigOption(e){var t;return!!(null===(t=this._uiTestsConfig)||void 0===t?void 0:t[o.UITestsConfigOptions[e]])}getDeviceName(e=!0){const t=this._deviceName||this.getSystemModel();return e?t.replace(h," "):t}getIOSModel(){if(this.getPlatformType()!==o.PlatformType.iOS||!this._deviceType)return a.IOSModel.None;switch(this._deviceType.toLowerCase()){case"ipad":return a.IOSModel.iPad;case"iphone":return a.IOSModel.iPhone;case"ipod touch":return a.IOSModel.iPodTouch;default:return a.IOSModel.None}}getCPUCount(){return this._cpuCount}getCPUSpeedMhz(){return this._cpuSpeedMhz}getChipset(){return this._chipset}getDeviceId(){return this._deviceId}getSystemModel(){return this._systemModel}getSystemManufacturer(){return this._systemManufacturer||""}getSystemLocale(){return this._locale}getCountryCode(){return this._countryCode}getSystemLanguage(){return this._languageCode}getAppInitTime(){return this._appInitTime}getAppLoadDuration(){return this._appLoadDuration}getSessionId(){return this._sessionId}getMccCode(){return this._mccCode}getMncCode(){return this._mncCode}getXSkypeCallerHeader(){return`Skype4Life ${this.getAppShellTypeName()} ${this.getPlatformTypeName()} (${this.getAppVersion()})`}isDebug(){return!1}getAppVersion(){return this._appVersion}getUWPPackageVersion(){return this._uwpPackageVersion}getMSIXPackageVersion(){return this._msixPackageVersion}getAppIdentifier(){return this._appIdentifier}_getCpuType(){return this._androidPrivateCpuAbi||this._cpuAbi||""}_getAppCenterConfig(){return{appSecret:g.appSecret}}getAppCenterSecret(){return this._getAppCenterConfig().appSecret||""}getAdjustToken(){return""}getSkypePlatformId(){return l.platformId.web}getClientId(){return l.clientId}isS4LPlatformId(e){return n.some(l.platformId,(t=>t===e))}getUIVersion(){return this.getSkypePlatformId()+"/"+this.getAppVersion()}getUIVersionWithPartnerID(){let e=this.getUIVersion();const t=this.getPreInstallPartnerId();return t&&(e=e+"/"+t),e}getInitialUrl(){return this._initialSkypeURI||this.getFrontendBaseUrl()+this._loadPath}getLoadPath(){return this._loadPath}getLoadPathFragment(){return this._loadPathFragment}getErrorText(){return this._errorText}getStartupSkypeId(){return this._startupSkypeId}getStartupRawSkypeToken(){return this._startupRawSkypeToken}getStartupSignInName(){return this._startupSignInName}getStartupSkypeTokenExpiration(){return this._startupSkypeTokenExpiration}getAriaTenantToken(){return l.telemetry.ariaTenantToken}getAriaTelemetryTenantToken(){return l.telemetry.ariaTelemetryTenantToken}getAriaCallingTenantToken(){return l.telemetry.calling.ariaCallingTenantToken}getAriaAddinTenantToken(){return l.telemetry.ariaAddinTenantToken}getAriaCQFTenantToken(){return this.getAriaPluginlessMediaTenantToken()}getAriaPluginlessMediaTenantToken(){return l.telemetry.calling.ariaPluginlessMediaTenantToken}getAriaCommerceTenantToken(){return l.telemetry.ariaCommerceTenantTokenLIVE}getAriaSkypeFraudTelemetryTenantToken(){return l.telemetry.ariaSkypeFraudTelemetryTenantToken}getAriaPluginlessTrouterTenantToken(){return l.telemetry.calling.ariaPluginlessTrouterTenantToken}getFootprintTenantId(){return l.footprintTenantId}isUsingExperimentalNav(){return!1}isRTL(){return s.International.isRTL()}isElectronOsx(){return!1}isElectronWindows(){return!1}isElectronLinux(){return!1}isAnyWindowsOrOsx(){return this.isElectronWindows()||this.isElectronOsx()}isWindows11(){return this._isExpectedRSVersion((e=>e>=a.RSVersion.TwentyOneH2))}isWindows10(){return this._isExpectedRSVersion((e=>e<a.RSVersion.TwentyOneH2),(e=>10===e))}isWindows10Plus(){return this.isElectronWindows()&&(this.isWindows10()||this.isWindows11())}isCurrentRSVersionGreaterThan(e){return this._isExpectedRSVersion((t=>t>e))}isCurrentRSVersionEqualOrGreaterThan(e){return this._isExpectedRSVersion((t=>t>=e))}isCorporateInstallation(){return!n.isUndefined(this._corporateInstallationTag)}isRunningInBackgroundTokenRefreshMode(){return this._isRunningInBackgroundTokenRefreshMode}getCorporateInstallationTag(){return this._corporateInstallationTag||""}getCrashReportingAppId(){return"web.skype.com"===this._frontendHost?l.crashReporting.web.marketAppId:-1!==this._frontendHost.indexOf("preview.web.skype.com")?l.crashReporting.web.previewAppId:"0.0.84.1"===this.getAppVersion()||-1!==this._frontendHost.indexOf("dev.web.skype.com")?l.crashReporting.web.devAppId:-1!==this._frontendHost.indexOf("latest.web.skype.com")?l.crashReporting.web.latestAppId:void 0}isAlexaPlatformId(e){return e===l.platformId.alexa}getClientVersionAndPlatform(){return`${this.getSkypePlatformId()}/${this.getAppVersion()}`}_isExpectedRSVersion(e,t){const i=this.getOSVersion(),n=i.split(".")[2];if(t){const o=i.split(".")[0];return t(parseInt(o,10))&&e(parseInt(n,10))}return e(parseInt(n,10))}getWeatherDefaultConfig(){return l.weatherDefaultCfg}};t.default=p},376358:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.emptyProviderFlags=t.providers=void 0;const n=i(809206),o=i(217041),s=i(889391),a=i(18078);class r extends o.StoreBase{constructor(){super(),this.key="guest",this.flags=()=>({entitlements:{canHaveEntitlements:!this._isGuestUser},userSettings:{canChangeAppearance:!this._isGuestUser},navigation:{canAccessProfileSettings:!this._isGuestUser,canAccessGeneralSettings:!this._isGuestUser,canAccessCallingSettings:!this._isGuestUser,canAccessMessagingSettings:!this._isGuestUser,canAccessConversationDetails:!this._isGuestUser,canAccessRecentsList:!this._isGuestUser,canAccessUserDetails:!this._isGuestUser,canAccessPaymentsSettings:!this._isGuestUser},addins:{canSetupNativeReminders:void 0,canSetupInAppReminders:void 0,canUseAddins:!this._isGuestUser},onboarding:{canSeeCoachMarks:!this._isGuestUser,canSeeTutorial:!this._isGuestUser},identity:{canSeeGuestUpsell:this._isGuestUser,canUseSlashCommands:!this._isGuestUser},contacts:{canInvitePeople:!this._isGuestUser,canHaveContacts:!this._isGuestUser},meetnow:{canInvitePeople:!this._isGuestUser,canRequestPermissionsBeforeNavigation:!this._isGuestUser,canSetupLeftNavigation:!this._isGuestUser,canNavigateBackFromJoinInvite:!this._isGuestUser,canEditMeetingName:!this._isGuestUser,isUserNameRequired:this._isGuestUser},call:{canRefreshTokenBeforeRecordingCall:!this._isGuestUser,canSendMessageToParticipant:!this._isGuestUser,canProvideSpeechConsent:!this._isGuestUser,canEndCallForAll:!this._isGuestUser},cookie:{canSetThirdPartyCookies:void 0}}),a.default.subscribe((()=>{const e=a.default.isGuestUser();this._isGuestUser!==e&&(this._isGuestUser=e,this.trigger())})),this._isGuestUser=a.default.isGuestUser()}}const l=new r;class c extends o.StoreBase{constructor(){super(),this.flags=()=>({entitlements:{canHaveEntitlements:void 0},userSettings:{canChangeAppearance:void 0},navigation:{canAccessProfileSettings:void 0,canAccessGeneralSettings:void 0,canAccessCallingSettings:void 0,canAccessMessagingSettings:void 0,canAccessConversationDetails:void 0,canAccessRecentsList:void 0,canAccessUserDetails:void 0,canAccessPaymentsSettings:void 0},addins:{canSetupNativeReminders:void 0,canSetupInAppReminders:void 0,canUseAddins:void 0},onboarding:{canSeeCoachMarks:void 0,canSeeTutorial:void 0},identity:{canSeeGuestUpsell:void 0,canUseSlashCommands:void 0},contacts:{canInvitePeople:void 0,canHaveContacts:void 0},meetnow:{canInvitePeople:void 0,canRequestPermissionsBeforeNavigation:void 0,canSetupLeftNavigation:void 0,canNavigateBackFromJoinInvite:void 0,canEditMeetingName:void 0,isUserNameRequired:void 0},call:{canRefreshTokenBeforeRecordingCall:void 0,canSendMessageToParticipant:void 0,canProvideSpeechConsent:void 0,canEndCallForAll:void 0},cookie:{canSetThirdPartyCookies:void 0}}),s.default.subscribe((()=>{this.trigger()}))}}const d=new c;const u=new class{constructor(){this.key="platform",this.flags=()=>({entitlements:{canHaveEntitlements:void 0},userSettings:{canChangeAppearance:void 0},navigation:{canAccessProfileSettings:void 0,canAccessGeneralSettings:void 0,canAccessCallingSettings:void 0,canAccessMessagingSettings:void 0,canAccessConversationDetails:void 0,canAccessRecentsList:void 0,canAccessUserDetails:void 0,canAccessPaymentsSettings:void 0},addins:{canSetupNativeReminders:!1,canSetupInAppReminders:!1,canUseAddins:void 0},onboarding:{canSeeCoachMarks:void 0,canSeeTutorial:void 0},identity:{canSeeGuestUpsell:void 0,canUseSlashCommands:void 0},contacts:{canInvitePeople:void 0,canHaveContacts:void 0},meetnow:{canInvitePeople:void 0,canRequestPermissionsBeforeNavigation:void 0,canSetupLeftNavigation:void 0,canNavigateBackFromJoinInvite:void 0,canEditMeetingName:void 0,isUserNameRequired:void 0},call:{canRefreshTokenBeforeRecordingCall:void 0,canSendMessageToParticipant:void 0,canProvideSpeechConsent:void 0,canEndCallForAll:void 0},cookie:{canSetThirdPartyCookies:!n.BrowserEnvironment.isEngineWebkit()}})}};t.providers={ecsProvider:d,guestProvider:l,platformProvider:u},t.emptyProviderFlags={entitlements:{canHaveEntitlements:void 0},userSettings:{canChangeAppearance:void 0},navigation:{canAccessProfileSettings:void 0,canAccessGeneralSettings:void 0,canAccessCallingSettings:void 0,canAccessMessagingSettings:void 0,canAccessConversationDetails:void 0,canAccessRecentsList:void 0,canAccessUserDetails:void 0,canAccessPaymentsSettings:void 0},addins:{canSetupNativeReminders:void 0,canSetupInAppReminders:void 0,canUseAddins:void 0},onboarding:{canSeeCoachMarks:void 0,canSeeTutorial:void 0},identity:{canSeeGuestUpsell:void 0,canUseSlashCommands:void 0},contacts:{canInvitePeople:void 0,canHaveContacts:void 0},meetnow:{canInvitePeople:void 0,canRequestPermissionsBeforeNavigation:void 0,canSetupLeftNavigation:void 0,canNavigateBackFromJoinInvite:void 0,canEditMeetingName:void 0,isUserNameRequired:void 0},call:{canRefreshTokenBeforeRecordingCall:void 0,canSendMessageToParticipant:void 0,canProvideSpeechConsent:void 0,canEndCallForAll:void 0},cookie:{canSetThirdPartyCookies:void 0}}},725086:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCategoryHeaderHeight=void 0,t.getCategoryHeaderHeight=function(e){return 33}},791193:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});i(570655).__exportStar(i(725086),t)},977523:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ASMClientFailure=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(e,t,i,n){super(),this._serviceName=e,this._statusCode=t,this._scenario=i,this._tracingHeaders=n}getEventName(){return"ams_failure"}getAttributes(){const e=super.getAttributes();return e.service_name=this._serviceName,e.scenario=this._scenario,e.status_code=this._statusCode,e.request_id=this._tracingHeaders.requestId,e.correlation_id=this._tracingHeaders.correlationId,this._tracingHeaders.transactionId&&(e.transaction_id=this._tracingHeaders.transactionId),e}}t.ASMClientFailure=o},203092:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TrackForwarding=t.trackActionEvent=t.trackActionRender=t.trackImageLoadError=t.trackRenderTime=void 0;const n=i(671830),o=i(436237),s=i(500349),a=i(172758);var r,l,c;!function(e){e[e.Agent=0]="Agent",e[e.Connector=1]="Connector",e[e.Unknown=2]="Unknown",e[e.User=3]="User"}(r||(r={})),function(e){e[e.Rendered=0]="Rendered",e[e.Executed=1]="Executed"}(l||(l={})),function(e){e[e.Forwarded=0]="Forwarded",e[e.ImageLoadError=1]="ImageLoadError"}(c||(c={}));class d extends s.TelemetryEventBase{constructor(e){super(),this._sender=e}getEventName(){return"caap_adaptivecard"}getAttributes(){const e=super.getAttributes();return e.SenderType=r[C(this._sender)],this._allowedToTrackPII(this._sender)&&(e.SenderIdentity=this._sender,e.SenderName=a.default.getDisplayableUserByMri(this._sender).getDisplayName()),e}_allowedToTrackPII(e){return[r.Agent,r.Connector].indexOf(C(e))>=0}}class u extends d{constructor(e,t){super(e),this._renderTime=t}getAttributes(){const e=super.getAttributes();return e.RenderTime=this._renderTime,e}}class g extends d{getAttributes(){const e=super.getAttributes();return e.Action=c[c.ImageLoadError],e}}class h extends d{constructor(e,t){super(e),this._action=t}}class p extends h{getAttributes(){const e=super.getAttributes();return e.Action=l[l.Rendered],e.Type=this._action.type,e}}class S extends h{getAttributes(){const e=super.getAttributes();return e.Action=l[l.Executed],e.Type=this._action.type,e}}class m extends d{getAttributes(){const e=super.getAttributes();return e.Action=c[c.Forwarded],e}}function C(e){let t=r.Unknown;return n.isAgent(e)?t=r.Agent:n.isConnector(e)?t=r.Connector:n.isUserMri(e)&&(t=r.User),t}t.trackRenderTime=function(e,t){o.track(new u(e,t))},t.trackImageLoadError=function(e,t){o.track(new g(e))},t.trackActionRender=function(e,t){o.track(new p(e,t))},t.trackActionEvent=function(e,t){o.track(new S(e,t))},t.TrackForwarding=function(e){o.track(new m(e))}},452256:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AdIdProvisioningEvent=void 0;const n=i(496486),o=i(500349);class s extends o.TelemetryEventBase{constructor(e,t){super(),this._msacid=e,this._adId=t}getEventName(){return s.EventName}getAttributes(){return n.assign(super.getAttributes(),{ad_id:this._adId||"",MSACID:this._msacid})}shouldExcludeUserIdentificationInfo(){return!0}shouldExcludeDeviceIdentificationInfo(){return!0}getPiiAttributes(){return{}}}s.EventName="adid_provisioning",t.AdIdProvisioningEvent=s},81115:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertLoaded=t.AlertClicked=t.AlertsPanelOpened=void 0;const n=i(496486),o=i(746096),s=i(500349);class a extends s.TelemetryEventBase{getEventName(){return"all_notifications_panel"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.AlertsPanelOpened=class extends a{constructor(e,t){super(),this._alertTypesInfo=e,this._conversationsCount=t}getActionName(){return"Opened"}getAttributes(){return n.assign({},super.getAttributes(),{ReactionItemsCount:this._alertTypesInfo.reactionsCount,EngagementItemsCount:this._alertTypesInfo.engagementsCount,QuoteItemsCount:this._alertTypesInfo.quotesCount,MentionItemsCount:this._alertTypesInfo.mentionsCount,ConversationsCount:this._conversationsCount})}};t.AlertClicked=class extends a{constructor(e){super(),this._type=e}getActionName(){return"ItemClicked"}getAttributes(){return n.assign({},super.getAttributes(),{Type:o.AlertTypeForTelemetry[this._type]})}};t.AlertLoaded=class extends a{constructor(e){super(),this._type=e}getActionName(){return"ItemLoaded"}getAttributes(){return n.assign({},super.getAttributes(),{Type:o.AlertTypeForTelemetry[this._type]})}}},971657:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CommerceStratusRequest=t.ApiTelemetryEventBase=t.StratusApiTelemetry=void 0;const n=i(496486),o=i(640363),s=i(500349);var a;!function(e){e[e.CreateSkypeOrder=0]="CreateSkypeOrder",e[e.GetAtuContract=1]="GetAtuContract",e[e.ReactivateCredit=2]="ReactivateCredit",e[e.GetNonceForSsoLogin=3]="GetNonceForSsoLogin",e[e.GetCurrencyConversion=4]="GetCurrencyConversion",e[e.ProcessIOSTransaction=5]="ProcessIOSTransaction",e[e.ValidateIOSProductAvailability=6]="ValidateIOSProductAvailability",e[e.PostIOSTransactionStatus=7]="PostIOSTransactionStatus",e[e.ProcessGPlayTransaction=8]="ProcessGPlayTransaction",e[e.ValidateGPlayProductAvailability=9]="ValidateGPlayProductAvailability",e[e.ProcessGPlayReceipt=10]="ProcessGPlayReceipt",e[e.PostGPlayTransactionStatus=11]="PostGPlayTransactionStatus",e[e.CancelGPlayOrder=12]="CancelGPlayOrder",e[e.GetOrderDetails=13]="GetOrderDetails",e[e.GetAtuLimits=14]="GetAtuLimits",e[e.CancelAtu=15]="CancelAtu",e[e.EnableAtu=16]="EnableAtu",e[e.GetPurchaseOptions=17]="GetPurchaseOptions",e[e.GetCallerIdSettings=18]="GetCallerIdSettings",e[e.GetCallerIdNumbers=19]="GetCallerIdNumbers",e[e.AddCallerIdNumber=20]="AddCallerIdNumber",e[e.VerifyCallerIdNumber=21]="VerifyCallerIdNumber",e[e.RemoveCallerIdNumber=22]="RemoveCallerIdNumber",e[e.SetCallerId=23]="SetCallerId",e[e.DisableCallerId=24]="DisableCallerId",e[e.GetCallerIdAutoSelectNumbers=25]="GetCallerIdAutoSelectNumbers",e[e.SetCallerIdAutoSelect=26]="SetCallerIdAutoSelect",e[e.GetCallerIdCountries=27]="GetCallerIdCountries",e[e.GetCallingDestinations=28]="GetCallingDestinations",e[e.GetOffersCredit=29]="GetOffersCredit",e[e.GetOffersSubscriptions=30]="GetOffersSubscriptions",e[e.GetAvailableCountries=31]="GetAvailableCountries",e[e.GetCountryAreas=32]="GetCountryAreas",e[e.GetCountryPrefixes=33]="GetCountryPrefixes",e[e.GetCountryAreaPrefixes=34]="GetCountryAreaPrefixes",e[e.GetSuggestedNumberByCountry=35]="GetSuggestedNumberByCountry",e[e.GetSuggestedNumberByPrefix=36]="GetSuggestedNumberByPrefix",e[e.ReserveSkypeNumber=37]="ReserveSkypeNumber",e[e.GetDataCollectionFields=38]="GetDataCollectionFields",e[e.GetDataCollectionValuesList=39]="GetDataCollectionValuesList",e[e.GetDataCollectedForCountry=40]="GetDataCollectedForCountry",e[e.GetFrenchCities=41]="GetFrenchCities",e[e.GetConsumerEntitlement=42]="GetConsumerEntitlement",e[e.FetchSkypeNumbers=43]="FetchSkypeNumbers",e[e.GetEntitlementRecommendations=44]="GetEntitlementRecommendations",e[e.GetSubscriptionOffers=45]="GetSubscriptionOffers",e[e.GetUpgradeRecommendations=46]="GetUpgradeRecommendations",e[e.GetCallEventRecommendations=47]="GetCallEventRecommendations",e[e.GetSMSRatesOldApi=48]="GetSMSRatesOldApi",e[e.GetSMSRates=49]="GetSMSRates",e[e.GetBillingPeriods=50]="GetBillingPeriods",e[e.GetBillingPeriodsAssets=51]="GetBillingPeriodsAssets",e[e.GetSendCreditOptions=52]="GetSendCreditOptions",e[e.GetSendCreditOrderStatus=53]="GetSendCreditOrderStatus",e[e.CheckSendCreditBeneficiaryEligibility=54]="CheckSendCreditBeneficiaryEligibility",e[e.SendCredit=55]="SendCredit",e[e.GetBillingInformations=56]="GetBillingInformations"}(a=t.StratusApiTelemetry||(t.StratusApiTelemetry={}));class r extends s.TelemetryEventBase{getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.ApiTelemetryEventBase=r;t.CommerceStratusRequest=class extends r{constructor(e){super(),this._props={},this._props.ApiFunction=a[e],this._startTime=Date.now()}getEventName(){return"s4l_stratus_commerce"}getAriaTenantTokenOverride(){return o.default.getAriaCommerceTenantToken()}getActionName(){return"StratusRequest"}stopTimer(){return this._props.TimeSpent=String(Date.now()-this._startTime),this}addAttributes(e){return this._props.Method=e.method,this._props.AcceptType=e.acceptType,this._props.EndpointUrl=e.endpointUrl,this._props.StatusCode=e.statusCode,this._props.StratusStatusCode=e.stratusStatusCode,this}getAttributes(){return n.assign(super.getAttributes(),this._props)}}},121778:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LifeCycle=t.AppLifeCycleEvent=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(e,t,i){super(),this._lifeCycle=e,this._dwellTime=i,this._lifeCycleChangeTimestamp=t||Date.now()}getEventName(){return"app_open_status"}getAttributes(){const e=super.getAttributes();return e.LifeCycle=this._lifeCycle,e.LifeCycleChangeTimestamp=this._lifeCycleChangeTimestamp,this._dwellTime&&(e.DwellTime=this._dwellTime),e}}t.AppLifeCycleEvent=o,function(e){e.StartUp="Start",e.Active="Resume",e.Background="Background",e.Blur="Blur",e.Focus="Focus"}(t.LifeCycle||(t.LifeCycle={}))},2159:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AtuPaymentAuthorizationNavigated=t.AutoRechargeDisabled=t.AutoRechargeEnabled=t.AutoRechargeModalOpenDisabled=t.AutoRechargeModalOpenEnabled=t.AutoRechargeToggleInactive=t.AutoRechargeToggleDisabled=t.AutoRechargeToggleEnabled=t.AtuEventTypes=void 0;const n=i(640363),o=i(500349);var s;!function(e){e.AtuToggleEnabled="AutoRechargeToggleEnabled",e.AtuToggleDisabled="AutoRechargeToggleDisabled",e.AtuToggleInactive="AutoRechargeToggleInactive",e.AtuModalOpenEnabled="AutoRechargeModalOpenEnabled",e.AtuModalOpenDisabled="AutoRechargeModalOpenDisabled",e.AtuEnabled="AutoRechargeEnabled",e.AtuDisabled="AutoRechargeDisabled",e.AtuPaymentAuthorizationNavigated="AtuPaymentAuthorizationNavigated"}(s=t.AtuEventTypes||(t.AtuEventTypes={}));class a extends o.TelemetryEventBase{getEventName(){return"s4l_atu"}getAriaTenantTokenOverride(){return n.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.AutoRechargeToggleEnabled=class extends a{getActionName(){return s.AtuToggleEnabled}};t.AutoRechargeToggleDisabled=class extends a{getActionName(){return s.AtuToggleDisabled}};t.AutoRechargeToggleInactive=class extends a{getActionName(){return s.AtuToggleInactive}};t.AutoRechargeModalOpenEnabled=class extends a{getActionName(){return s.AtuModalOpenEnabled}};t.AutoRechargeModalOpenDisabled=class extends a{getActionName(){return s.AtuModalOpenDisabled}};t.AutoRechargeEnabled=class extends a{getActionName(){return s.AtuEnabled}};t.AutoRechargeDisabled=class extends a{getActionName(){return s.AtuDisabled}};t.AtuPaymentAuthorizationNavigated=class extends a{getActionName(){return s.AtuPaymentAuthorizationNavigated}}},140196:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PESAvatarChanged=void 0;const n=i(496486),o=i(500349),s=i(746096);class a extends o.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._triggeredBy=t}getEventName(){return"messaging_avatarpicker"}getAttributes(){const e=super.getAttributes();return e.Action=s.AvatarPickerAction[this._action],this._triggeredBy&&(e.TriggeredBy=this._triggeredBy),e}}t.PESAvatarChanged=class extends a{constructor(e,t,i,n,o,s){super(e,t),this._isSuccess=i,this._isUserAvatar=n,this._errorType=o,this._errorStatusCode=s}getAttributes(){const e=super.getAttributes();return e.IsSuccess=this._isSuccess,e.IsUserAvatar=this._isUserAvatar,n.isUndefined(this._errorType)||(e.ErrorType=s.AvatarChangeError[this._errorType]),n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),e}}},743484:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingASOnChatListTelemetryEvents=t.BingASOnChatList=void 0;const n=i(10385);!function(e){e.ConversationList="conversationList"}(t.BingASOnChatList||(t.BingASOnChatList={}));class o extends n.BingASTelemetryEvents{constructor(e,t,i){super(e),this._origin=t,this._suggestion=i}getAttributes(){const e=super.getAttributes();return e.Origin=this._origin,e.Suggestion=this._suggestion,e}}t.BingASOnChatListTelemetryEvents=o},10385:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingASTelemetryEvents=t.ASAction=void 0;const n=i(500349);var o;!function(e){e[e.Shown=0]="Shown",e[e.Clicked=1]="Clicked",e[e.Dismissed=2]="Dismissed"}(o=t.ASAction||(t.ASAction={}));class s extends n.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._muid=t}getEventName(){return"bing_auto_suggestion"}getAttributes(){const e=super.getAttributes();return e.Action=o[this._action],void 0!==this._muid&&(e.MUID=this._muid),e}}t.BingASTelemetryEvents=s},290890:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingIABHeaderTelemetryEvents=t.IABHeaderAction=void 0;const n=i(500349);var o;!function(e){e[e.Shown=0]="Shown",e[e.Clicked=1]="Clicked"}(o=t.IABHeaderAction||(t.IABHeaderAction={}));class s extends n.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"bing_iab_header"}getAttributes(){const e=super.getAttributes();return e.Action=o[this._action],e}}t.BingIABHeaderTelemetryEvents=s},426073:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingImageClickNotificationTelemetry=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(e){super(),this._statusCode=e}getEventName(){return"bing_image_click_notified"}getAttributes(){const e=super.getAttributes();return e.StatusCode=this._statusCode,e}}t.BingImageClickNotificationTelemetry=o},705210:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingSearchHistoryTelemetryEvents=t.HistoryAction=void 0;const n=i(500349);var o;!function(e){e[e.Shown=0]="Shown",e[e.Clicked=1]="Clicked"}(o=t.HistoryAction||(t.HistoryAction={}));class s extends n.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"bing_search_history"}getAttributes(){const e=super.getAttributes();return e.Action=o[this._action],e}}t.BingSearchHistoryTelemetryEvents=s},243858:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingPermissionsInteractionEvent=t.BingInteractionEvent=void 0;const n=i(823113),o=i(746096),s=i(500349);class a extends s.TelemetryEventBase{getEventName(){return"caap_bing"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.BingInteractionEvent=class extends a{constructor(e){super(),this._entryPoint=e}getActionName(){return"bing_interaction"}getAttributes(){const e=super.getAttributes();return e.InteractionType=o.BingEntryPoint[this._entryPoint],e}};t.BingPermissionsInteractionEvent=class extends a{constructor(e,t){super(),this._entryPoint=e,this._permissionStatus=t}getActionName(){return"bing_location_permissions"}getAttributes(){const e=super.getAttributes();return e.PermissionEntryPoint=o.BingPermissionsEntryPoint[this._entryPoint],e.Status=this._stringFromPermissionStatus(),e}_stringFromPermissionStatus(){switch(this._permissionStatus){case n.PermissionStatus.Denied:return"Denied";case n.PermissionStatus.Granted:return"Granted";case n.PermissionStatus.Unavailable:return"Unavailable";case n.PermissionStatus.Unknown:default:return"Unknown"}}}},226702:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingTrendingTelemetryEvents=t.TrendingAction=void 0;const n=i(500349);var o;!function(e){e[e.Shown=0]="Shown",e[e.Clicked=1]="Clicked"}(o=t.TrendingAction||(t.TrendingAction={}));class s extends n.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._muid=t}getEventName(){return"bing_trending_search"}getAttributes(){const e=super.getAttributes();return e.Action=o[this._action],void 0!==this._muid&&(e.MUID=this._muid),e}}t.BingTrendingTelemetryEvents=s},96691:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BingWebSearchHistoryTelemetryEvents=t.BingWebSearchAction=void 0;const n=i(500349);var o;!function(e){e[e.Delete=0]="Delete",e[e.ClearAll=1]="ClearAll"}(o=t.BingWebSearchAction||(t.BingWebSearchAction={}));class s extends n.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"bing_web_search_history"}getAttributes(){const e=super.getAttributes();return e.Action=o[this._action],e}}t.BingWebSearchHistoryTelemetryEvents=s},249758:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ShareMagicBotLink=t.AutoAddBotExperiment=t.BotShareInteraction=t.BotMessageInteraction=t.BotContactInteraction=t.BotChatInteraction=t.BotCategoryMoreInteraction=t.BotProfileInteraction=t.BotInteraction=void 0;const n=i(746096),o=i(500349);class s extends o.TelemetryEventBase{getEventName(){return"caap_bot"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.BotInteraction=class extends s{constructor(e){super(),this._interaction=e}getActionName(){return n.BotsInteraction[this._interaction]}};t.BotProfileInteraction=class extends s{constructor(e,t,i){super(),this._botId=e,this._botName=t,this._isViewingProfile=i}getActionName(){return this._isViewingProfile?n.BotsInteraction[n.BotsInteraction.ViewBotProfile]:n.BotsInteraction[n.BotsInteraction.CloseBotProfile]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botId,e.BotName=this._botName,e}};t.BotCategoryMoreInteraction=class extends s{constructor(e){super(),this._category=e}getActionName(){return n.BotsInteraction[n.BotsInteraction.ClickMoreForCategory]}getAttributes(){const e=super.getAttributes();return e.Category=this._category,e}};t.BotChatInteraction=class extends s{constructor(e,t,i,n){super(),this._botId=e,this._botName=t,this._isBotAContact=i,this._originatingPanel=n}getActionName(){return n.BotsInteraction[n.BotsInteraction.ClickChatWithBot]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botId,e.BotName=this._botName,e.IsBotAContact=this._isBotAContact,e.OriginatingPanel=n.BotsOriginatingPanel[this._originatingPanel],e}};t.BotContactInteraction=class extends s{constructor(e,t,i){super(),this._botInteraction=e,this._botId=t,this._botName=i}getActionName(){return n.BotsInteraction[this._botInteraction]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botId,e.BotName=this._botName,e}};t.BotMessageInteraction=class extends s{constructor(e,t){super(),this._botId=e,this._botName=t}getActionName(){return n.BotsInteraction[n.BotsInteraction.MessageBot]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botId,e.BotName=this._botName,e}};t.BotShareInteraction=class extends s{constructor(e,t,i){super(),this._botId=e,this._botName=t,this._originatingPanel=i}getActionName(){return n.BotsInteraction[n.BotsInteraction.ClickShareBot]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botId,e.BotName=this._botName,e.OriginatingPanel=n.BotsOriginatingPanel[this._originatingPanel],e}};t.AutoAddBotExperiment=class extends s{constructor(e){super(),this._botId=e}getActionName(){return n.BotsInteraction[n.BotsInteraction.AutoAddBot]}getAttributes(){const e=super.getAttributes();return e.BotID=this._botId,e}};t.ShareMagicBotLink=class extends s{constructor(){super()}getActionName(){return n.BotsInteraction[n.BotsInteraction.ShareMagicBotLink]}}},496757:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserError=t.BrowserShareExternal=t.BrowserForward=t.BrowserOpenUrl=t.BrowserCopy=t.BrowserSession=t.BrowserCallingSupportEvent=t.BrowserUrlSharedEvent=t.BrowserSwiftCardSharedEvent=t.BrowserShareUrlPreviewEvent=t.BrowserShareCardPreviewEvent=void 0;const n=i(636076),o=i(148540),s=i(260021),a=i(671830),r=i(746096),l=i(18078),c=i(500349);class d extends c.TelemetryEventBase{constructor(e,t,i){super(),this._origin=e,this._shareAction=t,this._integration=i}getEventName(){return"browser_action"}getEventTraceMode(){return c.TelemetryTraceMode.EventName}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.Origin=r.BrowserOrigin[this._origin],this._shareAction&&(e.ShareAction=r.BrowserShareAction[this._shareAction]),this._integration&&(e.Integration=this._integration),e}}t.BrowserShareCardPreviewEvent=class extends d{constructor(e,t,i,n){super(n,t,i),this._cardType=e}getActionName(){return"browser_shareCardPreview"}getAttributes(){const e=super.getAttributes();return e.CardType=this._cardType,e}};t.BrowserShareUrlPreviewEvent=class extends d{constructor(e,t,i,n){super(n,t,i),this._url=e}getActionName(){return"browser_shareUrlPreview"}getPiiAttributes(){const e=super.getPiiAttributes();return e.Url={value:this._url,piiKind:n.AWTPiiKind.Uri},e}};t.BrowserSwiftCardSharedEvent=class extends d{constructor(e,t,i,n,o,s,a){super(n,t,i),this._cardType=e,this._forward=o,this._conversationId=s,this._cmid=a}getActionName(){return"browser_shareCard"}getCorrelationAttributes(){return{Message_Correlation_Id:s.getCorrelationIdFromMessageParts(a.skypeIdToMri(l.default.getSkypeId()),this._conversationId,this._cmid)}}getAttributes(){const e=super.getAttributes();return e.CardType=this._cardType,e.Forward=this._forward,e}};t.BrowserUrlSharedEvent=class extends d{constructor(e,t,i,n,o,s,a){super(n,void 0,t),this._url=e,this._forward=o,this._conversationId=s,this._cmid=a}getActionName(){return"browser_shareUrl"}getCorrelationAttributes(){return{Message_Correlation_Id:s.getCorrelationIdFromMessageParts(a.skypeIdToMri(l.default.getSkypeId()),this._conversationId,this._cmid)}}getAttributes(){const e=super.getAttributes();return e.ShareAction=r.BrowserShareAction[r.BrowserShareAction.ShareUrlFromBrowser],e.Forward=this._forward,e}getPiiAttributes(){const e=super.getPiiAttributes();return e.Url={value:this._url,piiKind:n.AWTPiiKind.Uri},e}};class u extends c.TelemetryEventBase{constructor(e,t){super(),this._support=e,this._error=t}getEventName(){return"browser_calling_support"}getAttributes(){var e;const t=super.getAttributes();return t.Action=o.CallSupport[this._support],this._error&&(t.ErrorMessage=null!==(e=this._error.message)&&void 0!==e?e:"Unknown"),t}}t.BrowserCallingSupportEvent=u;class g extends c.TelemetryEventBase{constructor(e,t){super(),this._url=e,this._origin=t}getEventName(){return"inapp_browser"}getAttributes(){const e=super.getAttributes();return e.operation=this.getOperation(),e.origin=this._origin,e}getPiiAttributes(){const e=super.getPiiAttributes();return e.url={value:this._url,piiKind:n.AWTPiiKind.Uri},e}}t.BrowserSession=class extends g{constructor(e,t,i){super(e,t),this._duration=i}getOperation(){return"browserSession"}getAttributes(){const e=super.getAttributes();return e.duration=this._duration,e}};t.BrowserCopy=class extends g{getOperation(){return"copy"}};t.BrowserOpenUrl=class extends g{getOperation(){return"openUrlInBrowser"}};t.BrowserForward=class extends g{getOperation(){return"forward"}};t.BrowserShareExternal=class extends g{getOperation(){return"shareExternal"}getActionName(){}};t.BrowserError=class extends g{getOperation(){return"error"}}},65782:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(500349);class o extends n.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"calendar_extension"}getAttributes(){const e=super.getAttributes();return e.Action=this._action,e}}t.default=o},915678:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CaptionsNotificationClickedEvent=t.NotificationActionButtonType=t.CaptionsNotificationDisplayedEvent=void 0;const n=i(500349);class o extends n.TelemetryEventBase{getEventName(){return"calling_call_captions_notifications"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}var s;t.CaptionsNotificationDisplayedEvent=class extends o{constructor(e,t,i){super(),this._callId=e,this._type=t,this._variantB=i}getActionName(){return"NotificationDisplayed"}getAttributes(){const e=super.getAttributes();return e.CallId=this._callId,e.Type=this._type,e.Variant=void 0===this._variantB?"-":!1===this._variantB?"B":"A",e}},function(e){e[e.Primary=0]="Primary",e[e.Secondary=1]="Secondary"}(s=t.NotificationActionButtonType||(t.NotificationActionButtonType={}));t.CaptionsNotificationClickedEvent=class extends o{constructor(e,t,i,n){super(),this._callId=e,this._type=t,this._variantB=i,this._actionButton=n}getActionName(){return"NotificationClicked"}getAttributes(){const e=super.getAttributes();return e.CallId=this._callId,e.Type=this._type,e.ActionButton=s[this._actionButton],e.Variant=void 0===this._variantB?"-":!1===this._variantB?"B":"A",e}}},30062:(e,t,i)=>{var n,o;Object.defineProperty(t,"__esModule",{value:!0}),t.CallPermissionsBrowserEvent=t.InitialScreen=t.AVPermissionsAction=void 0,function(e){e[e.Cancel=0]="Cancel",e[e.ContinueWithoutAV=1]="ContinueWithoutAV",e[e.PermissionGranted=2]="PermissionGranted",e[e.None=3]="None"}(n=t.AVPermissionsAction||(t.AVPermissionsAction={})),function(e){e[e.AllowPrompt=0]="AllowPrompt",e[e.DenyPrompt=1]="DenyPrompt"}(o=t.InitialScreen||(t.InitialScreen={}));const s=i(500349);class a extends s.TelemetryEventBase{constructor(e){super(),this._initialState=e,this._action=n.None}getEventName(){return"calling_permissions_browser"}setAction(e){this._action=e}getAttributes(){const e=super.getAttributes();return e.Action=n[this._action],e.InitialState=o[this._initialState],e}}t.CallPermissionsBrowserEvent=a},633896:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CallTabsListTelemetry=t.CallTabsButtonsTelemetry=t.CallTabsSearchTelemetry=void 0;const n=i(994460),o=i(500349),s=i(746096);class a extends o.TelemetryEventBase{getEventName(){return"s4l_call_tabs"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.CallTabsSearchTelemetry=class extends a{constructor(e){super(),this._origin=e}getActionName(){return"CallTabsSearch"}getAttributes(){const e=super.getAttributes();return e.origin=s.SearchPanelInitiator[this._origin],e}};t.CallTabsButtonsTelemetry=class extends a{constructor(e,t,i,n){super(),this._tab=e,this._button=t,this._event=i,this._userHasEntitlements=n}getActionName(){return"CallTabsButtons"}getAttributes(){const e=super.getAttributes();return e.tab=n.Tab[this._tab],e.button=n.Buttons[this._button],e.event=n.ButtonEvents[this._event],this._userHasEntitlements&&(e.userHasEntitlements=this._userHasEntitlements),e}};t.CallTabsListTelemetry=class extends a{constructor(e,t){super(),this._tab=e,this._event=t}getActionName(){return"CallTabsList"}getAttributes(){const e=super.getAttributes();return e.tab=n.Tab[this._tab],e.event=n.ButtonEvents[this._event],e}}},109520:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CallAddPhotosWithFabEvent=t.CallAddPhotosEvent=t.CallAddPhotosEntryPoint=t.CallActivitiesEntryPoint=t.AnswerCallStep=t.AnswerCallNotificationLocation=t.CalleeStopRingingReason=t.AnswerCallEndReason=t.IncomingCallStep=t.IncomingCallEndReason=t.CallRosterSession=t.ToggleCallTray=t.UnpinCallParticipant=t.PinCallParticipant=t.Zoom=t.CallVideoSettingsPopup=t.CallAudioSettingsPopup=t.CallCrashEvent=t.UnansweredCallActionEvent=t.RinglessCallInterstitialEvent=t.RinglessCallInterstitialActions=t.ScreenSharingStoppedEvent=t.RingTheGroupEvent=t.CallPreviewEvent=t.CallPreviewActions=t.CQF=t.WarmCalNotificationDisposition=t.CallIntention=t.CallEntryPoint=t.CallActionCalleeUserPresence=t.CallActionCallKitSuccess=t.CallActionCallKitError=t.CallManagerError=t.CallActionError=t.InCallActivity=t.InCallUFD=t.OverflowMenuOpenedEvent=t.InCallReaction=t.CallActionInviteFreeDecline=t.CallActionEnterFromCallCard=t.CallActionTokenRequested=t.CallActionTokenState=t.CallActionStopRinging=t.CallActionStartRinging=t.IncomingCallNotificationFailure=t.CallInitFailure=t.CallActionPushNotification=t.StopRingReason=t.CallActionBase=t.Call=void 0,t.MobileCallAnswerEvent=t.MobileCallAnswerActions=t.TogetherModePanelActionEvent=t.TogetherModePanelActionOrigin=t.CallStageLayoutChangeEvent=t.CallViewMenuActionEvent=t.SpeakerViewEvent=t.SystemHotKeyCallEvent=t.SystemHotKeyCallAction=t.AudioOutputRouteChangedEvent=t.CallMergeEvent=t.ScreenShareSourceGetIconFailure=t.ScreenShareSourceGetPreviewFailure=t.IncomingVideoNotification=t.IncomingVideoNotificationAction=t.CallbackReminderTappedEvent=t.CallbackReminderTappedAction=t.BingBackgroundsDownloadApiEvent=t.BackgroundEffectsBingInfoClickEvent=t.BackgroundEffectEvent=t.BackgroundBlurEvent=t.BackgroundEffectsSettingsEvent=t.LocalVideoActionsEvent=t.CallViewMenuActions=t.LocalVideoActions=t.CallPstnTranslationSettingsOpened=t.CallPstnTranslationLanguageChangeEvent=t.CallCaptioningEvent=t.EndCallPopupMenuActionsEvent=t.EndCallPopupActions=t.RibbonSettingsMenuActionEvent=t.RibbonSettingsMenuActions=t.CanvasAndRibbonActionsEvent=t.CanvasAndRibbonActions=t.AddBotToCallSucceededEvent=t.AddBotToCallFailedEvent=t.AddBotToCallEvent=t.CallTranslatorDebugEvent=t.CallTranslatorDebugEventType=t.CallRecorderBotDebugEvent=t.CallRecorderBotDebugEventType=t.CallMuteEveryoneEvent=t.MuteEveryoneOrigin=t.CallAddToCallEvent=t.NdiBroadcastEvent=t.CallRecordingEvent=t.CallDataChannelEvent=t.CallDataChannelEventType=t.CallFullScreenBotError=t.CallFullScreenBotEvent=void 0,t.CallSlimCoreError=t.CallSlimCoreErrorType=t.IncomingCallScreenDisplayedEvent=t.CallConnectedOnAnswerEvent=t.TouchBarButtonClickEvent=t.FallbackFromJoinPreheatedToRegularJoinEvent=t.CancelPreheatedCallNotJoinedEvent=t.FullChatUXTelemetryEvent=t.FullChatUXNavigation=t.MaybeEndCallFromAndroidBtScoDisconnectEvent=t.MediaActionEvent=t.MediaActionEventResult=t.CallControlContext=void 0;const n=i(636076),o=i(496486),s=i(516778),a=i(148540),r=i(598925),l=i(480200),c=i(671830),d=i(671830),u=i(746096),g=i(640363),h=i(500349),p=i(500787),S=i(735370),m=i(163841),C=i(813598),y=i(47447),f=i(912770),b=i(3553);class _ extends h.TelemetryEventBase{constructor(e,t,i,n,o){super(),this._callId=e,this._conversationId=t,this._participantId=i,this._nodeId=n,this._origin=o,this._textReactionCount=0,this._emoticonReactionCount=0,this._animationReactionCount=0,this._photoReactionCount=0,this._mediaPickerPhotoReactionCount=0,this._navigateToMediaStageCount=0,this._moveParticipantToStageCount=0,this._moveSelfToStageCount=0,this._moveSelfToRibbonCount=0,this._moveParticipantToRibbonCount=0,this._sideNavigateInCallCount=0,this._backgroundAppInCallCount=0,this._toggleCameraCount=0,this._localMuteCount=0,this._localUnmuteCount=0,this._muteMicButtonPressCount=0,this._muteKeyboardShortcutPressCount=0,this._muteCommandServiceInvokeCount=0,this._muteCallMonitorPressCount=0,this._muteFloatingPipPressCount=0,this._muteCallRosterPressCount=0,this._muteSystemHotKeyPressCount=0,this._muteLocalVideoContextMenuPressCount=0,this._resizedOwnPreviewCount=0,this._movedOwnPreviewCount=0,this._dockedOwnPreviewCount=0,this._reactionThreadCreationDelay=0,this._photoSnapshotCount=0,this._photoSnapshotAudioCount=0,this._photoSnapshotVideoCount=0,this._photoSnapshotScreenShareCount=0,this._callDurationSeconds=0,this._incomingVideoUserNotificationCount=0,this._didEnterMinWidth=!1,this._callConnectionDurationMilliseconds=0,this._localVideoCallMonitorPressCount=0,this._callMonitorShowCount=0,this._callMonitorCloseCount=0,this._didEndCallFromCallMonitor=!1}getAttributes(){const e=o.assign(super.getAttributes(),this._getOwnAttributes()),t=S.getTrackableConversationId(this._conversationId);return t&&(e.ConversationId=t),e}getEventPriority(){return n.AWTEventPriority.High}_getOwnAttributes(){return{CallId:this._callId||"",ParticipantId:this._participantId||"",NodeId:this._nodeId||"",DidUserReact:this._textReactionCount>0||this._emoticonReactionCount>0||this._photoReactionCount>0||this._mediaPickerPhotoReactionCount>0||this._photoSnapshotCount>0||this._animationReactionCount>0,ReactionCount:this._textReactionCount+this._emoticonReactionCount+this._photoReactionCount+this._mediaPickerPhotoReactionCount+this._photoSnapshotCount+this._animationReactionCount,TextReactionCount:this._textReactionCount,EmoticonReactionCount:this._emoticonReactionCount,PhotoReactionCount:this._photoReactionCount,AnimationReactionCount:this._animationReactionCount,MediaPickerPhotoReactionCount:this._mediaPickerPhotoReactionCount,DidUserNavigateToMediaStage:this._navigateToMediaStageCount>0,NavigateToMediaStageCount:this._navigateToMediaStageCount,MoveParticipantToStageCount:this._moveParticipantToStageCount,MoveParticipantToRibbonCount:this._moveParticipantToRibbonCount,MoveSelfToRibbonCount:this._moveSelfToRibbonCount,MoveSelfToStageCount:this._moveSelfToStageCount,DidUserSideNavigateInCall:this._sideNavigateInCallCount>0,SideNavigateInCallCount:this._sideNavigateInCallCount,DidUserBackgroundAppInCall:this._backgroundAppInCallCount>0,BackgroundAppInCallCount:this._backgroundAppInCallCount,DidUserToggleCamera:this._toggleCameraCount>0,ToggleCameraCount:this._toggleCameraCount,LocalMuteCount:this._localMuteCount,LocalUnmuteCount:this._localUnmuteCount,MuteMicButtonPressCount:this._muteMicButtonPressCount,MuteKeyboardShortcutPressCount:this._muteKeyboardShortcutPressCount,MuteCommandServiceInvokeCount:this._muteCommandServiceInvokeCount,MuteCallMonitorPressCount:this._muteCallMonitorPressCount,MuteFloatingPipPressCount:this._muteFloatingPipPressCount,MuteCallRosterPressCount:this._muteCallRosterPressCount,MuteSystemHotKeyPressCount:this._muteSystemHotKeyPressCount,MuteLocalVideoContextMenuPressCount:this._muteLocalVideoContextMenuPressCount,ResizedOwnPreviewCount:this._resizedOwnPreviewCount,MovedOwnPreviewCount:this._movedOwnPreviewCount,DockedOwnPreviewCount:this._dockedOwnPreviewCount,ReactionThreadCreationDelay:this._reactionThreadCreationDelay,Origin:u.NavigationCallOrigin[this._origin],CallConversationMriNamespace:this._callConversationMriNamespace?c.Namespaces[this._callConversationMriNamespace]:"",PhotoSnapshotCount:this._photoSnapshotCount,DidUserPostPhotoSnapshot:this._photoSnapshotCount>0,PhotoSnapshotAudioCount:this._photoSnapshotAudioCount,PhotoSnapshotVideoCount:this._photoSnapshotVideoCount,PhotoSnapshotScreenShareCount:this._photoSnapshotScreenShareCount,CallDurationSeconds:this._callDurationSeconds,CallConnectionDurationMilliseconds:this._callConnectionDurationMilliseconds,UserToggledIncomingVideoViaNotificationCount:this._incomingVideoUserNotificationCount,DidEnterMinWidth:this._didEnterMinWidth,LocalVideoCallMonitorPressCount:this._localVideoCallMonitorPressCount,CallMonitorShowCount:this._callMonitorShowCount,CallMonitorCloseCount:this._callMonitorCloseCount,DidEndCallFromCallMonitor:this._didEndCallFromCallMonitor}}postAnimationReaction(){this._animationReactionCount++}postTextReaction(){this._textReactionCount++}postEmoticonReaction(){this._emoticonReactionCount++}postPhotoReaction(){this._photoReactionCount++}postMediaPickerPhotoReaction(){this._mediaPickerPhotoReactionCount++}navigateToMediaStage(){this._navigateToMediaStageCount++}moveParticipantToStage(){this._moveParticipantToStageCount++}moveParticipantToRibbon(){this._moveParticipantToRibbonCount++}moveSelfToStage(){this._moveSelfToStageCount++}moveSelfToRibbon(){this._moveSelfToRibbonCount++}sideNavigateInCall(){this._sideNavigateInCallCount++}backgroundAppInCall(){this._backgroundAppInCallCount++}toggleCamera(){this._toggleCameraCount++}localMute(){this._localMuteCount++}localUnmute(){this._localUnmuteCount++}micButtonPress(){this._muteMicButtonPressCount++}muteKeyboardShortcutPress(){this._muteKeyboardShortcutPressCount++}muteCommandServiceInvoke(){this._muteCommandServiceInvokeCount++}muteCallMonitorPress(){this._muteCallMonitorPressCount++}muteFloatingPipPress(){this._muteFloatingPipPressCount++}muteCallRosterPress(){this._muteCallRosterPressCount++}muteSystemHotKeyPress(){this._muteSystemHotKeyPressCount++}muteLocalVideoContextMenuPress(){this._muteLocalVideoContextMenuPressCount++}resizeOwnPreview(){this._resizedOwnPreviewCount++}moveOwnPreview(){this._movedOwnPreviewCount++}dockOwnPreview(){this._dockedOwnPreviewCount++}setReactionThreadCreationDelay(e){this._reactionThreadCreationDelay=e}updateParticipantId(e){this._participantId=e}setCallConversationMriNamespace(e){this._callConversationMriNamespace=e}postPhotoSnapshot(){this._photoSnapshotCount++}setPhotoSnapshotMakeup(e,t,i){this._photoSnapshotAudioCount=e,this._photoSnapshotVideoCount=t,this._photoSnapshotScreenShareCount=i}setCallDurationSeconds(e){this._callDurationSeconds=e}setCallConnectionDurationMilliseconds(e){this._callConnectionDurationMilliseconds=e}incomingVideoNotificationHit(){this._incomingVideoUserNotificationCount++}setEnterMinWidth(){this._didEnterMinWidth=!0}localVideoCallMonitorPress(){this._localVideoCallMonitorPressCount++}showCallMonitor(){this._callMonitorShowCount++}setEndCallFromCallMonitor(){this._didEndCallFromCallMonitor=!0}closeCallMonitor(){this._callMonitorCloseCount++}}t.Call=class extends _{constructor(e){super(e.callId,e.conversationId,e.participantId,e.nodeId,e.origin),this._params=e,this._startVideoCount=0,this._stopVideoCount=0,this._startScreenSharingCount=0,this._stopScreenSharingCount=0,this._cancelSreenSharingCount=0,this._startActivityCount=0,this._stopActivityCount=0,this._startSoundSharingCount=0,this._screenSharingDroppedCount=0,this._screenSharingStolenCount=0,this._switchScreenWhileSharingCount=0,this._orientationLandscapeCount=0,this._orientationPortraitCount=0,this._isConversationAccepted=!1,this._isConversationAutoAccepted=!1,this._isEscalatedToGroup=!1,this._escalationUserCount=0,this._addUsersToGroupCount=0,this._ringUsersToCallCount=0,this._autoAnsweredWithAudio=!1,this._autoAnsweredWithVideo=!1,this._wasOffline=!1,this._wasSuspended=!1,this._didShowReconnectUI=!1,this._callReconnectStart=0,this._callReconnectEnd=0,this._callReconnectDuration=0,this._callDurationAfterReconnect=0,this._callDroppedDuringReconnect=!1,this._didShowPoorConnectionUI=!1,this._connectionType=a.ConnectionType.AllSupported,this._mccCode="",this._mncCode="",this._startRecordingCount=0,this._stopRecordingCount=0,this._startNdiCount=0,this._stopNdiCount=0,this._showBlockedVideoBannerCount=0,this._navBarOpenedCount=0,this._navBarClosedCount=0,this._isPSTNCall=!1,this._maxConnectedParticipants=0,this._groupMemberCount=0,this._soloModeDurationSeconds=0,this._isGoLive=!1,this._chatOpenedCount=0,this._galleryOpenedCount=0,this._manualDismissedUFDCount=0,this._autoDismisssedUFDCount=0,this._actionedUFDCount=0,this._totalUFDCount=0,this._totalSuccessfulToggleVideoPress=0,this._totalIgornedToggleVideoPress=0,this._callRosterOpenedCount=0,this._callRosterClosedCount=0,this._callRosterGetAllParticipantsFailedCount=0,this._audioOnlyStartedCount=0,this._audioOnlyStoppedCount=0,this._audioOnlySuggestedCount=0,this._enabledIncomingVideoCount=0,this._disabledIncomingVideoCount=0,this._startCaptioningCount=0,this._startPstnTranslationAttemptCount=0,this._startSkypeTranslationAttemptCount=0,this._stopSkypeTranslationAttemptCount=0,this._skypeTranslationStartedCount=0,this._skypeTranslationStoppedCount=0,this._stopCaptioningCount=0,this._startCustomVoiceCount=0,this._stopCustomVoiceCount=0,this._startTranslationAutoDetectCount=0,this._stopTranslationAutoDetectCount=0,this._failedCaptioningConfigCount=0,this._receiverSetupCount=0,this._displayScreenSharingDialogCount=0,this._didUserDisplayScreenSharingDialog=!1,this._didReceiveCaptions=!1,this._didRenderRemoteVideo=!1,this._captionsPositionModeChanged=0,this._firstCaptionReceivedLengthSeconds=0,this._startingCaptionsMessageClickedCount=0,this._audioSystemResetCount=0,this._wholeScreenSharedCount=0,this._appWindowSharedCount=0,this._startBackgroundBlurCount=0,this._stopBackgroundBlurCount=0,this._durationWithBackgroundBlurRatio=0,this._startSpeakerViewCount=0,this._stopSpeakerViewCount=0,this._durationInSpeakerViewRatio=0,this._callMergeRequested=0,this._callMergeSucceed=0,this._zoomedInCount=0,this._zoomedInDuration=0,this._zoomedOutCount=0,this._zoomDragUsed=!1,this._zoomUIControlsUsedCount=0,this._zoomScrollWheelUsedCount=0,this._zoomKeyboardUsedCount=0,this._zoomTrackPadUsedCount=0,this._accessedDialpadCount=0,this._displayedDtmfWarningCount=0,this._screenShareControlReceivedControlRequestCount=0,this._screenShareControlReceivedControlRequestCanceledCount=0,this._screenShareControlSentControlRequestCount=0,this._screenShareControlRequestAcceptedCount=0,this._screenShareControlRequestDeniedCount=0,this._screenShareControlGrantedCount=0,this._screenShareControlSharerTerminatedControlCount=0,this._screenShareControlViewerTerminatedControlCount=0,this._pinToolbar=0,this._unpinToolbar=0,this._couldGiveControl=!1,this._callManagerUsed=!1,this._startBackgroundEffectCount={[u.BackgroundEffect.Blur]:0,[u.BackgroundEffect.BackgroundImage]:0},this._stopBackgroundEffectCount={[u.BackgroundEffect.Blur]:0,[u.BackgroundEffect.BackgroundImage]:0},this._durationWithBackgroundEffectRatio={[u.BackgroundEffect.Blur]:0,[u.BackgroundEffect.BackgroundImage]:0},this._bingBackgroundEffectCaptionClickCount=0,this._startTogetherMode=!1,this._ableToStartTogetherMode=!1,this._startLargeGridMode=!1,this._ableToStartLargeGridMode=!1,this._togetherModeSceneChangeRequestCount=0,this._noiseSuppressionMode=a.NoiseSuppressionMode.Auto,this._noiseSuppressionAvailable=!1,this._badQualityCounts=new Map,this._hadNewCallStageEnabled=!1,this._hadOldCallStageEnabled=!1,this._hadNativeIncomingCallNotificationsEnabled=!1,this._totalCallingStoreUpdateTime=0,this._numberOfCallingStoreUpdates=0,this._showShareTwinCamConnectionCount=0,this._twinCamConnectionUsedCount=0,this._twinCamConnectionFailedCount=0,this._stopTwinCamCount=0,this._ableToStartTwinCam=!1,this._terminatedWithTwinCam=!1,this._callNetworkErrorReason=a.TerminatedReason.Undefined,this._failedToggleMicCount=0,this._toggleMicTimedOutCount=0,this._failedToggleVideoCount=0,this._failedHangUpCount=0,this._noiseSuppressionMode=e.noiseSuppressionMode,this._noiseSuppressionAvailable=e.isNoiseSuppressionAvailable}getEventName(){return"calling_call"}getAttributes(){const e=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({CallingStack:y.CallingCapabilities.isPluginlessCallingStack()?"pluginless":"slimcore",IsGroupCall:this._params.isGroupCall,IsCallCreator:this._params.isCallCreator,DidUserStartVideo:this._startVideoCount>0,StartVideoCount:this._startVideoCount,DidUserStopVideo:this._stopVideoCount>0,StopVideoCount:this._stopVideoCount,StartScreenSharingCount:this._startScreenSharingCount,SwitchScreenWhileSharingCount:this._switchScreenWhileSharingCount,StopScreenSharingCount:this._stopScreenSharingCount,StartSoundSharingCount:this._startSoundSharingCount,CancelScreenSharingCount:this._cancelSreenSharingCount,ScreenSharingDroppedCount:this._screenSharingDroppedCount,ScreenSharingStolenCount:this._screenSharingStolenCount,DidUserStartScreenSharing:this._startScreenSharingCount>0,DidUserSwitchScreenWhileSharing:this._switchScreenWhileSharingCount>0,DidUserStopScreenSharing:this._stopScreenSharingCount>0,DidUserChangeOrientation:this._orientationLandscapeCount>0||this._orientationPortraitCount>0,OrientationLandscapeCount:this._orientationPortraitCount,OrientationPortraitCount:this._orientationPortraitCount,IsConversationAccepted:this._isConversationAccepted,IsConversationAutoAccepted:this._isConversationAutoAccepted,IsEscalatedToGroup:this._isEscalatedToGroup,EscalationUserCount:this._escalationUserCount,AddUsersToGroupCount:this._addUsersToGroupCount,RingUsersToCallCount:this._ringUsersToCallCount,CallWasAutoAnsweredWithAudio:this._autoAnsweredWithAudio,CallWasAutoAnsweredWithVideo:this._autoAnsweredWithVideo,WasOffline:this._wasOffline,WasSuspended:this._wasSuspended,DidShowReconnectUI:this._didShowReconnectUI,CallReconnectDuration:this._callReconnectDuration,CallDurationAfterReconnect:this._callDurationAfterReconnect,CallDroppedDuringReconnect:this._callDroppedDuringReconnect,DidShowPoorConnectionUI:this._didShowPoorConnectionUI,StartActivityCount:this._startActivityCount,StopActivityCount:this._stopActivityCount,NetworkMCCCode:this._mccCode,NetworkMNCCode:this._mncCode,ConnectionType:this._connectionType,StartRecordingCount:this._startRecordingCount,StopRecordingCount:this._stopRecordingCount,StartNdiCount:this._startNdiCount,StopNdiCount:this._stopNdiCount,ShowBlockedVideoBannerCount:this._showBlockedVideoBannerCount,NavigationBarDesktopOpenedCount:this._navBarOpenedCount,NavigationBarDesktopClosedCount:this._navBarClosedCount,IsPSTNCall:this._isPSTNCall,IsGoLive:this._isGoLive,IsMeetNow:this._params.isLegacyMeetNow,MaxConnectedParticipants:this._maxConnectedParticipants||0,GroupMemberCount:this._groupMemberCount||0,SoloModeDurationSeconds:this._soloModeDurationSeconds,ChatOpenedCount:this._chatOpenedCount,GalleryOpenedCount:this._galleryOpenedCount,ColorTheme:this._colorTheme?m.Theme[this._colorTheme]:"",ActionedUFDCount:this._actionedUFDCount,ManualDismissedUFDCount:this._manualDismissedUFDCount,AutoDismissedUFDCount:this._autoDismisssedUFDCount,TotalUFDCount:this._totalUFDCount,ToggleVideoSuccessfulCount:this._totalSuccessfulToggleVideoPress,ToggleVideoIgnoredCount:this._totalIgornedToggleVideoPress,CallRosterOpenedCount:this._callRosterOpenedCount,CallRosterClosedCount:this._callRosterClosedCount,CallRosterGetAllParticipantsFailedCount:this._callRosterGetAllParticipantsFailedCount,StartAudioOnlyCount:this._audioOnlyStartedCount,StopAudioOnlyCount:this._audioOnlyStoppedCount,AudioOnlyModeSuggestedCount:this._audioOnlySuggestedCount,DisabledIncomingVideoCount:this._disabledIncomingVideoCount,EnabledIncomingVideoCount:this._enabledIncomingVideoCount,StartCaptioningCount:this._startCaptioningCount,StopCaptioningCount:this._stopCaptioningCount,StartPstnTranslationAttemptCount:this._startPstnTranslationAttemptCount,StartSkypeTranslationAttemptCount:this._startSkypeTranslationAttemptCount,StopSkypeTranslationAttemptCount:this._stopSkypeTranslationAttemptCount,SkypeTranslationStartedCount:this._skypeTranslationStartedCount,SkypeTranslationStoppedCount:this._skypeTranslationStoppedCount,TranslationConsentChangeDate:this._translationConsentDate||"",TranslationTruvoiceConsentChangeDate:this._translationTruvoiceConsentDate||"",StartTruvoiceCount:this._startCustomVoiceCount,StopTruvoiceCount:this._stopCustomVoiceCount,StartTranslationAutoDetectCount:this._startTranslationAutoDetectCount,StopTranslationAutoDetectCount:this._stopTranslationAutoDetectCount,DidReceiveCaptions:this._didReceiveCaptions,DidRenderRemoteVideo:this._didRenderRemoteVideo,FirstCaptionReceivedLengthSeconds:this._firstCaptionReceivedLengthSeconds,CaptionsPositionModeChangeCount:this._captionsPositionModeChanged,LastCaptionsPositionMode:this._lastCaptionsPositionMode||"",CaptionsStartingMessageClickedCount:this._startingCaptionsMessageClickedCount,FailedCaptioningConfigCount:this._failedCaptioningConfigCount,ReceiverSetupCount:this._receiverSetupCount,DisplayScreenSharingDialogCount:this._displayScreenSharingDialogCount,DidUserDisplayScreenSharingDialog:this._didUserDisplayScreenSharingDialog,IsScheduledCallActive:this._params.isScheduledCallActive,IsPreheated:this._params.isPreheated,IsEchoCall:this._params.isEchoCall,AudioSystemReset:this._audioSystemResetCount,"WholeScreenSharedCount ":this._wholeScreenSharedCount,AppWindowSharedCount:this._appWindowSharedCount,StartBackgroundBlurCount:this._startBackgroundBlurCount,StopBackgroundBlurCount:this._stopBackgroundBlurCount,DurationWithBackgroundBlurRatio:this._durationWithBackgroundBlurRatio,StartSpeakerViewCount:this._startSpeakerViewCount,StopSpeakerViewCount:this._stopSpeakerViewCount,DurationInSpeakerViewRatio:this._durationInSpeakerViewRatio,CallMergeRequested:this._callMergeRequested,CallMergeSucceed:this._callMergeSucceed,ZoomedInCount:this._zoomedInCount,ZoomedInDuration:this._zoomedInDuration,ZoomedOutCount:this._zoomedOutCount,ZoomDragUsed:this._zoomDragUsed,ZoomUIControlsUsedCount:this._zoomUIControlsUsedCount,ZoomScrollWheelUsedCount:this._zoomScrollWheelUsedCount,ZoomKeyboardUsedCount:this._zoomKeyboardUsedCount,ZoomTrackPadUsedCount:this._zoomTrackPadUsedCount,AccessedDialpadCount:this._accessedDialpadCount,DisplayedDtmfWarningCount:this._displayedDtmfWarningCount,ScreenShareControlReceivedControlRequestCount:this._screenShareControlReceivedControlRequestCount,ScreenShareControlReceivedControlRequestCanceledCount:this._screenShareControlReceivedControlRequestCanceledCount,ScreenShareControlSentControlRequestCount:this._screenShareControlSentControlRequestCount,ScreenShareControlRequestAcceptedCount:this._screenShareControlRequestAcceptedCount,ScreenShareControlRequestDeniedCount:this._screenShareControlRequestDeniedCount,ScreenShareControlGrantedCount:this._screenShareControlGrantedCount,ScreenShareControlSharerTerminatedControlCount:this._screenShareControlSharerTerminatedControlCount,ScreenShareControlViewerTerminatedControlCount:this._screenShareControlViewerTerminatedControlCount,IsTranslatedCall:this._params.isTranslatedCall,IsFirstCall:this._params.isFirstCall,CallManagerUsed:this._callManagerUsed,IsIgnoringBatteryOptimizations:o.isUndefined(this._isIgnoringBatteryOptimizations)?"":this._isIgnoringBatteryOptimizations,StartBackgroundEffectBlurCount:this._startBackgroundEffectCount[u.BackgroundEffect.Blur],StopBackgroundEffectBlurCount:this._stopBackgroundEffectCount[u.BackgroundEffect.Blur],DurationWithBackgroundEffectBlurRatio:this._durationWithBackgroundEffectRatio[u.BackgroundEffect.Blur],StartBackgroundEffectImageCount:this._startBackgroundEffectCount[u.BackgroundEffect.BackgroundImage],StopBackgroundEffectImageCount:this._stopBackgroundEffectCount[u.BackgroundEffect.BackgroundImage],DurationWithBackgroundEffectImageRatio:this._durationWithBackgroundEffectRatio[u.BackgroundEffect.BackgroundImage],BingBackgroundEffectCaptionClickCount:this._bingBackgroundEffectCaptionClickCount,PinToolbar:this._pinToolbar,UnpinToolbar:this._unpinToolbar,CouldGiveControl:this._couldGiveControl,NoiseSuppressionMode:this._noiseSuppressionMode,HadBadQuality:!!this._badQualityCounts.size,IsModerated:this._params.isModerated,HadNewCallStageEnabled:this._hadNewCallStageEnabled,HadOldCallStageEnabled:this._hadOldCallStageEnabled,HadNativeIncomingCallNotificationsEnabled:this._hadNativeIncomingCallNotificationsEnabled,AverageCallingStoreUpdateTime:this._getAverageCallingStoreUpdateTime(),ShowShareTwinCamConnectionCount:this._showShareTwinCamConnectionCount,TwinCamConnectionUsedCount:this._twinCamConnectionUsedCount,TwinCamConnectionFailedCount:this._twinCamConnectionFailedCount,StopTwinCamCount:this._stopTwinCamCount,AbleToStartTwinCam:this._ableToStartTwinCam,TerminatedWithTwinCam:this._terminatedWithTwinCam,CallNetworkErrorReason:this._callNetworkErrorReason},this._getBadQualityAttributes()),this._getDeviceCountsAttributes()),this._getPermissionAttributes()),this._getFullScreenBotAttributes()),{FailedToggleMicCount:this._failedToggleMicCount,ToggleMicTimedOutCount:this._toggleMicTimedOutCount,FailedToggleVideoCount:this._failedToggleVideoCount,ToggleVideoBestDuration:this._toggleVideoBestDuration||0,ToggleVideoMedianDuration:this._toggleVideoMedianDuration||0,ToggleVideoWorstDuration:this._toggleVideoWorstDuration||0,FailedHangUpCount:this._failedHangUpCount,HangUpDuration:this._hangUpDuration||0,NoiseSuppressionAvailable:this._noiseSuppressionAvailable});o.isUndefined(this._params.timeBeforeFirstCallInSec)||(e.TimeBeforeFirstCallInSec=this._params.timeBeforeFirstCallInSec),o.isUndefined(this._params.source)||(e.Source=this._params.source);const t=S.getTrackableConversationId(this._params.conversationId);return t&&(e.ConversationId=t),o.assign(super.getAttributes(),e)}_getAverageCallingStoreUpdateTime(){return this._numberOfCallingStoreUpdates&&this._totalCallingStoreUpdateTime?Math.round(this._totalCallingStoreUpdateTime/this._numberOfCallingStoreUpdates):0}_getDeviceCountsAttributes(){return void 0!==this._micCount&&void 0!==this._speakerCount&&void 0!==this._cameraCount?{MicCount:this._micCount,SpeakerCount:this._speakerCount,CameraCount:this._cameraCount}:{}}_getPermissionAttributes(){return void 0!==this._micPermission&&this._cameraPermission,{}}_getFullScreenBotAttributes(){return{WasLargeGridBotOnCall:this._startLargeGridMode,WasAbleToStartLargeGridBot:this._ableToStartLargeGridMode,WasTogetherModeBotOnCall:this._startTogetherMode,WasAbleToStartTogetherModeBot:this._ableToStartTogetherMode,TogetherModeSceneChangeRequestCount:this._togetherModeSceneChangeRequestCount}}_getBadQualityAttributes(){const e={};return this._badQualityCounts.forEach(((t,i)=>e[a.QualityEventType[i]]=t)),e}screenShareControlReceivedControlRequest(){this._screenShareControlReceivedControlRequestCount++}screenShareControlReceivedControlRequestCanceled(){this._screenShareControlReceivedControlRequestCanceledCount++}screenShareControlSentControlRequest(){this._screenShareControlSentControlRequestCount++}screenShareControlRequestAccepted(){this._screenShareControlRequestAcceptedCount++}screenShareControlRequestDenied(){this._screenShareControlRequestDeniedCount++}screenShareControlGranted(){this._screenShareControlGrantedCount++}screenShareControlSharerTerminatedControl(){this._screenShareControlSharerTerminatedControlCount++}screenShareControlViewerTerminatedControl(){this._screenShareControlViewerTerminatedControlCount++}pinToolbar(){this._pinToolbar++}unPinToolbar(){this._unpinToolbar++}setGiveControlAsPossible(){this._couldGiveControl=!0}setIsCallCreator(e){this._params.isCallCreator=e}startVideo(){this._startVideoCount++}stopVideo(){this._stopVideoCount++}startScreenSharing(){this._startScreenSharingCount++}switchScreenWhileSharing(){this._switchScreenWhileSharingCount++}stopScreenSharing(){this._stopScreenSharingCount++}cancelScreenSharing(){this._cancelSreenSharingCount++}startSoundSharing(){this._startSoundSharingCount++}screenSharingDropped(){this._screenSharingDroppedCount++}screenSharingStolen(){this._screenSharingStolenCount++}orientationChanged(e){e?this._orientationLandscapeCount++:this._orientationPortraitCount++}isConversationAccepted(e){this._isConversationAccepted=e}isConversationAutoAccepted(e){this._isConversationAutoAccepted=e}isEscalatedToGroup(e){this._isEscalatedToGroup=e}escalationUserCount(e){this._escalationUserCount=e}addUserToGroup(){this._addUsersToGroupCount+=1}addUsersToGroup(e){this._addUsersToGroupCount+=e}ringUserToCall(){this._ringUsersToCallCount+=1}ringUsersToCall(e){this._ringUsersToCallCount+=e}callAutoAnswered(e){e?this._autoAnsweredWithVideo=!0:this._autoAnsweredWithAudio=!0}setWasSuspended(){this._wasSuspended=!0}setWasOffline(){this._wasOffline=!0}setCallReconnectStart(){this._didShowReconnectUI=!0,this._callReconnectStart=Date.now(),this._callReconnectEnd=0,this._callReconnectDuration=0}setCallReconnectEnd(){this._callReconnectStart&&(this._callReconnectEnd=Date.now(),this._callReconnectDuration=this._callReconnectEnd-this._callReconnectStart)}setCallReconnectTelemetry(){this._didShowReconnectUI&&(this._callReconnectEnd?this._callDurationAfterReconnect=Date.now()-this._callReconnectEnd:this._callDroppedDuringReconnect=!0)}showedPoorConnectionUI(){this._didShowPoorConnectionUI=!0}startActivityCount(){this._startActivityCount++}stopActivityCount(){this._stopActivityCount++}callConnectionType(e){this._connectionType=o.isUndefined(e)?a.ConnectionType.AllSupported:e}setMccMncCode(e,t){this._mccCode=e||"",this._mncCode=t||""}startRecordingCount(){this._startRecordingCount++}stopRecordingCount(){this._stopRecordingCount++}startNdiCount(){this._startNdiCount++}stopNdiCount(){this._stopNdiCount++}blockedVideoBannerShown(){this._showBlockedVideoBannerCount++}audioSystemResetCount(){this._audioSystemResetCount++}toggleVideoPressSuccessful(){this._totalSuccessfulToggleVideoPress++}toggleVideoPressIgored(){this._totalIgornedToggleVideoPress++}callRosterOpenedCount(){this._callRosterOpenedCount++}callRosterClosedCount(){this._callRosterClosedCount++}callRosterGetAllParticipantsFailedCount(){this._callRosterGetAllParticipantsFailedCount++}startAudioOnly(){this._audioOnlyStartedCount++}stopAudioOnly(){this._audioOnlyStoppedCount++}suggestAudioOnly(){this._audioOnlySuggestedCount++}enableIncomingVideoCount(){this._enabledIncomingVideoCount++}disableIncomingVideoCount(){this._disabledIncomingVideoCount++}displayScreenSharingDialogCount(){this._displayScreenSharingDialogCount++}didUserDisplayScreenSharingDialog(){this._didUserDisplayScreenSharingDialog=!0}wholeScreenSharedCount(){this._wholeScreenSharedCount++}appWindowSharedCount(){this._appWindowSharedCount++}ufdDisplayed(e){switch(e){case l.ToastActionType.Actioned:this._actionedUFDCount++;break;case l.ToastActionType.AutoDismissed:this._autoDismisssedUFDCount++;break;case l.ToastActionType.ManualDismissed:this._manualDismissedUFDCount++}this._totalUFDCount++}navBarOpened(){this._navBarOpenedCount++}navBarClosed(){this._navBarClosedCount++}setIsPSTNCall(e){this._isPSTNCall=e}setGroupMemberCount(e){this._groupMemberCount=e}setMaxConnectedParticipants(e){e>this._maxConnectedParticipants&&(this._maxConnectedParticipants=e)}setDurationInSoloMode(e){0===this._soloModeDurationSeconds&&(this._soloModeDurationSeconds=e)}setIsGoLive(e){this._isGoLive=e}chatOpened(){this._chatOpenedCount++}galleryOpened(){this._galleryOpenedCount++}setColorTheme(e){this._colorTheme=e}startCaptioningCount(){this._startCaptioningCount++}stopCaptioningCount(){this._stopCaptioningCount++}startPstnTranslationClickedCount(){this._params.isTranslatedCall=!0,this._startPstnTranslationAttemptCount++}startSkypeTranslationClickedCount(){this._params.isTranslatedCall=!0,this._startSkypeTranslationAttemptCount++}stopSkypeTranslationClickedCount(){this._params.isTranslatedCall=!0,this._stopSkypeTranslationAttemptCount++}translationConsentChangeDate(e){this._translationConsentDate=e}translationTruvoiceConsentChangeDate(e){this._translationTruvoiceConsentDate=e}skypeTranslationStartedCount(){this._skypeTranslationStartedCount++}skypeTranslationStoppedCount(){this._skypeTranslationStoppedCount++}startCustomVoiceCount(){this._startCustomVoiceCount++}stopCustomVoiceCount(){this._stopCustomVoiceCount++}startTranslationAutoDetectCount(){this._startTranslationAutoDetectCount++}stopTranslationAutoDetectCount(){this._stopTranslationAutoDetectCount++}failedCaptioningConfigCount(){this._failedCaptioningConfigCount++}didReceiveCaptions(){this._didReceiveCaptions=!0}didRenderRemoteVideo(){this._didRenderRemoteVideo=!0}setInitialCaptionPositionMode(e){this._lastCaptionsPositionMode=e}didChangeCaptionsPositionMode(e){this._captionsPositionModeChanged++,this._lastCaptionsPositionMode=e}setFirstCaptionReceivedLengthSeconds(e){this._firstCaptionReceivedLengthSeconds=e/1e3}didClickCaptionsStartingMessage(){this._startingCaptionsMessageClickedCount++}receiverSetupCount(){this._receiverSetupCount++}startBackgroundBlur(){this._startBackgroundBlurCount++}stopBackgroundBlur(){this._stopBackgroundBlurCount++}setBackgroundBlurDurationRatio(e){this._durationWithBackgroundBlurRatio=e}startBackgroundEffect(e){const t=e===u.BackgroundEffect.Blur?u.BackgroundEffect.Blur:u.BackgroundEffect.BackgroundImage;this._startBackgroundEffectCount[t]=this._startBackgroundEffectCount[t]+1}stopBackgroundEffect(e){const t=e===u.BackgroundEffect.Blur?u.BackgroundEffect.Blur:u.BackgroundEffect.BackgroundImage;this._stopBackgroundEffectCount[t]=this._stopBackgroundEffectCount[t]+1}setBackgroundEffectDurationRatio(e,t){const i=t===u.BackgroundEffect.Blur?u.BackgroundEffect.Blur:u.BackgroundEffect.BackgroundImage;this._durationWithBackgroundEffectRatio[i]=e}bingBackgroundEffectCaptionClick(){this._bingBackgroundEffectCaptionClickCount++}startSpeakerView(){this._startSpeakerViewCount++}stopSpeakerView(){this._stopSpeakerViewCount++}setSpeakerViewDurationRatio(e){this._durationInSpeakerViewRatio=e}callMergeRequested(){this._callMergeRequested++}callMergeSucceed(){this._callMergeSucceed++}zoomedIn(){this._zoomedInCount++}zoomedOut(e,t){t||this._zoomedOutCount++,e&&(this._zoomedInDuration+=e)}zoomDragUsed(){this._zoomDragUsed=!0}callManagerUsed(){this._callManagerUsed=!0}setIsIgnoringBatteryOptimizations(e){this._isIgnoringBatteryOptimizations=e}zoomChangeType(e){switch(e){case C.ScreenShareZoomType.ScrollWheel:return void this._zoomScrollWheelUsedCount++;case C.ScreenShareZoomType.UIControls:return void this._zoomUIControlsUsedCount++;case C.ScreenShareZoomType.Keyboard:return void this._zoomKeyboardUsedCount++;case C.ScreenShareZoomType.TrackPad:this._zoomTrackPadUsedCount++}}accessedDialpad(){this._accessedDialpadCount++}displayedDtmfWarning(){this._displayedDtmfWarningCount++}setBadQuality(e){this._badQualityCounts.set(e,(this._badQualityCounts.get(e)||0)+1)}setCameraCount(e){this._cameraCount=e}setMicCount(e){this._micCount=e}setSpeakerCount(e){this._speakerCount=e}setCameraPermission(e){this._cameraPermission=e}setMicPermission(e){this._micPermission=e}startTogetherMode(){this._startTogetherMode=!0}startLargeGrid(){this._startLargeGridMode=!0}ableToStartTogetherMode(){this._ableToStartTogetherMode=!0}ableToStartLargeGrid(){this._ableToStartLargeGridMode=!0}setNoiseSuppressionMode(e){this._noiseSuppressionMode=e}togetherModeSceneChangeRequestCount(){this._togetherModeSceneChangeRequestCount++}setHadNewCallStageEnabled(){this._hadNewCallStageEnabled=!0}setHadOldCallStageEnabled(){this._hadOldCallStageEnabled=!0}setHadNativeIncomingCallNotificationsEnabled(e){this._hadNativeIncomingCallNotificationsEnabled=e}addCallingStoreUpdatePerformance(e){this._numberOfCallingStoreUpdates++,this._totalCallingStoreUpdateTime+=e}showShareTwinCamConnection(){this._showShareTwinCamConnectionCount++}useTwinCamConnection(){this._twinCamConnectionUsedCount++}failedTwinCamConnection(){this._twinCamConnectionFailedCount++}stopTwinCam(e){this._stopTwinCamCount++,this._terminatedWithTwinCam=e}setAbleToStartTwinCam(e){this._ableToStartTwinCam=e}setCallNetworkErrorReason(e){this._callNetworkErrorReason=e}failedToggleMic(){this._failedToggleMicCount++}toggleMicTimedOut(){this._toggleMicTimedOutCount++}failedToggleVideo(){this._failedToggleVideoCount++}setToggleVideoBestDuration(e){this._toggleVideoBestDuration=e}setToggleVideoMedianDuration(e){this._toggleVideoMedianDuration=e}setToggleVideoWorstDuration(e){this._toggleVideoWorstDuration=e}failedHangUp(){this._failedHangUpCount++}setHangUpDuration(e){this._hangUpDuration=e}};class v extends h.TelemetryEventBase{constructor(){super()}getEventName(){return"calling_action"}getAttributes(){return o.assign(super.getAttributes(),{Action:this.getActionName()})}}var T,P,k,A,I,w,x,N,M,L,O,D,R,E,B,F,V,U,j,H,W;t.CallActionBase=v,function(e){e.CallDeniedOrEnded="CallDeniedOrEnded"}(T=t.StopRingReason||(t.StopRingReason={}));t.CallActionPushNotification=class extends v{constructor(e,t,i){super(),this._info=e,this._nodeId=t,this._registrationId=i}getActionName(){return"PushNotification"}getAttributes(){const e={EventType:this._info.eventType,CallId:this._info.callId,RegistrationId:this._registrationId||"",NodeId:this._nodeId||"",IsStarted:this._info.isStarted,Source:this._info.source,TimeWaitingToProcess:Math.max(0,this._info.pushProcessedTime-this._info.pushReceivedTime),HasRegistered:this._info.hasRegistered,ActivationState:s.Types.AppActivationState[s.App.getActivationState()],StopRingReason:this._info.stopRingReason?T[this._info.stopRingReason]:"",IsDuplicate:Boolean(this._info.isDuplicate)};return this._info.participantId&&(e.ParticipantId=this._info.participantId),o.assign(super.getAttributes(),e)}};t.CallInitFailure=class extends v{constructor(e,t){super(),this._causeId=e,this._origin=t}getActionName(){return"CallInitFailure"}getAttributes(){const e={CauseId:this._causeId,CallInitOrigin:u.NavigationCallOrigin[this._origin]};return Object.assign(super.getAttributes(),e)}};t.IncomingCallNotificationFailure=class extends v{constructor(e,t,i=""){super(),this._callId=e,this._reason=t,this._details=i}getActionName(){return"IncomingCallNotificationFailure"}getAttributes(){const e={CallId:this._callId,Reason:I[this._reason],Details:this._details};return o.assign(super.getAttributes(),e)}};t.CallActionStartRinging=class extends v{constructor(e,t){super(),this._callId=e,this._origin=t}getActionName(){return"StartRinging"}getAttributes(){const e={CallId:this._callId,Origin:x[this._origin]};return o.assign(super.getAttributes(),e)}};t.CallActionStopRinging=class extends v{constructor(e,t,i=0,n=""){super(),this._callId=e,this._reason=t,this._ringingDuration=i,this._details=n}getActionName(){return"StopRinging"}getAttributes(){const e={CallId:this._callId,Reason:w[this._reason],RingingDuration:this._ringingDuration,Details:this._details};return o.assign(super.getAttributes(),e)}},function(e){e[e.None=0]="None",e[e.Stale=1]="Stale",e[e.UpToDate=2]="UpToDate"}(P=t.CallActionTokenState||(t.CallActionTokenState={}));t.CallActionTokenRequested=class extends v{constructor(e,t,i,n,o){super(),this._nodeId=e,this._upToDateToken=t,this._hasConnectedToCall=i,this._hasOutgoingCall=n,this._hasIncomingCall=o}getActionName(){return"TokenRequested"}getAttributes(){return o.assign(super.getAttributes(),{NodeId:this._nodeId,TokenState:P[this._upToDateToken],HasConnectedCall:this._hasConnectedToCall,HasOutgoingCall:this._hasOutgoingCall,HasIncomingCall:this._hasIncomingCall})}};t.CallActionEnterFromCallCard=class extends v{getActionName(){return"EnterFromCallCard"}};t.CallActionInviteFreeDecline=class extends v{constructor(e){super(),this._callId=e}getActionName(){return"InviteFreeDecline"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId})}};t.InCallReaction=class extends v{constructor(e,t,i,n,o){super(),this._reactionKey=e,this._reactionType=t,this._isTonedReaction=i,this._isCustomReaction=n,this._isAnimatedReaction=o}getActionName(){return"InCallReaction"}getAttributes(){return o.assign(super.getAttributes(),{ReactionKey:this._reactionKey,ReactionType:this._reactionType,IsTonedReaction:this._isTonedReaction,IsCustomReaction:this._isCustomReaction,IsAnimatedReaction:this._isAnimatedReaction})}};t.OverflowMenuOpenedEvent=class extends v{constructor(e,t,i){super(),this._totalUserActionsCount=e,this._firstUserAction=t,this._secondUserAction=i}getActionName(){return"OverflowMenuOpened"}getAttributes(){return o.assign(super.getAttributes(),{TotalUserActionsCount:this._totalUserActionsCount,FirstUserAction:this._firstUserAction,SecondUserAction:this._secondUserAction})}};t.InCallUFD=class extends v{constructor(e,t,i){super(),this._callId=e,this._type=t,this._actionType=i}getActionName(){return"InCallUFD"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,UFDType:l.DeviceStatusToastType[this._type],UFDActionType:l.ToastActionType[this._actionType]})}};t.InCallActivity=class extends v{constructor(e,t){super(),this._callId=e,this._correlationId=t}getActionName(){return"InCallActivity"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,CorrelationId:this._correlationId})}};t.CallActionError=class extends v{constructor(e,t,i,n){super(),this._error=e,this._nodeId=t,this._registrationId=i,this._pstnCampaign=n}getActionName(){return"Error"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._error.callId,NodeId:this._nodeId||"",RegistrationId:this._registrationId||"",CallAction:this._error.action,ErrorMessage:this._error.message,CallValidationFailureReason:this._error.validationReason?r.CallValidationFailureReason[this._error.validationReason]:"",CallTerminatedReason:this._error.terminatedReason,CallTerminatedReasonLabel:a.TerminatedReason[this._error.terminatedReason],CallFailureType:this._error.failureType,CallFailureTypeLabel:a.FailureType[this._error.failureType],IsUsedForPSTNCampaign:o.includes(this._pstnCampaign,this._error.terminatedReason),CauseId:this._error.causeId||""})}};t.CallManagerError=class extends v{constructor(e){super(),this._methodName=e}getActionName(){return"CallManagerError"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{MethodName:this._methodName})}};t.CallActionCallKitError=class extends v{constructor(e,t,i,n,o,s){super(),this._operation=e,this._errorDomain=t,this._errorCode=i,this._callId=n,this._nodeId=o,this._terminal=s}getActionName(){return"CallKitError"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId||"",NodeId:this._nodeId||"",Operation:this._operation||"",ErrorDomain:this._errorDomain,ErrorCode:this._errorCode,Terminal:this._terminal})}};t.CallActionCallKitSuccess=class extends v{constructor(e,t,i){super(),this._operation=e,this._result=t,this._attemptNumber=i}getActionName(){return"CallKitSuccess"}getAttributes(){return o.assign(super.getAttributes(),{Operation:this._operation,Result:this._result,AttemptNumber:this._attemptNumber})}};t.CallActionCalleeUserPresence=class extends v{constructor(e,t){super(),this._callId=e,this._userPresence=t}getActionName(){return"CallActionCalleeUserPresence"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,UserStatus:this._userPresence.status||"",Availabililty:this._userPresence.availability||"",LastSeenAtUtc:this._userPresence.lastSeenAtUtc||""})}};class z extends p.PriorityTelemetryEventBase{constructor(e,t,i,n,o,s,a,r=!1,l=""){super(),this._callId=e,this._origin=t,this._conversationId=i,this._isGroupCall=n,this._isVideoCall=o,this._isPstnCall=s,this._isIncomingCall=a,this._isRejoin=r,this._causeId=l}getEventName(){return"calling_call_entry_point"}getAttributes(){const e=super.getAttributes();e.CallId=this._callId,e.Origin=u.NavigationCallOrigin[this._origin],e.IsRejoiningCall=this._isRejoin,e.IsGroupCall=this._isGroupCall,e.IsVideoCall=this._isVideoCall,e.IsPstnCall=this._isPstnCall,e.IsIncomingCall=this._isIncomingCall,e.CauseId=this._causeId;const t=S.getTrackableConversationId(this._conversationId);return t&&(e.ConversationId=t),e}}t.CallEntryPoint=z;class G extends h.TelemetryEventBase{constructor(e,t,i,n,o,s,a){super(),this._origin=e,this._conversationId=t,this._isGroupCall=i,this._isVideoCall=n,this._isPstnCall=o,this._clientCountry=s,this._causeId=a}getEventName(){return"calling_call_intention"}getAttributes(){const e=super.getAttributes();e.CallIntentionOrigin=u.NavigationCallOrigin[this._origin],e.IsGroupCall=this._isGroupCall,e.IsVideoCall=this._isVideoCall,e.IsPstnCall=this._isPstnCall,e.ClientCountry=this._clientCountry,e.CauseId=this._causeId;const t=S.getTrackableConversationId(this._conversationId);return t&&(e.ConversationId=t),e}}t.CallIntention=G;class K extends h.TelemetryEventBase{constructor(e,t){super(),this._date=e,this._dispostion=t}getEventName(){return"calling_warm_call_notification"}getAttributes(){return o.assign(super.getAttributes(),{Date:this._date,Disposition:this._dispostion})}}t.WarmCalNotificationDisposition=K;class q extends h.TelemetryEventBase{constructor(e,t,i,n,o,s,a,r,l,c){super(),this._callId=e,this._endpointId=t,this._nodeId=i,this._participantId=n,this._score=o,this._problemTokens=s,this._questionaryId=a,this._trackingReason=r,this._cdrId=l,this._maxConnectedParticipants=c}getEventName(){return"mdsc_call_quality_feedback"}getAriaTenantTokenOverride(){return g.default.getAriaCQFTenantToken()}getAttributes(){const e=super.getAttributes();return e.uiVersion=g.default.getUIVersion(),e.call_id=this._callId,e.participant_id=this._participantId,this._nodeId&&(e.nodeId=this._nodeId),this._endpointId&&(e.endpoint_id=this._endpointId),this._score&&(e.call_mos_score=this._score-1),this._problemTokens&&(e.call_mos_score_problem_tokens=this._problemTokens),this._cdrId&&(e.call_mos_score_cdr_id=this._cdrId),e.call_mos_score_questionary_id=this._questionaryId,e.call_mos_score_tracking_reason=this._trackingReason,e.call_max_connected_participants=this._maxConnectedParticipants,e}}t.CQF=q,function(e){e[e.Cancel=0]="Cancel",e[e.JoinWithVideo=1]="JoinWithVideo",e[e.JoinWithoutVideo=2]="JoinWithoutVideo"}(k=t.CallPreviewActions||(t.CallPreviewActions={}));t.CallPreviewEvent=class extends v{constructor(e,t=!1,i=!1,n=!1,o){super(),this._callPreviewActions=e,this._isCameraChanged=t,this._isMicrophoneMuted=i,this._isBlurred=n,this._callId=o}getActionName(){return"CallPreview"}getAttributes(){return o.assign(super.getAttributes(),{CallPreviewActions:k[this._callPreviewActions],IsCameraChanged:this._isCameraChanged,IsMicrophoneMuted:this._isMicrophoneMuted,IsBlurred:this._isBlurred,CallId:this._callId})}};t.RingTheGroupEvent=class extends v{constructor(e){super(),this._callId=e}getActionName(){return"RingTheGroup"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId})}};t.ScreenSharingStoppedEvent=class extends v{constructor(e,t){super(),this._callId=e,this._origin=t}getActionName(){return"ScreenSharingStopped"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,Origin:this._origin})}},function(e){e[e.Cancel=0]="Cancel",e[e.ContinueWithCall=1]="ContinueWithCall"}(A=t.RinglessCallInterstitialActions||(t.RinglessCallInterstitialActions={}));t.RinglessCallInterstitialEvent=class extends v{constructor(e,t=!1){super(),this._ringlessCallInterstitialActions=e,this._isLargeGroup=t}getActionName(){return"RinglessCallInterstitial"}getAttributes(){return o.assign(super.getAttributes(),{RinglessCallInterstitialActions:A[this._ringlessCallInterstitialActions],IsLargeGroup:this._isLargeGroup})}};t.UnansweredCallActionEvent=class extends v{constructor(e,t,i,n,o,s){super(),this._callId=e,this._nodeId=t,this._terminatedReason=i,this._failureType=n,this._ucuxReason=o,this._ucuxAction=s}getActionName(){return"UnansweredCallActionEvent"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId||"",NodeId:this._nodeId||"",CallingTerminatedReason:this._terminatedReason,CallingFailureType:this._failureType,UcuxReason:r.UnansweredCallReason[this._ucuxReason],UcuxAction:r.UnansweredCallAction[this._ucuxAction]})}};t.CallCrashEvent=class extends v{constructor(e,t,i,n,o){super(),this._callId=e,this._state=t,this._nodeId=i,this._participantId=n,this._endpointId=o}getActionName(){return"CallCrash"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,CallState:this._state,NodeId:this._nodeId||"",ParticipantId:this._participantId||"",EndpointId:this._endpointId||""})}};t.CallAudioSettingsPopup=class extends v{constructor(e,t){super(),this._callId=e,this._isTouch=t,this._didChangeMicDevice=!1,this._didChangeSpeakerDevice=!1,this._didAdjustSpeakerVolume=!1,this._didAdjustMicVolume=!1,this._didChangeMusicMode=!1,this._didChangeAECMode=!1}getActionName(){return"CallAudioSettingsPopup"}markDidChangeMicDevice(){this._didChangeMicDevice=!0}markDidChangeSpeakerDevice(){this._didChangeSpeakerDevice=!0}markDidAdjustSpeakerVolume(){this._didAdjustSpeakerVolume=!0}markDidAdjustMicVolume(){this._didAdjustMicVolume=!0}markDidChangeMusicMode(){this._didChangeMusicMode=!0}markDidChangeAECMode(){this._didChangeAECMode=!0}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,IsTouch:this._isTouch,DidChangeMicDevice:this._didChangeMicDevice,DidChangeSpeakerDevice:this._didChangeSpeakerDevice,DidAdjustSpeakerVolume:this._didAdjustSpeakerVolume,DidAdjustMicVolume:this._didAdjustMicVolume,DidChangeMusicMode:this._didChangeMusicMode,DidChangeAECMode:this._didChangeAECMode})}};t.CallVideoSettingsPopup=class extends v{constructor(e,t){super(),this._callId=e,this._isTouch=t,this._didChangeCameraDevice=!1,this._toggleBlurOnCount=0,this._toggleBlurOffCount=0}getActionName(){return"CallVideoSettingsPopup"}markDidChangeCameraDevice(){this._didChangeCameraDevice=!0}toggleBlurOn(){this._toggleBlurOnCount++}toggleBlurOff(){this._toggleBlurOffCount++}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,IsTouch:this._isTouch,DidChangeCameraDevice:this._didChangeCameraDevice,ToggleBlurOnCount:this._toggleBlurOnCount,ToggleBlurOffCount:this._toggleBlurOffCount})}};t.Zoom=class extends v{constructor(){super()}getActionName(){return"Zoomed"}getAttributes(){return o.assign(super.getAttributes(),{})}};t.PinCallParticipant=class extends v{constructor(e){super(),this._callId=e}getActionName(){return"PinCallParticipant"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId})}};t.UnpinCallParticipant=class extends v{constructor(e){super(),this._callId=e}getActionName(){return"UnpinCallParticipant"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId})}};t.ToggleCallTray=class extends v{constructor(e,t){super(),this._callId=e,this._wasHidden=t}getActionName(){return"ToggleCallTray"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,WasHidden:this._wasHidden})}};t.CallRosterSession=class extends v{constructor(e,t,i){super(),this._callId=e,this._callRosterOrigin=t,this._isOriginWithHandRaised=i,this._callRosterRemovedUserCount=0,this._callRosterMutedUserCount=0,this._callRosterRangUserCount=0,this._callRosterAddToCallCount=0,this._callRosterJoinLinkCount=0,this._callRosterRingTheGroupCount=0,this._isCanceled=!1}setIsCanceled(e){this._isCanceled=e}getActionName(){return"InCallRosterSession"}callRosterRemovedUser(){this._callRosterRemovedUserCount++}callRosterMutedUser(){this._callRosterMutedUserCount++}callRosterRangUser(){this._callRosterRangUserCount++}callRosterAddToCall(){this._callRosterAddToCallCount++}callRosterJoinLink(){this._callRosterJoinLinkCount++}callRosterRingTheGroup(){this._callRosterRingTheGroupCount++}getAttributes(){return o.assign(super.getAttributes(),{Action:this.getActionName(),CallId:this._callId,Origin:l.CallRosterOrigin[this._callRosterOrigin],IsOriginWithHandRaised:this._isOriginWithHandRaised,IsCanceled:this._isCanceled,CallRosterAddToCallCount:this._callRosterAddToCallCount,CallRosterJoinLinkCount:this._callRosterJoinLinkCount,CallRosterMutedUserCount:this._callRosterMutedUserCount,CallRosterRangUserCount:this._callRosterRangUserCount,CallRosterRemovedUserCount:this._callRosterRemovedUserCount,CallRosterRingTheGroupCount:this._callRosterRingTheGroupCount})}},function(e){e[e.FailedToParsePayload=0]="FailedToParsePayload",e[e.AcknowledgeFailed=1]="AcknowledgeFailed",e[e.CallerNotAllowed=2]="CallerNotAllowed",e[e.InvalidNotification=3]="InvalidNotification",e[e.WrongRecipient=4]="WrongRecipient",e[e.HandshakeNotCompleted=5]="HandshakeNotCompleted",e[e.DecryptionFailed=6]="DecryptionFailed",e[e.GoGoNetwork=7]="GoGoNetwork",e[e.CallerNotContact=8]="CallerNotContact",e[e.RedundantNotification=9]="RedundantNotification",e[e.LackedLocalPermission=10]="LackedLocalPermission",e[e.OutgoingCallActive=11]="OutgoingCallActive",e[e.StartRingingFailed=12]="StartRingingFailed",e[e.UnexpectedSource=13]="UnexpectedSource",e[e.CallDisabled=14]="CallDisabled",e[e.DesktopCallNotificationNotShown=15]="DesktopCallNotificationNotShown",e[e.CallManagerError=16]="CallManagerError"}(I=t.IncomingCallEndReason||(t.IncomingCallEndReason={})),function(e){e[e.NotificationReceived=0]="NotificationReceived",e[e.WaitingForCallingStartup=1]="WaitingForCallingStartup",e[e.BeginAcknowledge=2]="BeginAcknowledge",e[e.CompleteAcknowledge=3]="CompleteAcknowledge"}(t.IncomingCallStep||(t.IncomingCallStep={})),function(e){e[e.RejectedByCallee=0]="RejectedByCallee",e[e.NotifyingCalleeFailed=1]="NotifyingCalleeFailed",e[e.AnsweringCallFailed=2]="AnsweringCallFailed",e[e.StopRingerNotificationReceived=3]="StopRingerNotificationReceived",e[e.Error=4]="Error",e[e.DNDEnabled=5]="DNDEnabled"}(t.AnswerCallEndReason||(t.AnswerCallEndReason={})),function(e){e[e.CalleeRejected=0]="CalleeRejected",e[e.CalleeAnsweredWithAudio=1]="CalleeAnsweredWithAudio",e[e.CalleeAnsweredWithVideo=2]="CalleeAnsweredWithVideo",e[e.DisconnectedCallStateReceived=3]="DisconnectedCallStateReceived",e[e.StopRingerNotificationReceived=4]="StopRingerNotificationReceived"}(w=t.CalleeStopRingingReason||(t.CalleeStopRingingReason={})),function(e){e[e.InAppBanner=0]="InAppBanner",e[e.InAppFullScreen=1]="InAppFullScreen",e[e.OSNotification=2]="OSNotification",e[e.DesktopCallNotification=3]="DesktopCallNotification",e[e.CallInteractionManager=4]="CallInteractionManager"}(x=t.AnswerCallNotificationLocation||(t.AnswerCallNotificationLocation={})),function(e){e[e.NotifyingCallee=0]="NotifyingCallee",e[e.CalleeAnsweredWithAudio=1]="CalleeAnsweredWithAudio",e[e.CalleeAnsweredWithVideo=2]="CalleeAnsweredWithVideo",e[e.CalleeRejected=3]="CalleeRejected"}(t.AnswerCallStep||(t.AnswerCallStep={})),function(e){e[e.Unknown=0]="Unknown",e[e.Gallery=1]="Gallery",e[e.MessageStream=2]="MessageStream",e[e.SharedPhoto=3]="SharedPhoto",e[e.OverflowMenu=4]="OverflowMenu"}(t.CallActivitiesEntryPoint||(t.CallActivitiesEntryPoint={})),function(e){e[e.ChatOverflow=0]="ChatOverflow",e[e.MessageComposer=1]="MessageComposer",e[e.OverflowMenu=2]="OverflowMenu",e[e.Stage=3]="Stage",e[e.CallGalleryEmptyView=4]="CallGalleryEmptyView"}(N=t.CallAddPhotosEntryPoint||(t.CallAddPhotosEntryPoint={}));class Q extends v{constructor(e,t,i){super(),this._callId=e,this._isGroupCall=t,this._origin=i}setPhotosSent(e){this._photosSent=e}setFromMediaPicker(e){this._fromMediaPicker=e}setMediaPickerPhotosSelected(e){this._mediaPickerPhotosSelected=e}setPhotoTaken(e){this._wasPhotoTaken=e}setNumberOfPhotos(e){this._photosCount=e}getActionName(){return"CallAddPhotosBaseEvent"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,IsGroupCall:this._isGroupCall,PhotosSent:!!this._photosSent,FromMediaPicker:!!this._fromMediaPicker,MediaPickerPhotosSelected:!!this._mediaPickerPhotosSelected,WasPhotoTaken:!!this._wasPhotoTaken,PhotosCount:this._photosCount||0,Origin:N[this._origin]})}}t.CallAddPhotosEvent=class extends Q{getActionName(){return"CallAddPhotosEvent"}};t.CallAddPhotosWithFabEvent=class extends Q{getActionName(){return"CallAddPhotosWithFabEvent"}};t.CallFullScreenBotEvent=class extends v{constructor(e,t){super(),this._callId=e,this._botType=t,this._enableVideo=!1,this._botOnCallUselessLengthSeconds=0,this._botOnCallUselessTime=0}getActionName(){return`Call${this._botType}Event`}setBotOnCallLengthSeconds(e){this._botOnCallLengthSeconds=e}addBotOnCallUselessLengthSeconds(e){this._botOnCallUselessLengthSeconds+=e}getBotOnCallUselessTime(){return this._botOnCallUselessTime}setBotOnCallUselessTime(e){this._botOnCallUselessTime=e}setEnableVideo(){this._enableVideo=!0}setMaxConnectedParticipants(e){(!this._maxConnectedParticipants||e>this._maxConnectedParticipants)&&(this._maxConnectedParticipants=e)}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,DidEnableVideo:this._enableVideo,BotOnCallSeconds:this._botOnCallLengthSeconds||0,BotOnCallUselessSeconds:this._botOnCallUselessLengthSeconds,MaxConnectedParticipants:this._maxConnectedParticipants||0})}};t.CallFullScreenBotError=class extends v{constructor(e,t,i){super(),this._errorCode=e,this._callId=t,this._botType=i}getActionName(){return"CallFullScreenBotError"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId||"",ErrorCode:this._errorCode,BotType:this._botType})}},function(e){e[e.RegisterDataChannelFailed=0]="RegisterDataChannelFailed",e[e.RegisterDataChannelSucceeded=1]="RegisterDataChannelSucceeded",e[e.AudienceBotResponse=2]="AudienceBotResponse",e[e.AudienceBotChangeSceneEvent=3]="AudienceBotChangeSceneEvent",e[e.BingBackgroundsInfoSendFailed=4]="BingBackgroundsInfoSendFailed",e[e.CaptionsBotResponse=5]="CaptionsBotResponse"}(M=t.CallDataChannelEventType||(t.CallDataChannelEventType={}));t.CallDataChannelEvent=class extends v{constructor(e,t,i,n,o,s,a,r){super(),this._type=e,this._value=t,this._errorCode=i,this._errorSubCode=n,this._errorText=o,this._retryAttempt=s,this._dataChannelId=a,this._callId=r}getActionName(){return"CallDataChannelEvent"}getAttributes(){var e,t,i,n,s,a,r;const l={CallDataChannelEventType:M[this._type],HandledValue:null!==(e=this._value)&&void 0!==e?e:"",ErrorCode:null!==(t=this._errorCode)&&void 0!==t?t:0,ErrorSubCode:null!==(i=this._errorSubCode)&&void 0!==i?i:0,ErrorText:null!==(n=this._errorText)&&void 0!==n?n:"",RetryAttempt:null!==(s=this._retryAttempt)&&void 0!==s?s:0,DataChannelId:null!==(a=this._dataChannelId)&&void 0!==a?a:0,CallId:null!==(r=this._callId)&&void 0!==r?r:""};return o.assign(super.getAttributes(),l)}};t.CallRecordingEvent=class extends v{constructor(e){super(),this._callId=e,this._screenShare=!1,this._enableVideo=!1}getActionName(){return"CallRecordingEvent"}recordingLengthSeconds(e){this._recordingLengthSeconds=e}setScreenShare(){this._screenShare=!0}setEnableVideo(){this._enableVideo=!0}setMaxConnectedParticipants(e){(!this._maxConnectedParticipants||e>this._maxConnectedParticipants)&&(this._maxConnectedParticipants=e)}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,RecordingLengthSeconds:this._recordingLengthSeconds||0,DidScreenShare:this._screenShare,DidEnableVideo:this._enableVideo,MaxConnectedParticipants:this._maxConnectedParticipants||0})}};t.NdiBroadcastEvent=class extends v{constructor(e,t){super(),this._callId=e,this._maxConnectedParticipantsCount=t,this._wasVideoEverEnabled=!1}getActionName(){return"NdiBroadcastEvent"}setBroadcastingLengthSeconds(e){this._broadcastingDurationSeconds=e}setWatermarkLocation(e){this._watermarkLocation=e}observeVideoEnabled(){this._wasVideoEverEnabled=!0}setMaxConnectedParticipants(e){e>this._maxConnectedParticipantsCount&&(this._maxConnectedParticipantsCount=e)}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,WasVideoEverEnabled:this._wasVideoEverEnabled,BroadcastingDurationSeconds:this._broadcastingDurationSeconds||0,MaxConnectedParticipantsCount:this._maxConnectedParticipantsCount||0,LastWatermarkLocation:this._watermarkLocation||""})}};t.CallAddToCallEvent=class extends v{constructor(e,t,i,n,o){super(),this._callId=e,this._isGroupCall=t,this._hasCoachmark=i,this._isPSTN=n,this._origin=o}getActionName(){return"AddToCallEvent"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,IsGroupCall:this._isGroupCall,HasCoachmark:this._hasCoachmark,IsPSTN:this._isPSTN,Origin:this._origin})}},function(e){e[e.ContextMenu=0]="ContextMenu",e[e.OverflowMenu=1]="OverflowMenu"}(t.MuteEveryoneOrigin||(t.MuteEveryoneOrigin={}));t.CallMuteEveryoneEvent=class extends v{constructor(e){super(),this._origin=e}getActionName(){return"MuteEveryone"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{Origin:this._origin})}},function(e){e[e.InitiatorMetadataUnavailable=0]="InitiatorMetadataUnavailable",e[e.InvalidToken=1]="InvalidToken"}(L=t.CallRecorderBotDebugEventType||(t.CallRecorderBotDebugEventType={}));t.CallRecorderBotDebugEvent=class extends v{constructor(e,t){super(),this._type=e,this._properties=t}getActionName(){return"CallRecorderBotDebugEvent"}getAttributes(){const e={CallRecorderBotDebugEventType:L[this._type]};return o.assign(e,this._properties),o.assign(super.getAttributes(),e)}},function(e){e[e.SetConfigFailed=0]="SetConfigFailed",e[e.SetConfigSucceeded=1]="SetConfigSucceeded"}(O=t.CallTranslatorDebugEventType||(t.CallTranslatorDebugEventType={}));t.CallTranslatorDebugEvent=class extends v{constructor(e,t,i){super(),this._type=e,this._errorCode=t,this._errorMessage=i}getActionName(){return"CallTranslatorDebug"}getAttributes(){var e,t;const i={CallTranslatorDebugEventType:O[this._type],ErrorCode:null!==(e=this._errorCode)&&void 0!==e?e:"",ErrorMessage:null!==(t=this._errorMessage)&&void 0!==t?t:""};return o.assign(super.getAttributes(),i)}};class X extends v{constructor(e,t){super(),this._callId=e,this._botType=t}getAttributes(){const e={BotType:this._botType,CallId:this._callId};return o.assign(super.getAttributes(),e)}}t.AddBotToCallEvent=class extends X{getActionName(){return"AddBotToCallInitiated"}};t.AddBotToCallFailedEvent=class extends X{constructor(e,t,i,n){super(e,t),this._addBotDurationInMs=i,this._errorCode=n}getActionName(){return"AddBotToCallFailed"}getAttributes(){const e={AddBotDurationInMs:this._addBotDurationInMs,ErrorCode:this._errorCode};return o.assign(super.getAttributes(),e)}};t.AddBotToCallSucceededEvent=class extends X{constructor(e,t,i){super(e,t),this._addBotDurationInMs=i}getActionName(){return"AddBotToCallSucceeded"}getAttributes(){const e={AddBotDurationInMs:this._addBotDurationInMs};return o.assign(super.getAttributes(),e)}},function(e){e[e.PopupShown=0]="PopupShown",e[e.Mute=1]="Mute",e[e.RemoveFromCall=2]="RemoveFromCall",e[e.CropVideo=3]="CropVideo",e[e.FullVideo=4]="FullVideo",e[e.SendMessage=5]="SendMessage",e[e.OpenChat=6]="OpenChat",e[e.ViewProfile=7]="ViewProfile"}(D=t.CanvasAndRibbonActions||(t.CanvasAndRibbonActions={}));t.CanvasAndRibbonActionsEvent=class extends v{constructor(e,t){super(),this._action=e,this._callId=t}getActionName(){return"CanvasAndRibbonActionsEvent"}getAttributes(){var e;return o.assign(super.getAttributes(),{UserAction:D[this._action],CallId:null!==(e=this._callId)&&void 0!==e?e:""})}},function(e){e[e.EnterFullScreen=0]="EnterFullScreen",e[e.ExitFullScreen=1]="ExitFullScreen"}(R=t.RibbonSettingsMenuActions||(t.RibbonSettingsMenuActions={}));t.RibbonSettingsMenuActionEvent=class extends v{constructor(e){super(),this._action=e}getActionName(){return"RibbonSettingsMenuEvent"}getAttributes(){return o.assign(super.getAttributes(),{UserAction:R[this._action]})}},function(e){e[e.EndCallPopupShown=0]="EndCallPopupShown",e[e.EndCallForEveryone=1]="EndCallForEveryone",e[e.LeaveCall=2]="LeaveCall"}(E=t.EndCallPopupActions||(t.EndCallPopupActions={}));t.EndCallPopupMenuActionsEvent=class extends v{constructor(e){super(),this._action=e}getActionName(){return"EndCallPopupMenuEvent"}getAttributes(){return o.assign(super.getAttributes(),{UserAction:E[this._action]})}};t.CallCaptioningEvent=class extends v{constructor(e,t,i,n,o,s){super(),this._callId=e,this._captioningSessionId=t,this._spokenLanguage=i,this._subtitleLanguage=n,this._otherSpokenLanguage=o,this._isAutoJoin=s,this._subtitleHistoryViewCount=0,this._tokenRefreshCount=0,this._captionsPositionModeChangesCount=0,this._startMessageClickedCount=0}getActionName(){return"CallCaptioningEvent"}setCaptioningLengthSeconds(e){this._captioningLengthSeconds=e}setFirstCaptionReceivedLengthSeconds(e){this._firstCaptionReceivedLengthSeconds=e}setMaxSenderCount(e){(!this._maxSenderCount||e>this._maxSenderCount)&&(this._maxSenderCount=e)}openSubtitleHistoryView(){this._subtitleHistoryViewCount++}setPositionMode(e){this._captionsPositionModeChangesCount++,this._lastCaptionsPositionMode=e}startMessageClicked(){this._startMessageClickedCount++}tokenRefresh(){this._tokenRefreshCount++}getAttributes(){var e,t,i;return o.assign(super.getAttributes(),{CallId:this._callId,CaptioningSessionId:this._captioningSessionId,CaptioningLengthSeconds:this._captioningLengthSeconds||0,FistCaptionReceivedLengthSeconds:this._firstCaptionReceivedLengthSeconds||0,MaxSenderCount:this._maxSenderCount||0,SpokenLanguage:null!==(e=this._spokenLanguage)&&void 0!==e?e:"",SubtitleLanguage:null!==(t=this._subtitleLanguage)&&void 0!==t?t:"",OtherSpokenLanguage:null!==(i=this._otherSpokenLanguage)&&void 0!==i?i:"",IsSubtitleLanguageDifferentFromSpokenLanguage:this._spokenLanguage!==this._subtitleLanguage,SubtitleHistoryViewCount:this._subtitleHistoryViewCount,TokenRefreshCount:this._tokenRefreshCount,IsAutoJoin:this._isAutoJoin,CaptionsPositionModeChangedCount:this._captionsPositionModeChangesCount,LastCaptionsPositionMode:this._lastCaptionsPositionMode||"",StartMessageClickedCount:this._startMessageClickedCount})}};t.CallPstnTranslationLanguageChangeEvent=class extends v{constructor(e,t,i,n,o){super(),this._callId=e,this._captioningSessionId=t,this._prevLanguage=i,this._language=n,this._isLocal=o}getActionName(){return"CallPstnTranslationLanguageChangeEvent"}getAttributes(){var e;return o.assign(super.getAttributes(),{CallId:this._callId,CaptioningSessionId:this._captioningSessionId,PrevLanguage:null!==(e=this._prevLanguage)&&void 0!==e?e:"",Language:this._language,IsLocal:this._isLocal})}};t.CallPstnTranslationSettingsOpened=class extends v{constructor(e,t){super(),this._callId=e,this._captioningSessionId=t}getActionName(){return"CallPstnTranslationSettingOpenedEvent"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,CaptioningSessionId:this._captioningSessionId})}},function(e){e[e.PopupShown=0]="PopupShown",e[e.SwitchCamera=1]="SwitchCamera",e[e.TurnOnVideo=2]="TurnOnVideo",e[e.TurnOffVideo=3]="TurnOffVideo",e[e.Mute=4]="Mute",e[e.Unmute=5]="Unmute",e[e.BackgroundBlur=6]="BackgroundBlur",e[e.BackgroundUnBlur=7]="BackgroundUnBlur"}(B=t.LocalVideoActions||(t.LocalVideoActions={})),function(e){e[e.SwitchToSpeaker=0]="SwitchToSpeaker",e[e.SwitchToContent=1]="SwitchToContent",e[e.SwitchToPresentation=2]="SwitchToPresentation",e[e.SwitchToFloat=3]="SwitchToFloat",e[e.SwitchToWindow=4]="SwitchToWindow",e[e.EnterFullScreen=5]="EnterFullScreen",e[e.SwitchToModernGrid=6]="SwitchToModernGrid",e[e.SwitchToTogetherMode=7]="SwitchToTogetherMode",e[e.SwitchToLargeGallery=8]="SwitchToLargeGallery",e[e.ActivateOnlyVideoOnTheStage=9]="ActivateOnlyVideoOnTheStage",e[e.DeactivateOnlyVideoOnTheStage=10]="DeactivateOnlyVideoOnTheStage",e[e.ActivateNewCallScreen=11]="ActivateNewCallScreen",e[e.DeactivateNewCallScreen=12]="DeactivateNewCallScreen",e[e.ActivateSelfInTheGrid=13]="ActivateSelfInTheGrid",e[e.DeactivateSelfInTheGrid=14]="DeactivateSelfInTheGrid",e[e.SwitchToDarkThemeStage=15]="SwitchToDarkThemeStage",e[e.SwitchToLightThemeStage=16]="SwitchToLightThemeStage"}(F=t.CallViewMenuActions||(t.CallViewMenuActions={}));t.LocalVideoActionsEvent=class extends v{constructor(e){super(),this._action=e}getActionName(){return"LocalVideoActionsEvent"}getAttributes(){return o.assign(super.getAttributes(),{UserAction:B[this._action]})}};class J extends h.TelemetryEventBase{constructor(e,t,i,n,o){super(),this._hasActiveCall=e,this._predefinedImage=t,this._effectType=i,this._predefinedImageName=n,this._category=o}getEventName(){return"calling_background_effects_settings"}getAttributes(){const e=super.getAttributes();return e.EffectType=this._effectType,e.HasActiveCall=!!this._hasActiveCall,this._effectType===u.BackgroundEffect.BackgroundImage&&(e.IsPredefinedImage=this._predefinedImage),this._predefinedImageName&&(e.PredefinedImageName=this._predefinedImageName),this._category&&(e.Category=this._category),o.assign(super.getAttributes(),e)}}t.BackgroundEffectsSettingsEvent=J;t.BackgroundBlurEvent=class extends v{constructor(e,t){super(),this._callId=e,this._durationSecond=t}getActionName(){return"BackgroundBlurEvent"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,BlurSessionDuration:this._durationSecond})}};t.BackgroundEffectEvent=class extends v{constructor(e,t,i){super(),this._callId=e,this._durationSecond=t,this._type=i}getActionName(){return"BackgroundEffectEvent"}getAttributes(){const e=this._type===u.BackgroundEffect.Blur?"BlurSessionDuration":"BackgroundImageSessionDuration";return o.assign(super.getAttributes(),{CallId:this._callId,[e]:this._durationSecond})}};class $ extends h.TelemetryEventBase{constructor(e,t,i,n,o){super(),this._callId=e,this._isoDate=t,this._bingEffectUser=i,this._market=n,this._isCollapsed=o}getEventName(){return"calling_background_effects_bing_click"}getAttributes(){var e,t;const i=super.getAttributes();return i.CallId=null!==(e=this._callId)&&void 0!==e?e:"",i.ImgDate=this._isoDate,i.Market=null!==(t=this._market)&&void 0!==t?t:"",i.IsCollapsed=this._isCollapsed,o.assign(super.getAttributes(),i)}getPiiAttributes(){var e;const t=super.getPiiAttributes();return t.BingEffectUser={value:null!==(e=this._bingEffectUser)&&void 0!==e?e:"",piiKind:n.AWTPiiKind.Identity},o.assign(super.getPiiAttributes(),t)}}t.BackgroundEffectsBingInfoClickEvent=$;class Y extends h.TelemetryEventBase{constructor(e,t,i,n,o){super(),this._market=e,this._attempt=t,this._code=i,this._imageCount=n,this._error=o}getEventName(){return"calling_bing_background_download_api"}getAttributes(){var e,t;const i=super.getAttributes();return i.Market=this._market,i.Attempt=this._attempt,i.ResultCode=null!==(e=this._code)&&void 0!==e?e:0,i.ImageCount=null!==(t=this._imageCount)&&void 0!==t?t:0,i.Error=this._error||"",o.assign(super.getAttributes(),i)}}t.BingBackgroundsDownloadApiEvent=Y,function(e){e[e.None=0]="None",e[e.Navigate=1]="Navigate",e[e.Call=2]="Call"}(V=t.CallbackReminderTappedAction||(t.CallbackReminderTappedAction={}));class Z extends h.TelemetryEventBase{constructor(e,t,i){super(),this._result=e,this._missedCallTime=t,this._notificationShownTime=i}getEventName(){return"CallbackReminderTapped"}getAttributes(){const e=Date.now();return o.assign(super.getAttributes(),{CallbackReminderTappedAction:V[this._result],TimeSinceMissedCallMinutes:(e-this._missedCallTime)/6e4,TimeSinceReminderMinutes:(e-this._notificationShownTime)/6e4})}}t.CallbackReminderTappedEvent=Z,function(e){e[e.Displayed=0]="Displayed",e[e.Pressed=1]="Pressed"}(U=t.IncomingVideoNotificationAction||(t.IncomingVideoNotificationAction={}));class ee extends h.TelemetryEventBase{constructor(e,t,i){super(),this._origin=e,this._callId=t,this._action=i}getEventName(){return"calling_incoming_video_notification"}getAttributes(){return o.assign(super.getAttributes(),{Origin:this._origin,CallId:this._callId,Action:U[this._action]})}}t.IncomingVideoNotification=ee;t.ScreenShareSourceGetPreviewFailure=class extends v{constructor(e,t,i){super(),this._error=e,this._sourceType=t,this._currentlyShared=i}getActionName(){return"GetPreview"}getEventName(){return"GetPreviewFailed"}getAttributes(){return o.assign(super.getAttributes(),{Error:this._error,SourceType:this._sourceType,CurrentlyShared:this._currentlyShared})}};t.ScreenShareSourceGetIconFailure=class extends v{constructor(e,t){super(),this._error=e,this._currentlyShared=t}getActionName(){return"GetIcon"}getEventName(){return"GetIconFailed"}getAttributes(){return o.assign(super.getAttributes(),{Error:this._error,CurrentlyShared:this._currentlyShared})}};t.CallMergeEvent=class extends v{constructor(e,t,i){super(),this._activeCallId=e,this._incomingCallId=t,this._succeed=i}getActionName(){return"CallMergeEvent"}getAttributes(){return o.assign(super.getAttributes(),{ActiveCallId:this._activeCallId,IncomingCallId:this._incomingCallId,Succeed:this._succeed})}};class te extends h.TelemetryEventBase{constructor(e,t,i){super(),this._startingRoute=e,this._endingRoute=t,this._changed=i}getEventName(){return"AudioOutputDeviceSwitcher"}getAttributes(){return o.assign(super.getAttributes(),{DidChangeOutputDevice:this._changed,StartingOutputDevice:this._startingRoute,EndingOutputDevice:this._endingRoute})}}t.AudioOutputRouteChangedEvent=te,function(e){e[e.Accept=0]="Accept",e[e.Reject=1]="Reject",e[e.Mute=2]="Mute"}(j=t.SystemHotKeyCallAction||(t.SystemHotKeyCallAction={}));t.SystemHotKeyCallEvent=class extends v{constructor(e){super(),this._systemHotKeyCallAction=e}getActionName(){return"SystemHotKeyCall"}getAttributes(){return o.assign(super.getAttributes(),{SystemHotKeyCallAction:j[this._systemHotKeyCallAction]})}};t.SpeakerViewEvent=class extends v{constructor(e,t){super(),this._callId=e,this._durationSecond=t}getActionName(){return"SpeakerView"}getAttributes(){return o.assign(super.getAttributes(),{CallId:this._callId,SpeakerViewSessionDuration:this._durationSecond})}};t.CallViewMenuActionEvent=class extends v{constructor(e){super(),this._userAction=e}getActionName(){return"CallViewMenuAction"}getAttributes(){return o.assign(super.getAttributes(),{UserAction:F[this._userAction]})}};t.CallStageLayoutChangeEvent=class extends v{constructor(e,t,i,n,o,s){super(),this._fromStageMode=e,this._toStageMode=t,this._fromOnlyVideoOnTheStage=i,this._toOnlyVideoOnTheStage=n,this._isNewCallScreenActive=o,this._isAutomatic=s}getActionName(){return"CallStageLayoutChange"}getAttributes(){return o.assign(super.getAttributes(),{FromStageMode:l.StageMode[this._fromStageMode],ToStageMode:l.StageMode[this._toStageMode],FromOnlyVideoOnTheStage:this._fromOnlyVideoOnTheStage,ToOnlyVideoOnTheStage:this._toOnlyVideoOnTheStage,IsNewCallScreenActive:this._isNewCallScreenActive,IsAutomatic:this._isAutomatic})}},function(e){e[e.Apply=0]="Apply",e[e.Cancel=1]="Cancel"}(t.TogetherModePanelActionOrigin||(t.TogetherModePanelActionOrigin={}));t.TogetherModePanelActionEvent=class extends v{constructor(e,t){super(),this._origin=e,this._isChangingBackground=t}getActionName(){return"TogetherModePanelAction"}getAttributes(){const e=super.getAttributes();return e.IsChangingBackground=this._isChangingBackground,e.Origin=this._origin,e}},function(e){e[e.AnsweredWithAudio=0]="AnsweredWithAudio",e[e.AnsweredWithVideo=1]="AnsweredWithVideo",e[e.Declined=2]="Declined",e[e.DeclinedWithMessage=3]="DeclinedWithMessage"}(H=t.MobileCallAnswerActions||(t.MobileCallAnswerActions={}));t.MobileCallAnswerEvent=class extends v{constructor(e,t){super(),this._userAction=e,this._messageIndex=t}getActionName(){return"MobileCallAnswerEvent"}getAttributes(){return o.assign(super.getAttributes(),{UserAction:H[this._userAction],MessageSent:this._messageIndex})}},function(e){e.MobileIncomingRingPanel="MobileIncomingRingPanel",e.IncomingRingControls="IncomingRingControls",e.DesktopCallControls="DesktopCallControls",e.OngoingCallService="OngoingCallService",e.MobileCallControls="MobileCallControls"}(t.CallControlContext||(t.CallControlContext={})),function(e){e.Ignore="Ignore",e.AnswerCall="AnswerCall",e.EndCall="EndCall"}(t.MediaActionEventResult||(t.MediaActionEventResult={}));t.MediaActionEvent=class extends v{constructor(e,t){super(),this._context=e,this._result=t}getActionName(){return"MediaAction"}getAttributes(){return o.assign(super.getAttributes(),{Context:this._context,Result:this._result})}};t.MaybeEndCallFromAndroidBtScoDisconnectEvent=class extends v{constructor(e){super(),this._context=e}getActionName(){return"MaybeEndCallFromAndroidBtScoDisconnect"}getAttributes(){return o.assign(super.getAttributes(),{Context:this._context})}},function(e){e[e.Enter=0]="Enter",e[e.Leave=1]="Leave"}(W=t.FullChatUXNavigation||(t.FullChatUXNavigation={}));t.FullChatUXTelemetryEvent=class extends v{constructor(e,t,i){super(),this._navigation=e,this._conversationId=t,this._callId=i}getActionName(){return"FullChatUX"}getNavigationName(){return W[this._navigation]}getAttributes(){const e=super.getAttributes();return e.Navigation=this.getNavigationName(),e.IsGroupConversation=d.isGroupConversation(this._conversationId),e.CallId=this._callId,e}};t.CancelPreheatedCallNotJoinedEvent=class extends v{constructor(e,t){super(),this._callId=e,this._terminatedReason=t}getActionName(){return"CancelPreheatedCallNotJoined"}getAttributes(){const e=super.getAttributes();return e.CallId=this._callId,e.TerminatedReason=a.TerminatedReason[this._terminatedReason],e}};t.FallbackFromJoinPreheatedToRegularJoinEvent=class extends v{constructor(e){super(),this._callId=e}getActionName(){return"FallbackFromJoinPreheatedToRegularJoin"}getAttributes(){const e=super.getAttributes();return e.CallId=this._callId,e}};t.TouchBarButtonClickEvent=class extends v{constructor(e,t){super(),this._callId=e,this._command=t}getActionName(){return"TouchBarButtonClick"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{CallId:this._callId,Command:this._command})}};class ie extends v{constructor(e,t){super(),this._completionHandler=t,this._timerId=0,this._timerId=f.default.setTimeout((()=>this._completionHandler(this)),e)}clearTimer(){f.default.clearTimeout(this._timerId)}}t.CallConnectedOnAnswerEvent=class extends ie{constructor(e,t,i){super(10*b.SECOND,i),this._callId=e,this._origin=t,this._createdTs=Date.now()}getActionName(){return"CallConnectedOnAnswer"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{CallId:this._callId,Origin:this._origin,ConnectedIn:this._getElapsed(),IsTimedOut:this._isTimedOut()})}markConnectedState(){this.clearTimer(),this._callConnectedTs=Date.now(),this._completionHandler(this)}_getElapsed(){return(this._callConnectedTs||Date.now())-this._createdTs}_isTimedOut(){return void 0===this._callConnectedTs}};t.IncomingCallScreenDisplayedEvent=class extends ie{constructor(e,t,i){super(30*b.SECOND,i),this._callId=e,this._intentCreatedTs=t}getActionName(){return"IncomingCallScreenDisplayed"}getAttributes(){var e;return Object.assign(Object.assign({},super.getAttributes()),{CallId:this._callId,Duration:(null!==(e=this._incomingCallScreenDisplayedTs)&&void 0!==e?e:Date.now())-this._intentCreatedTs,IsTimedOut:void 0===this._incomingCallScreenDisplayedTs})}markIncomingCallScreenDisplayed(){this.clearTimer(),this._incomingCallScreenDisplayedTs=Date.now(),this._completionHandler(this)}_isTimedOut(){return void 0===this._incomingCallScreenDisplayedTs}},function(e){e[e.InvalidCallStatusTransition=0]="InvalidCallStatusTransition"}(t.CallSlimCoreErrorType||(t.CallSlimCoreErrorType={}));t.CallSlimCoreError=class extends v{constructor(e,t,i,n,o=a.CallState.None,s=a.CallState.None){super(),this._callId=e,this._callSlimCoreErrorType=t,this._causeId=i,this._terminatedReason=n,this._currentState=o,this._newState=s}getActionName(){return"CallSlimCoreError"}getAttributes(){var e;return Object.assign(Object.assign({},super.getAttributes()),{CallId:this._callId,SlimCoreErrorType:this._callSlimCoreErrorType,TerminatedReason:null!==(e=this._terminatedReason)&&void 0!==e?e:"",CauseId:this._causeId,CurrentState:this._currentState,NewState:this._newState})}}},272675:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorFilterRenderDurationEvent=t.ColorFilterFailureEvent=t.QRCodeScan=t.CameraCaptureEvent=t.CameraFirstFrame=t.CameraFailureEvent=t.MediaCapturedEvent=t.VideoReencode=t.MarkupAdded=t.CameraVisibleTime=t.MediaSource=t.MediaType=void 0;const n=i(496486),o=i(827028),s=i(746096),a=i(5798),r=i(500349);var l;!function(e){e[e.Photo=0]="Photo",e[e.Video=1]="Video",e[e.Document=2]="Document",e[e.Whiteboard=3]="Whiteboard"}(l=t.MediaType||(t.MediaType={})),function(e){e.OfficeLens="OL",e.FSM="FSM"}(t.MediaSource||(t.MediaSource={}));class c extends r.TelemetryEventBase{constructor(){super()}getEventName(){return"camera_action"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),a.isOfficeLensTelemetryActive()&&(e.IsOfficeLens=!0),e}}t.CameraVisibleTime=class extends c{constructor(e,t){super(),this._startTime=e,this._endTime=t}getActionName(){return"CameraVisibleTime"}getAttributes(){return n.assign(super.getAttributes(),{VisibleTimeMs:this._endTime-this._startTime})}};t.MarkupAdded=class extends c{constructor(e,t,i,n,o,s,a,r,l){super(),this._entryPoint=e,this._ink=t,this._text=i,this._stickers=n,this._overlay=o,this._filter=s,this._stickerIds=a,this._crop=r,this._rotate=l}getActionName(){return"MarkupAdded"}getAttributes(){const e=super.getAttributes();return e.EntryPoint=s.PostSource[this._entryPoint],e.Ink=this._ink||!1,e.Text=this._text||!1,e.Sticker=this._stickers||!1,e.Overlay=this._overlay||!1,e.Filter=this._filter||!1,e.StickerIds=this._stickerIds?this._stickerIds.join():"",this._crop&&(e.Crop=this._crop),this._rotate&&(e.Rotate=this._rotate),e}};t.VideoReencode=class extends c{constructor(e){super(),this._videoDuration=e,this._startTime=0,this._reencodeDuration=0,this._success=!1,this._error="",this._startTime=Date.now()}getActionName(){return"VideoReencode"}getAttributes(){return n.assign(super.getAttributes(),{Duration:this._reencodeDuration,Success:this._success,VideoDuration:this._videoDuration,Error:this._error})}setStatus(e,t=""){this._success=e,this._error=t,this._reencodeDuration=this._startTime>0?Date.now()-this._startTime:0}};class d extends c{constructor(e){super(),this._source=e}getAttributes(){return n.assign(super.getAttributes(),{Source:this._source})}}t.MediaCapturedEvent=class extends d{getActionName(){return"MediaCaptured"}constructor(e,t,i=1,n,o){super(t),this._success=e,this._mediaCount=i,this._failureReason=n,this._errorCode=o}getAttributes(){const e=super.getAttributes();return e.Success=this._success,void 0!==this._failureReason&&(e.FailureReason=this._failureReason,this._errorCode&&(e.ErrorCode=this._errorCode)),e.MediaCount=this._mediaCount,e}};t.CameraFailureEvent=class extends d{getActionName(){return"CameraFailure"}constructor(e,t,i){super(t),this._failureReason=e,this._failureDetails=i}getAttributes(){return n.assign(super.getAttributes(),{FailureReason:this._failureReason,FailureDetails:this._failureDetails||""})}};t.CameraFirstFrame=class extends d{getActionName(){return"CameraFirstFrame"}constructor(e,t){super(t),this._duration=Date.now()-e}getAttributes(){return n.assign(super.getAttributes(),{Duration:this._duration})}};t.CameraCaptureEvent=class extends d{getActionName(){return this._captureEventName}constructor(e,t,i,n,o,s,a=1){super(o),this._captureEventName=e,this._success=t,this._failureReason=i,this._resolution=n,this._mediaType=s,this._mediaCount=a}getAttributes(){const e=super.getAttributes();return e.Success=this._success,void 0!==this._failureReason&&(e.FailureReason=this._failureReason),void 0!==this._resolution&&(e.CaptureResolution=this._resolution),void 0!==this._mediaType&&(e.MediaType=l[this._mediaType]),e.MediaCount=this._mediaCount,e}};t.QRCodeScan=class extends c{getActionName(){return"QRCodeScan"}constructor(e){super(),this._scanState=e}getAttributes(){return n.assign(super.getAttributes(),{QRCodeScanState:o.QRCodeScanState[this._scanState]})}};t.ColorFilterFailureEvent=class extends c{getActionName(){return"ColorFilterFailure"}constructor(e){super(),this._failure=e}getAttributes(){return n.assign(super.getAttributes(),{Failure:this._failure})}};t.ColorFilterRenderDurationEvent=class extends c{getActionName(){return"ColorFilterRenderDuration"}constructor(e){super(),this._renderDuration=e}getAttributes(){return n.assign(super.getAttributes(),{RenderDuration:this._renderDuration})}}},615112:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CaptureProviderTelemetry=t.CaptureProviderScenarioTelemetry=void 0;const n=i(500349);var o;!function(e){e[e.Avatar=0]="Avatar",e[e.Camera=1]="Camera",e[e.Picker=2]="Picker",e[e.QRCode=3]="QRCode"}(o=t.CaptureProviderScenarioTelemetry||(t.CaptureProviderScenarioTelemetry={}));class s extends n.TelemetryEventBase{constructor(e,t,i,n,o){super(),this._scenario=e,this._provider=t,this._success=i,this._userCancelled=n,this._failureReason=o}getEventName(){return"CaptureProvider"}getAttributes(){const e=super.getAttributes();return e.Scenario=o[this._scenario],e.Provider=this._provider,e.Success=this._success,void 0!==this._userCancelled&&(e.UserCancelled=this._userCancelled),void 0!==this._failureReason&&(e.FailureReason=this._failureReason),e}}t.CaptureProviderTelemetry=s},423842:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CelebrationNotificationTelemetryEvent=t.CelebrationNotificationType=t.CelebrationNotificationTelemetryEventAction=void 0;const n=i(636076),o=i(496486),s=i(500349);!function(e){e.Created="NotificationCreated",e.SelectedTopContactUserProfileIncomplete="SelectedTopContactUserProfileIncomplete",e.PullCampaignContentServiceFailed="PullCampaignContentServiceFailed",e.ContactCutOffLimitReached="ContactCutOffLimitReached",e.NotificationAlreadyShown="NotificationAlreadyShown"}(t.CelebrationNotificationTelemetryEventAction||(t.CelebrationNotificationTelemetryEventAction={})),function(e){e.EngagementPopCard="EngagementPopCard"}(t.CelebrationNotificationType||(t.CelebrationNotificationType={}));class a extends s.TelemetryEventBase{constructor(e){super(),this._telemetryEventOptions=e}shouldSend(){return!0}getEventName(){return"celebration_notification"}getPiiAttributes(){return this._telemetryEventOptions.celebratedUserSkypeId?o.merge(super.getPiiAttributes(),{CelebratedUser:{value:this._telemetryEventOptions.celebratedUserSkypeId,piiKind:n.AWTPiiKind.Identity}}):super.getPiiAttributes()}getAttributes(){return o.assign(super.getAttributes(),this._getOwnAttributes())}_getOwnAttributes(){return o.assign(super.getAttributes(),{Action:this._telemetryEventOptions.action,NotificationType:this._telemetryEventOptions.notificationType||"",CampaignId:this._telemetryEventOptions.cardCampaignId,CardGuid:this._telemetryEventOptions.cardGuid,NumberOfTopContacts:this._telemetryEventOptions.numberOfTopContacts,DidIdentifyDifferentTopContacts:this._telemetryEventOptions.didIdentifyDifferentTopContacts})}}t.CelebrationNotificationTelemetryEvent=a},539468:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CensusTelemetryEvent=void 0;const n=i(496486),o=i(496486),s=i(278230),a=i(823113),r=i(890239),l=i(901246),c=i(500349),d="Unset",u="Set";class g extends c.TelemetryEventBase{constructor(e){super(),this._props=e}getEventName(){return"people_census"}getAttributes(){const e=super.getAttributes();e.AvatarState=this._props.userHasAvatar?u:d,e.PhoneVerificationState=this._mapBooleanOrUndefinedToCensusState(this._props.userHasVerifiedPhoneNumber),e.EmailVerificationState=this._mapBooleanOrUndefinedToCensusState(this._props.userHasVerifiedEmail),e.LocalAddressBookState=this._props.userHasAddressBookConnected?u:d,e.AppearInSearchState=this._props.userAppearsInSearch?u:d,e.AppearInSuggestionsState=this._props.userAppearsInSuggestions?u:d,e.UserSearchPrivacyOption=this._props.userSearchPrivacyOption,e.AvatarPolicy=e.AvatarPolicy=(0,s.flow)(o.camelCase,o.upperFirst)(this._props.userAvatarPolicy),e.UserPresenceStatus=this._props.userPresenceStatus,e.UserMoodStatus=this._props.userMoodStatus?u:d,e.DisplayableNonAuthorizedContacts=this._props.displayableNonAuthorizedContacts,e.UserHasSplitViewEnabled=this._props.userHasSplitViewEnabled?u:d;const{city:t,state:i,province:c,country:g}=this._props.userLocation;return e.UserLocationCity=t?u:d,e.UserLocationState=i?u:d,e.UserLocationProvince=c?u:d,e.UserLocationCountry=g?u:d,e.InviteFreeContactsCount=this._props.inviteFreeContactsCount,e.ManuallyAddedContactsCount=this._props.manuallyAddedContactsCount,e.BlockedContactsCount=this._props.blockedContactsCount,e.BotsContactsCount=this._props.botsCount,e.FavoritesContactsCount=this._props.favoriteContactsCount,e.AllNonBlockedContactsCount=this._props.nonBlockedContactsCount,e.OneWayShortCircuitContactsCount=this._props.oneWayShortCircuitContactsCount,e.TwoWayShortCircuitContactsCount=this._props.twoWayShortCircuitContactsCount,e.PstnContactsCount=this._props.pstnContactsCount,e.EngagedContactsCount=this._props.engagedContactsCount,e.AllShownContactsCount=this._props.allShownContactsCount,e.RemovedAuthorizedContactsCount=this._props.removedAuthorizedContactsCount,e.UserDisplayNameWordCount=this._props.displayNamePartsLength,e.FirstNameAndLastNameAreMatching=this._props.firstAndSecondAreMatching,e.DefaultReactionsCount=this._props.numberOfDefaultReactions,e.CustomReactionsCount=this._props.numberOfCustomReactions,e.UserIsNew=this._props.userIsNew,e.DaysFromWizardCompletion=this._props.daysFromWizardCompletion||d,e.WasUpgradedFromDelphiToElectonDate=this._props.migratedDateFromDelphiToElectron||d,e.HasReadReceiptsEnabled=(0,o.isUndefined)(this._props.hasReadReceiptsEnabled)?d:this._props.hasReadReceiptsEnabled,!1!==this._props.hasReadReceiptsEnabled?e.ReadReceiptsDisabledReason=d:e.ReadReceiptsDisabledReason=!1===this._props.readReceiptsSettingPreference?l.ReadReceiptsSettingOrigin[l.ReadReceiptsSettingOrigin.UserAction]:this._props.userPresenceStatus===r.UserStatus[r.UserStatus.Hidden]?l.ReadReceiptsSettingOrigin[l.ReadReceiptsSettingOrigin.UserStatusUpdate]:l.ReadReceiptsSettingOrigin[l.ReadReceiptsSettingOrigin.OptOut],e.UserSignedInIdType=this._props.userSignedInIdType||d,e.UserSkypeIdType=this._props.userSkypeIdType||d,(0,o.isUndefined)(this._props.osNotificationsEnabled)||(e.IsOsNotificationPermissionEnabled=this._props.osNotificationsEnabled),e.NotificationsPermission=a.PermissionStatus[this._props.notificationsPermission],e.CameraPermission=a.PermissionStatus[this._props.cameraPermission],e.MicrophonePermission=a.PermissionStatus[this._props.microphonePermission],e.ContactsPermission=a.PermissionStatus[this._props.contactsPermission],e.ConversationsCountTotal=this._props.countConversationsTotal,e.ConversationsCountDisplayable=this._props.countConversationsDisplayable,e.ConversationsCountDisplayed=this._props.countConversationsDisplayed,e.RecentListConversationsCount=this._props.numberOfRecentListConversations,e.RecentListSkype1on1ConversationsCount=this._props.numberOfRecentListSkype1on1Conversations,e.RecentListSkypeGroupConversationsCount=this._props.numberOfRecentListSkypeGroupConversations,e.RecentListSkypeBotConversationsCount=this._props.numberOfRecentListSkypeBotConversations,e.RecentListPstnConversationsCount=this._props.numberOfRecentListPstnConversations,e.RecentListPrivateConversationsCount=this._props.numberOfRecentListPrivateConversations,e.RecentListConversationsWithTabsCount=this._props.numberOfRecentListConversationsWithTabs,e.RecentListOtherConversationsCount=this._props.numberOfRecentListOtherConversations,e.ArchivedConversationsCount1on1=this._props.archived1on1ConversationsCount,e.ArchivedConversationsCountGroup=this._props.archivedGroupConversationsCount,e.Muted1on1ConversationsCount=this._props.muted1on1ConversationsCount,e.MutedGroupConversationsCount=this._props.mutedGroupConversationsCount,e.SmartMutedConversationsCount=this._props.smartMutedConversationsCount,e.TranslatedConversationsCount=this._props.translatedConversationsCount,n.isUndefined(this._props.profileMigrationParams)||(e.ProfileMigratedV2=this._mapBooleanOrUndefinedToCensusState(!0),e.ProfilePhonesCount=this._props.profileMigrationParams.phonesCount,e.ProfileMsaPhonesCount=this._props.profileMigrationParams.msaPhonesCount,e.ProfileSkypeVerifiedPhonesCount=this._props.profileMigrationParams.skypeVerifiedPhonesCount,e.ProfileSkypeVisiblePhonesCount=this._props.profileMigrationParams.skypeVisiblePhonesCount,e.ProfileEmailsCount=this._props.profileMigrationParams.emailsCount,e.ProfileMsaEmailsCount=this._props.profileMigrationParams.msaEmailsCount,e.ProfileSkypeVerifiedEmailsCount=this._props.profileMigrationParams.skypeVerifiedEmailsCount,e.ProfileCountry=this._mapBooleanOrUndefinedToCensusState(this._props.profileMigrationParams.countryVisible),e.ProfileBirthday=this._mapBooleanOrUndefinedToCensusState(this._props.profileMigrationParams.birthdayVisible),e.ProfileGender=this._mapBooleanOrUndefinedToCensusState(this._props.profileMigrationParams.genderVisible)),e}_mapBooleanOrUndefinedToCensusState(e){return n.isUndefined(e)?"Unknown":e?u:d}}t.CensusTelemetryEvent=g},612228:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(36593),o=i(746096),s=i(268810),a=i(415963);class r extends s.default{constructor(e,t){super("ChatService",a.ScenarioName.ChatServiceRequest,{scenario:e,connectionType:o.ChatServiceConnectionType[t]},"chatServiceScenario_",e)}failed(e){const t=Object.assign(Object.assign({},r._extractResponseMetadata(e,!0)),{Canceled:e.canceled,TimedOut:e.timedOut});this._failed("Request Failed",t)}retry(e){const t=Object.assign(Object.assign({},r._extractResponseMetadata(e,!0)),{Canceled:e.canceled,TimedOut:e.timedOut});this._retry("Request Failed, will retry",t)}succeeded(e){this._succeeded(r._extractResponseMetadata(e))}static _extractResponseMetadata(e,t=!1){const i=n.ChatServiceErrorHandler.getChatServiceErrorResponseMetadata(e),o={ContextId:i.contextId,Date:i.date};return t&&(o.ErrorCode=i.errorCode,o.StatusCode=i.statusCode,o.StatusText=i.statusText,o.ErrorMessage=i.errorMessage),o}}t.default=r},609959:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChatServiceRedirectEvent=t.ChatServiceTransformationFailureEvent=t.ChatServiceForceSyncConversationEvent=t.ChatServiceBundleProcessingErrorEvent=t.ChatServiceInternalFailureEvent=t.ChatServiceFailureEvent=void 0;const n=i(496486),o=i(746096),s=i(500349);class a extends s.TelemetryEventBase{constructor(e,t,i,n,o){super(),this._scenario=e,this._mriType=t,this._attributes=i,this._metadata=n,this._connectionType=o}getEventName(){return"chat_service_failure"}getAttributes(){const e=super.getAttributes();return e.scenario=this._scenario,e.mriType=this._mriType||"",n.assign(e,this._attributes),e.error_code=this._metadata.errorCode,e.StatusCode=this._metadata.statusCode,e.StatusText=this._metadata.statusText,e.ErrorMessage="Unknown"===this._metadata.errorMessage?this._metadata.statusText:this._metadata.errorMessage,e.context_id=this._metadata.contextId,e.ServerTime=this._metadata.date,e.Connection_Type=o.ChatServiceConnectionType[this._connectionType],this._metadata.canceled&&(e.Canceled=this._metadata.canceled),this._metadata.timedOut&&(e["TimedOut "]=this._metadata.timedOut),this._metadata.msCv&&(e.CorrelationVector=this._metadata.msCv),this._metadata.retryAfter&&(e.RetryAfter=this._metadata.retryAfter),e}}t.ChatServiceFailureEvent=a;t.ChatServiceInternalFailureEvent=class extends a{constructor(e,t,i,n,o,s,a){super(e,t,i,n,o),this._networkType=s,this._isNetworkingAvailable=a}getAttributes(){const e=super.getAttributes();return e.NetworkType=this._networkType,e.WasNetworkingAvailable=this._isNetworkingAvailable,e}getEventName(){return"chat_service_app_internal_failure"}};class r extends s.TelemetryEventBase{constructor(e){super(),this._description=e}getEventName(){return"chat_service_bundle_processing_failure"}getAttributes(){const e=super.getAttributes();return e.description=this._description,e}}t.ChatServiceBundleProcessingErrorEvent=r;class l extends s.TelemetryEventBase{constructor(e,t){super(),this._reason=e,this._syncSuccess=t}getEventName(){return"chat_service_force_sync"}getAttributes(){const e=super.getAttributes();return e.Reason=this._reason,e.ForceSyncSuccess=this._syncSuccess,e}}t.ChatServiceForceSyncConversationEvent=l;class c extends s.TelemetryEventBase{constructor(e){super(),this._attributes=e}getEventName(){return"chat_service_transformation_failure"}getAttributes(){const e=super.getAttributes();return e.Message=this._attributes.reason,e.ResourceType=this._attributes.resourceType,void 0!==this._attributes.mriNamespace&&(e.MriNamespace=this._attributes.mriNamespace),void 0!==this._attributes.threadSuffix&&(e.ThreadSuffix=this._attributes.threadSuffix),this._attributes.cv&&(e.CorrelationVector=this._attributes.cv),this._attributes.error&&(e.Error=this._attributes.error),e}}t.ChatServiceTransformationFailureEvent=c;class d extends s.TelemetryEventBase{constructor(e){super(),this._attributes=e}getEventName(){return"chat_service_redirect"}getAttributes(){const e=super.getAttributes();return e.Source=this._attributes.source,e.TargetEnvironment=this._attributes.targetEnvironment,e.PreviousEnvironment=this._attributes.previousEnvironment,e.TargetUrl=this._attributes.targetUrl,this._attributes.previousUrl&&(e.PreviousUrl=this._attributes.previousUrl),e}}t.ChatServiceRedirectEvent=d},211705:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this._conversations=new Set,this._messagesCount=0}markFullSync(e){this._isFullSync=e}markFirstSync(){this._isFirstSync=!0}accumulateData(e,t){this._messagesCount+=t,this._conversations.add(e)}getData(){return{isFirstSync:this._isFirstSync,isFullSync:this._isFullSync,conversationsCount:this._conversations.size,messagesCount:this._messagesCount}}reset(){this._conversations.clear(),this._messagesCount=0,this._isFullSync=!1,this._isFirstSync=!1}}},184958:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClientTriggeredEngagementEvent=t.EventStatus=t.ClientTriggeredEngagementActions=void 0;const n=i(496486),o=i(500349);var s,a;!function(e){e[e.Overview=1]="Overview",e[e.New=2]="New",e[e.Update=3]="Update",e[e.Delete=4]="Delete",e[e.Finished=5]="Finished",e[e.LoadCampaign=6]="LoadCampaign",e[e.LoadingCampaign=7]="LoadingCampaign",e[e.OpenCampaign=8]="OpenCampaign",e[e.Reset=9]="Reset"}(s=t.ClientTriggeredEngagementActions||(t.ClientTriggeredEngagementActions={})),function(e){e[e.Completed=1]="Completed",e[e.Failed=2]="Failed"}(a=t.EventStatus||(t.EventStatus={}));class r extends o.TelemetryEventBase{constructor(e){super(),this.props=e}getAttributes(){const e=n.assign(super.getAttributes(),{Action:s[this.props.action]||"UnknownAction",IsOfflineTargeted:this.props.offlineTargeted||!1});return this.props.campaignId&&(e.CampaignId=this.props.campaignId),this.props.campaignVariant&&(e.CampaignVariant=this.props.campaignVariant),this.props.campaignVersion&&(e.CampaignVersion=this.props.campaignVersion||0),this.props.newCampaignsCount&&(e.NewCampaignsCount=this.props.newCampaignsCount),this.props.updatedCampaignsCount&&(e.UpdatedCampaignsCount=this.props.updatedCampaignsCount),this.props.deletedCampaignsCount&&(e.DeletedCampaignsCount=this.props.deletedCampaignsCount),this.props.durationInMs&&(e.DurationInMs=this.props.durationInMs),this.props.status&&(e.Status=a[this.props.status]),this.props.correlationId&&(e.MessageCorrelationId=this.props.correlationId),e}getEventName(){return"engagement_client_triggered_campaigns"}}t.ClientTriggeredEngagementEvent=r},274714:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoachMarkTelemetryEventAction=void 0;const n=i(496486),o=i(911009),s=i(746096),a=i(500349);var r;!function(e){e[e.Open=1]="Open",e[e.Close=2]="Close",e[e.Suppress=3]="Suppress"}(r=t.CoachMarkTelemetryEventAction||(t.CoachMarkTelemetryEventAction={}));class l extends a.TelemetryEventBase{constructor(e){super(),this._action=e.action,this._anchorClicked=e.anchorClicked,this._coachMarkType=e.coachMarkType,this._dismissed=e.dismissed,this._nextClicked=e.nextClicked,this._skipClicked=e.skipClicked,this._origin=e.origin,this._error=e.error,this._errorDescription=e.errorDescription}getEventName(){return"engagement_coach_mark_event"}getAttributes(){return n.assign(super.getAttributes(),{Action:this._action?r[this._action]:"Unknown",AnchorClicked:this._anchorClicked||"",CoachMarkType:this._coachMarkType?o.CoachMarkType[this._coachMarkType]:"Unknown",Dismissed:this._dismissed||"",NextClicked:this._nextClicked||"",SkipClicked:this._skipClicked||"",Origin:s.CoachMarkOrigin[this._origin||s.CoachMarkOrigin.Unknown],Error:this._error||"",ErrorDescription:this._errorDescription||""})}}t.default=l},72416:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TasterTelemetryEvent=t.ComponentActionEvent=t.FailureScreenEvent=t.CallerIdSettingsEvent=t.CallerIdFeatureToggleEvent=t.CallerIdCallIgnoreEvent=t.CallerIdInChatEvent=t.CallerIdDialpadEvent=t.CallerIdChinaWarningEvent=t.CallerIdInterruptPromptEvent=t.UnansweredCallCTA=t.ExperimentButtonClickAction=t.ExperimentBannerCloseAction=t.ExperimentOpenAction=t.CallerIdSettingsAction=t.CallerIdLocations=t.NavigateToDestination=void 0;const n=i(148540),o=i(814806),s=i(881722),a=i(640363),r=i(500349);var l,c,d;!function(e){e[e.BalanceStatePanel=0]="BalanceStatePanel",e[e.DialerPanel=1]="DialerPanel",e[e.GroupCall=2]="GroupCall"}(l=t.NavigateToDestination||(t.NavigateToDestination={})),function(e){e[e.InterruptPrompt=0]="InterruptPrompt",e[e.InChat=1]="InChat",e[e.Dialpad=2]="Dialpad",e[e.CallingSettings=3]="CallingSettings",e[e.ChinaWarning=4]="ChinaWarning"}(c=t.CallerIdLocations||(t.CallerIdLocations={})),function(e){e[e.Open=0]="Open",e[e.Enable=1]="Enable",e[e.Disable=2]="Disable",e[e.EnableAutoSelect=3]="EnableAutoSelect",e[e.DisableAutoSelect=4]="DisableAutoSelect",e[e.AddNumberOpen=5]="AddNumberOpen",e[e.AddNumberEnter=6]="AddNumberEnter",e[e.AddNumberVerify=7]="AddNumberVerify",e[e.AddNumberSuccess=8]="AddNumberSuccess",e[e.RemoveNumber=9]="RemoveNumber",e[e.SetPrimaryNumber=10]="SetPrimaryNumber",e[e.ResendCode=11]="ResendCode",e[e.AddSkypeNumber=12]="AddSkypeNumber"}(d=t.CallerIdSettingsAction||(t.CallerIdSettingsAction={}));class u extends r.TelemetryEventBase{getAriaTenantTokenOverride(){return a.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class g extends u{constructor(e,t,i){super(),this._settings=e,this._userEntitlementsSummary=t,this._isFreeTrialAvailable=i}getEventName(){return"s4l_entitlement_experiments"}getAttributes(){const e=super.getAttributes();return e.ExperimentName=this._settings.name,e.ExperimentLocation=s.ExperimentLocation[this._settings.location],this._settings.layoutOption&&(e.LayoutOption=this._settings.layoutOption),this._userEntitlementsSummary&&(e.UserEntitlementsSummary=this._userEntitlementsSummary),this._isFreeTrialAvailable&&(e.IsFreeTrialAvailable=this._isFreeTrialAvailable),e}}t.ExperimentOpenAction=class extends g{getActionName(){return"ExperimentOpen"}};t.ExperimentBannerCloseAction=class extends g{getActionName(){return"BannerClose"}};t.ExperimentButtonClickAction=class extends g{constructor(e,t,i,n){super(t,i,n),this._navigateTo=e}getActionName(){return"ButtonClick"}getAttributes(){const e=super.getAttributes();return e.NavigateTo=l[this._navigateTo],e}};t.UnansweredCallCTA=class extends u{constructor(e){super(),this._action=e}getEventName(){return"s4l_entitlement_ucux_cta"}getActionName(){return this._action}};class h extends u{getEventName(){return"s4l_callerId"}}t.CallerIdInterruptPromptEvent=class extends h{constructor(e){super(),this._action=e}getActionName(){return o.Action[this._action]}getAttributes(){const e=super.getAttributes();return e.Location=c[c.InterruptPrompt],e}};t.CallerIdChinaWarningEvent=class extends h{constructor(e){super(),this._action=e}getActionName(){return o.Action[this._action]}getAttributes(){const e=super.getAttributes();return e.Location=c[c.ChinaWarning],e}};t.CallerIdDialpadEvent=class extends h{constructor(e){super(),this._action=e}getActionName(){return o.Action[this._action]}getAttributes(){const e=super.getAttributes();return e.Location=c[c.Dialpad],e}};t.CallerIdInChatEvent=class extends h{constructor(e,t){super(),this._action=e,this._layoutOption=t}getActionName(){return o.Action[this._action]}getAttributes(){const e=super.getAttributes();return e.Location=c[c.InChat],e.LayoutOption=this._layoutOption,e}};t.CallerIdCallIgnoreEvent=class extends h{constructor(e){super(),this._terminatedReason=e}getActionName(){return o.Action[o.Action.IgnoreCall]}getAttributes(){const e=super.getAttributes();return e.TerminatedReasonName=n.TerminatedReason[this._terminatedReason],e}};t.CallerIdFeatureToggleEvent=class extends h{constructor(e,t,i,n,o){super(),this._action=e,this._promptShownCount=t,this._messageShownCount=i,this._dialpadShowCount=n,this._campaignDurationDays=o}getActionName(){return o.Action[this._action]}getAttributes(){const e=super.getAttributes();return e.PromptShownCount=this._promptShownCount,e.MessageShownCount=this._messageShownCount,e.DialpadShowCount=this._dialpadShowCount,void 0!==this._campaignDurationDays&&(e.CampaignDurationDays=this._campaignDurationDays),e}};t.CallerIdSettingsEvent=class extends h{constructor(e,t,i){super(),this._action=e,this._type=t,this._attempt=i}getActionName(){return d[this._action]}getAttributes(){const e=super.getAttributes();return e.Location=c[c.CallingSettings],void 0!==this._type&&(e.Type=this._type),void 0!==this._attempt&&(e.Attempt=this._attempt),e}};t.FailureScreenEvent=class extends u{getEventName(){return"s4l_failure_screen"}getActionName(){return o.Action[this._action]}constructor(e,t,i,n){super(),this._action=e,this._location=t,this._layoutOption=i,this._copiesOption=n}getAttributes(){const e=super.getAttributes();return e.Location=o.Location[this._location],this._layoutOption&&(e.LayoutOption=this._layoutOption),this._copiesOption&&(e.CopiesOption=this._copiesOption),e}};t.ComponentActionEvent=class extends u{constructor(e,t,i){super(),this._action=e,this._component=t,this._location=i}getEventName(){return"s4l_component"}getActionName(){return this._action}getAttributes(){const e=super.getAttributes();return e.Location=this._location,e.Component=this._component,e}};t.TasterTelemetryEvent=class extends u{constructor(e,t){super(),this._duration=e,this._terminatedReason=t}getActionName(){return"CallEnd"}getEventName(){return"s4l_taster_call_ended"}getAttributes(){const e=super.getAttributes();return e.CallDuration=this._duration,e.TerminatedReason=this._terminatedReason,e}}},984851:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectOnSkypeTelemetryEvents=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(e){super(),this._connectType=e}getEventName(){return"people_search_connect_on_skype"}getAttributes(){const e=super.getAttributes();return e.Action=this._connectType,e}}t.ConnectOnSkypeTelemetryEvents=o},258031:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContactsPanelBannerEvent=t.AddContactPanelEvent=t.ContactsPanelEvent=t.BannerType=t.BannerAction=t.AddPhoneNumberPanelOrigin=t.AddContactPanelOrigin=t.ContactsPanelAction=void 0;const n=i(496486),o=i(795691),s=i(500349);var a,r,l,c;!function(e){e[e.Opened=0]="Opened",e[e.Closed=1]="Closed",e[e.TabsSwitched=2]="TabsSwitched",e[e.AddContactPanelOpened=3]="AddContactPanelOpened",e[e.ShowActiveNow=4]="ShowActiveNow",e[e.ShowAllMyContacts=5]="ShowAllMyContacts"}(a=t.ContactsPanelAction||(t.ContactsPanelAction={})),function(e){e[e.ContactsPanelV2=0]="ContactsPanelV2",e[e.HubTabPeople=1]="HubTabPeople",e[e.SearchResultListAddContactButton=2]="SearchResultListAddContactButton",e[e.DesktopNewActionPicker=3]="DesktopNewActionPicker",e[e.LandingScreen=4]="LandingScreen"}(r=t.AddContactPanelOrigin||(t.AddContactPanelOrigin={})),function(e){e[e.AddContactsPanel=0]="AddContactsPanel",e[e.DialpadPanel=1]="DialpadPanel",e[e.ContactListAdd=2]="ContactListAdd",e[e.ContactListEdit=3]="ContactListEdit",e[e.UserCard=4]="UserCard"}(t.AddPhoneNumberPanelOrigin||(t.AddPhoneNumberPanelOrigin={})),function(e){e[e.Shown=0]="Shown",e[e.Clicked=1]="Clicked",e[e.Dismissed=2]="Dismissed"}(l=t.BannerAction||(t.BannerAction={})),function(e){e[e.ContactsPrivacy=0]="ContactsPrivacy",e[e.SyncAddressBook=1]="SyncAddressBook"}(c=t.BannerType||(t.BannerType={}));class d extends s.TelemetryEventBase{getEventName(){return"people_contacts_panel"}}t.ContactsPanelEvent=class extends d{constructor(e,t,i,n){super(),this._action=e,this._tab=t,this._hasSyncedAddressBook=i,this._isShowingActiveNow=n}getAttributes(){const e=super.getAttributes();return e.Action=a[this._action],e.Tab=this._getTabName(this._tab),n.isUndefined(this._isShowingActiveNow)||(e.IsShowingActiveNow=this._isShowingActiveNow),n.isUndefined(this._hasSyncedAddressBook)||(e.HasSyncedAB=this._hasSyncedAddressBook),e}_getTabName(e){return o.ContactsPanelV2[e]}};t.AddContactPanelEvent=class extends d{constructor(e){super(),this._origin=e}getAttributes(){const e=super.getAttributes();return e.Action=a[a.AddContactPanelOpened],e.Origin=r[this._origin],e}};t.ContactsPanelBannerEvent=class extends d{constructor(e,t){super(),this._type=e,this._action=t}getAttributes(){const e=super.getAttributes();return e.BannerType=c[this._type],e.Action=l[this._action],e}}},570437:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalAddressBookPhoneNumbersCorrected=t.ShortCircuitContactsError=t.ShortCircuitContactsProcessed=t.ContactInvite=t.ContactsActionReportMessageFailure=t.ContactsActionReportMessage=t.ContactsTelemetryEvent=void 0;const n=i(496486),o=i(746096),s=i(500349);class a extends s.TelemetryEventBase{constructor(e,t){super(),this._attributes=e,this._piiAttributes=t}getEventName(){return"people_contacts_action"}getAttributes(){return n.merge(super.getAttributes(),this._attributes)}getPiiAttributes(){return n.merge(super.getPiiAttributes(),this._piiAttributes)}}t.ContactsTelemetryEvent=a;class r extends s.TelemetryEventBase{constructor(e,t,i,n){super(),this._messageHash=e,this._context=t,this._reason=i,this._block=n}getEventName(){return"ReportMessage"}getAttributes(){const e=super.getAttributes();return e.MessageHash=this._messageHash,e.ReportContext=this._context,e.ReportReason=this._reason,e.UserBlocked=this._block,e}}t.ContactsActionReportMessage=r;class l extends s.TelemetryEventBase{constructor(e,t){super(),this._errorCode=e,this._errorMessage=t}getEventName(){return"ReportMessageFailure"}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this._errorCode,e.ErrorMessage=this._errorMessage,e}}t.ContactsActionReportMessageFailure=l;class c extends s.TelemetryEventBase{constructor(e,t){super(),this._type=e,this._origin=t}getEventName(){return"contactInvite"}getAttributes(){const e=super.getAttributes();return e.Type=o.ContactInviteType[this._type],e.Origin=o.ContactInviteOrigin[this._origin],e}}t.ContactInvite=c;class d extends s.TelemetryEventBase{constructor(e,t,i,n){super(),this._count=e,this._isInitialSync=t,this._durationInMs=i,this._hashSentCount=n}getEventName(){return"shortCircuitContactsProcessed"}getAttributes(){const e=super.getAttributes();return e.count=this._count,e.isInitialSync=this._isInitialSync,e.duration=this._durationInMs,e.HashSentCount=this._hashSentCount,e}}t.ShortCircuitContactsProcessed=d;class u extends s.TelemetryEventBase{constructor(e,t,i){super(),this._error=e,this._isInitialSync=t,this._hashSentCount=i}getEventName(){return"shortCircuitContactsError"}getAttributes(){const e=super.getAttributes();return e.error=this._error,e.isInitialSync=this._isInitialSync,e.HashSentCount=this._hashSentCount,e}}t.ShortCircuitContactsError=u;class g extends s.TelemetryEventBase{constructor(e,t){super(),this._shortPhoneNumbersCount=e,this._correctedPhoneNumbersCount=t}getEventName(){return"local_address_book_phone_numbers_corrected"}getAttributes(){const e=super.getAttributes();return e.shortPhoneNumbersCount=this._shortPhoneNumbersCount,e.correctedPhoneNumbersCount=this._correctedPhoneNumbersCount,e}}t.LocalAddressBookPhoneNumbersCorrected=g},481627:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContactsTelemetryHelper=t.FavoriteActionType=t.PresenceActions=t.GreetActionType=t.FavoriteContactOrigin=t.ShareInviteOrigin=t.UpdateContactOrigin=t.DeleteContactOrigin=t.AddContactOrigin=void 0;const n=i(636076),o=i(671830),s=i(570437),a=i(436237),r=i(61375);var l,c,d,u,g,h,p,S,m;!function(e){e[e.AcceptButton=0]="AcceptButton",e[e.ActiveNowPanel=1]="ActiveNowPanel",e[e.AddContactPanel=2]="AddContactPanel",e[e.AddTranslatorBot=3]="AddTranslatorBot",e[e.ChatWave=4]="ChatWave",e[e.DiscoverPanel=5]="DiscoverPanel",e[e.FavoriteContextMenu=6]="FavoriteContextMenu",e[e.FavoriteToggle=7]="FavoriteToggle",e[e.MoreContactsPanel=8]="MoreContactsPanel",e[e.NewConversation=9]="NewConversation",e[e.NewCall=10]="NewCall",e[e.ProfileBigButton=11]="ProfileBigButton",e[e.ProfileSmallButton=12]="ProfileSmallButton",e[e.SearchItem=13]="SearchItem",e[e.AddPhoneNumberPanel=14]="AddPhoneNumberPanel",e[e.AddContactContextMenu=15]="AddContactContextMenu",e[e.MagicBot=16]="MagicBot"}(l=t.AddContactOrigin||(t.AddContactOrigin={})),function(e){e[e.Profile=0]="Profile",e[e.BotChatSettingsPanel=1]="BotChatSettingsPanel",e[e.ConversationsListItem=2]="ConversationsListItem",e[e.ManageConnectedPeople=3]="ManageConnectedPeople",e[e.AddPhoneNumberPanel=4]="AddPhoneNumberPanel",e[e.SlashCommand=5]="SlashCommand"}(c=t.DeleteContactOrigin||(t.DeleteContactOrigin={})),function(e){e[e.AddPhoneNumberPanel=0]="AddPhoneNumberPanel"}(d=t.UpdateContactOrigin||(t.UpdateContactOrigin={})),function(e){e[e.GroupProfile=0]="GroupProfile",e[e.ChatShareLinkButton=1]="ChatShareLinkButton",e[e.MyProfile=2]="MyProfile",e[e.AddToGroupPanel=3]="AddToGroupPanel"}(t.ShareInviteOrigin||(t.ShareInviteOrigin={})),function(e){e[e.AutoFavorite=0]="AutoFavorite"}(u=t.FavoriteContactOrigin||(t.FavoriteContactOrigin={})),function(e){e[e.Greet=0]="Greet",e[e.Message=1]="Message",e[e.None=2]="None"}(g=t.GreetActionType||(t.GreetActionType={})),function(e){e[e.Retry=0]="Retry",e[e.Fetch=1]="Fetch"}(h=t.PresenceActions||(t.PresenceActions={})),function(e){e[e.Contact=0]="Contact",e[e.Conversation=1]="Conversation"}(p=t.FavoriteActionType||(t.FavoriteActionType={})),function(e){e[e.AcceptInvite=0]="AcceptInvite",e[e.DeclineInvite=1]="DeclineInvite",e[e.Favorite=2]="Favorite",e[e.Unfavorite=3]="Unfavorite",e[e.Add=4]="Add",e[e.Delete=5]="Delete",e[e.Greet=6]="Greet",e[e.Block=7]="Block",e[e.Unblock=8]="Unblock",e[e.GetContacts=9]="GetContacts",e[e.GetInvites=10]="GetInvites",e[e.RemoveDevice=11]="RemoveDevice",e[e.Presence=12]="Presence",e[e.Update=13]="Update",e[e.MergeContactWithPstnContact=14]="MergeContactWithPstnContact",e[e.SyncABContactsRefreshClicked=15]="SyncABContactsRefreshClicked"}(S||(S={})),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(m||(m={}));t.ContactsTelemetryHelper=new class{acceptInviteSuccess(e){const t=this._getBaseAttributes(S.AcceptInvite,m.Success),i=this._getBasePiiAttributes(e);this._track(t,i)}mergeContactWithPstnContact(e){const t=this._getBaseAttributes(S.MergeContactWithPstnContact,m.Success),i=this._getBasePiiAttributes(e);this._track(t,i)}acceptInviteError(e,t){const i=this._getBaseAttributes(S.AcceptInvite,m.Error),n=this._getBasePiiAttributes(e);this._setError(i,t),this._track(i,n)}declineInviteSuccess(e){const t=this._getBaseAttributes(S.DeclineInvite,m.Success),i=this._getBasePiiAttributes(e);this._track(t,i)}declineInviteError(e,t){const i=this._getBaseAttributes(S.DeclineInvite,m.Error),n=this._getBasePiiAttributes(e);this._setError(i,t),this._track(i,n)}addContactSuccess(e,t){const i=this._getBaseAttributes(S.Add,m.Success),n=this._getBasePiiAttributes(e);i.Origin=l[t],i.IsPstn=o.isPhoneMri(e),this._track(i,n)}addContactError(e,t,i){const n=this._getBaseAttributes(S.Add,m.Error),s=this._getBasePiiAttributes(e);n.Origin=l[t],n.IsPstn=o.isPhoneMri(e),this._setError(n,i),this._track(n,s)}updateContactSuccess(e,t){const i=this._getBaseAttributes(S.Update,m.Success),n=this._getBasePiiAttributes(e);i.Origin=d[t],i.IsPstn=o.isPhoneMri(e),this._track(i,n)}updateContactError(e,t,i){const n=this._getBaseAttributes(S.Update,m.Error),s=this._getBasePiiAttributes(e);n.Origin=d[t],n.IsPstn=o.isPhoneMri(e),this._setError(n,i),this._track(n,s)}blockContactSuccess(e,t){const i=this._getBaseAttributes(S.Block,m.Success),n=this._getBasePiiAttributes(e);void 0!==t&&(i.Source=r.BlockConversationSource[t]),o.getMriNamespace(e)===o.Namespaces.Bot&&(i.BotId=o.stripMriNamespace(e)),this._track(i,n)}blockContactError(e,t,i){const n=this._getBaseAttributes(S.Block,m.Error),s=this._getBasePiiAttributes(e);void 0!==i&&(n.Source=r.BlockConversationSource[i]),o.getMriNamespace(e)===o.Namespaces.Bot&&(n.BotId=o.stripMriNamespace(e)),this._setError(n,t),this._track(n,s)}unblockContactSuccess(e,t){const i=this._getBaseAttributes(S.Unblock,m.Success),n=this._getBasePiiAttributes(e);void 0!==t&&(i.Source=r.BlockConversationSource[t]),o.getMriNamespace(e)===o.Namespaces.Bot&&(i.BotId=o.stripMriNamespace(e)),this._track(i,n)}unblockContactError(e,t,i){const n=this._getBaseAttributes(S.Unblock,m.Error),s=this._getBasePiiAttributes(e);void 0!==i&&(n.Source=r.BlockConversationSource[i]),o.getMriNamespace(e)===o.Namespaces.Bot&&(n.BotId=o.stripMriNamespace(e)),this._setError(n,t),this._track(n,s)}deleteContactSuccess(e,t){const i=this._getBaseAttributes(S.Delete,m.Success),n=this._getBasePiiAttributes(e);i.Origin=c[t],this._setBotId(i,e),this._track(i,n)}deleteContactError(e,t,i){const n=this._getBaseAttributes(S.Delete,m.Error),o=this._getBasePiiAttributes(e);n.Origin=c[t],this._setBotId(n,e),this._setError(n,i),this._track(n,o)}favoriteSuccess(e,t,i,n){const o=this._getBaseAttributes(S.Favorite,m.Success),s=this._getBasePiiAttributes(e);o.IsGroup=i,o.Type=p[t],n&&(o.Origin=u[n]),this._setBotId(o,e),this._track(o,s)}favoriteError(e,t,i,n,o){const s=this._getBaseAttributes(S.Favorite,m.Error),a=this._getBasePiiAttributes(e);s.IsGroup=i,s.Type=p[t],o&&(s.Origin=u[o]),this._setBotId(s,e),this._setError(s,n),this._track(s,a)}unfavoriteSuccess(e,t,i){const n=this._getBaseAttributes(S.Unfavorite,m.Success),o=this._getBasePiiAttributes(e);n.IsGroup=i,n.Type=p[t],this._setBotId(n,e),this._track(n,o)}unfavoriteError(e,t,i,n){const o=this._getBaseAttributes(S.Unfavorite,m.Error),s=this._getBasePiiAttributes(e);o.IsGroup=i,o.Type=p[t],this._setBotId(o,e),this._setError(o,n),this._track(o,s)}getContactsSuccess(e,t,i,n,o,s,a=0){const r=this._getBaseAttributes(S.GetContacts,m.Success);r.NumContacts=e,r.NumBlockedContacts=t,r.SyncType=i?"Full":"Delta",r.Duration=o,r.IsFromServer=s,r.RetryCount=a,void 0!==n&&(r.DeltaSyncETag=n),this._track(r,{})}getContactsError(e,t,i,n,o){const s=this._getBaseAttributes(S.GetContacts,m.Error);s.SyncType=o?"Full":"Delta",s.Duration=t,s.IsFromServer=i,s.RetryCount=n,this._setError(s,e),this._track(s,{})}getInvitesSuccess(e,t){const i=this._getBaseAttributes(S.GetInvites,m.Success);i.Duration=e,i.IsFromServer=t,this._track(i,{})}getInvitesError(e,t,i){const n=this._getBaseAttributes(S.GetInvites,m.Error);n.Duration=t,n.IsFromServer=i,this._setError(n,e),this._track(n,{})}removeDeviceError(e){const t=this._getBaseAttributes(S.RemoveDevice,m.Error);this._setError(t,e),this._track(t,{})}greetContact(e,t){const i=this._getBaseAttributes(S.Greet,m.Success),n=this._getBasePiiAttributes(e);i.GreetActionType=g[t],this._track(i,n)}fetchContactPresenceFailure(e,t,i,n,o=0,s=0){const a=this._getBaseAttributes(S.Presence,m.Error);a.PresenceFetchActionType=h[e],a.IsAllContactFetch=t,a.RetryCount=o,a.FailedUserCount=s,i&&(a.ErrorCode=i),n&&(a.ErrorMessage=n),this._track(a,{})}syncABContactsRefreshClicked(){const e=this._getBaseAttributes(S.SyncABContactsRefreshClicked,m.Success);this._track(e,{})}_getBaseAttributes(e,t){const i={};return i.Action=S[e],i.Status=m[t],i}_getBasePiiAttributes(e){const t={},i=o.getSkypeIdFromMri(e);return i&&(t.ContactSkypeId={value:i,piiKind:n.AWTPiiKind.Identity}),t}_setError(e,t){void 0!==t.statusCode&&(e.ErrorCode=t.statusCode),void 0!==t.statusText&&(e.ErrorMessage=t.statusText)}_setBotId(e,t){o.getMriNamespace(t)===o.Namespaces.Bot&&(e.BotId=o.stripMriNamespace(t))}_track(e,t){a.track(new s.ContactsTelemetryEvent(e,t))}}},714021:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextMenuTelemetryEvents=t.ContextMenuAction=void 0;const n=i(500349);var o;!function(e){e[e.Shown=0]="Shown"}(o=t.ContextMenuAction||(t.ContextMenuAction={}));class s extends n.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"context_menu_event"}getAttributes(){const e=super.getAttributes();return e.Action=o[this._action],e}}t.ContextMenuTelemetryEvents=s},891114:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationAction=t.ConversationListItemClicked=t.ConversationDeletionCanceled=t.ConversationDeletionFailed=t.ConversationDeleted=t.ConversationUnarchived=t.ConversationArchived=t.ConversationMarkedRead=void 0;const n=i(61375),o=i(671830),s=i(231147),a=i(746096),r=i(500349),l=i(735370);class c extends r.TelemetryEventBase{constructor(e){super(),this._conversationId=e}getEventName(){return"conversation_action"}getAttributes(){const e=super.getAttributes();e.Action=this.getAction(),e.Conversation_NameSpace=o.Namespaces[o.getMriNamespace(this._conversationId)];const t=l.getTrackableConversationId(this._conversationId);return t&&(e.Conversation_Id=t),e}}t.ConversationMarkedRead=class extends c{constructor(e,t){super(e),this._consumptionHorizon=t}getAction(){return"conversation_marked_read"}getAttributes(){const e=super.getAttributes();return e.Consumption_Horizon=this._consumptionHorizon,e}};t.ConversationArchived=class extends c{constructor(e,t,i){super(e),this._origin=t,this._isGroupConversation=i}getAction(){return"conversation_archived"}getAttributes(){const e=super.getAttributes();return e.Origin=a.ArchiveConversationOrigin[this._origin],e.IsGroupConversation=this._isGroupConversation,e}};t.ConversationUnarchived=class extends c{constructor(e,t,i){super(e),this._origin=t,this._isGroupConversation=i}getAction(){return"conversation_unarchived"}getAttributes(){const e=super.getAttributes();return e.Origin=a.UnarchiveConversationOrigin[this._origin],e.IsGroupConversation=this._isGroupConversation,e}};t.ConversationDeleted=class extends c{constructor(e,t,i){super(e),this._source=t,this._conversationType=i}getAction(){return"conversation_deleted"}getAttributes(){const e=super.getAttributes();return e.Source=n.DeleteConversationSource[this._source],e.ConversationType=s.ConversationType[this._conversationType],e}};t.ConversationDeletionFailed=class extends c{constructor(e,t,i,n){super(e),this._errorCode=t,this._source=i,this._conversationType=n}getAction(){return"conversation_deletion_failed"}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this._errorCode,e.Source=n.DeleteConversationSource[this._source],e.ConversationType=s.ConversationType[this._conversationType],e}};t.ConversationDeletionCanceled=class extends c{constructor(e,t,i){super(e),this._conversationType=t,this._source=i}getAction(){return"conversation_deletion_canceled"}getAttributes(){const e=super.getAttributes();return e.ConversationType=s.ConversationType[this._conversationType],void 0!==this._source&&(e.Source=n.DeleteConversationSource[this._source]),e}};t.ConversationListItemClicked=class extends c{constructor(e,t,i,n){super(e),this._itemId=t,this._actionSuccess=i,this._conversationType=n}getAction(){return"conversation_list_item_clicked"}getAttributes(){const e=super.getAttributes();return e.Item_id=this._itemId,void 0!==this._actionSuccess&&(e.action_success=this._actionSuccess),void 0!==this._conversationType&&(e.ConversationType=s.ConversationType[this._conversationType]),e}};t.ConversationTranslationAction=class extends c{constructor(e,t,i,n){super(e),this._action=t,this._fromLocale=i,this._toLocale=n}getAction(){return"translation_action"}getAttributes(){const e=super.getAttributes();return e.TranslationAction=a.TranslationAction[this._action],this._toLocale&&(e.FromLanguage=this._fromLocale,e.ToLanguage=this._toLocale),e}}},834672:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SetUpCallForwardingClicked=void 0;const n=i(640363),o=i(500349);class s extends o.TelemetryEventBase{getEventName(){return"credit_upsell"}getAriaTenantTokenOverride(){return n.default.getAriaSkypeFraudTelemetryTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.SetUpCallForwardingClicked=class extends s{getActionName(){return"SetUpCallForwarding"}}},592487:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneDiscoverabilityEvent=t.PhoneDiscoverabilityDialogCommand=t.OpenDeepLinkEvent=t.DeepLinkTelemetryEventBase=void 0;const n=i(496486),o=i(671830),s=i(49140),a=i(500349),r=i(361694),l=i(598180),c=(i(746096),i(735370));var d,u;!function(e){e.InClientLink="InClientLink",e.LinkWeb="LinkWeb",e.LinkDesktop="LinkDesktop",e.LinkMobile="LinkMobile"}(d||(d={}));class g extends a.TelemetryEventBase{constructor(){super()}getEventName(){return"navigation_deeplink"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.DeepLinkTelemetryEventBase=g;t.OpenDeepLinkEvent=class extends g{constructor(e,t,i,n,o,s){super(),this._urlComponents=e,this._conversationId=t,this._navigationOrigin=i,this._browserOrigin=n,this._origin=o,this._urlAction=s}getActionName(){return"OpenDeepLink"}getAttributes(){var e,t,i,s,a;const u=super.getAttributes();if(u.UrlType=r.UrlType[this._urlComponents.type],u.UrlProtocol=this._urlComponents.protocol,this._urlComponents.host&&(u.UrlHost=this._urlComponents.host),this._urlAction&&(u.UrlAction=this._urlAction),(null===(e=this._urlComponents.queryParameterKeyValues)||void 0===e?void 0:e.tabname)&&(u.TabName=this._urlComponents.queryParameterKeyValues.tabname),this._conversationId){const e=c.getTrackableConversationId(this._conversationId);e&&(u.ConversationId=e),(this._conversationId===this._urlComponents.pathname||"skype"===this._urlComponents.protocol&&"launcher"===this._origin)&&(u.OutsideOfClientJoinLink=!0)}"join.skype.com"===this._urlComponents.host?u.JoinLinkPath=d.InClientLink:(null===(t=this._urlComponents.queryParameterString)||void 0===t?void 0:t.includes("chat"))?u.JoinLinkPath=d.LinkDesktop:(null===(i=this._urlComponents.pathname)||void 0===i?void 0:i.includes("@thread.skype"))&&(u.JoinLinkPath=d.LinkWeb),(null===(s=this._urlComponents.pathname)||void 0===s?void 0:s.includes("/invite/"))&&(u.LinkType="buddy");const g=this._urlComponents.queryParameterKeyValues;if(g&&g.source&&(u.UrlParamSource=g.source),this._urlComponents.type===r.UrlType.Web&&this._urlComponents.pathname){const e=this._urlComponents.pathname.split("/")[0];e&&o.isMri(e)&&o.isThread(e)&&(u.UrlIntent="JoinConversation",g&&n.includes(l.UrlNavigationAction,null===(a=g.action)||void 0===a?void 0:a.toLocaleLowerCase())&&(u.UrlParamAction=g.action.toLocaleLowerCase()))}return u}},function(e){e[e.OpenConfirmation=0]="OpenConfirmation",e[e.Confirm=1]="Confirm",e[e.Reject=2]="Reject",e[e.RejectOutside=3]="RejectOutside"}(u=t.PhoneDiscoverabilityDialogCommand||(t.PhoneDiscoverabilityDialogCommand={}));t.PhoneDiscoverabilityEvent=class extends g{constructor(e){super(),this._phoneDiscoverabilityEventParams=e}getActionName(){return"PhoneDiscoverability"}getAttributes(){const e=super.getAttributes();return this._phoneDiscoverabilityEventParams.userPhonesCount&&(e.UserPhonesCount=this._phoneDiscoverabilityEventParams.userPhonesCount),void 0!==this._phoneDiscoverabilityEventParams.command&&(e.DialogCommand=u[this._phoneDiscoverabilityEventParams.command]),void 0!==this._phoneDiscoverabilityEventParams.origin&&(e.Origin=s.PhoneDiscoverabilityOrigin[this._phoneDiscoverabilityEventParams.origin]),e}}},521468:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DirectShareTelemetry=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(e,t){super(),this._itemType=e,this._numberOfItems=t}getEventName(){return"messaging_direct_share"}getAttributes(){const e=super.getAttributes();return e.ItemType=this._itemType,e.NumberOfItems=this._numberOfItems,e}}t.DirectShareTelemetry=o},437614:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadRecovered=t.PermanentDownloadFailure=void 0;const n=i(496486),o=i(746096),s=i(500349);class a extends s.TelemetryEventBase{constructor(e,t,i=0,n,o,s){super(),this._failureSource=e,this._firstSendTime=t,this._numberRetries=i,this._statusCode=n,this._statusText=o,this._errorMetadata=s}getEventName(){return"download_service"}getAttributes(){const e=super.getAttributes();return e.operation=this.getOperation(),e.failure_source=o.PostingTransferSource[this._failureSource],e.time_to_failure=this._eventCreationTime-this._firstSendTime,e.number_retries=this._numberRetries,e.status_code=this._statusCode,e.status_text=this._statusText?this._statusText:"",n.extend(e,this._errorMetadata),e}}t.PermanentDownloadFailure=class extends a{getOperation(){return"download_failure"}};t.DownloadRecovered=class extends a{getOperation(){return"download_recovered"}}},292069:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DraftMessageAppExitWithDrafts=t.DraftMessageDeleted=t.DraftMessageWasSent=t.DraftMessageCreated=void 0;const n=i(500349);class o extends n.TelemetryEventBase{getEventName(){return"messaging_drafts"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}t.DraftMessageCreated=class extends o{constructor(){super()}getAction(){return"Created"}};t.DraftMessageWasSent=class extends o{constructor(e,t){super(),this._modifiedBeforeSent=e,this._createdTime=t}getAction(){return"Sent"}getAttributes(){const e=super.getAttributes();return e.WasModifiedBeforeSent=this._modifiedBeforeSent,e.LifetimeDuration=Date.now()-this._createdTime,e}};t.DraftMessageDeleted=class extends o{constructor(e){super(),this._createdTime=e}getAction(){return"Deleted"}getAttributes(){const e=super.getAttributes();return e.LifetimeDuration=Date.now()-this._createdTime,e}};t.DraftMessageAppExitWithDrafts=class extends o{constructor(e){super(),this._numberOfDrafts=e}getAction(){return"AppExitWithDrafts"}getAttributes(){const e=super.getAttributes();return e.DraftsCount=this._numberOfDrafts,e}}},954543:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DragAndDropTelemetry=t.DragAction=t.DragType=t.DropTarget=t.DragOrigin=void 0;const n=i(500349);var o,s,a,r;!function(e){e[e.RecentConversations=0]="RecentConversations",e[e.Contacts=1]="Contacts",e[e.MessageStream=2]="MessageStream",e[e.Unknown=3]="Unknown"}(o=t.DragOrigin||(t.DragOrigin={})),function(e){e[e.MessagePanel=0]="MessagePanel",e[e.ConversationListItem=1]="ConversationListItem"}(s=t.DropTarget||(t.DropTarget={})),function(e){e[e.File=0]="File",e[e.Picture=1]="Picture",e[e.Video=2]="Video",e[e.Contact=3]="Contact",e[e.TextOrLink=4]="TextOrLink"}(a=t.DragType||(t.DragType={})),function(e){e[e.DragStart=0]="DragStart",e[e.Drop=1]="Drop"}(r=t.DragAction||(t.DragAction={}));class l extends n.TelemetryEventBase{constructor(e,t,i,n){super(),this._action=e,this._origin=t,this._type=i,this._target=n}getEventName(){return"messaging_drag_and_drop"}getAttributes(){const e=super.getAttributes();return e.Action=r[this._action],e.Origin=o[this._origin],e.Type=a[this._type],void 0!==this._target&&(e.Target=s[this._target]),e}}t.DragAndDropTelemetry=l},36763:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.E2eeDecryptionFailure=t.E2eeEncryptionFailure=t.E2eeRetry=t.E2eeReject=t.E2eeConfirm=t.E2eeAccept=t.E2eeInvite=t.E2eeRetryType=t.E2eeAction=void 0;const n=i(496486),o=i(746096),s=i(500349);var a,r;!function(e){e[e.Invite=0]="Invite",e[e.Accept=1]="Accept",e[e.Confirm=2]="Confirm",e[e.Reject=3]="Reject",e[e.EncryptionFailure=4]="EncryptionFailure",e[e.DecryptionFailure=5]="DecryptionFailure"}(a=t.E2eeAction||(t.E2eeAction={})),function(e){e[e.ForceInviteIdRefresh=0]="ForceInviteIdRefresh",e[e.NewInviteIdSynced=1]="NewInviteIdSynced"}(r=t.E2eeRetryType||(t.E2eeRetryType={}));class l extends s.TelemetryEventBase{constructor(e,t,i){super(),this._action=e,this._failure=t,this._reason=i}getEventName(){return"messaging_e2ee"}getAttributes(){const e=super.getAttributes();return e.Action=a[this._action],this._reason&&(e.Reason=this._reason),e.Status=this._failure?"Failure":"OK",e}}t.E2eeInvite=class extends l{constructor(e,t=!1,i){super(a.Invite,t,i),this._origin=e}getAttributes(){const e=super.getAttributes();return e.Origin=n.isNil(this._origin)?"N/A":o.E2EEInviteOrigin[this._origin],e}};t.E2eeAccept=class extends l{constructor(e,t=!1,i){super(a.Accept,t,i),this._origin=e}getAttributes(){const e=super.getAttributes();return e.Origin=n.isNil(this._origin)?"N/A":o.E2EEAcceptOrigin[this._origin],e}};t.E2eeConfirm=class extends l{constructor(e,t=!1,i){super(a.Confirm,t,i),this._isAutoConfirm=e}getAttributes(){const e=super.getAttributes();return e.IsAutoConfirm=this._isAutoConfirm,e}};t.E2eeReject=class extends l{constructor(e,t=!1,i){super(a.Reject,t,i),this._rejectionReason=e}getAttributes(){const e=super.getAttributes();return e.RejectionReason=n.isNil(this._rejectionReason)?"N/A":o.E2EERejectionReason[this._rejectionReason],e}};t.E2eeRetry=class extends l{constructor(e,t){super(e,!1),this._retryType=t}getAttributes(){const e=super.getAttributes();return e.RetryType=r[this._retryType],e}};t.E2eeEncryptionFailure=class extends l{constructor(e){super(a.EncryptionFailure,!0,e)}};t.E2eeDecryptionFailure=class extends l{constructor(e){super(a.DecryptionFailure,!0,e)}}},164935:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EcsTelemetryEvent=void 0;const n=i(496486),o=i(500349);class s extends o.TelemetryEventBase{constructor(e,t){super(),this._eventName=e,this._attributes=t}shouldSend(){return!0}getEventName(){return this._eventName}getAttributes(){const e=super.getAttributes();return n.assign(e,this._attributes),e.Client="SkypeConsumer",e}}t.EcsTelemetryEvent=s},75776:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486);t.default=class{constructor(e){this._namedMapping={},e&&n.each(e,(e=>{n.each(e,((e,t)=>{this._namedMapping[t]?this._namedMapping[t]=[this._namedMapping[t],e].join(","):this._namedMapping[t]=e}))}))}getExperimentIdsForEventName(e){return[this._namedMapping[e],this._namedMapping._all_].filter((e=>void 0!==e&&""!==e)).join(",")}}},246429:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(746096),o=i(436237),s=i(794050);t.default=class{constructor(e){this._contextId=e,this._scenarioName=s.ScenarioName[s.ScenarioName.EmergencyRestoreEndpoints],this._scenario=new s.default(s.ScenarioName.EmergencyRestoreEndpoints,void 0,{contextId:e||""}),o.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" Scenario created!: "+this._contextId)}start(){o.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" Scenario started!: "+this._contextId),this._scenario.start()}gotSkypeToken(e){this._scenario.markStepCompleted("GotSkypeToken",{refreshNeeded:e}),o.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" GotSkypeToken:"+(e?" Refreshed ":" ")+this._contextId)}endpointMissing(e){this._scenario.markStepCompleted("MarkEndpointsMissing",{id:e||""}),o.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" MarkEndpointsMissing: "+this._contextId)}endpointRestored(e){this._scenario.markStepCompleted("EndpointRestored",{id:e||""}),o.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" EndpointRestored: "+this._contextId)}pushSubscriptionRestored(e){this._scenario.markStepCompleted("PushSubscriptionRestored",{pushSubscriptionId:e}),o.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" PushSubscriptionRestored: "+this._contextId)}timedOut(){this._scenario.markStepCompleted("TimedOut"),o.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" TimedOut: "+this._contextId)}finish(){o.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" Finished: "+this._contextId),this._scenario.finish()}failed(e,t){o.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" Failed: "+this._contextId+", reason:"+e),this._scenario.markStepCompleted("Failed",Object.assign({reason:e},t))}ignored(e){this._scenario.markStepCompleted("Ignored",{reason:e}),o.log(n.LogTraceArea.ScenarioTracker,this._scenarioName+" Ignored: "+this._contextId+", reason:"+e)}}},527202:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EngagementPullRequestEvent=t.FailureReason=t.EngagementApiPullRequestEventSource=void 0;const n=i(496486),o=i(500349);var s,a;!function(e){e[e.MSA=2]="MSA",e[e.EngagementApi=3]="EngagementApi",e[e.SkypeToken=4]="SkypeToken",e[e.MsaCidHex=5]="MsaCidHex"}(s=t.EngagementApiPullRequestEventSource||(t.EngagementApiPullRequestEventSource={})),function(e){e[e.ContentDownloadError=2]="ContentDownloadError",e[e.ContentStatusFailure=3]="ContentStatusFailure",e[e.SkypeTokenUnavailable=4]="SkypeTokenUnavailable",e[e.ServerFailure=5]="ServerFailure",e[e.MSATokenMissing=6]="MSATokenMissing",e[e.MSATokenUnavailable=7]="MSATokenUnavailable",e[e.SkypeTokenMissing=8]="SkypeTokenMissing",e[e.MsaCidHexMissing=9]="MsaCidHexMissing"}(a=t.FailureReason||(t.FailureReason={}));class r extends o.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"engagement_pull_request"}getAttributes(){return n.assign(super.getAttributes(),{DidSucceed:this.props.didSucceed,Source:this.props.source?s[this.props.source]:"",FailureReason:this.props.failureReason?a[this.props.failureReason]:"",CampaignId:this.props.campaignId||"",CampaignVariant:this.props.campaignVariant||"",RequestDurationMs:this.props.requestDuration||0,ServerStatusCode:this.props.serverStatusCode||0,MessageCorrelationId:this.props.correlationId||""})}}t.EngagementPullRequestEvent=r},470942:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EngagementTooltipTelemetryEvent=t.EngagementBannerTelemetryEvent=t.EngagementShareableContentEvent=t.EngagementSettingsTelemetryEvent=t.EngagementPushNotificationTelemetryEvent=t.EngagementNoticeTelemetryEvent=t.EngagementPopCardTelemetryEvent=t.EngagementFeedbackTelemetryEvent=t.EngagementMessageTelemetryEvent=t.EngagementTelemetryEventBase=t.EngagementShareableContentAction=t.EngagementPushSource=t.EngagementSettingsSource=t.SuppressReason=t.ActionOrigin=t.EngagementMessageTelemetryEventType=t.EngagementPostMessageReason=t.EngagementTelemetryEventType=void 0;const n=i(496486),o=i(481169),s=i(671830),a=i(968894),r=i(500349),l=i(735370);var c,d,u,g,h,p,S,m;!function(e){e[e.BackButton=1]="BackButton",e[e.CampaignBlocked=2]="CampaignBlocked",e[e.ChatServiceBlockedMessage=3]="ChatServiceBlockedMessage",e[e.EngagementContentDisabled=4]="EngagementContentDisabled",e[e.EngagementPushContentDisabled=5]="EngagementPushContentDisabled",e[e.PushDiscardedForChild=6]="PushDiscardedForChild",e[e.EscKey=7]="EscKey",e[e.FeatureDisabled=8]="FeatureDisabled",e[e.InvalidCampaignId=9]="InvalidCampaignId",e[e.InvalidColor=10]="InvalidColor",e[e.InvalidLink=11]="InvalidLink",e[e.InvalidSkypeId=12]="InvalidSkypeId",e[e.InvalidSkypeIdPlaceholder=13]="InvalidSkypeIdPlaceholder",e[e.NoticeBulkSizeExceeded=14]="NoticeBulkSizeExceeded",e[e.NoticeClientVersionMismatch=15]="NoticeClientVersionMismatch",e[e.NoticeCompleted=16]="NoticeCompleted",e[e.NoticeDelivered=17]="NoticeDelivered",e[e.NoticeDiscardedForChild=18]="NoticeDiscardedForChild",e[e.NoticeDiscardedOnFirstRun=19]="NoticeDiscardedOnFirstRun",e[e.NoticeDismiss=20]="NoticeDismiss",e[e.NoticeExperimentNotAllocated=21]="NoticeExperimentNotAllocated",e[e.NoticeExperimentVariantMismatch=22]="NoticeExperimentVariantMismatch",e[e.NoticeExpired=23]="NoticeExpired",e[e.NoticeInvalidPlaceholder=24]="NoticeInvalidPlaceholder",e[e.NoticeMissingContent=25]="NoticeMissingContent",e[e.NoticeParseError=26]="NoticeParseError",e[e.NoticeReceived=27]="NoticeReceived",e[e.NoticeReceivedControl=28]="NoticeReceivedControl",e[e.NoticeTapButton=29]="NoticeTapButton",e[e.NoticeTapCard=30]="NoticeTapCard",e[e.NoticeTimeout=31]="NoticeTimeout",e[e.NoticeUnsupportedContentType=32]="NoticeUnsupportedContentType",e[e.NoticeUnsupportedValidForPeriod=33]="NoticeUnsupportedValidForPeriod",e[e.NoticeUnsupportedDelayForPeriod=34]="NoticeUnsupportedDelayForPeriod",e[e.NoticeEnqueued=35]="NoticeEnqueued",e[e.NoticeDequeued=36]="NoticeDequeued",e[e.NoticeWrongLanguage=37]="NoticeWrongLanguage",e[e.NoticeWrongPlatform=38]="NoticeWrongPlatform",e[e.PlaceholderWithoutSkypeId=39]="PlaceholderWithoutSkypeId",e[e.PopCardBulkSizeExceeded=40]="PopCardBulkSizeExceeded",e[e.PopCardClientVersionMismatch=41]="PopCardClientVersionMismatch",e[e.PopCardCompleted=42]="PopCardCompleted",e[e.PopCardDelivered=43]="PopCardDelivered",e[e.PopCardDiscardedForChild=44]="PopCardDiscardedForChild",e[e.PopCardDiscardedOnFirstRun=45]="PopCardDiscardedOnFirstRun",e[e.PopCardDismiss=46]="PopCardDismiss",e[e.PopCardDisplay=47]="PopCardDisplay",e[e.PopCardExpand=48]="PopCardExpand",e[e.PopCardExperimentNotAllocated=49]="PopCardExperimentNotAllocated",e[e.PopCardExperimentVariantMismatch=50]="PopCardExperimentVariantMismatch",e[e.PopCardExpired=51]="PopCardExpired",e[e.PopCardInvalidPlaceholder=52]="PopCardInvalidPlaceholder",e[e.PopCardMissingContent=53]="PopCardMissingContent",e[e.PopCardParseError=54]="PopCardParseError",e[e.PopCardReceived=55]="PopCardReceived",e[e.PopCardReceivedControl=56]="PopCardReceivedControl",e[e.PopCardSuppressed=57]="PopCardSuppressed",e[e.PopCardTapButton=58]="PopCardTapButton",e[e.PopCardTapCard=59]="PopCardTapCard",e[e.PopCardTimeout=60]="PopCardTimeout",e[e.PopCardUnsupportedValidForPeriod=61]="PopCardUnsupportedValidForPeriod",e[e.PopCardUnsupportedDelayForPeriod=62]="PopCardUnsupportedDelayForPeriod",e[e.PopCardEnqueued=63]="PopCardEnqueued",e[e.PopCardDequeued=64]="PopCardDequeued",e[e.PopCardWrongLanguage=65]="PopCardWrongLanguage",e[e.PopCardWrongPlatform=66]="PopCardWrongPlatform",e[e.PostMessage=67]="PostMessage",e[e.PushNotificationClientVersionMismatch=68]="PushNotificationClientVersionMismatch",e[e.PushNotificationDelivered=69]="PushNotificationDelivered",e[e.PushNotificationDismissedDueToActivity=70]="PushNotificationDismissedDueToActivity",e[e.PushNotificationDismissedOnFeatureCategory=71]="PushNotificationDismissedOnFeatureCategory",e[e.PushNotificationDisplayed=72]="PushNotificationDisplayed",e[e.PushNotificationDisplayFailed=73]="PushNotificationDisplayFailed",e[e.PushNotificationExperimentNotAllocated=74]="PushNotificationExperimentNotAllocated",e[e.PushNotificationExperimentVariantMismatch=75]="PushNotificationExperimentVariantMismatch",e[e.PushNotificationParseError=76]="PushNotificationParseError",e[e.PushNotificationReceived=77]="PushNotificationReceived",e[e.PushNotificationReceivedControl=78]="PushNotificationReceivedControl",e[e.PushNotificationSuppressed=79]="PushNotificationSuppressed",e[e.PushNotificationTap=80]="PushNotificationTap",e[e.PushNotificationTimestampParsingError=81]="PushNotificationTimestampParsingError",e[e.PushNotificationWrongLanguage=82]="PushNotificationWrongLanguage",e[e.SignoutSurveyDismiss=83]="SignoutSurveyDismiss",e[e.SkypeIdBlocked=84]="SkypeIdBlocked",e[e.UnableToResolveUserProfile=85]="UnableToResolveUserProfile",e[e.UnexpectedValidationResult=86]="UnexpectedValidationResult",e[e.UnsupportedPersistencyMode=87]="UnsupportedPersistencyMode",e[e.UnsupportedValidUntilTimestamp=88]="UnsupportedValidUntilTimestamp",e[e.UntrustedActionUri=89]="UntrustedActionUri",e[e.UntrustedLinkUri=90]="UntrustedLinkUri"}(c=t.EngagementTelemetryEventType||(t.EngagementTelemetryEventType={})),function(e){e[e.OriginInvalid=1]="OriginInvalid",e[e.OriginValid=2]="OriginValid",e[e.Invalid=3]="Invalid",e[e.WebViewNotReady=4]="WebViewNotReady",e[e.Sent=5]="Sent"}(d=t.EngagementPostMessageReason||(t.EngagementPostMessageReason={})),function(e){e[e.BotMessageServiceConvSyncFailBricked=1]="BotMessageServiceConvSyncFailBricked",e[e.BotMessageServiceConvSyncFailNoMeta=2]="BotMessageServiceConvSyncFailNoMeta",e[e.BotMessageServiceConvSyncFailNoProgress=3]="BotMessageServiceConvSyncFailNoProgress",e[e.BotMessageServiceUnsupportedMessageType=4]="BotMessageServiceUnsupportedMessageType",e[e.BotMessageServiceWaitingMessage=5]="BotMessageServiceWaitingMessage",e[e.ChatServiceBlockedMessage=6]="ChatServiceBlockedMessage",e[e.InvalidPayload=7]="InvalidPayload",e[e.TelemetryObjectNotFound=8]="TelemetryObjectNotFound",e[e.InvalidPlatformListInPayload=9]="InvalidPlatformListInPayload",e[e.InvalidClientVersionInPayload=10]="InvalidClientVersionInPayload"}(u=t.EngagementMessageTelemetryEventType||(t.EngagementMessageTelemetryEventType={})),function(e){e[e.Notification=1]="Notification",e[e.PopCard=2]="PopCard",e[e.PopCardToast=3]="PopCardToast",e[e.QuietPopCard=4]="QuietPopCard",e[e.WebView=5]="WebView"}(g=t.ActionOrigin||(t.ActionOrigin={})),function(e){e[e.ApplicationActive=1]="ApplicationActive",e[e.CallInProgress=2]="CallInProgress",e[e.CoachMarkShown=3]="CoachMarkShown",e[e.GenericModalOpened=4]="GenericModalOpened",e[e.HubNotVisible=5]="HubNotVisible",e[e.NotOnLandingPage=6]="NotOnLandingPage",e[e.OnboardingInProgress=7]="OnboardingInProgress",e[e.PopCardModalOpen=8]="PopCardModalOpen",e[e.PopCardToggled=9]="PopCardToggled",e[e.QuietCard=10]="QuietCard",e[e.UserStatusBusy=11]="UserStatusBusy",e[e.WebViewOpened=12]="WebViewOpened",e[e.SurfaceDisabled=13]="SurfaceDisabled",e[e.EngagementTypeFilterEnabled=14]="EngagementTypeFilterEnabled"}(h=t.SuppressReason||(t.SuppressReason={})),function(e){e[e.TipsAndTricks=0]="TipsAndTricks",e[e.TipsAndTricksPush=1]="TipsAndTricksPush",e[e.EmailMissedMessageReminders=2]="EmailMissedMessageReminders",e[e.EmailMissedCallReminders=3]="EmailMissedCallReminders"}(p=t.EngagementSettingsSource||(t.EngagementSettingsSource={})),function(e){e[e.TPUM=1]="TPUM",e[e.InApp=2]="InApp"}(S=t.EngagementPushSource||(t.EngagementPushSource={})),function(e){e[e.OpenDialog=0]="OpenDialog",e[e.CloseDialog=1]="CloseDialog",e[e.DismissDialog=2]="DismissDialog"}(m=t.EngagementShareableContentAction||(t.EngagementShareableContentAction={}));class C extends r.TelemetryEventBase{constructor(e){super(),this.props=e}getAttributes(){const e=super.getAttributes();if(e.Action=c[this.props.eventType]||"UnknownAction",e.CampaignId=this.props.campaignId||"UnknownCampaign",e.IsOfflineTargeted=this.props.offlineTargeted||!1,this.props.actionOrigin&&(e.ActionOrigin=g[this.props.actionOrigin]),this.props.campaignTrackId&&(e.CampaignTrackId=this.props.campaignTrackId),this.props.contentLanguage&&(e.ContentLanguage=this.props.contentLanguage),this.props.contentPlatforms&&(e.ContentPlatforms=(0,o.chain)(this.props.contentPlatforms,(0,o.map)((e=>a.EngagementPlatformType[e])),(0,o.sortBy)(),(0,o.uniq)(),(0,o.join)(","))),this.props.suppressReason&&(e.SuppressReason=h[this.props.suppressReason]),this.props.deliveryTime&&this.props.sentTime&&(e.DeliveryTime=this.props.deliveryTime,e.SentTime=this.props.sentTime,e.DeliveryDuration=this.props.deliveryTime-this.props.sentTime),n.isNumber(this.props.buttonIndex)&&(e.ButtonIndex=this.props.buttonIndex),this.props.messageId&&(e.MessageId=this.props.messageId),this.props.messageCorrelationId&&(e.MessageCorrelationId=this.props.messageCorrelationId),this.props.actionUri&&(e.ActionUri=this.props.actionUri),!n.isUndefined(this.props.userStatus)){const t=s.encodeStatus(this.props.userStatus);t&&(e.UserStatus=t)}if(this.props.hubLocation&&(e.HubLocation=this.props.hubLocation),this.props.engagementTelemetryAttributes){const t="T_";n.each(this.props.engagementTelemetryAttributes,((i,o)=>{e[t+n.upperFirst(o)]=i}))}return this.props.postMessageReason&&(e.PostMessageReason=d[this.props.postMessageReason]),this.props.delayForPeriod&&(e.DelayForPeriod=this.props.delayForPeriod),e}}t.EngagementTelemetryEventBase=C;class y extends r.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"engagement_message"}getAttributes(){const e=super.getAttributes();e.Action=u[this.props.eventType]||"UnknownAction",this.props.messageType&&(e.MessageType=this.props.messageType),this.props.messageCorrelationId&&(e.MessageCorrelationId=this.props.messageCorrelationId),this.props.messageId&&(e.MessageId=this.props.messageId);const t=l.getTrackableConversationId(this.props.conversationId);return t&&(e.ConversationId=t),e}}t.EngagementMessageTelemetryEvent=y;t.EngagementFeedbackTelemetryEvent=class extends C{getEventName(){return"engagement_feedback_event"}};t.EngagementPopCardTelemetryEvent=class extends C{getEventName(){return"engagement_popcard_event"}};t.EngagementNoticeTelemetryEvent=class extends C{getEventName(){return"engagement_notice_event"}};t.EngagementPushNotificationTelemetryEvent=class extends C{constructor(e){super(e),this.props=e}getEventName(){return"engagement_push_notification_event"}getAttributes(){const e=super.getAttributes();return e.Source=this.props.source?S[this.props.source]:S[S.TPUM],this.props.lastAppActiveTimeTimestamp&&(e.LastAppActiveTimeTimestamp=this.props.lastAppActiveTimeTimestamp),this.props.lastActivityCheckTimestamp&&(e.LastActivityCheckTimestamp=this.props.lastActivityCheckTimestamp),this.props.lastActivityCheckParsedTimestamp&&(e.LastActivityCheckParsedTimestamp=this.props.lastActivityCheckParsedTimestamp),e}getLoggedOutSendingPolicy(){return r.TelemetryEventLoggedOutPolicy.SendNow}};class f extends r.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"engagement_settings"}getAttributes(){const e=super.getAttributes();return e.Source=p[this.props.source],e.IsToggled=this.props.isToggled,e}}t.EngagementSettingsTelemetryEvent=f;class b extends r.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"engagement_shareable_content"}getAttributes(){const e=super.getAttributes();return e.Action=m[this.props.action],e.CampaignId=this.props.campaignId,e.TextInputEnabled=this.props.wasTextMsgEnabled,e.CarouselEnabled=this.props.wasCarouselEnabled,e.OneClickSendEnabled=this.props.wasOneClickSendEnabled,e.HasShareButton=!!this.props.hasShareButton,e.ContentReshare=!!this.props.isContentReshare,e.SharesCount=this.props.shareCounts||0,e.HasUsedSearch=!!this.props.hasUsedSearch,e.HasUsedCarousel=!!this.props.hasUsedCarousel,e.HasSharedTextMsg=!!this.props.hasSharedTextMsg,e.CardsShareCount=this.props.cardsShareCount||0,this.props.cardsShared&&(e.CardsShared=n.toString(n.sortBy(this.props.cardsShared))),e}}t.EngagementShareableContentEvent=b;class _ extends r.TelemetryEventBase{constructor(e,t){super(),this._type=e,this._action=t}getEventName(){return"engagement_banner"}getAttributes(){const e=super.getAttributes();return e.BannerType=this._type,e.Action=this._action,e}}t.EngagementBannerTelemetryEvent=_;class v extends r.TelemetryEventBase{constructor(e,t){super(),this._type=e,this._action=t}getEventName(){return"engagement_tooltip"}getAttributes(){const e=super.getAttributes();return e.TooltipType=this._type,e.Action=this._action,e}}t.EngagementTooltipTelemetryEvent=v},453880:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(626712);t.default=class{static getTrackingQueryParam(e){if(n.isEmpty(e))return;const t=o.default.getURIComponents(e);return t?n.get(t.queryParameterKeyValues,"WT.mc_id",void 0):void 0}}},674625:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691),o=i(889391),s=i(562141),a=i(746096),r=i(436237),l=i(998754),c=i(914976),d=i(583181),u=i(422538),g=i(500349);t.default=new class{constructor(){this._appConfigStoreSubscribeCallback=()=>{const e=o.default.getEngagementFeatures().engagementUserTagging;if(this._isUserTaggingEnabled=e.enabled,this._maxDurationInSeconds=e.maxDurationInSeconds,this._isUserTaggingEnabled){if(this._cachedUserTaggingConfig)return;this._cachedUserTaggingConfig=l.default.getData(s.InternalKeys.EngagementUserTaggingConfig),this._cachedUserTaggingConfig&&(this._cacheInvalidated=!1,this._cachedUserTaggingConfig.durationAbsoluteTimestamp>Date.now()?this._setUserTaggingConfig(this._cachedUserTaggingConfig):(r.log(a.LogTraceArea.EngagementUserTagging,"Deleting expired user tagging config."),this._deleteUserTaggingConfig()))}else this._cacheInvalidated||(r.log(a.LogTraceArea.EngagementUserTagging,"User tagging disabled, deleting configs."),this._deleteUserTaggingConfig())},u.RegisterStartupable(this,"EngagementUserTaggingService",[l.default])}startup(){return d.default.performAfterUIStarted((()=>{o.default.subscribe(this._appConfigStoreSubscribeCallback),this._appConfigStoreSubscribeCallback()})),n.Resolved()}setupUserTagging(e,t){if(!this._isUserTaggingEnabled)return void r.log(a.LogTraceArea.EngagementUserTagging,"User tagging disabled.");if(t>this._maxDurationInSeconds)return void r.log(a.LogTraceArea.EngagementUserTagging,"Tracking time is greater than max allowed value.");const i={engagementTag:e,durationAbsoluteTimestamp:Date.now()+1e3*t};this._cachedUserTaggingConfig=i,this._cacheInvalidated=!1,this._setUserTaggingConfig(i),l.default.putData(s.InternalKeys.EngagementUserTaggingConfig,i)}userTaggingConfig(){if(g.EngagementUserTaggingConfig&&Date.now()<g.EngagementUserTaggingConfig.durationAbsoluteTimestamp)return g.EngagementUserTaggingConfig}_setUserTaggingConfig(e){r.log(a.LogTraceArea.EngagementUserTagging,`Setting engagement user tagging - ${c.dev_unknownOmit(e.engagementTag)}, ${e.durationAbsoluteTimestamp}`),g.setEngagementUserTaggingConfig({engagementTag:e.engagementTag,durationAbsoluteTimestamp:e.durationAbsoluteTimestamp})}_deleteUserTaggingConfig(){l.default.deleteKeys([s.InternalKeys.EngagementUserTaggingConfig]),g.setEngagementUserTaggingConfig(void 0),this._cachedUserTaggingConfig=void 0,this._cacheInvalidated=!0}test_reset(){this._cachedUserTaggingConfig=void 0,this._cacheInvalidated=!1}}},124221:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EnhancedHistorySearchEvent=t.EnhancedHistorySearchActionType=void 0;const n=i(500349);var o;!function(e){e[e.QuickLastImage=0]="QuickLastImage",e[e.QuickLastLink=1]="QuickLastLink",e[e.Date=2]="Date",e[e.Reveal=3]="Reveal"}(o=t.EnhancedHistorySearchActionType||(t.EnhancedHistorySearchActionType={}));class s extends n.TelemetryEventBase{constructor(e){super(),this._actionType=e}getEventName(){return"enhanced_history_search"}getAttributes(){const e=super.getAttributes();return e.Action=o[this._actionType],e}}t.EnhancedHistorySearchEvent=s},37802:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionSearchAction=t.SubscriptionSearchComponentClick=t.ManageSubscription=t.SubscriptionUpgrade=t.SubscriptionDetailsLinkClick=t.BalanceStatePanelComponentClick=t.BalanceStateNavigation=t.ReactivationStep=t.PushEtagExpired=t.EntitlementIntegrationError=t.BalanceStatePollNotificationConsumed=t.BalanceStatePollNotificationReceived=t.OrderNotificationOrEntitlementsUpdated=t.OrderPollNotificationReceived=t.AADCPanelLoaded=t.RatesFetching=t.ServicesFetching=t.AADCLInfoLinksClickTarget=t.AADCExperienceLoaded=t.ManageSubscriptionClickTarget=t.SubscriptionSearchComponentClickTarget=t.ContentShowSource=t.SubscriptionUpgradeFlowStep=void 0;const n=i(496486),o=i(488366),s=i(640363),a=i(500349),r=i(500787);!function(e){e.ShowButton="show",e.ClickButton="click"}(t.SubscriptionUpgradeFlowStep||(t.SubscriptionUpgradeFlowStep={})),function(e){e.InfoScreen="info_screen",e.MainScreen="main_screen"}(t.ContentShowSource||(t.ContentShowSource={})),function(e){e.SubscriptionSearchButton="SubscriptionSearchButton",e.SubscriptionResetSearchButton="SubscriptionResetSearchButton"}(t.SubscriptionSearchComponentClickTarget||(t.SubscriptionSearchComponentClickTarget={})),function(e){e.SubscriptionClicked="SubscriptionClicked",e.ManageSubscriptionLinkClicked="ManageSubscriptionLinkClicked",e.IOSSubscriptionManageLinkClicked="IOSSubscriptionManageLinkClicked",e.GPlaySubscriptionManageLinkClicked="GplaySubscriptionManageLinkClicked"}(t.ManageSubscriptionClickTarget||(t.ManageSubscriptionClickTarget={})),function(e){e.BalancePanelScreenLoaded="BalancePanelScreenLoaded",e.CallFailureScreenLoaded="CallFailureScreenLoaded",e.SmsFailureScreenLoaded="SmsFailureScreenLoaded",e.SkypeNumberPurchaseScreenLoaded="SkypeNumberPurchaseScreenLoaded",e.TasterScreenLoaded="TasterScreenLoaded",e.SendCreditPanelScreenLoaded="SendCreditPanelScreenLoaded"}(t.AADCExperienceLoaded||(t.AADCExperienceLoaded={})),function(e){e.AADCLearnMoreLinkClicked="AADCLearnMoreLinkClicked",e.GiftSkypeCreditFAQLinkClicked="GiftSkypeCreditFAQLinkClicked"}(t.AADCLInfoLinksClickTarget||(t.AADCLInfoLinksClickTarget={}));class l extends r.PriorityTelemetryEventBase{getEventName(){return"s4l_entitlement"}getAriaTenantTokenOverride(){return s.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class c extends a.TelemetryEventBase{getEventName(){return"s4l_entitlement_polling"}getAriaTenantTokenOverride(){return s.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.ServicesFetching=class extends c{constructor(e){super(),this._servicesFetchingTime=e}getActionName(){return"ServicesFetching"}getAttributes(){const e=super.getAttributes();return e.Duration=this._servicesFetchingTime,e}};t.RatesFetching=class extends c{constructor(e){super(),this._ratesFetchingTime=e}getActionName(){return"RatesFetching"}getAttributes(){const e=super.getAttributes();return e.Duration=this._ratesFetchingTime,e}};t.AADCPanelLoaded=class extends l{constructor(e,t){super(),this._navigationScreen=e,this._infoLink=t}getActionName(){return"AADCPanelLoaded"}getAttributes(){const e=super.getAttributes();return e.navigationScreen=this._navigationScreen,e.infoLinkClicked=void 0!==this._infoLink?this._infoLink:"",e}};t.OrderPollNotificationReceived=class extends l{constructor(e){super(),this._reason=e}getActionName(){return"OrderPollNotificationReceived"}getAttributes(){const e=super.getAttributes();return e.Reason=o.EntitlementRequestReason[this._reason],e}};t.OrderNotificationOrEntitlementsUpdated=class extends l{constructor(e,t,i,n,o,s){super(),this._reason=e,this._failed=t,this._didBalanceUpdate=i,this._didSubscriptionsUpdate=n,this._didSkypeNumbersUpdate=o,this._consumeTime=s}getActionName(){return"OrderNotificationOrEntitlementsUpdated"}getAttributes(){const e=super.getAttributes();return e.ConsumeTime=this._consumeTime,e.DidConsumeFail=this._failed,e.DidBalanceUpdate=this._didBalanceUpdate,e.DidSubscriptionsUpdate=this._didSubscriptionsUpdate,e.DidSkypeNumbersUpdate=this._didSkypeNumbersUpdate,e.Reason=o.EntitlementRequestReason[this._reason],e}};t.BalanceStatePollNotificationReceived=class extends c{constructor(e){super(),this._reason=e}getActionName(){return"BalanceStatePollNotificationReceived"}getAttributes(){const e=super.getAttributes();return e.Reason=o.EntitlementRequestReason[this._reason],e}};t.BalanceStatePollNotificationConsumed=class extends c{constructor(e,t,i,n,o,s){super(),this._reason=e,this._failed=t,this._didBalanceUpdate=i,this._didSubscriptionsUpdate=n,this._didSkypeNumbersUpdate=o,this._consumeTime=s}getActionName(){return"BalanceStatePollNotificationConsumed"}getAttributes(){const e=super.getAttributes();return e.ConsumeTime=this._consumeTime,e.DidConsumeFail=this._failed,e.DidBalanceUpdate=this._didBalanceUpdate,e.DidSubscriptionsUpdate=this._didSubscriptionsUpdate,e.DidSkypeNumbersUpdate=this._didSkypeNumbersUpdate,e.Reason=o.EntitlementRequestReason[this._reason],e}};t.EntitlementIntegrationError=class extends c{constructor(e,t,i){super(),this._step=e,this._description=t,this._props=i}getActionName(){return"EntitlementIntegrationError"}getAttributes(){const e=super.getAttributes();return e.Step=this._step,e.Description=this._description,n.assign(e,this._props||{})}};t.PushEtagExpired=class extends c{constructor(e,t){super(),this._currentEtag=e,this._pushEtag=t,this._getEtagDiff=()=>{const e=this._currentEtag.replace(/\D/g,""),t=this._pushEtag.replace(/\D/g,"");let i=0;for(let n=e.length-1;n>=0;n--){i+=(parseInt(e.charAt(n)||"0",10)-parseInt(t.charAt(n)||"0",10))*Math.pow(10,e.length-n-1)}return i}}getActionName(){return"PushEtagExpired"}getAttributes(){const e=super.getAttributes();return e.CurrentEtag=this._currentEtag,e.PushEtag=this._pushEtag,e.EtagDiff=String(this._getEtagDiff()),e}};t.ReactivationStep=class extends l{constructor(e){super(),this._reactivationActionStep=e}getActionName(){return"ReactivationStep"}getAttributes(){const e=super.getAttributes();return e.Step=this._reactivationActionStep,e}};t.BalanceStateNavigation=class extends l{constructor(e,t,i){super(),this._navigationSource=e,this._entitlements=t,this._contentShown=i}getActionName(){return"BalanceStateNavigation"}getAttributes(){const e=super.getAttributes();return e.NavigationSource=this._navigationSource,e.EntitlementsCombination=this._entitlements,e.ContentShown=this._contentShown,e}};t.BalanceStatePanelComponentClick=class extends l{constructor(e){super(),this._target=e}getActionName(){return"BalanceStatePanelComponentClick"}getAttributes(){const e=super.getAttributes();return e.Target=this._target,e}};t.SubscriptionDetailsLinkClick=class extends l{constructor(e){super(),this._subscriptionId=e}getActionName(){return"SubscriptionDetailsLinkClick"}getAttributes(){const e=super.getAttributes();return e.SubscriptionId=this._subscriptionId,e}};t.SubscriptionUpgrade=class extends l{constructor(e,t,i,n){super(),this._flowStep=e,this._originSubscriptionId=t,this._upgradeSubscriptionId=i,this._minutesLeft=n}getActionName(){return"SubscriptionUpgrade"}getAttributes(){const e=super.getAttributes();return e.Step=this._flowStep,e.OriginSubscriptionId=this._originSubscriptionId,e.UpgradeSubscriptionId=this._upgradeSubscriptionId,e.OriginSubscriptionMinutesLeft=this._minutesLeft,e}};t.ManageSubscription=class extends l{constructor(e,t){super(),this._target=e,this._subscriptionId=t}getActionName(){return"ManageSubscription"}getAttributes(){const e=super.getAttributes();return e.Step=this._target,e.SubscriptionId=this._subscriptionId,e}};t.SubscriptionSearchComponentClick=class extends l{constructor(e,t){super(),this._target=e,this._countryCode=t}getActionName(){return"SubscriptionSearchComponentClick"}getAttributes(){const e=super.getAttributes();return e.Target=this._target,this._countryCode&&(e.SearchedCountry=this._countryCode),e}};t.SubscriptionSearchAction=class extends l{constructor(e){super(),this._countryCode=e}getActionName(){return"SubscriptionSearchAction"}getAttributes(){const e=super.getAttributes();return e.SearchedCountry=this._countryCode,e}}},179251:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileExposure=t.FileOpenClick=t.FileDownloadFailure=t.FileDownloadCancelClick=t.FileDownloadRetryClick=t.FileDownloadClick=t.FileEventVersion=t.FileAction=void 0;const n=i(812056),o=i(500349),s=i(735370);var a;!function(e){e[e.DownloadClick=0]="DownloadClick",e[e.DownloadRetryClick=1]="DownloadRetryClick",e[e.DownloadCancelClick=2]="DownloadCancelClick",e[e.DownloadFailure=3]="DownloadFailure",e[e.OpenClick=4]="OpenClick",e[e.Exposure=5]="Exposure"}(a=t.FileAction||(t.FileAction={})),function(e){e.OldDesign="old_design",e.ReDesignV1="redesign_v1"}(t.FileEventVersion||(t.FileEventVersion={}));class r extends n.MessageTelemetryBase{constructor(e,t,i){super(i,i.conversationId),this._action=e,this._fileType=t;const n=s.getClientMessageId(i);this._clientMessageId=n||""}getEventName(){return"file_action"}getEventTraceMode(){return o.TelemetryTraceMode.EventName}getCorrelationAttributes(){const e=super.getCorrelationAttributes();return e.Client_Message_Id=this._clientMessageId,e}getAttributes(){const e=super.getAttributes();e.file_type=this._fileType;let t=a[this._action];return this._action===a.OpenClick&&(t="open_click"),e.action=t,e}_useOldAttributeNames(){return!0}}class l extends r{constructor(e,t,i,n,o,s,a){super(e,t,i),this._fileSizeRaw=n,this._version=o,this._autoDownload=s,this._networkType=a}getAttributes(){const e=super.getAttributes();return e.file_size_bytes=this._fileSizeRaw,e.network_type=this._networkType,e.version=this._version,e.auto_download=this._autoDownload,e}}t.FileDownloadClick=class extends l{constructor(e,t,i,n,o,s){super(a.DownloadClick,e,t,i,n,o,s)}};t.FileDownloadRetryClick=class extends l{constructor(e,t,i,n,o,s){super(a.DownloadRetryClick,e,t,i,n,o,s)}};t.FileDownloadCancelClick=class extends l{constructor(e,t,i,n,o,s){super(a.DownloadCancelClick,e,t,i,n,o,s)}};t.FileDownloadFailure=class extends l{constructor(e,t,i,n,o,s){super(a.DownloadFailure,e,t,i,n,o,s)}};t.FileOpenClick=class extends r{constructor(e,t,i,n,o){super(a.OpenClick,e,t),this._version=i,this._autoDownload=n,this._networkType=o}getAttributes(){const e=super.getAttributes();return e.Clicked_Timestamp=this._eventCreationTime,e.Server_Message_Id=this._serverMessageId,e.network_type=this._networkType,e.version=this._version,e.auto_download=this._autoDownload,e}};t.FileExposure=class extends r{constructor(e,t,i,n,o){super(a.Exposure,e,t),this._version=i,this._autoDownload=n,this._networkType=o,this._serverMessageId=t.getOriginalServerId()||""}getAttributes(){const e=super.getAttributes();return e.Exposed_Timestamp=this._eventCreationTime,e.Server_Message_Id=this._serverMessageId,e.network_type=this._networkType,e.version=this._version,e.auto_download=this._autoDownload,e}}},374401:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FindPanelAddinShared=t.FindPanelLaunched=t.FindPanelLaunchMessage=t.FindPanelResult=void 0;const n=i(500349);var o,s;!function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"}(o=t.FindPanelResult||(t.FindPanelResult={})),function(e){e[e.NoAddinsAvailable=0]="NoAddinsAvailable",e[e.AddinsAvailable=1]="AddinsAvailable",e[e.AddinsFetchError=2]="AddinsFetchError"}(s=t.FindPanelLaunchMessage||(t.FindPanelLaunchMessage={}));class a extends n.TelemetryEventBase{getEventName(){return"caap_find_panel"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.FindPanelLaunched=class extends a{constructor(e){super(),this._launchData=e}getActionName(){return"Launched"}getAttributes(){const e=super.getAttributes();return e.LaunchResult=o[this._launchData.resultCode],e.LaunchResultMessage=s[this._launchData.resultMessage],e}};t.FindPanelAddinShared=class extends a{constructor(e){super(),this._shareData=e}getActionName(){return"AddinShared"}getAttributes(){const e=super.getAttributes();return e.IntegrationId=this._shareData.integrationId||"",e.IsBrowserUrl=this._shareData.isBrowserUrl,e.ShareResult=o[this._shareData.resultCode],e.ShareResultMessage=this._shareData.resultMessage||"",e}}},897811:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FundamentalsDebugEmptyBodyEvent=t.FundamentalsMessagePushDebug=t.FundamentalsDebugEvent=t.AriaGetEventsLimitReached=t.DatabaseDebugEvent=t.DatabaseErrorEvent=t.MissingPushSubscription=void 0;const n=i(636076),o=i(496486),s=i(500349);i(735370);class a extends s.TelemetryEventBase{constructor(e,t,i,n,o,s){super(),this._newEndpointId=e,this._existingEndpointId=t,this._pushSubscriptionId=i,this._edfRegistrationId=n,this._reason=o,this._tcid=s}getEventName(){return"fundamentals_missing_push_sub"}getAttributes(){return o.assign({},super.getAttributes(),{NewEndpointId:this._newEndpointId,EndpointId:this._existingEndpointId,PushSubscriptionId:this._pushSubscriptionId,EdfRegistrationId:this._edfRegistrationId||"",Reason:this._reason||"",CSContextId:this._tcid?this._tcid.contextId:"",CSDate:this._tcid?this._tcid.date:""})}}t.MissingPushSubscription=a;class r extends s.TelemetryEventBase{constructor(e){super(),this._errorInfo=e}getEventName(){return"fundamentals_database_error"}getAttributes(){return o.assign(super.getAttributes(),{WebSQLCode:this._errorInfo.webSqlCode,SQLiteCode:this._errorInfo.sqliteCode,Message:this._errorInfo.sanitizedErrorMessage})}}t.DatabaseErrorEvent=r;class l extends s.TelemetryEventBase{constructor(e,t){super(),this._providerName=e,this._timeToOpen=t}getEventName(){return"fundamentals_db_debug"}getAttributes(){const e=super.getAttributes();return e.ProviderName=this._providerName,e.TimeToOpen=this._timeToOpen,e}}t.DatabaseDebugEvent=l;class c extends s.TelemetryEventBase{constructor(e,t){super(),this._tableSize=e,this._oldestSentTimestamp=t}getEventName(){return"fundamentals_aria_limit"}getAttributes(){const e=super.getAttributes();return e.TableSize=this._tableSize,e.OldestSent=this._oldestSentTimestamp,e}}t.AriaGetEventsLimitReached=c;class d extends s.TelemetryEventBase{constructor(e,t=""){super(),this._trackingName=e,this._data=t}getEventName(){return"fundamentals_debug"}getAttributes(){const e=super.getAttributes();return e.Name=this._trackingName,e.Data=this._data,e}}t.FundamentalsDebugEvent=d;t.FundamentalsMessagePushDebug=class extends d{constructor(e,t,i,n="",o=""){super("MessagePushDebug"),this._clientMessageId=e,this._correlationId=t,this._step=i,this._error=n,this._result=o}shouldSend(){return!1}getAttributes(){const e=super.getAttributes();return e.ProcessingStep=this._step,e.ClientMessageId=this._clientMessageId,e.MessageCorrelationId=this._correlationId,e.PushProcessingError=this._error,e.ProcessingResult=this._result,e}getEventPriority(){return n.AWTEventPriority.High}};class u extends s.TelemetryEventBase{constructor(e,t,i,n,o){super(),this._restClient=e,this._scenario=t,this._requestId=i,this._statusCode=n,this._statusText=o}getEventName(){return"fundamentals_empty_body_debug"}getAttributes(){const e=super.getAttributes();return e.RestClient=this._restClient,e.Scenario=this._scenario,e.RequestId=this._requestId||"",e.StatusCode=this._statusCode,e.StatusText=this._statusText||"",e}}t.FundamentalsDebugEmptyBodyEvent=u},781511:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GalleryFilterSwitchedEvent=t.GalleryItemViewedEvent=t.GalleryCommandSelectedEvent=t.GalleryAddItemViaDragAndDropEvent=t.GalleryAddItemPanelOpenedEvent=t.GalleryOpenedEvent=t.GalleryAction=void 0;const n=i(671830),o=i(217093),s=i(600750),a=i(500349),r=i(735370);var l;!function(e){e[e.Opened=0]="Opened",e[e.FilterSwitched=1]="FilterSwitched",e[e.AddItemPanelOpened=2]="AddItemPanelOpened",e[e.AddItemViaDragAndDrop=3]="AddItemViaDragAndDrop",e[e.CommandSelected=4]="CommandSelected",e[e.ItemViewed=5]="ItemViewed"}(l=t.GalleryAction||(t.GalleryAction={}));class c extends a.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._conversationId=t}getEventName(){return"messaging_gallery"}getAttributes(){const e=super.getAttributes();return e.Action=l[this._action],e.IsGroupConversation=n.isGroupConversation(this._conversationId),e.IsEncryptedConversation=n.isEncryptedThread(this._conversationId),e}}t.GalleryOpenedEvent=class extends c{constructor(e){super(l.Opened,e)}};t.GalleryAddItemPanelOpenedEvent=class extends c{constructor(e){super(l.AddItemPanelOpened,e)}};t.GalleryAddItemViaDragAndDropEvent=class extends c{constructor(e){super(l.AddItemViaDragAndDrop,e)}};t.GalleryCommandSelectedEvent=class extends c{constructor(e,t){super(l.CommandSelected,e.conversationId),this._message=e,this._command=t}getAttributes(){const e=super.getAttributes();return e.ItemType=(0,r.getMessageTypeName)(this._message),e.Command=s.CommandTypes[this._command],e}};t.GalleryItemViewedEvent=class extends c{constructor(e){super(l.ItemViewed,e.conversationId),this._message=e}getAttributes(){const e=super.getAttributes();return e.ItemType=(0,r.getMessageTypeName)(this._message),e}};t.GalleryFilterSwitchedEvent=class extends c{constructor(e,t,i){super(l.FilterSwitched,e),this._from=t,this._to=i}getAttributes(){const e=super.getAttributes();return e.From=o.GalleryViewMode[this._from],e.To=o.GalleryViewMode[this._to],e}}},317873:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(770891),o=i(781511),s=i(644949),a=i(436237);t.default=class{static potentiallyMarkCommandSelected(e,t,i){if(t===n.MessageRenderOrigin.StackGalleryCanvas||t===n.MessageRenderOrigin.CompositeGalleryCanvas){const t=s.GalleryTelemetryScenario.getInstance();t&&t.markStreamItemCommandSelected(e,i),a.track(new o.GalleryCommandSelectedEvent(e,i))}}static potentiallyMarkItemViewed(e,t){if(t===n.MessageRenderOrigin.StackGalleryCanvas||t===n.MessageRenderOrigin.CompositeGalleryCanvas){const t=s.GalleryTelemetryScenario.getInstance();t&&t.markItemViewed(e),a.track(new o.GalleryItemViewedEvent(e))}}}},644949:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GalleryTelemetryScenario=t.GalleryScenarioStep=void 0;const n=i(351077),o=i(746096),s=i(436237),a=i(764387),r=i(217093),l=i(415963),c=i(600750),d=i(794050),u=i(912770);var g;!function(e){e[e.GalleryOpened=0]="GalleryOpened",e[e.GalleryClosed=1]="GalleryClosed",e[e.ConversationChanged=2]="ConversationChanged",e[e.ChangedView=3]="ChangedView",e[e.ItemAdded=4]="ItemAdded",e[e.ItemViewed=5]="ItemViewed",e[e.ItemForwarded=6]="ItemForwarded",e[e.ItemRemoved=7]="ItemRemoved",e[e.ViewedItemInChat=8]="ViewedItemInChat",e[e.ItemSaved=9]="ItemSaved",e[e.ItemCopied=10]="ItemCopied",e[e.LinkCopied=11]="LinkCopied",e[e.ItemReported=12]="ItemReported",e[e.TimedOut=13]="TimedOut",e[e.Unknown=14]="Unknown"}(g=t.GalleryScenarioStep||(t.GalleryScenarioStep={}));class h{constructor(){this._scenarioCompleted=!1,this._scenarioTimedOut=!1,this._onGalleryOpenTimeout=()=>{if(this._scenarioCompleted)return;const e={cause:g[g.TimedOut]};this._scenario.finish(e),this._scenarioCompleted=!0,this._scenarioTimedOut=!0},this._startNewScenario(g.GalleryOpened)}static getInstance(e=!1){return!e&&this._instance||(this._instance=new h),this._instance}static destroyInstance(){this._instance=void 0}_startNewScenario(e){this._scenarioTimedOut=!1,this._scenarioCompleted=!1;const t={cause:g[e]};this._scenario=new d.default(l.ScenarioName.Gallery),this._scenario.start(t),this._resetTimeoutTimer()}_resetTimeoutTimer(){this._timeoutTimerId&&(u.default.clearTimeout(this._timeoutTimerId),this._timeoutTimerId=void 0),this._timeoutTimerId=u.default.setTimeout(this._onGalleryOpenTimeout,12e4)}markStep(e,t){if(this._scenarioTimedOut&&this._startNewScenario(g.TimedOut),!this._scenarioCompleted)if(e===g.GalleryClosed||e===g.ConversationChanged){const t={cause:g[e]};this._scenario.finish(t),this._scenarioCompleted=!0,this._timeoutTimerId&&(u.default.clearTimeout(this._timeoutTimerId),this._timeoutTimerId=void 0)}else{const i=g[e];this._scenario.isStepMarked(i)||this._scenario.markStepCompleted(i,t),this._resetTimeoutTimer()}}markChangedViewMode(e){const t={changedToViewMode:r.GalleryViewMode[e]};this.markStep(g.ChangedView,t)}markItemViewed(e){const t={itemType:this._getItemType(e)};this.markStep(g.ItemViewed,t)}markStreamItemCommandSelected(e,t){const i={itemType:this._getItemType(e)};this.markStep(this._convertCommandToStep(t),i)}_getItemType(e){return a.default.isMediaItem(e)?r.GalleryViewMode[r.GalleryViewMode.Media]:this._isLinkItem(e)?r.GalleryViewMode[r.GalleryViewMode.Links]:this._isFileItem(e)?r.GalleryViewMode[r.GalleryViewMode.Files]:e.messagetype}_isLinkItem(e){return n.getMessageTypeGroup(e)===n.MessageTypeGroups.SwiftCard||e.messagetype===n.MessageTypes.UriObject||e.hasUrlPreviewMetadata()}_isFileItem(e){return n.getMessageTypeGroup(e)===n.MessageTypeGroups.UriFile}_convertCommandToStep(e){switch(e){case c.CommandTypes.Forward:return g.ItemForwarded;case c.CommandTypes.Remove:return g.ItemRemoved;case c.CommandTypes.ViewInChat:return g.ViewedItemInChat;case c.CommandTypes.SaveAsFile:case c.CommandTypes.SaveAsMedia:case c.CommandTypes.SaveMedia:return g.ItemSaved;case c.CommandTypes.Copy:case c.CommandTypes.CopyImage:return g.ItemCopied;case c.CommandTypes.CopyLink:return g.LinkCopied;case c.CommandTypes.OpenFileLocation:case c.CommandTypes.OpenMediaLocation:return g.ItemViewed;case c.CommandTypes.Report:return g.ItemReported;default:return s.warn(o.LogTraceArea.GenericUnsafe,"Unsupported command passed to the gallery telemetry scenario: "+c.CommandTypes[e]),g.Unknown}}}t.GalleryTelemetryScenario=h},366199:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalHotkeyInvokedEvent=t.GlobalHotkeyUnregisteredEvent=t.GlobalHotkeyRegisteredEvent=void 0;const n=i(500349);var o;!function(e){e[e.Registered=0]="Registered",e[e.Unregistered=1]="Unregistered",e[e.Invoked=2]="Invoked"}(o||(o={}));class s extends n.TelemetryEventBase{constructor(e,t,i){super(),this._action=e,this._hotkey=t,this._hotkeyAccelerator=i}getEventName(){return"all_global_hotkeys"}getAttributes(){const e=super.getAttributes();return e.Action=o[this._action],e.Hotkey=this._hotkey,this._hotkeyAccelerator&&(e.HotkeyAccelerator=this._hotkeyAccelerator),e}}t.GlobalHotkeyRegisteredEvent=class extends s{constructor(e,t,i){super(o.Registered,t,i),this._wasRegistrationSuccessful=e}getAttributes(){const e=super.getAttributes();return e.WasSuccessful=this._wasRegistrationSuccessful,e}};t.GlobalHotkeyUnregisteredEvent=class extends s{constructor(e,t,i){super(o.Unregistered,t,i),this._wasUnregistrationSuccessful=e}getAttributes(){const e=super.getAttributes();return e.WasSuccessful=this._wasUnregistrationSuccessful,e}};t.GlobalHotkeyInvokedEvent=class extends s{constructor(e,t){super(o.Invoked,e,t)}}},791771:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InviteMorePeopleButtonClickedEvent=t.ShareGroupButtonClickedEvent=t.getShareButtonOriginFromSearchResultsListOrigin=t.InviteMorePeopleButtonOrigin=t.ShareGroupButtonOrigin=void 0;const n=i(746096),o=i(500349);var s,a,r;!function(e){e[e.MessageStream=0]="MessageStream",e[e.GroupProfile=1]="GroupProfile",e[e.ConversationHeader=2]="ConversationHeader",e[e.AddToGroup=3]="AddToGroup",e[e.QuickCallPanel=4]="QuickCallPanel",e[e.CallRosterPanel=5]="CallRosterPanel",e[e.Unknown=6]="Unknown"}(s=t.ShareGroupButtonOrigin||(t.ShareGroupButtonOrigin={})),function(e){e[e.MessageStream=0]="MessageStream"}(a=t.InviteMorePeopleButtonOrigin||(t.InviteMorePeopleButtonOrigin={})),function(e){e[e.ShareGroupButtonClicked=0]="ShareGroupButtonClicked",e[e.InviteMorePeopleButtonClicked=1]="InviteMorePeopleButtonClicked"}(r||(r={})),t.getShareButtonOriginFromSearchResultsListOrigin=function(e){let t;switch(e){case n.SearchResultsListOrigin.AddingParticipantsToGroup:t=s.AddToGroup;break;case n.SearchResultsListOrigin.QuickCallPanel:t=s.QuickCallPanel;break;default:t=s.Unknown}return t};class l extends o.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"people_group_engagement"}getAttributes(){const e=super.getAttributes();return e.Action=r[this._action],e}}t.ShareGroupButtonClickedEvent=class extends l{constructor(e){super(r.ShareGroupButtonClicked),this._origin=e}getAttributes(){const e=super.getAttributes();return e.Origin=s[this._origin],e}};t.InviteMorePeopleButtonClickedEvent=class extends l{constructor(e){super(r.InviteMorePeopleButtonClicked),this._origin=e}getAttributes(){const e=super.getAttributes();return e.Origin=a[this._origin],e}}},8052:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GuestUpsellTelemetryEventAction=void 0;const n=i(496486),o=i(188208),s=i(500349);var a;!function(e){e[e.UpsellPanelPresented=1]="UpsellPanelPresented",e[e.SisuStarted=2]="SisuStarted",e[e.SisuFinished=3]="SisuFinished",e[e.MeetNowFlowStarted=4]="MeetNowFlowStarted"}(a=t.GuestUpsellTelemetryEventAction||(t.GuestUpsellTelemetryEventAction={}));class r extends s.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"engagement_guest_upsell"}getAttributes(){const e=super.getAttributes();return e.Action=a[this.props.action]||"UnknownAction",this.props.upsellType&&(e.Type=this.props.upsellType),n.isUndefined(this.props.isSignUp)||(e.SisuType=o.AppEntryMethod.Unknown),this.props.meetNowPartner&&(e.Partner=this.props.meetNowPartner),e}}t.default=r},713873:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HubPlusButtonEvent=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"all_hub_plus_button"}getAttributes(){const e=super.getAttributes();return e.Action=this._action,e}}t.HubPlusButtonEvent=o},573667:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationStoreTelemetryEvent=t.IntegrationActionTelemetryEvent=t.IntegrationErrorEvent=t.NativeIntegrationLoadEvent=t.WebIntegrationLoadEvent=t.IntegrationLoadEvent=t.NativeIntegrationLaunchEvent=t.WebIntegrationLaunchEvent=t.IntegrationClosedEvent=t.IntegrationLaunchEvent=void 0;const n=i(496486),o=i(746096),s=i(809343),a=i(640363),r=i(500349);class l extends r.TelemetryEventBase{getEventName(){return"caap_integration"}getAttributes(){let e=super.getAttributes();return e=n.merge(e,this.getIntegrationActionAttributes()),e}getIntegrationActionAttributes(){return{Action:this.getActionName()}}}class c extends l{constructor(e,t){super(),this._integration=e,this._integrationName=t}getActionName(){return"IntegrationLaunched"}getAttributes(){const e=super.getAttributes();return e.Integration=this._integration,this._integrationName&&(e.IntegrationName=this._integrationName),e}}t.IntegrationLaunchEvent=c;t.IntegrationClosedEvent=class extends l{constructor(e,t){super(),this._integration=e,this._integrationName=t}getActionName(){return"IntegrationClosed"}getAttributes(){const e=super.getAttributes();return e.Integration=this._integration,this._integrationName&&(e.IntegrationName=this._integrationName),e}};t.WebIntegrationLaunchEvent=class extends c{constructor(e,t,i){super(e,t),this._origin=i}getAttributes(){const e=super.getAttributes();return e.Origin=o.BrowserOrigin[this._origin],e.IsNative=!1,e}};t.NativeIntegrationLaunchEvent=class extends c{constructor(e,t,i){super(e,t),this._origin=i}getAttributes(){const e=super.getAttributes();return e.Origin=s.AddinOrigin[this._origin],e.IsNative=!0,e}};class d extends l{constructor(e,t,i,n,o){super(),this._integration=e,this._integrationName=t,this._urlLaunchedFromFindPanel=i,this._isFirstPage=n,this._pageLoadTimeInMs=o}getActionName(){return"IntegrationLoaded"}getAttributes(){const e=super.getAttributes();return e.Integration=this._integration,this._integrationName&&(e.IntegrationName=this._integrationName),e.IsUrlLaunchedFromFindPanel=this._urlLaunchedFromFindPanel,e.IsFirstPage=this._isFirstPage,e.PageLoadDuration=this._pageLoadTimeInMs,e}}t.IntegrationLoadEvent=d;t.WebIntegrationLoadEvent=class extends d{constructor(e,t,i,n,o,s){super(e,t,i,n,o),this._origin=s}getAttributes(){const e=super.getAttributes();return e.Origin=o.BrowserOrigin[this._origin],e.IsNative=!1,e}};t.NativeIntegrationLoadEvent=class extends d{constructor(e,t,i,n,o){super(e,t,i,n,0),this._origin=o}getAttributes(){const e=super.getAttributes();return e.Origin=s.AddinOrigin[this._origin],e.IsNative=!0,e}};t.IntegrationErrorEvent=class extends l{constructor(e,t,i,n,o,s){super(),this._integration=e,this._integrationName=t,this._urlLaunchedFromFindPanel=i,this._origin=n,this._isFirstPage=o,this._errorCode=s}getActionName(){return"IntegrationError"}getAttributes(){const e=super.getAttributes();return e.Integration=this._integration,this._integrationName&&(e.IntegrationName=this._integrationName),e.IsUrlLaunchedFromFindPanel=this._urlLaunchedFromFindPanel,e.Origin=o.BrowserOrigin[this._origin],e.IsFirstPage=this._isFirstPage,e.ErrorCode=this._errorCode,e}};class u extends l{constructor(e,t){super(),this._integration=e,this._actionName=t}getEventName(){return"caap_"+this._integration}getAriaTenantTokenOverride(){return a.default.getAriaAddinTenantToken()}getIntegrationActionAttributes(){return n.merge({Integration:this._integration},super.getIntegrationActionAttributes())}getActionName(){return this._actionName}}t.IntegrationActionTelemetryEvent=u;t.IntegrationStoreTelemetryEvent=class extends u{constructor(e,t,i,n,o,s){super(e,"Store"+t),this._isSuccessful=i,this._latencyMs=n,this._errorCode=o,this._errorMsg=s}getIntegrationActionAttributes(){return n.merge({IsSuccessful:this._isSuccessful,LatencyDuration:this._latencyMs,ErrorCode:this._errorCode,"ErrorMessage:":this._errorMsg},super.getIntegrationActionAttributes())}}},835114:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FingerPrintCheckEvent=t.InviteFriendsButtonClicked=t.InviteRevokedEvent=t.InviteSharedEvent=t.ShareType=t.FingerPrintResult=t.InviteLinkOrigin=void 0;const n=i(496486),o=i(636076),s=i(671830),a=i(500349);var r,l;!function(e){e[e.UserProfile=0]="UserProfile",e[e.GroupProfile=1]="GroupProfile",e[e.AddToGroup=2]="AddToGroup",e[e.AddContact=3]="AddContact",e[e.MoreContactsPanel=4]="MoreContactsPanel",e[e.MessageStream=5]="MessageStream",e[e.DesktopNewActionPicker=6]="DesktopNewActionPicker",e[e.NewChatInvite=7]="NewChatInvite",e[e.QuickCallPanel=8]="QuickCallPanel",e[e.CallRosterPanel=9]="CallRosterPanel",e[e.LandingScreen=10]="LandingScreen",e[e.MeProfile=11]="MeProfile",e[e.Unknown=12]="Unknown",e[e.MeControl=13]="MeControl"}(r=t.InviteLinkOrigin||(t.InviteLinkOrigin={})),function(e){e[e.NotRecognized=0]="NotRecognized",e[e.Recognized=1]="Recognized",e[e.TimedOut=2]="TimedOut"}(l=t.FingerPrintResult||(t.FingerPrintResult={}));class c extends a.TelemetryEventBase{constructor(e,t){super(),this._mri=e,this._origin=t}getAttributes(){const e=super.getAttributes();return e.Origin=r[this._origin],e.InviteType=(0,s.isThread)(this._mri)?"group":"user",e}}!function(e){e.Clipboard="clipboard",e.Email="email",e.Native="native",e.QR="qr"}(t.ShareType||(t.ShareType={}));class d extends c{constructor(e,t,i,n){super(t,n),this._inviteLink=e,this._shareType=i}getEventName(){return"people_invite_link_shared"}getAttributes(){const e=super.getAttributes();return e.ShareType=this._shareType,e}getPiiAttributes(){const e=super.getPiiAttributes();return e.InviteLink={value:this._inviteLink,piiKind:o.AWTPiiKind.Uri},e}}t.InviteSharedEvent=d;t.InviteRevokedEvent=class extends c{constructor(e,t,i,n,o,s){super(e,t),this._requestDuration=i,this._isSuccess=n,this._errorStatusCode=o,this._errorMessage=s}getEventName(){return"people_invite_link_revoked"}getAttributes(){const e=super.getAttributes();return e.RequestDuration=this._requestDuration,e.IsSuccess=this._isSuccess,n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),n.isUndefined(this._errorMessage)||(e.ErrorMessage=this._errorMessage),e}};t.InviteFriendsButtonClicked=class extends d{getActionName(){return"InviteFriendsButtonClicked"}};class u extends a.TelemetryEventBase{constructor(e){super(),this._result=e}getEventName(){return"people_device_fingerprint_checked"}getAttributes(){const e=super.getAttributes();return e.Result=l[this._result],e}}t.FingerPrintCheckEvent=u},552284:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JoinLinkRetrievalServiceErrorEvent=t.JoinLinkRetrievalServiceSuccessEvent=t.ShortIdResolutionServiceErrorEvent=t.ShortIdResolutionServiceSuccessEvent=t.JoinLinkResolutionErrorEvent=t.GuestMeetingCreationServiceErrorEvent=t.GuestLoginAttemptEvent=t.GuestLoginAvailableEvent=t.GuestCreationSuccessEvent=t.GuestCreationServiceErrorEvent=t.WaitForJoinedKnowledgeTimedOutEvent=t.JoinAddMemberToThreadErrorEvent=t.JoinGroupConversationEvent=t.JoinLinkOrigin=void 0;const n=i(636076),o=i(496486),s=i(746096),a=i(500349),r=i(735370);var l;!function(e){e[e.WebLauncher=0]="WebLauncher",e[e.InClient=1]="InClient",e[e.Campaign=2]="Campaign",e[e.ExternalOther=3]="ExternalOther",e[e.QRCode=4]="QRCode",e[e.Unknown=5]="Unknown"}(l=t.JoinLinkOrigin||(t.JoinLinkOrigin={}));class c extends a.TelemetryEventBase{constructor(e){super(),this.props=e}getEventName(){return"join_conversation"}getAttributes(){const e=super.getAttributes();e.Action=this.getAction(),e.JoinLinkOrigin=l[this.props.joinLinkOrigin],e.PreSisu=this.props.preSisu,e.NavigationConversationOrigin=s.NavigationConversationOrigin[this.props.navigationConversationOrigin];const t=r.getTrackableConversationId(this.props.conversationId);return t&&(e.ConversationId=t),o.isUndefined(this.props.browserOrigin)||(e.BrowserOrigin=s.BrowserOrigin[this.props.browserOrigin]),e}}t.JoinGroupConversationEvent=class extends c{constructor(e){super(e),this.props=e}getAction(){return"JoinGroupConversation"}getAttributes(){const e=super.getAttributes();return e.ExistingMember=this.props.existingMember,e}};t.JoinAddMemberToThreadErrorEvent=class extends c{constructor(e){super(e),this.props=e}getAction(){return"AddMemberToThreadError"}getAttributes(){const e=super.getAttributes();return e.StatusCode=this.props.statusCode,e.TimedOut=this.props.timedOut,o.isUndefined(this.props.statusText)||(e.StatusText=this.props.statusText),o.isUndefined(this.props.contextId)||(e.ContextId=this.props.contextId),o.isUndefined(this.props.date)||(e.Date=this.props.date),o.isUndefined(this.props.errorCode)||(e.ErrorCode=this.props.errorCode),o.isUndefined(this.props.errorMessage)||(e.ErrorMessage=this.props.errorMessage),e}};t.WaitForJoinedKnowledgeTimedOutEvent=class extends c{constructor(e){super(e),this.props=e}getAction(){return"WaitForJoinedKnowledgeTimedOut"}getAttributes(){const e=super.getAttributes();return e.TimeoutDurationInMs=this.props.timeoutDurationInMs,e}};class d extends a.TelemetryEventBase{getEventName(){return"join_guest"}getLoggedOutSendingPolicy(){return a.TelemetryEventLoggedOutPolicy.SendNow}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}class u extends d{constructor(e){super(),this.props=e}getAction(){return"GuestCreationError"}getAttributes(){const e=super.getAttributes();return o.isUndefined(this.props.requestId)||(e.RequestId=this.props.requestId),e.TimedOut=this.props.timedOut,e.StatusCode=this.props.statusCode,e.Url=this.props.url,e}}t.GuestCreationServiceErrorEvent=u;t.GuestCreationSuccessEvent=class extends d{getAction(){return"GuestCreationSuccess"}};t.GuestLoginAvailableEvent=class extends d{getAction(){return"GuestLoginAvailable"}};t.GuestLoginAttemptEvent=class extends d{getAction(){return"GuestLoginAttempt"}};t.GuestMeetingCreationServiceErrorEvent=class extends u{getAction(){return"GuestMeetingCreationServiceError"}};class g extends a.TelemetryEventBase{getEventName(){return"join_link_resolution"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}t.JoinLinkResolutionErrorEvent=class extends g{constructor(e){super(),this.props=e}getAction(){return"JoinLinkResolutionError"}getAttributes(){const e=super.getAttributes();return e.ResolutionError=this.props.resolutionError,e}getPiiAttributes(){const e=super.getPiiAttributes();return e.UriToResolve={value:this.props.uriToResolve,piiKind:n.AWTPiiKind.Uri},e}};class h extends g{constructor(e){super(),this.props=e}getAttributes(){const e=super.getAttributes(),t=r.getTrackableConversationId(this.props.convId);return t&&(e.ConversationId=t),e}getPiiAttributes(){const e=super.getPiiAttributes();return e.ShortId={value:this.props.shortId,piiKind:n.AWTPiiKind.Identity},e}}t.ShortIdResolutionServiceSuccessEvent=class extends h{getAction(){return"ShortIdResolutionServiceSuccess"}};t.ShortIdResolutionServiceErrorEvent=class extends h{constructor(e){super(e),this.props=e}getAction(){return"ShortIdResolutionServiceError"}getAttributes(){const e=super.getAttributes();return o.isUndefined(this.props.requestId)||(e.RequestId=this.props.requestId),e.TimedOut=this.props.timedOut,e.StatusCode=this.props.statusCode,e}};class p extends a.TelemetryEventBase{getEventName(){return"join_link_retrieval"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}class S extends p{constructor(e){super(),this.props=e}getAttributes(){const e=super.getAttributes(),t=r.getTrackableConversationId(this.props.conversationId);return t&&(e.ConversationId=t),e}getPiiAttributes(){const e=super.getPiiAttributes();return this.props.shortId&&(e.ShortId={value:this.props.shortId,piiKind:n.AWTPiiKind.Identity}),e}}t.JoinLinkRetrievalServiceSuccessEvent=class extends S{getAction(){return"JoinLinkRetrievalServiceSuccess"}};t.JoinLinkRetrievalServiceErrorEvent=class extends S{constructor(e){super(e),this.props=e}getAction(){return"JoinLinkRetrievalServiceError"}getAttributes(){const e=super.getAttributes();return o.isUndefined(this.props.requestId)||(e.RequestId=this.props.requestId),e.IsTimedOut=this.props.timedOut,e.StatusCode=this.props.statusCode,e.Url=this.props.url,e}}},32806:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getLastReportedMaxEntryPoint=t.getMaxEntryPoint=t.trackEntryPoint=t.startingUi=void 0;const n=i(516778),o=i(300060),s=i(889391),a=i(746096),r=i(746096),l=i(436237),c=i(916724),d=i(306819),u=i(930428),g=i(640363),h=i(912770),p=1e4;let S,m,C,y,f,b=0,_=!1;function v(){const e=n.App.getActivationState()===n.Types.AppActivationState.Active;e!==_&&(_=e,e?P(a.AppEntryPoint.Foregrounded):S&&(h.default.clearTimeout(S),T()))}function T(){S=void 0;let e=d.default.getMccCode(),t=d.default.getMncCode();e&&t||(e=g.default.getMccCode(),t=g.default.getMncCode()),l.log(r.LogTraceArea.Startup,"Sending KpiActivityStarted: "+a.AppEntryPoint[C]);const i=new c.KpiActivityStarted({startTime:y,entryPoint:C,isSuggestionsEnabled:u.default.getSuggestionsEnabled(),mccCode:e,mncCode:t,startUiParams:f});l.track(i),y=void 0,C=void 0,f={}}function P(e){(!C||e>C)&&(C=e,m=C,b=Date.now()+s.default.getS4LSisuFeatures().msaConvergenceFlags.entryPointStalenessWindow,y=Date.now()),S||(S=h.default.setTimeout(T,p))}t.startingUi=function(e){P(a.AppEntryPoint.Opened),o.default.subscribeForChanges("KpiActivityStartedTelemetryService",v),v(),f=e},t.trackEntryPoint=P,t.getMaxEntryPoint=function(){return C},t.getLastReportedMaxEntryPoint=function(e=!1){return C||(Date.now()<b||e?m:void 0)}},916724:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileReceived=t.FileSent=t.KpiLongPollFailure=t.KpiLongPoll=t.KpiChatSyncFailure=t.KpiChatSync=t.KpiAppStart=t.KpiActivityStarted=t.KpiMessageDelivered=t.KpiMessageSent=void 0;const n=i(636076),o=i(496486),s=i(889391),a=i(225638),r=i(260021),l=i(351077),c=i(671830),d=i(440276),u=i(746096),g=i(18078),h=i(680457),p=i(640363),S=i(500349),m=i(735370),C=i(500787);class y extends S.TelemetryEventBase{getAriaTenantTokenOverride(){return p.default.getAriaTelemetryTenantToken()}shouldSend(){const e=this.getTelemetryConfig();return!!e&&e.enabled}getAttributes(){return o.assign(super.getAttributes(),{DeviceInfo_Os_Version:p.default.getOSVersion(),Client_Name:"SkypeX"})}getEventTraceMode(){return S.TelemetryTraceMode.EventName}}class f extends C.PriorityTelemetryEventBase{getAriaTenantTokenOverride(){return p.default.getAriaTelemetryTenantToken()}shouldSend(){const e=this.getTelemetryConfig();return!!e&&e.enabled}getAttributes(){return o.assign(super.getAttributes(),{DeviceInfo_Os_Version:p.default.getOSVersion(),Client_Name:"SkypeX"})}getEventTraceMode(){return S.TelemetryTraceMode.EventName}}class b extends f{constructor(e,t,i,n,o,s,a){super(),this._conversationId=e,this._cmid=t,this._creator=i,this._registrationId=n,this._chatServiceEndpointInfo=o,this._serverMessageId=s,this._hasAnyCall=a}shouldSend(){if(!super.shouldSend())return!1;if(!this._cmid)return!1;const e=this.getTelemetryConfig();return!(!s.default.dangerouslyGetS4LMessagingFeatures().magicBotTelemetrySamplingOverride||this._creator!==s.default.dangerouslyGetS4LMessagingFeatures().magicBotId)||m.shouldTrackMessage(this._cmid,e)}getCorrelationAttributes(){return{Message_Correlation_Id:r.getCorrelationIdFromMessageParts(this._creator,this._conversationId,this._cmid)}}getAttributes(){const e=1/(this.getTelemetryConfig().percentage/100),t={Client_Message_Id:this._cmid||"",Event_Sampling_Value:e,Registration_Id:this._registrationId||"",Endpoint_Id:this._chatServiceEndpointInfo&&this._chatServiceEndpointInfo.id||"",Server_Message_Id:this._serverMessageId||"",IsAnyCallOngoing:this._hasAnyCall,MriNamespace:c.getMriNamespace(this._conversationId)},i=c.getThreadSuffix(this._conversationId);i&&(t.ThreadSuffix=i);const n=m.getTrackableConversationId(this._conversationId);return n&&(t.Conversation_Id=n),o.assign({},super.getAttributes(),t)}}class _ extends y{shouldSend(){if(super.shouldSend()){if(void 0===this._shouldRandomlySend){const e=this.getTelemetryConfig();this._shouldRandomlySend=100*d.random()<e.percentage}return this._shouldRandomlySend}return!1}}t.KpiMessageSent=class extends b{constructor(e,t,i,n,o,s,a,r,l,d,u,h,p,S,m,C,y,f){super(e,t.clientmessageid,c.skypeIdToMri(g.default.getSkypeId()),l,d,p,S),this._message=t,this._conversationMemberCount=i,this._queueTime=n,this._blockedTime=o,this._sendingTime=s,this._retryCount=a,this._rawContentLength=r,this._contextId=u,this._date=h,this._backgroundedTime=m,this._hasAppStart=C,this._connectionType=y,this._triggeredBy=f}getEventName(){return"kpi_message_sent"}getTelemetryConfig(){return S.TelemetryConfig.kpi_message_sent}getAttributes(){let e=super.getAttributes();return e.Sending_Time=this._sendingTime,e.Queue_Time=this._queueTime,e.Blocked_Time=this._blockedTime,e.Retry_Count=this._retryCount,e.context_id=this._contextId,e.date=this._date,e.BackgroundedTime=this._backgroundedTime,e.HasAppRestart=this._hasAppStart,e.ConnectionType=u.ChatServiceConnectionType[this._connectionType],e.TriggeredBy=h.PostingTrigger[this._triggeredBy],e=m.getCommonAttributesMessageSent(e,this._conversationId,this._eventCreationTime,this._message,this._conversationMemberCount,this._rawContentLength),this._message.properties&&this._message.properties[l.MessageProperties.AlbumId]&&(e.AlbumId=this._message.properties[l.MessageProperties.AlbumId].toString()),e}getEventPriority(){return s.default.getS4LTelemetryFeaturesNoSubscription().priorityEventList.includes(this.getEventName())?super.getEventPriority():n.AWTEventPriority.High}};t.KpiMessageDelivered=class extends b{constructor(e,t,i,n,o,s,a,r,l,c,d){super(e.conversationId,n,e.creator,o,s,e.getOriginalServerId(),r),this._message=e,this._messageOrigin=t,this._notificationResult=i,this._messageAlreadySeen=a,this._originsCount=l,this._correlationVector=c,this._messageStoreUsed=d}shouldSend(){return!this._message.isMessageLie()&&!this._message.isPropertyLie()&&(this._messageOrigin===u.MessageOrigin.ChatSync||this._messageOrigin===u.MessageOrigin.LongPoll||this._messageOrigin===u.MessageOrigin.PushNotification||this._messageOrigin===u.MessageOrigin.Trouter)&&super.shouldSend()}getEventName(){return"kpi_message_delivered"}getTelemetryConfig(){return S.TelemetryConfig.kpi_message_delivered}getAttributes(){const e=Number(this._message.getLatestServerMessageVersion()),t=e?this._eventCreationTime-e:"",i=o.assign({},super.getAttributes(),{Group_Conversation:c.isGroupConversation(this._message.conversationId),IsEncryptedConversation:c.isEncryptedThread(this._message.conversationId),Delivery_Timestamp:this._eventCreationTime,Message_Origin:u.MessageOrigin[this._messageOrigin],My_Message:g.default.isMyMri(this._message.creator),Notification_Result:u.MessageProcessResult[this._notificationResult],MessageAlreadySeen:void 0===this._messageAlreadySeen?"":this._messageAlreadySeen,DeliveryDelay:t,Time_From_Startup:Date.now()-p.default.getAppInitTime(),Message_Type:m.getMessageTypeName(this._message,this._message.creator,this._message.conversationId),OriginsCount:this._originsCount,MessageRawType:m.getMessageRawTypeName(this._message,this._message.creator,this._message.conversationId),MessageStoreUsed:this._messageStoreUsed});return this._message.hasAlbumId()&&(i.AlbumId=this._message.getAlbumId()),this._correlationVector&&(i.CorrelationVector=this._correlationVector),i}};t.KpiActivityStarted=class extends f{constructor(e){super(),this._params=e}getEventName(){return"kpi_inapp_activity_start"}getTelemetryConfig(){return S.TelemetryConfig.kpi_inapp_activity_start}getAttributes(){const e=o.assign(super.getAttributes(),{Foreground_Start_Time:this._params.startTime,Entry_Point:u.AppEntryPoint[this._params.entryPoint],IsSuggestionsEnabled:this._params.isSuggestionsEnabled,NetworkMCCCode:this._params.mccCode||"",NetworkMNCCode:this._params.mncCode||""}),{meetNowAction:t,meetNowSource:i,correlationId:n}=this._params.startUiParams;t&&(e.MeetNowAction=t),i&&(e.MeetNowSource=i),n&&(e.CorrelationId=n),this._params.startUiParams.conversationId&&(e.ConversationId=this._params.startUiParams.conversationId);const a=s.default.getS4LCMCFeaturesNoSubscription().clientCountry;a&&(e.ClientCountry=a);const r=s.default.getS4LMessagingFeaturesNoSubscription().ued;return r&&r.enabled&&r.consumeEvents&&(e.IsUedEventProcessingEnabled=!0),e}};t.KpiAppStart=class extends y{getEventName(){return"kpi_client_init"}getTelemetryConfig(){return S.TelemetryConfig.kpi_client_init}getAttributes(){return o.assign(super.getAttributes(),{Init_Timestamp:p.default.getAppInitTime()})}};t.KpiChatSync=class extends _{constructor(){super(...arguments),this._backgrounded=!1}getEventName(){return"kpi_chatsync_complete"}getTelemetryConfig(){return S.TelemetryConfig.kpi_chatsync_complete}getAttributes(){const e=o.assign(super.getAttributes(),{sync_time:this._endTime-this._eventCreationTime,ran_in_background:this._backgrounded});return this._syncData&&o.assign(e,{synced_conversations:this._syncData.conversationsCount,synced_messages:this._syncData.messagesCount,is_first_sync:this._syncData.isFirstSync,is_full_sync:this._syncData.isFullSync}),e}endSync(e){this._endTime=Date.now(),this._syncData=e}markBackgrounded(){this._backgrounded=!0}};t.KpiChatSyncFailure=class extends _{constructor(e){super(),this._responseCode=e}getEventName(){return"kpi_chatsync_failed"}getTelemetryConfig(){return S.TelemetryConfig.kpi_chatsync_failed}getAttributes(){return o.assign(super.getAttributes(),{response_code:this._responseCode})}};t.KpiLongPoll=class extends _{constructor(e,t,i){super(),this._events=e,this._requestDuration=t,this._activeTimeout=i}getEventName(){return"kpi_longpoll_complete"}getTelemetryConfig(){return S.TelemetryConfig.kpi_longpoll_complete}getAttributes(){const e={EventCountTotal:this._events.length,RequestDuration:this._requestDuration};return o.isUndefined(this._activeTimeout)||(e.ActiveTimeout=this._activeTimeout),o.each(this._events,(t=>{const i="EventCount"+this._getNormalizedResourceType(t);e[i]?e[i]=e[i]+1:e[i]=1})),o.assign({},super.getAttributes(),e)}_getNormalizedResourceType(e){switch(e.resourceType){case"CustomUserProperties":case"ConversationUpdate":case"ThreadUpdate":case"NewMessage":case"MessageUpdate":case"EndpointPresence":case"UserPresence":case"ReadReceipt":case"SignalRelay":return e.resourceType;default:return"Unknown"}}};t.KpiLongPollFailure=class extends _{constructor(e,t,i=!0,n){super(),this._responseCode=e,this._requestDuration=t,this._processedEvents=i,this._activeTimeout=n}getEventName(){return"kpi_longpoll_failed"}getTelemetryConfig(){return S.TelemetryConfig.kpi_longpoll_failed}getAttributes(){const e={ResponseCode:this._responseCode,RequestDuration:this._requestDuration,DidProcessEvents:this._processedEvents};return o.isUndefined(this._activeTimeout)||(e.ActiveTimeout=this._activeTimeout),o.assign({},super.getAttributes(),e)}};t.FileSent=class extends y{constructor(e,t,i,n,o,s,a){super(),this._conversationIds=e,this._source=t,this._extension=i,this._fileSize=n,this._viewId=o,this._documentId=s,this._messagesForPosting=a,this._failureReason=u.MessagingFailureReason.None,this._uploadStartTime=-1,this._uploadDuration=-1}getEventName(){return"file_sent"}getTelemetryConfig(){return S.TelemetryConfig.file_sent}getCorrelationAttributes(){return super.getCorrelationAttributes()}getAttributes(){const e=o.keys(this._messagesForPosting),t=super.getAttributes(),i=e[0];return t.Message_Type=m.getMessageTypeName(this._messagesForPosting[i],g.default.getSkypeMri(),i),t.Size=this._fileSize?this._fileSize:-1,t.Source=u.PostSource[this._source],t.Success=this._success,t.UploadDuration=this._uploadDuration,t.Extension=this._extension,t.NumOfConvs=this._conversationIds.length,t.Reason=u.MessagingFailureReason[this._failureReason],t.ViewId=this._viewId,t.DocId=this._documentId,t.FinishedAttemptsCount=this._finishedAttemptsSoFar||"",t.ResponseStatusCode=this._responseStatusCode||"",t}setSuccess(e,t,i,n,o,s){this._success=e,this._failureReason=t,this._finishedAttemptsSoFar=i,this._responseStatusCode=n,this._uploadStartTime=o,this._uploadDuration=s}};t.FileReceived=class extends y{constructor(e,t,i){super(),this._uri=e,this._size=t,this._extension=i,this._downloadDuration=-1,this._downloadStartTime=-1}getEventName(){return"file_received"}getTelemetryConfig(){return S.TelemetryConfig.file_received}getAttributes(){const e=new a.default(this._uri);let t;return this._downloadDuration>0&&this._size&&(t=1e3*this._size/(1024*this._downloadDuration)),o.assign(super.getAttributes(),{Success:this._success||"",DownloadDuration:this._downloadDuration,Intent:this._intent?u.MediaDownloadIntent[this._intent]:"",MediaProfile:this._mediaProfile||"",Extension:this._extension||"",ViewId:e.getViewId()||"",DocId:e.getDocumentId()||"",FailureReason:u.MessagingFailureReason[this._failureReason],Size:this._size||"",DownloadSpeed:t||"",FinishedAttemptsCount:this._finishedAttemptsSoFar||"",ResponseStatusCode:this._responseStatusCode||"",ErrorInfo:this._errorInfo||""})}setSuccess(e,t=u.MessagingFailureReason.None,i=1,n=void 0,o=""){this._success=e,this._failureReason=t,this._finishedAttemptsSoFar=i,this._responseStatusCode=n,this._errorInfo=o}setIntent(e){this._intent=e}setMediaProfile(e){this._mediaProfile=e}startDownload(){this._downloadStartTime=Date.now()}endDownload(){this._downloadDuration=Date.now()-this._downloadStartTime}setDownloadDuration(e){this._downloadDuration=e}}},614532:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageUIChangedEvent=t.LanguageSlashCommandChangedEvent=void 0;const n=i(640363),o=i(500349);class s extends o.TelemetryEventBase{constructor(e,t){super(),this._fromLlcc=e,this._toLlcc=t}getEventName(){return"language"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.FromLlcc=this._fromLlcc,e.ToLlcc=this._toLlcc,e.CurrentCountryCode=n.default.getCountryCode()||"Unknown",e}}t.LanguageSlashCommandChangedEvent=class extends s{getActionName(){return"slashcommand_change_language"}};t.LanguageUIChangedEvent=class extends s{getActionName(){return"ui_change_language"}}},454086:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LensFallbackAndroid=t.LensFallbackMode=t.LensSaveiOS=t.LensLaunchiOS=t.LensSaveAndroid=t.LensLaunchAndroid=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(){super()}getAttributes(){return super.getAttributes()}}t.LensLaunchAndroid=class extends o{constructor(e){super(),this._launchEvent=e}getEventName(){return"Office_Lens_LensSdk_LaunchLensAndroid"}getAttributes(){const e=super.getAttributes();return e.SessionId=this._launchEvent.SessionId||"",e.LensSdkVersion=this._launchEvent.LensSdkVersion||"",e.TelemetryEventTimestamp=this._launchEvent.TelemetryEventTimestamp||"",e.CurrentWorkFlowType=this._launchEvent.CurrentWorkFlowType||"",e.SDKMode=this._launchEvent.SDKMode||"",e.LaunchPerf=this._launchEvent.LaunchPerf||"",e.CameraXBindUsecasesToPreview=this._launchEvent.CameraXBindUsecasesToPreview||"",e.CameraXBindUsecasesApi=this._launchEvent.CameraXBindUsecasesApi||"",e.IsEmbeddedLaunch=this._launchEvent.IsEmbeddedLaunch||"",e.RecoveryMode=this._launchEvent.RecoveryMode||"",e.IsDexModeEnabled=this._launchEvent.IsDexModeEnabled||"",e.IsInterimCropEnabled=this._launchEvent.IsInterimCropEnabled||"",e.IsMultiWindowEnabled=this._launchEvent.IsMultiWindowEnabled||"",e.IsTalkBackEnabled=this._launchEvent.IsTalkBackEnabled||"",e}};t.LensSaveAndroid=class extends o{constructor(e){super(),this._launchEvent=e}getEventName(){return"Office_Lens_LensSdk_SaveMediaAndroid"}getAttributes(){const e=super.getAttributes();return e.SessionId=this._launchEvent.SessionId||"",e.LensSdkVersion=this._launchEvent.LensSdkVersion||"",e.TelemetryEventTimestamp=this._launchEvent.TelemetryEventTimestamp||"",e.CurrentWorkFlowType=this._launchEvent.CurrentWorkFlowType||"",e.MediaId=this._launchEvent.MediaId||"",e.Source=this._launchEvent.Source||"",e.ProcessMode=this._launchEvent.ProcessMode||"",e.Filter=this._launchEvent.Filter||"",e.FileSizeBeforeCleanUp=this._launchEvent.FileSizeBeforeCleanUp||"",e.ImageWidthBeforeCleanUp=this._launchEvent.ImageWidthBeforeCleanUp||"",e.ImageHeightBeforeCleanUp=this._launchEvent.ImageHeightBeforeCleanUp||"",e.FileSizeAfterCleanUp=this._launchEvent.FileSizeAfterCleanUp||"",e.ImageWidthAfterCleanUp=this._launchEvent.ImageWidthAfterCleanUp||"",e.ImageHeightAfterCleanUp=this._launchEvent.ImageHeightAfterCleanUp||"",e.FileSizeAfterSave=this._launchEvent.FileSizeAfterSave||"",e.Reason=this._launchEvent.Reason||"",e.Duration=this._launchEvent.Duration||0,e.TrimmedDuration=this._launchEvent.TrimmedDuration||0,e.OriginalVideoFileSize=this._launchEvent.OriginalVideoFileSize||0,e}};t.LensLaunchiOS=class extends o{constructor(e){super(),this._launchEvent=e}getEventName(){return"Office_Lens_LensSdk_LaunchLensiOS"}getAttributes(){const e=super.getAttributes();return e.Lens_SessionId=this._launchEvent.Lens_SessionId||"",e.version=this._launchEvent.version||"",e.currentWorkflowId=this._launchEvent.currentWorkflowId||"",e.LensEventName=this._launchEvent.LensEventName||"",e.defaultWorkflow=this._launchEvent.defaultWorkflow||"",e.imageDPI=this._launchEvent.imageDPI||"",e.isExistingUser=this._launchEvent.isExistingUser||"",e.isFirstLaunch=this._launchEvent.isFirstLaunch||"",e.isResumeSession=this._launchEvent.isResumeSession||"",e.launchReason=this._launchEvent.launchReason||"",e.launchWorkflowItem=this._launchEvent.launchWorkflowItem||"",e.mediaCompressionFactor=this._launchEvent.mediaCompressionFactor||"",e}};t.LensSaveiOS=class extends o{constructor(e){super(),this._saveEvent=e}getEventName(){return"Office_Lens_LensSdk_SaveMediaiOS"}getAttributes(){const e=super.getAttributes();return e.Lens_SessionId=this._saveEvent.Lens_SessionId||"",e.version=this._saveEvent.version||"",e.currentWorkflowId=this._saveEvent.currentWorkflowId||"",e.LensEventName=this._saveEvent.LensEventName||"",e.mediaId=this._saveEvent.mediaId||"",e.source=this._saveEvent.source||"",e.mode=this._saveEvent.mode||"",e.filter=this._saveEvent.filter||"",e.imageSize=this._saveEvent.imageSize||"",e.imageDPI=this._saveEvent.imageDPI||"",e.sizeinPixel=this._saveEvent.sizeinPixel||"",e.ImageEntity=this._saveEvent.ImageEntity||"",e.Ink=this._saveEvent.Ink||"",e.TextSticker=this._saveEvent.TextSticker||"",e.orignalImageSize=this._saveEvent.orignalImageSize||"",e.processedImageSize=this._saveEvent.processedImageSize||"",e.VideoEntity=this._saveEvent.VideoEntity||"",e.duration=this._saveEvent.duration||"",e}},function(e){e.TakePicture="TakePicture",e.RecordVideo="RecordVideo",e.PickFromGallery="PickFromGallery"}(t.LensFallbackMode||(t.LensFallbackMode={}));t.LensFallbackAndroid=class extends o{constructor(e){super(),this._mode=e}getEventName(){return"Office_Lens_Fallback_Android"}getAttributes(){const e=super.getAttributes();return e.Mode=this._mode||"",e}}},692352:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageUsageSignal=void 0;const n=i(500349);class o extends n.TelemetryEventBase{getEventName(){return"local_storage_usage"}}t.LocalStorageUsageSignal=o},546705:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocationViewerOpenMaps=t.LocationViewerOpenGoogleMaps=t.LocationViewerOpen=t.LocationPickerResolveAddressFailed=t.LocationPickerResolveAddress=t.LocationPickerNearByFetchingFailed=t.LocationPickerNearbyClicked=t.LocationPickerNearByFetching=t.LocationPickerNavigationClose=t.LocationPickerNavigationOpen=t.LocationPickerSearchCancel=t.LocationPickerSearchStart=t.LocationPickerPermissionsChanged=t.LocationPickerGeolocationFetchedFailed=t.LocationPickerGeolocationFetched=t.LocationPickerSend=t.LocationAction=t.LocationStoreGeolocationFetchedFailed=t.LocationStoreGeolocationFetched=void 0;const n=i(260021),o=i(671830),s=i(500349),a=i(735370);class r extends s.TelemetryEventBase{getEventName(){return"caap_location"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class l extends r{constructor(e,t){super(),this._isHighAccurracy=e,this._durationInMs=t}getActionName(){return"Fetched"}getAttributes(){const e=super.getAttributes();return e.IsFetchHighAccuracy=this._isHighAccurracy,e.FetchDuration=this._durationInMs,e}}t.LocationStoreGeolocationFetched=l;var c;t.LocationStoreGeolocationFetchedFailed=class extends l{constructor(e,t,i,n,o){super(e,t),this._isTimeout=i,this._isPermissionDenied=n,this._isPositionUnavailable=o}getActionName(){return"Failed"}getAttributes(){const e=super.getAttributes();return e.IsFailedTimeout=this._isTimeout,e.IsDeniedPermission=this._isPermissionDenied,e.IsUnavailablePosition=this._isPositionUnavailable,e}},function(e){e[e.LocationPickerSend=0]="LocationPickerSend",e[e.LocationPickerGeolocationFetched=1]="LocationPickerGeolocationFetched",e[e.LocationPickerGeolocationFetchedFailed=2]="LocationPickerGeolocationFetchedFailed",e[e.LocationPickerPermissionsChanged=3]="LocationPickerPermissionsChanged",e[e.LocationPickerSearchStart=4]="LocationPickerSearchStart",e[e.LocationPickerSearchCancel=5]="LocationPickerSearchCancel",e[e.LocationPickerNavigationOpen=6]="LocationPickerNavigationOpen",e[e.LocationPickerNavigationClose=7]="LocationPickerNavigationClose",e[e.LocationPickerNearByFetching=8]="LocationPickerNearByFetching",e[e.LocationPickerNearByClicked=9]="LocationPickerNearByClicked",e[e.LocationPickerNearByFetchingFailed=10]="LocationPickerNearByFetchingFailed",e[e.LocationPickerResolveAddress=11]="LocationPickerResolveAddress",e[e.LocationPickerResolveAddressFailed=12]="LocationPickerResolveAddressFailed",e[e.LocationViewerOpen=13]="LocationViewerOpen",e[e.LocationViewerOpenGoogleMaps=14]="LocationViewerOpenGoogleMaps",e[e.LocationViewerOpenMaps=15]="LocationViewerOpenMaps"}(c=t.LocationAction||(t.LocationAction={}));class d extends s.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"messaging_location"}getEventTraceMode(){return s.TelemetryTraceMode.EventName}getAttributes(){const e=super.getAttributes();return e.Action=c[this._action],e}}class u extends d{constructor(e,t){super(e),this._type=t}getAttributes(){const e=super.getAttributes();return e.LocationPickerType=this._type,e}}t.LocationPickerSend=class extends u{constructor(e){super(c.LocationPickerSend,e)}};class g extends u{constructor(e,t,i,n,o,s){super(s||c.LocationPickerGeolocationFetched,e),this._originator=t,this._isHighAccurracy=i,this._isComponentMounted=n,this._durationInMs=o}getAttributes(){const e=super.getAttributes();return e.Originator=this._originator,e.IsHighaccurracy=this._isHighAccurracy,e.IsComponentMounted=this._isComponentMounted,e.DurationInMs=this._durationInMs,e}}t.LocationPickerGeolocationFetched=g;t.LocationPickerGeolocationFetchedFailed=class extends g{constructor(e,t,i,n,o,s,a,r){super(e,t,i,n,o,c.LocationPickerGeolocationFetchedFailed),this._isTimeout=s,this._isPermissionDenied=a,this._isPositionUnavailable=r}getAttributes(){const e=super.getAttributes();return e.IsTimeout=this._isTimeout,e.IsPermissionDenied=this._isPermissionDenied,e.IsPositionUnavailable=this._isPositionUnavailable,e}};t.LocationPickerPermissionsChanged=class extends u{constructor(e,t,i){super(c.LocationPickerPermissionsChanged,e),this._oldPermission=t,this._newPermission=i}getAttributes(){const e=super.getAttributes();return e.OldPermission=this._oldPermission,e.NewPermission=this._newPermission,e}};t.LocationPickerSearchStart=class extends u{constructor(e){super(c.LocationPickerSearchStart,e)}};t.LocationPickerSearchCancel=class extends u{constructor(e){super(c.LocationPickerSearchCancel,e)}};t.LocationPickerNavigationOpen=class extends u{constructor(e){super(c.LocationPickerNavigationOpen,e)}};t.LocationPickerNavigationClose=class extends u{constructor(e){super(c.LocationPickerNavigationClose,e)}};class h extends u{constructor(e,t,i,n){super(n||c.LocationPickerNearByFetching,e),this._isComponentMounted=t,this._durationInMs=i}getAttributes(){const e=super.getAttributes();return e.IsComponentMounted=this._isComponentMounted,e.DurationInMs=this._durationInMs,e}}t.LocationPickerNearByFetching=h;t.LocationPickerNearbyClicked=class extends u{constructor(e){super(c.LocationPickerNearByClicked,e)}};t.LocationPickerNearByFetchingFailed=class extends h{constructor(e,t,i,n){super(e,t,i,c.LocationPickerNearByFetchingFailed),this._statusCode=n}getAttributes(){const e=super.getAttributes();return e.StatusCode=this._statusCode,e}};class p extends u{constructor(e,t,i,n,o){super(e,t),this._addressFound=i,this._isComponentMounted=n,this._durationInMs=o}getAttributes(){const e=super.getAttributes();return e.WasAddressFound=this._addressFound,e.IsComponentMounted=this._isComponentMounted,e.DurationInMs=this._durationInMs,e}}t.LocationPickerResolveAddress=class extends p{constructor(e,t,i,n){super(c.LocationPickerResolveAddress,e,t,i,n)}};t.LocationPickerResolveAddressFailed=class extends p{constructor(e,t,i,n){super(c.LocationPickerResolveAddressFailed,e,t,i,n)}};t.LocationViewerOpen=class extends d{constructor(e,t){super(c.LocationViewerOpen),this._conversationId=e,this._message=t,this._cmid=a.getClientMessageId(this._message),this._messageCorrelationId=n.getCorrelationIdFromMessageParts(this._message.creator,this._conversationId,this._cmid),this._isGroupConversation=o.isGroupConversation(this._conversationId)}getEventName(){return"location_viewer"}getCorrelationAttributes(){const e=super.getAttributes();return e.Message_Correlation_Id=this._messageCorrelationId,e.Client_Message_Id=this._cmid||"",e}getAttributes(){const e=super.getAttributes();e.location_viewer_operation="open_viewer",e.Clicked_Timestamp=this._eventCreationTime,e.Group_Conversation=this._isGroupConversation,e.Server_Message_Id=this._message.getOriginalServerId()||"";const t=a.getTrackableConversationId(this._message.conversationId);return t&&(e.Conversation_Id=t),e}};t.LocationViewerOpenGoogleMaps=class extends d{constructor(){super(c.LocationViewerOpenGoogleMaps)}};t.LocationViewerOpenMaps=class extends d{constructor(){super(c.LocationViewerOpenMaps)}}},710962:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PreSignOutPanelEvent=t.TokenIssueEvent=t.TokenIssueType=t.KeychainFailureEvent=t.LogoutEvent=t.StartupErrorEvent=t.RedirectToLoginEvent=void 0;const n=i(496486),o=i(746096),s=i(216568),a=i(500349);class r extends a.TelemetryEventBase{getEventName(){return"sisu_login_logout"}getAttributes(){return n.assign(super.getAttributes(),{Action:this.getActionName(),NodeId:s.default.CallingNodeId.get()||""})}getLoggedOutSendingPolicy(){return a.TelemetryEventLoggedOutPolicy.SendNow}}t.RedirectToLoginEvent=class extends r{constructor(e,t,i,n,o){super(),this._reason=e,this._errorCode=t,this._timeSinceLastRefresh=i,this._correlationId=n,this._msaTokenKeychainKey=o}getActionName(){return"RedirectToLogin"}getAttributes(){const e=n.assign(super.getAttributes(),{Reason:o.RedirectToLoginReason[this._reason]});return this._errorCode&&(e.ErrorCode=this._errorCode),this._timeSinceLastRefresh&&(e.TimeSinceLastRefresh=this._timeSinceLastRefresh),this._correlationId&&(e.ErrorCorrelationId=this._correlationId),this._msaTokenKeychainKey&&(e.MsaTokenKeychainKey=this._msaTokenKeychainKey),e}};t.StartupErrorEvent=class extends r{constructor(e,t){super(),this._error=e,this._appWakeupReason=t}getActionName(){return"StartupError"}getAttributes(){return n.assign(super.getAttributes(),{Error:this._error||"unknown",AppWakeupReason:this._appWakeupReason||"unknown"})}};t.LogoutEvent=class extends r{constructor(e,t){super(),this._reason=e,this._isSaveCredentials=t,this._attributes={Reason:o.LogoutReason[this._reason]},n.isUndefined(this._isSaveCredentials)||(this._attributes=n.assign(this._attributes,{IsSaveCredentials:this._isSaveCredentials}))}getActionName(){return"Logout"}getAttributes(){return n.assign(super.getAttributes(),this._attributes)}};var l;t.KeychainFailureEvent=class extends r{constructor(e,t,i){super(),this._failureType=e,this._tokenType=t,this._error=i,this._attributes={Error:this._error,FailureType:o.KeychainFailureType[this._failureType],TokenType:o.KeychainTokenType[this._tokenType]}}getActionName(){return"KeychainFailure"}getAttributes(){return n.assign(super.getAttributes(),this._attributes)}},function(e){e[e.EmptyToken=0]="EmptyToken",e[e.InvalidToken=1]="InvalidToken"}(l=t.TokenIssueType||(t.TokenIssueType={}));t.TokenIssueEvent=class extends r{constructor(e,t,i){super(),this._tokenType=e,this._tokenIssueType=t,this._source=i,this._attributes={TokenType:o.KeychainTokenType[this._tokenType],TokenIssueType:l[this._tokenIssueType],Source:this._source}}getActionName(){return"TokenIssue"}getAttributes(){return n.assign(super.getAttributes(),this._attributes)}};t.PreSignOutPanelEvent=class extends r{constructor(e,t){super(),this._actionType=e,this._source=t}getActionName(){return"PreSignOutPanelAction"}getAttributes(){const e=super.getAttributes();return e.Source=this._source,e.ActionType=this._actionType,e}}},752869:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MagicBotToolboxItemClick=t.MagicBotToolboxSectionClick=t.MagicBotToolboxOpen=t.MagicBotToolboxOrigin=t.MagicBotOneOnOneToggle=t.MagicBotOneOnOneToggleOrigin=t.MagicBotOneOnOneMessageSent=t.MagicBotAutoAddedByMention=t.PreviewLabelClicked=t.WaitListPopCardOpenedViaConversation=t.MagicBotWaitListClicked=t.MagicBotConsentGivenOnWelcome=t.MagicBotConsentGivenOnSendAttempt=t.MagicBotMentionedByClick=t.MagicBotUnpin=t.MagicBotPin=void 0;const n=i(500349);class o extends n.TelemetryEventBase{getEventName(){return"messaging_magicbot"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.MagicBotPin=class extends o{getActionName(){return"MagicBotPin"}};t.MagicBotUnpin=class extends o{getActionName(){return"MagicBotUnpin"}};t.MagicBotMentionedByClick=class extends o{getActionName(){return"MagicBotMentionedByClick"}};t.MagicBotConsentGivenOnSendAttempt=class extends o{getActionName(){return"MagicBotConsentGivenOnSendAttempt"}};t.MagicBotConsentGivenOnWelcome=class extends o{getActionName(){return"MagicBotConsentGivenOnWelcome"}};t.MagicBotWaitListClicked=class extends o{getActionName(){return"MagicBotWaitListClicked"}};t.WaitListPopCardOpenedViaConversation=class extends o{getActionName(){return"WaitListPopCardOpenedViaConversation"}};t.PreviewLabelClicked=class extends o{getActionName(){return"PreviewLabelClicked"}};t.MagicBotAutoAddedByMention=class extends o{getActionName(){return"MagicBotAutoAddedByMention"}};var s,a;t.MagicBotOneOnOneMessageSent=class extends o{getActionName(){return"MagicBotOneOnOneMessageSent"}},function(e){e[e.Settings=0]="Settings",e[e.Message=1]="Message"}(s=t.MagicBotOneOnOneToggleOrigin||(t.MagicBotOneOnOneToggleOrigin={}));t.MagicBotOneOnOneToggle=class extends o{constructor(e,t){super(),this._origin=e,this._enabled=t}getActionName(){return"MagicBotOneOnOneToggle"}getAttributes(){const e=super.getAttributes();return e.Origin=s[this._origin],e.Enabled=this._enabled,e}},function(e){e[e.ConversationHeader=0]="ConversationHeader",e[e.Suggestion=1]="Suggestion",e[e.MediaBarGroup=2]="MediaBarGroup",e[e.SuggestionGroup=3]="SuggestionGroup"}(a=t.MagicBotToolboxOrigin||(t.MagicBotToolboxOrigin={}));t.MagicBotToolboxOpen=class extends o{constructor(e){super(),this._origin=e}getActionName(){return"ToolboxOpen"}getAttributes(){const e=super.getAttributes();return e.Origin=a[this._origin],e}};t.MagicBotToolboxSectionClick=class extends o{constructor(e){super(),this._sectionId=e}getActionName(){return"ToolboxSectionClick"}getAttributes(){const e=super.getAttributes();return e.SectionId=this._sectionId,e}};t.MagicBotToolboxItemClick=class extends o{constructor(e,t){super(),this._sectionId=e,this._itemId=t}getActionName(){return"ToolboxItemClick"}getAttributes(){const e=super.getAttributes();return e.SectionId=this._sectionId,e.ItemId=this._itemId,e}}},318743:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioMessageCancelEvent=t.FilesSentViaPicker=t.FilePickerOrigin=t.MediaBarItemPressed=void 0;const n=i(671830),o=i(753559),s=i(238915),a=i(478262),r=i(500349);class l extends r.TelemetryEventBase{constructor(e,t,i,o){super(),this._mediaBarItem=e,this._isActive=t,this._conversationId=i,this._origin=o,this._isGroupConversation=n.isGroupConversation(this._conversationId),this._isEncryptedConversation=n.isEncryptedThread(this._conversationId)}getEventName(){return"messaging_media_bar"}getAttributes(){const e=super.getAttributes();return e.MediaBarItem=this._mediaBarItem,e.IsActive=this._isActive,e.IsGroupConversation=this._isGroupConversation,e.IsEncryptedConversation=this._isEncryptedConversation,e.Origin=s.MediaBarItemOrigin[this._origin],e.IsMyBotConversation=n.isMyBotConversation(this._conversationId),e}}var c;t.MediaBarItemPressed=l,function(e){e[e.MediaPickerItem=0]="MediaPickerItem",e[e.FilePickerItem=1]="FilePickerItem",e[e.MessageComposer=2]="MessageComposer",e[e.DesktopGalleryPanel=3]="DesktopGalleryPanel",e[e.GalleryMediaList=4]="GalleryMediaList",e[e.DragAndDropToMessagePanel=5]="DragAndDropToMessagePanel",e[e.DragAndDropToRecentConversationsLists=6]="DragAndDropToRecentConversationsLists",e[e.DragAndDropToAvatarPicker=7]="DragAndDropToAvatarPicker",e[e.DragAndDropToGallery=8]="DragAndDropToGallery",e[e.CapturePreview=9]="CapturePreview",e[e.MediaPreview=10]="MediaPreview"}(c=t.FilePickerOrigin||(t.FilePickerOrigin={}));class d extends r.TelemetryEventBase{constructor(e,t,i,n){super(),this._origin=e,this._limitValue=t,this._wasOverLimit=i,this._filesExtensions=n}getEventName(){return"messaging_file_picker"}getAttributes(){let e=super.getAttributes();e.Origin=c[this._origin],e.LimitValue=this._limitValue,e.WasOverLimit=this._wasOverLimit;const t={},i=this._filesExtensions.length;for(let e=0;e<i;e++){const i=this._filesExtensions[e].toLowerCase(),n=o.default.getFileType(i),s=a.UploadFileType[n]+"Count";t.hasOwnProperty(s)||(t[s]=0),t[s]++}return e=Object.assign(Object.assign({},e),t),e.TotalCount=i,e}}t.FilesSentViaPicker=d;class u extends r.TelemetryEventBase{getEventName(){return"messaging_audio_message_cancel"}}t.AudioMessageCancelEvent=u},987946:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MediaDownloadTelemetryEvent=t.MediaDownloadActionOrigin=t.MediaDownloadReason=void 0;const n=i(812056);var o,s;!function(e){e[e.Copy=0]="Copy",e[e.Open=1]="Open",e[e.SaveAs=2]="SaveAs",e[e.SaveToDownloads=3]="SaveToDownloads"}(o=t.MediaDownloadReason||(t.MediaDownloadReason={})),function(e){e[e.MediaViewer=0]="MediaViewer",e[e.StreamItem=1]="StreamItem"}(s=t.MediaDownloadActionOrigin||(t.MediaDownloadActionOrigin={}));class a extends n.MessageTelemetryBase{constructor(e,t,i,n=""){super(e,e.conversationId),this._origin=t,this._reason=i,this._fileType=n}getEventName(){return"messaging_download"}getAttributes(){const e=super.getAttributes();return e.Reason=o[this._reason],e.Origin=s[this._origin],e.FileType=this._fileType,e}_useOldAttributeNames(){return!0}}t.MediaDownloadTelemetryEvent=a},526594:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MediaPreviewAppExitWithDraftsEvent=t.MediaPreviewSentEvent=t.MediaPreviewDraftDeletedEvent=t.MediaPreviewDraftCreatedEvent=t.MediaPreviewTelemetryMobileEvent=void 0;const n=i(496486),o=i(746096),s=i(753559),a=i(478262),r=i(500349);class l extends r.TelemetryEventBase{getEventName(){return"messaging_media_preview"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}t.MediaPreviewTelemetryMobileEvent=class extends l{constructor(e){super(),this._props=e}getAction(){return"MobilePreviewSent"}getAttributes(){const{totalCount:e,imageCount:t,videoCount:i}=this._props,n=super.getAttributes();return n.VideoCount=i,n.ImageCount=t,n.TotalCount=e,n}};class c extends l{constructor(e){super(),this._props=e}getAttributes(){const{previews:e,deletedPreviewsCount:t,galleryOpenCount:i,wasSavedAsDraft:r,wasRecoveredFromDb:l,lastAddTimestamp:c}=this._props,d=n.mapKeys(n.countBy(e,"originator"),((e,t)=>`Origin_${o.PostSource[parseInt(t,10)]}`)),u=n.mapKeys(n.countBy(e,"data.extension"),((e,t)=>{const i=s.default.getFileType(t);return`Count_${a.UploadFileType[i]}`})),g=Object.assign(Object.assign({},d),u);return g.TotalCount=e.length,g.DeletedPreviewsCount=t,g.GalleryOpenCount=i,g.WasSavedAsDraft=r,g.WasRecoveredFromDb=l,c&&(g.TimeElapsedSinceLastAdd=Date.now()-c),n.assign({},super.getAttributes(),g)}}t.MediaPreviewDraftCreatedEvent=class extends c{constructor(e){super(e)}getAction(){return"DraftCreated"}};t.MediaPreviewDraftDeletedEvent=class extends c{constructor(e){super(e)}getAction(){return"DraftDeleted"}};t.MediaPreviewSentEvent=class extends c{constructor(e){super(e)}getAction(){return"Sent"}};t.MediaPreviewAppExitWithDraftsEvent=class extends l{constructor(e){super(),this._numberOfDrafts=e}getAction(){return"AppExitWithDrafts"}getAttributes(){return n.assign({},super.getAttributes(),{DraftsCount:this._numberOfDrafts})}}},971349:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MediaUploadBase=t.FileRejectedByClient=t.FileRejectedReason=t.UnrecognizedMediaDimension=t.CaptureSession=t.ReencodeSession=t.VideoPlayback=t.ImageLoad=t.MediaAction=void 0;const n=i(636076),o=i(496486),s=i(583367),a=i(889391),r=i(827028),l=i(746096),c=i(945983),d=i(478262),u=i(500349),g=i(853374);var h,p;!function(e){e[e.ImageLoad=0]="ImageLoad",e[e.VideoPlayback=1]="VideoPlayback",e[e.UnrecognisedMediaDimensions=2]="UnrecognisedMediaDimensions",e[e.FileRejected=3]="FileRejected",e[e.ImageUpload=4]="ImageUpload",e[e.VideoUpload=5]="VideoUpload"}(h=t.MediaAction||(t.MediaAction={}));class S extends u.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"all_media"}getAttributes(){const e=super.getAttributes();return e.Action=h[this._action],e}}t.ImageLoad=class extends S{constructor(e,t,i){super(h.ImageLoad),this._uri=e,this._origin=t,this._properties=i,this._loadDuration=-1,this._loadStartTime=-1}getAttributes(){const e=o.assign(super.getAttributes(),{IsSuccess:this._success,LoadDuration:this._loadDuration,FailureReason:l.MessagingFailureReason[this._failureReason],Origin:this._origin});return this._properties?o.assign(e,this._properties):e}getPiiAttributes(){const e=super.getPiiAttributes();return e.Uri={value:this._uri,piiKind:n.AWTPiiKind.Uri},e}setStatus(e,t=l.MessagingFailureReason.None){this._success=e,this._failureReason=t}startLoad(){this._loadStartTime=Date.now()}endLoad(){this._loadDuration=Date.now()-this._loadStartTime}};t.VideoPlayback=class extends S{constructor(e,t,i,n,o,s){super(h.VideoPlayback),this._uri=e,this._mediaProvider=t,this._dimensions=i,this._origin=n,this._amsReferences=o,this._messagetype=s,this._loadSuccess=!1,this._playSuccess=!1,this._videoDuration=0,this._loadDuration=0,this._loadStartTime=0,this._playDuration=0,this._playStartTime=0,this._rebufferingCount=0,this._rebufferingDuration=0,this._rebufferingStartTime=0,this._cachingSuccess=!0,this._cachingDuration=0}getAttributes(){return o.assign(super.getAttributes(),{MediaProvider:this._mediaProvider?this._mediaProvider:"",Origin:this._origin||"",MediaWidth:this._dimensions?this._dimensions.width:"",MediaHeight:this._dimensions?this._dimensions.height:"",IsLoadSuccess:this._loadSuccess,LoadDuration:this._loadDuration,VideoDuration:this._videoDuration,IsPlaySuccess:this._playSuccess,PlayDuration:this._playDuration,DurationToPlayStart:this._getTimeToPlay(),RebufferingCount:this._rebufferingCount,RebufferingDuration:this._rebufferingDuration,FailureReason:l.MessagingFailureReason[this._failureReason],ErrorInfo:this._errorInfo,IsCachingSuccess:this._cachingSuccess,CacheMode:void 0!==this._cacheMode?c.CacheMode[this._cacheMode]:"",CachingDuration:this._cachingDuration,AmsDocumentIds:o.join(this._amsReferences),MessageType:this._messagetype||""})}getPiiAttributes(){const e=super.getPiiAttributes();return e.Uri={value:this._uri?this._uri:"",piiKind:n.AWTPiiKind.Uri},e}setCachingStatus(e,t,i){this._cachingSuccess=e,this._cacheMode=t,this._cachingDuration=i||0}setLoadStatus(e,t,i=l.MessagingFailureReason.None,n=""){this._loadSuccess=e,this._videoDuration=t,this._failureReason=i,this._errorInfo=n}setPlayStatus(e,t=l.MessagingFailureReason.None){this._playSuccess=e,this._failureReason=t}startLoad(){this._loadStartTime=Date.now()}endLoad(){this._loadDuration=this._loadStartTime>0?Date.now()-this._loadStartTime:0}startPlay(){this._playStartTime=Date.now()}endPlay(){this._playDuration=this._playStartTime>0?Date.now()-this._playStartTime:0}_getTimeToPlay(){return this._playSuccess&&this._loadStartTime>0&&this._playStartTime>0?this._playStartTime-this._loadStartTime:""}startRebuffering(){this._rebufferingCount++,this._rebufferingStartTime=Date.now()}endRebuffering(){this._rebufferingDuration+=this._rebufferingStartTime>0?Date.now()-this._rebufferingStartTime:0,this._rebufferingStartTime=0}};class m extends u.TelemetryEventBase{constructor(){super(...arguments),this._reencodeStartTime=0}getEventName(){return"all_reencode_session"}getAttributes(){return o.assign(super.getAttributes(),{State:void 0!==this._state?l.ReencodeState[this._state]:"",ReencodeDuration:this._reencodeDuration?this._reencodeDuration:0,OriginalAssetFetchDuration:this._originalAssetFetchDuration||0,HasOverlay:!!this._hasOverlay&&this._hasOverlay,ErrorType:this._errorType?this._errorType:"",ErrorInfo:this._errorInfo?this._errorInfo:"",VideoDuration:this._videoDuration?this._videoDuration:0,SourceWidth:this._sourceDimensions?this._sourceDimensions.width:0,SourceHeight:this._sourceDimensions?this._sourceDimensions.height:0,SourceFileSize:this._sourceFileSize?this._sourceFileSize:0,OutputWidth:this._outputDimensions?this._outputDimensions.width:0,OutputHeight:this._outputDimensions?this._outputDimensions.height:0,OutputFileSize:this._outputFileSize?this._outputFileSize:0,EstimatedFileSize:this._estimatedFileSize?this._estimatedFileSize:0,TransactionID:this._transactionId?this._transactionId:""})}getScenarioAttributes(){return{ReencodeState:void 0!==this._state?l.ReencodeState[this._state]:"",ReencodeDuration:this._reencodeDuration?this._reencodeDuration:0,ReencodeFetchDuration:this._originalAssetFetchDuration||0,HasReencodeOverlay:!!this._hasOverlay&&this._hasOverlay,ReencodeSourceWidth:this._sourceDimensions?this._sourceDimensions.width:0,ReencodeSourceHeight:this._sourceDimensions?this._sourceDimensions.height:0,ReencodeSourceFileSize:this._sourceFileSize?this._sourceFileSize:0,ReencodeOutputWidth:this._outputDimensions?this._outputDimensions.width:0,ReencodeOutputHeight:this._outputDimensions?this._outputDimensions.height:0,ReencodeEstimatedFileSize:this._estimatedFileSize?this._estimatedFileSize:0}}startReencode(){this._reencodeStartTime=Date.now()}endReencode(){this._reencodeDuration=(this._reencodeStartTime>0?Date.now()-this._reencodeStartTime:0)/1e3}setOriginalAssetFetchDuration(e){this._originalAssetFetchDuration=e}setState(e){this._state=e}setHasOverlay(e){this._hasOverlay=e}setErrorType(e){this._errorType=e}setErrorInfo(e){this._errorInfo=e}setVideoDuration(e){this._videoDuration=e}setSourceDimensions(e){this._sourceDimensions=e}setSourceFileSize(e){this._sourceFileSize=e}setOutputDimensions(e){this._outputDimensions=e}setOutputFileSize(e){this._outputFileSize=e}setEstimatedFileSize(e){this._estimatedFileSize=e}setTransactionID(e){this._transactionId=e}}t.ReencodeSession=m;class C extends u.TelemetryEventBase{constructor(e){super(),this._entryPoint=e,this._isVideo=!1,this._mediaCount=1,this._ink=!1,this._text=!1,this._stickers=!1,this._overlay=!1,this._filter=!1,this._addStickersClickCount=0,this._stickerIds=[],this._stickerNames=[],this._tabNames=[],this._isMediaSaved=!1,this._isMediaSent=!1,this._isCanceled=!1,this._overlaysViewCount={}}getEventName(){return"camera_capture_session"}clearMarkup(){this._ink=!1,this._text=!1,this._stickers=!1,this._overlay=!1,this._filter=!1,this._stickerIds=[],this._stickerNames=[],this._tabNames=[]}setIsVideo(e){this._isVideo=e}setCameraMode(e){this._cameraMode=e}setDeviceOrientation(e){this._deviceOrientation=e===s.DeviceOrientation.Portrait?"Portrait":e===s.DeviceOrientation.Landscape?"Landscape":"Unlocked"}setMediaCount(e){this._mediaCount=e}setInk(e){this._ink=e}setText(e){this._text=e}setStickers(e){this._stickers=e}setOverlay(e){this._overlay=e}setOverlayType(e){this._overlayType=e}setFilter(e){this._filter=e}setFilterName(e){this._filterName=e}setAddStickersClickCount(e){this._addStickersClickCount=e}setStickerIds(e){this._stickerIds=e}setStickerNames(e){this._stickerNames=e}setTabNames(e){this._tabNames=e}setMediaSavedStatus(e){this._isMediaSaved=e}setMediaSentStatus(e){this._isMediaSent=e}setIsCanceled(e){this._isCanceled=e}recordOverlayViewed(e){e=e.replace(/\s/g,""),this._overlaysViewCount[e]?this._overlaysViewCount[e]=this._overlaysViewCount[e]+1:this._overlaysViewCount[e]=1}getAttributes(){this._stickers&&(this._pesStickerConfig=a.default.getPesConfig().sticker_config);const e=o.assign(super.getAttributes(),{IsCanceled:this._isCanceled,EntryPoint:l.PostSource[this._entryPoint],IsVideo:this._isVideo,CameraMode:this._cameraMode?this._cameraMode:"",DeviceOrientation:this._deviceOrientation?this._deviceOrientation:"",MediaCount:this._mediaCount,Ink:this._ink,Text:this._text,Sticker:this._stickers,Overlay:this._overlay,OverlayType:this._overlayType?r.OverlayType[this._overlayType]:"",Filter:this._filter?this._filter:"",FilterName:this._filterName||"",AddStickersClickCount:this._addStickersClickCount,StickerIds:this._stickerIds.join(),StickerNames:this._stickerNames.join(),TabNames:this._tabNames.join(),IsMediaSaved:this._isMediaSaved,IsMediaSent:this._isMediaSent,PesStickerConfig:this._pesStickerConfig||"",PesFxSceneConfig:this._pesFxSceneConfig||""});return o.each(this._overlaysViewCount,((t,i)=>{e["OverlayViewCount_"+i]=t})),e.WasSentAfterSwiping=0!==this._overlaysViewCount.count,e}}t.CaptureSession=C;t.UnrecognizedMediaDimension=class extends S{constructor(e,t){super(h.UnrecognisedMediaDimensions),this._extension=e,this._uploadSource=t}getAttributes(){return o.assign(super.getAttributes(),{Extension:this._extension,UploadSource:this._uploadSource?l.PostSource[this._uploadSource]:"Unknown"})}},function(e){e[e.FileSize=0]="FileSize",e[e.VideoDuration=1]="VideoDuration"}(p=t.FileRejectedReason||(t.FileRejectedReason={}));t.FileRejectedByClient=class extends S{constructor(e,t,i){super(h.FileRejected),this._fileType=e,this._uploadSource=t,this._reason=i,this._isRejectedFromPost=!1}setVideoDurationDetails(e,t){this._durationLimit=e,this._videoDuration=t}setFileSizeDetails(e,t){this._sizeLimit=e,this._fileSize=t}setIsRejectedFromPost(e){this._isRejectedFromPost=e}getAttributes(){const e={UploadSource:l.PostSource[this._uploadSource],FileType:d.UploadFileType[this._fileType],FileRejectedReason:p[this._reason],IsRejectedFromPost:this._isRejectedFromPost};return this._durationLimit&&(e.DurationLimit=this._durationLimit),this._videoDuration&&(e.VideoDuration=this._videoDuration),this._sizeLimit&&(e.SizeLimit=this._sizeLimit),this._fileSize&&(e.FileSize=this._fileSize),o.assign(super.getAttributes(),e)}};t.MediaUploadBase=class extends S{static mediaActionForFileType(e){let t;if(e)switch(e){case d.UploadFileType.Picture:case d.UploadFileType.Thumbnail:case d.UploadFileType.GroupAvatar:t=h.ImageUpload;break;case d.UploadFileType.Video:case d.UploadFileType.VideoMessage:t=h.VideoUpload;break;case d.UploadFileType.File:case d.UploadFileType.Audio:case d.UploadFileType.AudioMessage:case d.UploadFileType.Excel:case d.UploadFileType.OneNote:case d.UploadFileType.Powerpoint:case d.UploadFileType.Word:case d.UploadFileType.PDF:case d.UploadFileType.AVI:case d.UploadFileType.Zip:break;default:g.default.switchStatementExhaustiveChecking(e)}return t}constructor(e,t,i,n,o,s,a,r,l){super(e),this._success=t,this._failureReason=i,this._uploadDuration=n,this._fileType=o,this._dimensions=s,this._transactionId=a,this._documentId=r,this._isGroupChat=l}getAttributes(){return o.assign(super.getAttributes(),{IsSuccess:this._success,FailureReason:l.MessagingFailureReason[this._failureReason],FileType:o.isUndefined(this._fileType)?"":d.UploadFileType[this._fileType],UploadDuration:this._uploadDuration,MediaWidth:this._dimensions?this._dimensions.width:"",MediaHeight:this._dimensions?this._dimensions.height:"",TransactionId:this._transactionId||"",DocumentId:this._documentId||"",IsGroupChat:o.isUndefined(this._isGroupChat)?"":this._isGroupChat})}}},865788:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MeetNowRepeatedGuestLoginEvent=t.MeetNowJoinLinkInSearchBarEvent=t.MeetNowSharePopupCloseEvent=t.MeetNowTitleSelectedEvent=t.MeetNowAvatarSelected=t.MeetNowAvatarNotSelected=t.MeetNowAvatarPickerOpen=t.MeetNowUserNameChanged=t.MeetNowMeetingNameManuallyChanged=t.MeetNowAddSkypeContactEvent=t.MeetNowJoinLinkPanelClosedEvent=t.MeetNowCreatedOnJoinLinkPanelEvent=t.MeetNowJoinLinkPanelInputSendEvent=t.MeetNowJoinLinkPanelMountedEvent=t.MeetNowClosePanelEvent=t.MeetNowLobbyMounted=t.MeetNowClickEvent=t.MeetNowErrorEvent=t.MeetNowDeeplinkProcessedEvent=t.MeetNowUriReceivedEvent=t.MeetNowTelemetryEventBase=t.MeetNowSharePopupCloseActionType=t.MeetNowJoinPanelResult=t.JoinMeetNowStep=t.CreateMeetNowStep=void 0;const n=i(496486),o=i(893974),s=i(164723),a=i(500349),r=i(746096),l=i(735370);var c;!function(e){e.MeetNowPanelReady="MeetNowPanelReady",e.MeetNowPanelClosed="MeetNowPanelClosed",e.StartMeetNowButtonClicked="StartMeetNowButtonClicked",e.CallStarted="CallStarted",e.CallMade="CallMade"}(t.CreateMeetNowStep||(t.CreateMeetNowStep={})),function(e){e.ValidJoinLinkEntered="ValidJoinLinkEntered",e.UserIsConversationParticipant="UserIsConversationParticipant",e.LobbyNavigationStarted="LobbyNavigationStarted",e.MeetNowPanelReady="MeetNowPanelReady",e.MeetNowPanelClosed="MeetNowPanelClosed",e.StartOrJoinMeetNowButtonClicked="StartOrJoinMeetNowButtonClicked",e.CallStarted="CallStarted",e.CallMade="CallMade"}(t.JoinMeetNowStep||(t.JoinMeetNowStep={})),function(e){e[e.NavigateToConversation=0]="NavigateToConversation",e[e.Exit=1]="Exit"}(c=t.MeetNowJoinPanelResult||(t.MeetNowJoinPanelResult={})),function(e){e.Auto="Auto",e.Manual="Manual"}(t.MeetNowSharePopupCloseActionType||(t.MeetNowSharePopupCloseActionType={}));class d extends a.TelemetryEventBase{constructor(e,t){super(),this._callId=e,this._meetNowParameters=t}getEventName(){return"calling_meet_now"}getAttributes(){const e=super.getAttributes();e.Action=this.getActionName(),this._meetNowParameters.origin&&(e.Origin=s.MeetNowOrigin[this._meetNowParameters.origin]),this._callId&&(e.CallId=this._callId),this._meetNowParameters.partner&&(e.Partner=this._meetNowParameters.partner),this._meetNowParameters.windowsExpId&&(e.Exp=this._meetNowParameters.windowsExpId);const t=l.getTrackableConversationId(this._meetNowParameters.convId);return t&&(e.ConversationId=t),e}}t.MeetNowTelemetryEventBase=d;t.MeetNowUriReceivedEvent=class extends d{constructor(e){super(void 0,o.default.getPartnerParametersFromUri(e))}getActionName(){return"MeetNowUriReceived"}};t.MeetNowDeeplinkProcessedEvent=class extends d{constructor(e){super(void 0,e)}getActionName(){return"MeetNowDeeplinkProcessed"}};t.MeetNowErrorEvent=class extends d{constructor(e,t,i){super(void 0,e),this._error=t,this._errorCode=i}getAttributes(){const e=super.getAttributes();return e.MeetNowError=this._error,this._errorCode&&(e.MeetNowErrorCode=this._errorCode),e}getActionName(){return"MeetNowError"}};t.MeetNowClickEvent=class extends d{constructor(e,t,i,n){super(e,t),this._clickType=i,this._selected=n}getActionName(){return"MeetNowClick"}getAttributes(){const e=super.getAttributes();return e.ClickType=s.MeetNowClickType[this._clickType],this._clickType!==s.MeetNowClickType.ClickToggleAllowJoiningLink||n.isUndefined(this._selected)||(e.IsJoiningViaLinkAllowed=this._selected),e}};t.MeetNowLobbyMounted=class extends d{constructor(e,t){super(e,t)}getActionName(){return"MeetNowLobbyMounted"}getAttributes(){return super.getAttributes()}};t.MeetNowClosePanelEvent=class extends d{constructor(e,t,i,n){super(e,t),this._closeOrigin=i,this._userActionsCount=n}getActionName(){return"MeetNowClosePanel"}getAttributes(){const e=super.getAttributes();return e.CloseOrigin=s.MeetNowClosePanelOrigin[this._closeOrigin],e.UserActionsCount=this._userActionsCount,e}};t.MeetNowJoinLinkPanelMountedEvent=class extends d{constructor(e){super(void 0,e)}getActionName(){return"MeetNowJoinLinkPanelMounted"}};t.MeetNowJoinLinkPanelInputSendEvent=class extends d{constructor(e,t,i){super(void 0,i),this._linkType=e,this._isInputValid=t}getActionName(){return"MeetNowJoinLinkPanelInputSend"}getAttributes(){const e=super.getAttributes();return e.LinkType=this._linkType,e.IsInputValid=this._isInputValid,e}};t.MeetNowCreatedOnJoinLinkPanelEvent=class extends d{constructor(e){super(void 0,e)}getActionName(){return"MeetNowCreatedOnJoinLinkPanel"}};t.MeetNowJoinLinkPanelClosedEvent=class extends d{constructor(e,t,i){super(void 0,e),this._errorCount=t,this._result=i}getActionName(){return"MeetNowJoinLinkPanelClosed"}getAttributes(){const e=super.getAttributes();return e.ErrorCount=this._errorCount,e.Result=c[this._result],e}};t.MeetNowAddSkypeContactEvent=class extends d{constructor(e,t,i){super(e,t),this._countSkypeContactAdded=i}getActionName(){return"MeetNowAddSkypeContact"}getAttributes(){const e=super.getAttributes();return e.CountSkypeContactAdded=this._countSkypeContactAdded,e}};t.MeetNowMeetingNameManuallyChanged=class extends d{constructor(e){super(void 0,e)}getActionName(){return"MeetNowMeetingNameManuallyChanged"}};t.MeetNowUserNameChanged=class extends d{constructor(e){super(void 0,e)}getActionName(){return"MeetNowUserNameChanged"}};t.MeetNowAvatarPickerOpen=class extends d{constructor(e){super(void 0,e)}getActionName(){return"MeetNowAvatarPickerOpen"}};t.MeetNowAvatarNotSelected=class extends d{constructor(e){super(void 0,e)}getActionName(){return"MeetNowAvatarNotSelected"}};t.MeetNowAvatarSelected=class extends d{constructor(e,t,i,n){super(void 0,e),this._avatarType=t,this._emoticonsSelectedBeforeUpload=i,this._stickersSelectedBeforeUpload=n}getActionName(){return"MeetNowAvatarSelected"}getAttributes(){const e=super.getAttributes();return e.SelectedAvatarType=r.AvatarPickerAction[this._avatarType],n.isNil(this._emoticonsSelectedBeforeUpload)||(e.EmoticonsSelectedBeforeUpload=this._emoticonsSelectedBeforeUpload),n.isNil(this._stickersSelectedBeforeUpload)||(e.StickersSelectedBeforeUpload=this._stickersSelectedBeforeUpload),e}};t.MeetNowTitleSelectedEvent=class extends d{constructor(e,t,i,n){super(void 0,e),this._name=t,this._wasSuggested=i,this._category=n}getActionName(){return"MeetNowTitleSelected"}getAttributes(){const e=super.getAttributes();return e.MeetingName=this._name,this._category&&(e.Category=this._category),e.WasSuggested=this._wasSuggested,e}};t.MeetNowSharePopupCloseEvent=class extends d{constructor(e,t,i,n){super(void 0,e),this._actionType=t,this._isGuestFlow=i,this._durationMs=n}getActionName(){return"MeetNowSharePopupClose"}getAttributes(){const e=super.getAttributes();return e.ActionType=this._actionType,e.IsGuestFlow=this._isGuestFlow,e.DurationMs=this._durationMs,e}};t.MeetNowJoinLinkInSearchBarEvent=class extends d{constructor(e,t){super(void 0,e),this._isBuddyLink=t}getActionName(){return"MeetNowJoinLinkInSearchBar"}getAttributes(){const e=super.getAttributes();return e.LinkType=this._isBuddyLink?s.MeetNowJoinPanelInput.BuddyLink:s.MeetNowJoinPanelInput.SkypeLink,e}};t.MeetNowRepeatedGuestLoginEvent=class extends d{constructor(e){super(void 0,e)}getActionName(){return"MeetNowRepeatedGuestLogin"}}},673319:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationShareEvent=t.IntegrationEvent=t.MessageOverflowEvent=t.IntegrationShareContentType=t.IntegrationAction=t.MessageOverflowAction=void 0;const n=i(496486),o=i(746096),s=i(500349);var a,r,l;!function(e){e[e.MessageOverflowOpenButtonClicked=0]="MessageOverflowOpenButtonClicked",e[e.MessageOverflowCloseButtonClicked=1]="MessageOverflowCloseButtonClicked",e[e.MessageOverflowMinimized=2]="MessageOverflowMinimized"}(a=t.MessageOverflowAction||(t.MessageOverflowAction={})),function(e){e[e.IntegrationLaunched=0]="IntegrationLaunched",e[e.IntegrationCloseButtonClicked=1]="IntegrationCloseButtonClicked",e[e.IntegrationSharePreviewLaunched=2]="IntegrationSharePreviewLaunched",e[e.IntegrationShared=3]="IntegrationShared",e[e.IntegrationShareCanceled=4]="IntegrationShareCanceled"}(r=t.IntegrationAction||(t.IntegrationAction={})),function(e){e[e.SwiftCard=0]="SwiftCard",e[e.AdaptiveCard=1]="AdaptiveCard",e[e.Url=2]="Url",e[e.Unknown=3]="Unknown"}(l=t.IntegrationShareContentType||(t.IntegrationShareContentType={}));class c extends s.TelemetryEventBase{getEventName(){return"caap_message_composer_overflow"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.MessageOverflowEvent=class extends c{constructor(e){super(),this._action=e}getActionName(){return a[this._action]}};class d extends c{constructor(e,t){super(),this._action=e,this._integrationCorrelationId=t}getActionName(){return r[this._action]}getAttributes(){const e=super.getAttributes();return this._integrationCorrelationId&&(e.IntegrationCorrelationId=this._integrationCorrelationId),e}}t.IntegrationEvent=d;t.IntegrationShareEvent=class extends d{constructor(e,t,i,n,o){super(e,n),this._contentType=t,this._sessionId=i,this._origin=o}getAttributes(){const e=super.getAttributes();return e.ContentType=l[this._contentType],e.SessionCorrelationId=this._sessionId||"",e.Origin=n.isUndefined(this._origin)?"":o.BrowserOrigin[this._origin],e}}},961428:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.convertPastedTextTypeToTelemetry=t.getTextMessageTypeFromContent=void 0;const n=i(54569),o=i(812056);t.getTextMessageTypeFromContent=function(e){return e?0===e.indexOf("(@@ )")?o.MessageComposerSentContentType.PlainText:((e=e.replace("(*)","")).match(/\*/g)||[]).length>1||(e.match(/\_/g)||[]).length>1||(e.match(/\~/g)||[]).length>1||(e.match(/\`\`\`/g)||[]).length>1?o.MessageComposerSentContentType.MarkupText:o.MessageComposerSentContentType.PlainText:o.MessageComposerSentContentType.NoText},t.convertPastedTextTypeToTelemetry=function(e){switch(e){case n.PastedTextType.PlainText:return o.MessageComposerAction.PastePlainText;case n.PastedTextType.HtmlText:return o.MessageComposerAction.PasteHtmlText;case n.PastedTextType.Link:return o.MessageComposerAction.PasteLink;case n.PastedTextType.EscapedLink:return o.MessageComposerAction.PasteEscapedLink;case n.PastedTextType.DraggedPlainText:return o.MessageComposerAction.DragPlainText;case n.PastedTextType.DraggedHtmlText:return o.MessageComposerAction.DragHtmlText;case n.PastedTextType.DraggedLink:return o.MessageComposerAction.DragLink;case n.PastedTextType.DraggedEscapedLink:return o.MessageComposerAction.DragEscapedLink;default:return o.MessageComposerAction.NoPaste}}},343512:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FinishReason=void 0;const n=i(770891),o=i(415963),s=i(794050);var a,r;!function(e){e[e.UserClosed=0]="UserClosed",e[e.UserOpenedApp=1]="UserOpenedApp",e[e.RestrictedVideoOpenedInApp=2]="RestrictedVideoOpenedInApp",e[e.PipDestroyed=3]="PipDestroyed"}(a=t.FinishReason||(t.FinishReason={})),function(e){e[e.ContentChanged=0]="ContentChanged",e[e.ContentFailedToLoad=1]="ContentFailedToLoad",e[e.PlaybackStateChanged=2]="PlaybackStateChanged",e[e.ViewModeChanged=3]="ViewModeChanged"}(r||(r={}));t.default=class{constructor(e){this._scenario=new s.default(o.ScenarioName.MessagePanelPip),this._scenario.setDuplicateStepMarkingEnabled(!0),this._scenario.start(this._getBaseTelemetryData(e))}markViewModeChanged(e,t){const i=this._getBaseTelemetryData(e);i.IsLandscape=t.isLandscape,i.WasLandscape=t.wasLandscape,i.IsFullscreen=t.isFullScreen,i.WasFullscreen=t.wasFullScreen,this._markStep(r.ViewModeChanged,i)}markContentChanged(e){this._markStep(r.ContentChanged,this._getBaseTelemetryData(e))}markContentFailedToLoad(e){this._markStep(r.ContentFailedToLoad,this._getBaseTelemetryData(e))}markPlaybackStateChanged(e,t){const i=this._getBaseTelemetryData(e);i.NewState=t.newState,i.OldState=t.oldState,this._markStep(r.PlaybackStateChanged,i)}finish(e,t){const i=this._getBaseTelemetryData(e);i.FinishReason=a[t],this._scenario.finish(i)}isFinished(){return this._scenario.isResolved()}_markStep(e,t){this._scenario.markStepCompleted(r[e],t)}_getBaseTelemetryData(e){const t={ContentType:n.PipContentType[e.contentType]};if(e.contentType===n.PipContentType.Youtube){const i=e;t.HasPreviewImage=!!i.videoPreviewUrl}return t}}},812056:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessageAttribution=t.AttributionType=t.MessageLink=t.MessagesFetched=t.MessageComposerTelemetry=t.MessageComposerSentContentType=t.MessageComposerAction=t.AddContactsTelemetry=t.ShareContactsTelemetry=t.ReadReceiptsViewed=t.JumpToEnd=t.MessagePanelActionType=t.MessageTyping=t.MessageSent=t.MessageReadLie=t.MessageReceivedRead=t.MessageRead=t.MessageSendTimeout=t.MessageContentClicked=t.SelectedMessagesTelemetry=t.KeyboardMessagesTelemetry=t.LoadedOldFriendBackChatTelemetry=t.OldFriendBackQuickReplyTelemetry=t.QuotesEventTelemetry=t.ShareFileMessageTelemetry=t.ForwardedMessageTelemetry=t.MessageActionTelemetry=t.MessageTelemetryBase=t.ConversationTelemetryBase=t.KeyboardActionType=t.MessageActionOrigin=t.MessageActionType=void 0;const n=i(636076),o=i(496486),s=i(583367),a=i(260021),r=i(351077),l=i(61375),c=i(671830),d=i(898278),u=i(539549),g=i(986374),h=i(746096),p=i(753559),S=i(281020),m=i(312762),C=i(18078),y=i(112692),f=i(500349),b=i(500787),_=i(735370),v=i(911698),T=i(177878),P=i(291319),k=i(889391);var A,I;!function(e){e[e.Cancel=0]="Cancel",e[e.CancelRejected=1]="CancelRejected",e[e.ClearQuote=2]="ClearQuote",e[e.Copy=3]="Copy",e[e.CopyLink=4]="CopyLink",e[e.Delete=5]="Delete",e[e.Edit=6]="Edit",e[e.Forward=7]="Forward",e[e.MarkMessageUnread=8]="MarkMessageUnread",e[e.Quote=9]="Quote",e[e.SelectMessages=10]="SelectMessages",e[e.ShareFile=11]="ShareFile",e[e.DismissActionMenu=12]="DismissActionMenu",e[e.RetryFailed=13]="RetryFailed",e[e.DragDropFromConversationToRecentLists=14]="DragDropFromConversationToRecentLists",e[e.ShowReportedMessage=15]="ShowReportedMessage",e[e.AddBookmark=16]="AddBookmark",e[e.RemoveBookmark=17]="RemoveBookmark",e[e.SearchSelection=18]="SearchSelection",e[e.QuickReply=19]="QuickReply",e[e.QuickReplyLoaded=20]="QuickReplyLoaded"}(A=t.MessageActionType||(t.MessageActionType={})),function(e){e.StreamItem="streamItem",e.MessageStream="messageStream",e.StreamItemAccesory="streamItemAccessory",e.StreamItemDesktopContextMenu="streamItemDesktopContextMenu",e.StreamItemActionMenu="streamItemActionMenu",e.StreamItemPopup="streamItemPopup",e.StreamItemMultipleMessages="_streamItemMultipleMessages",e.DocumentViewer="documentViewer",e.MessageComposer="MessageComposer",e.LocationViewer="locationViewer",e.PostingService="postingService",e.FileNode="fileNode",e.BookmarksViewer="bookmarksViewer"}(t.MessageActionOrigin||(t.MessageActionOrigin={})),function(e){e[e.KeyboardCopy=0]="KeyboardCopy",e[e.KeyboardPaste=1]="KeyboardPaste"}(I=t.KeyboardActionType||(t.KeyboardActionType={}));const w="messaging_action";class x extends b.PriorityTelemetryEventBase{constructor(e){super(),this._conversationId=e,this._isGroupConversation=c.isGroupConversation(this._conversationId),this._isEncryptedConversation=c.isEncryptedThread(this._conversationId),this._isBotConversation=c.isOneOnOneConversation(this._conversationId)&&c.isAgent(this._conversationId),this._isBookmarkConversation=c.isBookmarkConversation(this._conversationId);const t=(0,u.default)().getConversation(this._conversationId);this._conversationMembersCount=t?t.getMemberCount():0}_useOldAttributeNames(){return!1}getAttributes(){const e=this._useOldAttributeNames()?{Bot_Conversation:this._isBotConversation,Conversation_Members_Number:this._conversationMembersCount,Group_Conversation:this._isGroupConversation,IsEncryptedConversation:this._isEncryptedConversation}:{IsBotConversation:this._isBotConversation,ConversationMembersCount:this._conversationMembersCount,IsGroupConversation:this._isGroupConversation,IsEncryptedConversation:this._isEncryptedConversation};this._isBookmarkConversation&&(e.IsBookmarkConversation=this._isBookmarkConversation);const t=_.getTrackableConversationId(this._conversationId);t&&(e[this._useOldAttributeNames()?"Conversation_Id":"ConversationId"]=t),e.MriNamespace=c.getMriNamespace(this._conversationId);const i=c.getThreadSuffix(this._conversationId);return i&&(e.ThreadSuffix=i),o.assign({},super.getAttributes(),e)}}t.ConversationTelemetryBase=x;class N extends x{constructor(e,t){super(t),this._message=e,this._messageType=_.getMessageTypeName(this._message,C.default.getSkypeMri(),t),this._messageRawType=_.getMessageRawTypeName(this._message,C.default.getSkypeMri(),t),this._message instanceof y.default?this._messageCorrelationId=a.getCorrelationIdFromMessageParts(this._message.creator,this._message.conversationId,_.getClientMessageId(this._message)):this._messageCorrelationId=a.getCorrelationIdFromMessageParts(c.skypeIdToMri(C.default.getSkypeId()),t,this._message.clientmessageid);const i=this._message instanceof y.default?this._message.creator:c.skypeIdToMri(C.default.getSkypeId());this._isOwnMessage=C.default.isMyMri(i)}getCorrelationAttributes(){const e=this._useOldAttributeNames()?{Message_Correlation_Id:this._messageCorrelationId}:{MessageCorrelationId:this._messageCorrelationId};return o.assign({},super.getCorrelationAttributes(),e)}getAttributes(){const e=this._useOldAttributeNames()?{Message_Type:this._messageType,Message_RawType:this._messageRawType,Own_Message:this._isOwnMessage}:{MessageType:this._messageType,MessageRawType:this._messageRawType,IsOwnMessage:this._isOwnMessage};return this._message instanceof y.default&&this._message.hasAlbumId()?e.AlbumId=this._message.getAlbumId():this._message.properties&&this._message.properties[r.MessageProperties.AlbumId]&&(e.AlbumId=this._message.properties[r.MessageProperties.AlbumId].toString()),o.assign({},super.getAttributes(),e)}}t.MessageTelemetryBase=N;class M extends N{constructor(e,t,i,n,o,s,a){super(t,e),this._originalMessageTime=i,this._origin=n,this._action=o,this._docId=s,this._searchSelectionUsedAfterHintShown=a,this._timeToAction=Math.round((this._eventCreationTime-this._originalMessageTime)/1e3)}getEventName(){return w}getAttributes(){return o.assign({},super.getAttributes(),{Action:A[this._action],Origin:this._origin,TimeToActionDuration:this._timeToAction,DocId:this._docId||"",SearchSelectionUsedAfterHintShown:this._searchSelectionUsedAfterHintShown})}}t.MessageActionTelemetry=M;t.ForwardedMessageTelemetry=class extends M{constructor(e,t,i,n,o,s){super(e,t,i,n,o),this._destinationsConversationType=s,this._skypeConversationCount=0,this._privateConversationCount=0,this._smsConversationCount=0,this._computeConversationTypes()}getAttributes(){const e=super.getAttributes();return e.SkypeConversationCount=this._skypeConversationCount,e.PrivateConversationCount=this._privateConversationCount,e.SmsConversationCount=this._smsConversationCount,e}_computeConversationTypes(){this._destinationsConversationType&&o.each(this._destinationsConversationType,(e=>{c.isEncryptedThread(e)?this._privateConversationCount++:c.isPhoneMri(e)?this._smsConversationCount++:this._skypeConversationCount++}))}};t.ShareFileMessageTelemetry=class extends M{constructor(e,t,i,n,o,s,a,r){super(e,t,i,n,o),this._fileExtension=s,this._wasShared=a,this._error=r}getAttributes(){const e=super.getAttributes();return e.IsShared=this._wasShared,e.Error=this._error||"",e.FileExtension=this._fileExtension,e}};t.QuotesEventTelemetry=class extends M{constructor(e,t,i,n,o,s,a){super(e,t,i,n,o),this._quotesTriggerType=s,this._quotesMessageType=a}getAttributes(){const e=super.getAttributes();return e.QuotesTriggerType=v.QuotesTriggerType[this._quotesTriggerType],e.QuotesMessageType=this._quotesMessageType,e}};t.OldFriendBackQuickReplyTelemetry=class extends M{constructor(e,t,i,n,o,s){super(e,t,i,n,o),this._isQuickReply=s}getAttributes(){const e=super.getAttributes();return e.IsQuickReply=this._isQuickReply,e}};t.LoadedOldFriendBackChatTelemetry=class extends M{constructor(e,t,i,n,o){super(e,t,i,n,o)}getAttributes(){return super.getAttributes()}};t.KeyboardMessagesTelemetry=class extends x{constructor(e,t){super(e),this._attributes=this._constructAttributes(t)}getEventName(){return w}getAttributes(){return o.assign(super.getAttributes(),this._attributes)}_constructAttributes(e){return{Action:I[e.actionType],MessagesCount:e.messagesCount}}};t.SelectedMessagesTelemetry=class extends x{constructor(e,t,i,n,o){super(e),this._toConversationCount=t,this._selectedMessages=i,this._selectedMessagesActionType=n,this._disabledActions=o,this._currentAttributes=this._computeAllAttributes()}getEventName(){return w}_computeAllAttributes(){const e={Action:A[A.SelectMessages],SelectedMessagesCount:this._selectedMessages.length,SelectedMessagesAction:v.SelectedMessagesActionType[this._selectedMessagesActionType]};this._toConversationCount&&(e.ForwardToConversationCount=this._toConversationCount);const t={};return o.each(this._selectedMessages,(e=>{const i="SelectedMessageType:"+_.getMessageTypeName(e.message,C.default.getSkypeMri(),this._conversationId);t[i]=o.isUndefined(t[i])?1:t[i]+1})),o.assign(e,t),e.SelectedMessagesDisabledCopy=this._disabledActions.disabledCopy,e.SelectedMessagesDisabledRemove=this._disabledActions.disabledRemove,e.SelectedMessagesDisabledForward=this._disabledActions.disabledForward,e}getAttributes(){const e=super.getAttributes();return o.assign(e,this._currentAttributes),e}};t.MessageContentClicked=class extends N{constructor(e){super(e,e.conversationId),this._serverMessageId=e.getOriginalServerId()||"",this._cmid=_.getClientMessageId(this._message)||""}getEventName(){return"message_consumed"}getCorrelationAttributes(){const e=super.getCorrelationAttributes();return e.Client_Message_Id=this._cmid,e}getAttributes(){const e=super.getAttributes();return e.Clicked_Timestamp=this._eventCreationTime,e.Server_Message_Id=this._serverMessageId,e.Action="contentClicked",e}_useOldAttributeNames(){return!0}};t.MessageSendTimeout=class extends N{constructor(e,t){super(e,t)}getEventName(){return"messaging_send_delayed"}};t.MessageRead=class extends N{getEventName(){return"message_read"}getAttributes(){const e=super.getAttributes();return e.MessageType=this._messageType,e}_useOldAttributeNames(){return!0}};t.MessageReceivedRead=class extends N{constructor(e,t,i=0){super(e,t),this._messageCount=i}getEventName(){return"message_received_read"}getAttributes(){const e=super.getAttributes();return e.MessageCount=this._messageCount,e}_useOldAttributeNames(){return!1}};t.MessageReadLie=class extends N{getEventName(){return"message_read_lie"}_useOldAttributeNames(){return!0}};t.MessageSent=class extends N{constructor(e,t,i,n,o,s,a,r,l,c,d,u,h,p,S,m,C){super(t,e),this._isReceiverShortCircuit=i,this._rawContentLength=n,this._postSource=o,this._registrationId=s,this._endpointId=a,this._receiverMri=r,this._receiverUserId=l,this._nonBlocking=c,this._rootViewType=d,this._deviceOrientation=u,this._isMediaPipOpened=h,this._messageComposerAction=p,this._messageSentContentType=S,this._mediaDurationInMs=m,this._isMagicBotConversation=C;const y=(0,T.transformUnicodeEmojis)(g.decodeFromContent(this._message.content));this._numberOfEmoticons=y.getNumberOfEmoticons(),this._numberOfDiverseEmoticons=y.getNumberOfDiverseEmoticons(),this._numberOfNativeEmojis=y.getNumberOfUnicodeEmoji(),this._numberOfDirectMentions=y.getNumberOfDirectMentions(),this._hasAllMention=y.hasAllMention(),this._hasMagicBotMention=y.hasMagicBotMention(),this._webLinks=y.getWebLinks(),this._hasWikiMarkup=y.hasWikiMarkup();const f=this._message;this._clientMessageId=f.clientmessageid,this._applyMessageTypeOverrideIfNeeded(y)}getEventName(){return"message_sent"}getEventPriority(){return k.default.getS4LTelemetryFeaturesNoSubscription().priorityEventList.includes(this.getEventName())?super.getEventPriority():n.AWTEventPriority.High}getAttributes(){const e={CharacterCount:this._rawContentLength,EmoticonCount:this._numberOfEmoticons,DiverseEmoticonCount:this._numberOfDiverseEmoticons,IsReceiverShortCircuit:this._isReceiverShortCircuit,NativeEmojiCount:this._numberOfNativeEmojis,SendTimestamp:this._eventCreationTime,DirectMentionCount:this._numberOfDirectMentions,HasAllMention:this._hasAllMention,URLCount:o.size(this._webLinks),IsNonBlocking:!!this._nonBlocking,PostSource:h.PostSource[this._postSource],HasWikiMarkup:this._hasWikiMarkup,DeviceOrientation:s.DeviceOrientation[this._deviceOrientation],IsBingBotConversation:this._isMagicBotConversation,HasBingBotMention:this._hasMagicBotMention};return this._clientMessageId&&(e.ClientMessageId=this._clientMessageId),this._endpointId&&(e.EndpointId=this._endpointId),this._registrationId&&(e.RegistrationId=this._registrationId),this._rootViewType&&(e.RootViewType=d.RootViewType[this._rootViewType]),o.isUndefined(this._isMediaPipOpened)||(e.IsMediaPipOpened=this._isMediaPipOpened),o.isUndefined(this._messageComposerAction)||(e.MessageComposerAction=O[this._messageComposerAction]),o.isUndefined(this._messageSentContentType)||(e.MessageSentContentType=D[this._messageSentContentType]),o.isUndefined(this._mediaDurationInMs)||(e.MediaDurationInMs=this._mediaDurationInMs),this._addWellKnownDomainAttributes(e),o.assign({},super.getAttributes(),e)}getPiiAttributes(){return o.assign({},super.getPiiAttributes(),{ReceiverMri:{value:this._receiverMri||"",piiKind:n.AWTPiiKind.Identity},ReceiverUserId:{value:this._receiverUserId||"",piiKind:n.AWTPiiKind.Identity}})}_addWellKnownDomainAttributes(e){let t=0;o.each(this._webLinks,(e=>{P.default.isYoutubeUrl(e)&&t++})),t>0&&(e.YoutubeURLCount=t)}_applyMessageTypeOverrideIfNeeded(e){if(_.getMessageTypeGroup(this._message)===r.MessageTypeGroups.SwiftCard){const t=e.getFirstUriObjectChild(m.SwiftUriObjectNode);if(t){t.getCardType()===p.default.imageContentTypes.gif&&(this._messageType="Gif")}}}};var L,O,D,R;t.MessageTyping=class extends x{constructor(e,t,i){super(e),this._registrationId=t,this._endpointId=i}getEventName(){return"message_typing"}getAttributes(){const e=super.getAttributes();return this._endpointId&&(e.EndpointId=this._endpointId),this._registrationId&&(e.RegistrationId=this._registrationId),e}},function(e){e[e.JumpToEnd=0]="JumpToEnd",e[e.ReadReceiptsViewed=1]="ReadReceiptsViewed"}(L=t.MessagePanelActionType||(t.MessagePanelActionType={}));class E extends f.TelemetryEventBase{constructor(e,t){super(),this._conversationId=e,this._actionType=t,this._isGroupConversation=c.isGroupConversation(this._conversationId);const i=(0,u.default)().getConversation(this._conversationId);this._conversationMembersCount=i?i.getMemberCount():0}getEventName(){return"messaging_panel"}getAttributes(){const e=super.getAttributes();return e.Action=L[this._actionType],e.IsGroupConversation=this._isGroupConversation,e.ConversationMembersCount=this._conversationMembersCount,e}}t.JumpToEnd=class extends E{constructor(e,t,i){super(e,L.JumpToEnd),this._jumpedFrom=t,this._unreadCounts=i}getAttributes(){const e=super.getAttributes();return e.JumpedFrom=this._jumpedFrom?this._jumpedFrom:"DB_LOAD",e.UnreadCount=this._unreadCounts,e}};t.ReadReceiptsViewed=class extends E{constructor(e,t,i){super(i,L.ReadReceiptsViewed),this._peopleCountOnMark=e,this._peopleCountTotal=t}getAttributes(){const e=super.getAttributes();return e.ReadByMarkCount=this._peopleCountOnMark,e.ReadByTotalCount=this._peopleCountTotal,e}};t.ShareContactsTelemetry=class extends x{constructor(e,t,i,n,o){super(t),this._entryPoint=e,this.conversationId=t,this._numberOfPSTNContactsShares=i,this._numberOfSkypeContactsShares=n,this._usedSearch=o}getEventName(){return"messaging_share_contacts"}getAttributes(){const e=super.getAttributes();return e.EntryPoint=S.ShareContactOrigin[this._entryPoint],e.SharedPSTNContactsCount=this._numberOfPSTNContactsShares,e.SharedSkypeContactsCount=this._numberOfSkypeContactsShares,e.HasUsedSearch=this._usedSearch,e}_useOldAttributeNames(){return!0}};t.AddContactsTelemetry=class extends x{constructor(e,t){super(t),this._origin=e,this.conversationId=t}getEventName(){return"messaging_add_contacts"}getAttributes(){const e=super.getAttributes();return e.AddContactsOrigin=l.AddMemberToThreadSource[this._origin],e}_useOldAttributeNames(){return!0}},function(e){e[e.Paste=0]="Paste",e[e.NoPaste=1]="NoPaste",e[e.PastePlainText=2]="PastePlainText",e[e.PasteHtmlText=3]="PasteHtmlText",e[e.PasteLink=4]="PasteLink",e[e.PasteEscapedLink=5]="PasteEscapedLink",e[e.DragPlainText=6]="DragPlainText",e[e.DragHtmlText=7]="DragHtmlText",e[e.DragLink=8]="DragLink",e[e.DragEscapedLink=9]="DragEscapedLink"}(O=t.MessageComposerAction||(t.MessageComposerAction={})),function(e){e[e.NoText=0]="NoText",e[e.PlainText=1]="PlainText",e[e.MarkupText=2]="MarkupText",e[e.Link=3]="Link",e[e.Audio=4]="Audio"}(D=t.MessageComposerSentContentType||(t.MessageComposerSentContentType={}));t.MessageComposerTelemetry=class extends x{constructor(e,t,i){super(e),this._userCancelled=t,this._action=i}getEventName(){return"messaging_composer"}getAttributes(){const e=super.getAttributes();return e.UserCancelled=this._userCancelled,e.Action=O[this._action],e}_useOldAttributeNames(){return!0}};t.MessagesFetched=class extends x{constructor(e,t,i,n){super(e),this._fetchedMessages=t,this._syncedBackwards=i,this._duration=n}getEventName(){return"messaging_extra_fetch"}getAttributes(){const e=super.getAttributes();return e.FetchedMessages=this._fetchedMessages,e.IsSyncedBackwards=this._syncedBackwards,e.Duration=this._duration,e}_useOldAttributeNames(){return!0}};t.MessageLink=class extends x{constructor(e){super(e)}getEventName(){return"messaging_link_bing"}},function(e){e[e.InlineAttribution=0]="InlineAttribution",e[e.InlineText=1]="InlineText",e[e.Footer=2]="Footer",e[e.Overlay=3]="Overlay"}(R=t.AttributionType||(t.AttributionType={}));t.MessageAttribution=class extends x{constructor(e,t,i){super(e),this._attributionType=t,this._source=i}getEventName(){return"bing_message_attribution"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{Type:R[this._attributionType],Source:this._source})}}},635762:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NavigatedToNextResult=t.NavigatedToPrevResult=t.TriggeredLoadMoreMessages=t.ClosedSearch=t.OpenedSearch=void 0;const n=i(170919),o=i(500349);class s extends o.TelemetryEventBase{getEventName(){return"messaging_search"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.OpenedSearch=class extends s{constructor(e){super(),this._origin=e}getActionName(){return"OpenedMessageSearch"}getAttributes(){const e=super.getAttributes();return e.Origin=n.MessageSearchToggleOrigin[this._origin],e}};t.ClosedSearch=class extends s{constructor(e,t,i,n){super(),this._origin=e,this._didUserSearch=t,this._lastResultsCount=i,this._numberOfRequests=n}getActionName(){return"ClosedMessageSearch"}getAttributes(){const e=super.getAttributes();return e.Origin=n.MessageSearchToggleOrigin[this._origin],e.DidUserSearch=this._didUserSearch,e.LastSearchResultsCount=this._lastResultsCount,e.NumberOfRequests=this._numberOfRequests,e}};t.TriggeredLoadMoreMessages=class extends s{constructor(e,t){super(),this._isSearchingGlobal=e,this._pageNumberRequested=t}getActionName(){return"TriggeredLoadMoreMessages"}getAttributes(){const e=super.getAttributes();return e.IsSearchingGlobal=this._isSearchingGlobal,e.PageNumberRequested=this._pageNumberRequested,e}};t.NavigatedToPrevResult=class extends s{getActionName(){return"NavigatedToPrevResult"}};t.NavigatedToNextResult=class extends s{getActionName(){return"NavigatedToNextResult"}}},901246:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChatNotificationsToggleSetting=t.AutoDownloadFilesV2ToggleSetting=t.PicturePrefetchToggleSetting=t.AutoDownloadFilesToggleSetting=t.OnlyShowSubtitlesForOtherParticipants=t.EnableSubtitlesForAllCallsSetting=t.ChatNotificationsWhileDNDToggleSetting=t.CallNotificationsWhileDNDToggleSetting=t.FontSizeSetting=t.FileDownloadPathDesktopSetting=t.LastMessageAuthorAvatarToggleSetting=t.FormattingToggleSetting=t.PasteAsQuoteToggleSetting=t.SendMessageWithEnterToggleSetting=t.OpenLinksInSkype=t.DisplayUrlPreviewsToggleSetting=t.ReactionPushNotificationsToggleSetting=t.ReadReceiptsToggleSetting=t.ReadReceiptsSettingOrigin=t.MessagingToggleSetting=t.FontSizeChangeOrigin=t.MessagingSettings=void 0;const n=i(231147),o=i(106658),s=i(366355),a=i(500349);var r,l,c;!function(e){e[e.ReadReceipts=0]="ReadReceipts",e[e.ReactionPushNotifications=1]="ReactionPushNotifications",e[e.DisplayUrlPreviews=2]="DisplayUrlPreviews",e[e.OpenLinksInSkype=3]="OpenLinksInSkype",e[e.SendMessageWithEnter=4]="SendMessageWithEnter",e[e.PasteAsQuote=5]="PasteAsQuote",e[e.Formatting=6]="Formatting",e[e.LastMessageAuthorAvatar=7]="LastMessageAuthorAvatar",e[e.FontSize=8]="FontSize",e[e.FileDownloadPathDesktop=9]="FileDownloadPathDesktop",e[e.ChatNotificationsWhileDND=10]="ChatNotificationsWhileDND",e[e.CallNotificationsWhileDND=11]="CallNotificationsWhileDND",e[e.EnableSubtitlesForAllCalls=12]="EnableSubtitlesForAllCalls",e[e.OnlyShowSubtitlesForOtherParticipants=13]="OnlyShowSubtitlesForOtherParticipants",e[e.AutoDownloadFiles=14]="AutoDownloadFiles",e[e.PicturePrefetch=15]="PicturePrefetch",e[e.ChatNotifications=16]="ChatNotifications",e[e.AutoDownloadFilesV2=17]="AutoDownloadFilesV2"}(r=t.MessagingSettings||(t.MessagingSettings={})),function(e){e[e.Settings=0]="Settings"}(l=t.FontSizeChangeOrigin||(t.FontSizeChangeOrigin={}));class d extends a.TelemetryEventBase{constructor(e){super(),this._setting=e}getEventName(){return"messaging_settings"}getAttributes(){const e=super.getAttributes();return e.Setting=r[this._setting],e}}class u extends d{constructor(e,t){super(t),this._didEnable=e}getAttributes(){const e=super.getAttributes();return e.DidEnable=this._didEnable,e}}t.MessagingToggleSetting=u,function(e){e[e.UserAction=0]="UserAction",e[e.OptIn=1]="OptIn",e[e.UserStatusUpdate=2]="UserStatusUpdate",e[e.OptOut=3]="OptOut"}(c=t.ReadReceiptsSettingOrigin||(t.ReadReceiptsSettingOrigin={}));t.ReadReceiptsToggleSetting=class extends u{constructor(e,t){super(e,r.ReadReceipts),this._origin=t}getAttributes(){const e=super.getAttributes();return e.Origin=c[this._origin],e}};t.ReactionPushNotificationsToggleSetting=class extends u{constructor(e){super(e,r.ReactionPushNotifications)}};t.DisplayUrlPreviewsToggleSetting=class extends u{constructor(e){super(e,r.DisplayUrlPreviews)}};t.OpenLinksInSkype=class extends u{constructor(e){super(e,r.OpenLinksInSkype)}};t.SendMessageWithEnterToggleSetting=class extends u{constructor(e){super(e,r.SendMessageWithEnter)}};t.PasteAsQuoteToggleSetting=class extends u{constructor(e){super(e,r.PasteAsQuote)}};t.FormattingToggleSetting=class extends u{constructor(e){super(e,r.Formatting)}};t.LastMessageAuthorAvatarToggleSetting=class extends u{constructor(e){super(e,r.LastMessageAuthorAvatar)}};t.FileDownloadPathDesktopSetting=class extends d{constructor(){super(r.FileDownloadPathDesktop)}};t.FontSizeSetting=class extends d{constructor(e,t){super(r.FontSize),this._size=e,this._origin=t}getAttributes(){const e=super.getAttributes();return e.FontSizeValue=o.MessageStreamFontSize[this._size],e.Origin=l[this._origin],e}};t.CallNotificationsWhileDNDToggleSetting=class extends u{constructor(e){super(e,r.CallNotificationsWhileDND)}};t.ChatNotificationsWhileDNDToggleSetting=class extends u{constructor(e){super(e,r.ChatNotificationsWhileDND)}};t.EnableSubtitlesForAllCallsSetting=class extends u{constructor(e){super(e,r.EnableSubtitlesForAllCalls)}};t.OnlyShowSubtitlesForOtherParticipants=class extends u{constructor(e){super(e,r.OnlyShowSubtitlesForOtherParticipants)}};t.AutoDownloadFilesToggleSetting=class extends u{constructor(e){super(e,r.AutoDownloadFiles)}};t.PicturePrefetchToggleSetting=class extends d{constructor(e){super(r.PicturePrefetch),this._mode=e}getAttributes(){const e=super.getAttributes();return e.Mode=this._mode,e}};t.AutoDownloadFilesV2ToggleSetting=class extends d{constructor(e){super(r.AutoDownloadFilesV2),this._mode=e}getAttributes(){const e=super.getAttributes();return e.Mode=this._mode,e}};t.ChatNotificationsToggleSetting=class extends u{constructor(e,t,i,n,o,s){super(e,r.ChatNotifications),this._disableChatNotificationsPeriod=t,this._conversationId=i,this._value=n,this._source=o,this._conversationType=s}getAttributes(){const e=super.getAttributes();return this._disableChatNotificationsPeriod&&(e.DisableChatNotificationsPeriod=this._disableChatNotificationsPeriod),void 0!==this._conversationId&&(e.ConversationId=this._conversationId),void 0!==this._value&&(e.Value=this._value),void 0!==this._source&&(e.Source=s.NotificationsSource[this._source]),void 0!==this._conversationType&&(e.ConversationType=n.ConversationType[this._conversationType]),e}}},717999:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessagingTabsHiddenEvent=void 0;const n=i(500349);class o extends n.TelemetryEventBase{getEventName(){return"messaging_tabs"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.MessagingTabsHiddenEvent=class extends o{constructor(e,t){super(),this._visibleTabs=e,this._overflownTabs=t}getActionName(){return"TabsHidden"}getAttributes(){const e=super.getAttributes();return e.VisibleTabs=this._visibleTabs,e.HiddenTabs=this._overflownTabs,e}}},326385:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MessagingToastAlertEvent=t.MessagingToastQuickActionEvent=t.MessagingToastShowEvent=t.MessagingToastEvent=t.MessagingToastAlertType=t.MessagingToastQuickAction=t.MessagingToastActionType=void 0;const n=i(671830),o=i(597223),s=i(500349),a=i(735370);var r,l,c;!function(e){e[e.Tapped=0]="Tapped",e[e.Panned=1]="Panned",e[e.Ignored=2]="Ignored",e[e.Shown=3]="Shown",e[e.QuickAction=4]="QuickAction"}(r=t.MessagingToastActionType||(t.MessagingToastActionType={})),function(e){e[e.ThumbsUp=0]="ThumbsUp",e[e.InlineReply=1]="InlineReply",e[e.AcceptScheduledCall=2]="AcceptScheduledCall",e[e.DeclineScheduledCall=3]="DeclineScheduledCall",e[e.MarkAsRead=4]="MarkAsRead",e[e.JoinCall=5]="JoinCall"}(l=t.MessagingToastQuickAction||(t.MessagingToastQuickAction={})),function(e){e[e.ReplyNotSent=0]="ReplyNotSent"}(c=t.MessagingToastAlertType||(t.MessagingToastAlertType={}));class d extends s.TelemetryEventBase{constructor(e,t,i){super(),this._conversationId=e,this._notificationType=t,this._action=i}getEventName(){return"messaging_toast"}getAttributes(){const e=super.getAttributes();this._action!==r.Shown&&(e.Action=r[this._action]),void 0!==this._notificationType&&(e.ToastType=o.MessageNotificationType[this._notificationType]),e.IsGroupConversation=n.isGroupConversation(this._conversationId);const t=a.getTrackableConversationId(this._conversationId);return t&&(e.ConversationId=t),e}}t.MessagingToastEvent=d;t.MessagingToastShowEvent=class extends d{constructor(e,t,i,n,o,s){super(e.conversationId,t,r.Shown),this._message=e,this._notificationAction=i,this._useSystemNotification=n,this._groupedNotifications=o,this._displayedMessagesCount=s}getEventName(){return"messaging_notification"}getAttributes(){const e=super.getAttributes();return e.NotificationAction=o.MessageNotificationAction[this._notificationAction],e.IsSystemNotification=this._useSystemNotification,e.IsSampledType=this._isSampledNotificationType(),void 0!==this._displayedMessagesCount&&(e.DisplayedMessagesCount=this._displayedMessagesCount),e}shouldSend(){if(!super.shouldSend())return!1;if(!this._isSampledNotificationType())return!0;if(!this._message)return!1;const e=this._message.getLatestRelevantClientMessageId();if(!e)return!1;const t=s.TelemetryConfig.kpi_message_sent;return a.shouldTrackMessage(e,t)}_isSampledNotificationType(){return this._notificationType!==o.MessageNotificationType.AddToConversation}};t.MessagingToastQuickActionEvent=class extends d{constructor(e,t){super(t,void 0,r.QuickAction),this._actionName=e}getAttributes(){const e=super.getAttributes();return e.QuickAction=l[this._actionName],e.IsSystemNotification=!0,e}};t.MessagingToastAlertEvent=class extends d{constructor(e,t){super(t,o.MessageNotificationType.SystemAlert,r.Shown),this._alertType=e}getAttributes(){const e=super.getAttributes();return e.AlertType=c[this._alertType],e.IsSystemNotification=!0,e}}},114161:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ChangeLanguageAndTranslateOneMessage=t.OpenTranslateMenu=t.ShowOriginalMessage=t.TranslateOneMessage=void 0;const n=i(342197),o=i(500349);class s extends o.TelemetryEventBase{getEventName(){return"messaging_translateone"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.TranslateOneMessage=class extends s{constructor(e,t,i){super(),this._origin=e,this._correlationId=t,this._requestTranslation=i}getActionName(){return"TranslateOneMessage"}getAttributes(){const e=super.getAttributes();return e.ToggleOrigin=n.TranslateOneMessageToggleOrigin[this._origin],e.MessageCorrelationId=this._correlationId,e.RequestTranslation=this._requestTranslation,e}};t.ShowOriginalMessage=class extends s{constructor(e,t){super(),this._origin=e,this._correlationId=t}getActionName(){return"ShowOriginalMessage"}getAttributes(){const e=super.getAttributes();return e.ToggleOrigin=n.TranslateOneMessageToggleOrigin[this._origin],e.MessageCorrelationId=this._correlationId,e}};t.OpenTranslateMenu=class extends s{constructor(e,t){super(),this._origin=e,this._correlationId=t}getActionName(){return"OpenTranslateMenu"}getAttributes(){const e=super.getAttributes();return e.ToggleOrigin=n.TranslateOneMessageToggleOrigin[this._origin],e.MessageCorrelationId=this._correlationId,e}};t.ChangeLanguageAndTranslateOneMessage=class extends s{constructor(e,t,i){super(),this._origin=e,this._correlationId=t,this._newLang=i}getActionName(){return"ChangeLanguageAndTranslateOneMessage"}getAttributes(){const e=super.getAttributes();return e.ToggleOrigin=n.TranslateOneMessageToggleOrigin[this._origin],e.MessageCorrelationId=this._correlationId,e.Lang=this._newLang,e}}},445472:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MyBotTooltipClose=t.MyBotTooltipCloseType=t.MyBotTooltipShow=t.MyBotFreHeadClose=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(){super()}getEventName(){return"messaging_mybot"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.MyBotFreHeadClose=class extends o{constructor(e){super(),this._isNoMessage=e}getActionName(){return"FreHeadClose"}getAttributes(){const e=super.getAttributes();return e.NoMessage=this._isNoMessage,e}};t.MyBotTooltipShow=class extends o{constructor(){super()}getActionName(){return"MyBotTooltipShow"}},function(e){e.ClickBtnClose="clickButton",e.TouchScreenClose="touchScreenClose"}(t.MyBotTooltipCloseType||(t.MyBotTooltipCloseType={}));t.MyBotTooltipClose=class extends o{constructor(e){super(),this._closeType=e}getActionName(){return"MyBotTooltipClose"}getAttributes(){const e=super.getAttributes();return e.CloseType=this._closeType,e}}},812944:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NativeAdChoicesClickEvent=t.NativeAdCtaClickEvent=t.NativeAdsUnhideEvent=t.NativeAdsHideEvent=t.NativeAdDisplayedEvent=t.NativeAdImpressionLoggedEvent=t.NativeAdDisplayRegisteredEvent=t.NativeAdDisplayErrorEvent=t.NativeAdsErrorEvent=t.NativeAdsLoadedEvent=t.NativeAdsPlacementNotVisibleEvent=t.NativeAdsEligibilityForcedEvent=t.NativeAdsEligibilityErrorEvent=t.NativeAdsEligibilityEvent=t.NativeAdPlacementName=void 0;const n=i(500349);!function(e){e.AlertsPanel="alertsPanel",e.ConversationList="conversationList"}(t.NativeAdPlacementName||(t.NativeAdPlacementName={}));class o extends n.TelemetryEventBase{constructor(e){super(),this.props=e}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e.PlacementId=this.props.placementId,e.PlacementName=this.props.placementName,e.AdsGuid=this.props.adsGuid,e.NaExperimentName=this.props.naExperimentName,e.AdsProvider=this.props.provider,e}getEventName(){return"monetization_ads"}}class s extends o{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.AdGuid=this.props.adGuid,e}}class a extends o{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.AdsElapsedTime=this.props.elapsedTime,e}}class r extends s{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.AdElapsedTime=this.props.elapsedTime,e}}t.NativeAdsEligibilityEvent=class extends o{getAction(){return"UserIsAdsEligible"}};t.NativeAdsEligibilityErrorEvent=class extends o{constructor(e){super(e),this.props=e}getAction(){return"AdsEligibilityCheckFailed"}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this.props.errorCode,e.ErrorMessage=this.props.errorMessage,e}};t.NativeAdsEligibilityForcedEvent=class extends o{getAction(){return"AdsEligibilityForced"}};t.NativeAdsPlacementNotVisibleEvent=class extends o{constructor(e){super(e),this.props=e}getAction(){return"PlacementNotVisible"}getAttributes(){const e=super.getAttributes();return e.IsFirstRequest=this.props.isFirstRequest,e}};t.NativeAdsLoadedEvent=class extends a{constructor(e){super(e),this.props=e}getAction(){return"AdsLoaded"}getAttributes(){const e=super.getAttributes();return e.NewAdsCount=this.props.newAdsCount,e}};t.NativeAdsErrorEvent=class extends a{constructor(e){super(e),this.props=e}getAction(){return"AdsError"}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this.props.errorCode,e.ErrorMessage=this.props.errorMessage,e}};t.NativeAdDisplayErrorEvent=class extends r{constructor(e){super(e),this.props=e}getAction(){return"AdDisplayError"}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this.props.errorCode,e.ErrorMessage=this.props.errorMessage,e}};t.NativeAdDisplayRegisteredEvent=class extends r{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.IsVisibleOnLoad=this.props.isVisibleOnLoad,e}getAction(){return"AdDisplayRegistered"}};t.NativeAdImpressionLoggedEvent=class extends s{getAction(){return"AdImpressionLogged"}};t.NativeAdDisplayedEvent=class extends r{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.IsVisibleOnLoad=this.props.isVisibleOnLoad,e}getAction(){return"AdDisplayed"}};t.NativeAdsHideEvent=class extends o{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.RemainingHidingTime=this.props.remainingHidingTime,e.OnStartup=this.props.onStartup,e}getAction(){return"AdsHide"}};t.NativeAdsUnhideEvent=class extends o{constructor(e){super(e),this.props=e}getAttributes(){const e=super.getAttributes();return e.OnStartup=this.props.onStartup,e}getAction(){return"AdsUnhideOnStartup"}};t.NativeAdCtaClickEvent=class extends s{getAction(){return"AdCtaClicked"}};t.NativeAdChoicesClickEvent=class extends s{getAction(){return"AdChoicesClicked"}}},24148:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AccountReadMoreClick=t.CheckAccountClick=t.NavigationHelpAndFeedback=t.NavigationHelpAndFeedbackLink=t.NavigationNotificationSettings=t.NavigationCallInvalidMri=t.NavigationConversation=t.NavigationTab=void 0;const n=i(496486),o=i(671830),s=i(746096),a=i(795691),r=i(853154),l=i(500349);class c extends l.TelemetryEventBase{constructor(e){super(),this._to=e}getEventName(){return"all_navigation"}getAttributes(){const e=super.getAttributes();return e.NavigationType=this.getNavDestinationType(),this._to&&(e.NavigationTo=this._to),e}}t.NavigationTab=class extends c{constructor(e){super(e)}getNavDestinationType(){return"TabView"}};t.NavigationConversation=class extends c{constructor(e,t,i,n,s,a,r,l){let c="OneOnOne";a?c="NewsChannel":r?c="NewsBot":o.isGroupConversation(e)?c="Group":o.isEncryptedThread(e)?c="E2EE":o.isAgent(e)?c=o.isMyBotConversation(e)?"MyBot":"Bot":o.isSkypeIdMri(e)&&-1!==e.indexOf("@")?c="SkypeIdLooksLikeEmail":o.isBookmarkConversation(e)&&(c="Bookmarks"),super(c),this._origin=t,this._browserOrigin=i,this._millisecSinceLastConv=n?Date.now()-n:-1,this._conversationsInGroup=s,this._conversationId=e,this._callId=l}getNavDestinationType(){return"Conversation"}getAttributes(){return n.assign(super.getAttributes(),this._getOwnAttributes())}_getOwnAttributes(){const e={};return n.isUndefined(this._origin)||(e.Origin=s.NavigationConversationOrigin[this._origin]),n.isUndefined(this._browserOrigin)||(e.BrowserOrigin=s.BrowserOrigin[this._browserOrigin]),!n.isUndefined(this._conversationsInGroup)&&this._conversationsInGroup&&(e.ConversationTypesForUserCount=this._conversationsInGroup),n.isUndefined(this._conversationId)||(e.ConversationId=this._conversationId),n.isUndefined(this._callId)||(e.CallId=this._callId),e.TimeSinceLastConv=this._millisecSinceLastConv,e}};t.NavigationCallInvalidMri=class extends c{constructor(e,t,i){super("CallInvalidMri"),this._isMriInvalid=o.isSkypeIdMri(e)&&-1!==e.indexOf("@"),this._origin=t,this._callId=i}shouldSend(){return!!this._isMriInvalid&&super.shouldSend()}getNavDestinationType(){return"CallInvalidMri"}getAttributes(){const e=super.getAttributes();return this._origin&&(e.Origin=s.NavigationCallOrigin[this._origin]),this._callId&&(e.CallId=this._callId),e}};class d extends l.TelemetryEventBase{constructor(e){super(),this._origin=e}getEventName(){return"all_notification_settings_menu_click"}getAttributes(){const e=super.getAttributes();return this._origin&&(e.Origin=a.NavigationSettingsOrigin[this._origin]),e}}t.NavigationNotificationSettings=d;class u extends l.TelemetryEventBase{constructor(e,t){super(),this._target=e,this._isFailure=t}getEventName(){return"feedback_navigation"}getAttributes(){const e=super.getAttributes();return e.Target=this._target,e.IsFailure=this._isFailure?"true":"false",e}}t.NavigationHelpAndFeedbackLink=u;class g extends l.TelemetryEventBase{constructor(e,t,i){super(),this._to=a.NavigationSettingsItem[e],this._origin=a.NavigationSettingsOrigin[t],this._telemetryCorrelationId=i}getEventName(){return"all_feedback_menu_click"}getAttributes(){const e=super.getAttributes();return e.NavigationType="SettingsMenu",this._origin&&(e.Origin=this._origin),this._to&&(e.NavigationTo=this._to),this._telemetryCorrelationId&&(e.TelemetryCorrelationId=this._telemetryCorrelationId),e}}t.NavigationHelpAndFeedback=g;class h extends g{constructor(e,t,i){super(e,a.NavigationSettingsOrigin.LandingScreen,i),this._landingScreenVariant=t}getAttributes(){const e=super.getAttributes();return e.CheckAccountSectionVariant=r.OnboardingCheckAccountSectionVariant[this._landingScreenVariant],e}}t.CheckAccountClick=class extends h{constructor(e,t){super(a.NavigationSettingsItem.CheckAccount,e,t)}};t.AccountReadMoreClick=class extends h{constructor(e,t){super(a.NavigationSettingsItem.AccountReadMore,e,t)}}},311311:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NdiTelemetryEvent=void 0;const n=i(174958),o=i(496486),s=i(516283),a=i(404057),r=i(500349);class l extends r.TelemetryEventBase{constructor(e,t){super(),this._name=e;const i=a.default.parseJsonErrorable(t);o.isError(i)?s.error(s.LogTraceArea.Ndi,"NdiTelemetryEvent constructor failed to parse json payload",a.default.errorAsString(i),n.pii.Omit(JSON.stringify(t))):this._payload=i}getEventName(){return this._name}getAttributes(){return o.assign(super.getAttributes(),this._payload)}}t.NdiTelemetryEvent=l},476192:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CaptivePortalQuestionnaireEvent=t.ConnectivityAlertDismissEvent=t.ConnectivityAlertShowEvent=t.CaptivePortalOpenBrowserEvent=t.CaptivePortalCheckFailureEvent=t.CaptivePortalCheckEvent=t.CaptivePortalQuestionnaireOption=void 0;const n=i(746096),o=i(500349);var s;!function(e){e[e.Invalid=1]="Invalid",e[e.Useless=2]="Useless",e[e.DontUnderstand=3]="DontUnderstand",e[e.Other=4]="Other",e[e.NoAnswer=5]="NoAnswer"}(s=t.CaptivePortalQuestionnaireOption||(t.CaptivePortalQuestionnaireOption={}));class a extends o.TelemetryEventBase{getEventName(){return"messaging_network"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class r extends a{constructor(e,t,i){super(),this._checkResult=e,this._connectedBefore=t,this._checkBefore=i,this._requestSuccess=!0}getActionName(){return"CaptivePortal"}getAttributes(){const e=super.getAttributes();return e.RequestSuccess=this._requestSuccess,e.CheckResult=this._getCheckResult(),e.ConnectedBefore=this._connectedBefore,e.CheckBefore=this._checkBefore,e}_getCheckResult(){return this._requestSuccess?this._checkResult?"Connected":"CaptivePortal":"RequestFailure"}}t.CaptivePortalCheckEvent=r;t.CaptivePortalCheckFailureEvent=class extends r{constructor(e,t,i,n){super(!0,e,t),this._statusText=i,this._timedOut=n,this._requestSuccess=!1}getAttributes(){const e=super.getAttributes();return e.StatusText=this._statusText,e.IsTimeout=this._timedOut,e}};t.CaptivePortalOpenBrowserEvent=class extends a{getActionName(){return"CaptivePortalBrowserOpen"}};t.ConnectivityAlertShowEvent=class extends a{constructor(e){super(),this._alertType=e}getActionName(){return"ConnectivityAlertShow"}getAttributes(){const e=super.getAttributes();return e.AlertType=n.ConnectivityAlertType[this._alertType],e}};t.ConnectivityAlertDismissEvent=class extends a{constructor(e){super(),this._alertType=e}getActionName(){return"ConnectivityAlertDismiss"}getAttributes(){const e=super.getAttributes();return e.AlertType=n.ConnectivityAlertType[this._alertType],e}};t.CaptivePortalQuestionnaireEvent=class extends a{constructor(e){super(),this._answer=e}getActionName(){return"CaptivePortalQuestionnaire"}getAttributes(){const e=super.getAttributes();return e.Answer=s[this._answer],e}}},261781:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(746096),o=i(415963),s=i(794050);t.default=class{constructor(){this._parameters={}}start(e,t,i){this._parameters={avatarSelected:!1,navigationOrigin:t,wizardSteps:i,participantCount:0,visitedParticipantPicker:!1,visitedSetConvInfoPanel:!1,existingConversationFound:!1},this._scenario=new s.default(o.ScenarioName.NewGroupChat,void 0,{},e),this._scenario.start(this._getStartAndFinishProperties())}setAvatarSelection(e){this._parameters.avatarSelected=e}setVisitedSetConvInfoPanel(){this._parameters.visitedSetConvInfoPanel=!0}setVisitedParticipantPicker(){this._parameters.visitedParticipantPicker=!0}setExistingConversationFound(){this._parameters.existingConversationFound=!0}setParticipantCount(e){this._parameters.participantCount=e}markFunnelCompleted(){this._scenario&&this._scenario.markStepCompleted("FunnelCompleted",this._getFunnelProperties())}markFunnelDropped(){this._scenario&&(this._scenario.markStepCompleted("FunnelDropped",this._getFunnelProperties()),this._scenario.finish(this._getStartAndFinishProperties()),this._reset())}markConversationCreated(){this._scenario&&(this._scenario.markStepCompleted("ConversationCreated"),this._scenario.finish(this._getStartAndFinishProperties()),this._reset())}finish(){this._scenario&&(this._scenario.finish(this._getStartAndFinishProperties()),this._reset())}fail(e,t,i,n,o){if(!this._scenario)return;const s={skypeErrorMessage:e||"",skypeErrorCode:t||"",httpStatusText:n||"",httpStatusCode:i||"",errorPayload:o||""};this._scenario.fail(void 0,s),this._reset()}_reset(){this._parameters={},this._scenario=void 0}_getFunnelProperties(){return{AvatarSelected:!!this._parameters.avatarSelected,ParticipantsCount:this._parameters.participantCount||-1,VisitedParticipantPicker:!!this._parameters.visitedParticipantPicker,VisitedSetConvInfoPanel:!!this._parameters.visitedSetConvInfoPanel,ExistingConversationFound:!!this._parameters.existingConversationFound,NewGroupChatNavOrigin:this._parameters.navigationOrigin?n.NavigationConversationOrigin[this._parameters.navigationOrigin]:"",WizardSteps:this._parameters.wizardSteps||""}}_getStartAndFinishProperties(){return{NewGroupChatNavOrigin:this._parameters.navigationOrigin?n.NavigationConversationOrigin[this._parameters.navigationOrigin]:""}}}},940821:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonFatalErrorFetchingToken=t.GaveUpOnFetchingToken=t.GotToken=void 0;const n=i(496486),o=i(500787);class s extends o.PriorityTelemetryEventBase{getEventName(){return"all_notification_registration"}getAttributes(){return n.assign(super.getAttributes(),{Action:this.getActionName()})}}t.GotToken=class extends s{getActionName(){return"GotToken"}getAttributes(){return n.assign(super.getAttributes(),{RegistrationAction:this.registrationAction})}};t.GaveUpOnFetchingToken=class extends s{getActionName(){return"GaveUpOnFetchingToken"}};t.NonFatalErrorFetchingToken=class extends s{constructor(e,t,i){super(),this._errorCode=e,this._errorMessage=t,this._networkConnectivityLevel=i}getActionName(){return"NonFatalErrorFetchingToken"}getAttributes(){return n.assign(super.getAttributes(),{Code:this._errorCode,Message:this._errorMessage,NetworkConnectivityLevel:this._networkConnectivityLevel})}}},528355:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationAppLaunched=t.NotificationIgnoredAsDuplicate=t.NotificationRawContentNotParsed=t.NotificationNotProcessedEvent=t.NotificationForIncorrectRecipientEvent=void 0;const n=i(496486),o=i(671830),s=i(746096),a=i(276173),r=i(500349),l=i(735370);class c extends r.TelemetryEventBase{constructor(e,t,i,n){super(),this._event=e,this._signedIn=t,this._notificationTime=i,this._cv=n}getEventName(){return"all_notification"}getAttributes(){return n.assign(super.getAttributes(),{Action:this.getActionName(),EventType:this._event,EventTypeName:a.PNHEvents[this._event],SignedIn:this._signedIn,TimeToProcess:this._notificationTime?this._eventCreationTime-this._notificationTime:-1,CorrelationVector:this._cv?this._cv:""})}}t.NotificationForIncorrectRecipientEvent=class extends c{getActionName(){return"IncorrectRecipient"}};t.NotificationNotProcessedEvent=class extends c{constructor(e,t,i,n){super(e,t,i,void 0),this._nodeId=n}getActionName(){return"NotProcessed"}getAttributes(){return n.assign(super.getAttributes(),{NodeId:this._nodeId||""})}};t.NotificationRawContentNotParsed=class extends c{constructor(e,t,i){super(e,!0,t,i)}getActionName(){return"RawContentNotParsed"}};t.NotificationIgnoredAsDuplicate=class extends c{constructor(e,t,i){super(e,!0,t,i)}getActionName(){return"IgnoredAsDuplicate"}};class d extends r.TelemetryEventBase{constructor(e,t){super(),this._type=e,this._conversationId=t}getEventName(){return"all_notification_app_launched"}getAttributes(){const e=super.getAttributes();e.Action="NotificationClicked",e.NotificationType=s.NotificationTypeAppLaunched[this._type],e.IsGroupConversation=o.isGroupConversation(this._conversationId);const t=l.getTrackableConversationId(this._conversationId);return t&&(e.ConversationId=t),e}}t.NotificationAppLaunched=d},729143:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationsPromptClosed=t.NotificationsPromptSettingsOpened=t.NotificationsPromptDisplayed=t.NotificationPromptOrigin=void 0;const n=i(500349);var o;!function(e){e[e.ConversationList=0]="ConversationList",e[e.AlertPanel=1]="AlertPanel"}(o=t.NotificationPromptOrigin||(t.NotificationPromptOrigin={}));class s extends n.TelemetryEventBase{constructor(e){super(),this._origin=e}getEventName(){return"notificationsPrompt_action"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.Origin=o[this._origin],e}}t.NotificationsPromptDisplayed=class extends s{getActionName(){return"displayed"}};t.NotificationsPromptSettingsOpened=class extends s{constructor(){super(...arguments),this._enabledNotifications=!1}getActionName(){return"opened"}enabledNotifications(){this._enabledNotifications=!0}getAttributes(){const e=super.getAttributes();return e.Enabled_Notifications=this._enabledNotifications,e}};t.NotificationsPromptClosed=class extends s{getActionName(){return"closed"}}},697311:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NotifyMyFriendsEvent=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(e,t){super(),this._statusCode=e,this._shortCircuitContactCount=t}getEventName(){return"people_notify_my_friends"}getAttributes(){const e=super.getAttributes();return e.StatusCode=this._statusCode,e.ShortCircuitContactCount=this._shortCircuitContactCount,e}}t.NotifyMyFriendsEvent=o},341306:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LoadingFinished=t.SkypeNumberPurchaseFlowOptionSelected=t.SkypeNumberPurchaseFlowOptionClick=t.SkypeNumberPurchaseFlowClick=t.SkypeNumberPanelOpened=t.SkypeNumberTelemetry=t.CreditPickerNoOffersRetryClick=t.CreditPickerNoOffersToRender=t.CreditPickerRenderingError=t.BuyCreditOfferOptionClick=t.CreditOfferOptionClick=t.OffersIntroductionButtonClick=t.ButtonClicked=t.CreditProductRequestFailed=t.CreditProductsLoaded=t.SkypeNumberLoaded=t.RecommendedSubscriptionsLoaded=t.PurchaseContinuationPanelOpened=t.PromotionDetailsReceived=void 0;const n=i(496486),o=i(496486),s=i(278230),a=i(814806),r=i(432288),l=i(404057),c=i(640363),d=i(500349);class u extends d.TelemetryEventBase{getEventName(){return"s4l_offers"}getAriaTenantTokenOverride(){return c.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.PromotionDetailsReceived=class extends u{constructor(e,t,i){super(),this._offerType=e,this._goLink=t,this._inAppAllowed=i}getActionName(){return"PromotionDetailsReceived"}getAttributes(){const e=super.getAttributes();return e.OfferType=this._offerType,e.InAppAllowed=n.isUndefined(this._inAppAllowed)?"undefined":this._inAppAllowed,e.GoLink=this._goLink,e}};t.PurchaseContinuationPanelOpened=class extends u{constructor(e,t){super(),this._offerType=e,this._campaignRef=t}getActionName(){return"PurchaseContinuationPanelOpened"}getAttributes(){const e=super.getAttributes();return e.OfferType=this._offerType,e.CampaignRef=this._campaignRef||"",e}};t.RecommendedSubscriptionsLoaded=class extends u{constructor(e,t,i){super(),this._cardsToShow=e,this._defaultOpened=t,this._totalRecOffers=i}getActionName(){return"RecommendedSubscriptionsLoaded"}getAttributes(){const e=super.getAttributes();return e.CardsToShowCount=this._cardsToShow||"",e.TotalCardsCount=this._totalRecOffers||"",e.isDefaultOpened=this._defaultOpened||"",e}};t.SkypeNumberLoaded=class extends u{constructor(e){super(),this._startOrderSessionId=e}getActionName(){return"SkypeNumberLoaded"}getAttributes(){const e=super.getAttributes();return e.StartOrderSessionId=this._startOrderSessionId||"",e}};t.CreditProductsLoaded=class extends u{constructor(e){super(),this._startOrderSessionId=e}getActionName(){return"CreditProductsLoaded"}getAttributes(){const e=super.getAttributes();return e.StartOrderSessionId=this._startOrderSessionId||"",e}};t.CreditProductRequestFailed=class extends u{constructor(e,t){super(),this._isNative=e,this._startOrderSessionId=t}getActionName(){return"CreditProductRequestFailed"}getAttributes(){const e=super.getAttributes();return e.IsNative=this._isNative,e.StartOrderSessionId=this._startOrderSessionId||"",e}};t.ButtonClicked=class extends u{constructor(e,t,i,n,o,s,a,r,l){super(),this._cardType=e,this._location=t,this._offerType=i,this._campaignRef=n,this._cardsToShow=o,this._defaultOpened=s,this._startOrderSessionId=a,this._orderId=r,this._skuId=l}getActionName(){return"ContinueButtonClicked"}getAttributes(){const e=super.getAttributes();return e.CardType=this._getBackwardsCompatibleCardTypeAttribute(),e.Location=a.Location[this._location],e.OfferType=this._offerType||"",e.CampaignRef=this._campaignRef||"",e.CardsToShowCount=void 0!==this._cardsToShow?this._cardsToShow:"",e.isDefaultOpened=void 0!==this._defaultOpened?this._defaultOpened:"",e.StartOrderSessionId=this._startOrderSessionId||"",e.OrderId=this._orderId||"",e.SkuId=this._skuId||"",e}_getBackwardsCompatibleCardTypeAttribute(){switch(this._location){case a.Location.BalancePanel:switch(this._cardType){case a.CardType.CallingRecommended:return"BalanceRecommended";case a.CardType.Credit:case a.CardType.CreditSingle:return"BalanceCredit";default:return"Balance"+a.CardType[this._cardType]}case a.Location.ContinuePurchase:switch(this._cardType){case a.CardType.CallingPersonal:return"ContinueCallingRecommended";case a.CardType.CallingRecommended:return"ContinueCallingPopular";case a.CardType.Credit:case a.CardType.CreditSingle:return"ContinueCredit";default:return"Continue"+a.CardType[this._cardType]}default:return a.Location[this._location]+a.CardType[this._cardType]}}};t.OffersIntroductionButtonClick=class extends u{constructor(e){super(),this._step=e}getActionName(){return"OffersIntroductionButtonClick"}getAttributes(){const e=super.getAttributes();return e.Step=this._step,e}};t.CreditOfferOptionClick=class extends u{constructor(e,t,i){super(),this._creditOffer=e,this._isStacked=t,this._creditPickerSize=i}getActionName(){return"CreditOfferOptionClick"}getAttributes(){const e=super.getAttributes();return e.CreditOffer=this._creditOffer,e.IsStacked=this._isStacked,e.CreditPickerSize=this._creditPickerSize,e}};t.BuyCreditOfferOptionClick=class extends u{constructor(e,t,i,n,o,s){super(),this._creditOffer=e,this._buttonType=t,this._location=i,this._isStacked=n,this._creditPickerSize=o,this._wasCreditPickerUsed=s}getActionName(){return"BuyCreditOfferOptionClick"}getAttributes(){const e=super.getAttributes();return e.CreditOffer=this._creditOffer,e.ButtonType=this._buttonType,e.Location=a.Location[this._location],void 0!==this._isStacked&&(e.IsStacked=this._isStacked),void 0!==this._creditPickerSize&&(e.CreditPickerSize=this._creditPickerSize),void 0!==this._wasCreditPickerUsed&&(e.WasCreditPickerUsed=this._wasCreditPickerUsed),e}};t.CreditPickerRenderingError=class extends u{getActionName(){return"CreditPickerRenderingError"}};t.CreditPickerNoOffersToRender=class extends u{constructor(e,t){super(),this._location=e,this._startOrderSessionId=t}getActionName(){return"CreditPickerNoOffersToRender"}getAttributes(){const e=super.getAttributes();return e.Location=a.Location[this._location],e.StartOrderSessionId=this._startOrderSessionId||"",e}};t.CreditPickerNoOffersRetryClick=class extends u{constructor(e){super(),this._location=e}getActionName(){return"CreditPickerNoOffersRetryClick"}getAttributes(){const e=super.getAttributes();return e.Location=a.Location[this._location],e}};t.SkypeNumberTelemetry=class extends u{constructor(e,t,i,n){super(),this._subtype=e,this._action=t,this._location=i,this._fromBuyToFetchDuration=n}getActionName(){return"SkypeNumber"+r.SkypeNumberTelemetryOrigin[this._subtype]+this._actionType()}_actionType(){return this._action?(0,s.flow)(o.camelCase,o.upperFirst)(this._action):""}getAttributes(){const e=super.getAttributes();return e.Location=void 0!==this._location?a.Location[this._location]:"",e.FromBuyToFetchDuration=void 0!==this._fromBuyToFetchDuration?this._fromBuyToFetchDuration:"",e}};t.SkypeNumberPanelOpened=class extends u{constructor(e){super(),this._location=e}getActionName(){return"SkypeNumberPanelOpened"}getAttributes(){const e=super.getAttributes();return e.Location=a.Location[this._location],e}};t.SkypeNumberPurchaseFlowClick=class extends u{constructor(e,t,i){super(),this._buttonClicked=e,this._defaultClick=t,this._startOrderSessionId=i}getActionName(){return"SkypeNumberPurchaseFlowClick"}getAttributes(){const e=super.getAttributes();return e.ButtonClicked=this._buttonClicked,void 0!==this._defaultClick&&(e.DefaultClick=this._defaultClick),e.StartOrderSessionId=this._startOrderSessionId||"",e}};t.SkypeNumberPurchaseFlowOptionClick=class extends u{constructor(e){super(),this._skypeNumberOption=e}getActionName(){return"SkypeNumberPurchaseFlowOptionClick"}getAttributes(){const e=super.getAttributes();return e.SkypeNumberOption=this._skypeNumberOption,e}};t.SkypeNumberPurchaseFlowOptionSelected=class extends u{constructor(e,t,i,n){super(),this._skypeNumberOption=e,this._optionSelectedCountryRegion=t,this._optionSelectedArea=i,this._optionSelectedPrefix=n}getActionName(){return"SkypeNumberPurchaseFlowOptionSelected"}getAttributes(){const e=super.getAttributes();return e.SkypeNumberOption=this._skypeNumberOption,e.OptionSelectedCountryRegion=l.default.toUpper(this._optionSelectedCountryRegion)||"",e.OptionSelectedArea=l.default.toUpper(this._optionSelectedArea)||"",e.OptionSelectedPrefix=this._optionSelectedPrefix||"",e}};t.LoadingFinished=class extends u{constructor(e,t,i,n,o){super(),this._duration=e,this._location=t,this._closedBeforeLoadingFinished=i,this._isNative=n,this._startOrderSessionId=o}getActionName(){return"LoadingFinished"}getAttributes(){const e=super.getAttributes();return e.Duration=this._duration,e.Location=a.Location[this._location],e.ClosedBeforeLoadingFinish=this._closedBeforeLoadingFinished,e.IsNative=this._isNative,e.StartOrderSessionId=this._startOrderSessionId||"",e}}},109106:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PressAction=t.PressScenario=void 0;const n=i(500349),o=i(640363);!function(e){e.HubTab="HubTab",e.SearchNavigation="SearchNavigation",e.MeetNow="MeetNow",e.Notification="Notification",e.SearchAccessory="SearchAccessory",e.NavigationHeader="NavigationHeader"}(t.PressScenario||(t.PressScenario={}));class s extends n.TelemetryEventBase{constructor(e,t,i){super(),this._scenario=e,this._origin=t,this._destination=i,this._actionStartTime=Date.now()}getEventName(){return"press_action"}getAttributes(){const e=super.getAttributes();return e.Scenario=this._scenario,e.Origin=this._origin,e.TimeGap=this._actionStartTime-o.default.getAppInitTime(),this._destination&&(e.Destination=this._destination),e}}t.PressAction=s},887226:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserProfileChange=t.LandingPageWithCardsTelemetryEvent=t.CheckAccountSectionUnknownSignId=t.SwitchAccountClicked=t.StartNewConversationClicked=t.LandingPageShown=t.OnboardingActivityDone=t.OnboardingActivityType=t.FinishSetupPromptClicked=t.WelcomeViewWithCardsDisplayed=t.WelcomeViewWithProfileUpdateDisplayed=t.ClickedLearnMoreOnEmptyStateCta=t.DisplayedEmptyStateCta=t.EmptyStateOrigin=t.TutorialLaunched=t.TutorialLaunchOrigin=t.SetupWizardClickedOutside=t.BugReportedInWizard=t.SetupWizardFinished=t.AvatarChanged=t.SetupWizardStarted=t.FailFinishOnboardingEventBase=void 0;const n=i(496486),o=i(823113),s=i(516778),a=i(72822),r=i(746096),l=i(853154),c=i(500349);class d extends c.TelemetryEventBase{constructor(){super(...arguments),this._onboardingTrackingAttributes={}}setOnboardingAttributes(e){this._onboardingTrackingAttributes=e}getOnboardingAttributes(){return this._onboardingTrackingAttributes}getAttributes(){return n.extend({},super.getAttributes(),this.getOnboardingAttributes())}}class u extends d{constructor(e){super(),this._dialogOrigin=e}getEventName(){return"onboarding_setup"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.DialogOrigin=a.DialogNavOrigin[this._dialogOrigin],e}}t.FailFinishOnboardingEventBase=class extends u{constructor(e){super(e)}getActionName(){return"failed"}};t.SetupWizardStarted=class extends u{constructor(e,t,i,n,o,s,a,r){super(e),this._appState=t,this._stringifiedSteps=i,this._notificationsPermission=n,this._cameraPermission=o,this._microphonePermission=s,this._contactsPermission=a,this._scenarioId=r}getActionName(){return"started"}getAttributes(){const e=super.getAttributes();return e.AppState=s.Types.AppActivationState[this._appState],e.StepSequence=this._stringifiedSteps,e.NotificationsPermission=o.PermissionStatus[this._notificationsPermission],e.CameraPermission=o.PermissionStatus[this._cameraPermission],e.MicrophonePermission=o.PermissionStatus[this._microphonePermission],e.ContactsPermission=o.PermissionStatus[this._contactsPermission],e.ScenarioId=this._scenarioId,e}};t.AvatarChanged=class extends u{constructor(e,t,i,n){super(n),this._success=e,this._avatarChangeType=t,this._durationInMs=i}getActionName(){return"avatar_changed"}getAttributes(){return n.assign(super.getAttributes(),{ChangeType:r.AvatarChangeType[this._avatarChangeType],Success:this._success,Duration:this._durationInMs})}};t.SetupWizardFinished=class extends u{constructor(e,t,i,n,o,s){super(t),this._duration=e,this._firstOccurence=i,this._scenarioId=n,this._success=o,this._stringifiedSteps=s}getActionName(){return"finished"}getAttributes(){const e=super.getAttributes();return e.Duration=this._duration,e.FirstOccurence=this._firstOccurence,e.ScenarioId=this._scenarioId,e.Success=this._success,e.StepSequence=this._stringifiedSteps,e}};t.BugReportedInWizard=class extends u{constructor(e){super(e)}getActionName(){return"bugReportedInWizard"}};t.SetupWizardClickedOutside=class extends u{constructor(e){super(e)}getActionName(){return"clickedOutside"}getAttributes(){return super.getAttributes()}};class g extends c.TelemetryEventBase{constructor(){super(...arguments),this._onboardingTrackingAttributes={}}setOnboardingAttributes(e){this._onboardingTrackingAttributes=e}getOnboardingAttributes(){return this._onboardingTrackingAttributes}getEventName(){return"onboarding_postsetup"}getAttributes(){let e=super.getAttributes();return e=n.merge([],e,this.getOnboardingAttributes()),e}}var h,p,S;!function(e){e[e.LandingScreenStandard=0]="LandingScreenStandard",e[e.LandingScreenForNewUsers=1]="LandingScreenForNewUsers"}(h=t.TutorialLaunchOrigin||(t.TutorialLaunchOrigin={}));t.TutorialLaunched=class extends g{constructor(e,t){super(),this._origin=e,this._isRestarted=t}getActionName(){return"tutorialLaunched"}getAttributes(){const e=super.getAttributes();return e.Origin=h[this._origin],e.IsRestarted=this._isRestarted,e}},function(e){e[e.Unknown=0]="Unknown",e[e.NoCalls=1]="NoCalls",e[e.NoRecentConversations=2]="NoRecentConversations"}(p=t.EmptyStateOrigin||(t.EmptyStateOrigin={}));t.DisplayedEmptyStateCta=class extends g{constructor(e){super(),this._origin=e}getActionName(){return"emptyStateCtaDisplayed"}getAttributes(){return n.assign(super.getAttributes(),{Origin:p[this._origin]})}};t.ClickedLearnMoreOnEmptyStateCta=class extends g{getActionName(){return"clickedLearnMoreOnEmptyStateCta"}};t.WelcomeViewWithProfileUpdateDisplayed=class extends g{getActionName(){return"welcomeViewWithProfileUpdateDisplayed"}};t.WelcomeViewWithCardsDisplayed=class extends g{getActionName(){return"welcomeViewWithCardsDisplayed"}};t.FinishSetupPromptClicked=class extends g{getActionName(){return"finishSetupPromptClicked"}},function(e){e[e.FirstMessageReceived=0]="FirstMessageReceived",e[e.FirstCallAnswered=1]="FirstCallAnswered"}(S=t.OnboardingActivityType||(t.OnboardingActivityType={}));t.OnboardingActivityDone=class extends g{constructor(e){super(),this._activityType=e}getActionName(){return"activityDone"}getAttributes(){const e=super.getAttributes();return e.ActivityType=S[this._activityType],e}};class m extends c.TelemetryEventBase{constructor(){super(...arguments),this._onboardingTrackingAttributes={}}setOnboardingAttributes(e){this._onboardingTrackingAttributes=e}getOnboardingAttributes(){return this._onboardingTrackingAttributes}getEventName(){return"onboarding_homescreen"}getAttributes(){let e=super.getAttributes();return e=n.merge([],e,this.getOnboardingAttributes()),e.Action=this.getActionName(),e}}t.LandingPageShown=class extends m{getActionName(){return"LandingPageShown"}};t.StartNewConversationClicked=class extends m{getActionName(){return"StartNewConversationClicked"}};class C extends m{constructor(e){super(),this._variant=e}getAttributes(){const e=super.getAttributes();return e.Variant=l.OnboardingCheckAccountSectionVariant[this._variant],e}}t.SwitchAccountClicked=class extends C{getActionName(){return"SwitchAccountClick"}};t.CheckAccountSectionUnknownSignId=class extends C{constructor(e,t){super(e),this._originalVariant=t}getActionName(){return"CheckAccountSectionUnknownSignId"}getAttributes(){const e=super.getAttributes();return e.OriginalVariant=l.OnboardingCheckAccountSectionVariant[this._originalVariant],e}};t.LandingPageWithCardsTelemetryEvent=class extends d{constructor(e){super(),this.props=e}getEventName(){return"onboarding_landing_page_with_cards"}getAttributes(){const e=super.getAttributes();return e.CardName=l.LandingPageCardId[this.props.cardId],this.props.actionPerformed&&(e.ActionPerformed=this.props.actionPerformed),this.props.wasAppUpdated&&(e.WasAppUpdated=this.props.wasAppUpdated),e}};t.UserProfileChange=class extends u{constructor(e){super(e.origin),this._props=e}getActionName(){return"user_profile_change"}getAttributes(){const e=super.getAttributes();return this._props.addPhoneNumber&&(e.DidChooseAddPhoneNumber=this._props.addPhoneNumber),this._props.addEmail&&(e.DidChooseAddEmail=this._props.addEmail),e}}},531571:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OneDriveAddinLoadEvent=t.OneDriveStoreEvent=t.OneDriveStoreEvents=void 0;const n=i(496486),o=i(528234),s=i(573667);var a;!function(e){e[e.OneDriveDriveDetailsReceived=0]="OneDriveDriveDetailsReceived",e[e.OneDriveAllItemsReceived=1]="OneDriveAllItemsReceived",e[e.OneDriveRecentItemsReceived=2]="OneDriveRecentItemsReceived",e[e.OneDriveSearchItemsReceived=3]="OneDriveSearchItemsReceived",e[e.OneDriveExistingShareLinkReceived=4]="OneDriveExistingShareLinkReceived",e[e.OneDriveCreateShareLinkReceived=5]="OneDriveCreateShareLinkReceived"}(a=t.OneDriveStoreEvents||(t.OneDriveStoreEvents={}));class r extends s.IntegrationStoreTelemetryEvent{constructor(e,t,i,n,s){super(o.IntegrationIds.OneDrive,a[e],t,i,n,s)}}t.OneDriveStoreEvent=r;class l extends s.IntegrationActionTelemetryEvent{constructor(e){super(o.IntegrationIds.OneDrive,"OneDriveAddinLoaded"),this._timeToLoad=e}getIntegrationActionAttributes(){return n.merge({LoadDuration:this._timeToLoad},super.getIntegrationActionAttributes())}}t.OneDriveAddinLoadEvent=l},969417:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SmsSent=t.SmsDeliveryFailed=t.SmsLineSwitcherShown=void 0;const n=i(496486),o=i(615301),s=i(500349);var a;!function(e){e[e.SmsLineSwitcherShown=0]="SmsLineSwitcherShown",e[e.SmsDeliveryFailed=1]="SmsDeliveryFailed",e[e.SmsSent=2]="SmsSent"}(a||(a={}));class r extends s.TelemetryEventBase{constructor(e){super(),this._action=e}getAttributes(){const e=super.getAttributes();return e.Action=a[this._action],e}getEventName(){return"messaging_sms"}}t.SmsLineSwitcherShown=class extends r{constructor(){super(a.SmsLineSwitcherShown),this._wasSmsSent=!1,this._wasSkypeMessageSent=!1,this._switchedToSkype=!1,this._switchedToSms=!1,this._flowId=o.default.getFlowId()}setSmsWasSent(e){this._wasSmsSent=e}setSwitchedToSmsMode(e){this._switchedToSms=e}setSwitchedToSkype(e){this._switchedToSkype=e}setFlowId(e){this._flowId=e}setSkypeMessageSent(e){this._wasSkypeMessageSent=e}getAttributes(){const e=super.getAttributes();return e.DidSwitchToSms=this._switchedToSms,e.DidSendSMS=this._wasSmsSent,e.DidSwitchToSkype=this._switchedToSkype,e.DidSendSkypeMsg=this._wasSkypeMessageSent,e.FlowId=this._flowId,e}};t.SmsDeliveryFailed=class extends r{constructor(e,t){super(a.SmsDeliveryFailed),this._clientMessageId=e,this._deliveryStatus=t}getAttributes(){return n.assign({},super.getAttributes(),{ClientMessageId:this._clientMessageId||"",ErrorCategory:this._deliveryStatus.errorCategory,Status:this._deliveryStatus.status})}};t.SmsSent=class extends r{constructor(e){super(a.SmsSent),this._callerIdType=e}getAttributes(){return n.assign({},super.getAttributes(),{CallerIdType:this._callerIdType||"CallerID Off"})}}},735426:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.E911BingMapsEvent=t.E911EmergencyContentEvent=t.E911LocationUpdateEvent=t.E911LocationConsentEvent=t.E911AcknowledgementEvent=t.TasterImageShown=t.DefaultCountryStored=t.ContactSelected=t.SaveContactDialpadFlowStep=t.DialerPanelComponentClick=t.EmergencyCallDefaultCountryChanged=t.EmergencyCallFailed=t.EmergencyCall=t.EmergencyNumber=t.StartCall=t.PasteNumber=t.NavigateToDialpad=t.SaveContactFlowStep=t.DialerPanelClickTarget=void 0;const n=i(746096),o=i(640363),s=i(500349);var a,r;!function(e){e[e.ContactsIcon=0]="ContactsIcon",e[e.SettingsButton=1]="SettingsButton",e[e.CallButton=2]="CallButton",e[e.SmsButton=3]="SmsButton",e[e.SaveContactButton=4]="SaveContactButton"}(a=t.DialerPanelClickTarget||(t.DialerPanelClickTarget={})),function(e){e[e.SaveContactButtonShow=0]="SaveContactButtonShow",e[e.SaveContactSuceeded=1]="SaveContactSuceeded",e[e.SaveContactCancelled=2]="SaveContactCancelled"}(r=t.SaveContactFlowStep||(t.SaveContactFlowStep={}));class l extends s.TelemetryEventBase{getEventName(){return"s4l_dialpad"}getAriaTenantTokenOverride(){return o.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.NavigateToDialpad=class extends l{constructor(e,t=!1){super(),this._navigationSource=e,this._usePrefilledNumber=t}getActionName(){return"NavigateToDialpad"}getAttributes(){const e=super.getAttributes();return e.NavigationSource=n.DialerNavigationSource[this._navigationSource],e.UsePrefilledNumber=this._usePrefilledNumber,e}};t.PasteNumber=class extends l{getActionName(){return"PasteNumber"}};t.StartCall=class extends l{constructor(e){super(),this._phoneNumberOrigin=e}getActionName(){return"StartCall"}getAttributes(){const e=super.getAttributes();return e.PhoneNumberOrigin=this._phoneNumberOrigin,e}};t.EmergencyNumber=class extends l{getActionName(){return"EmergencyNumber"}};t.EmergencyCall=class extends l{getActionName(){return"EmergencyCall"}};t.EmergencyCallFailed=class extends l{getActionName(){return"EmergencyCallFailed"}};t.EmergencyCallDefaultCountryChanged=class extends l{constructor(e){super(),this._country=e}getActionName(){return"EmergencyCallDefaultCountryChanged"}getAttributes(){const e=super.getAttributes();return e.Country=this._country,e}};t.DialerPanelComponentClick=class extends l{constructor(e,t){super(),this._target=e,this._userEntitlementsSummary=t}getActionName(){return"DialerPanelComponentClick"}getAttributes(){const e=super.getAttributes();return e.Target=a[this._target],this._userEntitlementsSummary&&(e.UserEntitlementsSummary=this._userEntitlementsSummary),e}};t.SaveContactDialpadFlowStep=class extends l{constructor(e){super(),this._step=e}getActionName(){return r[this._step]}};t.ContactSelected=class extends l{constructor(e){super(),this._inputLength=e}getActionName(){return"ContactSelected"}getAttributes(){const e=super.getAttributes();return e.InputLength=this._inputLength,e}};t.DefaultCountryStored=class extends l{constructor(e,t){super(),this._countryOld=e,this._countryNew=t}getActionName(){return"DefaultCountryStored"}getAttributes(){const e=super.getAttributes();return e.CountryOld=this._countryOld,e.CountryNew=this._countryNew,e}};t.TasterImageShown=class extends l{getActionName(){return"TasterImageShown"}};t.E911AcknowledgementEvent=class extends l{getActionName(){return"E911Acknowledgement"}};t.E911LocationConsentEvent=class extends l{constructor(e){super(),this._isGranted=e}getActionName(){return"E911LocationConsent"}getAttributes(){const e=super.getAttributes();return e.IsGranted=this._isGranted,e}};t.E911LocationUpdateEvent=class extends l{getActionName(){return"E911LocationUpdate"}};t.E911EmergencyContentEvent=class extends l{getActionName(){return"E911EmergencyContent"}};t.E911BingMapsEvent=class extends l{constructor(e){super(),this._statusCode=e}getActionName(){return"E911BingMaps"}getAttributes(){const e=super.getAttributes();return e.StatusCode=this._statusCode,e}}},423175:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NativeOrderDelivered=t.SkypeNumberPurchaseFailed=t.SkypeNumberPurchaseSuccess=t.NativePurchaseSuccess=t.SkypeStartPayment=t.SkypeOrderCreateSuccess=t.ClickPurchaseNumberPanel=t.CloseProductPanel=t.OpenProductpanel=t.SendCreditEvent=t.SendCreditStep=t.NativeProductFetch=t.PurchaseConfirmationDialogClick=t.PurchaseConfirmationDialog=t.SkypeNumberPurchase=t.SubscriptionPurchase=t.Purchase=t.PurchaseStep=t.GPlayStep=t.PaymentStep=t.GooglePayStep=t.GPayStep=t.PurchaseFlowStep=void 0;const n=i(496486),o=i(404057),s=i(640363),a=i(500349);var r;!function(e){e.ShowFreeTrial="show_free_trial",e.ClickFreeTrial="click_free_trial"}(t.PurchaseFlowStep||(t.PurchaseFlowStep={}));class l extends a.TelemetryEventBase{getEventName(){return"s4l_payments"}getAriaTenantTokenOverride(){return s.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}!function(e){e.IsReady="isReady",e.NotReady="notReady",e.RequestPaymentSuccess="requestPaymentSuccess",e.RequestPaymentFail="requestPaymentFail"}(t.GPayStep||(t.GPayStep={}));t.GooglePayStep=class extends l{constructor(e,t,i){super(),this._props={},this._props.step=e,this._props.errorCode=null!=t?t:"",this._props.errorMessage=null!=i?i:""}getActionName(){return"gpay_step"}getAttributes(){return n.assign(super.getAttributes(),this._props)}};class c extends l{constructor(e,t={},i,n,o){super(),this._props=t,this._props.step=e,this._props.StartOrderSessionId=i||"",this._props.OrderId=n||"",this._props.SkuId=o||""}getActionName(){return"payment_step"}getAttributes(){return n.assign(super.getAttributes(),this._props)}}t.PaymentStep=c;t.GPlayStep=class extends c{constructor(e,t={},i){super(e,t,i)}getActionName(){return"gplay_step"}getAttributes(){return super.getAttributes()}};t.PurchaseStep=class extends l{constructor(e,t={}){super(),this._props=t,this._props.step=e}getActionName(){return"purchase_step"}getAttributes(){return n.assign(super.getAttributes(),this._props)}};class d extends l{constructor(e,t,i,n,o,s,a,r,l){super(),this._timeSpent=e,this._buttonType=t,this._isNative=i,this._product=n,this._productCurrency=o,this._appStoreCountry=s,this._startOrderSessionId=a,this._offerId=r,this._skuId=l}getActionName(){return"buy_credit_click"}getAttributes(){const e=super.getAttributes();return e.TimeSpent=this._timeSpent/1e3,e.ButtonType=this._buttonType,e.IsNative=this._isNative,e.Product=this._product,e.ProductCurrency=this._productCurrency||"",e.AppStoreCountry=this._appStoreCountry||"",e.StartOrderSessionId=this._startOrderSessionId||"",e.OfferId=this._offerId||"",e.SkuId=this._skuId||"",e}}t.Purchase=d;t.SubscriptionPurchase=class extends d{getActionName(){return"buy_subscription_click"}};t.SkypeNumberPurchase=class extends d{constructor(e,t,i,n,o,s,a,r,l){super(e,t,i,n,o,s),this._snCountryRegion=a,this._snArea=r,this._snPrefix=l}getActionName(){return"buy_skypenumber_click"}getAttributes(){const e=super.getAttributes();return e.CountryRegion=o.default.toUpper(this._snCountryRegion)||"",e.Area=o.default.toUpper(this._snArea)||"",e.Prefix=this._snPrefix||"",e}};class u extends l{constructor(e){super(),this.payload=e}getActionName(){return"purchase_dialog_open"}getAttributes(){const e=super.getAttributes();return e.DialogId=this.payload.dialogId,e}}t.PurchaseConfirmationDialog=u;t.PurchaseConfirmationDialogClick=class extends u{constructor(e){super(e),this.payload=e}getActionName(){return"purchase_dialog_click"}getAttributes(){const e=super.getAttributes();return e.ConfirmationDuration=this.payload.confirmationDuration/1e3,e.ButtonType=this.payload.buttonType,e}};t.NativeProductFetch=class extends l{constructor(e,t,i){super(),this._duration=e,this._isSuccess=t,this._error=i}getActionName(){return"fetch_native_product"}getAttributes(){const e=super.getAttributes();return e.Duration=this._duration,e.IsSuccess=this._isSuccess,this._error&&(e.Error=this._error),e}},function(e){e[e.ChatClick=0]="ChatClick",e[e.EligibilityConfirm=1]="EligibilityConfirm",e[e.Submit=2]="Submit",e[e.Confirm=3]="Confirm",e[e.Message=4]="Message",e[e.SkypeToPhoneSendClick=5]="SkypeToPhoneSendClick",e[e.ChooseRecipient=6]="ChooseRecipient",e[e.Deeplink=7]="Deeplink"}(r=t.SendCreditStep||(t.SendCreditStep={}));t.SendCreditEvent=class extends l{constructor(e,t,i){super(),this._step=e,this._denominationId=t,this._cardId=i}getActionName(){return"send_credit"}getAttributes(){const e=super.getAttributes();return e.Step=r[this._step],void 0!==this._denominationId&&(e.DenominationId=this._denominationId),void 0!==this._cardId&&(e.CardId=this._cardId),e}};t.OpenProductpanel=class extends l{constructor(e){super(),this._startOrderSessionId=e}getActionName(){return"open_productpanel"}getAttributes(){const e=super.getAttributes();return e.StartOrderSessionId=this._startOrderSessionId,e}};t.CloseProductPanel=class extends l{constructor(e,t){super(),this._rootViewId=e,this._startOrderSessionId=t}getActionName(){return"close_productpanel"}getAttributes(){const e=super.getAttributes();return e.RootViewId=this._rootViewId,e.StartOrderSessionId=this._startOrderSessionId||"",e}};t.ClickPurchaseNumberPanel=class extends l{constructor(e){super(),this._startOrderSessionId=e}getActionName(){return"click_purchase_number_panel"}getAttributes(){const e=super.getAttributes();return e.StartOrderSessionId=this._startOrderSessionId||"",e}};t.SkypeOrderCreateSuccess=class extends l{constructor(e,t,i){super(),this._order=e,this._startOrderSessionId=t,this._orderId=i}getActionName(){return"skype_order_create_success"}getAttributes(){const e=super.getAttributes();return e.Order=this._order,e.StartOrderSessionId=this._startOrderSessionId||"",e.OrderId=this._orderId,e}};t.SkypeStartPayment=class extends l{constructor(e){super(),this._startOrderSessionId=e}getActionName(){return"skype_start_payment"}getAttributes(){const e=super.getAttributes();return e.StartOrderSessionId=this._startOrderSessionId||"",e}};t.NativePurchaseSuccess=class extends l{constructor(e,t,i){super(),this._startOrderSessionId=e,this._orderId=t,this._productId=i}getActionName(){return"native_purchase_success"}getAttributes(){const e=super.getAttributes();return e.StartOrderSessionId=this._startOrderSessionId||"",e.OrderId=this._orderId||"",e.ProductId=this._productId||"",e}};t.SkypeNumberPurchaseSuccess=class extends l{constructor(e){super(),this._startOrderSessionId=e}getActionName(){return"skypenumber_purchase_success"}getAttributes(){const e=super.getAttributes();return e.StartOrderSessionId=this._startOrderSessionId||"",e}};t.SkypeNumberPurchaseFailed=class extends l{constructor(e,t){super(),this._startOrderSessionId=e,this._error=t}getActionName(){return"skypenumber_purchase_fail"}getAttributes(){const e=super.getAttributes();return e.StartOrderSessionId=this._startOrderSessionId||"",e.Error=this._error,e}};t.NativeOrderDelivered=class extends l{constructor(e,t){super(),this._startOrderSessionId=e,this._orderId=t}getActionName(){return"native_order_delivered"}getAttributes(){const e=super.getAttributes();return e.StartOrderSessionId=this._startOrderSessionId||"",e.OrderId=this._orderId,e}}},594465:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PeopleYouMayKnowNoticeDialogEvent=t.SyncAddressBookDialogEvent=void 0;const n=i(496486),o=i(115489);class s extends o.OnboardingDialogEvent{constructor(){super(...arguments),this._didPressNextOnValueProp=!1,this._didHavePermission=!1,this._didPromptBefore=!1,this._didRequestPermission=!1,this._didGrantPermission=!1,this._didStartSync=!1,this._didVisitPrivacyStatement=!1,this._didSeeLearnMoreButton=!1,this._didVisitLearnMorePopup=!1}getEventName(){return"people_syncAddressBookDialog"}markDidPressNextOnValueProp(){this._didPressNextOnValueProp=!0}setInitialPermission(e){this._didHavePermission=e}setDidPromptBefore(e){this._didPromptBefore=e}markDidRequestPermission(){this._didRequestPermission=!0}setDidGrantPermission(e){this._didGrantPermission=e}markDidStartSync(){this._didStartSync=!0}markDidVisitPrivacyStatement(){this._didVisitPrivacyStatement=!0}markDidSeeLearnMoreButton(){this._didSeeLearnMoreButton=!0}markDidVisitLearnMorePopup(){this._didVisitLearnMorePopup=!0}getAttributes(){return n.extend({},super.getAttributes(),this.getOnboardingAttributes(),{DidPressNextOnValueProp:this._didPressNextOnValueProp,DidHavePermission:this._didHavePermission,DidPromptBefore:this._didPromptBefore,DidRequestPermission:this._didRequestPermission,DidGrantPermission:this._didGrantPermission,DidStartSync:this._didStartSync,DidVisitPrivacyStatement:this._didVisitPrivacyStatement,DidSeeLearnMoreButton:this._didSeeLearnMoreButton,DidVisitLearnMorePopup:this._didVisitLearnMorePopup})}}t.SyncAddressBookDialogEvent=s;class a extends o.OnboardingDialogEvent{constructor(){super(...arguments),this._didVisitPrivacyStatement=!1}getEventName(){return"people_peopleyoumayknownoticedialog"}markDidVisitPrivacyStatement(){this._didVisitPrivacyStatement=!0}getAttributes(){return n.assign(super.getAttributes(),{DidVisitPrivacyStatement:this._didVisitPrivacyStatement})}}t.PeopleYouMayKnowNoticeDialogEvent=a},192210:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScenarioName=void 0;const n=i(496486),o=(i(516778),i(300060),i(746096)),s=i(436237),a=i(415963);Object.defineProperty(t,"ScenarioName",{enumerable:!0,get:function(){return a.ScenarioName}});const r=i(912770),l=i(853374);class c{constructor(e,t,i={},n=void 0){this._properties=i,this._experimentConfigIds=n,this._totalDuration=0,this._isResolved=!1,this._isInvalidated=!1,this._isInterrupted=!1,this._timePassedTillInterruption=0,this._markedSteps=[],this._secondaryScenarios={},this._duplicateStepMarking=!1,this._scenarioName=a.ScenarioName[e],this.reset(t)}setScenarioTimeout(e,t=5e3){this._timeoutTimerId=r.default.setTimeout((()=>{this._timeoutTimerId=void 0;e()&&this.fail("timeout")}),t)}reset(e){this._cleanup(),this._scenarioId=e||l.default.newGuid(),this._lastAutomaticTimestamp=void 0,this._totalDuration=0,this._isResolved=!1,this._isInvalidated=!1,this._markedSteps=[],this._secondaryScenarios={}}_cleanup(){this._cleanupScenarioTimeout(),this._appStateSub&&(this._appStateSub.unsubscribe(),this._appStateSub=void 0)}_cleanupScenarioTimeout(){this._timeoutTimerId&&(r.default.clearTimeout(this._timeoutTimerId),this._timeoutTimerId=void 0)}invalidateWhenBackgrounded(){}hasStarted(){return void 0!==this._lastAutomaticTimestamp}getCurrentDuration(){return void 0===this._lastAutomaticTimestamp?0:this._totalDuration+(Date.now()-this._lastAutomaticTimestamp)}getTotalDuration(){var e;if(this._isResolved)return null===(e=n.last(this._markedSteps))||void 0===e?void 0:e.totalDuration}getIsInitialConnectivityGood(){var e;return null===(e=this._markedSteps[0])||void 0===e?void 0:e.isConnectionGood}getScenarioName(){return this._scenarioName}isStepMarked(e){return n.some(this._markedSteps,(t=>t.name===e))}start(e,t){this._isResolved||this._markStep("started",e,0,!1,!1,!1,t)}resume(e){this._isResolved||(this._lastAutomaticTimestamp=e)}markStepCompleted(e,t,i,n=!1){this._isInvalidated||this._markStep(e,t,i,n,!1,!1)}markPerfTargetStepCompleted(e,t,i){this._isInvalidated||this._markStep(e,t,i,!1,!0,!1)}_markStep(e,t,i,o,s,a,r){const l=Date.now(),c=void 0===i?l-this._lastAutomaticTimestamp:i;this._totalDuration+=c,this._lastAutomaticTimestamp=void 0===r?l:r,this._markedSteps.push({name:e,stepDuration:c,totalDuration:this._totalDuration,timestamp:this._lastAutomaticTimestamp,isTraceOnly:o,isTarget:s,isFinal:a,isConnectionGood:null==t?void 0:t.confirmedGoodConnection}),o||(n.assign(this._properties,t),a||(this._properties["step_name_"+e.toLowerCase()]=c))}finish(e,t,i){this._isInvalidated||this._reportFinalEvent("finished",e,t,i)}fail(e,t){if(this._isInvalidated)return;const i=n.clone(t)||{};i.error_description=e||"",this._reportFinalEvent("failed",i)}invalidate(e){e&&this._reportFinalEvent(e),this._cleanup(),this._isInvalidated=!0}markInterrupted(e){this._isInterrupted=!0,this._timePassedTillInterruption=e}setDuplicateStepMarkingEnabled(e=!0){this._duplicateStepMarking=e}_reportFinalEvent(e,t,i,a){if(this._isResolved)return;const r=n.some(this._markedSteps,(e=>e.isTarget));if(this._markStep(e,t,i,!1,!r,!0),this._cleanup(),this._isResolved=!0,!a&&s.isTraceEnabled(o.LogTraceArea.ScenarioTracker)){const e=n.last(this._markedSteps),t=e?e.totalDuration:0,i="Id: "+this._scenarioId+"; Name: "+this._scenarioName+"\n"+n.map(this._properties,((e,t)=>`\tContext_${t}: ${e}\n`)).join("")+n.map(this._markedSteps,(e=>`\tPERF_${this._scenarioName}_${e.name} : ${e.stepDuration} ms | ${e.totalDuration} ms`+(e.isTarget?" (TARGET)":"")+"\n")).join("")+`\tPERF_${this._scenarioName}_Total : ${t} ms`;s.log(o.LogTraceArea.ScenarioTracker,i)}}renameScenario(e){this._scenarioName=a.ScenarioName[e]}spawnSecondaryScenario(e,t){this._checkSecondaryScenario(e);const i=new c(e,this._scenarioId,void 0,void 0);return t&&i.setScenarioTimeout((()=>!0),t),this._secondaryScenarios[a.ScenarioName[e]]=i,i}getSecondaryScenario(e){return this._checkSecondaryScenario(e),this._secondaryScenarios[a.ScenarioName[e]]}_checkSecondaryScenario(e){const t=this._secondaryScenarios[a.ScenarioName[e]];t&&t._isResolved&&delete this._secondaryScenarios[a.ScenarioName[e]]}isResolved(){return this._isResolved}isInvalidated(){return this._isInvalidated}isInterrupted(){return this._isInterrupted}getTimePassedTillInterruption(){return this._timePassedTillInterruption}hasUnresolvedSecondaryScenarios(){return!n.isEmpty(this._secondaryScenarios)}}t.default=c},269399:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SendTextMessageUI=t.SearchPerformanceTelemetryEvent=t.PeopleRecommendationsFetched=t.ComposerEmoticonLoaded=t.CompositeSearch=t.CompositeSearchOrigin=t.SearchRequestResultsRendered=t.SearchRequestResultsNotReceived=t.SearchRequestResultsReceived=t.SearchRequestCallSent=t.SearchRequestBase=t.ScenarioSearchTypes=t.AdditionalLoading=t.LocalAddressBookFinishedProcessing=t.LocalAddressBookCalculatedAllHashes=t.LocalAddressBookGotLocalContacts=t.ContactsPanelV2FullyRendered=t.ContactsPanelAllContactsZeroTermResultsRendered=t.ContactsPanelLocalContactsZeroTermResultsRendered=t.ContactsPanelActiveNowZeroTermResultsRendered=t.ContactsPanelSkypeZeroTermResultsRendered=t.ContactsPanelPeopleZeroTermResultsRendered=t.ContactsPanelRendered=t.SearchPanelZeroTermResultsRendered=t.SearchPanelRendered=t.PerfPictureViewerFullLoaded=t.PerfPictureViewerThumbLoaded=t.PerfCameraPhoto=t.PerfStartupPhase=t.PerfEventBase=void 0;const n=i(496486),o=i(636076),s=i(500349),a=i(853374),r=i(746096),l=i(640363),c=i(500787),d=i(889391),u=i(735370);class g extends c.PriorityTelemetryEventBase{constructor(e,t){super(),this._durationInMs=e,this._isStackMode=t}shouldSend(){if(l.default.isRunningInBackgroundTokenRefreshMode())return!1;const e=s.SampledPerfEvents[this.getScenarioName()];return!n.isNumber(e)||a.default.sampleForPercentage(e)}getEventName(){return"perf"}getAttributes(){const e=super.getAttributes();return e.Scenario=this.getScenarioName(),e.Duration=this._durationInMs||"",e.DisplayMode=this._isStackMode?"Stack":"Composite",e}getEventPriority(){return d.default.getS4LTelemetryFeaturesNoSubscription().enableHighPriorityPerfEvent?o.AWTEventPriority.High:super.getEventPriority()}}t.PerfEventBase=g;class h extends g{constructor(e,t,i,n){super(t,!1),this._phase=e,this._durationInMsSincePreviousPhase=i,this._durationInMsSinceForegrounded=n}shouldSend(){return n.isUndefined(h._shouldSend)&&(h._shouldSend=super.shouldSend()),h._shouldSend}getScenarioName(){return"StartupPerfPhase"+this._phase}getAttributes(){const e=super.getAttributes();return e.DurationSinceForegrounded=n.isUndefined(this._durationInMsSinceForegrounded)?-1:this._durationInMsSinceForegrounded,e.DurationSincePreviousPhase=this._durationInMsSincePreviousPhase,e}}h._shouldSend=void 0,t.PerfStartupPhase=h;t.PerfCameraPhoto=class extends g{getScenarioName(){return"CameraPhoto"}};t.PerfPictureViewerThumbLoaded=class extends g{getScenarioName(){return"PictureViewerThumbLoaded"}};t.PerfPictureViewerFullLoaded=class extends g{getScenarioName(){return"PictureViewerFullLoaded"}};t.SearchPanelRendered=class extends g{getScenarioName(){return"SearchPanelRendered"}};t.SearchPanelZeroTermResultsRendered=class extends g{getScenarioName(){return"SearchPanelZeroTermResultsRendered"}};t.ContactsPanelRendered=class extends g{getScenarioName(){return"ContactsPanelRendered"}};t.ContactsPanelPeopleZeroTermResultsRendered=class extends g{getScenarioName(){return"ContactsPanelPeopleZeroTermResultsRendered"}};t.ContactsPanelSkypeZeroTermResultsRendered=class extends g{getScenarioName(){return"ContactsPanelSkypeZeroTermResultsRendered"}};t.ContactsPanelActiveNowZeroTermResultsRendered=class extends g{getScenarioName(){return"ContactsPanelActiveNowZeroTermResultsRendered"}};t.ContactsPanelLocalContactsZeroTermResultsRendered=class extends g{getScenarioName(){return"ContactsPanelActiveNowZeroTermResultsRendered"}};t.ContactsPanelAllContactsZeroTermResultsRendered=class extends g{getScenarioName(){return"ContactsPanelAllContactsZeroTermResultsRendered"}};t.ContactsPanelV2FullyRendered=class extends g{constructor(e,t,i,n,o){super(e,t),this._initialTab=i,this._hasSyncedContacts=n,this._isActiveNowFilterSelected=o}getScenarioName(){return"ContactsPanelV2FullyRendered"}getAttributes(){const e=super.getAttributes();return e.InitialTab=this._initialTab,e.HasSyncedContacts=this._hasSyncedContacts,e.IsActiveNowFilterSelected=this._isActiveNowFilterSelected,e}};t.LocalAddressBookGotLocalContacts=class extends g{constructor(e,t,i,n){super(e,t),this._numLocalContacts=i,this._isInitialSync=n}getScenarioName(){return"LocalAddressBookGotLocalContacts"}getAttributes(){const e=super.getAttributes();return e.NumLocalContacts=this._numLocalContacts,e.IsInitialSync=this._isInitialSync,e}};t.LocalAddressBookCalculatedAllHashes=class extends g{getScenarioName(){return"LocalAddressBookCalculatedAllHashes"}};var p,S,m;function C(e){switch(e){case S.PublicDirectory:return"PublicDirectoryService";case S.Message:return"MessageSearchService";case S.IndexedDB:return"IndexedDbSearch";case S.Bots:return"BotsSearchService";case S.AllPeople:return"AllPeopleSearch";case S.FastContacts:return"FastContactsSearch";case S.MessageInConversation:return"MessageSearchService";default:a.default.switchStatementExhaustiveChecking(e)}}t.LocalAddressBookFinishedProcessing=class extends g{getScenarioName(){return"LocalAddressBookFinishedProcessing"}},function(e){e[e.None=0]="None",e[e.IndexedDB=1]="IndexedDB",e[e.ChatService=2]="ChatService"}(p=t.AdditionalLoading||(t.AdditionalLoading={})),function(e){e[e.PublicDirectory=0]="PublicDirectory",e[e.Message=1]="Message",e[e.IndexedDB=2]="IndexedDB",e[e.Bots=3]="Bots",e[e.AllPeople=4]="AllPeople",e[e.FastContacts=5]="FastContacts",e[e.MessageInConversation=6]="MessageInConversation"}(S=t.ScenarioSearchTypes||(t.ScenarioSearchTypes={}));class y extends g{constructor(e,t,i){super(e.durationInMs,e.isStackMode),this._messageProps=i,this._perfEventBaseProps=e}getAttributes(){const e=super.getAttributes();return e.IsZeroTermSearch=this._perfEventBaseProps.isZeroTermSearch,n.isUndefined(this._messageProps)||(e.Endpoint=this._messageProps.endpoint,e.SearchLimit=this._messageProps.searchLimit),e}}t.SearchRequestBase=y;t.SearchRequestCallSent=class extends y{constructor(e,t,i){super(e,t,i),this._scenarioName=C(t)+"CallSent"}getScenarioName(){return this._scenarioName}};t.SearchRequestResultsReceived=class extends y{constructor(e,t,i){super(e,t,i),this._scenarioName=C(t)+"ResultsReceived"}getScenarioName(){return this._scenarioName}};t.SearchRequestResultsNotReceived=class extends y{constructor(e,t,i){super(e,t,i),this._scenarioName=C(t)+"ResultsNotReceived",this._searchResultsNotReceivedBaseProps=e}getScenarioName(){return this._scenarioName}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this._searchResultsNotReceivedBaseProps.errorCode,e.ErrorMessage=this._searchResultsNotReceivedBaseProps.errorMessage,e.WasNetworkAvailable=this._searchResultsNotReceivedBaseProps.wasNetworkAvailable,e}};t.SearchRequestResultsRendered=class extends y{constructor(e,t,i,n){super(e,t,i),this._additionalLoading=n,this._scenarioName=C(t)+"ResultsRendered"}getScenarioName(){return this._scenarioName}getAttributes(){const e=super.getAttributes();return n.isUndefined(this._additionalLoading)||(e.AdditionalLoading=p[this._additionalLoading]),e}},function(e){e[e.SearchResultsList=0]="SearchResultsList",e[e.Dialpad=1]="Dialpad",e[e.SearchInConversationPanel=2]="SearchInConversationPanel"}(m=t.CompositeSearchOrigin||(t.CompositeSearchOrigin={}));t.CompositeSearch=class extends g{constructor(e,t,i,n,o,s,a,r,l,c,d,u,g,h){super(e,t),this._origin=i,this._searchResultsListOrigin=n,this._zeroTerm=o,this._additionalLoading=s,this._requestStepDuration=a,this._publicDirectoryRequestDuration=r,this._messageRequestDuration=l,this._indexedDbRequestDuration=c,this._botsRequestDuration=d,this._allPeopleRequestDuration=u,this._fastContactsRequestDuration=g,this._messageInConversationRequestDuration=h}getScenarioName(){return"CompositeSearch"}getAttributes(){const e=super.getAttributes();return e.Origin=m[this._origin],n.isUndefined(this._searchResultsListOrigin)||(e.SearchResultsListOrigin=r.SearchResultsListOrigin[this._searchResultsListOrigin]),e.IsZeroTermSearch=this._zeroTerm,n.isUndefined(this._additionalLoading)||(e.AdditionalLoading=p[this._additionalLoading]),n.isUndefined(this._requestStepDuration)||(e.RequestStepDuration=this._requestStepDuration),n.isUndefined(this._publicDirectoryRequestDuration)||(e.PublicDirectoryRequestDuration=this._publicDirectoryRequestDuration),n.isUndefined(this._messageRequestDuration)||(e.MessageRequestDuration=this._messageRequestDuration),n.isUndefined(this._indexedDbRequestDuration)||(e.IndexedDbRequestDuration=this._indexedDbRequestDuration),n.isUndefined(this._botsRequestDuration)||(e.BotsRequestDuration=this._botsRequestDuration),n.isUndefined(this._allPeopleRequestDuration)||(e.AllPeopleRequestDuration=this._allPeopleRequestDuration),n.isUndefined(this._fastContactsRequestDuration)||(e.FastContactsRequestDuration=this._fastContactsRequestDuration),n.isUndefined(this._messageInConversationRequestDuration)||(e.MessageInConversationRequestDuration=this._messageInConversationRequestDuration),e}};t.ComposerEmoticonLoaded=class extends g{getScenarioName(){return"ComposerEmoticonLoaded"}};t.PeopleRecommendationsFetched=class extends g{constructor(e,t,i,n,o,s){super(e,!1),this._requestId=t,this._successful=i,this._count=n,this._statusCode=o,this._error=s}getScenarioName(){return"PeopleRecommendationsFetched"}getAttributes(){const e=super.getAttributes();return e.RequestId=this._requestId,e.Successful=this._successful,e.StatusCode=this._statusCode?this._statusCode:-1,e.Count=this._count?this._count:-1,e.Error=this._error||"",e}};t.SearchPerformanceTelemetryEvent=class extends g{constructor(e,t,i){super(e,t),this._queryLength=i}getScenarioName(){return"SearchPerformance"}getAttributes(){const e=super.getAttributes();return e.QueryLength=this._queryLength,e}};t.SendTextMessageUI=class extends g{constructor(e,t,i,n,o,s,a){super(e,t),this._confirmedGoodConnection=i,this._interrupted=n,this._timeTillInterruption=o,this._messageCorrelationId=s,this._cmid=a}getScenarioName(){return"SendTextMessageUI"}shouldSend(){if(!this._cmid)return!1;const e=s.TelemetryConfig.SendTextMessageUI;return u.shouldTrackMessage(this._cmid,e)}getAttributes(){const e=super.getAttributes();return e.ConfirmedGoodConnection=this._confirmedGoodConnection,e.MessageCorrelationId=this._messageCorrelationId,e.Interrupted=this._interrupted,e.TimeTillInterruption=this._timeTillInterruption,e}}},874636:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contactsPanelV2FullyRendered=t.contactsPanelActiveNowZeroTermResultsRendered=t.contactsPanelSkypeZeroTermResultsRendered=t.contactsPanelPeopleZeroTermResultsRendered=t.contactsPanelIsRendered=t.contactsPanelOpening=t.contactsPanelWillOpen=t.pictureViewerFullLoaded=t.pictureViewerThumbnailLoaded=t.pictureViewerOpening=t.pictureViewerWillOpen=t.PerfTelemetryScenario=void 0;const n=i(496486),o=i(436237),s=i(330124),a=i(192210),r=i(269399);class l extends a.default{constructor(){super(a.ScenarioName.PerfTelemetryScenario)}endScenario(){return this.hasStarted()&&this.finish(void 0,void 0,!0),this._lastRunSteps=[...this._markedSteps],this.reset()}startScenario(){return this.start()}setIdentifier(e){this._objectId=e}getIdentifier(){return this._objectId}isEventValid(){return this.hasStarted()&&void 0!==this._objectId}isTrackingIdentifier(e){return!!e&&this.isEventValid()&&this._objectId===e}getStepTimestamp(e){return n.isUndefined(this._lastRunSteps)?-1:this._lastRunSteps[e].timestamp}getNumberOfSteps(){return n.isUndefined(this._lastRunSteps)?-1:this._lastRunSteps.length}markCallSent(){this.markStepCompleted("callSent")}markResultsReceived(){this.markStepCompleted("resultsReceived")}markResultsNotReceived(){this.markStepCompleted("resultsNotReceived")}}t.PerfTelemetryScenario=l;const c=new l;t.pictureViewerWillOpen=function(){c.endScenario(),c.startScenario()},t.pictureViewerOpening=function(e){c.getIdentifier()||c.setIdentifier(e)},t.pictureViewerThumbnailLoaded=function(e){c.isTrackingIdentifier(e)&&o.track(new r.PerfPictureViewerThumbLoaded(c.getCurrentDuration(),s.default.isUsingStackNavigationContext()))},t.pictureViewerFullLoaded=function(e){c.isTrackingIdentifier(e)&&o.track(new r.PerfPictureViewerFullLoaded(c.getCurrentDuration(),s.default.isUsingStackNavigationContext()))};const d=new l;t.contactsPanelWillOpen=function(){d.endScenario(),d.startScenario()},t.contactsPanelOpening=function(e){d.getIdentifier()||d.setIdentifier(e)},t.contactsPanelIsRendered=function(e){d.isTrackingIdentifier(e)&&!d.isResolved()&&(d.markStepCompleted("PanelVisible"),o.track(new r.ContactsPanelRendered(d.getCurrentDuration(),s.default.isUsingStackNavigationContext())))},t.contactsPanelPeopleZeroTermResultsRendered=function(e){d.isTrackingIdentifier(e)&&(d.markStepCompleted("ZeroTermResultsRendered"),d.finish(),o.track(new r.ContactsPanelPeopleZeroTermResultsRendered(d.getCurrentDuration(),s.default.isUsingStackNavigationContext())))},t.contactsPanelSkypeZeroTermResultsRendered=function(e){d.isTrackingIdentifier(e)&&o.track(new r.ContactsPanelSkypeZeroTermResultsRendered(d.getCurrentDuration(),s.default.isUsingStackNavigationContext()))},t.contactsPanelActiveNowZeroTermResultsRendered=function(e){d.isTrackingIdentifier(e)&&o.track(new r.ContactsPanelActiveNowZeroTermResultsRendered(d.getCurrentDuration(),s.default.isUsingStackNavigationContext()))},t.contactsPanelV2FullyRendered=function(e,t,i,n){d.isTrackingIdentifier(e)&&o.track(new r.ContactsPanelV2FullyRendered(d.getCurrentDuration(),s.default.isUsingStackNavigationContext(),t,i,n))}},101163:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CallPerformanceEvent=void 0;const n=i(496486),o=i(500349),s=i(911698);class a extends o.TelemetryEventBase{getEventName(){return"s4l_performance"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.CallPerformanceEvent=class extends a{constructor(e,t,i,n){super(),this._callId=e,this._cpuspeed=t,this._cpumodel=i,this._cores=n,this._processMemory=new s.Rate,this._freeMemory=new s.Rate,this._cpuUsage=new s.Rate,this._gpuMemoryWorkingSetSize=new s.Rate,this._gpuCpuUsage=new s.Rate,this._rendererMemoryWorkingSetSize=new s.Rate,this._rendererCpuUsage=new s.Rate}getActionName(){return"CallPerformance"}getAttributes(){const e={CallId:this._callId,CPUSpeed:this._cpuspeed,CPUModel:this._cpumodel,CPUCores:this._cores,CPUUsageAverage:this._cpuUsage.average(),CPUUsageMax:this._cpuUsage.max(),ProcessMemoryAverage:this._processMemory.average(),ProcessMemoryMax:this._processMemory.max(),FreeMemoryAverage:this._freeMemory.average(),FreeMemoryMax:this._freeMemory.max(),RendererCPUUsageMax:this._rendererCpuUsage.max(),RendererCPUUsageAverage:this._rendererCpuUsage.average(),RendererMemoryWSSMax:this._rendererMemoryWorkingSetSize.max(),RendererMemoryWSSAverage:this._rendererMemoryWorkingSetSize.average(),GPUUsageMax:this._gpuCpuUsage.max(),GPUUsageAverage:this._gpuCpuUsage.average(),GPUMemoryWSSMax:this._gpuMemoryWorkingSetSize.max(),GPUMemoryWSSAverage:this._gpuMemoryWorkingSetSize.average()};return n.assign(super.getAttributes(),e)}setMainUsage(e){this._processMemory.push(e.processMemory),this._freeMemory.push(e.freeMemory),this._cpuUsage.push(e.cpuUsage)}setGPUUsage(e,t){this._gpuMemoryWorkingSetSize.push(e),this._gpuCpuUsage.push(t)}setRendererUsage(e,t){this._rendererMemoryWorkingSetSize.push(e),this._rendererCpuUsage.push(t)}}},670812:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionsStatusChange=void 0;const n=i(496486),o=i(823113),s=i(478262),a=i(500349);class r extends a.TelemetryEventBase{constructor(e,t,i){super(),this._permissionType=e,this._permissionStatus=t,this._permissionOrigin=i}getEventName(){return"settings_permission_status"}getAttributes(){const e=super.getAttributes();return e.Type=s.PermissionType[this._permissionType],e.Status=o.PermissionStatus[this._permissionStatus],e.Origin=this._stringFromPermissionOrigin(),e}_stringFromPermissionOrigin(){return n.isUndefined(this._permissionOrigin)?"unknown":o.PermissionOrigin[this._permissionOrigin]}}t.PermissionsStatusChange=r},279810:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PesBackgroundColorTelemetryEvent=t.PesBackgroundColorPickerAction=void 0;const n=i(500349);var o;!function(e){e[e.BackgroundColorPickerSelected=0]="BackgroundColorPickerSelected"}(o=t.PesBackgroundColorPickerAction||(t.PesBackgroundColorPickerAction={}));class s extends n.TelemetryEventBase{constructor(e){super(),this._params=e}getEventName(){return"messaging_pes_backgroundcolor"}getAttributes(){const e=super.getAttributes();return e.Action=o.BackgroundColorPickerSelected,void 0!==this._params.tabType&&(e.TabType=this._params.tabType),void 0!==this._params.triggeredBy&&(e.TriggeredBy=this._params.triggeredBy),e}}t.PesBackgroundColorTelemetryEvent=s},747990:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PesItemTelemetryEvent=void 0;const n=i(526424),o=i(758962),s=i(500349);class a extends s.TelemetryEventBase{constructor(e){super(),this._params=e}getEventName(){return"messaging_pesitem"}getAttributes(){const e=super.getAttributes();return e.IsDefaultTone=void 0===this._params.itemTone||this._params.itemTone===n.DefaultDiverseTone,e.PickerWidth=this._params.pickerWidth,e.ColumnIndex=this._params.itemIndex,e.SectionIndex=this._params.sectionIndex,e.TabIndex=this._params.tabIndex,e.Type=o.TabType[this._params.type],e.isSearchMode=this._params.isSearchMode||!1,void 0!==this._params.groupIndex&&(e.GroupIndex=this._params.groupIndex),void 0!==this._params.triggeredBy&&(e.TriggeredBy=this._params.triggeredBy),e}shouldExcludeUserIdentificationInfo(){return!0}shouldExcludeDeviceIdentificationInfo(){return!0}}t.PesItemTelemetryEvent=a},90025:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PesSettingsEvent=t.PesPickerUsageEvent=t.EmptyPesConfigurationReceived=t.PesSearchSession=t.PesAction=void 0;const n=i(496486),o=i(526424),s=i(758962),a=i(758962),r=i(500349);var l;!function(e){e[e.Search=0]="Search",e[e.ConfigError=1]="ConfigError",e[e.EmoticonUsage=2]="EmoticonUsage",e[e.MojiUsage=3]="MojiUsage",e[e.GifUsage=4]="GifUsage",e[e.StickerUsage=5]="StickerUsage",e[e.EffectUsage=6]="EffectUsage",e[e.MeetNowUsage=7]="MeetNowUsage",e[e.ImageUploaderUsage=8]="ImageUploaderUsage",e[e.PesLargeEmoticon=9]="PesLargeEmoticon",e[e.PickerPopupUsage=10]="PickerPopupUsage"}(l=t.PesAction||(t.PesAction={}));class c extends r.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"messaging_pes"}getAttributes(){return n.assign({},super.getAttributes(),{Action:l[this._action]})}}t.PesSearchSession=class extends c{constructor(){super(l.Search),this._attemptsMade=0}setSearchType(e){this._searchType=e}incrementAttemptsMade(){this._attemptsMade++}setNavigatedFromMediaBar(e){this._navigatedFromMediaBar=e}complete(e,t,i,n=!1,o,s){this._wasSuccessful=e,this._endTime=Date.now(),this._searchQueryLength=t,this._messageSent=n,o&&(this._noOfPesItemsSelected=o),i&&(this._resultPesItemIdSelected=i),s&&(this._didUserSwitchTabTypesToEndSession=s)}getAttributes(){const e=super.getAttributes();return e.WasSuccessful=this._wasSuccessful,e.DurationInSeconds=Math.round((this._endTime-this._eventCreationTime)/1e3),e.SearchType=s.TabType[this._searchType],e.SearchQueryLength=this._searchQueryLength,e.SearchAttempsCount=this._attemptsMade,e.WasMessageSent=this._messageSent,e.WasClickedFromMediaBar=this._navigatedFromMediaBar,this._noOfPesItemsSelected&&(e.NumberOfItemsSelectedForSend=this._noOfPesItemsSelected),this._didUserSwitchTabTypesToEndSession&&(e.DidSessionEndViaTabTypeSwitch=this._didUserSwitchTabTypesToEndSession),this._resultPesItemIdSelected&&(e.PesResultId=this._resultPesItemIdSelected),e}};t.EmptyPesConfigurationReceived=class extends c{constructor(e,t,i,n,o,s){super(l.ConfigError),this._locale=e,this._configUrl=t,this._emoticonTabCount=i,this._mojiTabCount=n,this._emoticonCount=o,this._mojiCount=s}getAttributes(){const e=super.getAttributes();return this._locale&&(e.Locale=this._locale),e.ConfigURL=this._configUrl,e.EmoticonTabCount=this._emoticonTabCount,e.MojiTabCount=this._mojiTabCount,e.EmoticonCount=this._emoticonCount,e.MojisCount=this._mojiCount,e}};const d={[s.TabType.Emoticon]:l.EmoticonUsage,[s.TabType.Moji]:l.MojiUsage,[s.TabType.ChatSticker]:l.StickerUsage,[s.TabType.Gif]:l.GifUsage,[s.TabType.Effect]:l.EffectUsage,[s.TabType.PickerPopup]:l.PickerPopupUsage,[s.TabType.MeetNow]:l.MeetNowUsage,[s.TabType.ImageUploader]:l.ImageUploaderUsage};t.PesPickerUsageEvent=class extends c{constructor(e,t,i){super(d[e]),this._firstRender=t,this._triggeredBy=i,this._itemsAddedCount=0,this._diverseItemsAddedCount=0,this._getEndOpeningTime=()=>this._endOpeningTime?this._endOpeningTime-this._eventCreationTime:"NotMeasured"}getAttributes(){const e={ItemsAddedCount:this._itemsAddedCount,OpeningDuration:this._getEndOpeningTime(),IsFirstRender:this._firstRender,DiverseItemsAddedCount:this._diverseItemsAddedCount};return this._triggeredBy&&(e.TriggeredBy=a.PesPickerTriggeredBy[this._triggeredBy]),n.assign({},super.getAttributes(),e)}itemAdded(e){e&&e.tone&&e.tone!==o.DefaultDiverseTone&&this._diverseItemsAddedCount++,this._itemsAddedCount++}openingCompleted(e){e&&(this._endOpeningTime=e)}};t.PesSettingsEvent=class extends c{constructor(e,t,i){super(l.PesLargeEmoticon),this._preventDisplayLargeEmoticons=e,this._singleEmoticonSize=t,this._multipleEmoticonsSize=i}getAttributes(){const e=super.getAttributes();return e.IsPreventDisplayLargeEmoticonsSet=this._preventDisplayLargeEmoticons,e.SingleEmoticonSize=this._singleEmoticonSize,e.MultipleEmoticonSize=this._multipleEmoticonsSize,e}}},126584:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PicturePrefetchEvent=t.PicturePrefetchAction=void 0;const n=i(496486),o=i(500349);var s;!function(e){e[e.PrefetchQueueTrimmed=0]="PrefetchQueueTrimmed"}(s=t.PicturePrefetchAction||(t.PicturePrefetchAction={}));class a extends o.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"all_picture_prefetch"}getAttributes(){return n.assign(super.getAttributes(),{Action:s[this._action]})}}t.PicturePrefetchEvent=a},615414:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneNeedVerification=t.MsaPhoneAccrualEvent=t.MsaPhoneAccrualAction=t.PnvUIStartFromManageSearchPanel=t.PnvStoreTelemetryEvent=void 0;const n=i(496486),o=i(500349),s="sisu_phone_verification";class a extends o.TelemetryEventBase{constructor(e,t){super(),this._stage=e,this._error=t}getEventName(){return s}getAttributes(){return n.assign({},super.getAttributes(),{Action:"Store",Stage:this._stage,Error:this._error})}}t.PnvStoreTelemetryEvent=a;class r extends o.TelemetryEventBase{getEventName(){return s}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}var l;t.PnvUIStartFromManageSearchPanel=class extends r{getActionName(){return"UIStartFromManageSearchPanel"}},function(e){e[e.MsaPhoneAccrualStart=0]="MsaPhoneAccrualStart",e[e.MsaPhoneAccrualVerified=1]="MsaPhoneAccrualVerified",e[e.MsaPhoneAccrualRegistered=2]="MsaPhoneAccrualRegistered",e[e.MsaEmailAccrualVerified=3]="MsaEmailAccrualVerified",e[e.MsaEmailAccrualRegistered=4]="MsaEmailAccrualRegistered",e[e.MsaPhoneAccrualCancelled=5]="MsaPhoneAccrualCancelled",e[e.MsaPhoneAccrualError=6]="MsaPhoneAccrualError"}(l=t.MsaPhoneAccrualAction||(t.MsaPhoneAccrualAction={}));t.MsaPhoneAccrualEvent=class extends r{constructor(e){super(),this._action=e}getActionName(){return l[this._action]}};t.PhoneNeedVerification=class extends r{getActionName(){return"NeedVerification"}}},26851:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PnvScenarioStep=void 0;const n=i(415963),o=i(794050);var s;!function(e){e[e.LinkShown=0]="LinkShown",e[e.PnvUIStart=1]="PnvUIStart",e[e.NumberNext=2]="NumberNext",e[e.NumberBack=3]="NumberBack",e[e.CodeNext=4]="CodeNext",e[e.CodeSkip=5]="CodeSkip",e[e.CodeBack=6]="CodeBack",e[e.CodeResend=7]="CodeResend",e[e.CodeCall=8]="CodeCall",e[e.NumberCall=9]="NumberCall"}(s=t.PnvScenarioStep||(t.PnvScenarioStep={}));class a{static get(){if(!this._pnvTelemetryHelper){const e=new o.default(n.ScenarioName.PnvUI);e.start(),e.setDuplicateStepMarkingEnabled(),this._pnvTelemetryHelper=new a(e)}return this._pnvTelemetryHelper}constructor(e){this._scenario=e}markStep(e,t){this._scenario.markStepCompleted(s[e],t)}}t.default=a},371926:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PollToggledVoteEvent=t.PollDetailsOpenedEvent=t.PollCreatedEvent=t.PollLaunchedEvent=t.LaunchOrigin=t.CreatePollOrigin=t.VoteOrigin=t.PollAction=void 0;const n=i(260021),o=i(500349),s=i(735370);var a,r,l,c;!function(e){e[e.Launched=0]="Launched",e[e.Created=1]="Created",e[e.DetailsOpened=2]="DetailsOpened",e[e.Voted=3]="Voted",e[e.Unvoted=4]="Unvoted"}(a=t.PollAction||(t.PollAction={})),function(e){e[e.Card=0]="Card",e[e.DetailsView=1]="DetailsView"}(r=t.VoteOrigin||(t.VoteOrigin={})),function(e){e[e.SlashCommand=0]="SlashCommand",e[e.CreateView=1]="CreateView"}(l=t.CreatePollOrigin||(t.CreatePollOrigin={})),function(e){e[e.MediaBarItem=0]="MediaBarItem"}(c=t.LaunchOrigin||(t.LaunchOrigin={}));class d extends o.TelemetryEventBase{constructor(){super()}getEventName(){return"caap_poll"}getAttributes(){const e=super.getAttributes();return e.Action=a[this.getActionName()],e}}t.PollLaunchedEvent=class extends d{constructor(e){super(),this._origin=e}getActionName(){return a.Launched}getAttributes(){const e=super.getAttributes();return e.Origin=c[this._origin],e}};t.PollCreatedEvent=class extends d{constructor(e,t,i){super(),this._origin=e,this._optionCount=t,this._participantsCount=i}getActionName(){return a.Created}getAttributes(){const e=super.getAttributes();return e.OptionsCount=this._optionCount,e.Origin=l[this._origin],e.ParticipantsCount=this._participantsCount,e}};t.PollDetailsOpenedEvent=class extends d{constructor(e){super(),this._message=e}getActionName(){return a.DetailsOpened}getAttributes(){const e=super.getAttributes();return this._message&&(e.MessageCorrelationId=n.getCorrelationIdFromMessageParts(this._message.creator,this._message.conversationId,s.getClientMessageId(this._message))),e}};t.PollToggledVoteEvent=class extends d{constructor(e,t,i){super(),this._action=e,this._origin=t,this._message=i}getActionName(){return this._action}getAttributes(){const e=super.getAttributes();return this._message&&(e.MessageCorrelationId=n.getCorrelationIdFromMessageParts(this._message.creator,this._message.conversationId,s.getClientMessageId(this._message))),e.Origin=r[this._origin],e}}},862817:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FeedbackInititated=t.PostingRecovered=t.PostingFailure=void 0;const n=i(496486),o=i(746096),s=i(680457),a=i(478262),r=i(500349);class l extends r.TelemetryEventBase{constructor(e,t,i,n,o,s=0,a,r,l,c,d,u){super(),this._failureSource=e,this._conversationIds=t,this._postSource=i,this._conversationOrigin=n,this._firstSendTime=o,this._numberRetries=s,this._statusCode=a,this._statusText=r,this._fileSize=l,this._errorMetadata=c,this._fileType=d,this._triggeredBy=u}getAttributes(){const e=super.getAttributes();return e.failure_source=o.PostingTransferSource[this._failureSource]+"Failure",e.num_of_convs=this._conversationIds.length,e.post_source=o.PostSource[this._postSource],e.conversation_origin=o.NavigationConversationOrigin[this._conversationOrigin||o.NavigationConversationOrigin.Unknown],e.time_to_failure=this._eventCreationTime-this._firstSendTime,e.number_retries=this._numberRetries,e.status_code=this._statusCode,e.status_text=this._statusText||"",e.file_size=n.isNumber(this._fileSize)?this._fileSize:"",e.file_type=this._fileType?a.UploadFileType[this._fileType]:"",e.TriggeredBy=this._triggeredBy?s.PostingTrigger[this._triggeredBy]:s.PostingTrigger.None,n.extend(e,this._errorMetadata),e}}t.PostingFailure=class extends l{constructor(e,t,i,n,o,s,a=0,r,l,c,d,u,g,h){super(t,i,n,o,s,a,r,l,c,d,u,g),this._permanentFailure=e,this._mriType=h}getEventName(){return"send_failure"}getAttributes(){const e=super.getAttributes();return e.is_permanent=this._permanentFailure,e.MriType=this._mriType?this._mriType:"",e}};t.PostingRecovered=class extends l{getEventName(){return"send_recovered"}};class c extends r.TelemetryEventBase{getEventName(){return"feedbackInitiated"}}t.FeedbackInititated=c},295527:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QueryPrefetchedEmoticonImage=t.QueryPrefetchedImage=void 0;i(496486);const n=i(775893),o=i(732183),s=i(500349);class a extends s.TelemetryEventBase{constructor(e,t){super(),this._prefetchState=e,this._nativeCached=t}getEventName(){return"messaging_prefetched_image"}getAttributes(){const e=super.getAttributes();return e.Action="queried",e.PrefetchState=n.ImagePrefetchState[this._prefetchState],e.IsNativeCached=void 0!==this._nativeCached?this._nativeCached:"",e}}t.QueryPrefetchedImage=a;t.QueryPrefetchedEmoticonImage=class extends a{constructor(e,t,i){super(e,t),this._url=i;o.getBaseUrl()}getAttributes(){const e=super.getAttributes();return e.EmoticonUrl=this._url,e}}},347922:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PresenceChangeNotificationClicked=t.PresenceChangeNotificationProcessed=t.PresenceChangeNotificationToggleSetting=void 0;const n=i(500349);class o extends n.TelemetryEventBase{getEventName(){return"people_presence_change_notification"}getAttributes(){const e=super.getAttributes();return e.Setting=this.getActionName(),e}}t.PresenceChangeNotificationToggleSetting=class extends o{constructor(e){super(),this._didEnable=e}getActionName(){return"PresenceChangeNotificationToggled"}getAttributes(){const e=super.getAttributes();return e.DidEnable=this._didEnable,e}};t.PresenceChangeNotificationProcessed=class extends o{constructor(e){super(),this._presenceChangeNotificationResult=e}getActionName(){return"PresenceChangeNotificationProcessed"}getAttributes(){const e=super.getAttributes();return e.PresenceChangeNotificationResult=this._presenceChangeNotificationResult,e}};t.PresenceChangeNotificationClicked=class extends o{getActionName(){return"PresenceChangeNotificationClicked"}}},500787:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PriorityTelemetryEventBase=void 0;const n=i(636076),o=i(500349),s=i(889391);class a extends o.TelemetryEventBase{constructor(){super()}getEventPriority(){return s.default.getS4LTelemetryFeaturesNoSubscription().priorityEventList.includes(this.getEventName())?n.AWTEventPriority.Immediate_sync:super.getEventPriority()}}t.PriorityTelemetryEventBase=a},49140:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SendFullTelemetryEvent=t.PhoneNumberDiscoverabilityPrivacyEvent=t.AppearInSearchEvent=t.ReceiveContactSuggestionsEvent=t.ManageSearchOpenedEvent=t.SendFullTelemetryOrigin=t.PhoneDiscoverabilityOrigin=t.ManageSearchOrigin=void 0;const n=i(500349);var o,s,a,r;!function(e){e[e.ManageSearchOpened=0]="ManageSearchOpened",e[e.AppearInSearchResultsInteraction=1]="AppearInSearchResultsInteraction",e[e.AppearInSearchResults=2]="AppearInSearchResults",e[e.ReceiveContactSuggestions=3]="ReceiveContactSuggestions",e[e.PhoneDiscoverability=4]="PhoneDiscoverability",e[e.SendFullTelemetry=5]="SendFullTelemetry"}(o||(o={})),function(e){e[e.ApplicationSettings=0]="ApplicationSettings",e[e.AboutPeopleYouMayKnowPanel=1]="AboutPeopleYouMayKnowPanel"}(s=t.ManageSearchOrigin||(t.ManageSearchOrigin={})),function(e){e[e.ApplicationSettings=0]="ApplicationSettings",e[e.DeepLink=1]="DeepLink",e[e.UserProfile=2]="UserProfile"}(a=t.PhoneDiscoverabilityOrigin||(t.PhoneDiscoverabilityOrigin={})),function(e){e[e.ApplicationSettings=0]="ApplicationSettings",e[e.DeepLink=1]="DeepLink",e[e.Onboarding=2]="Onboarding"}(r=t.SendFullTelemetryOrigin||(t.SendFullTelemetryOrigin={}));class l extends n.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"settings_privacy"}getAttributes(){const e=super.getAttributes();return e.Action=o[this._action],e}}t.ManageSearchOpenedEvent=class extends l{constructor(e){super(o.ManageSearchOpened),this._origin=e}getAttributes(){const e=super.getAttributes();return e.Origin=s[this._origin],e}};t.ReceiveContactSuggestionsEvent=class extends l{constructor(e,t){super(o.ReceiveContactSuggestions),this._grantedPermissions=e,this._origin=t}getAttributes(){const e=super.getAttributes();return e.DidGrantPermission=this._grantedPermissions,e.Origin=s[this._origin],e}};t.AppearInSearchEvent=class extends l{constructor(e,t){super(o.AppearInSearchResults),this._grantedPermissions=e,this._origin=t}getAttributes(){const e=super.getAttributes();return e.DidGrantPermission=this._grantedPermissions,e.Origin=s[this._origin],e}};t.PhoneNumberDiscoverabilityPrivacyEvent=class extends l{constructor(e,t,i){super(o.PhoneDiscoverability),this._grantedPermissions=e,this._origin=t,this._error=i}getAttributes(){const e=super.getAttributes();return e.DidGrantPermission=this._grantedPermissions||"",e.Origin=a[this._origin],this._error&&(e.ErrorStatusCode=this._error.errorStatusCode,e.ErrorMessage=this._error.errorMessage),e}};t.SendFullTelemetryEvent=class extends l{constructor(e,t){super(o.SendFullTelemetry),this._grantedPermissions=e,this._origin=t}getAttributes(){const e=super.getAttributes();return e.DidGrantPermission=this._grantedPermissions,e.Origin=r[this._origin],e}}},393818:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MyProfileFetch=t.MeProfileActionEvent=t.MeProfileAction=t.AvatarActionMenu=t.CustomStatusUpdated=t.CustomStatusInputGotFocus=t.CustomStatusEditorEmoticonPickerPressed=t.CustomStatusEditorDonePressed=t.CustomStatusEditorBackPressed=t.CustomStatusEditorOpened=t.CustomStatusMessageCleared=t.ProfileFetchResponseError=t.ProfileFetchRequestEvent=t.AvatarLoadError=t.AvatarRemoved=t.AvatarChanged=t.SettingsTelemetry=t.AvatarPolicyChanged=t.AvatarMenuButtonClicked=t.MyAvatarRemoved=t.MyAvatarChanged=t.ContactNickNameEdited=t.MyMoodEdited=t.MyUserNameEdited=t.ManageMyAccountOnlineClicked=t.CloseMyAccountStopped=t.CloseMyAccountInfoLinkClicked=t.CloseMyAccountClicked=t.MyMicrosoftAccountLinkClicked=t.ManageMyProfileOnlineClicked=t.PhoneCallProfileButtonClicked=t.CallProfileButtonClicked=t.MessageProfileButtonClicked=t.EditOrCopyLinkClicked=t.ProfileOpened=t.WhatsNewButtonClicked=t.ShareProfileQRCodeFailure=t.ShareProfileQRCodeSuccess=t.ShareProfileQRCodeButtonClicked=t.SignInWithQRCodeButtonClicked=t.GetSkypeAppButtonClicked=t.MeControlOpened=t.EditOrCopyLinkClickedType=t.EditOrCopyLinkClickedSource=void 0;const n=i(496486),o=i(496486),s=i(278230),a=i(746096),r=i(500349),l="Unknown";var c,d,u;!function(e){e[e.Phone=0]="Phone",e[e.Email=1]="Email",e[e.Location=2]="Location",e[e.Birthday=3]="Birthday",e[e.SkypeId=4]="SkypeId"}(c=t.EditOrCopyLinkClickedSource||(t.EditOrCopyLinkClickedSource={})),function(e){e[e.Edit=0]="Edit",e[e.Copy=1]="Copy",e[e.MenuOptions=2]="MenuOptions",e[e.Verify=3]="Verify"}(d=t.EditOrCopyLinkClickedType||(t.EditOrCopyLinkClickedType={}));class g extends r.TelemetryEventBase{getEventName(){return"profile"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class h extends g{constructor(e){super(),this._updateLocation=e}getAttributes(){const e=super.getAttributes();return e.UpdateLocation=a.AvatarUpdateLocation[this._updateLocation],e}}class p extends r.TelemetryEventBase{getEventName(){return"customStatus"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.MeControlOpened=class extends g{getActionName(){return"MeControlOpened"}};t.GetSkypeAppButtonClicked=class extends g{constructor(e){super(),this._isSuccess=e}getActionName(){return"GetSkypeAppButtonClicked"}getAttributes(){const e=super.getAttributes();return e.IsSuccess=this._isSuccess,e}};t.SignInWithQRCodeButtonClicked=class extends g{getActionName(){return"SignInWithQRCodeButtonClicked"}};t.ShareProfileQRCodeButtonClicked=class extends g{getActionName(){return"ShareProfileQRCodeButtonClicked"}};t.ShareProfileQRCodeSuccess=class extends g{getActionName(){return"ShareProfileQRCodeSuccess"}};t.ShareProfileQRCodeFailure=class extends g{getActionName(){return"ShareProfileQRCodeFailure"}};t.WhatsNewButtonClicked=class extends g{constructor(e){super(),this._isSuccess=e}getActionName(){return"WhatsNewButtonClicked"}getAttributes(){const e=super.getAttributes();return e.IsSuccess=this._isSuccess,e}};t.ProfileOpened=class extends g{constructor(e,t,i=void 0){super(),this._type=e,this._origin=t,this._myBot=i}getActionName(){return"ProfileOpened"}getAttributes(){const e=super.getAttributes();return e.Type=a.ProfileType[this._type],e.Origin=a.ProfileOpenOrigin[this._origin],this._myBot&&(e.MyBot=this._myBot),e}};t.EditOrCopyLinkClicked=class extends g{constructor(e,t){super(),this._clickSource=e,this._clickType=t}getActionName(){return"EditOrCopyLinkClicked"}getAttributes(){const e=super.getAttributes();return e.ClickType=d[this._clickType],e.ClickSource=c[this._clickSource],e}};t.MessageProfileButtonClicked=class extends g{constructor(e){super(),this._profileType=e}getActionName(){return"MessageProfileButtonClicked"}getAttributes(){const e=super.getAttributes();return e.ProfileType=a.ProfileType[this._profileType],e}};t.CallProfileButtonClicked=class extends g{constructor(e){super(),this._profileType=e}getActionName(){return"CallProfileButtonClicked"}getAttributes(){const e=super.getAttributes();return e.ProfileType=a.ProfileType[this._profileType],e}};t.PhoneCallProfileButtonClicked=class extends g{getActionName(){return"PhoneCallProfileButtonClicked"}};t.ManageMyProfileOnlineClicked=class extends g{getActionName(){return"ManageMyProfileOnlineClicked"}};t.MyMicrosoftAccountLinkClicked=class extends g{getActionName(){return"MyMicrosoftAccountLinkClicked"}};t.CloseMyAccountClicked=class extends g{getActionName(){return"CloseMyAccountClicked"}};t.CloseMyAccountInfoLinkClicked=class extends g{getActionName(){return"CloseMyAccountInfoLinkClicked"}};t.CloseMyAccountStopped=class extends g{getActionName(){return"CloseMyAccountStopped"}};t.ManageMyAccountOnlineClicked=class extends g{getActionName(){return"ManageMyAccountOnlineClicked"}};t.MyUserNameEdited=class extends g{constructor(e,t,i,n,o){super(),this._isSuccess=e,this._errorStatusCode=t,this._duration=i,this._isMigrated=n,this._origin=o}getActionName(){return"MyUserNameEdited"}getAttributes(){const e=super.getAttributes();return e.IsSuccess=this._isSuccess,n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),n.isUndefined(this._duration)||(e.Duration=this._duration),n.isUndefined(this._isMigrated)||(e.IsMigratedToV2=this._isMigrated),n.isUndefined(this._origin)||(e.Origin=a.NameUpdateLocation[this._origin]),e}};t.MyMoodEdited=class extends g{constructor(e,t,i,n,o,s){super(),this._charCount=e,this._updateLocation=t,this._isSuccess=i,this._errorStatusCode=n,this._duration=o,this._isMigrated=s}getActionName(){return"MyMoodEdited"}getAttributes(){const e=super.getAttributes();return e.MoodCharCount=this._charCount,e.UpdateLocation=a.MoodMessageUpdateOrigin[this._updateLocation],e.IsSuccess=this._isSuccess,n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),n.isUndefined(this._duration)||(e.Duration=this._duration),n.isUndefined(this._isMigrated)||(e.IsMigratedToV2=this._isMigrated),e}};t.ContactNickNameEdited=class extends g{constructor(e,t,i,n){super(),this._updateOrigin=e,this._isSuccess=t,this._errorStatusCode=i,this._duration=n}getActionName(){return"ContactNickNameEdited"}getAttributes(){const e=super.getAttributes();return e.Origin=a.ContactNickNameUpdateOrigin[this._updateOrigin],e.IsSuccess=this._isSuccess,n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),this._duration&&(e.Duration=this._duration),e}};t.MyAvatarChanged=class extends h{constructor(e){super(e)}getActionName(){return"MyAvatarChanged"}};t.MyAvatarRemoved=class extends h{constructor(e){super(e)}getActionName(){return"MyAvatarRemoved"}};t.AvatarMenuButtonClicked=class extends g{constructor(e,t,i,n){super(),this._type=e,this._origin=t,this._hasProfilePic=i,this._avatarPolicy=n}getActionName(){return"AvatarMenuButtonClicked"}getAttributes(){const e=super.getAttributes();return e.ButtonType=a.AvatarMenuButtons[this._type],e.Origin=a.AvatarPickerOrigin[this._origin],e.HasProfilePic=this._hasProfilePic,e.AvatarPolicy=(0,s.flow)(o.camelCase,o.upperFirst)(this._avatarPolicy),e}};t.AvatarPolicyChanged=class extends g{constructor(e,t,i,n){super(),this._avatarPolicy=e,this._origin=t,this._isSuccess=i,this._errorStatusCode=n}getActionName(){return"AvatarPolicyChanged"}getAttributes(){const e=super.getAttributes();return e.AvatarPolicy=(0,s.flow)(o.camelCase,o.upperFirst)(this._avatarPolicy),e.Origin=a.AvatarPolicyChangeOrigin[this._origin],e.IsSuccess=this._isSuccess,n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),e}};t.SettingsTelemetry=class extends g{constructor(e){super(),this._origin=e}getActionName(){return"SettingsAccessed"}getAttributes(){const e=super.getAttributes();return e.Origin=a.SettingsOrigin[this._origin],e}};t.AvatarChanged=class extends g{constructor(e,t,i,n=a.AvatarChangeError.NoError,o,s){super(),this._origin=e,this._isSuccess=t,this._isUserAvatar=i,this._errorType=n,this._errorStatusCode=o,this._isMigrated=s}getActionName(){return"AvatarChanged"}getAttributes(){const e=super.getAttributes();return e.Origin=a.AvatarPickerOrigin[this._origin],e.IsSuccess=this._isSuccess,e.IsUserAvatar=this._isUserAvatar,e.ErrorType=a.AvatarChangeError[this._errorType],n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),n.isUndefined(this._isMigrated)||(e.IsMigratedToV2=this._isMigrated),e}};t.AvatarRemoved=class extends g{constructor(e,t,i,n,o){super(),this._origin=e,this._isSuccess=t,this._isUserAvatar=i,this._errorStatusCode=n,this._isMigrated=o}getActionName(){return"AvatarRemoved"}getAttributes(){const e=super.getAttributes();return e.Origin=a.AvatarPickerOrigin[this._origin],e.IsSuccess=this._isSuccess,e.IsUserAvatar=this._isUserAvatar,n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),n.isUndefined(this._isMigrated)||(e.IsMigratedToV2=this._isMigrated),e}};t.AvatarLoadError=class extends g{constructor(e,t,i,n){super(),this._isUser=e,this._isConnector=t,this._isAgent=i,this._isPstn=n}getActionName(){return"AvatarLoadError"}getAttributes(){const e=super.getAttributes();return e.IsUser=void 0!==this._isUser?this._isUser:l,e.IsConnector=void 0!==this._isConnector?this._isConnector:l,e.IsAgent=void 0!==this._isAgent?this._isAgent:l,e.IsPstn=void 0!==this._isPstn?this._isPstn:l,e}};t.ProfileFetchRequestEvent=class extends g{constructor(e,t,i,n,o,s){super(),this._isSuccess=e,this._numProfilesToFetch=t,this._numProfilesFetched=i,this._errorStatusCode=n,this._errorMessage=o,this._isGuestNameUpdate=s}getActionName(){return"ProfileFetchRequestEvent"}getAttributes(){const e=super.getAttributes();return e.IsSuccess=this._isSuccess,n.isUndefined(this._numProfilesToFetch)||(e.NumProfilesToFetch=this._numProfilesToFetch),n.isUndefined(this._numProfilesFetched)||(e.NumProfilesFetched=this._numProfilesFetched),n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),n.isUndefined(this._errorMessage)||(e.ErrorMessage=this._errorMessage),n.isUndefined(this._isGuestNameUpdate)||(e.IsGuestNameUpdate=this._isGuestNameUpdate),e}};t.ProfileFetchResponseError=class extends g{constructor(e,t,i){super(),this._errorStatusCode=e,this._count=t,this._isProfileColorFetch=i}getActionName(){return"ProfileFetchResponseError"}getAttributes(){const e=super.getAttributes();return e.ErrorCode=this._errorStatusCode,e.ErrorCount=this._count,e.IsProfileColorFetch=this._isProfileColorFetch,e}};t.CustomStatusMessageCleared=class extends p{getActionName(){return"CustomStatusMessageCleared"}};t.CustomStatusEditorOpened=class extends p{getActionName(){return"CustomStatusEditorOpened"}};t.CustomStatusEditorBackPressed=class extends p{getActionName(){return"CustomStatusEditorBackPressed"}};t.CustomStatusEditorDonePressed=class extends p{getActionName(){return"CustomStatusEditorDonePressed"}};t.CustomStatusEditorEmoticonPickerPressed=class extends p{getActionName(){return"CustomStatusEditorEmoticonPickerPressed"}};t.CustomStatusInputGotFocus=class extends p{getActionName(){return"CustomStatusInputGotFocus"}};t.CustomStatusUpdated=class extends p{constructor(e,t,i,n){super(),this._isFromSuggestedStatus=e,this._chosenSuggestedStatus=t,this._totalEmoticonInStatus=i,this._prevToNewMoodMessageCharDiffCount=n}getActionName(){return"CustomStatusEdited"}getAttributes(){const e=super.getAttributes();return e.IsFromSuggestedStatus=this._isFromSuggestedStatus,e.ChosenSuggestedStatus=this._chosenSuggestedStatus,e.TotalEmoticonInStatus=this._totalEmoticonInStatus,e.PrevToNewMoodMessageCharDiffCount=this._prevToNewMoodMessageCharDiffCount,e}};t.AvatarActionMenu=class extends g{constructor(e,t,i){super(),this._origin=e,this._command=t,this._isVisible=i}getActionName(){return"AvatarActionMenu"}getAttributes(){const e=super.getAttributes();return e.Origin=a.AvatarPickerOrigin[this._origin],e.Command=this._command,e.IsVisible=this._isVisible,e}},function(e){e[e.OpenProfile=0]="OpenProfile",e[e.ShowActionCard=1]="ShowActionCard",e[e.Update=2]="Update",e[e.Copy=3]="Copy",e[e.Verify=4]="Verify",e[e.ShowOnSkype=5]="ShowOnSkype",e[e.DeleteFromSkype=6]="DeleteFromSkype",e[e.AddToSkype=7]="AddToSkype",e[e.AddToMsa=8]="AddToMsa",e[e.UpdateMsa=9]="UpdateMsa",e[e.Navigate=10]="Navigate",e[e.AddMsaAvatar=11]="AddMsaAvatar",e[e.RemoveMsaAvatar=12]="RemoveMsaAvatar",e[e.LaterMsaAvatar=13]="LaterMsaAvatar"}(u=t.MeProfileAction||(t.MeProfileAction={}));t.MeProfileActionEvent=class extends g{constructor(e,t,i,n,o){super(),this._command=e,this._type=t,this._isVisible=i,this._isSuccess=n,this._errorStatusCode=o}getActionName(){return"MeProfileAction"}getAttributes(){const e=super.getAttributes();return e.Command=u[this._command],e.Type=this._type,n.isUndefined(this._isVisible)||(e.IsVisible=this._isVisible),n.isUndefined(this._isSuccess)||(e.IsSuccess=this._isSuccess),n.isUndefined(this._errorStatusCode)||(e.ErrorCode=this._errorStatusCode),e}};t.MyProfileFetch=class extends g{constructor(e){super(),this._fetchSettings=e}getActionName(){return"MyProfileFetch"}getAttributes(){const e=super.getAttributes();return e.IsSuccess=this._fetchSettings.isSuccess,e.IsV2=this._fetchSettings.isV2,e.IsMigrationSuggested=this._fetchSettings.isMigrationSuggested,e.IsMigratedToV2=this._fetchSettings.isMigratedToV2,n.isUndefined(this._fetchSettings.errorStatusCode)||(e.ErrorCode=this._fetchSettings.errorStatusCode),n.isUndefined(this._fetchSettings.origin)||(e.Origin=a.MyProfileFetchOrigin[this._fetchSettings.origin]),e}}},854297:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PurposefulEvent=void 0;const n=i(636076),o=i(500349),s=i(18078),a=i(889391);class r extends o.TelemetryEventBase{constructor(e){super(),this._userCorrelationId=e}shouldSend(){return a.default.getS4LTelemetryFeaturesNoSubscription().enablePurposefulTelemetry&&super.shouldSend()}getEventName(){return"purposeful_event"}getAttributes(){const e=super.getAttributes();return e.CorrelationId=this._userCorrelationId,e.UserId=s.default.getSkypeId(),e}getEventPriority(){return n.AWTEventPriority.Immediate_sync}}t.PurposefulEvent=r},874243:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(500349),s=i(735370),a=i(853374);class r extends o.TelemetryEventBase{constructor(e){super(),this._params=e}shouldSend(){const e=o.SampledEvents[this.getEventName()+"_"+this._params.eventCode];return!n.isNumber(e)||a.default.sampleForPercentage(e)}getEventName(){return"push_notification"}getAttributes(){const e=super.getAttributes();e.EventType=this._params.eventType,e.EventCode=this._params.eventCode,e.MessageId=this._params.messageId,e.ClientMessageId=this._params.clientMessageId,e.IsMyMessage=this._params.isMyMessage,e.Result=this._params.result,e.MessageCorrelationId=this._params.messageCorrelationId,e.ErrorCode=this._params.errorCode||0,e.CorrelationVector=this._params.correlationVector||"",e.EventDate=this._params.eventDate||"";const t=s.getTrackableConversationId(this._params.conversationId);return t&&(e.ConversationId=t),e}}t.default=r},650737:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QuickActionsEvent=void 0;const n=i(496486),o=i(10531),s=i(500349);class a extends s.TelemetryEventBase{constructor(e,t){super(),this._shortcutId=e,this._pinnedShortcuts=t}getEventName(){return"quick_actions"}getAttributes(){const e=super.getAttributes();return this._shortcutId&&(e.ShortcutName=this._shortcutId),this._pinnedShortcuts&&n.each(o.QuickActionItemKeys,(t=>{n.includes(this._pinnedShortcuts,t)&&(e["QuickActionsPinned_"+t]=!0)})),e}}t.QuickActionsEvent=a},724501:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.QsoAccountListFetched=t.QuickSignOnTelemetrySignedInEvent=t.QuickSignOnTelemetryInterrupted=t.QuickSignOnTelemetryAutoRefreshed=t.QuickSignOnTelemetryStartedEvent=void 0;const n=i(496486),o=i(500349);class s extends o.TelemetryEventBase{getEventName(){return"sisu_qso"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}getLoggedOutSendingPolicy(){return o.TelemetryEventLoggedOutPolicy.SendNow}}t.QuickSignOnTelemetryStartedEvent=class extends s{getActionName(){return"Started"}};t.QuickSignOnTelemetryAutoRefreshed=class extends s{getActionName(){return"AutoRefreshed"}};t.QuickSignOnTelemetryInterrupted=class extends s{getActionName(){return"Interrupted"}};t.QuickSignOnTelemetrySignedInEvent=class extends s{getActionName(){return"SignedIn"}};t.QsoAccountListFetched=class extends s{constructor(e){super(),this._accountListSize=e,this._attributes={AccountListSize:this._accountListSize}}getActionName(){return"AccountListFetched"}getAttributes(){return n.assign(super.getAttributes(),this._attributes)}}},754306:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RaisedHandListExpanded=t.RaiseHandTelemetryEvent=t.LowerHandOrigin=t.RaiseHandAction=void 0;const n=i(109520);var o,s;!function(e){e[e.RaiseHand=0]="RaiseHand",e[e.LowerMyHand=1]="LowerMyHand",e[e.LowerOthersHand=2]="LowerOthersHand"}(o=t.RaiseHandAction||(t.RaiseHandAction={})),function(e){e[e.OverflowMenu=0]="OverflowMenu",e[e.ParticipantsPanel=1]="ParticipantsPanel",e[e.CallControls=2]="CallControls"}(s=t.LowerHandOrigin||(t.LowerHandOrigin={}));class a extends n.CallActionBase{constructor(e,t,i,n){super(),this._callId=e,this._action=t,this._participantsCount=i,this._origin=n}getActionName(){return o[this._action]}getAttributes(){const e=super.getAttributes();return e.CallId=this._callId,e.ParticipantsCount=this._participantsCount,void 0===this._origin||this._action!==o.LowerOthersHand&&this._action!==o.LowerMyHand||(e.LowerHandOrigin=s[this._origin]),e}}t.RaiseHandTelemetryEvent=a;class r extends n.CallActionBase{constructor(e,t,i){super(),this._callId=e,this._participantsCount=t,this._raisedHandsCount=i}getActionName(){return"RaisedHandListExpanded"}getAttributes(){const e=super.getAttributes();return e.CallId=this._callId,e.ParticipantsCount=this._participantsCount,e.RaisedHandsCount=this._raisedHandsCount,e}}t.RaisedHandListExpanded=r},688915:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ReactionNotificationClicked=t.ReactionNotificationProcessed=void 0;const n=i(671830),o=i(746096),s=i(500349),a=i(735370);var r;!function(e){e[e.Processed=0]="Processed",e[e.Clicked=1]="Clicked"}(r||(r={}));class l extends s.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._conversationId=t}getEventName(){return"messaging_reaction_notification"}getAttributes(){const e=super.getAttributes();e.Action=r[this._action],e.IsGroupConversation=n.isGroupConversation(this._conversationId);const t=a.getTrackableConversationId(this._conversationId);return t&&(e.ConversationId=t),e}}t.ReactionNotificationProcessed=class extends l{constructor(e,t){super(r.Processed,e),this._messageProcessResult=t}getAttributes(){const e=super.getAttributes();return e.ProcessResult=o.MessageProcessResult[this._messageProcessResult],e}};t.ReactionNotificationClicked=class extends l{constructor(e){super(r.Clicked,e)}}},346200:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CustomReactionsManipulationAction=t.CustomReactionsManipulationTelemetry=t.ReactionsManipulationAction=t.ReactionsManipulationTelemetry=t.ReactionPickerTelemetry=t.ReactionOriginType=t.ReactionNavigationAction=t.ReactionPanelListItem=t.ReactionsSummaryClickTelemetry=t.ReactionsSummaryViewed=void 0;const n=i(496486),o=i(812056),s=i(18078),a=i(500349),r=i(735370),l="messaging_reaction";var c,d,u,g,h;!function(e){e[e.ReactionsSummaryViewed=0]="ReactionsSummaryViewed",e[e.ReactionsSummaryClicked=1]="ReactionsSummaryClicked",e[e.ReactionsPanelListItemClicked=2]="ReactionsPanelListItemClicked",e[e.OpenedReactionPicker=3]="OpenedReactionPicker",e[e.ReactionAdded=4]="ReactionAdded",e[e.ReactionRemoved=5]="ReactionRemoved"}(c||(c={}));class p extends o.MessageTelemetryBase{constructor(e,t){super(e,e.conversationId),this._actionType=t,this._isOwnMessage=s.default.isMyMri(e.creator)}getAttributes(){const e=this._useOldAttributeNames()?{my_message:this._isOwnMessage}:{Action:c[this._actionType],IsOwnMessage:this._isOwnMessage};return n.assign({},super.getAttributes(),e)}}t.ReactionsSummaryViewed=class extends p{constructor(e){super(e,c.ReactionsSummaryViewed),this._skypeMessageLocal=e,this._reactionAttributesOldFormat=this.getReactionAttributesOldFormat()}getEventName(){return"reaction_action"}getEventTraceMode(){return a.TelemetryTraceMode.EventName}getReactionAttributesOldFormat(){const e={},t=this._skypeMessageLocal.getReactions();e.Unique_Reactions_Count=t.length;const i="reaction";let o=0;return n.each(t,((t,n)=>{o=n+1,e[i+o+"_key"]=t.key,e[i+o+"_count"]=t.users.length})),e}getAttributes(){const e=super.getAttributes();return n.assign(e,this._reactionAttributesOldFormat),e.Action="reactionsSummaryViewed",e}_useOldAttributeNames(){return!0}};t.ReactionsSummaryClickTelemetry=class extends p{constructor(e,t,i){super(t,c.ReactionsSummaryClicked),this._reactionKey=e,this._mriCount=i}getEventName(){return"reaction_summary_click"}getEventTraceMode(){return a.TelemetryTraceMode.EventName}getAttributes(){const e=super.getAttributes();return e.reaction_key=this._reactionKey,e.reaction_mri_count=this._mriCount,e}_useOldAttributeNames(){return!0}};class S extends a.TelemetryEventBase{constructor(e,t,i){super(),this._reactionKey=e,this._conversationId=t,this._mriCount=i,this._actionName=c[c.ReactionsPanelListItemClicked]}getEventName(){return l}getAttributes(){const e=super.getAttributes();e.Action=this._actionName,e.ReactionKey=this._reactionKey,e.ReactionMriCount=this._mriCount;const t=r.getTrackableConversationId(this._conversationId);return t&&(e.ConversationId=t),e}}t.ReactionPanelListItem=S,function(e){e[e.ArrowNavigation=0]="ArrowNavigation",e[e.Swipe=1]="Swipe"}(d=t.ReactionNavigationAction||(t.ReactionNavigationAction={})),function(e){e[e.ReactionsPopupMenu=0]="ReactionsPopupMenu",e[e.ReactionsActionSheet=1]="ReactionsActionSheet",e[e.DoubleTap=2]="DoubleTap",e[e.ReactionsSummary=3]="ReactionsSummary"}(u=t.ReactionOriginType||(t.ReactionOriginType={}));t.ReactionPickerTelemetry=class extends p{constructor(e,t){super(e,c.OpenedReactionPicker),this._origin=t}getEventName(){return l}recordUserAction(e){this._navigation=d[e]}recordReactionAdded(e){this._reactionActionData=e,this._reactionActionData.reactionAdded?this._actionType=c.ReactionAdded:this._actionType=c.ReactionRemoved}getAttributes(){const e={Navigation:this._navigation,Origin:u[this._origin]};return this._reactionActionData&&(e.ReactionLevel=this._reactionActionData.reactionLevel,e.ReactionKey=this._reactionActionData.reaction,e.IsCustomReaction=this._reactionActionData.isCustomReaction,e.IsTonedReaction=!n.isUndefined(this._reactionActionData.reactionTone),n.isUndefined(this._reactionActionData.success)||(e.Success=this._reactionActionData.success)),n.assign({},super.getAttributes(),e)}};class m extends a.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._props=t}getEventName(){return l}getAttributes(){var e;return n.assign({},super.getAttributes(),{Action:g[this._action],ReactionsCount:null===(e=this._props)||void 0===e?void 0:e.numberOfReactions})}}t.ReactionsManipulationTelemetry=m,function(e){e[e.ReactionListBatchAdd=0]="ReactionListBatchAdd",e[e.ReactionListBatchRemove=1]="ReactionListBatchRemove",e[e.LastReactionRemovedCallReset=2]="LastReactionRemovedCallReset",e[e.ReactionListReset=3]="ReactionListReset",e[e.CallReactionListBatchAdd=4]="CallReactionListBatchAdd",e[e.CallReactionListBatchRemove=5]="CallReactionListBatchRemove",e[e.LastCallReactionRemovedCallReset=6]="LastCallReactionRemovedCallReset",e[e.CallReactionListReset=7]="CallReactionListReset"}(g=t.ReactionsManipulationAction||(t.ReactionsManipulationAction={}));class C extends a.TelemetryEventBase{constructor(e,t){super(),this._action=e,this._props=t}getEventName(){return l}getAttributes(){var e,t,i,o,s,a,r,l,c;return n.assign({},super.getAttributes(),{Action:h[this._action],ReactionsCount:null===(e=this._props)||void 0===e?void 0:e.numberOfReactions,AddedReactionsCount:null===(t=this._props)||void 0===t?void 0:t.numberOfAddedReactions,NotSavedReactionsCount:null===(i=this._props)||void 0===i?void 0:i.numberOfNotSavedReactions,CustomReactionsType:null===(o=this._props)||void 0===o?void 0:o.customReactionsType,AnimatedReactionsCount:null===(s=this._props)||void 0===s?void 0:s.numberOfAnimatedReactions,ToggledReactionsFromSearchCount:null===(r=null===(a=this._props)||void 0===a?void 0:a.searchData)||void 0===r?void 0:r.toggledEmoticonCount,SearchAttempts:null===(c=null===(l=this._props)||void 0===l?void 0:l.searchData)||void 0===c?void 0:c.searchInitiatedCount})}}t.CustomReactionsManipulationTelemetry=C,function(e){e[e.CustomReactionsPanelOpened=0]="CustomReactionsPanelOpened",e[e.ReactionsSavedOnDoneButton=1]="ReactionsSavedOnDoneButton",e[e.ReactionsNotSavedOnCloseButton=2]="ReactionsNotSavedOnCloseButton"}(h=t.CustomReactionsManipulationAction||(t.CustomReactionsManipulationAction={}))},149643:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RecentConversationsFilterEvent=t.RecentConversationsFilterAction=void 0;const n=i(500349);var o;!function(e){e[e.SortByTime=0]="SortByTime",e[e.SortByUnread=1]="SortByUnread",e[e.SortByActive=2]="SortByActive",e[e.RowSizeDefault=3]="RowSizeDefault",e[e.RowSizeCompact=4]="RowSizeCompact",e[e.RowSizeMini=5]="RowSizeMini",e[e.MarkAllConversationsRead=6]="MarkAllConversationsRead",e[e.ShowCategories=7]="ShowCategories",e[e.HideCategories=8]="HideCategories",e[e.ShowAllConversations=9]="ShowAllConversations",e[e.ShowArchivedConversations=10]="ShowArchivedConversations"}(o=t.RecentConversationsFilterAction||(t.RecentConversationsFilterAction={}));class s extends n.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"people_recent_conversations_filter"}getAttributes(){const e=super.getAttributes();return e.Action=o[this._action],e}}t.RecentConversationsFilterEvent=s},121579:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteUserAppearanceTelemetryEvent=void 0;const n=i(500349);class o extends n.TelemetryEventBase{getEventName(){return"appcore_settings_remote"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e}}t.RemoteUserAppearanceTelemetryEvent=class extends o{constructor(){super(...arguments),this._didUpdateColorTheme=!1,this._didUpdateColorInfo=!1,this._didToggleSystemTheme=!1,this._didToggleFlipBubbleColors=!1,this._didUpdateRecentsRowSize=!1}setDidUpdateColorTheme(){this._didUpdateColorTheme=!0}setDidUpdateColorInfo(){this._didUpdateColorInfo=!0}setDidToggleSystemTheme(){this._didToggleSystemTheme=!0}setDidToggleFlipBubbleColors(){this._didToggleFlipBubbleColors=!0}setDidUpdateRecentsRowSize(){this._didUpdateRecentsRowSize=!0}getAction(){return"Appearance"}getAttributes(){const e=super.getAttributes();return e.DidUpdateColorTheme=this._didUpdateColorTheme,e.DidToggleSystemTheme=this._didToggleSystemTheme,e.DidUpdateColorInfo=this._didUpdateColorInfo,e.DidToggleFlipBubbleColor=this._didToggleFlipBubbleColors,e.DidUpdateRecentsRowSize=this._didUpdateRecentsRowSize,e}}},352803:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ReportProblemDialogSubmitedEvent=t.ReportProblemDialogOpenedEvent=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(e){super(),this._isSimplifiedDialog=e}getEventName(){return"appcore_report_problem_dialog"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.IsSimplifiedDialog=this._isSimplifiedDialog,e}}t.ReportProblemDialogOpenedEvent=class extends o{constructor(e){super(e)}getActionName(){return"ReportProblemDialogOpened"}};t.ReportProblemDialogSubmitedEvent=class extends o{constructor(e,t,i,n,o){super(e),this._hasDescription=t,this._hasScreenshot=i,this._hasLogs=n,this._category=o}getActionName(){return"ReportProblemDialogSubmitted"}getAttributes(){const e=super.getAttributes();return e.Category=this._category||"None selected",e.HasDescription=this._hasDescription,e.HasScreenshot=this._hasScreenshot,e.HasLogs=this._hasLogs,e}}},335704:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(268810);class o extends n.default{constructor(e,t,i,n,o){super(e,t,i,n,o)}failed(e,t){this._failed(e,t)}retry(e,t){this._retry(e,t)}succeeded(){this._succeeded()}}t.default=o},268810:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(500349),s=i(794050),a=i(853374);class r extends s.default{constructor(e,t,i,n,o){super(e,void 0,n),this._subScenario=t,this._telemetrySamplingKey=i,o?(this._attempt=o._attempt+1,this._shouldSendScenarioTelemetry=o._shouldSendSampledTelemetry(),this._requestId=o._requestId):(this._attempt=0,this._requestId=this._scenarioId),this.extendProperties({attempt:this._attempt,requestId:this._requestId})}_shouldSendSampledTelemetry(){if(void 0!==this._shouldSendScenarioTelemetry)return this._shouldSendScenarioTelemetry;if(this._telemetrySamplingKey){const e=this._telemetrySamplingKey+this._subScenario,t=o.SampledEvents[e];return n.isNumber(t)?(this._shouldSendScenarioTelemetry=a.default.sampleForPercentage(t),this._shouldSendScenarioTelemetry):(this._shouldSendScenarioTelemetry=super._shouldSendSampledTelemetry(),this._shouldSendScenarioTelemetry)}return this._shouldSendScenarioTelemetry=super._shouldSendSampledTelemetry(),this._shouldSendScenarioTelemetry}test_shouldSendTelemetryPersists(){return this._shouldSendScenarioTelemetry}test_requestIdPersists(){return this._requestId}}t.default=class{constructor(e,t,i,n,o){this._service=e,this._scenarioName=t,this._properties=i,this._telemetrySamplingKey=n,this._subScenario=o,this._completed=!1,this._success=!1,this._scenario=new r(this._scenarioName,this._subScenario,this._telemetrySamplingKey,this._properties)}begin(){this._scenario.start()}_failed(e,t){this._completed=!0,this._success=!1,this._scenario.fail(e,t)}_retry(e,t){this._scenario.fail(e,t),this._scenario=new r(this._scenarioName,this._subScenario,this._telemetrySamplingKey,this._properties,this._scenario),this.begin()}_succeeded(e){this._completed=!0,this._success=!0,this._scenario.finish(e)}ensureResolved(){}ensureRejected(){}test_exposeRequestId(){return this._scenario.test_requestIdPersists()}test_exposeShouldSendTelemetry(){return this._scenario.test_shouldSendTelemetryPersists()}}},612324:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ResponsivenessTelemetryScenario=t.ResponsivenessScenarioStep=void 0;const n=i(496486),o=i(415963),s=i(794050),a=i(912770),r=i(853374),l=i(436237),c=i(667024),d=i(889391);var u;!function(e){e[e.ActionStarted=0]="ActionStarted",e[e.ActionClosed=1]="ActionClosed",e[e.OnJsPress=2]="OnJsPress",e[e.ActionDone=3]="ActionDone",e[e.TimedOut=4]="TimedOut",e[e.DelayComputationError=5]="DelayComputationError"}(u=t.ResponsivenessScenarioStep||(t.ResponsivenessScenarioStep={}));t.ResponsivenessTelemetryScenario=class{constructor(e,t,i=!1){this._scenarioCompleted=!1,this._scenarioTimedOut=!1,this._traceOnly=!1,this._responsivenessOpenTimeoutMs=d.default.getS4LCMCFeaturesNoSubscription().responsivenessTrackingTimeout,this._onResponsivenessOpenTimeout=()=>{if(this._scenarioCompleted)return;const e={cause:u[u.TimedOut]};this._scenario.finish(e),this._scenarioCompleted=!0,this._scenarioTimedOut=!0},this._scenarioName=e,this._properties=t,this._traceOnly=i}_startNewScenario(e){this._scenarioTimedOut=!1,this._scenarioCompleted=!1;const t=Object.assign(Object.assign({},this._properties),{cause:u[e]});this._scenario=new s.default(this._scenarioName,void 0,void 0,void 0,!0),this._scenario.start(t),this._resetTimeoutTimer()}cancelTimeoutTimer(){this._timeoutTimerId&&(a.default.clearTimeout(this._timeoutTimerId),this._timeoutTimerId=void 0)}traceOnly(e){this._traceOnly=e}_resetTimeoutTimer(){this.cancelTimeoutTimer(),this._timeoutTimerId=a.default.setTimeout(this._onResponsivenessOpenTimeout,this._responsivenessOpenTimeoutMs)}startResponsivenessScenario(){this._startNewScenario(u.ActionStarted)}markStep(e,t){var i;if(this._scenarioTimedOut&&this._startNewScenario(u.TimedOut),!this._scenarioCompleted)if(e===u.ActionClosed||e===u.DelayComputationError){const t={cause:u[e]};null===(i=this._scenario)||void 0===i||i.finish(t),this._scenarioCompleted=!0,this.cancelTimeoutTimer()}else{const i=u[e];this._scenario.isStepMarked(i)||this._scenario.markStepCompleted(i,void 0,t,this._traceOnly),this._resetTimeoutTimer()}}isCompleted(){return this._scenarioCompleted}shouldEnableSampledScenario(){if(void 0!==this._shouldEnableScenario)return this._shouldEnableScenario;if(n.isEmpty(c.SampledScenarios))return l.debug((()=>"Sampled scenarios not populated from ECS yet")),!1;const e=c.SampledScenarios[o.ScenarioName[this._scenarioName]];return l.debug((()=>"Scenario sample rate is "+e+"%")),n.isNumber(e)?(this._shouldEnableScenario=r.default.sampleForPercentage(e),l.debug((()=>"Scenario tracking calculated. Enabled: "+this._shouldEnableScenario)),this._shouldEnableScenario):(l.debug((()=>"Scenario sample rate not available. Disable scenario tracking.")),this._shouldEnableScenario=!1,this._shouldEnableScenario)}}},408466:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SayHiPopupTelemetryEvent=t.SayHiPopupAction=void 0;const n=i(500349);var o;!function(e){e[e.ShouldShow=0]="ShouldShow",e[e.Shown=1]="Shown",e[e.Clicked=2]="Clicked"}(o=t.SayHiPopupAction||(t.SayHiPopupAction={}));class s extends n.TelemetryEventBase{constructor(e,t,i,n){super(),this._action=e,this._isNewUser=t,this._skypeContactCount=i,this._shortCircuitContactCount=n}getEventName(){return"people_say_hi_popup"}getAttributes(){const e=super.getAttributes();return e.Action=o[this._action],e.IsNewUser=this._isNewUser,e.SkypeContactCount=this._skypeContactCount,e.ShortCircuitContactCount=this._shortCircuitContactCount,e}}t.SayHiPopupTelemetryEvent=s},415963:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScenarioTrackerBase=t.ScenarioName=void 0,function(e){e[e.SendMessage=0]="SendMessage",e[e.SendRestoredMessage=1]="SendRestoredMessage",e[e.SendTextMessage=2]="SendTextMessage",e[e.SendPicture=3]="SendPicture",e[e.SendVideo=4]="SendVideo",e[e.SendAudioMessage=5]="SendAudioMessage",e[e.SendLocation=6]="SendLocation",e[e.SendMoji=7]="SendMoji",e[e.SendSticker=8]="SendSticker",e[e.SendFile=9]="SendFile",e[e.SendGif=10]="SendGif",e[e.InitialRecentsSync=11]="InitialRecentsSync",e[e.ReactionsSummary=12]="ReactionsSummary",e[e.ShowReactionsSummary=13]="ShowReactionsSummary",e[e.ReactionsMenuAccessable=14]="ReactionsMenuAccessable",e[e.ShowReactionsMenu=15]="ShowReactionsMenu",e[e.ReactionsMenu=16]="ReactionsMenu",e[e.OpenMojiPicker=17]="OpenMojiPicker",e[e.ShareToSkypeMedia=18]="ShareToSkypeMedia",e[e.ShareToSkypeText=19]="ShareToSkypeText",e[e.ForwardAdditionalText=20]="ForwardAdditionalText",e[e.OpenEmoticonPicker=21]="OpenEmoticonPicker",e[e.OpenDiversityPicker=22]="OpenDiversityPicker",e[e.OpenMeetNowPicker=23]="OpenMeetNowPicker",e[e.OpenImageUploader=24]="OpenImageUploader",e[e.AppStartup=25]="AppStartup",e[e.StreamFrom=26]="StreamFrom",e[e.IncomingCall=27]="IncomingCall",e[e.AnswerCall=28]="AnswerCall",e[e.Gallery=29]="Gallery",e[e.Search=30]="Search",e[e.PnvUI=31]="PnvUI",e[e.NewGroupChat=32]="NewGroupChat",e[e.PNH_Post=33]="PNH_Post",e[e.PNH_Delete=34]="PNH_Delete",e[e.PopCard=35]="PopCard",e[e.FirstRunCoachMark=36]="FirstRunCoachMark",e[e.SuggestionsConsent=37]="SuggestionsConsent",e[e.OpenChatStickerPicker=38]="OpenChatStickerPicker",e[e.EmergencyRestoreEndpoints=39]="EmergencyRestoreEndpoints",e[e.ChatServiceRequest=40]="ChatServiceRequest",e[e.TimeToConnected=41]="TimeToConnected",e[e.LoginAuth=42]="LoginAuth",e[e.EmoticonRendering=43]="EmoticonRendering",e[e.PesPickerOpen=44]="PesPickerOpen",e[e.EmoticonPesPickerOpen=45]="EmoticonPesPickerOpen",e[e.OpenGifPicker=46]="OpenGifPicker",e[e.MessagePanelPip=47]="MessagePanelPip",e[e.CreateMeetNow=48]="CreateMeetNow",e[e.JoinMeetNow=49]="JoinMeetNow",e[e.HtmlNotification=50]="HtmlNotification",e[e.FirstLogin=51]="FirstLogin",e[e.Startup=52]="Startup",e[e.RenderCallControls=53]="RenderCallControls",e[e.RenderLocalCallReaction=54]="RenderLocalCallReaction",e[e.ShowCameraViewfinder=55]="ShowCameraViewfinder",e[e.PreviewSnappedPhoto=56]="PreviewSnappedPhoto",e[e.OpenContactsPanel=57]="OpenContactsPanel",e[e.OpenContactsPanelV2=58]="OpenContactsPanelV2",e[e.OpenFindPanel=59]="OpenFindPanel",e[e.OpenIntegration=60]="OpenIntegration",e[e.ViewMediaIntent=61]="ViewMediaIntent",e[e.PlayVideoIntent=62]="PlayVideoIntent",e[e.Logout=63]="Logout",e[e.PerfTelemetryScenario=64]="PerfTelemetryScenario",e[e.SendTextMessageUI=65]="SendTextMessageUI",e[e.SendTextMessageTimeToAppearInChat=66]="SendTextMessageTimeToAppearInChat",e[e.SendPictureUI=67]="SendPictureUI",e[e.SayHi=68]="SayHi",e[e.ConversationOpenAnimation=69]="ConversationOpenAnimation",e[e.InviteAcceptance=70]="InviteAcceptance",e[e.ActionInvite=71]="ActionInvite",e[e.GuestLoginFlow=72]="GuestLoginFlow",e[e.GuestUpsellPanel=73]="GuestUpsellPanel",e[e.GuestSiSuComponent=74]="GuestSiSuComponent",e[e.AppStartupIntent=75]="AppStartupIntent",e[e.ApsFetchIntegrations=76]="ApsFetchIntegrations",e[e.ResponsivenessMeetNow=77]="ResponsivenessMeetNow",e[e.ResponsivenessMuteCall=78]="ResponsivenessMuteCall",e[e.ResponsivenessToggleVideoCall=79]="ResponsivenessToggleVideoCall",e[e.ResponsivenessEndCall=80]="ResponsivenessEndCall",e[e.ResponsivenessChatPanelInCall=81]="ResponsivenessChatPanelInCall",e[e.ResponsivenessCancelEditMessage=82]="ResponsivenessCancelEditMessage",e[e.ResponsivenessRecordAudio=83]="ResponsivenessRecordAudio",e[e.ResponsivenessSendEditMessage=84]="ResponsivenessSendEditMessage",e[e.ResponsivenessPressDialpadButton=85]="ResponsivenessPressDialpadButton",e[e.ResponsivenessSelectHubTab=86]="ResponsivenessSelectHubTab",e[e.ResponsivenessOpenProfile=87]="ResponsivenessOpenProfile",e[e.ResponsivenessGoBackFromConversation=88]="ResponsivenessGoBackFromConversation",e[e.TwinCamFlow=89]="TwinCamFlow",e[e.InvalidGrant=90]="InvalidGrant",e[e.TokenStoreInitialization=91]="TokenStoreInitialization",e[e.GetAllUserProfiles=92]="GetAllUserProfiles",e[e.GetUserProfilesByMris=93]="GetUserProfilesByMris",e[e.GetUserProfileByMri=94]="GetUserProfileByMri",e[e.PutUserProfiles=95]="PutUserProfiles"}(t.ScenarioName||(t.ScenarioName={}));t.ScenarioTrackerBase=class{}},829034:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScheduledCallsFetchedEvent=t.ScheduledCallCancelEvent=t.ScheduledCallRSVPEvent=t.ScheduleNextCallPresentedEvent=t.ScheduledCallEditedEvent=t.ScheduleCallCompletedOrCanceledEvent=t.ScheduledCallsFetchedStatus=void 0;const n=i(231147),o=i(279829),s=i(500349),a=i(735370);var r;!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r=t.ScheduledCallsFetchedStatus||(t.ScheduledCallsFetchedStatus={}));class l extends s.TelemetryEventBase{getEventName(){return"calling_schedule_call"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class c extends l{constructor(e,t,i,n,o,s,a){super(),this._hasSubjectChanged=e,this._hasDateTimeChanged=t,this._hasReminderChanged=i,this._entryPoint=n,this._conversationType=o,this._conversationId=s,this._reminder=a}getAttributes(){const e=super.getAttributes();return e.EntryPoint=o.ScheduleCallEntryPoint[this._entryPoint],e.ConversationType=n.ConversationType[this._conversationType],e.HasSubjectChanged=this._hasSubjectChanged,e.HasDateTimeChanged=this._hasDateTimeChanged,e.HasReminderChanged=this._hasReminderChanged,e.Reminder=this._reminder?o.ScheduledCallReminder[this._reminder]:"",this._conversationId&&(e.ConversationId=this._conversationId),e}}t.ScheduleCallCompletedOrCanceledEvent=class extends c{constructor(e=!1,t,i,n,o,s,a,r){super(t,i,n,o,s,a,r),this._wasCanceled=e}getActionName(){return this._wasCanceled?"ScheduleCallCanceled":"ScheduleCallCompleted"}};t.ScheduledCallEditedEvent=class extends c{constructor(e,t,i,n,o,s,a,r,l){super(i,n,o,s,a,r,l),this._isOrganizer=e,this._hasStatusChanged=t}getActionName(){return"ScheduledCallEdited"}getAttributes(){const e=super.getAttributes();return e.IsOrganizer=this._isOrganizer,e.HasStatusChanged=this._hasStatusChanged,e}};t.ScheduleNextCallPresentedEvent=class extends l{constructor(e){super(),this._callDuration=e}getActionName(){return"ScheduleNextCallPresented"}getAttributes(){const e=super.getAttributes();return e.CallDuration=this._callDuration,e}};t.ScheduledCallRSVPEvent=class extends l{constructor(e,t,i,n){super(),this._entryPoint=e,this._responseValue=t,this._conversationId=i,this._scheduledCallId=n}getActionName(){return"ScheduledCallRSVP"}getAttributes(){const e=super.getAttributes();return e.EntryPoint=o.ScheduleCallRSVPEntryPoint[this._entryPoint],e.ResponseValue=o.ScheduledCallInvitationStatus[this._responseValue],e.ScheduledCallId=this._scheduledCallId,e.ConversationType=n.ConversationType[a.getConversationTypeForTelemetry(this._conversationId)],e}};t.ScheduledCallCancelEvent=class extends l{constructor(e,t){super(),this._entryPoint=e,this._conversationId=t}getActionName(){return"ScheduledCallCanceled"}getAttributes(){const e=super.getAttributes();return e.EntryPoint=o.ScheduleCallCancelEventEntryPoint[this._entryPoint],this._conversationId&&(e.ConversationType=n.ConversationType[a.getConversationTypeForTelemetry(this._conversationId)]),e}};t.ScheduledCallsFetchedEvent=class extends l{constructor(e,t){super(),this._status=e,this._error=t}getActionName(){return"ScheduledCallsFetched"}getAttributes(){const e=super.getAttributes();return e.Status=r[this._status],this._error&&(void 0!==this._error.statusCode&&(e.ErrorCode=this._error.statusCode),void 0!==this._error.statusText&&(e.ErrorMessage=this._error.statusText)),e}}},628477:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenSharingPanelStartedSharingEvent=t.ScreenSharingPanelCancelEvent=t.ScreenSharingStartOrigin=t.ScreenSharingPanelCancelOrigin=void 0;const n=i(148540);var o,s;!function(e){e[e.BackButton=0]="BackButton",e[e.CancelButton=1]="CancelButton",e[e.ClickOutside=2]="ClickOutside",e[e.Esc=3]="Esc"}(o=t.ScreenSharingPanelCancelOrigin||(t.ScreenSharingPanelCancelOrigin={})),function(e){e[e.StartButton=0]="StartButton",e[e.DoubleClickSource=1]="DoubleClickSource",e[e.EnterWithKeyboardNavigation=2]="EnterWithKeyboardNavigation"}(s=t.ScreenSharingStartOrigin||(t.ScreenSharingStartOrigin={}));const a=i(500349);class r extends a.TelemetryEventBase{constructor(e,t,i,n){super(),this._screensCount=e,this._windowsCount=t,this._origin=i,this._isSwitchingScreen=n}getEventName(){return"calling_screen_sharing_panel"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e.IsSwitchingScreen=this._isSwitchingScreen,e.ScreensCount=this._screensCount,e.WindowsCount=this._windowsCount,e.Origin=this._origin,e}}t.ScreenSharingPanelCancelEvent=class extends r{constructor(e,t,i,n){super(t,i,o[e],n)}getActionName(){return"ScreenSharingPanelCancel"}getAttributes(){return super.getAttributes()}};t.ScreenSharingPanelStartedSharingEvent=class extends r{constructor(e,t,i,n,o){super(i,n,s[t],o),this._sourceType=e}getActionName(){return"ScreenSharingPanelStartedSharing"}getAttributes(){const e=super.getAttributes();return e.SourceType=n.SharingSourceType[this._sourceType],e}}},110996:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.compositeScenarioResultsRendered=t.markMessageSearchAdditionalMessageLoading=t.markMessageSearchScenarioResultMessageTimestamp=t.invalidateSearchScenario=t.searchResultsRendered=t.searchResultsNotReceived=t.searchResultsReceived=t.searchCallSent=t.willSearch=t.setIdentifier=t.test_getSearchScenario=t.test_resetSearchScenarios=t.searchPanelZeroTermResultsRendered=t.searchPanelIsRendered=t.searchPanelOpening=t.searchWillOpen=void 0;const n=i(496486),o=i(174958),s=i(436237),a=i(889391),r=i(746096),l=i(269399),c=i(874636),d=i(330124),u=i(269399),g=new c.PerfTelemetryScenario;t.searchWillOpen=function(){g.endScenario(),g.startScenario()},t.searchPanelOpening=function(e){g.getIdentifier()||g.setIdentifier(e)},t.searchPanelIsRendered=function(e){g.isTrackingIdentifier(e)&&s.track(new u.SearchPanelRendered(g.getCurrentDuration(),d.default.isUsingStackNavigationContext()))},t.searchPanelZeroTermResultsRendered=function(e){g.isTrackingIdentifier(e)&&s.track(new u.SearchPanelZeroTermResultsRendered(g.getCurrentDuration(),d.default.isUsingStackNavigationContext()))};const h={};function p(){h[l.ScenarioSearchTypes.AllPeople]=new c.PerfTelemetryScenario,h[l.ScenarioSearchTypes.Bots]=new c.PerfTelemetryScenario,h[l.ScenarioSearchTypes.IndexedDB]=new c.PerfTelemetryScenario,h[l.ScenarioSearchTypes.FastContacts]=new c.PerfTelemetryScenario,h[l.ScenarioSearchTypes.Message]=new c.PerfTelemetryScenario,h[l.ScenarioSearchTypes.MessageInConversation]=new c.PerfTelemetryScenario,h[l.ScenarioSearchTypes.PublicDirectory]=new c.PerfTelemetryScenario}p(),t.test_resetSearchScenarios=function(){p()},t.test_getSearchScenario=function(e){return h[e]};let S=[];function m(e,t){if(e!==l.ScenarioSearchTypes.MessageInConversation)return;const i=n.findIndex(S,(e=>e.sessionId===t));return-1!==i?S[i].additionalLoading:void 0}function C(e,t){return{durationInMs:e.getCurrentDuration(),isStackMode:d.default.isUsingStackNavigationContext(),isZeroTermSearch:t}}function y(e,t){if(e===l.ScenarioSearchTypes.Message||e===l.ScenarioSearchTypes.MessageInConversation)return{endpoint:a.default.getConfigSettingsNoSubscription().messageSearch.host,searchLimit:t}}t.setIdentifier=function(e,t){const i=h[e];t!==i.getIdentifier()&&(i.endScenario(),i.startScenario()),i.setIdentifier(t)},t.willSearch=function(e,t){const i=h[e];i.endScenario(),i.startScenario(),i.setIdentifier(t)},t.searchCallSent=function(e,t,i,n){const o=h[e];if(!o.isTrackingIdentifier(t))return;o.markCallSent();const a=C(o,i),r=y(e,n);s.track(new u.SearchRequestCallSent(a,e,r))},t.searchResultsReceived=function(e,t,i,n){const o=h[e];if(!o.isTrackingIdentifier(t))return;o.markResultsReceived();const a=C(o,i),r=y(e,n);s.track(new u.SearchRequestResultsReceived(a,e,r))},t.searchResultsNotReceived=function(e,t,i,n,a,r,l){const c=h[e];if(!c.isTrackingIdentifier(t))return;c.markResultsNotReceived(),a=o.pii.Omit(a);const d=Object.assign(Object.assign({},C(c,i)),{errorCode:n,errorMessage:a,wasNetworkAvailable:r}),g=y(e,l);s.track(new u.SearchRequestResultsNotReceived(d,e,g))},t.searchResultsRendered=function(e,t,i,n){const o=h[e];if(!o.isTrackingIdentifier(t))return;const a=C(o,i),r=y(e,n),l=m(e,t);s.track(new u.SearchRequestResultsRendered(a,e,r,l)),o.endScenario()},t.invalidateSearchScenario=function(e,t){const i=h[e];i.isTrackingIdentifier(t)&&(i.invalidate(),i.endScenario())},t.markMessageSearchScenarioResultMessageTimestamp=function(e,t,i){if(!h[l.ScenarioSearchTypes.MessageInConversation].isTrackingIdentifier(e))return;S.length>=10&&(S=S.slice(-10));const o=n.findIndex(S,(e=>e.conversationId===i)),s={conversationId:i,messageTimestamp:t,sessionId:e,additionalLoading:l.AdditionalLoading.None};if(-1===o)S.push(s);else{const i=S[o];if(i.messageTimestamp===t&&i.sessionId===e)return;S[o]=s}},t.markMessageSearchAdditionalMessageLoading=function(e,t,i){const o=h[l.ScenarioSearchTypes.MessageInConversation],s=n.findIndex(S,(t=>t.conversationId===e));if(-1===s)return;const a=S[s],r=a.sessionId;o.isTrackingIdentifier(r)&&a.messageTimestamp===t&&(S[s]=Object.assign(Object.assign({},a),{additionalLoading:i}))},t.compositeScenarioResultsRendered=function(e,t,i,o,a){const c=[{scenarioType:l.ScenarioSearchTypes.PublicDirectory,shouldBeResolved:a.publicDirectory},{scenarioType:l.ScenarioSearchTypes.Message,shouldBeResolved:a.message},{scenarioType:l.ScenarioSearchTypes.IndexedDB,shouldBeResolved:a.indexedDb},{scenarioType:l.ScenarioSearchTypes.Bots,shouldBeResolved:a.bots},{scenarioType:l.ScenarioSearchTypes.AllPeople,shouldBeResolved:a.allPeople},{scenarioType:l.ScenarioSearchTypes.FastContacts,shouldBeResolved:a.fastContacts},{scenarioType:l.ScenarioSearchTypes.MessageInConversation,shouldBeResolved:a.messageInConversation}],g=n.map(c,(e=>({scenario:h[e.scenarioType],shouldBeResolved:e.shouldBeResolved,name:l.ScenarioSearchTypes[e.scenarioType]})));for(var p=0;p<g.length;p++){var S=g[p];if(!S.shouldBeResolved)continue;if(S.scenario.getNumberOfSteps()<4)return void s.log(r.LogTraceArea.Search,"compositeScenarioResultsRendered, ignoring event, because a scenario does not have all the expected steps. sessionId: "+e)}const C=n.reduce(g,((e,t)=>t.shouldBeResolved?Math.min(e,t.scenario.getStepTimestamp(0)):e),Number.MAX_SAFE_INTEGER),y=n.reduce(g,((e,t)=>{const i=t.scenario.getNumberOfSteps();if(t.shouldBeResolved&&4===i){const i=t.scenario.getNumberOfSteps()-2;return Math.max(e,t.scenario.getStepTimestamp(i))}return e}),Number.MIN_SAFE_INTEGER),f=n.reduce(g,((e,t)=>{if(t.shouldBeResolved){const i=t.scenario.getNumberOfSteps()-1;return Math.max(e,t.scenario.getStepTimestamp(i))}return e}),Number.MIN_SAFE_INTEGER),b=n.map(g,(e=>{const t=e.scenario.getNumberOfSteps();if(e.shouldBeResolved&&4===t){const i=t-2;return e.scenario.getStepTimestamp(i)-e.scenario.getStepTimestamp(0)}})),_=y===Number.MIN_SAFE_INTEGER?void 0:y-C,v=f-C,T=m(l.ScenarioSearchTypes.MessageInConversation,e),P=new u.CompositeSearch(v,d.default.isUsingStackNavigationContext(),t,i,o,T,_,b[0],b[1],b[2],b[3],b[4],b[5],b[6]);s.track(P);let k="Composite ";o&&(k+="zero term "),k+="search in "+(n.isUndefined(i)?u.CompositeSearchOrigin[t]:r.SearchResultsListOrigin[i])+" took "+v+"ms (time to process requests and render results).\nIt took "+_+"ms to handle all search requests.";for(let e=0;e<g.length;e++)n.isUndefined(b[e])||(k+="\n",k+=g[e].name+" search request took "+b[e]+"ms.");T&&(k+="\nAdditionalLoading: "+l.AdditionalLoading[T]),s.log(r.LogTraceArea.Search,k)}},3362:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SearchTelemetryScenario=t.SearchScenarioComputation=void 0;const n=i(746096),o=i(415963),s=i(170919),a=i(794050);var r;!function(e){e[e.GroupChats=0]="GroupChats",e[e.Bots=1]="Bots",e[e.Messages=2]="Messages",e[e.PublicDirectory=3]="PublicDirectory"}(r=t.SearchScenarioComputation||(t.SearchScenarioComputation={}));t.SearchTelemetryScenario=class{constructor(e,t,i){this._origin=e,this._searchPanelInitiator=t,this._getResultType=i,this._isSuccessful=!1,this._scenario=new a.default(o.ScenarioName.Search),this._scenario.setDuplicateStepMarkingEnabled(),this._scenario.start(this._getBaseAttributes())}clickOnResult(e,t,i,o){const s=this._getBaseAttributes();s.ResultType=this._getResultType(e,i),s.SearchGroup=n.SearchResultsListGroup[t],s.Index=o,this._isSuccessful=!0,this._scenario.markStepCompleted("ClickOnResult",s)}clickOnResultContextMenu(e,t,i){if(!this._scenario.isResolved()){const o=this._getBaseAttributes();o.ResultType=this._getResultType(e),o.SearchGroup=n.SearchResultsListGroup[t],o.ContextMenuCommand=i,this._isSuccessful=!0,this._scenario.markStepCompleted("ClickOnResultContextMenu",o)}}clickOnMore(e){const t=this._getBaseAttributes();t.SearchGroup=n.SearchResultsListGroup[e],this._scenario.markStepCompleted("ClickOnMore",t)}computationFailed(e,t,i){const n=this._getBaseAttributes();n.FailedComputation=r[e],t&&(n.ErrorCode=t),i&&(n.ErrorMessage=i),this._scenario.markStepCompleted("ComputationFailed",n)}finish(){this._isSuccessful?this._scenario.finish(this._getBaseAttributes()):this._scenario.fail(void 0,this._getBaseAttributes())}setQueryLength(e){this._queryLength=e}setSearchFilter(e){this._searchFilter=e}_getBaseAttributes(){const e={};return e.Origin=n.SearchResultsListOrigin[this._origin],void 0!==this._queryLength&&(e.QueryLength=this._queryLength),this._searchFilter&&(e.SearchFilter=s.DesktopSearchFilterOptions[this._searchFilter]),this._searchPanelInitiator&&(e.SearchPanelInitiator=n.SearchPanelInitiator[this._searchPanelInitiator]),e}}},9367:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(500349);class o extends n.TelemetryEventBase{constructor(e){super(),this._state=e}getEventName(){return"fundamentals_service_worker"}getAttributes(){const e=super.getAttributes();return e.State=this._state,e}}t.default=o},115489:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PrivacySettingsTelemetryEvent=t.GlobalShortcutsSettingTelemetryEvent=t.SplitViewTelemetryEvent=t.EcoModeSettingsEvent=t.NoiseSuppressionSettingsEvent=t.CallingSettingsEvent=t.NotificationSettingsChangeTelemetry=t.AVSettingsDialogEvent=t.TelemetryConsentDialogEvent=t.PromptPermissionDialogEvent=t.PromptPermissionDialogVersion=t.AvatarPickerDialogEvent=t.UserProfileDialogEvent=t.ThemeEvent=t.ThemeDialogEvent=t.OnboardingDialogEvent=void 0;const n=i(496486),o=i(775352),s=i(72822),a=i(746096),r=i(478262),l=i(500349),c=i(911698),d=i(163841);class u extends l.TelemetryEventBase{constructor(e,t,i){super(),this._origin=e,this._onboardingDisplayOrder=t,this._onboardingStepsCount=i,this._navExit=s.DialogNavExit.Unknown,this._isNewUser=!1,this._isUpgradedFromDelphi=!1}getExit(){return this._navExit}setExit(e){this._navExit=e}setIsNewUser(e){this._isNewUser=e}setIsUpgradedFromDelphi(e){this._isUpgradedFromDelphi=e}getAttributes(){return n.assign(super.getAttributes(),{Origin:s.DialogNavOrigin[this._origin],Duration:Date.now()-this._eventCreationTime,OnboardingDisplayOrder:void 0!==this._onboardingDisplayOrder?this._onboardingDisplayOrder:-1,OnboardingStepsCount:void 0!==this._onboardingStepsCount?this._onboardingStepsCount:-1,Exit:s.DialogNavExit[this._navExit],IsNewUser:this._isNewUser,IsUpgradedFromDelphi:this._isUpgradedFromDelphi})}}class g extends u{constructor(){super(...arguments),this._onboardingTrackingAttributes={}}setOnboardingAttributes(e){this._onboardingTrackingAttributes=e}getOnboardingAttributes(){return this._onboardingTrackingAttributes}}t.OnboardingDialogEvent=g;class h extends g{constructor(){super(...arguments),this._didToggleLightDarkTab=!1,this._didSelectNewTheme=!1}getEventName(){return"settings_themeDialog"}markDidToggleLightDarkTab(){this._didToggleLightDarkTab=!0}markDidSelectNewTheme(){this._didSelectNewTheme=!0}setFinalTheme(e){this._finalTheme=e}getAttributes(){return n.assign(super.getAttributes(),{DidToggleLightDarkTab:this._didToggleLightDarkTab,DidSelectNewTheme:this._didSelectNewTheme,FinalTheme:void 0!==this._finalTheme?d.Theme[this._finalTheme]:""})}}t.ThemeDialogEvent=h;t.ThemeEvent=class extends h{setUserColor(e){this._userColor=e}setMode(e){this._mode=e}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{UserColor:this._userColor,Mode:this._mode})}};t.UserProfileDialogEvent=class extends g{getEventName(){return"settings_userProfileDialog"}};var p;t.AvatarPickerDialogEvent=class extends g{constructor(){super(...arguments),this._didHaveInitialAvatar=!1,this._didHaveFinalAvatar=!1,this._didSetNewAvatar=!1,this._didRemoveAvatar=!1,this._didRequestCameraPermission=!1,this._didGrantCameraPermission=!1,this._didRequestCameraRollPermission=!1,this._didGrantCameraRollPermission=!1,this._didUseCommonAvatarPicker=!1}getEventName(){return"settings_avatarPickerDialog"}didHaveInitialAvatar(){return this._didHaveInitialAvatar}markDidHaveInitialAvatar(){this._didHaveInitialAvatar=!0}markDidHaveFinalAvatar(){this._didHaveFinalAvatar=!0}markDidSetNewAvatar(){this._didSetNewAvatar=!0}markDidRemoveAvatar(){this._didRemoveAvatar=!0}setAvatarSource(e){this._avatarSource=e}markDidUseCommonAvatarPicker(){this._didUseCommonAvatarPicker=!0}markPermissionRequested(e){switch(e){case r.PermissionType.CameraRoll:this._didRequestCameraRollPermission=!0;break;case r.PermissionType.Camera:this._didRequestCameraPermission=!0}}markPermissionGranted(e,t){switch(e){case r.PermissionType.CameraRoll:this._didGrantCameraRollPermission=t;break;case r.PermissionType.Camera:this._didGrantCameraPermission=t}}getAttributes(){return n.assign(super.getAttributes(),{DidHaveInitialAvatar:this._didHaveInitialAvatar,DidHaveFinalAvatar:this._didHaveFinalAvatar,DidSetNewAvatar:this._didSetNewAvatar,DidRemoveAvatar:this._didRemoveAvatar,DidUseCommonAvatarPicker:this._didUseCommonAvatarPicker,AvatarSource:void 0!==this._avatarSource?a.AvatarDataSource[this._avatarSource]:a.AvatarDataSource[a.AvatarDataSource.Unknown],DidRequestCameraPermission:this._didRequestCameraPermission,DidGrantCameraPermission:this._didGrantCameraPermission,DidRequestCameraRollPermission:this._didRequestCameraRollPermission,DidGrantCameraRollPermission:this._didGrantCameraRollPermission})}},function(e){e[e.V1=0]="V1",e[e.V3=1]="V3",e[e.V4_FirstBlank=2]="V4_FirstBlank",e[e.V4_FirstWithInfo=3]="V4_FirstWithInfo",e[e.V4_FirstWithPreprompt=4]="V4_FirstWithPreprompt"}(p=t.PromptPermissionDialogVersion||(t.PromptPermissionDialogVersion={}));t.PromptPermissionDialogEvent=class extends g{constructor(e,t,i,n){super(e,i,n),this._version=t,this._didAlreadyPromptNotificationsPermission=!1,this._didAlreadyPromptMicPermission=!1,this._didAlreadyPromptCameraPermission=!1,this._didRequestNotificationsPermission=!1,this._didRequestMicPermission=!1,this._didRequestCameraPermission=!1,this._didRequestReadPhoneStatePermission=!1,this._didGrantNotificationsPermission=!1,this._didGrantMicPermission=!1,this._didGrantCameraPermission=!1,this._didGrantReadPhoneStatePermission=!1,this._didNotificationPermissionRequestFailed=!1,this._didVisitPrivacyStatement=!1,this._didSeeLearnMoreButton=!1}getEventName(){return"settings_promptPermissionDialog"}markWhetherSystemPromptsHaveAlreadyBeenDisplayed(e,t,i){this._didAlreadyPromptNotificationsPermission=!e,this._didAlreadyPromptMicPermission=!t,this._didAlreadyPromptCameraPermission=!i}markPermissionGranted(e,t){switch(e){case r.PermissionType.Notifications:this._didGrantNotificationsPermission=t;break;case r.PermissionType.Microphone:this._didGrantMicPermission=t;break;case r.PermissionType.Camera:this._didGrantCameraPermission=t;break;case r.PermissionType.ReadPhoneState:this._didGrantReadPhoneStatePermission=t}}markPermissionRequested(e){switch(e){case r.PermissionType.Notifications:this._didRequestNotificationsPermission=!0;break;case r.PermissionType.Microphone:this._didRequestMicPermission=!0;break;case r.PermissionType.Camera:this._didRequestCameraPermission=!0;break;case r.PermissionType.ReadPhoneState:this._didRequestReadPhoneStatePermission=!0}}markNotificationPermissionRequestFailed(){this._didNotificationPermissionRequestFailed=!0}markDidVisitPrivacyStatement(){this._didVisitPrivacyStatement=!0}markDidSeeLearnMoreButton(){this._didSeeLearnMoreButton=!0}getAttributes(){return n.assign(super.getAttributes(),{DidAlreadyPropmptNotificationsPermission:this._didAlreadyPromptNotificationsPermission,DidAlreadyPropmptMicPermission:this._didAlreadyPromptMicPermission,DidAlreadyPropmptCameraPermission:this._didAlreadyPromptCameraPermission,DidRequestNotificationsPermission:this._didRequestNotificationsPermission,DidRequestMicPermission:this._didRequestMicPermission,DidRequestCameraPermission:this._didRequestCameraPermission,DidRequestReadPhoneStatePermission:this._didRequestReadPhoneStatePermission,DidGrantNotificationsPermission:this._didGrantNotificationsPermission,DidGrantMicPermission:this._didGrantMicPermission,DidGrantCameraPermission:this._didGrantCameraPermission,DidGrantReadPhoneStatePermission:this._didGrantReadPhoneStatePermission,DidNotificationPermissionRequestFailed:this._didNotificationPermissionRequestFailed,DialogVersion:p[this._version],DidVisitPrivacyStatement:this._didVisitPrivacyStatement,DidSeeLearnMoreButton:this._didSeeLearnMoreButton})}};t.TelemetryConsentDialogEvent=class extends g{constructor(e,t,i){super(e,t,i),this._didVisitPrivacyStatement=!1,this._didVisitLearnMoreLink=!1}getEventName(){return"settings_optionalTelemetryConsentDialog"}markDidVisitPrivacyStatement(){this._didVisitPrivacyStatement=!0}markDidVisitLearnMoreLink(){this._didVisitLearnMoreLink=!0}getAttributes(){return n.extend({},super.getAttributes(),this.getOnboardingAttributes(),{DidVisitPrivacyStatement:this._didVisitPrivacyStatement,DidVisitLearnMoreLink:this._didVisitLearnMoreLink})}};t.AVSettingsDialogEvent=class extends g{constructor(e,t,i,n){super(t,i,n),this._settingsMode=e,this._didChangeCameraSetting=!1,this._didChangeMicSetting=!1,this._didChangeSpeakerSetting=!1,this._didChangeRingingDeviceSetting=!1,this._didAdjustMicrophone=!1,this._didChangeMicAutoAdjustment=!1,this._shouldAutoAdjustMic=!1,this._didPerformAudioTest=!1,this._didPerformTestCall=!1,this._didChangeSpeakerVolume=!1,this._didChangeEchoCancellation=!1,this._shouldCancelEcho=!1,this._didChangeMusicMode=!1,this._musicMode=!1}getEventName(){return"settings_avSettingsDialog"}markDidChangeCameraSetting(){this._didChangeCameraSetting=!0}markDidChangeMicSetting(){this._didChangeMicSetting=!0}markDidChangeSpeakerSetting(){this._didChangeSpeakerSetting=!0}markDidChangeRingingDeviceSetting(){this._didChangeRingingDeviceSetting=!0}markDidAdjustMicrophone(){this._didAdjustMicrophone=!0}markDidChangeMicrophoneAutoAdjustment(e){this._didChangeMicAutoAdjustment=!0,this._shouldAutoAdjustMic=e}markAudioTestPerformed(){this._didPerformAudioTest=!0}markTestCallPerformed(){this._didPerformTestCall=!0}markDidChangeSpeakerVolume(){this._didChangeSpeakerVolume=!0}markDidChangeEchoCancellation(e){this._didChangeEchoCancellation=!0,this._shouldCancelEcho=e}markDidChangeMusicMode(e){this._didChangeMusicMode=!0,this._musicMode=e}getAttributes(){return n.extend({},super.getAttributes(),this.getOnboardingAttributes(),{DialogType:o.SettingsMode[this._settingsMode],DidChangeCameraSetting:this._didChangeCameraSetting,DidChangeMicSetting:this._didChangeMicSetting,DidChangeSpeakerSetting:this._didChangeSpeakerSetting,DidChangeSpeakerVolume:this._didChangeSpeakerVolume,DidChangeRingingDeviceSetting:this._didChangeRingingDeviceSetting,DidAdjustMicrophone:this._didAdjustMicrophone,DidChangeMicAutoAdjustment:this._didChangeMicAutoAdjustment,ShouldAutoAdjustMic:this._shouldAutoAdjustMic,DidPerformAudioTest:this._didPerformAudioTest,DidPerformTestCall:this._didPerformTestCall,ShouldCancelEcho:this._shouldCancelEcho,DidChangeEchoCancellation:this._didChangeEchoCancellation,MusicMode:this._musicMode,DidChangeMusicMode:this._didChangeMusicMode})}};class S extends l.TelemetryEventBase{constructor(e){super(),this._notificationSettings=e}getEventName(){return"all_notification_settings_change"}getAttributes(){const e=super.getAttributes();return n.forOwn(this._notificationSettings,((t,i)=>{this._setAttributeIfDefined(e,n.upperFirst(i),t)})),e}_setAttributeIfDefined(e,t,i){n.isUndefined(i)||(e[t]=i)}}t.NotificationSettingsChangeTelemetry=S;class m extends l.TelemetryEventBase{constructor(){super()}getEventName(){return"all_settings"}getAttributes(){const e=super.getAttributes();return e.ComponentName=this.getComponentName(),e.Action=this.getActionName(),e}}t.CallingSettingsEvent=class extends m{constructor(e,t){super(),this._setting=e,this._enabled=t}getActionName(){return"Set"}getComponentName(){return c.ComponentName.Calling}getAttributes(){return n.assign(super.getAttributes(),{Setting:this._setting,IsEnabled:this._enabled})}};t.NoiseSuppressionSettingsEvent=class extends m{constructor(e,t,i,n){super(),this._isInCall=e,this._oldValue=t,this._newValue=i,this._origin=n}getActionName(){return"NoiseSuppressionChange"}getComponentName(){return c.ComponentName.Calling}getAttributes(){return n.assign(super.getAttributes(),{IsInCall:this._isInCall,OldValue:this._oldValue,NewValue:this._newValue,Origin:this._origin})}};t.EcoModeSettingsEvent=class extends m{constructor(e,t,i,n){super(),this._isInCall=e,this._oldValue=t,this._newValue=i,this._origin=n}getActionName(){return"EcoModeChange"}getComponentName(){return c.ComponentName.Calling}getAttributes(){return n.assign(super.getAttributes(),{IsInCall:this._isInCall,OldValue:this._oldValue,NewValue:this._newValue,Origin:this._origin})}};t.SplitViewTelemetryEvent=class extends m{constructor(e){super(),this._enabled=e}getActionName(){return"Set"}getComponentName(){return c.ComponentName.Views}getAttributes(){return n.assign(super.getAttributes(),{IsEnabled:this._enabled})}};t.GlobalShortcutsSettingTelemetryEvent=class extends m{constructor(e){super(),this._enabled=e}getActionName(){return"Set"}getComponentName(){return c.ComponentName.Hotkeys}getAttributes(){return n.assign(super.getAttributes(),{IsEnabled:this._enabled})}};t.PrivacySettingsTelemetryEvent=class extends m{constructor(e,t={}){super(),this._settingName=e,this._settingsValues=t}getActionName(){return"PrivacySettings"}getComponentName(){return c.ComponentName.Privacy}getAttributes(){const e=Object.assign(super.getAttributes(),this._settingsValues);return e.Setting=this._settingName,e}}},250571:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SharePanelTelemetry=void 0;const n=i(746096),o=i(500349);class s extends o.TelemetryEventBase{constructor(e,t,i,n){super(),this._entryPoint=e,this._numberOfShares=t,this._usedSearch=i,this._userAddedContext=n}getEventName(){return"messaging_share_panel"}getAttributes(){const e=super.getAttributes();return e.EntryPoint=n.SharePanelEntryOrigin[this._entryPoint],e.SharesCount=this._numberOfShares,e.HasUsedSearch=this._usedSearch,e.HasAddedContext=this._userAddedContext,e}}t.SharePanelTelemetry=s},76812:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ShareToSkypeEventActions=void 0;const n=i(500349);!function(e){e.completed="shareToSkype_action",e.opened="shareToSkype_open",e.posted="shareToSkype_posted"}(t.ShareToSkypeEventActions||(t.ShareToSkypeEventActions={}));class o extends n.TelemetryEventBase{constructor(e){super(),this._params=e}getEventName(){return"messaging_share_to_skype"}getAttributes(){const e=super.getAttributes();e.Action=this._params.action,e.ConversationsCount=this._params.conversationsCount||0,e.MessageAdded=this._params.messageAdded||!1,e.IsSharedToContact=this._params.isSharedToContact||!1,e.ErrorCode=this._params.errorCode||0,e.IsSendingVideo=!1,e.IsSendingImage=!1,e.TotalCount=0;const t=this._params.event;let i=t.type;if("media"===i&&void 0!==t.data){i=1===t.data.length?t.data[0].type:"multiple",e.TotalCount=t.data.length;for(const i of t.data)"video"===i.type&&(e.IsSendingVideo=!0),"image"===i.type&&(e.IsSendingImage=!0)}return e.Type=i,e}}t.default=o},183757:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(500349);class o extends n.TelemetryEventBase{constructor(e){super(),this._params=e}getEventName(){return"siri"}getAttributes(){const e=super.getAttributes();return e.Action=this._params.action,e}}t.default=o},188208:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MsaConvergenceBackgroundInterruptAvoided=t.MsaConvergenceNotificationInterruptAvoided=t.MsaConvergenceCallInterruptAvoided=t.ConvergedMsaEventBase=t.MigratedT1Credentials=t.MigratedT1CredentialsStep=t.MigratedT1CredentialsType=t.WAMTokenRetrievalFailure=t.WAMTokenRetrieved=t.WAMTokenRequested=t.WAMLoginCompleted=t.WAMLoginFailure=t.WAMCacheInvalidated=t.WAMSignInSource=t.AutoSignInCompleted=t.AutoSignInTelemetryServiceInitializationFailed=t.AutoSignInUserNameRetrievalFromStorageFailed=t.AutoSignInNoUserNameInStorage=t.AutoSignInSkypeTokenFetchFailed=t.AutoSignInPushRegistrationFailed=t.AutoSignInCallingStoreInitializationFailed=t.AutoSignInDatabaseInitializationFailed=t.AutoSignInDisabledByECS=t.AutoSignInServerConfigFetchFailed=t.AutoSignInCancelled=t.AutoSignInStarted=t.AutoSignExtraSignInStarted=t.LoginMethod=t.BackgroundTriggers=t.AppEntryStartEvent=t.RefreshTokenError=t.RefreshTokenErrorCode=t.SsoTokenSignedIn=t.SsoTokenInterrupted=t.SsoTokenAutoRefreshed=t.SsoTokenSignIn=t.MSAInterruptHandlerSignedIn=t.MSAInterruptHandlerSwitched=t.MSAInterruptHandlerStarted=t.MsaSignInFunnelEvent=t.MsaSignUpFunnelEvent=t.AppEntryEvent=t.CreateAccountFlowStarted=t.LoginFlowStarted=t.NeedHelpLinkOpened=t.NeedHelpClicked=t.WelcomeScreenLoaded=t.CreateMeetNowAsGuestEventBase=t.AppEntryStartMethod=t.AppEntryMethod=void 0,t.OneAuthActionEvent=t.OneAuthTelemetryActionName=t.MSAInterruptNotificationClicked=t.MSIXBackgroundTaskEvent=t.BackgroundTaskAction=t.QrSignInNotAvailable=t.QrSignInQrCodeRenderFailed=t.QrSignInQrCodeRenderedSuccessfully=t.QRSignInTokenRequestFailed=t.QrSignInSuccessful=t.MsaProfileFetch=t.AuthBackgroundRefreshHasValidTokenEvent=t.AuthBackgroundRefreshUpdateTriggeredEvent=t.AuthBackgroundRefreshScheduledEvent=t.MsaConvergenceUnexpectedRetrySuccess=void 0;const n=i(636076),o=i(496486),s=i(686268),a=i(889391),r=i(640363),l=i(613403),c=i(352914),d=i(500349),u=i(500787);var g,h,p,S,m,C,y,f;!function(e){e[e.Guest=0]="Guest",e[e.SignIn=1]="SignIn",e[e.SignUp=2]="SignUp",e[e.SsoSignIn=3]="SsoSignIn",e[e.QsoSignIn=4]="QsoSignIn",e[e.Interrupt=5]="Interrupt",e[e.WAM=6]="WAM",e[e.MigratedCredentials=7]="MigratedCredentials",e[e.SkypeWebLogin=8]="SkypeWebLogin",e[e.Unknown=9]="Unknown",e[e.QrSignIn=10]="QrSignIn",e[e.Manual=11]="Manual"}(g=t.AppEntryMethod||(t.AppEntryMethod={})),function(e){e[e.Manual=0]="Manual",e[e.SsoSignIn=1]="SsoSignIn",e[e.QsoSignIn=2]="QsoSignIn",e[e.Interrupt=3]="Interrupt",e[e.WAM=4]="WAM",e[e.MigratedCredentials=5]="MigratedCredentials",e[e.Unknown=6]="Unknown",e[e.Guest=7]="Guest",e[e.PhoneAuth=8]="PhoneAuth"}(h=t.AppEntryStartMethod||(t.AppEntryStartMethod={}));class b extends d.TelemetryEventBase{constructor(e,t,i){super(),this._isFirstTimeSignIn=e,this._isAppAutoStartEnabled=t,this._isAppLaunchMinimizedEnabled=i}shouldSendUaid(){return!1}getAttributes(){const e=super.getAttributes();return e.SISUExpID=a.default.dangerouslyGetS4LSisuFeatures().sisuExpId,this.shouldSendUaid()&&(e.UAID=l.default.sisuUaid),void 0!==this._isFirstTimeSignIn&&(e.IsFirstTimeSignIn=this._isFirstTimeSignIn),void 0!==this._isAppAutoStartEnabled&&(e.IsAppAutoStartEnabled=this._isAppAutoStartEnabled),void 0!==this._isAppLaunchMinimizedEnabled&&(e.IsAppLaunchMinimizedEnabled=this._isAppLaunchMinimizedEnabled),e}getLoggedOutSendingPolicy(){return d.TelemetryEventLoggedOutPolicy.SendNow}}class _ extends b{getEventName(){return"sisu_welcome_screen"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.CreateMeetNowAsGuestEventBase=class extends b{constructor(e,t){super(),this._sisuPageName=e,this._isPresentedAsMainCTAButton=t}getEventName(){return"sisu_guest_meetnow"}getAttributes(){const e=super.getAttributes();return e.SisuPageName=this._sisuPageName,e.IsPresentedAsMainCTAButton=this._isPresentedAsMainCTAButton||"",e}};t.WelcomeScreenLoaded=class extends _{getActionName(){return"WelcomeScreenLoaded"}};t.NeedHelpClicked=class extends _{getActionName(){return"NeedHelpClicked"}};t.NeedHelpLinkOpened=class extends _{getActionName(){return"NeedHelpLinkOpened"}};t.LoginFlowStarted=class extends _{constructor(e=!1){super(),this._isFromOneAuth=e}getActionName(){return"LoginFlowStarted"}shouldSendUaid(){return!0}getAttributes(){const e=super.getAttributes();return e.IsFromOneAuth=this._isFromOneAuth,e}};t.CreateAccountFlowStarted=class extends _{getActionName(){return"CreateAccountFlowStarted"}shouldSendUaid(){return!0}};t.AppEntryEvent=class extends b{constructor(e,t,i,n,o,s=!1){super(t),this._method=e,this._isNeedHelpClicked=i,this._timeToEntry=n,this._hasWAMAccount=o,this._isFromOneAuth=s}getEventName(){return"sisu_app_entry"}getAttributes(){const e=o.assign(super.getAttributes(),{Method:g[this._method],WasNeedHelpClicked:this._isNeedHelpClicked||!1});return void 0!==this._hasWAMAccount&&(e.WasOfferedWithWAM=!!this._hasWAMAccount),this._timeToEntry&&(e.TimeToEntry=this._timeToEntry),e.IsFromOneAuth=this._isFromOneAuth,e}getLoggedOutSendingPolicy(){return d.TelemetryEventLoggedOutPolicy.WaitForUserId}};t.MsaSignUpFunnelEvent=class extends b{constructor(e,t,i,n,o){super(n),this._funnelPageName=e,this._timeToArrive=t,this._errorCode=i,this._isNeedHelpClicked=o,this._timeToArrive>36e5&&(this._timeToArrive=-1)}getEventName(){return"sisu_msa_signup_funnel"}shouldSendUaid(){return!0}getAttributes(){return o.assign(super.getAttributes(),{FunnelPageName:this._funnelPageName,ErrorCode:this._errorCode?this._errorCode:"None",TimeToStepDuration:this._timeToArrive,WasNeedHelpClicked:this._isNeedHelpClicked||!1})}};t.MsaSignInFunnelEvent=class extends b{constructor(e,t,i,n,o){super(n),this._funnelPageName=e,this._timeToArrive=t,this._errorCode=i,this._isNeedHelpClicked=o,this._timeToArrive>36e5&&(this._timeToArrive=-1)}getEventName(){return"sisu_msa_signin_funnel"}shouldSendUaid(){return!0}getAttributes(){return o.assign(super.getAttributes(),{FunnelPageName:this._funnelPageName,ErrorCode:this._errorCode?this._errorCode:"None",TimeToStepDuration:this._timeToArrive,WasNeedHelpClicked:this._isNeedHelpClicked||!1})}};class v extends b{getEventName(){return"sisu_msa_interrupt_handler"}shouldSendUaid(){return!0}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.MSAInterruptHandlerStarted=class extends v{getActionName(){return"RefreshTokenStored"}};t.MSAInterruptHandlerSwitched=class extends v{getActionName(){return"UserSwitchedAccounts"}};t.MSAInterruptHandlerSignedIn=class extends v{getActionName(){return"UserSignedIn"}};class T extends b{getEventName(){return"sisu_sso_screen"}shouldSendUaid(){return!0}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class P extends T{constructor(e,t=!1){super(),this._tokenProviderPackageId=e,this._isFromOneAuth=t}getAttributes(){return o.assign(super.getAttributes(),{ProviderPackageId:this._tokenProviderPackageId?this._tokenProviderPackageId:"",IsFromOneAuth:this._isFromOneAuth})}}t.SsoTokenSignIn=class extends P{getActionName(){return"SsoTokenSignIn"}};t.SsoTokenAutoRefreshed=class extends P{getActionName(){return"SsoTokenAutoRefreshed"}};t.SsoTokenInterrupted=class extends P{getActionName(){return"SsoTokenInterrupted"}};t.SsoTokenSignedIn=class extends P{getActionName(){return"SsoTokenSignedIn"}},function(e){e[e.OAuthError=0]="OAuthError",e[e.WebViewError=1]="WebViewError",e[e.NavigationDeadEnd=2]="NavigationDeadEnd",e[e.AutoRefreshError=3]="AutoRefreshError",e[e.InterruptError=4]="InterruptError",e[e.UserSwitched=5]="UserSwitched"}(p=t.RefreshTokenErrorCode||(t.RefreshTokenErrorCode={}));t.RefreshTokenError=class extends b{constructor(e,t,i,n){super(),this._errorCode=e,this._tokenSource=t,this._errorName=i,this._errorMessage=n}getEventName(){return"sisu_refreshtoken_error"}shouldSendUaid(){return!0}getAttributes(){const e=super.getAttributes();return e.ErrorCode=p[this._errorCode],this._tokenSource&&(e.TokenSource=c.MsaTokenSource[this._tokenSource]),this._errorName&&(e.ErrorName=this._errorName),this._errorMessage&&(e.ErrorMessage=this._errorMessage),e}};t.AppEntryStartEvent=class extends b{constructor(e,t,i=!1){super(t),this._method=e,this._isFromOneAuth=i}getEventName(){return"sisu_app_entry_start"}getAttributes(){const e=super.getAttributes();e.Method=h[this._method],e.NoPaVersion=l.default.getNoPaVersion();const t=l.default.getCoBaSi();return o.isUndefined(t)||(e.CoBaSiVersion=t),e.IsFromOneAuth=this._isFromOneAuth,e}},function(e){e[e.SessionConnected=0]="SessionConnected",e[e.DefaultMsaAttached=1]="DefaultMsaAttached",e[e.AppUpdate=2]="AppUpdate",e[e.MaintenanceWindowStart=3]="MaintenanceWindowStart"}(S=t.BackgroundTriggers||(t.BackgroundTriggers={}));class k extends d.TelemetryEventBase{constructor(e,t){super(),this._isFirstTimeSignIn=e,this._backgroundTrigger=t}getEventName(){return"sisu_auto_signin"}getAttributes(){const e=super.getAttributes();return void 0!==this._isFirstTimeSignIn&&(e.IsFirstTimeSignIn=this._isFirstTimeSignIn),e.Action=this.getActionName(),void 0!==this._backgroundTrigger&&(e.BackgroundTrigger=S[this._backgroundTrigger]),e}getLoggedOutSendingPolicy(){return d.TelemetryEventLoggedOutPolicy.SendNow}}!function(e){e[e.MSA=0]="MSA",e[e.WAM=1]="WAM",e[e.AAD=2]="AAD"}(m=t.LoginMethod||(t.LoginMethod={}));t.AutoSignExtraSignInStarted=class extends k{constructor(e,t){super(t),this._loginMethod=e}getActionName(){return"ExtraSignInStarted"}getAttributes(){const e=super.getAttributes();return e.LoginMethod=m[this._loginMethod],e}};t.AutoSignInStarted=class extends k{getActionName(){return"AutoSignInStarted"}};t.AutoSignInCancelled=class extends k{getActionName(){return"AutoSignInCancelled"}};t.AutoSignInServerConfigFetchFailed=class extends k{getActionName(){return"AutoSignInServerConfigFetchFailed"}};t.AutoSignInDisabledByECS=class extends k{getActionName(){return"AutoSignInDisabledByECS"}};t.AutoSignInDatabaseInitializationFailed=class extends k{getActionName(){return"AutoSignInDatabaseInitializationFailed"}};t.AutoSignInCallingStoreInitializationFailed=class extends k{getActionName(){return"AutoSignInCallingStoreInitializationFailed"}};t.AutoSignInPushRegistrationFailed=class extends k{getActionName(){return"AutoSignInPushRegistrationFailed"}};t.AutoSignInSkypeTokenFetchFailed=class extends k{getActionName(){return"AutoSignInSkypeTokenFetchFailed"}};t.AutoSignInNoUserNameInStorage=class extends k{getActionName(){return"AutoSignInNoUserNameInStorage"}};t.AutoSignInUserNameRetrievalFromStorageFailed=class extends k{getActionName(){return"AutoSignInUserNameRetrievalFromStorageFailed"}};t.AutoSignInTelemetryServiceInitializationFailed=class extends k{getActionName(){return"AutoSignInTelemetryServiceInitializationFailed"}};t.AutoSignInCompleted=class extends k{getActionName(){return"AutoSignInCompleted"}},function(e){e[e.AccountPicker=0]="AccountPicker",e[e.MeetNow=1]="MeetNow",e[e.AuthServiceInteractiveRetry=2]="AuthServiceInteractiveRetry"}(C=t.WAMSignInSource||(t.WAMSignInSource={}));t.WAMCacheInvalidated=class extends k{getActionName(){return"WAMCacheInvalidated"}};t.WAMLoginFailure=class extends k{constructor(e){super(e)}getActionName(){return"WAMLoginFailure"}};t.WAMLoginCompleted=class extends k{constructor(e){super(e)}getActionName(){return"WAMLoginCompleted"}};class A extends k{constructor(e,t=!1,i,n){super(e),this._isRefreshRequest=t,this._correlationId=i,this._signInSource=n}getAttributes(){const e=super.getAttributes();return e.IsRefreshRequest=this._isRefreshRequest,(void 0!==this._signInSource&&!this._isRefreshRequest||this._signInSource===C.AuthServiceInteractiveRetry)&&(e.SignInSource=C[this._signInSource]),this._correlationId&&(e.WamCorrelationId=this._correlationId),e}}t.WAMTokenRequested=class extends A{constructor(e,t=!1,i,n){super(e,t,i,n)}getActionName(){return"WAMTokenRequested"}};t.WAMTokenRetrieved=class extends A{constructor(e,t=!1,i,n){super(e,t,i,n)}getActionName(){return"WAMTokenRetrieved"}};t.WAMTokenRetrievalFailure=class extends A{constructor(e,t,i,n,o=!1,s,a){super(e,o,s,a),this._errorCode=t,this._errorMessage=i,this._hResult=n}getActionName(){return"WAMTokenRetrievalFailure"}getAttributes(){const e=super.getAttributes();return void 0!==this._errorCode&&(e.ErrorCode=this._errorCode),this._errorMessage&&(e.ErrorMessage=this._errorMessage),this._hResult&&(e.HResult=s.TokenRequestHRESULT[this._hResult]),e}},function(e){e[e.MSA=0]="MSA",e[e.Skype=1]="Skype",e[e.UWP_MSA=2]="UWP_MSA",e[e.M3_MSA=3]="M3_MSA",e[e.IPAD_MSA=4]="IPAD_MSA"}(t.MigratedT1CredentialsType||(t.MigratedT1CredentialsType={})),function(e){e[e.Fetched=0]="Fetched",e[e.Migrated=1]="Migrated",e[e.Failed=2]="Failed",e[e.ForcedFetched=3]="ForcedFetched",e[e.ForcedFailed=4]="ForcedFailed"}(y=t.MigratedT1CredentialsStep||(t.MigratedT1CredentialsStep={}));class I extends d.TelemetryEventBase{constructor(e,t,i,n,o,s){super(),this._type=e,this._step=t,this._wlidErrorCode=i,this._t1Username=n,this._errStatusCode=o,this._errShortName=s}getEventName(){return"sisu_migrated_t1_credentials"}getAttributes(){const e=o.assign({},super.getAttributes(),{Type:this._type,Step:this._step});return this._wlidErrorCode&&(e.WLIDErrorCode=this._wlidErrorCode),this._errStatusCode&&(e.WebErrorStatusCode=this._errStatusCode),this._errShortName&&(e.WebErrorShortName=this._errShortName),e}getPiiAttributes(){const e=super.getPiiAttributes();return e.UsernameHash={value:this._t1Username||"",piiKind:n.AWTPiiKind.Identity},e}getLoggedOutSendingPolicy(){return this._step===y[y.Migrated]?d.TelemetryEventLoggedOutPolicy.WaitForUserId:d.TelemetryEventLoggedOutPolicy.SendNow}}t.MigratedT1Credentials=I;class w extends d.TelemetryEventBase{getEventName(){return"sisu_converged_msa"}getAttributes(){return o.assign(super.getAttributes(),{Action:this.getActionName()})}}t.ConvergedMsaEventBase=w;t.MsaConvergenceCallInterruptAvoided=class extends w{getActionName(){return"CallInterruptAvoided"}};t.MsaConvergenceNotificationInterruptAvoided=class extends w{getActionName(){return"NotificationInterruptAvoided"}};t.MsaConvergenceBackgroundInterruptAvoided=class extends w{getActionName(){return"BackgroundInterruptAvoided"}};t.MsaConvergenceUnexpectedRetrySuccess=class extends w{getActionName(){return"UnexpectedRetrySuccess"}};class x extends u.PriorityTelemetryEventBase{constructor(e){super(),this._lastRefreshTime=e}getEventName(){return"sisu_auth_background_refresh"}getAttributes(){const e=o.assign(super.getAttributes(),{Action:this.getActionName()});return this._lastRefreshTime&&(e.LastRefreshTime=this._lastRefreshTime),e}}t.AuthBackgroundRefreshScheduledEvent=class extends x{getActionName(){return"RefreshScheduled"}};t.AuthBackgroundRefreshUpdateTriggeredEvent=class extends x{getActionName(){return"UpdateTriggered"}};t.AuthBackgroundRefreshHasValidTokenEvent=class extends x{getActionName(){return"HasValidToken"}};class N extends d.TelemetryEventBase{constructor(e){super(),this._msaProfileFetchParams=e}getEventName(){return"sisu_msa_profile_fetch"}getAttributes(){const e=super.getAttributes();return o.isUndefined(this._msaProfileFetchParams.errorStatus)||(e.ErrorStatus=this._msaProfileFetchParams.errorStatus),o.isUndefined(this._msaProfileFetchParams.ageGroup)||(e.AgeGroup=this._msaProfileFetchParams.ageGroup),e}}t.MsaProfileFetch=N;class M extends d.TelemetryEventBase{constructor(e,t){super(),this._qrSignInError=e,this._qrShowType=t}getEventName(){return"sisu_msa_qr_sign_in"}getAttributes(){const e=o.assign(super.getAttributes(),{Action:this.getActionName()});return this._qrShowType&&(e.QrShowType=this._qrShowType),this._qrSignInError&&(e.ErrorType=this._qrSignInError.errorType,this._qrSignInError.errorStatus&&(e.ErrorStatus=this._qrSignInError.errorStatus)),e}}t.QrSignInSuccessful=class extends M{getActionName(){return"QrSignInSuccessful"}};t.QRSignInTokenRequestFailed=class extends M{getActionName(){return"QrSignInTokenExchangeFailed"}};t.QrSignInQrCodeRenderedSuccessfully=class extends M{constructor(e){super(void 0,e)}getActionName(){return"QrSignInQrCodeRenderedSuccessfully"}};t.QrSignInQrCodeRenderFailed=class extends M{constructor(e){super(void 0,e)}getActionName(){return"QrSignInQrCodeRenderFailed"}};t.QrSignInNotAvailable=class extends M{getActionName(){return"QrSignInNotAvailable"}},function(e){e[e.Register=0]="Register",e[e.Unregister=1]="Unregister",e[e.UnregisterAll=2]="UnregisterAll"}(f=t.BackgroundTaskAction||(t.BackgroundTaskAction={}));class L extends d.TelemetryEventBase{constructor(e,t,i,n,o){super(),this._isSuccessful=e,this._backgroundTaskAction=t,this._backgroundTaskName=i,this._backgroundTaskTriggerType=n,this._timeTriggerIntervalInMinutes=o}getEventName(){return"sisu_msix_background_task"}getActionName(){return f[this._backgroundTaskAction]}getAttributes(){const e=super.getAttributes();return e.CorrelationId=r.default.getSessionId(),e.IsSuccessful=this._isSuccessful,void 0!==this._backgroundTaskName&&(e.BackgroundTaskName=this._backgroundTaskName),void 0!==this._backgroundTaskTriggerType&&(e.BackgroundTaskTriggerType=this._backgroundTaskTriggerType),void 0!==this._timeTriggerIntervalInMinutes&&(e.TimeTriggerInterval=this._timeTriggerIntervalInMinutes.toString()),e}}t.MSIXBackgroundTaskEvent=L;class O extends d.TelemetryEventBase{constructor(e){super(),this._isMsaInvalidGrantInterruptReminder=e}getEventName(){return"sisu_msa_interrupt_notification_clicked"}getAttributes(){const e=super.getAttributes();return e.IsMsaInvalidGrantInterruptReminder=this._isMsaInvalidGrantInterruptReminder,e}}t.MSAInterruptNotificationClicked=O,function(e){e.RefreshTokenMigration="RefreshTokenMigration",e.SignOut="SignOut",e.GetAvailableAccounts="GetAvailableAccounts",e.SignInOrSignUp="SignInOrSignUp",e.AcquireCredentialsSilently="AcquireCredentialsSilently",e.AcquireCredentialsSilentlyWithUIFallback="AcquireCredentialsSilentlyWithUIFallback",e.AcquireCredentialsInteractively="AcquireCredentialsInteractively"}(t.OneAuthTelemetryActionName||(t.OneAuthTelemetryActionName={}));class D extends d.TelemetryEventBase{constructor(e,t,i){super(),this._telemetryActionName=e,this._oneAuthError=t,this._commonTelemetryData=i}getEventName(){return"sisu_oneauth_action"}getActionName(){return this._telemetryActionName}getAttributes(){const e=super.getAttributes();return this._oneAuthError?(e.IsError=!0,e.ErrorType=this._oneAuthError.type,null!==this._oneAuthError.status&&(e.ErrorOneAuthStatus=this._oneAuthError.status),null!==this._oneAuthError.subStatus&&(e.ErrorOneAuthSubStatus=this._oneAuthError.subStatus),null!==this._oneAuthError.reason&&(e.ErrorReason=this._oneAuthError.reason)):e.IsError=!1,this._commonTelemetryData&&(this._commonTelemetryData.isRefreshTokenFromQrCodeSignIn&&(e.IsRefreshTokenFromQrCodeSignIn=this._commonTelemetryData.isRefreshTokenFromQrCodeSignIn),this._commonTelemetryData.scope&&(e.Scope=this._commonTelemetryData.scope),this._commonTelemetryData.isQsoLogout&&(e.IsQsoLogout=this._commonTelemetryData.isQsoLogout),this._commonTelemetryData.numberOfAccountsFetched&&(e.NumberOfAccountsFetched=this._commonTelemetryData.numberOfAccountsFetched),this._commonTelemetryData.isEmailAccrual&&(e.isEmailAccrual=this._commonTelemetryData.isEmailAccrual),this._commonTelemetryData.isPhoneAccrual&&(e.isPhoneAccrual=this._commonTelemetryData.isPhoneAccrual),this._commonTelemetryData.withTokenToRenew&&(e.WithTokenToRenew=this._commonTelemetryData.withTokenToRenew)),e.Action=this.getActionName(),e}}t.OneAuthActionEvent=D},432288:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SkypeNumberPurchaseFlowTelemetryButtons=t.SkypeNumberTelemetryActions=t.SkypeNumberTelemetryOrigin=void 0,function(e){e[e.ProfileGetClicked=0]="ProfileGetClicked",e[e.MeControlGetClicked=1]="MeControlGetClicked",e[e.ListGetClicked=2]="ListGetClicked",e[e.InfoClicked=3]="InfoClicked",e[e.InfoScreenContinueButtonClicked=4]="InfoScreenContinueButtonClicked",e[e.ProfileSectionViewed=5]="ProfileSectionViewed",e[e.ProfileSectionClicked=6]="ProfileSectionClicked",e[e.MeControlSectionViewed=7]="MeControlSectionViewed",e[e.MeControlSectionClicked=8]="MeControlSectionClicked",e[e.PurchaseButtonClicked=9]="PurchaseButtonClicked",e[e.RefreshedSkypeNumberTenTimes=10]="RefreshedSkypeNumberTenTimes",e[e.ReservationSuceeded=11]="ReservationSuceeded",e[e.ReservationSuceededWithDataCollection=12]="ReservationSuceededWithDataCollection",e[e.ReservationFailed=13]="ReservationFailed",e[e.ReservationFailedWithDataCollection=14]="ReservationFailedWithDataCollection",e[e.FetchedAfterBuy=15]="FetchedAfterBuy",e[e.WasProvisioned=16]="WasProvisioned",e[e.PurchaseEntryButtonShown=17]="PurchaseEntryButtonShown",e[e.LearnMoreButtonShown=18]="LearnMoreButtonShown",e[e.WebGetButtonShown=19]="WebGetButtonShown",e[e.CopyClicked=20]="CopyClicked",e[e.ShareClicked=21]="ShareClicked",e[e.DesktopShareClicked=22]="DesktopShareClicked",e[e.ShareError=23]="ShareError",e[e.ShareSuccess=24]="ShareSuccess",e[e.EmailClicked=25]="EmailClicked",e[e.SettingsClicked=26]="SettingsClicked",e[e.ActionClicked=27]="ActionClicked",e[e.DialogOpened=28]="DialogOpened",e[e.ActionDialogClicked=29]="ActionDialogClicked",e[e.CallerIdEnabled=30]="CallerIdEnabled",e[e.CallerIdChanged=31]="CallerIdChanged",e[e.CallerIdDisabled=32]="CallerIdDisabled"}(t.SkypeNumberTelemetryOrigin||(t.SkypeNumberTelemetryOrigin={})),function(e){e.ShowPurchaseFlow="ShowPurchaseFlow",e.ShowListNumbers="ShowListNumbers",e.NativeExperience="NativeExperience",e.InAppInfoScreen="InAppInfoScreen"}(t.SkypeNumberTelemetryActions||(t.SkypeNumberTelemetryActions={})),function(e){e.Continue="Continue",e.RefreshNumber="RefreshNumber",e.Information="Information",e.ResidencyDeclarationContinue="ResidencyDeclarationContinue",e.ResidencyDeclarationCancel="ResidencyDeclarationCancel",e.DataCollectionInformationContinue="DataCollectionInformationContinue",e.DataCollectionInformationCancel="DataCollectionInformationCancel",e.DataCollectionFormContinue="DataCollectionFormContinue",e.DataCollectionFormCancel="DataCollectionFormCancel"}(t.SkypeNumberPurchaseFlowTelemetryButtons||(t.SkypeNumberPurchaseFlowTelemetryButtons={}))},126587:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextHighlightClickedEvent=t.FeedbackClickedEvent=t.SuggestionsClickedEvent=t.SuggestionsDisplayedEvent=void 0;const n=i(636076),o=i(496486),s=i(260021),a=i(671830),r=i(500349),l=i(735370);class c extends r.TelemetryEventBase{constructor(e,t,i,n){super(),this._source=e,this._sourceName=t,this._inContext=i,this._message=n}getEventName(){return"caap_suggestions"}getCommonSuggestionsEventAttributes(e){const t=Object.assign({},e);return this._message&&(t.LatestServerMessageId=this._message.getLatestServerMessageId()),this._source&&a.isAgent(this._source)&&(t.Source=this._source,this._sourceName&&(t.SourceName=this._sourceName)),t}getAttributes(){const e=this.getCommonSuggestionsEventAttributes(super.getAttributes());return e.Action=this.getActionName(),e.IsInContext=!!this._inContext,this._message&&(e.MessageCorrelationId=s.getCorrelationIdFromMessageParts(this._message.creator,this._message.conversationId,l.getClientMessageId(this._message))),e}getPiiAttributes(){return this.getCommonPiiAttributes(super.getPiiAttributes())}getCommonPiiAttributes(e){const t=Object.assign({},e);return this._source&&!a.isAgent(this._source)&&(t.Source={value:this._source,piiKind:n.AWTPiiKind.Identity},this._sourceName&&(t.SourceName={value:this._sourceName,piiKind:n.AWTPiiKind.Identity})),t}}t.SuggestionsDisplayedEvent=class extends c{constructor(e,t,i,n,o,s,a,r,l){super(e,t,i,n),this._providerIds=o,this._suggestionsTypes=s,this._suggestionsCategories=a,this._integrationsCorrelationIds=r,this._suggestionsIds=l}getActionName(){return"SuggestionsDisplayed"}getAttributes(){const e=super.getAttributes();return e.Providers=o.join(this._providerIds),e.SuggestionsTypes=o.join(this._suggestionsTypes),e.SuggestionsCategories=o.join(this._suggestionsCategories),e.IntegrationsCorrelationIds=o.join(this._integrationsCorrelationIds),e.SuggestionsIds=o.join(this._suggestionsIds),e}};t.SuggestionsClickedEvent=class extends c{constructor(e,t,i,n,o,s,a,r,l,c){super(e,t,i,n),this._providerId=o,this._suggestionType=s,this._suggestionCategory=a,this._integrationCorrelationId=r,this._suggestionPosition=l,this._imBackPosition=c}getActionName(){return"SuggestionsClicked"}getCommonSuggestionsClickedAttributes(e){const t=Object.assign({},e);return t.SuggestionPosition=this._suggestionPosition,this._providerId&&(t.Provider=this._providerId),this._suggestionType&&(t.SuggestionType=this._suggestionType),this._suggestionCategory&&(t.SuggestionCategory=this._suggestionCategory),this._integrationCorrelationId&&(t.IntegrationCorrelationId=this._integrationCorrelationId),o.isUndefined(this._imBackPosition)||(t.ImBackPosition=this._imBackPosition),t}getAttributes(){return this.getCommonSuggestionsClickedAttributes(super.getAttributes())}};t.FeedbackClickedEvent=class extends c{constructor(e,t,i,n,o,s,a){super(e,t,i,n),this._providerIds=o,this._suggestionsTypes=s,this._suggestionsCategories=a}getActionName(){return"FeedbackClicked"}getAttributes(){const e=super.getAttributes();return e.Providers=o.join(this._providerIds),e.SuggestionsTypes=o.join(this._suggestionsTypes),e.SuggestionsCategories=o.join(this._suggestionsCategories),e}};t.TextHighlightClickedEvent=class extends c{constructor(e,t,i,n){super(void 0,void 0,!1,e),this._providerId=t,this._suggestionType=i,this._suggestionCategory=n}getActionName(){return"TextHighlightClicked"}getCommonTextHighlightClickedAttributes(e){const t=Object.assign({},e);return this._providerId&&(t.Provider=this._providerId),this._suggestionType&&(t.SuggestionType=this._suggestionType),this._suggestionCategory&&(t.SuggestionCategory=this._suggestionCategory),t}getAttributes(){return this.getCommonTextHighlightClickedAttributes(super.getAttributes())}}},888398:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(794050),o="Fetched",s=[o,"BundleProcessed"];class a extends n.default{constructor(){super(...arguments),this._syncScenarioFetchCount=0}_markStep(e,...t){const i=s.some((t=>t===e));e===o&&this._syncScenarioFetchCount++,super._markStep(i?`${e} - ${this._syncScenarioFetchCount}`:e,...t)}}t.default=a},760213:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SystemTrayEvent=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"systray_icon"}getAttributes(){const e=super.getAttributes();return e.Action=this._action,e}}t.SystemTrayEvent=o},327795:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LogUploadEvent=t.DevAlert=t.DevDebug=t.UnsafeDomain=t.InviteUser=t.StartupComplete=void 0;const n=i(496486),o=i(500349);class s extends o.TelemetryEventBase{constructor(e){super(),this._startupTime=e}getEventName(){return"startupComplete"}getAttributes(){const e=super.getAttributes();return e.StartupTime=this._startupTime,e}}t.StartupComplete=s;class a extends o.TelemetryEventBase{constructor(e,t=!0,i=!1){super(),this._userCount=e,this._success=t,this._cancelled=i}getEventName(){return"inviteUser"}getAttributes(){const e=super.getAttributes();return e.Cancelled=this._cancelled,e.Status=this._success?"Success":"Failure",e.Count=this._userCount,e}}t.InviteUser=a;class r extends o.TelemetryEventBase{constructor(e,t){super(),this._domain=e,this._origin=t}getEventName(){return"unsafe_domain"}getAttributes(){return n.assign(super.getAttributes(),{Origin:this._origin,Domain:this._domain})}}t.UnsafeDomain=r;class l extends o.TelemetryEventBase{constructor(e,t){super(),this._trackingName=e,this._data=t}getEventName(){return"dev_debug"}getAttributes(){const e=super.getAttributes();return e.Name=this._trackingName,e.Data=this._data,e}shouldSend(){return!1}}t.DevDebug=l;class c extends o.TelemetryEventBase{constructor(e){super(),this._trackingName=e}getEventName(){return"dev_alert"}getAttributes(){const e=super.getAttributes();return e.Name=this._trackingName,e}}t.DevAlert=c;class d extends o.TelemetryEventBase{constructor(e,t){super(),this._tenant=e,this._data=t}getEventName(){return"rt_log"}getAriaTenantTokenOverride(){return this._tenant}getAttributes(){return n.assign(super.getAttributes(),this._data)}}t.LogUploadEvent=d},735370:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageTypeGroup=t.getConversationTypeForTelemetry=t.getTrackableConversationId=t.getCommonAttributesMessageSent=t.shouldTrackMessage=t.getMessageTypeName=t.getMessageRawTypeName=t.getClientMessageId=void 0;const n=i(351077),o=i(671830),s=i(539549),a=i(231147),r=i(986374),l=i(312762),c=i(18078),d=i(478262),u=i(741660),g="voicemail.wav";function h(e,t,i){let o=e.messagetype;const s=n.getMessageTypeGroup(e);if(s===n.MessageTypeGroups.Audio){if(o="Audio",!n.isDeletedMessage(e)){const n=S(e,t,i);n.type===d.UploadFileType.AudioMessage&&(o="AudioMessage",n.decoded.getNameForUI().toLowerCase()===g&&(o="VoiceMail"))}}else if(s===n.MessageTypeGroups.Video){if(!n.isDeletedMessage(e)){S(e,t,i).type===d.UploadFileType.VideoMessage&&(o="VideoMessage")}}else o===n.MessageTypes.UriObject?o=n.MessageTypeGroups[n.getUriObjectMessageTypeGroup(e)]:o===n.MessageTypes.Mms&&(o=n.MessageTypeGroups[n.getMessageTypeGroup(e)]);return o}function p(e,t,i){let o="";const s=n.getMessageTypeGroup(e);switch(s){case n.MessageTypeGroups.Text:o="Text";break;case n.MessageTypeGroups.SMS:o="SMS";break;case n.MessageTypeGroups.Audio:if(o="Audio",!n.isDeletedMessage(e)){const n=S(e,t,i);n.type===d.UploadFileType.AudioMessage&&(o="AudioMessage",n.decoded.getNameForUI().toLowerCase()===g&&(o="VoiceMail"))}break;case n.MessageTypeGroups.Picture:o="Photo";break;case n.MessageTypeGroups.UriFile:o="File";break;case n.MessageTypeGroups.Video:if(o="Video",!n.isDeletedMessage(e)){S(e,t,i).type===d.UploadFileType.VideoMessage&&(o="VideoMessage")}break;case n.MessageTypeGroups.Moji:o="Moji";break;case n.MessageTypeGroups.Sticker:o="Sticker";break;case n.MessageTypeGroups.ScheduledCallInvite:o="ScheduledCallInvite";break;case n.MessageTypeGroups.Calling:o=n.MessageTypeGroups[s];break;case n.MessageTypeGroups.SwiftCard:o="Swift Message";break;case n.MessageTypeGroups.Location:o="Location";break;case n.MessageTypeGroups.Poll:o="Poll";break;case n.MessageTypeGroups.Engagement:o="Engagement";break;case n.MessageTypeGroups.MediaAlbum:o="MediaAlbum";break;case n.MessageTypeGroups.Translation:o="Translation";break;default:console.warn("Unhandled message type for MessageSentEvent:"+e.messagetype+", making a guess"),o=n.MessageTypeGroups[s]}return o}function S(e,t,i){const n=r.decode(e,t,i).getFirstUriObjectChild(l.UriObjectFileNode);return n?{type:n.getFileType(),decoded:n}:{type:void 0}}t.getClientMessageId=function(e){return e.getLatestRelevantClientMessageId()},t.getMessageRawTypeName=h,t.getMessageTypeName=p,t.shouldTrackMessage=function(e,t){return!(!t||!t.percentage)&&Number(e)/0x10000000000000000<t.percentage/100},t.getCommonAttributesMessageSent=function(e,t,i,n,s,a){return e.Group_Conversation=o.isGroupConversation(t),e.IsEncryptedConversation=o.isEncryptedThread(t),e.Send_Timestamp=i,e.Message_Type=p(n,c.default.getSkypeMri(),t),e.Message_RawType=h(n,c.default.getSkypeMri(),t),e.Conversation_Members_Number=s,e.Entry_Point="Chat View",e.Character_Count=a,e.Bot_Conversation=o.isOneOnOneConversation(t)&&o.isAgent(t),e},t.getTrackableConversationId=function(e){if(!e)return;const t=(0,s.default)().getConversation(e);return null==t?void 0:t.getTrackableConversationId()},t.getConversationTypeForTelemetry=function(e){const t=(0,s.default)().getConversationNoSubscription(e);return t&&(0,u.isContentChannel)(t)?a.ConversationType.NewsChannel:(0,u.isTodayBot)(e)?a.ConversationType.NewsBot:o.isEncryptedThread(e)?a.ConversationType.Encrypted:o.isConversationWithPhoneNumber(e)?a.ConversationType.PSTN:o.isAgent(e)?a.ConversationType.Bot:o.isOneOnOneConversation(e)?a.ConversationType.OneOnOneSkype:o.isGroupConversation(e)?a.ConversationType.Group:a.ConversationType.Other},t.getMessageTypeGroup=function(e){return n.getMessageTypeGroup(e)}},359910:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(636076),o=i(496486),s=i(974634),a=i(500349),r=i(912770);t.default=new class{constructor(){this._data={},this._sortedData=[],this._running=!0,this._pendingQueue=[],this.statisticsUpdated=new s.default,this._running=!1}getSortedEventsStatistics(){return this._sortedData}_scheduleDelayedUpdateIfNeeded(){this._updateTimerId||0===this._pendingQueue.length||(this._updateTimerId=r.default.setTimeout((()=>{this._updateTimerId=void 0,this._handleEvents(this._pendingQueue),this._pendingQueue=[]}),2e3))}_handleEvents(e){const t=n.AWTSerializer.getPayloadBlob({token:[]},1);o.each(e,(e=>{const i=this._convertEventWithMetadataToInternal(e),o=this._normalizedEventName(i);let s=this._data[o];s||(s={numberOfBytes:0,numberOfEvents:0,sampling:""},this._data[o]=s);const a=n.AWTSerializer.getPayloadBlob({token:[i]},1);s.numberOfEvents++,s.numberOfBytes+=a.payloadBlob.length-t.payloadBlob.length,s.sampling=this._samplingValue(i)})),this._sortedData=[],o.each(this._data,((e,t)=>{this._sortedData.push([t,e])})),this._sortedData.sort(((e,t)=>t[1].numberOfBytes-e[1].numberOfBytes)),this.statisticsUpdated.fire()}_convertEventWithMetadataToInternal(e){return Object.assign(Object.assign({},e),{serializedEvent:[0]})}_samplingValue(e){let t=a.SampledEvents[e.name],i=100;if("scenario"===e.name)i=a.SampledEvents["scenario_"+this._value(e,"ScenarioName")];else if("perf"===e.name)i=a.SampledPerfEvents[this._value(e,"Scenario")];else if(0===e.name.indexOf("kpi_")){const i=a.TelemetryConfig[e.name];if(i){const e="enabled"in i&&i.enabled,n="percentage"in i?i.percentage:void 0;t=o.isNumber(n)?n:e?100:0}else t=0}o.isNumber(t)||(t=100),o.isNumber(i)||(i=100);return Math.floor(t*i/100)+"%"}_normalizedEventName(e){return"scenario"===e.name?"Scenario – "+this._value(e,"ScenarioName"):"perf"===e.name?"Perf – "+this._value(e,"Scenario"):e.name}_value(e,t){const i=e.properties[t],n=i.value||i;return o.isString(n)?n:n.toString()}handleEvents(e){this._running&&(this._pendingQueue.push(...e),this._scheduleDelayedUpdateIfNeeded())}}},268101:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(500349);class s extends o.TelemetryEventBase{constructor(e,t,i,n,o){super(o),this._scenarioName=e,this._scenarioId=t,this._actionAttributes=i,this._shouldSendScenarioTelemetry=n}shouldSend(){return this._shouldSendScenarioTelemetry()}getEventName(){return"scenario"}getAttributes(){const e=super.getAttributes();return e.ScenarioName=this._scenarioName,e.ScenarioId=this._scenarioId,n.each(this._actionAttributes,((t,i)=>{e["ScenarioAction_"+i]=t})),e}}t.default=s},794050:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScenarioName=void 0;const n=i(496486),o=i(174958),s=i(436237),a=i(192210),r=i(415963);Object.defineProperty(t,"ScenarioName",{enumerable:!0,get:function(){return r.ScenarioName}});const l=i(500349),c=i(268101),d=i(853374),u=[r.ScenarioName[r.ScenarioName.Search],r.ScenarioName[r.ScenarioName.CreateMeetNow],r.ScenarioName[r.ScenarioName.JoinMeetNow]];class g extends a.default{constructor(e,t,i={},n=void 0,o=!1){super(e,t,i,n),this._shouldSendIntermediateStepsOnFinal=o}_shouldSendSampledTelemetry(){if(void 0!==this._shouldSendScenarioTelemetry)return this._shouldSendScenarioTelemetry;if(n.includes(u,this._scenarioName))return this._shouldSendScenarioTelemetry=!0,this._shouldSendScenarioTelemetry;if(n.isEmpty(l.SampledEvents))return!0;const e="scenario_"+this._scenarioName,t=l.SampledEvents[e];return n.isNumber(t)?(this._shouldSendScenarioTelemetry=d.default.sampleForPercentage(t),this._shouldSendScenarioTelemetry):(this._shouldSendScenarioTelemetry=!0,this._shouldSendScenarioTelemetry)}extendProperties(e){n.assign(this._properties,e)}_markStep(e,t,i,a,r,l,d){super._markStep(e,t,i,a,r,l,d);const u=["started","finished","failed"];if(this._shouldSendSampledTelemetry()&&!a){n.some(u,(t=>e===t))||(e=this._scenarioName+"_"+e);const t={step_duration:n.last(this._markedSteps).stepDuration,step_name:e};if(n.assign(t,this._properties),l){this._shouldSendIntermediateStepsOnFinal&&n.each(this._markedSteps,(e=>{t[e.name+"_step_duration"]=e.stepDuration,t[e.name+"_total_duration"]=e.totalDuration}));const e=n.find(this._markedSteps,(e=>e.isTarget));e&&(t.target_duration_ms=e.totalDuration),t.total_duration=this._totalDuration,t.is_final=!0}s.track(new c.default(this._scenarioName,o.pii.Omit(this._scenarioId)||"",t,(()=>this._shouldSendSampledTelemetry()),this._experimentConfigIds||""))}}}t.default=g},790970:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(109520),o=i(746096),s=i(436237),a=i(853374);t.default=new class{createSession(e,t,i){if(this._session){const t=a.default.newCauseId();s.log(o.LogTraceArea.Calling,"Before creating new session,End old callRosterSession  and  for callId: "+e+" causeId: "+t),this.completeSession()}return this._session=new n.CallRosterSession(e,t,i),this._session}completeSession(){this._session&&(s.track(this._session),this._session=void 0)}cancelSession(){this._session&&(this._session.setIsCanceled(!0),this.completeSession())}getActiveSession(){return this._session}updateCallRosterTelemetry(e,t,i){const n=this.getActiveSession();n?n&&i(n):s.warn(o.LogTraceArea.Calling,"There is no Active callRosterSession for callId: "+e+" causeId: "+t)}}},451096:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TodayTabToggleSetting=t.TodayActionTelemetry=t.TodayArticleReaderSizeOverride=t.TodayArticleReaderTelemetry=t.TodayFeedRefreshActionTelemetry=t.TodayInterestPageAvailabilityChangeTelemetry=t.TodayMarketChangeTelemetry=t.TodayShareTelemetry=t.TodayWebViewTelemetry=t.TodayBridgeTelemetry=void 0;const n=i(647738),o=i(500349);class s extends o.TelemetryEventBase{getEventName(){return"s4l_today"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}t.TodayBridgeTelemetry=class extends s{constructor(e,t,i){super(),this._origin=e,this._channelScenario=t,this._errorType=i}getActionName(){return"TodayBridgeTelemetry"}getAttributes(){const e=super.getAttributes();return e.origin=this._origin,e.channelScenario=this._channelScenario?this._channelScenario:"NoScenarioDefined",void 0!==this._errorType&&(e.errorType=n.TodayTabErrorType[this._errorType]),e}};t.TodayWebViewTelemetry=class extends s{constructor(e,t,i={}){super(),this._origin=t,this._props=i,this._props.stage=n.TodayWebViewStageTelemetry[e]}getActionName(){return"TodayWebView"}getAttributes(){const e=super.getAttributes();return e.origin=this._origin,Object.assign(e,this._props)}};t.TodayShareTelemetry=class extends s{constructor(e,t){super(),this._shareAction=e,this._origin=t}getActionName(){return"TodayShareTelemetry"}getAttributes(){const e=super.getAttributes();return e.shareAction=n.TodayShareActionTelemetry[this._shareAction],e.origin=n.ArticleReaderOrigin[this._origin],e}};t.TodayMarketChangeTelemetry=class extends s{constructor(e){super(),this._currentMarket=e}getActionName(){return"TodayMarketChangeTelemetry"}getAttributes(){const e=super.getAttributes();return e.selectedMarket=this._currentMarket,e}};t.TodayInterestPageAvailabilityChangeTelemetry=class extends s{constructor(e){super(),this._isEnabled=e}getActionName(){return"TodayInterestPageAvailabilityChange"}getAttributes(){const e=super.getAttributes();return e.IsEnabled=this._isEnabled,e}};t.TodayFeedRefreshActionTelemetry=class extends s{getActionName(){return"TodayFeedRefreshAction"}};t.TodayArticleReaderTelemetry=class extends s{constructor(e,t){super(),this._action=e,this._origin=t}getActionName(){return"TodayArticleReaderTelemetry"}getAttributes(){const e=super.getAttributes();return e.action=n.TodayArticleReaderActionTelemetry[this._action],e.origin=n.TodayShareActionTelemetry[this._origin],e}};t.TodayArticleReaderSizeOverride=class extends s{constructor(e){super(),this._overrideType=e}getActionName(){return"TodayArticleReaderSizeOverride"}getAttributes(){const e=super.getAttributes();return e.overrideType=n.TodayArticleReaderOverrideType[this._overrideType],e}};t.TodayActionTelemetry=class extends s{constructor(e,t){super(),this._menuAction=e,this._origin=t}getActionName(){return"TodayActionMenu"}getAttributes(){const e=super.getAttributes();return e.menuAction=n.TodayActionMenuTelemetry[this._menuAction],this._origin&&(e.origin=n.ArticleReaderOrigin[this._origin]),e}};t.TodayTabToggleSetting=class extends s{constructor(e){super(),this._didEnable=e}getActionName(){return"ToggleTodayTab"}getAttributes(){const e=super.getAttributes();return e.DidEnable=this._didEnable,e}}},809602:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToneRewriteInstructionsRequestError=t.ToneRewriteInstructionsRequest=t.ToneRewriteLoadingDrop=t.ToneRewriteTonesMismatch=t.ToneRewriteMessageCopy=t.ToneRewriteMessageUpdate=t.ToneRewriteToneChange=t.ToneRewriteSuggestionPress=void 0;const n=i(500349);class o extends n.TelemetryEventBase{getEventName(){return"intelligence_tonerewrite"}getAttributes(){const e=super.getAttributes();return e.Action=this.getActionName(),e}}class s extends o{constructor(e){super(),this._tone=e}getAttributes(){const e=super.getAttributes();return e.Tone=this._tone,e}}t.ToneRewriteSuggestionPress=class extends s{getActionName(){return"SuggestionPress"}};t.ToneRewriteToneChange=class extends s{getActionName(){return"ToneChange"}};t.ToneRewriteMessageUpdate=class extends s{getActionName(){return"MessageUpdate"}};t.ToneRewriteMessageCopy=class extends s{getActionName(){return"MessageCopy"}};t.ToneRewriteTonesMismatch=class extends o{getActionName(){return"TonesMismatch"}};t.ToneRewriteLoadingDrop=class extends o{getActionName(){return"LoadingDrop"}};t.ToneRewriteInstructionsRequest=class extends o{constructor(e){super(),this._timeSpent=e}getActionName(){return"InstructionsRequest"}getAttributes(){const e=super.getAttributes();return e.TimeSpent=this._timeSpent,e}};t.ToneRewriteInstructionsRequestError=class extends o{constructor(e,t){super(),this._timeSpent=e,this._errorCode=t}getActionName(){return"InstructionsRequestError"}getAttributes(){const e=super.getAttributes();return e.TimeSpent=this._timeSpent,e.ErrorCode=this._errorCode,e}}},681072:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TrouterEvent=t.GenericPluginlessStackEvent=t.GenericCallingEvent=void 0;const n=i(496486),o=i(640363),s=i(500349);class a extends s.TelemetryEventBase{constructor(e,t){super(),this._eventName=e,this._props=t}getAriaTenantTokenOverride(){return o.default.getAriaCallingTenantToken()}getEventName(){return this._eventName}getAttributes(){return n.assign(super.getAttributes(),this._props)}}t.GenericCallingEvent=a;class r extends s.TelemetryEventBase{constructor(e,t,i){super(),this._tenant=e,this._eventName=t;const n=r._splitTelemetryValues(i);this._piiProps=n.pii,this._nonPiiProps=n.nonPii}getAriaTenantTokenOverride(){return this._tenant}getEventName(){return this._eventName}getAttributes(){return this._nonPiiProps.uiVersion=o.default.getUIVersionWithPartnerID(),n.assign(super.getAttributes(),this._nonPiiProps)}getPiiAttributes(){return n.assign(super.getPiiAttributes(),this._piiProps)}static _splitTelemetryValues(e){const t={},i={};return n.each(e,((e,o)=>{n.isObject(e)&&n.isNumber(e.piiKind)?t[o]=e:i[o]=e})),{pii:t,nonPii:i}}}t.GenericPluginlessStackEvent=r;class l extends s.TelemetryEventBase{constructor(e){super(),this._event=e}getAriaTenantTokenOverride(){return o.default.getAriaPluginlessTrouterTenantToken()}getEventName(){return this._event.name}getAttributes(){return n.assign(super.getAttributes(),this._getProperties())}_getProperties(){const e={};return n.each(this._event.properties,((t,i)=>{const o=t.value;n.isUndefined(o)||(e[i]=o)})),e}}t.TrouterEvent=l},865322:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UrlPreviewImageFailureTelemetry=t.UrlPreviewClickTelemetry=t.UrlPreviewFailed=t.UrlPreviewReceived=t.UrlPreviewActionType=void 0;const n=i(636076),o=i(260021),s=i(671830),a=i(500349),r=i(735370),l=i(626712);var c;!function(e){e[e.ResponseReceived=0]="ResponseReceived",e[e.RequestFailure=1]="RequestFailure",e[e.UserClick=2]="UserClick",e[e.ImageFailure=3]="ImageFailure",e[e.LoadThumbnailFailure=4]="LoadThumbnailFailure",e[e.LoadFaviconFailure=5]="LoadFaviconFailure"}(c=t.UrlPreviewActionType||(t.UrlPreviewActionType={}));class d extends a.TelemetryEventBase{constructor(e,t){super(),this._url=e,this._action=t}getEventName(){return"url_preview"}getEventTraceMode(){return a.TelemetryTraceMode.EventName}getAttributes(){const e=super.getAttributes();return e.Action=c[this._action],e}getPiiAttributes(){const e=super.getPiiAttributes();return e.UrlDomain={value:l.default.getDomainName(this._url),piiKind:n.AWTPiiKind.Uri},e}}t.UrlPreviewReceived=class extends d{constructor(e,t,i,n){super(e,c.ResponseReceived),this._preview=t,this._numberRetries=i,this._duration=n}getAttributes(){const e=super.getAttributes();return e.RetriesCount=this._numberRetries,e.StatusCode=this._preview.status_code,e.ContentType=this._preview.content_type||"",e.Category=this._preview.category,e.HasTitle=!!this._preview.title,e.HasDescription=!!this._preview.description,e.Favicon=!!this._preview.favicon,e.FaviconWidth=this._preview.favicon_meta?this._preview.favicon_meta.width:-1,e.FaviconHeight=this._preview.favicon_meta?this._preview.favicon_meta.height:-1,e.Thumbnail=!!this._preview.thumbnail,e.ThumbnailWidth=this._preview.thumbnail_meta?this._preview.thumbnail_meta.width:-1,e.ThumbnailHeight=this._preview.thumbnail_meta?this._preview.thumbnail_meta.height:-1,e.RestrictionsAge=this._preview.restrictions?this._preview.restrictions.age:-1,this._duration&&(e.Duration=this._duration),this._preview.restrictions&&this._preview.restrictions.country&&(e.RestrictionsCountry=this._preview.restrictions.country),e}};t.UrlPreviewFailed=class extends d{constructor(e,t,i){super(e,c.RequestFailure),this._numberRetries=t,this._reason=i}getAttributes(){const e=super.getAttributes();return e.RetriesCount=this._numberRetries,e.FailureReason=this._reason,e}};t.UrlPreviewClickTelemetry=class extends d{constructor(e,t){super(e,c.UserClick),this._message=t}getCorrelationAttributes(){const e=super.getAttributes(),t=r.getClientMessageId(this._message);return e.MessageCorrelationId=o.getCorrelationIdFromMessageParts(this._message.creator,this._message.conversationId,t),e.ClientMessageId=t||"",e}getAttributes(){const e=s.isOneOnOneConversation(this._message.conversationId),t=super.getAttributes();t.ClickedTimestamp=this._eventCreationTime,t.IsGroupConversation=!e,t.ServerMessageId=this._message.getOriginalServerId()||"",t.urlp_operation="url_click";const i=r.getTrackableConversationId(this._message.conversationId);return i&&(t.ConversationId=i),t}};t.UrlPreviewImageFailureTelemetry=class extends d{constructor(e,t,i){super(e,i),this._error=t}getAttributes(){const e=super.getAttributes();return e.ImageError=this._error,e}}},863066:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserActionsTelemetryEvent=t.Scenarios=t.Actions=void 0;const n=i(496486),o=i(500349);var s,a;!function(e){e[e.CallVideo=0]="CallVideo",e[e.CallAudio=1]="CallAudio",e[e.AddContact=2]="AddContact",e[e.InterruptScenario=3]="InterruptScenario",e[e.ViewProfile=4]="ViewProfile",e[e.OnKeyPressToStartMessage=5]="OnKeyPressToStartMessage",e[e.MessageAction=6]="MessageAction",e[e.AddContactFromDiscoverPanel=7]="AddContactFromDiscoverPanel",e[e.SendMessage=8]="SendMessage"}(s=t.Actions||(t.Actions={})),function(e){e[e.SearchToConversation=0]="SearchToConversation",e[e.RecommendationFromRecentsToConversation=1]="RecommendationFromRecentsToConversation",e[e.RecommendationFromContactsToConversation=2]="RecommendationFromContactsToConversation",e[e.Unknown=3]="Unknown"}(a=t.Scenarios||(t.Scenarios={}));class r extends o.TelemetryEventBase{constructor(e){super(),this._userAction=e}getEventName(){return"people_user_actions"}getAttributes(){const e=super.getAttributes();return n.isUndefined(this._userAction.name)||(e.Action=s[this._userAction.name]),n.isUndefined(this._userAction.duration)||(e.Duration=this._userAction.duration),n.isUndefined(this._userAction.scenario)||(e.Scenario=a[this._userAction.scenario]),n.isUndefined(this._userAction.firstSuccessfulSearch)||(e.IsFirstSuccessfulSearch=this._userAction.firstSuccessfulSearch),n.each(this._userAction.additionalAttributes,((t,i)=>{e[i]=t})),e}}t.UserActionsTelemetryEvent=r},354298:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnansweredCallCTA=t.ExperimentButtonClickAction=t.ExperimentBannerCloseAction=t.ExperimentOpenAction=t.NavigateToDestination=void 0;const n=i(881722),o=i(640363),s=i(500349);var a;!function(e){e[e.BalanceStatePanel=0]="BalanceStatePanel",e[e.DialerPanel=1]="DialerPanel",e[e.GroupCall=2]="GroupCall"}(a=t.NavigateToDestination||(t.NavigateToDestination={}));class r extends s.TelemetryEventBase{constructor(e,t,i){super(),this._settings=e,this._userEntitlementsSummary=t,this._isFreeTrialAvailable=i}getEventName(){return"s4l_entitlement_experiments"}getAriaTenantTokenOverride(){return o.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.ExperimentName=this._settings.name,e.ExperimentLocation=n.ExperimentLocation[this._settings.location],this._settings.layoutOption&&(e.LayoutOption=this._settings.layoutOption),this._userEntitlementsSummary&&(e.UserEntitlementsSummary=this._userEntitlementsSummary),this._isFreeTrialAvailable&&(e.IsFreeTrialAvailable=this._isFreeTrialAvailable),e.Action=this.getActionName(),e}}t.ExperimentOpenAction=class extends r{getActionName(){return"ExperimentOpen"}};t.ExperimentBannerCloseAction=class extends r{getActionName(){return"BannerClose"}};t.ExperimentButtonClickAction=class extends r{constructor(e,t,i,n){super(t,i,n),this._navigateTo=e}getActionName(){return"ButtonClick"}getAttributes(){const e=super.getAttributes();return e.NavigateTo=a[this._navigateTo],e}};class l extends s.TelemetryEventBase{constructor(e){super(),this._action=e}getEventName(){return"s4l_entitlement_ucux_cta"}getAriaTenantTokenOverride(){return o.default.getAriaCommerceTenantToken()}getAttributes(){const e=super.getAttributes();return e.Action=this._action,e}}t.UnansweredCallCTA=l},425446:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserPresenceIgnoredEvent=t.UserPresenceFailedToSaveToDbEvent=t.UserPresenceChangedEvent=t.UserPresenceChangeOrigin=void 0;const n=i(671830),o=i(500349);var s;!function(e){e[e.ElectronMenuBar=0]="ElectronMenuBar",e[e.InitialFetch=1]="InitialFetch",e[e.Avatar=2]="Avatar",e[e.MeControl=3]="MeControl",e[e.ProfileButton=4]="ProfileButton",e[e.PollingUpdate=5]="PollingUpdate",e[e.PushNotification=6]="PushNotification",e[e.TrouterUpdate=7]="TrouterUpdate",e[e.Unknown=8]="Unknown",e[e.Settings=9]="Settings"}(s=t.UserPresenceChangeOrigin||(t.UserPresenceChangeOrigin={}));class a extends o.TelemetryEventBase{constructor(e,t,i,n,o,s,a,r,l){super(),this._origin=e,this._oldPresence=t,this._newPresence=i,this._receivedPresence=n,this._success=o,this._storeOnly=s,this._errorCode=a,this._errorMessage=r,this._retries=l}getEventName(){return"people_presence"}getAttributes(){const e=super.getAttributes();return e.Origin=s[this._origin],e.FromPresence=(0,n.encodeStatus)(this._oldPresence)||"Unknown",e.ToPresence=(0,n.encodeStatus)(this._newPresence)||"Unknown",e.ReceivedPresence=(0,n.encodeStatus)(this._receivedPresence)||"Unknown",e.IsSuccess=this._success,e.IsStoreOnly=this._storeOnly,e.RetriesCount=this._retries||0,void 0!==this._errorCode&&(e.ErrorCode=this._errorCode),void 0!==this._errorMessage&&(e.ErrorMessage=this._errorMessage),e}}t.UserPresenceChangedEvent=a;class r extends o.TelemetryEventBase{constructor(e,t,i){super(),this._origin=e,this._oldPresence=t,this._newPresence=i}getEventName(){return"people_presence_error"}getAttributes(){const e=super.getAttributes();return e.Action=this.getAction(),e.Origin=s[this._origin],e.FromPresence=(0,n.encodeStatus)(this._oldPresence)||"Unknown",e.ToPresence=(0,n.encodeStatus)(this._newPresence)||"Unknown",e}}t.UserPresenceFailedToSaveToDbEvent=class extends r{constructor(e,t,i){super(e,t,i)}getAction(){return"SaveToDB"}};class l extends o.TelemetryEventBase{constructor(e,t,i){super(),this._origin=e,this._currentStatus=t,this._statusToUpdate=i}getEventName(){return"people_presence_ignore"}getAttributes(){const e=super.getAttributes();return e.Origin=s[this._origin],e.CurrentStatus=(0,n.encodeStatus)(this._currentStatus)||"Unknown",e.ToPresence=(0,n.encodeStatus)(this._statusToUpdate)||"Unknown",e}}t.UserPresenceIgnoredEvent=l},737039:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserStatusTelemetry=void 0;const n=i(496486),o=i(823113),s=i(500349);class a extends s.TelemetryEventBase{constructor(e,t,i,n,o,s,a,r){super(),this._isAvatarSet=e,this._AvatarPolicy=t,this._setupWizardCompletionTimestamp=i,this._isNewUser=n,this._notificationsPermission=o,this._cameraPermission=s,this._microphonePermission=a,this._contactsPermission=r}getEventName(){return"onboarding_user_status"}getAttributes(){const e=super.getAttributes();return e.AvatarPolicy=n.upperFirst(n.camelCase(this._AvatarPolicy)),e.AvatarState=this._isAvatarSet?"Set":"Unset",e.SetupWizardCompletionTimestamp=this._setupWizardCompletionTimestamp||"NotCompleted",e.UserIsNew=this._isNewUser,e.NotificationsPermission=o.PermissionStatus[this._notificationsPermission],e.CameraPermission=o.PermissionStatus[this._cameraPermission],e.MicrophonePermission=o.PermissionStatus[this._microphonePermission],e.ContactsPermission=o.PermissionStatus[this._contactsPermission],e}}t.UserStatusTelemetry=a},203230:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UploadEvent=t.RecordEvent=void 0;const n=i(496486),o=i(500349);class s extends o.TelemetryEventBase{constructor(e,t){super(),this._videoDuration=e,this._videoSize=t,this._success=!1,this._error=""}getEventName(){return"camera_vim"}getAttributes(){return n.assign(super.getAttributes(),{Action:this.getActionName(),IsSuccess:this._success,VideoDuration:this._videoDuration,VideoSize:this._videoSize,TransactionId:this._transactionId||"",Error:this._error})}setStatus(e,t,i=""){this._success=e,this._transactionId=t,this._error=i}}t.RecordEvent=class extends s{getActionName(){return"Record"}};t.UploadEvent=class extends s{getActionName(){return"Upload"}}},23222:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PresenceForMrisTelemetryEvents=t.MyPresenceTelemetryEvents=t.PresenceFailureTelemetryEvents=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(e){super(),this._attributes=e}getEventName(){return"people_presence_failure"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{ServiceType:this._attributes.serviceType,Scenario:this._attributes.scenario,StatusCode:this._attributes.statusCode,StatusText:this._attributes.statusText,DidTimeOut:this._attributes.didTimeOut,Url:this._attributes.url,Method:this._attributes.method,CorrelationId:this._attributes.correlationId})}}t.PresenceFailureTelemetryEvents=o;class s extends n.TelemetryEventBase{constructor(e){super(),this._attributes=e}getEventName(){return"my_presence"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{UpsStatus:this._attributes.upsPresence,CsStatus:this._attributes.csPresence,CsCorrelationId:this._attributes.csCorrelationId,UpsCorrelationId:this._attributes.upsCorrelationId,Scenario:this._attributes.scenario})}}t.MyPresenceTelemetryEvents=s;class a extends n.TelemetryEventBase{constructor(e){super(),this._attributes=e}getEventName(){return"presence_for_mris"}getAttributes(){return Object.assign(Object.assign({},super.getAttributes()),{SameCount:this._attributes.sameCount,TotalCount:this._attributes.totalCount,CsCorrelationId:this._attributes.csCorrelationId,UpsCorrelationId:this._attributes.upsCorrelationId})}}t.PresenceForMrisTelemetryEvents=a},359753:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useLocalization=void 0;const n=i(258187);t.useLocalization=()=>{const{isRTL:e,language:t}=(0,n.useCommonContext)();return{isRTL:e,language:t}}},651587:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.openAppStore=void 0;i(872090),i(516778);const n=i(889391);t.openAppStore=function(){n.default.getConfigSettings()}},47447:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UICapabilities=t.CallingCapabilities=void 0;const n=i(496486),o=i(809206),s=i(889391),a=i(746096),r=i(436237),l=i(290298),c=i(404057),d=i(640363);var u,g;!function(e){e[e.JSONAnimation=0]="JSONAnimation",e[e.Camera=1]="Camera",e[e.SystemSettingsDeepLink=2]="SystemSettingsDeepLink",e[e.DragAndDrop=3]="DragAndDrop",e[e.DesktopFilePicker=4]="DesktopFilePicker",e[e.AVSettings=5]="AVSettings",e[e.NativeAnimations=6]="NativeAnimations",e[e.SpriteAnimations=7]="SpriteAnimations",e[e.NumberOfLines=8]="NumberOfLines",e[e.ContactsSync=9]="ContactsSync",e[e.InlineTextFormatting=10]="InlineTextFormatting",e[e.CursorTypes=11]="CursorTypes",e[e.RTL=12]="RTL",e[e.CopyTextToClipboard=13]="CopyTextToClipboard",e[e.SystemTheme=14]="SystemTheme",e[e.KeyboardAwareView=15]="KeyboardAwareView",e[e.QuickActions=16]="QuickActions",e[e.AddScheduledCallToCalendar=17]="AddScheduledCallToCalendar",e[e.SystemHotKeys=18]="SystemHotKeys",e[e.RemoteAppearancePreferences=19]="RemoteAppearancePreferences",e[e.EngagementProcessedMessageOnWebTimestamp=20]="EngagementProcessedMessageOnWebTimestamp",e[e.TelemetryConsentOptOut=21]="TelemetryConsentOptOut"}(u||(u={})),function(e){e[e.OneToOne=0]="OneToOne",e[e.Group=1]="Group",e[e.MeetNow=2]="MeetNow",e[e.Encrypted=3]="Encrypted",e[e.AutoAnswer=4]="AutoAnswer",e[e.CallMonitor=5]="CallMonitor",e[e.ScreenSharing=6]="ScreenSharing",e[e.ScreenSharingWithSounds=7]="ScreenSharingWithSounds",e[e.ScreenSharingControl=8]="ScreenSharingControl",e[e.MicrophoneLevelMeter=9]="MicrophoneLevelMeter",e[e.MicrophoneVolumeControl=10]="MicrophoneVolumeControl",e[e.SpeakerVolumeControl=11]="SpeakerVolumeControl",e[e.PersistVolumeLevels=12]="PersistVolumeLevels",e[e.AvSettingsCameraPreview=13]="AvSettingsCameraPreview",e[e.NonNativeEmergencyCalls=14]="NonNativeEmergencyCalls",e[e.CallSnapshot=15]="CallSnapshot",e[e.AttachVideoWithId=16]="AttachVideoWithId",e[e.DefaultOutputDevice=17]="DefaultOutputDevice",e[e.SecondaryRinging=18]="SecondaryRinging",e[e.UnmuteDevice=19]="UnmuteDevice",e[e.Agc=20]="Agc",e[e.CallTechnicalInformation=21]="CallTechnicalInformation",e[e.BackgroundBlur=22]="BackgroundBlur",e[e.BackgroundReplacement=23]="BackgroundReplacement",e[e.NdiPlatform=24]="NdiPlatform",e[e.ApplicationSharing=25]="ApplicationSharing",e[e.MobileScreenSharing=26]="MobileScreenSharing",e[e.CallMerge=27]="CallMerge",e[e.ScreenSharingToolbar=28]="ScreenSharingToolbar",e[e.floatableResizableVideoPreviewSupported=29]="floatableResizableVideoPreviewSupported",e[e.IsPluginlessCallingStack=30]="IsPluginlessCallingStack"}(g||(g={}));class h{constructor(){this._capabilityMap={}}_isSupported(e,t){const i=e;return n.isUndefined(this._capabilityMap[i])&&(this._capabilityMap[i]=t()),this._capabilityMap[i]}}t.CallingCapabilities=new class extends h{constructor(){super(...arguments),this._callingSupportedByBrowser=!0}setCallingSupportedByBrowser(e){this._callingSupportedByBrowser=e}limitedSupportBrowser(){return s.default.getS4LUiFeaturesNoSubscription().limitedSupportBrowserToastConfig.enabled&&(o.BrowserEnvironment.isEngineGecko()||o.BrowserEnvironment.isEngineChromium()&&!this._callingSupportedByBrowser||o.BrowserEnvironment.isEngineWebkit()&&!this._callingSupportedByBrowser)}anyCallingSupported(){const e=this.oneToOneCallingSupported(),t=this.groupCallingSupported();return r.log(a.LogTraceArea.Calling,`CallingCapabilities.anyCallingSupported, oneToOneCallingSupported: ${e}, groupCallingSupported: ${t}`),e||t}oneToOneCallingSupported(){return this._isBrowserCallingSupported()}groupCallingSupported(){return this._isBrowserCallingSupported()}meetNowCallingSupported(){return this._isBrowserCallingSupported()}encryptedCallingSupported(){return this._isSupported(g.Encrypted,(()=>!1))}autoAnswerSupported(){return this._isSupported(g.AutoAnswer,(()=>!1))}callMonitorSupported(){return this._isSupported(g.CallMonitor,(()=>!1))}screenSharingSupported(){return this._isSupported(g.ScreenSharing,(()=>o.BrowserEnvironment.supportsScreenSharing()))}screenSharingControlSupported(){return this._isSupported(g.ScreenSharingControl,(()=>this.screenSharingSupported()&&!1))}screenSharingWithSoundSupported(){return this._isSupported(g.ScreenSharingWithSounds,(()=>d.default.isElectronWindows()))}mobileScreenSharingSupported(){return this._isSupported(g.MobileScreenSharing,(()=>!1))}microphoneLevelMeterSupported(){return this._isSupported(g.MicrophoneLevelMeter,(()=>d.default.isAnyWindowsOrOsx()))}microphoneVolumeControlSupported(){return this._isSupported(g.MicrophoneVolumeControl,(()=>d.default.isAnyWindowsOrOsx()))}speakerVolumeControlSupported(){return this._isSupported(g.SpeakerVolumeControl,(()=>d.default.isAnyWindowsOrOsx()))}persistVolumeLevelsSupported(){return this._isSupported(g.PersistVolumeLevels,(()=>d.default.isAnyWindowsOrOsx()))}avSettingsCameraPreviewSupported(){return this._isSupported(g.AvSettingsCameraPreview,(()=>!0))}nonNativeEmergencyCallsSupported(){return this._isSupported(g.NonNativeEmergencyCalls,(()=>!1))}callSnapshotSupported(){return this._isSupported(g.CallSnapshot,(()=>!1))}attachVideoWithIdSupported(){return this._isSupported(g.AttachVideoWithId,(()=>!1))}defaultOutputDeviceSupported(){return this._isSupported(g.DefaultOutputDevice,(()=>!1))}secondaryRingingSupported(){return this._isSupported(g.SecondaryRinging,(()=>!0))}unmuteDeviceSupported(){return this._isSupported(g.UnmuteDevice,(()=>!1))}agcSupported(){return this._isSupported(g.Agc,(()=>!1))}callTechnicalInformationSupported(){return this._isSupported(g.CallTechnicalInformation,(()=>!1))}backgroundBlurSupported(){return this._isSupported(g.BackgroundBlur,(()=>!0))}ndiPlatformSupported(){return this._isSupported(g.NdiPlatform,(()=>!1))}applicationSharingSupported(){return this._isSupported(g.ApplicationSharing,(()=>!0))}callMergeSupported(){return this._isSupported(g.CallMerge,(()=>!1))}screenSharingToolbarSupported(){return this._isSupported(g.ScreenSharingToolbar,(()=>!1))}floatableResizableVideoPreviewSupported(){return this._isSupported(g.floatableResizableVideoPreviewSupported,(()=>!0))}isPluginlessCallingStack(){return this._isSupported(g.IsPluginlessCallingStack,(()=>!0))}_isBrowserCallingSupported(){return this._callingSupportedByBrowser&&(o.BrowserEnvironment.isEngineEdgeHTML()||o.BrowserEnvironment.isEngineGecko()||o.BrowserEnvironment.isEngineWebkit()||o.BrowserEnvironment.isEngineChromium())}},t.UICapabilities=new class extends h{cameraSupported(){return this._isSupported(u.Camera,(()=>!1))}systemSettingsDeepLinkSupported(){return this._isSupported(u.SystemSettingsDeepLink,(()=>!1))}dragAndDropSupported(){return this._isSupported(u.DragAndDrop,(()=>!0))}desktopFilePickerSupported(){return this._isSupported(u.DesktopFilePicker,(()=>!0))}avSettingsSupported(){return this._isSupported(u.AVSettings,(()=>t.CallingCapabilities.anyCallingSupported()))}nativeAnimationsSupported(){return this._isSupported(u.NativeAnimations,(()=>!1))}textNumberOfLinesSupported(){return this._isSupported(u.NumberOfLines,(()=>!1))}contactsSyncSupported(){return this._isSupported(u.ContactsSync,(()=>!1))}inlineTextFormattingSupported(){return this._isSupported(u.InlineTextFormatting,(()=>!0))}cursorTypesSupported(){return this._isSupported(u.CursorTypes,(()=>!0))}copyTextToClipboardSupported(){return this._isSupported(u.CopyTextToClipboard,(()=>o.BrowserEnvironment.supportsCopy()))}systemThemeSupported(){return this._isSupported(u.SystemTheme,(()=>!0))}keyboardAwareViewSupported(){return this._isSupported(u.KeyboardAwareView,(()=>!1))}quickActionsSupported(){return this._isSupported(u.QuickActions,(()=>!1))}addScheduledCallToCalendarSupported(){return this._isSupported(u.AddScheduledCallToCalendar,(()=>!1))}systemHotKeysSupported(){return this._isSupported(u.SystemHotKeys,(()=>!1))}engagementProcessedMessageOnWebTimestampSupported(){return this._isSupported(u.EngagementProcessedMessageOnWebTimestamp,(()=>!0))}androidReadPhoneStatePermissionRequired(){return!1}inAppBrowserNotificationsSupported(){return o.BrowserEnvironment.isMobile()&&s.default.getS4LNativePlatformsEcsConfigNoSubscription().enableInAppNotificationsForMobileBrowsers}telemetryConsentOptOutSupported(){return this._isSupported(u.TelemetryConsentOptOut,(()=>{const e=d.default.getAppVersion(),t=l.SkypeVersionParser.parse(e);return 0===(null==t?void 0:t.version.cobrand)}))}alertNotificationEnabled(){return c.default.compareVersions(d.default.getOSVersion(),"14.7.0")>=0}}},10102:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateHsvColor=t.deserializeColorInfo=t.serializeColorInfo=t.genFromHsvs=t.isCustomColor=t.isMatchingColorInfo=t.subtleGradientColorsForColorInfo=t.gradientHoverColorsForColorInfo=t.reverseGradientColorsForColorInfo=t.gradientColorsForColorInfo=t.gradientColorsForColors=t.gradientColorsForSerializedColor=t.localizedColorNameForColorInfo=t.accentColor=t.backgroundColorStyleForColorInfo=t.getColorInfoForSerializedColor=t.getDefaultColorInfo=t.getDefaultUnknownColorInfo=t.delphiColorInfo=t.SerializedColorByNumber=void 0;const n=i(496486),o=i(516778),s=i(175080),a=i(861253),r=i(733754),l=i(581760),c=5381,d=/^#[0-9A-F]{6}$/i,u=.7,g=1,h=.2,p=1,S="delphi";var m;!function(e){e[e.Blue=1]="Blue",e[e.Fuschia=2]="Fuschia",e[e.Mint=3]="Mint",e[e.Orange=4]="Orange",e[e.Rose=5]="Rose",e[e.Yellow=6]="Yellow",e[e.Rainbow=7]="Rainbow"}(m=t.SerializedColorByNumber||(t.SerializedColorByNumber={}));const C={key:"rainbow",colors:[l.Color.pink,l.Color.orange,l.Color.blue]},y={[m.Blue]:{key:"blue",colors:[l.Color.blurpleDark,l.Color.blurpleLight],primaryAccent:l.Color.blurpleDark,secondaryAccent:l.Color.blurpleLight,hoverColors:[l.Color.blurpleDarkOverlay50,l.Color.blurpleDarkOverlay50]},[m.Fuschia]:{key:"fuschia",colors:[l.Color.purpleDark,l.Color.purpleLight],primaryAccent:l.Color.purpleDark,secondaryAccent:l.Color.purpleLight,hoverColors:[l.Color.purpleDarkOverlay50,l.Color.purpleDarkOverlay50]},[m.Mint]:{key:"mint",colors:[l.Color.blueDark,l.Color.blueLight],primaryAccent:l.Color.blueDark,secondaryAccent:l.Color.blueDark,hoverColors:[l.Color.blueDarkOverlay50,l.Color.blueDarkOverlay50]},[m.Orange]:{key:"orange",colors:[l.Color.pinkDark,l.Color.pinkLight],primaryAccent:l.Color.pinkDark,secondaryAccent:l.Color.pinkDark,hoverColors:[l.Color.pinkDarkOverlay50,l.Color.pinkDarkOverlay50]},[m.Rose]:{key:"rose",colors:[l.Color.pinkDark,l.Color.pinkLight],primaryAccent:l.Color.pinkDark,secondaryAccent:l.Color.pinkDark,hoverColors:[l.Color.pinkDarkOverlay50,l.Color.pinkDarkOverlay50]},[m.Yellow]:{key:"yellow",colors:[l.Color.orangeDark,l.Color.orangeLight],primaryAccent:l.Color.orangeDark,secondaryAccent:l.Color.orangeDark,hoverColors:[l.Color.orangeDarkOverlay50,l.Color.orangeDarkOverlay50]},[m.Rainbow]:C};t.delphiColorInfo={key:S,colors:[l.Color.blueDark,l.Color.blueLight],reverseGradientOrder:!0,primaryAccent:l.Color.blueDark,secondaryAccent:l.Color.blueDark,hoverColors:[l.Color.blueDarkOverlay50,l.Color.blueDarkOverlay50]};const f={blue:m.Blue,fuschia:m.Fuschia,mint:m.Mint,orange:m.Orange,rose:m.Rose,yellow:m.Yellow,rainbow:m.Rainbow},b={};function _(){return L()[m.Blue]}function v(e){return e>=1&&e<=7?L()[e]:_()}function T(e,t){if(t){if(e.secondaryAccent)return e.secondaryAccent}else if(e.primaryAccent)return e.primaryAccent;const i=e.colors;return t?i[i.length-1]:i[0]}function P(e){switch(e.length){case 0:return[l.Color.transparent,l.Color.transparent];case 1:return[e[0],e[0]];default:return e}}function k(e){const t=P(e.colors);return e.reverseGradientOrder?A(e):t}function A(e){return P([...e.colors].reverse())}t.getDefaultUnknownColorInfo=_,t.getDefaultColorInfo=function(e){return v(function(e){if(!e)return 0;let t=c;const i=e.length;for(let n=0;n<i;n++){t=33*t^e.charCodeAt(n)}return t>>>0}(e)%6+1)},t.getColorInfoForSerializedColor=v,t.backgroundColorStyleForColorInfo=function(e,t=!1){const i=T(e,t);let n=b[i];return n||(n=o.Styles.createViewStyle({backgroundColor:i},!1),b[i]=n),n},t.accentColor=T,t.localizedColorNameForColorInfo=function(e){switch(e.key){case"blue":return r.getString("Colors.Blue");case"fuschia":return r.getString("Colors.Fuschia");case"mint":return r.getString("Colors.Mint");case"orange":return r.getString("Colors.Orange");case"rose":return r.getString("Colors.Rose");case"yellow":return r.getString("Colors.Yellow");case"rainbow":return r.getString("Colors.Rainbow");case x:return r.getString("Colors.Custom")}return""},t.gradientColorsForSerializedColor=function(e){return k(v(e))},t.gradientColorsForColors=P,t.gradientColorsForColorInfo=k,t.reverseGradientColorsForColorInfo=A,t.gradientHoverColorsForColorInfo=function(e){return e.hoverColors},t.subtleGradientColorsForColorInfo=function(e){return k(e)},t.isMatchingColorInfo=function(e,t){return!!e&&f[e.key]===t},t.isCustomColor=function(e){return!!e&&!(e.key in f)&&e.key!==S};const I="_",w="reverse",x="cust";function N(e,t){return{key:x,hsvs:e,colors:P(n.map(e,(e=>s.rgbToColorString(s.hsvToRgb(e))))),reverseGradientOrder:t}}function M(e){return!!e&&(!!(void 0!==e.hue&&n.isNumber(e.hue)&&e.hue>=0&&e.hue<=1)&&(!!(void 0!==e.saturation&&n.isNumber(e.saturation)&&e.saturation>=u&&e.saturation<=g)&&!!(void 0!==e.value&&n.isNumber(e.value)&&e.value>=h&&e.value<=p)))}function L(){return y}t.genFromHsvs=N,t.serializeColorInfo=function(e){const t=n.findKey(L(),((t,i)=>(0,a.default)(t,e)));return t||(e.hsvs||(e.hsvs=n.map(e.colors,(e=>s.rgbToHsv(s.colorStringToRgb(e))))),"hsv_"+n.map(e.hsvs,(e=>e.hue+","+e.saturation+","+e.value)).join(I)+(e.reverseGradientOrder?I+w:""))},t.deserializeColorInfo=function(e){if(!e)return _();const t=L()[e];if(t)return t;const i=f[e];if(i){const e=L()[i];if(e)return e}const o=e.split(I);if("hsv"===o[0]&&o.length>=2){let e,t=!1;n.last(o)===w?(e=o.slice(1,o.length-1),t=!0):e=o.slice(1,o.length);let i=!1;const s=[];if(n.each(e,(e=>{try{const t=e.split(","),i={hue:Number(t[0]),saturation:Number(t[1]),value:Number(t[2])};if(M(i))return s.push(i),!0}catch(e){}return i=!0,!1})),!i)return N(s,t)}if("cust"===o[0]&&o.length>=2){let e,t=!1;n.last(o)===w?(e=o.slice(1,o.length-1),t=!0):e=o.slice(1,o.length);if(e.length&&n.every(e,(e=>d.test(e))))return 1===e.length&&e.push(e[0]),{key:x,colors:P(e),reverseGradientOrder:t}}return _()},t.validateHsvColor=M},257113:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(174958),o=i(496486),s=i(781333),a=i(662783),r=i(397691),l=i(746096),c=i(436237),d=i(404057),u=i(912770);class g{static checkCookieValue(e,t,i,n=5){const o={exponentialTime:new a.ExponentialTime(100,5e3),numberRetriesSoFar:-1};return g._checkCookieValue(e,t,i,n,o)}static getCookieSupported(){return!1}static clearCookies(){return s.default.clearAllCookies()}static _checkCookieValue(e,t,i,a=5,u){return s.default.getCookiesForDomain(e).then((n=>{const s=t.trim();return o.find(n,((e,t)=>t.trim()===s))===i?r.Resolved():g._retryCheckCookieValue(e,t,i,a,u)}),(o=>(c.error(l.LogTraceArea.CookieUtils,"Failed to fetch cookies for domain: '",n.pii.Omit(e),"' , error: ",d.default.errorAsString(o)),g._retryCheckCookieValue(e,t,i,a,u))))}static _retryCheckCookieValue(e,t,i,o,s){return s.numberRetriesSoFar=s.numberRetriesSoFar+1,s.numberRetriesSoFar<=o?(c.log(l.LogTraceArea.CookieUtils,"Retrying getting cookie value. Domain:",n.pii.Omit(e),", retryInfo:",JSON.stringify(s)),u.default.sleep(s.exponentialTime.getTimeAndCalculateNext()).then((()=>this._checkCookieValue(e,t,i,o,s)))):r.Rejected()}}t.default=g},697431:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tryMigrateCredentials=t.tryMigrateUWPCredentials=void 0;const n=i(618924),o=i(746096),s=i(436237),a=i(211377);t.tryMigrateUWPCredentials=function(){return n.CredentialsMigration.tryMigrateCredentials()},t.tryMigrateCredentials=function(e,t){return n.CredentialsMigration.tryMigrateCredentials().then((t=>a.default.getAccessTokenFromRefreshToken(t.msaRefreshToken,!0).then((i=>{e(t,i)})).done((()=>{n.CredentialsMigration.onMigrationComplete(),s.log(o.LogTraceArea.SISU,"Credential migration successfully marked as completed")})))).catch((()=>{s.log(o.LogTraceArea.SISU,"Failed to migrate credentials, falling back to normal login flow"),t()}))}},685609:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileIconHelper=void 0;const n=i(516778),o=i(753559),s=i(915877),a=i(733754),r=i(581760),l=i(711828),c=i(478262),d=(0,s.lazyProperties)({iconBackgroundColorFile:()=>n.Styles.createViewStyle({backgroundColor:r.Color.gray300})});t.FileIconHelper=class{static getIconFromFileType(e,t){let i,n;switch(t||o.default.getFileType(o.default.extractFileExtension(e))){case c.UploadFileType.Excel:i=l.SkypeIcon.MSExcel,n=a.getString("Global.MsExcelLabel");break;case c.UploadFileType.OneNote:i=l.SkypeIcon.MSOneNote,n=a.getString("Global.MsOneNoteLabel");break;case c.UploadFileType.Powerpoint:i=l.SkypeIcon.MSPowerPoint,n=a.getString("Global.MsPowerPointLabel");break;case c.UploadFileType.Word:i=l.SkypeIcon.MSWord,n=a.getString("Global.MsWordLabel");break;case c.UploadFileType.Picture:i=l.SkypeIcon.FilePicture,n=a.getString("Global.Photo");break;case c.UploadFileType.Video:case c.UploadFileType.VideoMessage:i=l.SkypeIcon.FileVideo,n=a.getString("Global.Video");break;case c.UploadFileType.Audio:i=l.SkypeIcon.FileAudio,n=a.getString("Global.AudioLabel");break;case c.UploadFileType.PDF:i=l.SkypeIcon.FilePDF,n=a.getString("Global.PDFLabel");break;case c.UploadFileType.AVI:i=l.SkypeIcon.FileVideo,n=a.getString("Global.AVILabel");break;case c.UploadFileType.Zip:i=l.SkypeIcon.FileZip,n=a.getString("Global.ZipLabel");break;default:i=l.SkypeIcon.File,n=a.getString("Global.FileLabel")}return{icon:i,displayString:n,iconColor:r.Color.gray300,backgroundStyle:d.iconBackgroundColorFile}}static getFileIconGlyph(e){switch(o.default.extractFileExtension(e)){case"doc":case"docx":return l.SkypeIcon.MSWord;case"xls":case"xlsx":return l.SkypeIcon.MSExcel;case"ppt":case"pptx":return l.SkypeIcon.MSPowerPoint;case"one":return l.SkypeIcon.MSOneNote}return l.SkypeIcon.File}static getFileIconColor(e){const t=o.default.extractFileExtension(e);let i=r.Color.darkThemeBackground;switch(t){case"docx":case"doc":i=r.Color.docFile;break;case"xlsx":case"xls":i=r.Color.xlsFile;break;case"pptx":case"ppt":i=r.Color.pptFile;break;case"one":i=r.Color.oneNoteFile}return i}}},761317:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FilePickerUtils=t.FilePickerAcceptType=void 0;const n=i(496486),o=i(550785),s=i(362520),a=i(889391),r=i(746096),l=i(935933),c=i(436237),d=i(733754),u=i(318743);var g;!function(e){e[e.Image=1]="Image",e[e.Video=2]="Video",e[e.ImageOrVideo=3]="ImageOrVideo"}(g=t.FilePickerAcceptType||(t.FilePickerAcceptType={}));t.FilePickerUtils=class{static showSingleFilePicker(e,t,i,n){o.default.show(this._fillMissingOptions(n),t,i,(t=>{c.warn(r.LogTraceArea.FilePicker,"Single file picker used to select more than one item."),t.forEach((t=>e(t)))}))}static showOpenDialog(e,t){o.default.showOpenDialog(e,t)}static getFileDownloadPath(){return o.default.getFileDownloadPath()}static getFileUri(e,t){return a.default.getS4LMessagingFeaturesNoSubscription().enableCustomFileDownloadLocation&&t?s.join(t,e):e}static showMultiFilesPicker(e,t,i,s,a,r){const d=this._getFileLimit(r),g=(u.FilePickerOrigin.FilePickerItem,d);o.default.show(this._fillMissingOptions(i,!0),s,a,(i=>{const o=i.length>g;o?l.show(s):i.forEach((t=>e(t))),c.track(new u.FilesSentViaPicker(t,g,o,n.map(i,(e=>e.extension))))}))}static isDocumentPickerSupported(){return o.default.isDocumentPickerSupported()}static cleanUp(e){o.default.cleanUp(e)}static showDocumentPicker(e,t,i){o.default.isDocumentPickerSupported()&&o.default.showDocumentPicker((n=>this._callbackWrapper(n,u.FilePickerOrigin.FilePickerItem,e,t,i)))}static _callbackWrapper(e,t,i,o,s){const a=this._getFileLimit(s),r=e.length>a;r?l.show(o):e.forEach((e=>i(e))),c.track(new u.FilesSentViaPicker(t,a,r,n.map(e,(e=>e.extension))))}static _fillMissingOptions(e,t){return{title:d.getString("FilePicker.SelectImageTitle"),cancelButtonTitle:d.getString("Global.CancelLabel"),chooseFromLibraryButtonTitle:d.getString("FilePicker.LibraryOptionTitle"),takePhotoButtonTitle:d.getString("FilePicker.CameraOptionTitle"),maxWidth:e&&e.maxSize||4096,maxHeight:e&&e.maxSize||4096,quality:e&&e.quality||.7,allowsEditing:e&&e.allowEditing||!1,acceptImage:(null==e?void 0:e.acceptType)===g.Image||(null==e?void 0:e.acceptType)===g.ImageOrVideo,acceptVideo:(null==e?void 0:e.acceptType)===g.Video||(null==e?void 0:e.acceptType)===g.ImageOrVideo,allowMultipleSelection:t||!1,allowsFileChoosing:e&&e.allowsFileChoosing||!1}}static _getFileLimit(e){const t=a.default.getS4LMessagingFeaturesNoSubscription().limitForFilePicker;return e?t-e||0:t}}},552115:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileSizeInformation=void 0;const n=i(496486),o=i(889391),s=i(265976),a=i(746096),r=i(653700),l=i(749679),c=i(436237),d=i(733754),u=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];t.FileSizeInformation=class{};class g{static formatFileSize(e,t=2){let i=e;i<0&&(i=0,c.warn(a.LogTraceArea.FileSizeHelpers,"Invalid byte size passed: "+e));let o=t>0?t:0;if(o<0&&(o=0,c.warn(a.LogTraceArea.FileSizeHelpers,"Invalid decimal places passed: "+t)),0===i)return{value:0,unit:u[0],formattedString:d.getString("FileSizeHelpers.0Bytes")};if(1===i)return{value:1,unit:u[0],formattedString:d.getString("FileSizeHelpers.1Byte")};const s=Math.floor(Math.log(i)/Math.log(1024)),r=u[s];if(n.isUndefined(r))return c.warn(a.LogTraceArea.FileSizeHelpers,"Invalid byte size passed (too big): "+e),{value:void 0,unit:void 0,formattedString:"too big"};const g=parseFloat((i/Math.pow(1024,s)).toFixed(o));return{value:g,unit:r,formattedString:d.getString("FileSizeHelpers.SizeDescription",{size:l.toStringWithFormattedDecimalSeparator(g),unit:d.getStringUnsafe("FileSizeHelpers."+r)})}}static getMaximumLimitsForType(e){const t=s.getUploadContentId(e),i=o.default.getAsyncMediaFeatures().storage_limits;if(t in i)return i[t];c.log(a.LogTraceArea.FileSizeHelpers,"Unknown limits for UploadFileType: "+e+", StorageLimits: "+JSON.stringify(i)+", uploadType: "+e+", uploadContentId: "+t)}static getMaximumFileSizeForType(e){const t=g.getMaximumLimitsForType(e);return t&&t.size||1/0}static getAmsUploadFileSize(e){let t=e.amsUploadFullData.file.size;return!n.isNumber(t)&&e.amsFullDataCacheInfo&&(t=r.default.getSize(e.amsFullDataCacheInfo.name)),t}}t.default=g},753559:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(478262),s=["png","jpg","jpeg","gif","heif","heic"],a=["mp4","webm","mov"],r=["mp3","wav","m4a"],l=["txt","pdf","svg","bmp","tif","tiff"],c=["doc","docx"],d=["xls","xlsx"],u=["ppt","pptx"],g=["one"],h=["pdf"],p=["avi"],S=["zip","zipx","rar","7z","gz"],m=n.union(c,d,u,g,["wopitest"]);class C{static extractFileNameWithExtension(e){return e.replace(/^.*[\\\/]/,"")}static extractFileExtension(e,t=!0){if(!e)return"";const i=e.lastIndexOf(".");let n="";return i>=0&&(n=e.substring(i+1)),t&&(n=n.toLowerCase()),n}static extractFileName(e){const t=e.lastIndexOf(".");return t>0?e.substring(0,t):e}static extractFileNameForKnownFileTypes(e){const t=C.extractFileExtension(e);return this.isKnownExtension(t)?this.extractFileName(e):e}static isInExtensionsList(e,t){return n.includes(e,t.toLowerCase())}static isImageExtension(e){return this.isInExtensionsList(s,e)}static isGifImageExtension(e){return"gif"===e}static isAudioExtension(e){return this.isInExtensionsList(r,e)}static isVideoExtension(e){return this.isInExtensionsList(a,e)}static isExcelExtension(e){return this.isInExtensionsList(d,e)}static isOneNoteExtension(e){return this.isInExtensionsList(g,e)}static isPowerPointExtension(e){return this.isInExtensionsList(u,e)}static isWordExtension(e){return this.isInExtensionsList(c,e)}static isOfficeExtension(e){return this.isInExtensionsList(m,e)}static isPDFExtension(e){return this.isInExtensionsList(h,e)}static isAVIExtension(e){return this.isInExtensionsList(p,e)}static isZipExtension(e){return this.isInExtensionsList(S,e)}static isOtherKnowExtension(e){return this.isInExtensionsList(l,e)}static isKnownExtension(e){return this.isImageExtension(e)||this.isAudioExtension(e)||this.isVideoExtension(e)||this.isOfficeExtension(e)||this.isPDFExtension(e)||this.isAVIExtension(e)||this.isOtherKnowExtension(e)}static isImageMimeType(e){return!!e&&n.includes(C.imageContentTypes,e.toLowerCase())}static isSupportedImageFormat(e){return e===C.imageContentTypes.jpeg}static getFileType(e){return this.isImageExtension(e)?o.UploadFileType.Picture:this.isVideoExtension(e)?o.UploadFileType.Video:this.isAudioExtension(e)?o.UploadFileType.Audio:this.isExcelExtension(e)?o.UploadFileType.Excel:this.isOneNoteExtension(e)?o.UploadFileType.OneNote:this.isPowerPointExtension(e)?o.UploadFileType.Powerpoint:this.isWordExtension(e)?o.UploadFileType.Word:this.isPDFExtension(e)?o.UploadFileType.PDF:this.isAVIExtension(e)?o.UploadFileType.AVI:this.isZipExtension(e)?o.UploadFileType.Zip:o.UploadFileType.File}static getFileContentTypeFromExtension(e){let t="application/unknown";switch(e){case"jpg":case"jpeg":t=C.imageContentTypes.jpeg;break;case"gif":t=C.imageContentTypes.gif;break;case"tif":case"tiff":t=C.imageContentTypes.tiff;break;case"png":t=C.imageContentTypes.png;break;case"mp4":t=C.videoContentTypes.mp4;break;case"mov":t=C.videoContentTypes.mov;break;case"webm":t=C.videoContentTypes.webm;break;case"mp3":t=C.audioContentTypes.mpeg;break;case"m4a":t=C.audioContentTypes.mp4;break;case"wav":t=C.audioContentTypes.wav}return t}static getAudioFileContentTypeFromExtension(e){let t="application/unknown";switch(e){case"mp3":t=C.audioContentTypes.mpeg;break;case"mp4":case"m4a":t=C.audioContentTypes.mp4;break;case"wav":t=C.audioContentTypes.wav}return t}static getFileContentType(e){const t=this.extractFileExtension(e);return this.getFileContentTypeFromExtension(t)}static isThumbnailSupportedFileType(e){switch(e){case o.UploadFileType.Picture:case o.UploadFileType.Video:case o.UploadFileType.VideoMessage:return!0;default:return!1}}}C.imageContentTypes={png:"image/png",jpeg:"image/jpeg",gif:"image/gif",svg:"image/svg",bmp:"image/bmp",tiff:"image/tiff",heif:"image/heif",heic:"image/heic"},C.videoContentTypes={mp4:"video/mp4",mov:"video/quicktime",webm:"video/webm"},C.audioContentTypes={mp4:"audio/mp4",mpeg:"audio/mpeg",wav:"audio/wav"},C.htmlContentTypes={textHtml:"text/html"},t.default=C},970004:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileUploadCacheUtils=t.internal_cacheConfig=void 0;const n=i(496486),o=i(106114);t.internal_cacheConfig={DefaultCacheName:"RNManualFileCache"};const s="urn:cache:";t.FileUploadCacheUtils=class{static getBaseUri(e){return o.default.getLocalUriBase(e)}static getLocalCacheUri(e){return s+e}static getAbsoluteFromLocalCacheUri(e,i=t.internal_cacheConfig.DefaultCacheName){const o=this.getBaseUri(i);return o&&n.startsWith(e,s)?e.replace(s,o):e}static getAbsoluteUriForName(e){return this.getAbsoluteFromLocalCacheUri(this.getLocalCacheUri(e))}}},828719:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.parseFileUri=void 0,t.parseFileUri=function(e){if(!e.startsWith("file:"))return;let t,i;return"/"!==e[5]||"/"!==e[6]?i=5:(i=e.indexOf("/",7),i<0&&(i=e.length),t=e.substring(7,i)),{host:t,path:decodeURIComponent(e.substring(i))}}},469382:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowLargeFileDownloadPrompt=t.shouldShowFileDownloadPrompt=t.isFileEligibleForAutoDownload=t.addMediaToSkypeAlbum=t.deleteImageFile=t.openFolderLocation=t.openFileLocation=t.openFile=t.fileExists=t.getFileInformation=void 0;const n=i(447840),o=i(397691);t.getFileInformation=e=>n.default.getFileInformation(e),t.fileExists=e=>n.default.fileExists(e),t.openFile=e=>o.Rejected(new Error("Failed to open file")),t.openFileLocation=e=>o.Resolved(!1),t.openFolderLocation=e=>o.Resolved(!1),t.deleteImageFile=e=>o.Resolved();t.addMediaToSkypeAlbum=e=>n.default.addMediaToSkypeAlbum(e);t.isFileEligibleForAutoDownload=(e,t)=>!1;t.shouldShowFileDownloadPrompt=(e,t,i)=>!(e||t||i.dontShowAcceptFileDialog);t.shouldShowLargeFileDownloadPrompt=(e,t)=>!(e||t.dontShowAcceptLargeFileDialog)},812854:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(583367),s=i(397691),a=i(746096),r=i(436237),l=i(404057),c=i(640363);class d{static prepareFeedback(){return d._hasHaptics()?o.default.prepareFeedbackGenerator().then(n.noop,(e=>{r.warn(a.LogTraceArea.GenericUnsafe,"DeviceUtilities prepareFeedbackGenerator failed: "+l.default.errorAsString(e))})):s.Resolved()}static unprepareFeedback(){return d._hasHaptics()?o.default.unprepareFeedbackGenerator().then(n.noop,(e=>{r.warn(a.LogTraceArea.GenericUnsafe,"DeviceUtilities unprepareFeedbackGenerator failed: "+l.default.errorAsString(e))})):s.Resolved()}static triggerFeedback(){return d._hasHaptics()?o.default.triggerFeedback().then(n.noop,(e=>{r.warn(a.LogTraceArea.GenericUnsafe,"DeviceUtilities triggerFeedback failed: "+l.default.errorAsString(e))})):s.Resolved()}static _hasHaptics(){const e=c.default.getPlatformType();return e===a.PlatformType.iOS||e===a.PlatformType.Android}}t.default=d},336801:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JSONAnimationUtils=void 0;const n=i(496486),o=i(175080);class s{getAssetSourceWithColor(e,t){let i,n,s=e.source;if("string"==typeof s)if(n="strong",t){const e=o.colorStringToBodyMovinRgbArray(t);i={key:t,parameters:{color:t,rgbColor:JSON.stringify(e)}}}else i=e.defaultTemplateContext;else s=this._getSourceWithColor(s,t);return{source:s,templateContext:i,cacheStrategy:n}}getAssetSourceWithGradientColors(e,t,i){let n,o,s=e.source;return"string"==typeof s?(o="strong",n=e.defaultTemplateContext):s=this._getSourceWithGradientColors(s,t,i),{source:s,templateContext:n,cacheStrategy:o}}_getSourceWithColor(e,t){if(t){const i=n.cloneDeep(e),s=o.colorStringToBodyMovinRgbArray(t);return n.each(i.layers,(e=>{n.each(e.shapes,(e=>{e.c&&(e.c.k=s),e.it&&n.each(e.it,(e=>{e.c&&(e.c.k=s)}))})),e.sc&&(e.sc=t)})),i}return e}_getSourceWithGradientColors(e,t,i){const s=n.cloneDeep(e),a=o.colorStringToBodyMovinRgbArray(t),r=o.colorStringToBodyMovinRgbArray(i),l=[0];return l.push.apply(l,n.take(a,3)),l.push(1),l.push.apply(l,n.take(r,3)),n.each(s.layers,(e=>{n.each(e.shapes,(e=>{e.it&&n.each(e.it,(e=>{if(e.g&&e.g.k&&e.g.k.k){const t=e.g.k.k;for(let e=0;e<t.length;e+=4){const i=t[e];t[e+1]=this._mapVal(i,a[0],r[0]),t[e+2]=this._mapVal(i,a[1],r[1]),t[e+3]=this._mapVal(i,a[2],r[2])}e.g.k.k=t}}))}))})),s}_mapVal(e,t,i){return t+(i-t)*e}}t.JSONAnimationUtils=s,t.default=new s},875913:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(516778),o=i(889391);t.default=new class{openAccessibilityConformance(){this._openUrl(o.default.getConfigSettingsNoSubscription().frenchAccessibilityConformanceUrl.host)}openItalianAccessibilityConformance(){this._openUrl(o.default.getConfigSettingsNoSubscription().italianAccessibilityConformanceUrl.host)}openPrivacy(){this._openUrl(o.default.getConfigSettingsNoSubscription().privacyUrl.host)}openTerms(){this._openUrl(o.default.getConfigSettingsNoSubscription().termsUrl.host)}_openUrl(e){n.Linking.openUrl(e)}}},704329:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(397691),s=i(746096),a=i(436237),r=i(18078),l=i(404057);const c=new class{constructor(){this._logoutInfos=[]}registerForLogout(e,t){n.find(this._logoutInfos,(t=>t.logoutable===e))||this._logoutInfos.push({logoutable:e,name:t})}logoutAll(e,t,i){if(!r.default.hasSkypeId())return o.Resolved();if(r.default.hasLogoutStarted())return o.Rejected("Cannot call logout twice");r.default.logoutUser(),a.log(s.LogTraceArea.GenericUnsafe,"LogoutContainer: logoutAll causeId: "+e);const c=this._logoutInfos.length;return o.all(n.map(this._logoutInfos,((n,o)=>(a.log(s.LogTraceArea.GenericUnsafe,"LogoutContainer: Logging out "+n.name+" causeId: "+e+" ["+(o+1)+"/"+c+"]"),n.logoutable.logout(e,t,i).catch((e=>{a.log(s.LogTraceArea.GenericUnsafe,"LogoutContainer: "+n.name+" errored: "+l.default.errorAsString(e))})).finally((()=>{a.log(s.LogTraceArea.GenericUnsafe,"LogoutContainer: "+n.name+" logout complete ["+(o+1)+"/"+c+"]")})))))).then(n.noop)}test_getRegisteredLogoutable(e){return n.find(this._logoutInfos,(t=>t.logoutable===e))}};t.default=c},445026:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(665768);t.default=n.NativeUtils},70665:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterModalDialogDismissalException=t.registerModalDialogDismissalException=t.unregister=t.register=t.dismissAll=void 0;const n=i(496486),o=i(516778),s=i(898278),a=i(746096),r=i(436237);let l=0;const c={},d=[];t.dismissAll=function(e){r.log(a.LogTraceArea.Navigation,"NavDismissalHelper.dismissAll"),function(){if(n.some(d,(e=>o.Modal.isDisplayed(e))))return!1;return!0}()&&(e&&e!==s.MainRootViewId?o.Modal.dismissAll(e):o.Modal.dismissAll()),e&&e!==s.MainRootViewId?o.Popup.dismissAll(e):o.Popup.dismissAll(),n.each(c,(e=>{e&&e.dismiss?e.dismiss():r.warn(a.LogTraceArea.Navigation,"NavDismissalHelper.dismissAll called without dismiss handle")}))},t.register=function(e){l++;const t="navDismissalHandler"+l;return r.log(a.LogTraceArea.Navigation,"NavDismissalHelper.register handle: "+t),c[t]=e,t},t.unregister=function(e){r.log(a.LogTraceArea.Navigation,"NavDismissalHelper.unregister handle: "+e),delete c[e]},t.registerModalDialogDismissalException=function(e){r.log(a.LogTraceArea.Navigation,"NavDismissalHelper.registerModalDialogDismissalException: "+e),n.includes(d,e)||d.push(e)},t.unregisterModalDialogDismissalException=function(e){r.log(a.LogTraceArea.Navigation,"NavDismissalHelper.unregisterModalDialogDismissalException: "+e),n.remove(d,e)}},217093:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MySettingsNavigationId=t.MeControlNavigationContext=t.MeControlNavigationId=t.AlertsHubNavigationContext=t.AlertsHubNavigationId=t.MobileHubNavigationContext=t.MobileHubNavigationId=t.ConversationsListNavigationContext=t.ConversationsListNavigationId=t.ForcedUpgradeContext=t.ForcedUpgradeNavigatorId=t.JoiningGuestScreenContext=t.JoiningGuestNavigatorId=t.WelcomeScreenContext=t.WelcomeScreenNavigatorId=t.TwinCamModalContext=t.TwinCamModalNavigationId=t.TogetherModeModalContext=t.TogetherModeNavigationId=t.ScreenShareModalContext=t.ConversationMediaViewerPanelContext=t.GifPreviewContext=t.GifPreviewNavigationId=t.MediaViewerPanelContext=t.MediaViewerNavigationId=t.DocumentViewerContext=t.DocumentViewerNavigationId=t.NearByPlacesContext=t.NearByPlacesNavigationId=t.LocationViewerContext=t.LocationPickerContext=t.PromptPermissionContext=t.PromptPermissionsNavigatorId=t.ConversationMediaViewerPanelNavigationId=t.LocationViewerNavigationId=t.LocationPickerNavigationId=t.CompositeNavigationContext=t.SimpleSplitNavigationContext=t.SplitNavigationContext=t.StackNavigationContext=t.RequiredScenarioContext=t.ScenarioContext=t.NavigationContext=t.StackAnimationType=t.SettingsGroup=t.HubTab=t.GalleryViewMode=t.RightSidebarViewMode=t.MainStageNavViewMode=t.LeftNavViewMode=void 0,t.SkypeClipsRecorderNavigationContext=t.SkypeClipsRecordScenario=t.SkypeClipsRecorderNavigationId=t.VoicePickerPanelNavigationContext=t.VoicePickerNavigationId=t.SpokenLanguagePickerPanelNavigationContext=t.SpokenLanguagePickerNavigationId=t.LanguagePickerPanelOldNavigationContext=t.LanguagePickerOldNavigationId=t.LanguagePickerPanelNavigationContext=t.LanguagePickerNavigationId=t.NewSettingsPanelNavigationContext=t.NewSettingsPanelNavigationId=t.SettingsGroupNavigationContext=t.SettingsGroupNavigationId=t.NavigationSettingsGroupOrigin=t.BackgroundEffectsSettingsNavigationContext=t.AVSettingsContext=t.AVSettingsNavigationId=t.ChooseAvatarCommonPickerContext=t.CommonAvatarNavigationId=t.ChooseAvatarContext=t.AvatarNavigationId=t.PnvDebugToolContext=t.PnvDebugToolNavigationId=t.PnvEnterCodeContext=t.PnvEnterCodeNavigationId=t.PnvEnterNumberContext=t.PnvEnterNumberNavigationId=t.UserProfileContext=t.UserProfileNavigationId=t.ThemeContext=t.TelemetryConsentContext=t.TelemetryConsentNavigationId=t.PeopleYouMayKnowNoticeContext=t.PeopleYouMayKnowNoticeNavigationId=t.SyncAddressBookContext=t.SyncAddressBookNavigationId=t.OnboardingDialogWizardContext=t.ThemeNavigationId=t.ColorPickerNavigationId=t.PesSearchNavigationContext=t.PesSearchNavigationId=t.InviteLinkQRPanelNavigationContext=t.InviteLinkQRPanelNavigationId=t.AvatarPickerPanelNavigationContext=t.AvatarPickerPanelNavigationId=t.QRCodeSignInNavigationContext=t.QRCodeSignInNavigationId=t.MySettingsNavigationContext=void 0,t.ArchivedConversationsId=t.AugmentedPermissionsViewNavigationContext=t.AugmentedPermissionsViewNavigationState=t.DesktopCaptureComboViewNavigationContext=t.CaptureNavigationContext=t.BotDiscoveryNavigationContext=t.BotDiscoveryNavigationId=t.BotsListNavigationContext=t.BotsListNavigationId=t.ConversationParticipantsNavigationContext=t.SuperComposerNavigationId=t.ConversationParticipantsNavigationId=t.ElectronForceUpgradeScreen=t.LoadingPanelNavigationContext=t.LoadingPanelNavigationId=t.ReportConcernNavigationContext=t.ReportConcernNavigationId=t.CreateConversationNavigationContext=t.CreateConversationNavigationId=t.AddToCallNavigationContext=t.AddToCallNavigationId=t.CallRosterNavigationContext=t.CallRosterNavigationId=t.ConversationInCallNavigationContext=t.ConversationInCallNavigationId=t.ChatConfigNavigationContext=t.ChatConfigNavigationId=t.DetailsNavigationContext=t.DetailsNavigationId=t.BingBackgroundNavigationContext=t.BingBackgroundNavigationId=t.RinglessCallInterstitialNavigationContext=t.SkypeNumberPostPurchasePromptNavigationContext=t.SkypeNumberPostPurchasePromptNavigationId=t.CallFailurePostPurchasePromptContext=t.CallFailurePostPurchasePromptNavigationId=t.CallFailurePromptContext=t.CallFailurePromptId=t.CallerIdPromptContext=t.CallerIdPromptNavigationId=t.CallPreviewNavigationId=t.CallPreviewNavigationContext=t.CQFNavigationContext=t.AndroidCallMonitorPermissionNavigationContext=t.UnansweredCallNavigationContext=t.CallNavigationContext=t.CallNavigationReason=t.CallNavigationId=t.ConversationNavigationContext=t.ConversationNavigationId=void 0,t.RedirectToLogoutNavigationId=t.SsoWebFlowNavigationContext=t.SsoWebFlowNavigationId=t.PurchaseConfirmationDialogWrapperNavigationContext=t.PurchaseConfirmationDialogWrapperNavigationId=t.Payments3dsNavigationContext=t.Payments3dsNavigationId=t.GetProductWebFlowNavigationContext=t.GetProductWebFlowNavigationId=t.DesktopMsaPhoneAccrualNavigationContext=t.DesktopMsaPhoneAccrualNavigationId=t.DesktopCloseAccountNavigationContext=t.DesktopCloseAccountNavigationId=t.CustomReactionsPanelNavigationContext=t.CustomReactionsPanelId=t.RawPreferencesNavigationContext=t.RawPreferencesId=t.SlimcoreFlagListNavigationContext=t.SlimcoreFlagListId=t.FeatureFlagListNavigationContext=t.FeatureFlagListId=t.ManageSearchInfoPanelNavigationContext=t.ManageSearchInfoPanelId=t.ConnectedUsersListNavigationContext=t.ConnectedUsersListNavigationId=t.BlockedUsersListNavigationContext=t.BlockedUsersListId=t.ProfilePicturePanelNavigationContext=t.ProfilePicturePanelId=t.SendDiagnosticLogsNavigationContext=t.SendDiagnosticLogsId=t.DiagnosticToolsNavigationContext=t.DiagnosticToolsId=t.TelemetryPerformanceMonitorNavigationContext=t.TelemetryPerfId=t.SubscriptionIntroNavigationContext=t.SubscriptionIntroNavigationId=t.PurchaseContinuationNavigationContext=t.PurchaseContinuationId=t.GetBalanceStateNavigationContext=t.GetBalanceStateId=t.ThirdPartyNoticesNavigationContext=t.ThirdPartyNoticesNavigationId=t.AboutNavigationContext=t.AboutNavigationId=t.SendCreditSearchPeopleContext=t.SendCreditSearchPeopleId=t.SearchNavigationContext=t.SearchNavigationId=t.ArchivedConversationsPanelNavigationContext=void 0,t.TranslationSettingsPanelNavigationContext=t.TranslationSettingsPanelNavigationId=t.SubtitlesCallingSettingsPanelNavigationContext=t.SubtitlesCallingSettingsPanelNavigationId=t.AdvancedCallingSettingsPanelNavigationContext=t.AdvancedCallingSettingsPanelNavigationId=t.CallerIdNumberCallingSettingsPanelNavigationContext=t.CallerIdNumberCallingSettingsPanelNavigationId=t.CallerIdCallingSettingsPanelNavigationContext=t.CallerIdCallingSettingsPanelNavigationId=t.CallingSettingsPanelNavigationContext=t.CallingSettingsPanelNavigationId=t.FindPanelNavigationContext=t.FindPanelNavigationId=t.GalleryNavigationContext=t.GalleryNavigationId=t.CaptureComboNavigationContext=t.CaptureComboNavigationId=t.MediaPickerNavigationContext=t.MediaPickerNavigationId=t.ShareContactsToConversationContext=t.ShareContactsToConversationNavigationId=t.CaptivePortalQuestionnaireContext=t.CaptivePortalQuestionnaireNavigationId=t.EngagementSharePanelContext=t.EngagementSharePanelNavigationId=t.ShareWithPanelNavigationContext=t.ShareWithPanelNavigationId=t.InAppBrowserNavigationContext=t.InAppBrowserNavigationId=t.CaptureMultiPreviewNavigationContext=t.CaptureMultiPreviewNavigationId=t.CapturePreviewNavigationContext=t.CapturePreviewNavigationId=t.MediaEditorNavigationId=t.AlertsNavigationContext=t.AlertsNavigationId=t.SkypeNumberFormsNavigationContext=t.SkypeNumberFormsNavigationId=t.SkypeNumberPanelPurchaseFlowNavigationContext=t.SkypeNumberPanelPurchaseFlowNavigationId=t.SkypeNumberInfoScreenNavigationContext=t.SkypeNumberInfoScreenNavigationId=t.SkypeNumberListNavigationContext=t.SkypeNumberListNavigationId=t.SkypeNumberWebFlowNavigationContext=t.SkypeNumberWebFlowNavigationId=t.CallingSettingsHeaderAuthWebFlowNavigationContext=t.CallingSettingsHeaderAuthWebFlowNavigationId=t.RedirectToLogoutNavigationContext=void 0,t.TodayTabInterestsPanelNavigationContext=t.TodayTabInterestsPanelNavigationId=t.TodayTabNavigationContext=t.TodayTabNavigationId=t.SendCreditPanelNavigationContext=t.SendCreditPanelNavigationId=t.SXPlaygroundNavigationContext=t.SXPlaygroundNavigationId=t.GuestUpsellNavigationState=t.GuestUpsellNavigationContext=t.GuestUpsellNavigationId=t.ConversationShareNavigationContext=t.ConversationShareNavigationState=t.ConversationSharingScreenId=t.InviteShareNavigationContext=t.InviteShareNavigationId=t.ProfileNavigationContext=t.ProfileNavigationState=t.ProfileNavigationId=t.ActiveNowPanelNavigationContext=t.ActiveNowPanelId=t.AboutPeopleYouMayKnowNavigationContext=t.AboutPeopleYouMayKnowId=t.AddPhoneNumberPanelNavigationContext=t.AddPhoneNumberPanelNavigationId=t.AddContactPanelNavigationContext=t.AddContactPanelId=t.ContactsPanelV2NavigationContext=t.ContactsPanelId=t.SkypeNumberFormOptionSelectorNavigationContext=t.SkypeNumberFormOptionSelectorPanelId=t.SkypeNumberPrefixSelectorNavigationContext=t.SkypeNumberPrefixSelectorPanelId=t.SkypeNumberCountryAreaSelectorNavigationContext=t.SkypeNumberCountryAreaSelectorPanelId=t.E911AcknowledgementPanelNavigationContext=t.E911AcknowledgementPanelId=t.PSTNCountrySelectorNavigationContext=t.PSTNCountrySelectorPanelId=t.PSTNDialerNavigationContext=t.PSTNDialerPanelId=t.QuickCallNavigationContext=t.QuickCallSearchPanelId=t.QuickCallPanelId=t.CallingDebugPanelNavigationContext=t.CallingDebugPanelNavigationId=t.CallingSettingsEntryNavigationContext=t.CallingSettingsEntryNavigationId=t.PreSignOutPanelNavigationContext=t.PreSignOutPanelNavigationId=void 0,t.ArticleReaderMobilePanelNavigationContext=t.ArticleReaderMobileNavigationContext=t.ArticleReaderMobileNavigationId=t.TasterPostCallPanelContext=t.TasterPostCallPanelId=t.SmsFailurePromptContext=t.SmsFailurePromptId=t.RootCompositeSplitViewContext=t.TruVoiceConsentNavigationContext=t.TruVoiceConsentNavigationId=t.TranslationConsentNavigationContext=t.TranslationConsentNavigationId=t.SpeechConsentNavigationContext=t.SpeechConsentNavigationId=t.SettingsMenuContext=t.SplitMasterNavigationContext=t.LeftNavigationViewContext=t.SubtitlesNavigationContext=t.SubtitlesNavigationId=t.LeftNavigationViewId=t.RightSidebarStackContext=t.DesktopContentPanelNavigationContext=t.MiniAppNavigationPromptContext=t.MiniAppNavigationId=t.MobileContentPanelNavigationContext=t.MobileContentPanelId=t.ManageUsersSettingsPanelNavigationContext=t.ManageUsersSettingsPanelNavigationId=t.DesktopSettingsGroupNavigationContext=t.DesktopSettingsGroupNavigationId=t.MagicBotToolboxNavigationContext=t.MagicBotToolboxNavigationId=void 0;const n=i(496486),o=i(647738),s=i(746096);let a=0;var r,l;!function(e){e[e.None=0]="None",e[e.Recents=1]="Recents",e[e.Search=2]="Search",e[e.ConversationInCall=3]="ConversationInCall",e[e.Calls=4]="Calls",e[e.Contacts=5]="Contacts",e[e.Notifications=6]="Notifications",e[e.CallSearch=7]="CallSearch",e[e.Today=8]="Today",e[e.ContentChannelsStore=9]="ContentChannelsStore",e[e.ContentChannelsSearch=10]="ContentChannelsSearch",e[e.ContentChannelsManage=11]="ContentChannelsManage"}(r=t.LeftNavViewMode||(t.LeftNavViewMode={})),function(e){e[e.None=0]="None",e[e.WelcomeScreen=1]="WelcomeScreen",e[e.DesktopContentPanel=2]="DesktopContentPanel",e[e.Call=3]="Call",e[e.MeetNow=4]="MeetNow",e[e.ForcedUpgradeScreen=5]="ForcedUpgradeScreen",e[e.Sisu=6]="Sisu",e[e.Today=7]="Today"}(t.MainStageNavViewMode||(t.MainStageNavViewMode={})),function(e){e[e.None=0]="None",e[e.Gallery=1]="Gallery",e[e.Find=2]="Find",e[e.InAppBrowser=3]="InAppBrowser",e[e.Other=4]="Other"}(t.RightSidebarViewMode||(t.RightSidebarViewMode={})),function(e){e[e.None=0]="None",e[e.All=1]="All",e[e.Media=2]="Media",e[e.Files=3]="Files",e[e.Links=4]="Links"}(t.GalleryViewMode||(t.GalleryViewMode={})),function(e){e.Recents="recents_tab",e.MeetNowChats="meetnowchats_tab",e.MeetNowCalls="meetnowcalls_tab",e.Calls="calls_tab",e.Phone="phone_tab",e.People="people_tab",e.Notifications="notification_tab",e.Today="today_tab"}(l=t.HubTab||(t.HubTab={})),function(e){e[e.Notifications=0]="Notifications",e[e.Chat=1]="Chat",e[e.Contacts=2]="Contacts",e[e.Privacy=3]="Privacy",e[e.General=4]="General",e[e.MyAccountAndProfile=5]="MyAccountAndProfile",e[e.AccountAndProfile=6]="AccountAndProfile",e[e.Debug=7]="Debug",e[e.AppSettings=8]="AppSettings",e[e.AudioVideoSettings=9]="AudioVideoSettings",e[e.AudioSettings=10]="AudioSettings",e[e.BalanceState=11]="BalanceState",e[e.SkypeNumber=12]="SkypeNumber",e[e.ThemeSettings=13]="ThemeSettings",e[e.HelpAndFeedback=14]="HelpAndFeedback",e[e.About=15]="About",e[e.SyncAddressBook=16]="SyncAddressBook",e[e.HotKeys=17]="HotKeys",e[e.ManagePayments=18]="ManagePayments",e[e.BackgroundEffectsSettings=19]="BackgroundEffectsSettings",e[e.ReportProblem=20]="ReportProblem"}(t.SettingsGroup||(t.SettingsGroup={})),function(e){e.DEFAULT="default",e.FADE="fade",e.FADE_FROM_BOTTOM="fade_from_bottom",e.FLIP="flip",e.NONE="none",e.SIMPLE_PUSH="simple_push",e.SLIDE_FROM_BOTTOM="slide_from_bottom",e.SLIDE_FROM_RIGHT="slide_from_right",e.SLIDE_FROM_LEFT="slide_from_left"}(t.StackAnimationType||(t.StackAnimationType={}));class c{constructor(e){this.stateId="unknown",this._init(e)}_init(e){this.id=a++,this.state=n.cloneDeep(e)}clone(e){const t=Object.create(this);return t._init(this.state),e&&(t.id=this.id),t}}t.NavigationContext=c;class d extends c{constructor(e,t){super(e),this.navigator=t}}t.ScenarioContext=d;class u extends c{constructor(e,t){super(e),this.navigator=t}}t.RequiredScenarioContext=u;class g extends c{constructor(e){super(e)}_init(e){super._init(e),this.setupDefaults()}setupDefaults(){this._navStack=[]}clone(e){const t=Object.create(this);return t._init(this.state),e&&(t.id=this.id),t._navStack=n.clone(this._navStack),t}clearNavStack(){this._navStack=[]}setNavStack(e){this._navStack=e}getNavStack(){return this._navStack}navigateBack(){this._navStack.length>0&&this.setNavStack(this._navStack.slice(0,this._navStack.length-1))}}t.StackNavigationContext=g;class h extends g{clone(e){const t=Object.create(this);return t._init(this.state),e&&(t.id=this.id),t._navStack=n.clone(this._navStack),t._masterContext=this._masterContext&&this._masterContext.clone?this._masterContext.clone(e):n.clone(this._masterContext),t._isCollapsed=this._isCollapsed,t}isValid(){return!!this.getMasterContext()||this.getNavStack().length>0}collapse(e){this._isCollapsed=e}isCollapsed(){return this._isCollapsed}setMasterContext(e){this._masterContext=e}clearMasterContext(){this._masterContext=void 0}getMasterContext(e=!1){return!this._isCollapsed||e?this._masterContext:void 0}getNavStack(e=!1){return this._isCollapsed&&this._masterContext&&!e?[this._masterContext,...this._navStack]:this._navStack}getBackStack(e=!1){return this.getNavStack(e)}}t.SplitNavigationContext=h;class p extends h{}t.SimpleSplitNavigationContext=p;class S extends c{constructor(e){super(e)}_init(e){super._init(e),this.children={}}clone(e){const t=super.clone(e);return n.each(this.children,((i,n)=>{t.children[n]=i.clone(e)})),t}_assignChildrenContext(e,t){const i=this.children[e];return i?n.assign(i,t):this.children[e]=t}}t.CompositeNavigationContext=S,t.LocationPickerNavigationId="LocationPicker",t.LocationViewerNavigationId="LocationViewer",t.ConversationMediaViewerPanelNavigationId="ConversationMediaViewerPanel",t.PromptPermissionsNavigatorId="PromptPermissions";t.PromptPermissionContext=class extends d{constructor(){super(...arguments),this.stateId=t.PromptPermissionsNavigatorId}};t.LocationPickerContext=class extends c{constructor(){super(...arguments),this.stateId=t.LocationPickerNavigationId}};t.LocationViewerContext=class extends c{constructor(){super(...arguments),this.stateId=t.LocationViewerNavigationId}},t.NearByPlacesNavigationId="NearByPlaces";t.NearByPlacesContext=class extends c{constructor(){super(...arguments),this.stateId=t.NearByPlacesNavigationId}},t.DocumentViewerNavigationId="DocumentViewer";t.DocumentViewerContext=class extends c{constructor(){super(...arguments),this.stateId=t.DocumentViewerNavigationId}},t.MediaViewerNavigationId="MediaViewer";t.MediaViewerPanelContext=class extends c{constructor(){super(...arguments),this.stateId=t.MediaViewerNavigationId}},t.GifPreviewNavigationId="GifPreview";t.GifPreviewContext=class extends c{constructor(){super(...arguments),this.stateId=t.GifPreviewNavigationId}};t.ConversationMediaViewerPanelContext=class extends c{constructor(){super(...arguments),this.stateId=t.ConversationMediaViewerPanelNavigationId}};t.ScreenShareModalContext=class extends c{},t.TogetherModeNavigationId="TogetherMode";t.TogetherModeModalContext=class extends c{constructor(){super(...arguments),this.stateId=t.TogetherModeNavigationId}},t.TwinCamModalNavigationId="TwinCam";t.TwinCamModalContext=class extends c{constructor(){super(...arguments),this.stateId=t.TwinCamModalNavigationId}},t.WelcomeScreenNavigatorId="WelcomeScreen";class m extends c{constructor(){super(...arguments),this.stateId=t.WelcomeScreenNavigatorId}}t.WelcomeScreenContext=m,t.JoiningGuestNavigatorId="JoiningGuestScreen";t.JoiningGuestScreenContext=class extends c{constructor(){super(...arguments),this.stateId=t.JoiningGuestNavigatorId}},t.ForcedUpgradeNavigatorId="ForcedUpgrade";t.ForcedUpgradeContext=class extends c{},t.ConversationsListNavigationId="ConversationsList";class C extends c{constructor(){super(...arguments),this.stateId=t.ConversationsListNavigationId}}t.ConversationsListNavigationContext=C,t.MobileHubNavigationId="MobileHub";t.MobileHubNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.MobileHubNavigationId}},t.AlertsHubNavigationId="AlertsHub";class y extends c{constructor(){super(...arguments),this.stateId=t.AlertsHubNavigationId}}t.AlertsHubNavigationContext=y,t.MeControlNavigationId="MeControlId";t.MeControlNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.MeControlNavigationId}},t.MySettingsNavigationId="MySettingsId";t.MySettingsNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.MySettingsNavigationId}},t.QRCodeSignInNavigationId="SisuQRCodeModalId";t.QRCodeSignInNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.QRCodeSignInNavigationId}},t.AvatarPickerPanelNavigationId="AvatarPickerPanelNavigationId";t.AvatarPickerPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.AvatarPickerPanelNavigationId}},t.InviteLinkQRPanelNavigationId="InviteLinkQRPanelId";t.InviteLinkQRPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.InviteLinkQRPanelNavigationId}},t.PesSearchNavigationId="PesSearchId";t.PesSearchNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.PesSearchNavigationId}},t.ColorPickerNavigationId="ColorPicker",t.ThemeNavigationId="Theme";t.OnboardingDialogWizardContext=class extends c{},t.SyncAddressBookNavigationId="SyncAddressBook";t.SyncAddressBookContext=class extends d{constructor(){super(...arguments),this.stateId=t.SyncAddressBookNavigationId}},t.PeopleYouMayKnowNoticeNavigationId="PeopleYouMayKnowNotice";t.PeopleYouMayKnowNoticeContext=class extends d{constructor(){super(...arguments),this.stateId=t.PeopleYouMayKnowNoticeNavigationId}},t.TelemetryConsentNavigationId="TelemetryConsent";t.TelemetryConsentContext=class extends d{constructor(){super(...arguments),this.stateId=t.TelemetryConsentNavigationId}};t.ThemeContext=class extends d{constructor(){super(...arguments),this.stateId=t.ThemeNavigationId}},t.UserProfileNavigationId="UserProfile";t.UserProfileContext=class extends d{constructor(){super(...arguments),this.stateId=t.UserProfileNavigationId}},t.PnvEnterNumberNavigationId="PnvEnterNumber";t.PnvEnterNumberContext=class extends d{constructor(){super(...arguments),this.stateId=t.PnvEnterNumberNavigationId}},t.PnvEnterCodeNavigationId="PnvEnterCode";t.PnvEnterCodeContext=class extends d{constructor(){super(...arguments),this.stateId=t.PnvEnterCodeNavigationId}},t.PnvDebugToolNavigationId="PnvDebugTool";t.PnvDebugToolContext=class extends d{constructor(){super(...arguments),this.stateId=t.PnvDebugToolNavigationId}},t.AvatarNavigationId="AvatarPicker";t.ChooseAvatarContext=class extends d{constructor(){super(...arguments),this.stateId=t.AvatarNavigationId}},t.CommonAvatarNavigationId="CommonAvatarPicker";t.ChooseAvatarCommonPickerContext=class extends d{constructor(){super(...arguments),this.stateId=t.CommonAvatarNavigationId}},t.AVSettingsNavigationId="AVSettings";t.AVSettingsContext=class extends d{constructor(){super(...arguments),this.stateId=t.AVSettingsNavigationId}};t.BackgroundEffectsSettingsNavigationContext=class extends c{},function(e){e[e.NavigationFromSettings=0]="NavigationFromSettings"}(t.NavigationSettingsGroupOrigin||(t.NavigationSettingsGroupOrigin={})),t.SettingsGroupNavigationId="settingsgroup";t.SettingsGroupNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SettingsGroupNavigationId}},t.NewSettingsPanelNavigationId="NewSettingsPanelNavigationId";t.NewSettingsPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.NewSettingsPanelNavigationId}},t.LanguagePickerNavigationId="LanguagePicker";t.LanguagePickerPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.LanguagePickerNavigationId}},t.LanguagePickerOldNavigationId="LanguagePickerOld";t.LanguagePickerPanelOldNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.LanguagePickerOldNavigationId}},t.SpokenLanguagePickerNavigationId="SpokenLanguagePicker";t.SpokenLanguagePickerPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SpokenLanguagePickerNavigationId}},t.VoicePickerNavigationId="VoicePicker";t.VoicePickerPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.VoicePickerNavigationId}},t.SkypeClipsRecorderNavigationId="ClipRecording",function(e){e.chat="chat"}(t.SkypeClipsRecordScenario||(t.SkypeClipsRecordScenario={}));t.SkypeClipsRecorderNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SkypeClipsRecorderNavigationId}},t.ConversationNavigationId="Conversation";class f extends c{}t.ConversationNavigationContext=f,t.CallNavigationId="Call",function(e){e[e.StartingCall=0]="StartingCall",e[e.JoinOngoing=1]="JoinOngoing",e[e.AnsweredRing=2]="AnsweredRing",e[e.PresentIncomingRing=3]="PresentIncomingRing",e[e.Rejoining=4]="Rejoining",e[e.AutoAnsweredRing=5]="AutoAnsweredRing"}(t.CallNavigationReason||(t.CallNavigationReason={}));t.CallNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.CallNavigationId}};t.UnansweredCallNavigationContext=class extends c{};t.AndroidCallMonitorPermissionNavigationContext=class extends c{};t.CQFNavigationContext=class extends c{};t.CallPreviewNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.CallPreviewNavigationId}},t.CallPreviewNavigationId="CallPreview",t.CallerIdPromptNavigationId="CallerIdPrompt";t.CallerIdPromptContext=class extends c{constructor(){super(...arguments),this.stateId=t.CallerIdPromptNavigationId}},t.CallFailurePromptId="CallFailurePrompt";t.CallFailurePromptContext=class extends c{constructor(){super(...arguments),this.stateId=t.CallFailurePromptId}},t.CallFailurePostPurchasePromptNavigationId="CallFailurePostPurchasePrompt";t.CallFailurePostPurchasePromptContext=class extends c{constructor(){super(...arguments),this.stateId=t.CallFailurePostPurchasePromptNavigationId}},t.SkypeNumberPostPurchasePromptNavigationId="SkypeNumberPostPurchasePrompt";t.SkypeNumberPostPurchasePromptNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SkypeNumberPostPurchasePromptNavigationId}};t.RinglessCallInterstitialNavigationContext=class extends c{},t.BingBackgroundNavigationId="BingBackgrounds";t.BingBackgroundNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.BingBackgroundNavigationId}},t.DetailsNavigationId="Details";t.DetailsNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.DetailsNavigationId}},t.ChatConfigNavigationId="ChatConfig";t.ChatConfigNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.ChatConfigNavigationId}},t.ConversationInCallNavigationId="ConversationInCall";class b extends c{}t.ConversationInCallNavigationContext=b,t.CallRosterNavigationId="CallRoster";t.CallRosterNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.CallRosterNavigationId}},t.AddToCallNavigationId="AddToCall";t.AddToCallNavigationContext=class extends c{},t.CreateConversationNavigationId="CreateConversation";t.CreateConversationNavigationContext=class extends u{constructor(){super(...arguments),this.stateId=t.CreateConversationNavigationId}},t.ReportConcernNavigationId="ReportConcern";t.ReportConcernNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.ReportConcernNavigationId}},t.LoadingPanelNavigationId="LoadingPanel";t.LoadingPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.LoadingPanelNavigationId}};t.ElectronForceUpgradeScreen=class extends c{},t.ConversationParticipantsNavigationId="ConvParticipants",t.SuperComposerNavigationId="SuperComposer";t.ConversationParticipantsNavigationContext=class extends u{constructor(){super(...arguments),this.stateId=t.ConversationParticipantsNavigationId}},t.BotsListNavigationId="BotsList";t.BotsListNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.BotsListNavigationId}},t.BotDiscoveryNavigationId="BotDiscovery";t.BotDiscoveryNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.BotDiscoveryNavigationId}};t.CaptureNavigationContext=class extends c{};t.DesktopCaptureComboViewNavigationContext=class extends c{};t.AugmentedPermissionsViewNavigationState=class{};t.AugmentedPermissionsViewNavigationContext=class extends c{},t.ArchivedConversationsId="ArchivedConversations";class _ extends c{constructor(){super(...arguments),this.stateId=t.ArchivedConversationsId}}t.ArchivedConversationsPanelNavigationContext=_,t.SearchNavigationId="Search";class v extends c{constructor(){super(...arguments),this.stateId=t.SearchNavigationId}}t.SearchNavigationContext=v,t.SendCreditSearchPeopleId="SendCreditSearchPeople";t.SendCreditSearchPeopleContext=class extends c{constructor(){super(...arguments),this.stateId=t.SendCreditSearchPeopleId}},t.AboutNavigationId="About";t.AboutNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.AboutNavigationId}},t.ThirdPartyNoticesNavigationId="ThirdPartyNotices";t.ThirdPartyNoticesNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.ThirdPartyNoticesNavigationId}},t.GetBalanceStateId="GetBalanceState";t.GetBalanceStateNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.GetBalanceStateId}},t.PurchaseContinuationId="PurchaseContinuation";t.PurchaseContinuationNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.PurchaseContinuationId}},t.SubscriptionIntroNavigationId="SubscriptionIntro";t.SubscriptionIntroNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SubscriptionIntroNavigationId}},t.TelemetryPerfId="TelemetryPerf";t.TelemetryPerformanceMonitorNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.TelemetryPerfId}},t.DiagnosticToolsId="DiagnosticTools";t.DiagnosticToolsNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.DiagnosticToolsId}},t.SendDiagnosticLogsId="SendDiagnosticLogs";t.SendDiagnosticLogsNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SendDiagnosticLogsId}},t.ProfilePicturePanelId="ProfilePicturePanelId";t.ProfilePicturePanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.ProfilePicturePanelId}},t.BlockedUsersListId="BlockedUsersList";t.BlockedUsersListNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.BlockedUsersListId}},t.ConnectedUsersListNavigationId="ConnectedUsersList";t.ConnectedUsersListNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.ConnectedUsersListNavigationId}},t.ManageSearchInfoPanelId="ManageSearchInfo";t.ManageSearchInfoPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.ManageSearchInfoPanelId}},t.FeatureFlagListId="FeatureFlagList";t.FeatureFlagListNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.FeatureFlagListId}},t.SlimcoreFlagListId="SlimcoreFlagList";t.SlimcoreFlagListNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SlimcoreFlagListId}},t.RawPreferencesId="RawPreferences";t.RawPreferencesNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.RawPreferencesId}},t.CustomReactionsPanelId="CustomReactionsPanel";t.CustomReactionsPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.CustomReactionsPanelId}},t.DesktopCloseAccountNavigationId="DesktopCloseAccount";t.DesktopCloseAccountNavigationContext=class extends c{},t.DesktopMsaPhoneAccrualNavigationId="DesktopMsaPhoneAccrual";t.DesktopMsaPhoneAccrualNavigationContext=class extends c{},t.GetProductWebFlowNavigationId="GetProductWebFlow";t.GetProductWebFlowNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.GetProductWebFlowNavigationId}},t.Payments3dsNavigationId="Payments3ds";t.Payments3dsNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.Payments3dsNavigationId}},t.PurchaseConfirmationDialogWrapperNavigationId="PurchaseConfirmationDialogWrapper";t.PurchaseConfirmationDialogWrapperNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.PurchaseConfirmationDialogWrapperNavigationId}},t.SsoWebFlowNavigationId="SsoWebFlow";t.SsoWebFlowNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SsoWebFlowNavigationId}},t.RedirectToLogoutNavigationId="SisuRedirectToLogout";t.RedirectToLogoutNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.RedirectToLogoutNavigationId}},t.CallingSettingsHeaderAuthWebFlowNavigationId="CallingSettingsHeaderAuthWebFlow";t.CallingSettingsHeaderAuthWebFlowNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.CallingSettingsHeaderAuthWebFlowNavigationId}},t.SkypeNumberWebFlowNavigationId="SkypeNumberWebFlow";t.SkypeNumberWebFlowNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SkypeNumberWebFlowNavigationId}},t.SkypeNumberListNavigationId="SkypeNumberList";t.SkypeNumberListNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SkypeNumberListNavigationId}},t.SkypeNumberInfoScreenNavigationId="SkypeNumberInfoScreen";t.SkypeNumberInfoScreenNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SkypeNumberInfoScreenNavigationId}},t.SkypeNumberPanelPurchaseFlowNavigationId="SkypeNumberPanelPurchaseFlow";t.SkypeNumberPanelPurchaseFlowNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SkypeNumberPanelPurchaseFlowNavigationId}},t.SkypeNumberFormsNavigationId="SkypeNumberForms";t.SkypeNumberFormsNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SkypeNumberFormsNavigationId}},t.AlertsNavigationId="Alerts";t.AlertsNavigationContext=class extends c{},t.MediaEditorNavigationId="MediaEditor",t.CapturePreviewNavigationId="CapturePreview";t.CapturePreviewNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.CapturePreviewNavigationId}},t.CaptureMultiPreviewNavigationId="CaptureMultiPreview";t.CaptureMultiPreviewNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.CaptureMultiPreviewNavigationId}},t.InAppBrowserNavigationId="InAppBrowser";t.InAppBrowserNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.InAppBrowserNavigationId}},t.ShareWithPanelNavigationId="ShareWith";t.ShareWithPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.ShareWithPanelNavigationId}},t.EngagementSharePanelNavigationId="EngagementSharePanel";t.EngagementSharePanelContext=class extends c{constructor(){super(...arguments),this.stateId=t.EngagementSharePanelNavigationId}},t.CaptivePortalQuestionnaireNavigationId="CaptivePortalQuestionnaire";t.CaptivePortalQuestionnaireContext=class extends c{constructor(){super(...arguments),this.stateId=t.CaptivePortalQuestionnaireNavigationId}},t.ShareContactsToConversationNavigationId="ShareContactsToConversation";t.ShareContactsToConversationContext=class extends c{constructor(){super(...arguments),this.stateId=t.ShareContactsToConversationNavigationId}},t.MediaPickerNavigationId="MediaPicker";t.MediaPickerNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.MediaPickerNavigationId}},t.CaptureComboNavigationId="CaptureCombo";t.CaptureComboNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.CaptureComboNavigationId}},t.GalleryNavigationId="Gallery";t.GalleryNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.GalleryNavigationId}},t.FindPanelNavigationId="Find";t.FindPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.FindPanelNavigationId}},t.CallingSettingsPanelNavigationId="CallingSettings";t.CallingSettingsPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.CallingSettingsPanelNavigationId}},t.CallerIdCallingSettingsPanelNavigationId="CallerIdCallingSettings";t.CallerIdCallingSettingsPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.CallerIdCallingSettingsPanelNavigationId}},t.CallerIdNumberCallingSettingsPanelNavigationId="CallerIdNumberCallingSettings";t.CallerIdNumberCallingSettingsPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.CallerIdNumberCallingSettingsPanelNavigationId}},t.AdvancedCallingSettingsPanelNavigationId="AdvancedCallingSettings";t.AdvancedCallingSettingsPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.AdvancedCallingSettingsPanelNavigationId}},t.SubtitlesCallingSettingsPanelNavigationId="SubtitlesCallingSettings";t.SubtitlesCallingSettingsPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SubtitlesCallingSettingsPanelNavigationId}},t.TranslationSettingsPanelNavigationId="TranslationSettings";t.TranslationSettingsPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.TranslationSettingsPanelNavigationId}},t.PreSignOutPanelNavigationId="PreSignOutPanel";t.PreSignOutPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.PreSignOutPanelNavigationId}},t.CallingSettingsEntryNavigationId="CallingSettingsEntry";t.CallingSettingsEntryNavigationContext=class extends c{},t.CallingDebugPanelNavigationId="CallingDebugPanel";t.CallingDebugPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.CallingDebugPanelNavigationId}},t.QuickCallPanelId="QuickCallPanel",t.QuickCallSearchPanelId="QuickCallSearchPanel";class T extends c{constructor(){super(...arguments),this.stateId=t.QuickCallPanelId}}t.QuickCallNavigationContext=T,t.PSTNDialerPanelId="PSTNDialerPanel";t.PSTNDialerNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.PSTNDialerPanelId}},t.PSTNCountrySelectorPanelId="PSTNCountrySelectorPanel";t.PSTNCountrySelectorNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.PSTNCountrySelectorPanelId}},t.E911AcknowledgementPanelId="E911AcknowledgementPanel";t.E911AcknowledgementPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.E911AcknowledgementPanelId}},t.SkypeNumberCountryAreaSelectorPanelId="SkypeNumberCountryAreaSelectorPanel";t.SkypeNumberCountryAreaSelectorNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SkypeNumberCountryAreaSelectorPanelId}},t.SkypeNumberPrefixSelectorPanelId="SkypeNumberPrefixSelectorPanel";t.SkypeNumberPrefixSelectorNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SkypeNumberPrefixSelectorPanelId}},t.SkypeNumberFormOptionSelectorPanelId="SkypeNumberFormOptionSelectorPanel";t.SkypeNumberFormOptionSelectorNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SkypeNumberFormOptionSelectorPanelId}},t.ContactsPanelId="Contacts";class P extends c{constructor(){super(...arguments),this.stateId=t.ContactsPanelId}}t.ContactsPanelV2NavigationContext=P,t.AddContactPanelId="AddContactPanel";t.AddContactPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.AddContactPanelId}},t.AddPhoneNumberPanelNavigationId="AddPhoneNumberPanel";t.AddPhoneNumberPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.AddPhoneNumberPanelNavigationId}},t.AboutPeopleYouMayKnowId="AboutPeopleYouMayKnow";t.AboutPeopleYouMayKnowNavigationContext=class extends c{},t.ActiveNowPanelId="ActiveNowPanel";t.ActiveNowPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.ActiveNowPanelId}},t.ProfileNavigationId="Profile";t.ProfileNavigationState=class{};t.ProfileNavigationContext=class extends c{},t.InviteShareNavigationId="InviteShare";t.InviteShareNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.InviteShareNavigationId}},t.ConversationSharingScreenId="ConversationSharingScreenId";t.ConversationShareNavigationState=class{};t.ConversationShareNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.ConversationSharingScreenId}},t.GuestUpsellNavigationId="GuestUpsell";t.GuestUpsellNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.GuestUpsellNavigationId}};t.GuestUpsellNavigationState=class{},t.SXPlaygroundNavigationId="SXPlayground";t.SXPlaygroundNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SXPlaygroundNavigationId}},t.SendCreditPanelNavigationId="SendCreditPanel";t.SendCreditPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SendCreditPanelNavigationId}},t.TodayTabNavigationId="TodayTab";class k extends c{constructor(){super(...arguments),this.stateId=t.TodayTabNavigationId}}t.TodayTabNavigationContext=k,t.TodayTabInterestsPanelNavigationId="TodayTabInterestsPanel";t.TodayTabInterestsPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.TodayTabInterestsPanelNavigationId}},t.MagicBotToolboxNavigationId="MagicBotToolbox";t.MagicBotToolboxNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.MagicBotToolboxNavigationId}},t.DesktopSettingsGroupNavigationId="DesktopSettingsGroup";t.DesktopSettingsGroupNavigationContext=class extends c{},t.ManageUsersSettingsPanelNavigationId="ManageUsersSettings";t.ManageUsersSettingsPanelNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.ManageUsersSettingsPanelNavigationId}},t.MobileContentPanelId=t.ConversationNavigationId;t.MobileContentPanelNavigationContext=class extends S{constructor(){super(...arguments),this.stateId=t.MobileContentPanelId}setConversationContext(e){this.children[t.ConversationNavigationId]=new f(e)}getConversationContext(){return this.children[t.ConversationNavigationId]}},t.MiniAppNavigationId="MiniAppPrompt";t.MiniAppNavigationPromptContext=class extends c{constructor(){super(...arguments),this.stateId=t.MiniAppNavigationId}};t.DesktopContentPanelNavigationContext=class extends S{constructor(){super(...arguments),this.stateId=t.ConversationNavigationId}setConversationContext(e){this.children[t.ConversationNavigationId]=new f(e)}getConversationContext(){return this.children[t.ConversationNavigationId]}};t.RightSidebarStackContext=class extends g{},t.LeftNavigationViewId="LeftNavView",t.SubtitlesNavigationId="Subtitles";t.SubtitlesNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SubtitlesNavigationId}};class A extends S{setViewMode(e){this.state.viewMode=e}getConversationsListContext(){return this.children[t.ConversationsListNavigationId]||(this.children[t.ConversationsListNavigationId]=new C({currentTab:l.Recents})),this.children[t.ConversationsListNavigationId]}getSearchContext(){return this.children[t.SearchNavigationId]||(this.children[t.SearchNavigationId]=new v({searchOrigin:s.SearchPanelInitiator.Unknown})),this.children[t.SearchNavigationId]}getCallSearchContext(){return this.children[t.QuickCallSearchPanelId]||(this.children[t.QuickCallSearchPanelId]=new T({searchOnly:!0})),this.children[t.QuickCallSearchPanelId]}getConversationInCallContext(){return this.children[t.ConversationInCallNavigationId]}setConversationInCallContext(e){this.children[t.ConversationInCallNavigationId]=new b(e)}getCallsContext(){return this.children[t.QuickCallPanelId]||(this.children[t.QuickCallPanelId]=new T({})),this.children[t.QuickCallPanelId]}getContactsV2Context(){return this.children[t.ContactsPanelId]||(this.children[t.ContactsPanelId]=new P({})),this.children[t.ContactsPanelId]}getNotificationsContext(){return this.children[t.AlertsHubNavigationId]||(this.children[t.AlertsHubNavigationId]=new y({})),this.children[t.AlertsHubNavigationId]}getTodayContext(){return this.children[t.TodayTabNavigationId]||(this.children[t.TodayTabNavigationId]=new k({feedType:o.TodayTabFeedType.Feed,interestPageEnabled:!1})),this.children[t.TodayTabNavigationId]}getArchivedConversationsContext(){return this.children[t.ArchivedConversationsId]||(this.children[t.ArchivedConversationsId]=new _({})),this.children[t.ArchivedConversationsId]}setContext(e,t){return this.children[t]||(this.children[t]=e),this.children[t]}}t.LeftNavigationViewContext=A;class I extends c{}t.SplitMasterNavigationContext=I;t.SettingsMenuContext=class extends I{},t.SpeechConsentNavigationId="SpeechConsent";t.SpeechConsentNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.SpeechConsentNavigationId}},t.TranslationConsentNavigationId="TranslationConsent";t.TranslationConsentNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.TranslationConsentNavigationId}},t.TruVoiceConsentNavigationId="TruVoiceConsent";t.TruVoiceConsentNavigationContext=class extends c{constructor(){super(...arguments),this.stateId=t.TruVoiceConsentNavigationId}};t.RootCompositeSplitViewContext=class extends p{setupDefaults(){super.setupDefaults(),this._navStack=[new m({})],this._masterContext=new A({viewMode:r.Recents})}collapse(e){super.collapse(e),e||0!==this._navStack.length||(this._navStack=[new m({})])}clone(e){const t=Object.create(this);return t._init(this.state),e&&(t.id=this.id),t._navStack=n.clone(this._navStack),t._masterContext=this._masterContext&&this._masterContext.clone?this._masterContext.clone(e):n.clone(this._masterContext),t._isCollapsed=this._isCollapsed,t}getMasterContext(){return super.getMasterContext()}getNavStack(){if(this._isCollapsed){const e=this._masterContext instanceof A?this._masterContext:void 0,t=!!e&&e.state.viewMode!==r.None?n.filter(this._navStack,(e=>!this._shouldFilterNavContext(e))):this._navStack;return e?[e,...t]:t}return this._navStack}getBackStack(){let e=super.getBackStack();return e=n.filter(e,(e=>!(e instanceof A&&e.state.viewMode===r.None))),e}getLeftNavigationContext(){if(this._masterContext instanceof A)return this._masterContext}shouldDisplayMainAreaFullScreen(){return this._displayMainAreaFullScreen}setMainAreaFullScreen(e){this._displayMainAreaFullScreen=e}_shouldFilterNavContext(e){return e instanceof m}},t.SmsFailurePromptId="SmsFailurePrompt";t.SmsFailurePromptContext=class extends c{constructor(){super(...arguments),this.stateId=t.SmsFailurePromptId}},t.TasterPostCallPanelId="TasterPostCallPanel";t.TasterPostCallPanelContext=class extends c{constructor(){super(...arguments),this.stateId=t.TasterPostCallPanelId}},t.ArticleReaderMobileNavigationId="ArticleReaderMobile";class w extends c{}t.ArticleReaderMobileNavigationContext=w;t.ArticleReaderMobilePanelNavigationContext=class extends w{constructor(){super(...arguments),this.stateId=t.ArticleReaderMobileNavigationId}}},948199:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalGestureResponseDistance=t.ConversationHorizontalGestureResponseDistance=t.HorizontalGestureResponseDistance=t.RouteType=void 0;const n=i(496486),o=i(665768),s=i(516778),a=i(974634),r=i(397691),l=i(746096),c=i(915877),d=i(581760),u=i(640363),g=366;var h;!function(e){e[e.Hub=0]="Hub",e[e.Content=1]="Content",e[e.Search=2]="Search",e[e.ContactsPanel=3]="ContactsPanel",e[e.Other=4]="Other"}(h=t.RouteType||(t.RouteType={}));const p=(0,c.lazyProperties)({transparentCard:()=>s.Styles.createViewStyle({backgroundColor:d.Color.transparent})});t.HorizontalGestureResponseDistance=44,t.ConversationHorizontalGestureResponseDistance=120,t.VerticalGestureResponseDistance=150;const S=new class{constructor(){this._transitionInfoId=0,this._transitionInfoEvent=new a.default}transitionInfoEvent(){return this._transitionInfoEvent}isNavigationAnimationFinished(){if(!this._transitionInfo||this._transitionInfo&&!this._transitionInfo.inProgress)return r.Resolved();const e=r.Defer(),t=this.transitionInfoEvent().subscribe((i=>{i.inProgress||(t.unsubscribe(),e.resolve(void 0))}));return e.promise()}transitionHint(){return this._transitionHint}transitionHintForPopCard(){if(this._transitionHint&&this._transitionHint.forPopCard)return this._transitionHint}setTransitionHint(e){this._transitionHint=e}onNavigationStarted(e,t,i){this._transitionInfo={key:this._transitionInfoId++,inProgress:!0,toRoute:t,fromRoute:i,progress:e},this._transitionInfoEvent.fire(this._transitionInfo)}onNavigationCompleted(){this._transitionInfo&&(this._transitionInfo.inProgress=!1,this._transitionInfoEvent.fire(this._transitionInfo))}floatFromRight(e){if(u.default.getPlatformType()===l.PlatformType.iOS){const t={direction:s.NavigationTypes.NavigatorSceneConfigType.FloatFromRight,gestureResponseDistance:e,customSceneConfig:{transitionSpec:{duration:g,easing:o.Easing.SkypeExpoOut5},transitionStyle:(e,t)=>({inputRange:[e-1,e,e+.99,e+1],opacityOutput:[1,1,.3,0],scaleOutput:[1,1,1,1],translateXOutput:[t.width,0,-t.width/4,-t.width/4],translateYOutput:[0,0,0,0]})}};return n.isUndefined(e)||(t.gestureResponseDistance=e),t}const t={direction:s.NavigationTypes.NavigatorSceneConfigType.FloatFromRight};return n.isUndefined(e)||(t.gestureResponseDistance=e),t}floatFromBottom(e){const t={direction:s.NavigationTypes.NavigatorSceneConfigType.FloatFromBottom,customSceneConfig:{transitionSpec:{duration:g,easing:o.Easing.SkypeExpoOut5},transitionStyle:(e,t)=>({inputRange:[e-1,e,e+.99,e+1],opacityOutput:[1,1,.3,0],scaleOutput:[1,1,.95,.95],translateXOutput:[0,0,0,0],translateYOutput:[t.height,0,-10,-10]})}};return n.isUndefined(e)||(t.gestureResponseDistance=e),t}floatFromBottomNoScale(e=!1){return{direction:s.NavigationTypes.NavigatorSceneConfigType.FloatFromBottom,gestureResponseDistance:100,customSceneConfig:{hideShadow:e,cardStyle:e?p.transparentCard:void 0,transitionSpec:{duration:g,easing:o.Easing.SkypeExpoOut5},transitionStyle:(e,t)=>({inputRange:[e-1,e,e+1],opacityOutput:[1,1,1],scaleOutput:[1,1,1],translateXOutput:[0,0,0],translateYOutput:[t.height,0,0]})}}}topQuickFade(){return{gestureResponseDistance:0,direction:s.NavigationTypes.NavigatorSceneConfigType.FloatFromBottom,customSceneConfig:{hideShadow:!0,transitionSpec:{duration:g,easing:o.Easing.SkypeExpoOut5},transitionStyle:(e,t)=>({inputRange:[e-1,e,e+.99,e+1],opacityOutput:[0,1,1,0],scaleOutput:[1,1,1,1],translateXOutput:[0,0,0,0],translateYOutput:[-15,0,0,0]})}}}popCardsQuickFade(){return{gestureResponseDistance:0,direction:s.NavigationTypes.NavigatorSceneConfigType.FloatFromBottom,customSceneConfig:{hideShadow:!0,transitionSpec:{duration:g,easing:o.Easing.SkypeExpoOut5},transitionStyle:(e,t)=>({inputRange:[e-1,e-.5,e,e+.99,e+1],opacityOutput:[0,0,1,1,0],scaleOutput:[1,1,1,1,1],translateXOutput:[0,0,0,0,0],translateYOutput:[0,0,0,0,0]})}}}noTransition(e=!0){return{gestureResponseDistance:0,direction:s.NavigationTypes.NavigatorSceneConfigType.FloatFromBottom,customSceneConfig:{hideShadow:!e,cardStyle:e?void 0:p.transparentCard,transitionSpec:{duration:e?1:0,easing:o.Easing.Linear},transitionStyle:(t,i)=>({inputRange:[t-1,t,t+.99,t+1],opacityOutput:[1,1,1,e?0:1],scaleOutput:[1,1,1,1],translateXOutput:[0,0,0,0],translateYOutput:[0,0,0,0]})}}}fade(){return{direction:s.NavigationTypes.NavigatorSceneConfigType.FadeWithSlide}}sceneConfigForSearchTransition(){return{direction:s.NavigationTypes.NavigatorSceneConfigType.FloatFromBottom,gestureResponseDistance:0,customSceneConfig:{hideShadow:!0,cardStyle:p.transparentCard,transitionSpec:{duration:o.Common.Duration.Default,easing:o.Easing.SkypeExpoOut5},transitionStyle:(e,t)=>({inputRange:[e-1,e-.05,e+.05,e+1],opacityOutput:[0,1,1,0],scaleOutput:[1,1,1,1],translateXOutput:[0,0,0,0],translateYOutput:[0,0,0,0]})}}}isHubContentTransition(){return!!(this._transitionInfo&&this._transitionInfo.fromRoute&&this._transitionInfo.toRoute)&&(!!this._areUniqueRouteTypes(this._transitionInfo.fromRoute,this._transitionInfo.toRoute)&&(this._isHubOrContentRoute(this._transitionInfo.fromRoute)&&this._isHubOrContentRoute(this._transitionInfo.toRoute)))}isHubSearchTransition(){return!!(this._transitionInfo&&this._transitionInfo.fromRoute&&this._transitionInfo.toRoute)&&(!!this._areUniqueRouteTypes(this._transitionInfo.fromRoute,this._transitionInfo.toRoute)&&(this._isHubOrSearchRoute(this._transitionInfo.fromRoute)&&this._isHubOrSearchRoute(this._transitionInfo.toRoute)))}isContactsPanelSearchTransition(){return!!(this._transitionInfo&&this._transitionInfo.fromRoute&&this._transitionInfo.toRoute)&&(!!this._areUniqueRouteTypes(this._transitionInfo.fromRoute,this._transitionInfo.toRoute)&&(this._isContactsPanelOrSearchRoute(this._transitionInfo.fromRoute)&&this._isContactsPanelOrSearchRoute(this._transitionInfo.toRoute)))}isSearchTransition(){return!!(this._transitionInfo&&this._transitionInfo.fromRoute&&this._transitionInfo.toRoute)&&(!!this._areUniqueRouteTypes(this._transitionInfo.fromRoute,this._transitionInfo.toRoute)&&(this._isRouteType(this._transitionInfo.toRoute,[h.Search])||this._isRouteType(this._transitionInfo.fromRoute,[h.Search])))}_areUniqueRouteTypes(e,t){return(e?e.type:h.Other)!==(t?t.type:h.Other)}_isHubOrSearchRoute(e){return this._isRouteType(e,[h.Hub,h.Search])}_isHubOrContentRoute(e){return this._isRouteType(e,[h.Hub,h.Content])}_isContactsPanelOrSearchRoute(e){return this._isRouteType(e,[h.ContactsPanel,h.Search])}_isRouteType(e,t){return n.includes(t,e.type)}test_reset(){this._transitionInfo=void 0}};t.default=S},333326:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.printNotificationTrace=t.prepareDataForNotification=t.descriptionForWarmCallDisposition=t.LocalNotificationIds=void 0;const n=i(496486),o=i(746096),s=i(436237),a=i(914976);!function(e){e.ACTION_DEFAULT="_default_",e.CHAT_CATEGORY_IDENTIFIER="ChatCategoryIdentifier",e.CHAT_ACTION_THUMBSUP_IDENTIFIER="ChatActionThumbsUpIdentifier",e.CHAT_ACTION_REPLY_IDENTIFIER="ChatActionReplyIdentifier",e.CHAT_ACTION_MARK_AS_READ_IDENTIFIER="ChatActionMarkAsReadIdentifier",e.CHAT_ACTION_THUMBSUP_ICON="notification_action_like",e.CHAT_ACTION_REPLY_ICON="notification_action_reply",e.E2EE_CATEGORY_IDENTIFIER="E2eeCategoryIdentifier",e.CHAT_ERROR_CATEGORY_IDENTIFIER="ChatErrorCategoryIdentifier",e.CALL_CATEGORY_IDENTIFIER="CallCategoryIdentifier",e.CALL_ACTION_ACCEPT_IDENTIFIER="CallActionAcceptIdentifier",e.CALL_ACTION_REJECT_IDENTIFIER="CallActionRejectIdentifier",e.CALL_ACTION_DEFAULT="_default_",e.CALL_ACTION_ACCEPT_ICON="notification_action_call",e.CALL_ACTION_REJECT_ICON="call_btn_end",e.MISSED_CALL_CATEGORY_IDENTIFIER="MissedCallCategoryIdentifier",e.MISSED_CALL_BACK_IDENTIFIER="MissedCallBackIdentifier",e.MISSED_CALL_DEFAULT="_default_",e.MISSED_P2P_CALL_CATEGORY_IDENTIFIER="MissedP2PCallCategoryIdentifier",e.GO_LIVE_CATEGORY_IDENTIFIER="GoLiveCategoryIdentifier",e.GO_LIVE_ACTION_JOIN_IDENTIFIER="GoLiveJoinIdentifier",e.GO_LIVE_ACTION_DEFAULT="_default_",e.CALLBACK_REMINDER_CATEGORY_IDENTIFIER="CallbackReminderCategoryIdentifier",e.CALLBACK_REMINDER_ACTION_CALL_IDENTIFIER="CallbackReminderCallIdentifier",e.CALLBACK_REMINDER_ACTION_DEFAULT="_default_",e.DELETE_IDENTIFIER="DeleteNotificationIdentifier",e.NOTIFICATION_FROM_BUBBLE="notificationFromBubble",e.CLEAR_NOTIFICATION_BUBBLE_CONTEXT="clearNotificationBubbleContext",e.INBOUND_VIDEO_CALL_IDENTIFIER="InboundVideoCallIndentifier",e.LOGOUT_REMINDER_IDENTIFIER="LogoutReminderIdentifier",e.MSA_INTERRUPT_REMINDER_IDENTIFIER="MsaInterruptReminderIdentifier",e.SIGNOUT_REMINDER_IDENTIFIER="SignOutReminderIdentifier",e.SIGNIN_REMINDER_IDENTIFIER="SignInReminderIdentifier",e.SCHEDULED_CALL_INVITE="ScheduledCallInvite",e.SCHEDULED_CALL_INVITE_EDIT="ScheduledCallInviteEdit",e.SCHEDULED_CALL_INVITE_ACCEPT="ScheduledCallInviteAccept",e.SCHEDULED_CALL_INVITE_DECLINE="ScheduledCallInviteDecline",e.SCHEDULED_CALL_INVITE_RESPONSE="ScheduledCallInviteResponse",e.SCHEDULED_CALL_PREREMINDER="ScheduledCallPreReminder",e.SCHEDULED_CALL_REMINDER="ScheduledCallReminder",e.POLL_PREREMINDER="PollPreReminder",e.POLL_REMINDER="PollReminder",e.AUTH_BACKGROUND_REFRESH_CATEGORY_IDENTIFIER="AuthBackgroundRefreshIdentifier",e.PRESENCE_CHANGE_IDENTIFIER="PresenceChangeIdentifier",e.OLD_FRIEND_BACK_NOTIFICATION_IDENTIFIER="OldFriendBackNotificationIdentifier"}(t.LocalNotificationIds||(t.LocalNotificationIds={})),t.descriptionForWarmCallDisposition=function(e){switch(e){case o.WarmCallNotificationDisposition.Wasted:return"Wasted";case o.WarmCallNotificationDisposition.AlreadyRunning:return"AlreadyRunning";case o.WarmCallNotificationDisposition.FollowedByNonWarmPush:return"FollowedByNonWarmPush";case o.WarmCallNotificationDisposition.FollowedByForegrounding:return"FollowedByForegrounding";case o.WarmCallNotificationDisposition.FollowedByCall:return"FollowedByCall";default:return"Unknown"}},t.prepareDataForNotification=function(e){return n.omitBy(e,(e=>!e))},t.printNotificationTrace=function(e,t){s.log(o.LogTraceArea.Notifications,"Notification id: "+a.mriOrId(e.id)+" origin: "+t+" enableVibration: "+e.enableVibration+" enableLight: "+e.enableLight+" silent:"+e.silent+" sound:"+e.sound+" grouped: "+(e.groupedNotifications?e.groupedNotifications.length:"No"))}},364956:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(809206),o=i(823113),s=i(516778),a=i(244770),r=i(219784),l=i(47447),c=i(898278),d=i(733754),u=i(640363),g=i(478262),h=i(853374);t.default=new class{getDeniedPrompt(e){const t=this.getDeniedPromptKey(e);return t?d.getString(t):void 0}getDeniedPromptKey(e){switch(e){case g.PermissionType.Camera:return u.default.isElectronOsx()?"CapturePermissions.PermissionCameraDeniedPromptMac":n.BrowserEnvironment.isChrome()?"CapturePermissions.PermissionCameraDeniedPromptChrome":n.BrowserEnvironment.isEngineEdgeHTML()?"CapturePermissions.PermissionCameraDeniedPromptEdge":n.BrowserEnvironment.isEngineWebkit()?"CapturePermissions.PermissionCameraDeniedPromptSafari":n.BrowserEnvironment.isEngineChromium()||n.BrowserEnvironment.isEngineGecko()?"CapturePermissions.PermissionCameraDeniedPromptChromium":void 0;case g.PermissionType.CameraRoll:case g.PermissionType.WriteCameraRoll:0;break;case g.PermissionType.Microphone:return u.default.isElectronOsx()?"CapturePermissions.PermissionMicrophoneDeniedPromptMac":n.BrowserEnvironment.isChrome()?"CapturePermissions.PermissionMicrophoneDeniedPromptChrome":n.BrowserEnvironment.isEngineEdgeHTML()?"CapturePermissions.PermissionMicrophoneDeniedPromptEdge":n.BrowserEnvironment.isEngineWebkit()?"CapturePermissions.PermissionMicrophoneDeniedPromptSafari":n.BrowserEnvironment.isEngineChromium()||n.BrowserEnvironment.isEngineGecko()?"CapturePermissions.PermissionMicrophoneDeniedPromptChromium":void 0;case g.PermissionType.MicrophoneAndCamera:if(u.default.isElectronOsx())return"CapturePermissions.PermissionMicrophoneAndCameraDeniedPromptMac";break;case g.PermissionType.Contacts:case g.PermissionType.Notifications:case g.PermissionType.Location:case g.PermissionType.LocationAlways:case g.PermissionType.Calendar:0;break;case g.PermissionType.ScreenRecording:if(u.default.isElectronOsx())return"CapturePermissions.PermissionScreenRecordingDeniedPrompt";break;case g.PermissionType.DrawOver:break;case g.PermissionType.ReadPhoneState:0;break;case g.PermissionType.BackgroundExecution:break;default:h.default.switchStatementExhaustiveChecking(e)}}_getDeniedPromptWithSettings(e){switch(e){case g.PermissionType.Location:case g.PermissionType.LocationAlways:0}return this.getDeniedPrompt(e)}getPrePrompt(e){switch(e){case g.PermissionType.Camera:return d.getString("CapturePermissions.PermissionCameraPrePrompt");case g.PermissionType.CameraRoll:case g.PermissionType.WriteCameraRoll:return d.getString("CapturePermissions.PermissionCameraRollPrePrompt");case g.PermissionType.Microphone:return d.getString("CapturePermissions.PermissionMicrophonePrePrompt");case g.PermissionType.ReadPhoneState:return d.getString("CapturePermissions.PermissionPhonePrePrompt");case g.PermissionType.Contacts:return d.getString("CapturePermissions.PermissionContactsPrePrompt");case g.PermissionType.Location:case g.PermissionType.LocationAlways:return d.getString("CapturePermissions.PermissionLocationPrePrompt");case g.PermissionType.Calendar:return d.getString("CapturePermissions.PermissionCalendarPrePrompt");case g.PermissionType.ScreenRecording:return d.getString("CapturePermissions.PermissionScreenRecordingPrePrompt")}}getPromptTitle(e){switch(e){case g.PermissionType.Camera:return d.getString("CapturePermissions.PermissionCamera");case g.PermissionType.CameraRoll:case g.PermissionType.WriteCameraRoll:return d.getString("CapturePermissions.PermissionCameraRoll");case g.PermissionType.Microphone:return d.getString("CapturePermissions.PermissionMicrophone");case g.PermissionType.MicrophoneAndCamera:return d.getString("CapturePermissions.PermissionMicrophoneAndCamera");case g.PermissionType.Contacts:return d.getString("CapturePermissions.PermissionContacts");case g.PermissionType.Notifications:return d.getString("CapturePermissions.PermissionNotifications");case g.PermissionType.Location:case g.PermissionType.LocationAlways:return d.getString("CapturePermissions.PermissionLocation");case g.PermissionType.Calendar:return d.getString("CapturePermissions.PermissionCalendar");case g.PermissionType.ScreenRecording:return d.getString("CapturePermissions.PermissionScreenRecording");case g.PermissionType.ReadPhoneState:return d.getString("CapturePermissions.PermissionPhone");case g.PermissionType.DrawOver:case g.PermissionType.BackgroundExecution:return"";default:return h.default.switchStatementExhaustiveChecking(e)}}descriptorForPermissionType(e){switch(e){case g.PermissionType.Camera:return"Camera";case g.PermissionType.CameraRoll:return"CameraRoll";case g.PermissionType.WriteCameraRoll:return"WriteCameraRoll";case g.PermissionType.Microphone:return"Mic";case g.PermissionType.MicrophoneAndCamera:return"MicAndCamera";case g.PermissionType.Contacts:return"Contacts";case g.PermissionType.Notifications:return"Notifications";case g.PermissionType.Location:case g.PermissionType.LocationAlways:return"Location";case g.PermissionType.BackgroundExecution:return"BackgroundExecution";case g.PermissionType.Calendar:return"Calendar";case g.PermissionType.ScreenRecording:return"ScreenRecording";case g.PermissionType.ReadPhoneState:return"ReadPhoneState";case g.PermissionType.DrawOver:break;default:h.default.switchStatementExhaustiveChecking(e)}}showDeniedPromptWithSettingsOption(e,t,i,o){e===g.PermissionType.Camera?this._showDeniedWebEscalationPromptWithImage(t,g.PermissionType.Camera,o):e===g.PermissionType.Microphone&&n.BrowserEnvironment.isSafari()?this._showDeniedWebEscalationPromptWithImage(t,g.PermissionType.Microphone):this._showDeniedPrompt(e,!0,t,i)}getDeniedImageSourceBrowser(e){if(this._isSupportedBrowserForCalling())return n.BrowserEnvironment.isChrome()?u.default.isEdgeShoreline()?e?a.Collection.WEB_EDGE_SHORELINE_PERMISSIONS_DARK:a.Collection.WEB_EDGE_SHORELINE_PERMISSIONS_LIGHT:a.Collection.WEB_CHROME_PERMISSIONS:n.BrowserEnvironment.isSafari()?a.Collection.WEB_SAFARI_PERMISSIONS_DENIED:a.Collection.WEB_EDGE_PERMISSIONS}getPermissionDeniedText(e){if(!this._isSupportedBrowserForCalling())return;let t;switch(e){case g.PermissionType.Camera:t="AugmentedPermissions.CameraDeficiencyMainDisplayTextEdge",n.BrowserEnvironment.isEngineChromium()?(t="AugmentedPermissions.CameraDeficiencyMainDisplayTextChrome",u.default.isEdgeShoreline()&&(t="AugmentedPermissions.CameraDeficiencyMainDisplayTextEdgeShoreline")):n.BrowserEnvironment.isEngineWebkit()?t="AugmentedPermissions.CameraDeficiencyMainDisplayTextSafari":n.BrowserEnvironment.isEngineGecko()&&(t="AugmentedPermissions.CameraDeficiencyMainDisplayTextFirefox");break;case g.PermissionType.Microphone:t="AugmentedPermissions.MicrophoneDeficiencyMainDisplayTextEdge",n.BrowserEnvironment.isEngineChromium()?(t="AugmentedPermissions.MicrophoneDeficiencyMainDisplayTextChrome",u.default.isEdgeShoreline()&&(t="AugmentedPermissions.MicrophoneDeficiencyMainDisplayTextEdgeShoreline")):n.BrowserEnvironment.isEngineWebkit()?t="AugmentedPermissions.MicrophoneDeficiencyMainDisplayTextSafari":n.BrowserEnvironment.isEngineGecko()&&(t="AugmentedPermissions.MicrophoneDeficiencyMainDisplayTextFirefox");break;case g.PermissionType.MicrophoneAndCamera:t="AugmentedPermissions.MicrophoneAndCameraDeficiencyMainDisplayTextEdge",n.BrowserEnvironment.isEngineChromium()?(t="AugmentedPermissions.MicrophoneAndCameraDeficiencyMainDisplayTextChrome",u.default.isEdgeShoreline()&&(t="AugmentedPermissions.MicrophoneAndCameraDeficiencyMainDisplayTextEdgeShoreline")):n.BrowserEnvironment.isEngineWebkit()?t="AugmentedPermissions.MicrophoneAndCameraDeficiencyMainDisplayTextSafari":n.BrowserEnvironment.isEngineGecko()&&(t="AugmentedPermissions.MicrophoneAndCameraDeficiencyMainDisplayTextFirefox");break;case g.PermissionType.Notifications:u.default.isEdgeShoreline()&&(t="AugmentedPermissions.NotificationDeficiencyMainDisplayTextEdgeShoreline")}return t?d.getString(t):void 0}_isSupportedBrowserForCalling(){return l.CallingCapabilities.anyCallingSupported()}_getImageResizeMode(){return n.BrowserEnvironment.isSafari()?c.ImageResizeModeEnum.contain:c.ImageResizeModeEnum.cover}_getTitleForEscalation(e){return e===g.PermissionType.Camera?d.getString("AugmentedPermissions.VideoEscalationPromptTitle"):e===g.PermissionType.Microphone?d.getString("AugmentedPermissions.MicEscalationPromptTitle"):""}_showDeniedWebEscalationPromptWithImage(e,t,i){const n=[{text:d.getString("Global.CancelLabel")}],o=this.getDeniedImageSourceBrowser(i),s=this.getPermissionDeniedText(t);if(!o||!s)return;const a={centerImageInAlert:!0,width:420,height:200,source:o};r.default.showCustomAlertWithOptions({rootViewId:e,buttons:n,imageSource:a,accessibilityTitle:s,dialogTitle:this._getTitleForEscalation(t),dialogText:s,imageResizeMode:this._getImageResizeMode()})}_showDeniedPrompt(e,t,i,n){const o=this.getPromptTitle(e),a=t?this._getDeniedPromptWithSettings(e):this.getDeniedPrompt(e),c=[{text:d.getString("Global.CancelLabel")}];(t&&l.UICapabilities.systemSettingsDeepLinkSupported()||t&&n)&&c.push({text:d.getString("CapturePermissions.AlertSettingsButtonTitle"),onPress:n||(()=>{s.Linking.openUrl("app-settings:")})}),r.default.showWithOptions({title:o,dialogAccessibilityTitle:a||o,message:a,buttons:c,rootViewId:i,useFocussedWindowFallback:!0})}showLimitedCameraRollPrompt(e,t){const i=d.getString("CapturePermissions.PermissionCameraRollLimitedTitle"),n=d.getString("CapturePermissions.PermissionCameraRollLimitedText"),s=[{text:d.getString("CapturePermissions.PermissionCameraRollLimitedChangeButton"),onPress:t||(()=>{o.default.cameraRollLimitedCheck()})}];s.push({text:d.getString("CapturePermissions.PermissionCameraRollLimitedKeepButton")}),r.default.showWithOptions({title:i,dialogAccessibilityTitle:n||i,message:n,buttons:s,rootViewId:e,useFocussedWindowFallback:!0})}}},672997:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WidthBreakPoints=void 0;const n=i(478262);t.WidthBreakPoints={minDesktop:450,tiny:760,small:896,medium:1280};t.default=class{static responsiveWidthForSize(e){return e<=t.WidthBreakPoints.minDesktop?n.ResponsiveWidth.MinDesktop:e<=t.WidthBreakPoints.tiny?n.ResponsiveWidth.Tiny:e<=t.WidthBreakPoints.small?n.ResponsiveWidth.Small:e<=t.WidthBreakPoints.medium?n.ResponsiveWidth.Medium:n.ResponsiveWidth.Large}}},450795:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationDuration=void 0;const n=i(665768);t.AnimationDuration=n.Common.Duration;const o=n.timing;t.default=o},78780:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SXAnimations=void 0;const n=i(402840),o={key:"default",parameters:{color:"#000000",rgbColor:"[0, 0, 0, 0]"}};class s{get SPLASH_LOADER(){return{key:"SPLASH_LOADER",source:n.default.SPLASH_LOADER,intrinsicSize:{width:375,height:375}}}get SPLASH_LOADER_NEXT(){return{key:"SPLASH_LOADER_NEXT",source:n.default.SPLASH_LOADER_NEXT,intrinsicSize:{width:160,height:160}}}get CAPTURE_PHOTO(){return{key:"CAPTURE_PHOTO",source:n.default.CAPTURE_PHOTO,intrinsicSize:{width:117,height:117}}}get CAPTURE_RECORD_PROGRESS_60_SECONDS(){return{key:"CAPTURE_RECORD_PROGRESS_60_SECONDS",source:n.default.CAPTURE_RECORD_PROGRESS_60_SECONDS,intrinsicSize:{width:80,height:80}}}get CIRCLE_SPINNER(){return{key:"CIRCLE_SPINNER",source:n.default.CIRCLE_SPINNER,defaultTemplateContext:o,intrinsicSize:{width:200,height:200}}}get CIRCLE_SPINNER_80(){return{key:"CIRCLE_SPINNER_80",source:n.default.CIRCLE_SPINNER_80,defaultTemplateContext:o,intrinsicSize:{width:80,height:80}}}get CIRCLE_SPINNER_40(){return{key:"CIRCLE_SPINNER_40",source:n.default.CIRCLE_SPINNER_40,defaultTemplateContext:o,intrinsicSize:{width:40,height:40}}}get CIRCLE_STEP0(){return{key:"CIRCLE_STEP0",source:n.default.CIRCLE_STEP0,defaultTemplateContext:o,intrinsicSize:{width:200,height:200}}}get CIRCLE_STEP1(){return{key:"CIRCLE_STEP1",source:n.default.CIRCLE_STEP1,defaultTemplateContext:o,intrinsicSize:{width:200,height:200}}}get CIRCLE_STEP2(){return{key:"CIRCLE_STEP2",source:n.default.CIRCLE_STEP2,defaultTemplateContext:o,intrinsicSize:{width:200,height:200}}}get CIRCLE_STEP3(){return{key:"CIRCLE_STEP3",source:n.default.CIRCLE_STEP3,defaultTemplateContext:o,intrinsicSize:{width:200,height:200}}}get CIRCLE_STEP4(){return{key:"CIRCLE_STEP4",source:n.default.CIRCLE_STEP4,defaultTemplateContext:o,intrinsicSize:{width:200,height:200}}}get PAGINATION(){return{key:"PAGINATION",source:n.default.PAGINATION,intrinsicSize:{width:20,height:20}}}get ONBOARDING_SYNC_ADDRESSBOOK(){return{key:"ONBOARDING_SYNC_ADDRESSBOOK",source:n.default.ONBOARDING_SYNC_ADDRESSBOOK,intrinsicSize:{width:375,height:300}}}get CELEBRATION_ICBC(){return{key:"CELEBRATION_ICBC",source:n.default.CELEBRATION_ICBC,intrinsicSize:{width:2500,height:2e3}}}get CELEBRATION_ICBC_PORTRAIT(){return{key:"CELEBRATION_ICBC_PORTRAIT",source:n.default.CELEBRATION_ICBC_PORTRAIT,intrinsicSize:{width:750,height:1334}}}get BEER(){return{key:"BEER",source:n.default.BEER,intrinsicSize:{width:2500,height:2e3}}}get CLAP(){return{key:"CLAP",source:n.default.CLAP,intrinsicSize:{width:2500,height:2e3}}}get DROPTHEMIC(){return{key:"DROPTHEMIC",source:n.default.DROPTHEMIC,intrinsicSize:{width:2500,height:2e3}}}get FACEPALM(){return{key:"FACEPALM",source:n.default.FACEPALM,intrinsicSize:{width:2500,height:2e3}}}get FIRE(){return{key:"FIRE",source:n.default.FIRE,intrinsicSize:{width:2500,height:2e3}}}get HEART(){return{key:"HEART",source:n.default.HEART,intrinsicSize:{width:2500,height:2e3}}}get HIGHFIVE(){return{key:"HIGHFIVE",source:n.default.HIGHFIVE,intrinsicSize:{width:2500,height:2e3}}}get LAUGH(){return{key:"LAUGH",source:n.default.LAUGH,intrinsicSize:{width:2500,height:2e3}}}get MISTLETOE(){return{key:"MISTLETOE",source:n.default.MISTLETOE,intrinsicSize:{width:2500,height:2e3}}}get PENGUIN(){return{key:"PENGUIN",source:n.default.PENGUIN,intrinsicSize:{width:2500,height:2e3}}}get RUDOLFSURPRISE(){return{key:"RUDOLFSURPRISE",source:n.default.RUDOLFSURPRISE,intrinsicSize:{width:2500,height:2e3}}}get SAD(){return{key:"SAD",source:n.default.SAD,intrinsicSize:{width:2500,height:2e3}}}get SARCASTIC(){return{key:"SARCASTIC",source:n.default.SARCASTIC,intrinsicSize:{width:2500,height:2e3}}}get SNOWFLAKE(){return{key:"SNOWFLAKE",source:n.default.SNOWFLAKE,intrinsicSize:{width:2500,height:2e3}}}get SURPRISED(){return{key:"SURPRISED",source:n.default.SURPRISED,intrinsicSize:{width:2500,height:2e3}}}get XMASCWL(){return{key:"XMASCWL",source:n.default.XMASCWL,intrinsicSize:{width:2500,height:2e3}}}get XMASYES(){return{key:"XMASYES",source:n.default.XMASYES,intrinsicSize:{width:2500,height:2e3}}}get YES(){return{key:"YES",source:n.default.YES,intrinsicSize:{width:2500,height:2e3}}}}t.SXAnimations=s,t.default=new s},589667:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isAgnosticGradientColor=t.getButtonsAgnosticGradientFillColor=void 0;const n=i(581760);t.getButtonsAgnosticGradientFillColor=function(e){return n.ButtonAgnosticGradientFillColorsMappings[e]},t.isAgnosticGradientColor=function(e){return void 0!==e&&void 0!==n.AgnosticGradientFillButtonColors[e]}},311010:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(516778),o=i(535438),s=i(898278),a=i(915877),r=i(581760),l=i(600212),c=i(163841),d=i(418037),u=i(853374);class g{static _textStyle(e,t){return g._createTextStyle(e,t)}static _createTextStyle(e,t){const i=[e.toString(),"|",t.toString()].join("");let o=g.textStylesCache[i];if(!o){const s=l.default.themeStylesForTheme(t);let a,r;switch(e){case c.TextStyleCategories.Subtitle:a=g.fontStyle.subtitle,r=s.secondaryTextColorStyle;break;case c.TextStyleCategories.Caption:a=g.fontStyle.caption,r=s.secondaryTextColorStyle;break;case c.TextStyleCategories.SelectedCaption:a=g.fontStyle.captionSelected,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.CaptionSmall:a=g.fontStyle.captionSmall,r=s.secondaryTextColorStyle;break;case c.TextStyleCategories.SelectedCaptionSmall:a=g.fontStyle.captionSmallBold,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.RowTitle:a=g.fontStyle.rowTitle,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.Body:a=g.fontStyle.body,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.BodyBold:a=g.fontStyle.bodyBold,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.BodyBig:a=g.fontStyle.bodyBigDeprecated,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.BodyBigBold:a=g.fontStyle.bodyBigBoldDeprecated,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.BodySmall:a=g.fontStyle.bodySmallDeprecated,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.BodySmallBold:a=g.fontStyle.bodySmallBoldDeprecated,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.MessagingHeader:a=g.fontStyle.messagingHeader,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.MessagingHeaderSmall:a=g.fontStyle.messagingHeaderSmall,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.CardTitle:a=g.fontStyle.cardTitle,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.CardTitleSmall:a=g.fontStyle.cardTitleSmall,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.PanelHeader:a=g.fontStyle.panelHeader,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.PanelHeaderLandscape:a=g.fontStyle.panelHeaderLandscape,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.CallHeaderSubtitleV2:a=g.fontStyle.callHeaderSubtitleV2,r=s.secondaryTextColorStyle;break;case c.TextStyleCategories.ModernizeChatSmallHeaderTitle:a=g.fontStyle.messagingStreamChatHeader,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.ModernizeChatSmallHeaderTitleMobile:a=g.fontStyle.messagingStreamChatHeaderMobile,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.NativeHeaderMobile:a=g.fontStyle.nativeHeader,r=s.primaryTextColorStyle;break;case c.TextStyleCategories.NativeHeaderMobileSamll:a=g.fontStyle.nativeHeaderSmall,r=s.primaryTextColorStyle;break;default:u.default.switchStatementExhaustiveChecking(e)}o=n.Styles.combine(a||[],r||[]),g.textStylesCache[i]=o}return o}static rowTitleFontStyle(e){const t=null!=e?e:d.default.colorThemeNoSubscription();return g._textStyle(c.TextStyleCategories.RowTitle,t)}static subtitleFontStyle(e){const t=null!=e?e:d.default.colorThemeNoSubscription();return g._textStyle(c.TextStyleCategories.Subtitle,t)}static callHeaderSubtitleFontStyle(e,t){const i=null!=e?e:d.default.colorThemeNoSubscription(),n=t?c.TextStyleCategories.CallHeaderSubtitleV2:c.TextStyleCategories.Subtitle;return g._textStyle(n,i)}static captionFontStyle(e){const t=null!=e?e:d.default.colorThemeNoSubscription();return g._textStyle(c.TextStyleCategories.Caption,t)}static selectedCaptionFontStyle(e){const t=null!=e?e:d.default.colorThemeNoSubscription();return g._textStyle(c.TextStyleCategories.SelectedCaption,t)}static captionSmallFontStyle(e){const t=null!=e?e:d.default.colorThemeNoSubscription();return g._textStyle(c.TextStyleCategories.CaptionSmall,t)}static selectedCaptionSmallFontStyle(e){const t=null!=e?e:d.default.colorThemeNoSubscription();return g._textStyle(c.TextStyleCategories.SelectedCaptionSmall,t)}static bodyFontStyle(e,t){const i=null!=e?e:d.default.colorThemeNoSubscription();let n;switch(t){case s.BodyTextSize.BigDeprecated:n=c.TextStyleCategories.BodyBig;break;case s.BodyTextSize.SmallDeprecated:n=c.TextStyleCategories.BodySmall;break;default:n=c.TextStyleCategories.Body}return g._textStyle(n,i)}static bodyBoldFontStyle(e,t){const i=null!=e?e:d.default.colorThemeNoSubscription();let n;switch(t){case s.BodyTextSize.BigDeprecated:n=c.TextStyleCategories.BodyBigBold;break;case s.BodyTextSize.SmallDeprecated:n=c.TextStyleCategories.BodySmallBold;break;default:n=c.TextStyleCategories.BodyBold}return g._textStyle(n,i)}static cardTitleFontStyle(e,t){const i=null!=e?e:d.default.colorThemeNoSubscription();return g._textStyle(t?c.TextStyleCategories.CardTitleSmall:c.TextStyleCategories.CardTitle,i)}static messagingHeaderFontStyle(e,t,i,n){const o=null!=i?i:d.default.colorThemeNoSubscription();return e?g.rowTitleFontStyle(o):g._textStyle(t||n?c.TextStyleCategories.MessagingHeaderSmall:c.TextStyleCategories.MessagingHeader,o)}static panelHeaderFontStyle(e=!1,t){const i=null!=t?t:d.default.colorThemeNoSubscription();return g._textStyle(e?c.TextStyleCategories.PanelHeaderLandscape:c.TextStyleCategories.PanelHeader,i)}static modernizeSmallPanelHeaderFontStyle(e){const t=null!=e?e:d.default.colorThemeNoSubscription();return g._textStyle(c.TextStyleCategories.ModernizeChatSmallHeaderTitle,t)}static modernizeSmallHeaderMobileFontStyle(e,t,i){const n=null!=e?e:d.default.colorThemeNoSubscription();return t?g._textStyle(c.TextStyleCategories.NativeHeaderMobileSamll,n):i?g._textStyle(c.TextStyleCategories.NativeHeaderMobile,n):g._textStyle(c.TextStyleCategories.ModernizeChatSmallHeaderTitleMobile,n)}}g.textStylesCache={},g.fontSize={size12:12,size13Deprecated:13,size14:14,size15:15,size16:16,size17:17,size18:18,size20:20,size26:26,size32:32},g.controlFontSize={h0:50,h1:42,h2:40,h3:36,h4:26,h5:22,smallBadge:10,tinyBadge:8,caption:12,captionSmall:10,captionTiny:9,subtitle:12,body:15,bodyBigDeprecated:16,bodySmallDeprecated:14,button:15,smallButton:12,largeButton:18,rowTitle:15,modernizeRowTitle:17,actionButtonLabel:11,tabHeader:15,tabHeaderSmall:13,messagingHeaderSmall:20,panelHeader:18,panelHeaderTiny:15,panelHeaderLarge:24,headerSizeSmall:24,cardTitle:18,cardTitleSmall:15,searchInput:14,searchInputMobile:15,searchFiltersTab:14,dialpadNumber:32,dialpadNumberLarge:36,adaptiveCardTiny:10,adaptiveCardSmall:11,adaptiveCardDefault:12,adaptiveCardMedium:14,adaptiveCardLarge:16,adaptiveCardMediumLarge:20,adaptiveCardExtraLarge:24,filterText:13,captureMarkupText:22,dialpadInput:22,callHeaderTitleV2:12,callHeaderSubtitleV2:12,messageComposerMobile:16,messageComposerDesktop:14,messageStreamItemMobile:17,messageStreamItemDesktop:14,messageStreamQuoteAttributeMobile:14,messageStreamQuoteAttributeDesktop:12,webFooter:11,screenShareZoomControlActiveItem:14,screenShareZoomControlNonActiveItem:10,illustrationScreenHeaderRN:30,illustrationScreenHeader:24,illustrationScreenBody:14,articleDigestTitle:13,articleDigestSubtitle:11},g.tabUnderlineHeight=2,g.messageTextLineHeight=22,g.maxContentSizeMultiplier=1.353,g.fontFamily={monospace:o.Collection.MONOSPACE,uidDisplaySemibold:o.Collection.DISPLAY_SEMIBOLD,uidDisplayRegular:o.Collection.DISPLAY_REGULAR,uidDisplayBold:o.Collection.DISPLAY_BOLD},g._fontFamily={uidDisplayLight:o.Collection.DISPLAY_LIGHT,uidDisplaySemibold:o.Collection.DISPLAY_SEMIBOLD},g.font={uiDisplayRegular:{fontFamily:g.fontFamily.uidDisplayRegular,fontWeight:s.FontWeight.regular},uiDisplaySemibold:{fontFamily:g._fontFamily.uidDisplaySemibold,fontWeight:s.FontWeight.regular},uiDisplayBold:{fontFamily:g.fontFamily.uidDisplayBold,fontWeight:s.FontWeight.regular},skypeTitle:{fontFamily:g.fontFamily.uidDisplayBold,fontWeight:s.FontWeight.bold}},g._fontNext={uiDisplayLight:{fontFamily:g._fontFamily.uidDisplayLight}},g.fontStyle=(0,a.lazyProperties)({h0:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.h0,color:r.Color.gray400}),h1:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.h1,color:r.Color.gray400}),h2:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.h2,color:r.Color.gray400}),h3:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.h3,color:r.Color.gray400}),h4:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.h4,color:r.Color.gray400}),h5:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.h5}),body:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.body}),bodyBold:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.body}),bodyBigDeprecated:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.bodyBigDeprecated}),bodyBigBoldDeprecated:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.bodyBigDeprecated}),bodySmallDeprecated:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.bodySmallDeprecated}),bodySmallBoldDeprecated:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.bodySmallDeprecated}),caption:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.caption,color:r.Color.gray300}),captionSelected:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.caption}),captionSmall:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.captionSmall,color:r.Color.gray300}),captionSmallBold:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.captionSmall}),primaryButtonLarge:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.largeButton,textAlign:"center"}),secondaryButton:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.largeButton}),tertiaryButton:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.smallButton}),rowTitle:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.rowTitle,color:r.Color.gray400}),modernizeRowTitle:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.modernizeRowTitle,lineHeight:22}),subtitle:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.subtitle,color:r.Color.gray300}),callHeaderTitleV2:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.callHeaderTitleV2}),callHeaderSubtitleV2:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.controlFontSize.callHeaderTitleV2,color:r.Color.gray100}),messagingHeader:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.panelHeaderLarge}),messagingHeaderSmall:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.messagingHeaderSmall}),messagingStreamChatSubHeader:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.fontSize.size14,lineHeight:18}),messagingStreamChatSubHeaderMobile:()=>n.Styles.createTextStyle({font:g.font.uiDisplayRegular,fontSize:g.fontSize.size15,lineHeight:20}),panelHeader:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.panelHeader}),panelHeaderLandscape:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.panelHeaderTiny}),cardTitle:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.cardTitle,color:r.Color.gray400}),cardTitleSmall:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.cardTitleSmall,color:r.Color.gray400}),cardAction:()=>n.Styles.createTextStyle({font:g.font.uiDisplayBold,fontSize:g.controlFontSize.button}),semibold14:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size14}),semibold15:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size15}),semibold16:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size16}),messagingStreamChatHeader:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size16,lineHeight:20}),messagingStreamChatHeaderMobile:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size17,lineHeight:22}),nativeHeader:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size17,lineHeight:17}),nativeHeaderSmall:()=>n.Styles.createTextStyle({font:g.font.uiDisplaySemibold,fontSize:g.fontSize.size14,lineHeight:14})}),g.fontStyleNext=(0,a.lazyProperties)({h0Light:()=>n.Styles.createTextStyle({font:g._fontNext.uiDisplayLight,fontSize:g.controlFontSize.h0,color:r.Color.gray400}),h1Light:()=>n.Styles.createTextStyle({font:g._fontNext.uiDisplayLight,fontSize:g.controlFontSize.h1,color:r.Color.gray400}),h2Light:()=>n.Styles.createTextStyle({font:g._fontNext.uiDisplayLight,fontSize:g.controlFontSize.h2,color:r.Color.gray400}),h3Light:()=>n.Styles.createTextStyle({font:g._fontNext.uiDisplayLight,fontSize:g.controlFontSize.h3,color:r.Color.gray400}),h4Light:()=>n.Styles.createTextStyle({font:g._fontNext.uiDisplayLight,fontSize:g.controlFontSize.h4,color:r.Color.gray400}),h5Light:()=>n.Styles.createTextStyle({font:g._fontNext.uiDisplayLight,fontSize:g.controlFontSize.h5})}),t.default=g},734528:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.okIcon=t.getReplySymbol=t.prevChevron=t.nextChevron=t.navBackIcon=t.navForwardIcon=t.forwardIcon=t.backIcon=t.closeIcon=t.moreIcon=t.shareIcon=void 0;const n=i(746096),o=i(640363),s=i(711828);function a(){return o.default.isRTL()?s.SkypeIcon.Right:s.SkypeIcon.Left}t.shareIcon=function(){switch(o.default.getPlatformType()){case n.PlatformType.iOS:case n.PlatformType.OSX:return s.SkypeIcon.ShareiOS;case n.PlatformType.Android:return s.SkypeIcon.ShareAndroid;default:return s.SkypeIcon.Share}},t.moreIcon=function(){return o.default.getPlatformType()===n.PlatformType.Android?s.SkypeIcon.MoreVertical:s.SkypeIcon.More},t.closeIcon=function(){return o.default.getPlatformType()===n.PlatformType.Android?a():s.SkypeIcon.ClosePanel},t.backIcon=a,t.forwardIcon=function(){return o.default.isRTL()?s.SkypeIcon.Left:s.SkypeIcon.Right},t.navForwardIcon=function(e=!1){return e?o.default.isRTL()?s.SkypeIcon.NavigationBackCentered:s.SkypeIcon.NavigationForwardCentered:o.default.isRTL()?s.SkypeIcon.NavigationBack:s.SkypeIcon.NavigationForward},t.navBackIcon=function(e=!1){return e?o.default.isRTL()?s.SkypeIcon.NavigationForwardCentered:s.SkypeIcon.NavigationBackCentered:o.default.isRTL()?s.SkypeIcon.NavigationForward:s.SkypeIcon.NavigationBack},t.nextChevron=function(){return o.default.isRTL()?s.SkypeIcon.LeftChevron:s.SkypeIcon.RightChevron},t.prevChevron=function(){return o.default.isRTL()?s.SkypeIcon.RightChevron:s.SkypeIcon.LeftChevron},t.getReplySymbol=function(){return s.SkypeIcon.Reply},t.okIcon=function(){return s.SkypeIcon.Ok}},600212:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useSkypeTheme=void 0;const n=i(667294),o=i(516778),s=i(915877),a=i(249603),r=i(581760),l=i(163841),c=i(258187);class d{static _buildTheme(e){const t={primaryTextColorStyle:()=>o.Styles.createTextStyle({color:e.primaryTextColor},!1),headerTextColorStyle:()=>o.Styles.createTextStyle({color:e.headerTextColor},!1),secondaryTextColorStyle:()=>o.Styles.createTextStyle({color:e.secondaryTextColor},!1),tertiaryTextColorStyle:()=>o.Styles.createTextStyle({color:e.tertiaryTextColor},!1),textHoverColorStyle:()=>o.Styles.createTextStyle({color:e.textHoverColor},!1),buttonTextColorStyle:()=>o.Styles.createTextStyle({color:e.buttonTextColor},!1),primaryViewColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.primaryTextColor},!1),secondaryViewColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.secondaryTextColor},!1),dividerColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.dividerColor},!1),dividerForButtonsColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.primaryTextColor},!1),dividerBorderColorStyle:()=>o.Styles.createViewStyle({borderColor:e.dividerColor},!1),headerShadowColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.headerShadowColor},!1),headerShadowBorderColorStyle:()=>o.Styles.createViewStyle({borderColor:e.headerShadowColor},!1),bubbleColorSelfStyle:()=>o.Styles.createViewStyle({backgroundColor:e.bubbleColorSelf},!1),bubbleColorSelfStyleModernize:()=>o.Styles.createViewStyle({backgroundColor:e.bubbleColorSelfModernize},!1),bubbleTextColorSelfStyle:()=>o.Styles.createTextStyle({color:e.bubbleTextColorSelf},!1),primaryIconColorStyle:()=>o.Styles.createTextStyle({color:e.primaryIconColor},!1),headerIconColorStyle:()=>o.Styles.createTextStyle({color:e.headerIconColor},!1),iconHoverColorStyle:()=>o.Styles.createTextStyle({color:e.iconHoverColor},!1),destructiveTextColorStyle:()=>o.Styles.createTextStyle({color:e.destructiveTextColor},!1),destructiveTextHoverColorStyle:()=>o.Styles.createTextStyle({color:e.destructiveTextHoverColor},!1),disclosureArrowColorStyle:()=>o.Styles.createTextStyle({color:e.disclosureArrowColor},!1),rowHighlightViewStyle:()=>o.Styles.createViewStyle({backgroundColor:e.rowHighlightColor},!1),rowHoverViewStyle:()=>o.Styles.createViewStyle({backgroundColor:e.rowHoverColor},!1),secondaryRowHighlightViewStyle:()=>o.Styles.createViewStyle({backgroundColor:e.secondaryRowHighlightColor},!1),secondaryRowHoverViewStyle:()=>o.Styles.createViewStyle({backgroundColor:e.secondaryRowHoverColor},!1),secondaryDividerBorderStyle:()=>o.Styles.createViewStyle({borderColor:e.secondaryDividerColor},!1),searchBoxColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.searchBoxColor},!1),searchPlaceholderTextColorStyle:()=>o.Styles.createTextStyle({color:e.searchPlaceholderTextColor},!1),searchHeaderColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.searchHeaderColor},!1),searchBorderModernizeColorStyle:()=>o.Styles.createViewStyle({borderColor:e.dividerColor,borderWidth:1},!1),searchModernizeColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.searchModernizeColor},!1),pesPickerCategoryColorStyle:()=>o.Styles.createTextStyle({color:e.pesPickerCategoryColor},!1),primaryBackgroundColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.primaryBackgroundColor},!1),primaryBackgroundColorTextStyle:()=>o.Styles.createTextStyle({color:e.primaryBackgroundColor},!1),primaryBorderColorStyle:()=>o.Styles.createViewStyle({borderColor:e.primaryBackgroundColor},!1),secondaryBackgroundColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.secondaryBackgroundColor},!1),disabledTextColorStyle:()=>o.Styles.createTextStyle({color:e.disabledTextColor},!1),messageStreamBackgroundColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.messageStreamBackgroundColor},!1),tabIndicatorColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.tabIndicatorColor},!1),popoverBackgroundColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.popoverBackgroundColor},!1),pillBorderColorStyle:()=>o.Styles.createViewStyle({borderColor:e.pillBorderColor},!1),toggleBorderColorStyle:()=>o.Styles.createViewStyle({borderColor:e.toggleBorderColor},!1),buttonBackgroundColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.buttonBackgroundColor},!1),buttonBackgroundHoverColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.buttonBackgroundHoverColor},!1),viewBorderStyle:()=>o.Styles.createViewStyle({borderColor:e.dividerColor,borderWidth:1},!1),cardColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.cardColor},!1),updateCard:()=>o.Styles.createViewStyle({backgroundColor:e.updateCardBackgroundColor},!1),updateCardHover:()=>o.Styles.createViewStyle({backgroundColor:e.updateCardBackgroundHoverColor},!1),mandatoryUpdateCard:()=>o.Styles.createViewStyle({backgroundColor:e.mandatoryUpdateCardBackgroundColor},!1),mandatoryUpdateCardHover:()=>o.Styles.createViewStyle({backgroundColor:e.mandatoryUpdateCardBackgroundHoverColor},!1),sliderHandleColorStyle:()=>o.Styles.createViewStyle({backgroundColor:e.sliderHandleColor},!1),engagementBannerBackgroundStyle:()=>o.Styles.createViewStyle({backgroundColor:e.engagementBannersContentBackround,borderColor:e.engagementBannersContentBorderColor},!1),engagementBannerTextStyle:()=>o.Styles.createTextStyle({color:e.engagementBannerTextColor},!1)};return e.bubbleColorOther&&(t.bubbleColorOtherStyle=()=>o.Styles.createViewStyle({backgroundColor:e.bubbleColorOther},!1)),e.bubbleTextColorOther&&(t.bubbleTextColorOtherStyle=()=>o.Styles.createTextStyle({color:e.bubbleTextColorOther},!1)),e.bubbleColorBot&&(t.bubbleColorBotStyle=()=>o.Styles.createViewStyle({backgroundColor:e.bubbleColorBot},!1)),e.bubbleTextColorBot&&(t.bubbleTextColorBotStyle=()=>o.Styles.createTextStyle({color:e.bubbleTextColorBot},!1)),e.primaryBadgeColor&&(t.primaryBadgeColorStyle=()=>o.Styles.createViewStyle({backgroundColor:e.primaryBadgeColor},!1)),e.secondaryBadgeColor&&(t.secondaryBadgeColorStyle=()=>o.Styles.createViewStyle({backgroundColor:e.secondaryBadgeColor},!1)),e.primaryBadgeTextColor&&(t.primaryBadgeTextColorStyle=()=>o.Styles.createTextStyle({color:e.primaryBadgeTextColor},!1)),e.notificationColor&&(t.notificationColorStyle=()=>o.Styles.createViewStyle({backgroundColor:e.notificationColor},!1)),e.linkTextColor&&(t.linkTextColorStyle=()=>o.Styles.createTextStyle({color:e.linkTextColor},!1)),e.messageComposerBackgroundColor&&(t.messageComposerBackgroundStyle=()=>o.Styles.createViewStyle({backgroundColor:e.messageComposerBackgroundColor},!1)),e.bubbleReactionColorOther&&(t.bubbleReactionColorOtherStyle=()=>o.Styles.createTextStyle({color:e.bubbleReactionColorOther},!1)),(0,s.lazyProperties)(t)}static buildHighContrastThemeColors(e){return{useCompactLayout:!0,useInitialsForConversationIcon:!0,defaultStatusBarBackgroundColor:e.windowColor,defaultStatusBarTheme:a.BarStyleTheme.Default,primaryBackgroundColor:e.windowColor,secondaryBackgroundColor:e.windowColor,uwpMenuBarColor:e.windowColor,webFooterColor:e.windowColor,primaryTextColor:e.textColor,headerTextColor:e.textColor,secondaryTextColor:e.textColor,tertiaryTextColor:e.textColor,textHoverColor:e.highlightTextColor,buttonTextColor:e.buttonTextColor,dividerColor:e.textColor,headerShadowColor:e.textColor,bubbleColorSelf:e.windowColor,bubbleColorSelfModernize:e.windowColor,bubbleTextColorSelf:e.textColor,bubbleColorBot:e.windowColor,bubbleTextColorBot:e.textColor,messageComposerBackgroundColor:e.windowColor,primaryIconColor:e.buttonTextColor,headerIconColor:e.buttonTextColor,iconDisabledColor:e.grayTextColor,iconHoverColor:e.highlightTextColor,destructiveTextColor:e.textColor,destructiveTextHoverColor:e.highlightTextColor,disclosureArrowColor:e.textColor,rowHighlightColor:e.highlightColor,rowHoverColor:e.highlightColor,secondaryRowHighlightColor:e.highlightColor,secondaryRowHoverColor:e.highlightColor,secondaryDividerColor:e.textColor,searchBoxColor:e.windowColor,searchPlaceholderTextColor:e.textColor,searchHeaderColor:e.windowColor,searchModernizeColor:e.textColor,disabledTextColor:e.grayTextColor,messageStreamBackgroundColor:e.windowColor,tabIndicatorColor:e.textColor,popoverBackgroundColor:e.windowColor,pillBorderColor:e.buttonFaceColor,pesPickerCategoryColor:e.textColor,toggleBorderColor:e.buttonFaceColor,buttonBackgroundColor:e.buttonFaceColor,buttonBackgroundHoverColor:e.highlightColor,cardColor:e.windowColor,secondaryBadgeColor:e.windowColor,updateCardBackgroundColor:e.windowColor,updateCardBackgroundHoverColor:e.highlightColor,mandatoryUpdateCardBackgroundColor:e.windowColor,mandatoryUpdateCardBackgroundHoverColor:e.highlightColor,sliderHandleColor:e.buttonFaceColor,adaptiveCardBackgroundColor:e.windowColor,adaptiveCardBorderColor:e.textColor,adaptiveCardButtonBackgroundColor:e.buttonFaceColor,adaptiveCardButtonBackgroundHoverColor:e.highlightColor,adaptiveCardButtonBackgroundExpandedColor:e.windowColor,adaptiveCardDefaultTextColor:e.textColor,adaptiveCardDarkTextColor:e.textColor,adaptiveCardLightTextColor:e.textColor,adaptiveCardInputUnselectedBorderColor:e.textColor,upgraderButtonBackgroundColor:e.buttonFaceColor,coloredBackgroundTextColor:e.textColor,subtleIconOnThemedBackground:e.grayTextColor}}static themeColorsForTheme(e){switch(e){case l.Theme.Accessible:return d._themeColors.accessible;case l.Theme.Mono:return d._themeColors.mono;case l.Theme.AccessibleDark:return d._themeColors.accessibleDarkV2;case l.Theme.ColorfulDark:return d._themeColors.colorfulDark;case l.Theme.MonoDark:return d._themeColors.monoDark;case l.Theme.ClassicDeprecated:case l.Theme.Delphi:return d._themeColors.delphi;case l.Theme.ClassicDarkDeprecated:case l.Theme.DelphiDark:return d._themeColors.delphiDark;case l.Theme.Colorful:default:return d._themeColors.default}}static themeStylesForTheme(e){switch(e){case l.Theme.Accessible:return d._themeStyles.accessible;case l.Theme.Mono:return d._themeStyles.mono;case l.Theme.AccessibleDark:return d._themeStyles.accessibleDark;case l.Theme.ColorfulDark:return d._themeStyles.colorfulDark;case l.Theme.MonoDark:return d._themeStyles.monoDark;case l.Theme.ClassicDeprecated:case l.Theme.Delphi:return d._themeStyles.delphi;case l.Theme.ClassicDarkDeprecated:case l.Theme.DelphiDark:return d._themeStyles.delphiDark;case l.Theme.Colorful:default:return d._themeStyles.default}}static _buildThemeStyles(){return(0,s.lazyProperties)({default:()=>d._buildTheme(d._themeColors.default),mono:()=>d._buildTheme(d._themeColors.mono),accessible:()=>d._buildTheme(d._themeColors.accessible),accessibleDark:()=>d._buildTheme(d._themeColors.accessibleDarkV2),colorfulDark:()=>d._buildTheme(d._themeColors.colorfulDark),monoDark:()=>d._buildTheme(d._themeColors.monoDark),delphi:()=>d._buildTheme(d._themeColors.delphi),delphiDark:()=>d._buildTheme(d._themeColors.delphiDark)})}}d._lightThemeCommon={updateCardBackgroundColor:r.Color.desktopUpgradeNotificationGreen,updateCardBackgroundHoverColor:r.Color.desktopUpgradeNotificationGreenHover,mandatoryUpdateCardBackgroundColor:r.Color.desktopMandatoryUpgradeNotificationRed,mandatoryUpdateCardBackgroundHoverColor:r.Color.desktopMandatoryUpgradeNotificationRedHover,adaptiveCardBackgroundColor:r.Color.white,adaptiveCardBorderColor:r.Color.gray100,adaptiveCardButtonBackgroundColor:r.Color.gray50,adaptiveCardButtonBackgroundHoverColor:r.Color.gray100,adaptiveCardButtonBackgroundExpandedColor:r.Color.gray200,adaptiveCardDefaultTextColor:r.Color.gray400,adaptiveCardDarkTextColor:r.Color.black,adaptiveCardLightTextColor:r.Color.gray300,adaptiveCardInputUnselectedBorderColor:r.Color.gray300,coloredBackgroundTextColor:r.Color.white,subtleIconOnThemedBackground:r.Color.gray400Overlay50},d._themeColorsDefault=Object.assign({useCompactLayout:!0,useInitialsForConversationIcon:!0,defaultStatusBarBackgroundColor:r.Color.white,defaultStatusBarTheme:a.BarStyleTheme.Dark,primaryBackgroundColor:r.Color.white,secondaryBackgroundColor:r.Color.gray50,uwpMenuBarColor:r.Color.gray100,webFooterColor:r.Color.gray400,primaryTextColor:r.Color.gray400,headerTextColor:r.Color.gray400,secondaryTextColor:r.Color.gray300,tertiaryTextColor:r.Color.gray200,textHoverColor:r.Color.gray300,buttonTextColor:r.Color.gray400,dividerColor:r.Color.gray200,headerShadowColor:r.Color.shadow,bubbleColorSelf:r.Color.gray50,bubbleColorSelfModernize:r.Color.gray50,bubbleTextColorSelf:r.Color.gray400,bubbleColorBot:r.Color.gray50,bubbleTextColorBot:r.Color.gray400,messageComposerBackgroundColor:r.Color.gray50,primaryIconColor:r.Color.gray400,pesPickerCategoryColor:r.Color.gray300,headerIconColor:r.Color.gray400,iconDisabledColor:r.Color.gray300,iconHoverColor:r.Color.gray400Overlay70,destructiveTextColor:r.Color.red,destructiveTextHoverColor:r.Color.pink,disclosureArrowColor:r.Color.gray200,rowHighlightColor:r.Color.gray50,rowHoverColor:r.Color.gray50Overlay50,secondaryRowHighlightColor:r.Color.white,secondaryRowHoverColor:r.Color.leftNavRowHoverColor,secondaryDividerColor:r.Color.black,searchBoxColor:r.Color.gray50,searchPlaceholderTextColor:r.Color.gray300,searchHeaderColor:r.Color.gray50,searchModernizeColor:r.Color.gray50,disabledTextColor:r.Color.gray300,messageStreamBackgroundColor:r.Color.white,tabIndicatorColor:r.Color.black,popoverBackgroundColor:r.Color.white,pillBorderColor:r.Color.gray100,toggleBorderColor:r.Color.gray200,buttonBackgroundColor:r.Color.gray50,buttonBackgroundHoverColor:r.Color.gray100,cardColor:r.Color.gray50,secondaryBadgeColor:r.Color.gray300,sliderHandleColor:r.Color.gray200,upgraderButtonBackgroundColor:r.Color.blueLight,engagementBannersContentBackround:r.Color.gray50Overlay50,engagementBannersContentBorderColor:r.Color.transparent,engagementBannerTextColor:r.Color.gray500},d._lightThemeCommon),d._darkThemeColorsDefault={useCompactLayout:!0,useInitialsForConversationIcon:!0,defaultStatusBarBackgroundColor:r.Color.darkThemeBackground,defaultStatusBarTheme:a.BarStyleTheme.Light,primaryBackgroundColor:r.Color.darkThemeBackground,secondaryBackgroundColor:r.Color.darkThemeSecondaryBackground,uwpMenuBarColor:r.Color.black,webFooterColor:r.Color.gray400,headerTextColor:r.Color.white,primaryTextColor:r.Color.gray100,secondaryTextColor:r.Color.darkThemeSecondaryTextColor,tertiaryTextColor:r.Color.gray300,textHoverColor:r.Color.gray200,buttonTextColor:r.Color.gray100,dividerColor:r.Color.gray400,headerShadowColor:r.Color.gray400,bubbleColorSelf:r.Color.gray400,bubbleColorSelfModernize:r.Color.gray400,bubbleTextColorSelf:r.Color.white,bubbleColorBot:r.Color.gray400,bubbleTextColorBot:r.Color.white,messageComposerBackgroundColor:r.Color.gray400,primaryIconColor:r.Color.darkThemeSecondaryTextColor,pesPickerCategoryColor:r.Color.darkThemeSecondaryTextColor,headerIconColor:r.Color.white,iconDisabledColor:r.Color.gray300,iconHoverColor:r.Color.gray200Overlay60,destructiveTextColor:r.Color.red,destructiveTextHoverColor:r.Color.pink,disclosureArrowColor:r.Color.gray300,rowHighlightColor:r.Color.gray400,rowHoverColor:r.Color.gray400Overlay50,secondaryRowHighlightColor:r.Color.gray400,secondaryRowHoverColor:r.Color.gray400Overlay50,secondaryDividerColor:r.Color.white,searchBoxColor:r.Color.gray400,searchPlaceholderTextColor:r.Color.darkThemeSecondaryTextColor,searchHeaderColor:r.Color.gray400,searchModernizeColor:r.Color.gray400,disabledTextColor:r.Color.gray300,messageStreamBackgroundColor:r.Color.darkThemeBackground,tabIndicatorColor:r.Color.gray100,popoverBackgroundColor:r.Color.black,pillBorderColor:r.Color.gray300,toggleBorderColor:r.Color.gray300,buttonBackgroundColor:r.Color.gray400,buttonBackgroundHoverColor:r.Color.black,popupBorderColor:r.Color.gray400,primaryBadgeTextColor:r.Color.white,cardColor:r.Color.gray400,secondaryBadgeColor:r.Color.gray300,sliderHandleColor:r.Color.gray300,updateCardBackgroundColor:r.Color.gray400Overlay70,updateCardBackgroundHoverColor:r.Color.gray400Overlay80,mandatoryUpdateCardBackgroundColor:r.Color.gray400Overlay70,mandatoryUpdateCardBackgroundHoverColor:r.Color.gray400Overlay70,adaptiveCardBackgroundColor:r.Color.gray400,adaptiveCardBorderColor:r.Color.adaptiveCardDarkThemeBorder,adaptiveCardButtonBackgroundColor:r.Color.gray400,adaptiveCardButtonBackgroundHoverColor:r.Color.gray400Overlay80,adaptiveCardButtonBackgroundExpandedColor:r.Color.gray400Overlay50,adaptiveCardDefaultTextColor:r.Color.gray200,adaptiveCardDarkTextColor:r.Color.gray300,adaptiveCardLightTextColor:r.Color.white,adaptiveCardInputUnselectedBorderColor:r.Color.gray300,upgraderButtonBackgroundColor:r.Color.blueDark,engagementBannersContentBackround:r.Color.darkMessageComposerContentBackground,engagementBannersContentBorderColor:r.Color.transparent,engagementBannerTextColor:r.Color.classicDarkBubbleTextOther,coloredBackgroundTextColor:r.Color.white,subtleIconOnThemedBackground:r.Color.gray200},d._themeColors={default:d._themeColorsDefault,mono:d._themeColorsDefault,delphi:Object.assign(Object.assign({},d._themeColorsDefault),{bubbleColorOther:r.Color.delphiBubbleColorOther,bubbleTextColorOther:r.Color.delphiBubbleText,bubbleReactionColorOther:r.Color.gray300Overlay80,bubbleColorSelf:r.Color.delphiBubbleColorSelf,bubbleColorSelfModernize:r.Color.delphiBubbleColorSelfModernize,bubbleTextColorSelf:r.Color.delphiBubbleText,bubbleColorBot:r.Color.delphiBubbleColorBot,bubbleTextColorBot:r.Color.delphiBubbleText,secondaryBackgroundColor:r.Color.delphiSecondaryBackgroundColor,secondaryRowHighlightColor:r.Color.delphiSecondaryRowHighlightColor,secondaryRowHoverColor:r.Color.delphiSecondaryRowHoverColor,messageComposerBackgroundColor:r.Color.delphiMessageComposerBackgroundColor,primaryTextColor:r.Color.delphiPrimaryTextColor}),accessible:Object.assign(Object.assign({useCompactLayout:!0,useInitialsForConversationIcon:!0,defaultStatusBarBackgroundColor:r.Color.white,defaultStatusBarTheme:a.BarStyleTheme.Dark,primaryBackgroundColor:r.Color.white,secondaryBackgroundColor:r.Color.white,uwpMenuBarColor:r.Color.white,webFooterColor:r.Color.gray400,primaryTextColor:r.Color.gray400,headerTextColor:r.Color.gray400,secondaryTextColor:r.Color.gray400,tertiaryTextColor:r.Color.gray400,textHoverColor:r.Color.gray300,buttonTextColor:r.Color.gray400,dividerColor:r.Color.gray400,headerShadowColor:r.Color.shadow,bubbleColorBot:r.Color.gray50,bubbleTextColorBot:r.Color.gray400,bubbleColorSelf:r.Color.gray50,bubbleColorSelfModernize:r.Color.gray50,bubbleTextColorSelf:r.Color.gray400,bubbleColorOther:r.Color.gray400,messageComposerBackgroundColor:r.Color.gray50,primaryIconColor:r.Color.gray400,headerIconColor:r.Color.gray400,iconDisabledColor:r.Color.gray300,iconHoverColor:r.Color.gray400Overlay70,primaryBadgeColor:r.Color.gray400,pesPickerCategoryColor:r.Color.black,secondaryBadgeColor:r.Color.gray400,primaryBadgeTextColor:r.Color.white,destructiveTextColor:r.Color.gray400,destructiveTextHoverColor:r.Color.gray300,disclosureArrowColor:r.Color.gray400,secondaryDividerColor:r.Color.black,searchBoxColor:r.Color.gray50,searchPlaceholderTextColor:r.Color.gray400,searchHeaderColor:r.Color.gray100,searchModernizeColor:r.Color.white,disabledTextColor:r.Color.gray300,messageStreamBackgroundColor:r.Color.white,tabIndicatorColor:r.Color.black,popoverBackgroundColor:r.Color.white,notificationColor:r.Color.black,pillBorderColor:r.Color.gray100,toggleBorderColor:r.Color.gray200,buttonBackgroundColor:r.Color.gray50,buttonBackgroundHoverColor:r.Color.gray100,cardColor:r.Color.gray50,secondaryRowHighlightColor:r.Color.gray100,secondaryRowHoverColor:r.Color.gray50,rowHighlightColor:r.Color.gray100,rowHoverColor:r.Color.gray50,sliderHandleColor:r.Color.white,upgraderButtonBackgroundColor:r.Color.blueLight,engagementBannersContentBackround:r.Color.white,engagementBannersContentBorderColor:r.Color.black,engagementBannerTextColor:r.Color.gray400},d._lightThemeCommon),{subtleIconOnThemedBackground:r.Color.gray400Overlay80}),accessibleDark:Object.assign(Object.assign({},d._darkThemeColorsDefault),{bubbleColorOther:r.Color.gray50,bubbleTextColorOther:r.Color.gray400,searchModernizeColor:r.Color.black,coloredBackgroundTextColor:r.Color.black,subtleIconOnThemedBackground:r.Color.white}),accessibleDarkV2:Object.assign(Object.assign({},d._darkThemeColorsDefault),{primaryBackgroundColor:r.Color.black,secondaryBackgroundColor:r.Color.black,uwpMenuBarColor:r.Color.black,webFooterColor:r.Color.gray400,primaryTextColor:r.Color.white,headerTextColor:r.Color.white,secondaryTextColor:r.Color.gray50,tertiaryTextColor:r.Color.gray50,bubbleColorOther:r.Color.gray50,bubbleTextColorOther:r.Color.gray400,primaryBadgeColor:r.Color.white,secondaryBadgeColor:r.Color.white,primaryBadgeTextColor:r.Color.gray400,pesPickerCategoryColor:r.Color.gray50,disclosureArrowColor:r.Color.gray50,messageStreamBackgroundColor:r.Color.black,primaryIconColor:r.Color.white,headerIconColor:r.Color.white,iconDisabledColor:r.Color.gray100,iconHoverColor:r.Color.gray100,dividerColor:r.Color.gray100,headerShadowColor:r.Color.gray100,messageComposerBackgroundColor:r.Color.gray400,sliderHandleColor:r.Color.black,searchModernizeColor:r.Color.black,destructiveTextColor:r.Color.white,destructiveTextHoverColor:r.Color.gray100,engagementBannersContentBackround:r.Color.black,engagementBannersContentBorderColor:r.Color.white,engagementBannerTextColor:r.Color.gray100,coloredBackgroundTextColor:r.Color.black,subtleIconOnThemedBackground:r.Color.white}),delphiDark:Object.assign(Object.assign({},d._darkThemeColorsDefault),{bubbleColorOther:r.Color.delphiDarkBubbleColorOther,bubbleTextColorOther:r.Color.delphiDarkBubbleText,bubbleColorSelf:r.Color.delphiDarkBubbleColorSelf,bubbleColorSelfModernize:r.Color.delphiDarkBubbleColorSelf,bubbleTextColorSelf:r.Color.delphiDarkBubbleText,bubbleColorBot:r.Color.delphiDarkBubbleColorBot,bubbleTextColorBot:r.Color.delphiDarkBubbleText,messageStreamBackgroundColor:r.Color.black,primaryTextColor:r.Color.delphiDarkPrimaryTextColor,secondaryTextColor:r.Color.delphiDarkSecondaryTextColor,primaryBackgroundColor:r.Color.classicDarkPrimaryBackground,secondaryBackgroundColor:r.Color.classicDarkSecondaryBackground,secondaryRowHighlightColor:r.Color.classicDarkBubbleSelf,secondaryRowHoverColor:r.Color.classicDarkBubbleOther,buttonBackgroundColor:r.Color.classicDarkBubbleSelf,primaryIconColor:r.Color.classicDarkBubbleTextSelf,headerIconColor:r.Color.classicDarkBubbleTextSelf}),delphiDarkMobile:Object.assign(Object.assign({},d._darkThemeColorsDefault),{bubbleColorOther:r.Color.classicDarkBubbleOther,bubbleTextColorOther:r.Color.classicDarkBubbleTextOther,bubbleColorSelf:r.Color.classicDarkBubbleSelf,bubbleColorSelfModernize:r.Color.classicDarkBubbleSelf,bubbleTextColorSelf:r.Color.classicDarkBubbleTextSelf,bubbleColorBot:r.Color.classicDarkBubbleOther,bubbleTextColorBot:r.Color.classicDarkBubbleTextOther}),colorfulDark:d._darkThemeColorsDefault,monoDark:d._darkThemeColorsDefault},d._themeStyles=d._buildThemeStyles(),t.default=d;t.useSkypeTheme=()=>{const{themeColors:e,mode:t,gradients:i,themeStyles:o}=(0,c.useCommonContext)();return(0,n.useMemo)((()=>({themeColors:e,gradients:i,themeStyles:o,mode:t})),[e,i,t,o])}},681115:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(516778),o=i(746096),s=i(436237);class a{static paddingTopStyle(e){let t=this._cachedPaddingTopStyles[e];return t||(s.log(o.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating paddingTopStyle "+e),t=n.Styles.createViewStyle({paddingTop:e},!1),this._cachedPaddingTopStyles[e]=t),t}static marginTopStyle(e){let t=this._cachedMarginTopStyles[e];return t||(s.log(o.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating marginTopStyle "+e),t=n.Styles.createViewStyle({marginTop:e},!1),this._cachedMarginTopStyles[e]=t),t}static paddingBottomStyle(e){let t=this._cachedPaddingBottomStyles[e];return t||(s.log(o.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating paddingBottomStyle "+e),t=n.Styles.createViewStyle({paddingBottom:e},!1),this._cachedPaddingBottomStyles[e]=t),t}static marginBottomStyle(e){let t=this._cachedMarginBottomStyles[e];return t||(s.log(o.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating marginBottomStyle "+e),t=n.Styles.createViewStyle({marginBottom:e},!1),this._cachedMarginBottomStyles[e]=t),t}static heightStyle(e){let t=this._cachedHeightStyles[e];return t||(s.log(o.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating heightStyle "+e),t=n.Styles.createViewStyle({height:e},!1),this._cachedHeightStyles[e]=t),t}static horizontalPaddingStyle(e){const t=e.left+"_"+e.right;let i=this._cachedHorizontalPaddingStyles[t];return i||(s.log(o.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating horizontalPaddingStyle left: "+e.left+", right: "+e.right),i=n.Styles.createViewStyle({paddingLeft:e.left,paddingRight:e.right},!1),this._cachedHorizontalPaddingStyles[t]=i),i}static horizontalMarginStyle(e){const t=e.left+"_"+e.right;let i=this._cachedHorizontalMarginStyles[t];return i||(s.log(o.LogTraceArea.GenericUnsafe,"SafeAreaStyleUtils: Creating horizontalMarginStyle left: "+e.left+", right: "+e.right),i=n.Styles.createViewStyle({marginLeft:e.left,marginRight:e.right},!1),this._cachedHorizontalMarginStyles[t]=i),i}static hasHorizontalSafeAreas(e){return 0!==e.left||0!==e.right}}a._cachedPaddingTopStyles={},a._cachedMarginTopStyles={},a._cachedPaddingBottomStyles={},a._cachedMarginBottomStyles={},a._cachedHeightStyles={},a._cachedHorizontalPaddingStyles={},a._cachedHorizontalMarginStyles={},t.default=a},185773:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486);t.default=class{constructor(e){this._onFinishHandlers=[],this.finish=(e,t)=>{this.extendContext(t),n.each(this._onFinishHandlers,(t=>{t&&t(e,this._context)}))},this._context=e||{}}get context(){return this._context}start(e){this._rootViewId=e}extendContext(e){this._context=n.extend(this._context,e)}onFinish(e){e&&this._onFinishHandlers.push(e)}}},886045:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(516778);class s{static shouldAnnounceForAccessibility(){return!0}static isMobileScreenReaderEnabled(){return!1}static maybeAnnounceForAccessibility(e,t=void 0){const i=()=>{e&&s.shouldAnnounceForAccessibility()&&o.Accessibility.announceForAccessibility(e)};t?n.delay(i,t):0===t?n.defer(i):i()}}t.default=s},559898:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fetchUWPSettings=t.migrateLocalPreferences=t.migrateDeviceSettings=t.migratePreferredDevices=void 0;const n=i(174958),o=i(496486),s=i(397691),a=i(850781),r=i(994224),l=i(810561),c=i(746096),d=i(436237),u=i(178735),g=i(46929),h=i(649130),p=i(422538),S=i(404057),m=i(853374);function C(e){if(e){const t=e.split("#");if(t.length>=3)return t[2]}}function y(e){return o.isUndefined(e.backgroundReplacementForAllCalls)&&o.isUndefined(e.backgroundReplacementType)?e.blurBackground||e.blurBackgroundForAllCalls?c.BackgroundEffect.Blur:c.BackgroundEffect.Off:e.backgroundReplacementType||e.backgroundReplacementForAllCalls||c.BackgroundEffect.Off}t.migratePreferredDevices=function(e){const t=C(e.camera),i=C(e.microphone),n=C(e.speaker);C(e.secondarySpeaker),a.default.loadCallingBundle().then((()=>{const e=m.default.newCauseId(),s=o.find(r.default.DeviceStore.getSpeakers(),(e=>e.id===n)),a=o.find(r.default.DeviceStore.getMicrophones(),(e=>e.id===i)),l=o.find(r.default.DeviceStore.getCameras(),(e=>e.id===t));d.log(c.LogTraceArea.SISU,"migrateUwpSettings Migrating A/V Setting mic "+a+" cam "+l+" speaker "+s),r.default.DeviceStore.choosePreferredDevices({microphone:a?a.id:void 0,camera:l?l.id:void 0,speaker:s?s.id:void 0},e)}))},t.migrateDeviceSettings=function(e){const t=(0,l.default)();p.EnsureStarted(t).then((()=>{t.migrateSettings(e)}))},t.migrateLocalPreferences=function(e){u.default.setUserPreferencesLocal(e)},t.fetchUWPSettings=function(e){d.log(c.LogTraceArea.SISU,"Checking if UWP settings migration is needed for current MSIX instance...");const t="s4l-"+h.strictForInternalFile(e)+".db";d.log(c.LogTraceArea.SISU,"migrateUwpSettings - Preparing to fetch settings from db "+n.pii.Mri(t)+"!"),g.default.requestUWPToMSIXMigration();const i=window.electronApi.ipcProvider.uwpMigration.fetchSettings.invoke(t).then((e=>{const t={};if(e.localPrefs){const i=S.default.parseJsonErrorable(e.localPrefs);o.isError(i)?d.log(c.LogTraceArea.SISU,"migrateUwpSettings - failed to parse local preferences"):(d.log(c.LogTraceArea.SISU,"migrateUwpSettings - migrating local preferences"),t.localPrefs=i.value)}else d.log(c.LogTraceArea.SISU,"migrateUwpSettings - nothing to migrate for local user preferences");if(e.preferredDevices){const i=S.default.parseJsonErrorable(e.preferredDevices);o.isError(i)?d.log(c.LogTraceArea.SISU,"migrateUwpSettings - failed to parse prefferred devices"):(d.log(c.LogTraceArea.SISU,"migrateUwpSettings - migrating user preferred devices"),t.preferredDevices=i.value)}else d.log(c.LogTraceArea.SISU,"migrateUwpSettings - nothing to migrate for user preferred devices");if(e.deviceStore){const i=S.default.parseJsonErrorable(e.deviceStore);if(o.isError(i))d.log(c.LogTraceArea.SISU,"migrateUwpSettings - failed to parse device store");else{d.log(c.LogTraceArea.SISU,"migrateUwpSettings - migrating device store");const e={agc:i.value.agc,microphoneVolumes:{},speakerVolumes:{},backgroundReplacementType:y(i.value)};o.each(i.value.microphoneVolumes,((t,i)=>{const n=C(i);n&&(e.microphoneVolumes[n]=t)})),o.each(i.value.speakerVolumes,((t,i)=>{const n=C(i);n&&(e.speakerVolumes[n]=t)})),t.deviceSettings=e}}return t})).catch((e=>{let t=e;return e.statusCode&&(t=S.default.errorAsString(e)),d.log(c.LogTraceArea.SISU,"[UWPMigration] Failed to migrate UWP settings, reason: "+t),{}}));return s.fromThenable(i)}},418782:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getUserSpecificServiceName=t.setGenericPasswordIntoKeychain=t.getGenericPasswordFromKeychain=t.setPasswordIntoKeychain=t.getPasswordFromKeychain=t.clearMSARefreshTokenFromKeychain=t.clearSkypeTokenFromKeychain=void 0;const n=i(496486),o=i(548400),s=i(397691),a=i(746096),r=i(436237),l=i(18078),c=i(404057);i(579577);t.clearSkypeTokenFromKeychain=function(){return s.Resolved().catch((e=>{r.error(a.LogTraceArea.TokenStore,"Unable to delete Skype Token from KeyChain "+c.default.errorAsString(e))})).then((()=>!0))},t.clearMSARefreshTokenFromKeychain=function(e){return s.Resolved().catch((e=>{r.error(a.LogTraceArea.TokenStore,"Unable to delete MSAToken from KeyChain "+c.default.errorAsString(e))})).then((()=>!0))},t.getPasswordFromKeychain=function(e){return o.default.getPassword(e,l.default.getSkypeId())},t.setPasswordIntoKeychain=function(e,t){return t?o.default.setPassword(e,l.default.getSkypeId(),t):o.default.deletePassword(e,l.default.getSkypeId()).then(n.noop)},t.getGenericPasswordFromKeychain=function(e){return o.default.getGenericPassword(e)},t.setGenericPasswordIntoKeychain=function(e,t,i){return t?o.default.setGenericPassword(e,t,i):(r.warn(a.LogTraceArea.TokenStore,"_setGenericPasswordIntoKeychain called with empty password, resetting entry"),o.default.resetGenericPassword(i).then(n.noop))},t.getUserSpecificServiceName=function(e){return l.default.getSkypeId()+e}},290298:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SkypeVersionParser=void 0;i(496486);const n=/([0-9]+)?\/?([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)\/*([a-zA-Z0-9]*)\/*/;t.SkypeVersionParser=class{static parse(e){if(!e)return;const t=e.match(n);if(!t)return;return{platformId:parseInt(t[1],10),version:{major:parseInt(t[2],10),minor:parseInt(t[3],10),cobrand:parseInt(t[4],10),build:parseInt(t[5],10)},tag:t.length>6?t[6]:void 0}}static serialize(e){return(e.platformId?e.platformId+"/":"")+e.version.major+"."+e.version.minor+"."+e.version.cobrand+"."+e.version.build+(e.tag?"/"+e.tag:"")}}},897634:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isDarkThemeBrowser=t.isUsingDarkTheme=t.isUsingAccessibleTheme=t.currentTheme=t.themeColors=t.themeStyles=t.systemThemeEnabled=t.getAccessibilityLabel=t.convertOSThemeToTheme=t.convertThemeToDelphiTheme=t.themeMatchesOSTheme=t.matchingLightTheme=t.matchingLightOrDarkTheme=t.matchingAccessibleTheme=t.isColorfulTheme=t.isClassicTheme=t.isDelphiTheme=t.isMonoTheme=t.isAccessibleTheme=t.isDarkTheme=void 0;const n=i(583367),o=i(47447),s=i(733754),a=i(163841),r=i(853374),l=i(600212);function c(e){return!!e&&(e===a.Theme.AccessibleDark||e===a.Theme.ColorfulDark||e===a.Theme.MonoDark||e===a.Theme.ClassicDarkDeprecated||e===a.Theme.DelphiDark)}function d(e){return!!e&&(e===a.Theme.Accessible||e===a.Theme.AccessibleDark)}function u(e){switch(e){case a.Theme.Colorful:return a.Theme.ColorfulDark;case a.Theme.Mono:return a.Theme.MonoDark;case a.Theme.Accessible:return a.Theme.AccessibleDark;case a.Theme.ClassicDeprecated:return a.Theme.ClassicDarkDeprecated;case a.Theme.Delphi:return a.Theme.DelphiDark;case a.Theme.ColorfulDark:return a.Theme.Colorful;case a.Theme.MonoDark:return a.Theme.Mono;case a.Theme.AccessibleDark:return a.Theme.Accessible;case a.Theme.ClassicDarkDeprecated:return a.Theme.ClassicDeprecated;case a.Theme.DelphiDark:return a.Theme.Delphi;default:return r.default.switchStatementExhaustiveChecking(e)}}function g(e,t){return void 0!==t&&(t===n.OSTheme.Dark&&c(e)||t===n.OSTheme.Light&&!c(e))}function h(e,t){return null!=t?t:e.theme}t.isDarkTheme=c,t.isAccessibleTheme=d,t.isMonoTheme=function(e){return!!e&&(e===a.Theme.Mono||e===a.Theme.MonoDark)},t.isDelphiTheme=function(e){return!!e&&(e===a.Theme.Delphi||e===a.Theme.DelphiDark)},t.isClassicTheme=function(e){return!!e&&(e===a.Theme.ClassicDeprecated||e===a.Theme.ClassicDarkDeprecated||e===a.Theme.Delphi||e===a.Theme.DelphiDark)},t.isColorfulTheme=function(e){return!!e&&(e===a.Theme.Colorful||e===a.Theme.ColorfulDark)},t.matchingAccessibleTheme=function(e){switch(e){case a.Theme.Colorful:case a.Theme.Mono:case a.Theme.ClassicDeprecated:case a.Theme.Delphi:return a.Theme.Accessible;case a.Theme.ColorfulDark:case a.Theme.MonoDark:case a.Theme.ClassicDarkDeprecated:case a.Theme.DelphiDark:return a.Theme.AccessibleDark;default:return a.Theme.Accessible}},t.matchingLightOrDarkTheme=u,t.matchingLightTheme=function(e){switch(e){case a.Theme.ColorfulDark:return a.Theme.Colorful;case a.Theme.MonoDark:return a.Theme.Mono;case a.Theme.AccessibleDark:return a.Theme.Accessible;case a.Theme.ClassicDarkDeprecated:return a.Theme.ClassicDeprecated;case a.Theme.DelphiDark:return a.Theme.Delphi;default:return e}},t.themeMatchesOSTheme=g,t.convertThemeToDelphiTheme=function(e){return d(e)?c(e)?a.Theme.DelphiDark:a.Theme.Delphi:e},t.convertOSThemeToTheme=function(e,t){if(void 0!==t)return g(e,t)?e:u(e)},t.getAccessibilityLabel=function(e){let t;switch(e){case a.Theme.Accessible:case a.Theme.AccessibleDark:t="ColorThemeDialog.HighContrastThemeTitle";break;case a.Theme.Mono:case a.Theme.MonoDark:t="ColorThemeDialog.ClassicThemeTitle";break;case a.Theme.ClassicDeprecated:case a.Theme.ClassicDarkDeprecated:case a.Theme.Delphi:case a.Theme.DelphiDark:t="ColorThemeDialog.BlueThemeTitle";break;case a.Theme.Colorful:case a.Theme.ColorfulDark:t="ColorThemeDialog.ColorThemeTitle";break;default:t=r.default.switchStatementExhaustiveChecking(e)}return s.getString(t)+" "+s.getString("AccessibilityLabel.SelectedControlLabel")},t.systemThemeEnabled=function(){return o.UICapabilities.systemThemeSupported()},t.themeStyles=function(e,t){return t?l.default.themeStylesForTheme(t):e.themeStyles},t.themeColors=function(e,t){return t?l.default.themeColorsForTheme(t):e.themeColors},t.currentTheme=h,t.isUsingAccessibleTheme=function(e,t){return d(h(e,t))},t.isUsingDarkTheme=function(e,t){return c(h(e,t))},t.isDarkThemeBrowser=function(){return window.matchMedia("(prefers-color-scheme: dark)").matches}},628069:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isForceUpdateEnabled=t.setLastDisplayDate=t.shouldDisplayUpgradeAlert=void 0;const n=i(397691),o=i(889391),s=i(746096),a=i(436237),r=i(404057),l=i(818882);t.shouldDisplayUpgradeAlert=function(){return o.default.getS4LFeatures().enableUpgradeAlert?o.default.getS4LFeatures().upgradeAlertConfig.forceUpgrade?n.Resolved(!0):l.LocalStorage.getItem(l.StorageKeys.UpgradeAlertLastDisplayDateKey).then((e=>!e||Date.now()>+e+1e3*o.default.getS4LFeatures().upgradeAlertConfig.upgradeAlertDisplayIntervalSeconds)).catch((e=>(a.warn(s.LogTraceArea.GenericUnsafe,"UpgradeAlertHelper:shouldDisplayUpgradeAlert failed: "+r.default.errorAsString(e)),n.Rejected(e)))):n.Resolved(!1)},t.setLastDisplayDate=function(){return l.LocalStorage.setItem(l.StorageKeys.UpgradeAlertLastDisplayDateKey,String(""+Date.now()))},t.isForceUpdateEnabled=function(){const e=o.default.getS4LFeatures().upgrade;return!(!e||!e.noticeUrl)}},317840:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(889391),s=o.default.getConfigSettingsNoSubscription().urlPreview.host+"url/content?url=";t.default=new class{proxyImageUrl(e){if(e)return n.startsWith(e,s)||o.default.isTrustedDomain(e,!1)?e:s+encodeURIComponent(e)}}},626712:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(174958),o=i(496486),s=i(232976),a=i(803689),r=i(746096),l=i(436237),c=i(861253),d=i(733754),u=i(527683),g=i(404057),h=i(640363),p=i(361694),S=i(853374),m=i(671830);var C;!function(e){e[e.All=0]="All",e[e.Protocol=1]="Protocol",e[e.MailtoLiteral=2]="MailtoLiteral",e[e.MsProtocol=3]="MsProtocol",e[e.SkypeWinProtocol=4]="SkypeWinProtocol",e[e.SkypeLiteral=5]="SkypeLiteral",e[e.Winshell=6]="Winshell",e[e.SkypeParticipants=7]="SkypeParticipants",e[e.TelLiteral=8]="TelLiteral",e[e.TelParticipants=9]="TelParticipants",e[e.EmailName=10]="EmailName",e[e.Host=11]="Host",e[e.Port=12]="Port",e[e.PathBeforeLastSlash=13]="PathBeforeLastSlash",e[e.PathAfterLastSlash=14]="PathAfterLastSlash",e[e.PathAfterLastDot=15]="PathAfterLastDot",e[e.QueryParameters=16]="QueryParameters",e[e.Fragment=17]="Fragment"}(C||(C={}));const y=/^\(?(?:(http|https|ftp):\/\/|(mailto):|(ms-voip-call|ms-voip-video|ms-ipmessaging):|(skypewin):|(skype):|(skype-meetnow):((?:[^\W\s]|\.|-|\:|\;)+)?|(tel):((?:[^\W\s]|[\.\-_~!$&'()\*\+,;=])+))?(?:(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+|localhost(?=\/)|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\r\n\?]*[\/]{1})*?(?:\/?([^\r\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?))?(?:\?{1}([^\s\n\#\[\]]*))?(?:[\#]([^\s\n]*))?\)?$/i,f=/^(?:https?|ftp):\/\/|(?:mailto|skype|skype-meetnow|skypewin|tel|callto|ms-voip-call|ms-voip-video|ms-ipmessaging):/i,b=/\b(?:[^\W\s]|\.|-|[:]{1})+@{1}(?:[^\W\s]|\.|-)+/i,_=/^chat|call|golive|buycredit|action|home/i,v=/^[a-z-]+:/i,T=/^https:\/\/join.skype.com\/(?:[^\W_]){12}$/,P=/^https:\/\/join.skype.com\/invite\/(?:[^\W_]){12}$/,k={"ms-voip-call":p.UrlType.VoipAudio,"ms-voip-video":p.UrlType.VoipVideo,"ms-ipmessaging":p.UrlType.Messaging};class A{static isUrlValid(e){if(!e)return!1;const t=this.getURIComponents(e);return this._isComponentsValid(t)}static removeHost(e){const t=this.getURIComponents(e);if(!t||!this._isComponentsValid(t))return e;let i="";return t.pathname&&(i+=t.pathname),t.queryParameterString&&(i+="?"+t.queryParameterString),t.fragment&&(i+="#"+t.fragment),i}static _isComponentsValid(e){if(!e)return!1;const{port:t,protocol:i,emailName:n,host:s}=e,a=t?parseInt(t,10):void 0,r=i&&o.includes(["http","https","ftp","onenote"],i),l=e.type===p.UrlType.Email&&n,c=s&&-1===s.indexOf("..")&&"."!==o.head(s)&&"."!==o.last(s),d=void 0!==a&&a>=0&&a<=65535,u=!o.isFinite(a)||d;return!(!r&&!l||!u||!c&&e.type!==p.UrlType.OneNote)||(e.type===p.UrlType.SkypeWin||(!!this._isSkypeUrlComponentsValid(e)||(!!this._isPhoneUrlComponentsValid(e)||(!!this._isCommsUrlComponentsValid(e)||!!this.isContactUrlComponentsValid(e)))))}static isContactUrlComponentsValid(e){return!!e&&"content"===e.protocol&&("com.android.contacts"===e.host||!!e.pathname&&e.pathname.indexOf("com.android.contacts")>-1)}static _isSkypeUrlComponentsValid(e){return!(!e||e.type!==p.UrlType.Skype&&e.type!==p.UrlType.Winshell||e.queryParameterString&&!_.test(e.queryParameterString))}static _isPhoneUrlComponentsValid(e){return o.includes([p.UrlType.Tel,p.UrlType.CallTo],null==e?void 0:e.type)&&u.default.isPossiblyPhoneNumber(e.telNumber)}static _isCommsUrlComponentsValid(e){return!(!e||!o.includes([p.UrlType.Messaging,p.UrlType.VoipAudio,p.UrlType.VoipVideo],e.type))}static getDomainName(e){const t=this.getURIComponents(e);return t&&t.host?this.buildUrl(t.protocol,t.host):(l.log(r.LogTraceArea.UrlUtils,"getDomainName: Found no components for url: "+e),"")}static getHost(e){const t=this.getURIComponents(e);if(t)return t.host;l.log(r.LogTraceArea.UrlUtils,"getHost: Found no components for url: "+e)}static getIDNSafeUrl(e){let t=this.getURIComponents(e);if(!t||!this._isComponentsValid(t)||!t.host){l.log(r.LogTraceArea.UrlUtils,"getIDNSafeUrl: Parsing failed converting to ASCII.");const i=a.toASCII(e.toLowerCase());if(t=this.getURIComponents(i),!t||!this._isComponentsValid(t)||!t.host)return e}if(t.type===p.UrlType.Email)return a.toASCII(e.toLowerCase());if(t.type===p.UrlType.Web)try{let i=t.host;t.port&&(i=t.host.replace(`:${t.port}`,""));const n=a.toUnicode(i),o=a.toASCII(i.toLowerCase()),s=new RegExp(n,"i");return e.replace(s,o)}catch(e){l.log(r.LogTraceArea.UrlUtils,"getIDNSafeUrl: "+g.default.errorAsString(e))}return e}static getProtocol(e){const t=this.getURIComponents(e);if(t)return t.protocol;l.log(r.LogTraceArea.UrlUtils,"getProtocol: Found no components for url: "+e)}static normalizeUrlProtocol(e){const t=this.getProtocol(e);if(t){const i=new RegExp(t,"i");return e.replace(i,t)}}static createSanitizedHref(e){let t=this.getIDNSafeUrl(e);const i=this.getURIComponents(t);if(!i||!this._isComponentsValid(i))return void l.log(r.LogTraceArea.UrlUtils,"createSanitizedHref: No valid components: "+JSON.stringify(i)+", URL: "+e);let n;if(!i.queryParameterString&&!i.fragment){const e=t;t=o.trimEnd(t,".-:;?"),n=e.substring(t.length)}const s=t;return i.type===p.UrlType.Email?t=/^mailto:/i.test(t)?t:"mailto:"+t:i.host&&(t=/^w{3}\./i.test(t)?"https://"+t:t),{href:t,text:s,trailingCharacters:n,urlType:i.type}}static sanitizeUrl(e){const t=this.createSanitizedHref(e);return t?t.href:void 0}static getURIComponents(e){if(!e)return;f.test(e)||(b.test(e)?e=/^mailto:/i.test(e)?e:"mailto:"+e:/^w{3}\./i.test(e)&&(e="https://"+e));const t=this._syncGetUriComponents(e);if(t){if(t.pathname&&"/"===o.head(t.pathname)&&(t.pathname=t.pathname.substring(1)),t.pathname&&"/"!==o.last(t.pathname)&&(t.pathname=t.pathname+"/"),t.pathname||t.queryParameterString||t.fragment||(t.host=o.trimEnd(t.host,".-"),t.skypeParticipants=o.trimEnd(t.skypeParticipants,".-:;")),t.queryParameterString){const e=S.default.unescapeXml(t.queryParameterString).split("&"),i=this.parseParameterPairs(e);if(i.foundInvalidParameter)return;t.queryParameterKeyValues=i.parameterKeyValues}else t.queryParameterKeyValues={};if(o.includes([p.UrlType.Messaging,p.UrlType.VoipAudio,p.UrlType.VoipVideo],t.type)){const e=t.queryParameterKeyValues.ContactRemoteIds;e&&(t.skypeParticipants=o.replace(e,",",";"))}return t}l.log(r.LogTraceArea.UrlUtils,"getURIComponents: Parsing failed for uri: "+e)}static parseParameterPairs(e){const t={};let i=!1;return o.each(e,(e=>{const n=e.indexOf("="),s=-1===n?e.length:n,a=o.attempt((()=>decodeURIComponent(e.substring(0,s)))),r=o.attempt((()=>decodeURIComponent(e.substring(s+1))));o.isError(a)||o.isError(r)?i=!0:t[a]=r})),{parameterKeyValues:t,foundInvalidParameter:i}}static getUrlParamsInFragment(e){const t=e.indexOf("#");if(-1===t)return;const i=e.substring(t+1).split("&"),{parameterKeyValues:n}=this.parseParameterPairs(i);return n||{}}static getUrlParameterValue(e,t,i=!1){if(this.isUrlValid(e)){const n=this._getUrlParameterRegularExpress(t),o=e.match(n);if(o&&o.length>=3)return i?decodeURIComponent(o[2]):o[2]}}static addUrlParameter(e,t,i,n,s){if(n||this.isUrlValid(e)){const n=e.indexOf("#"),a=-1===n?"":e.substring(n),r=(e=-1===n?e:e.substring(0,n)).indexOf("?");let l=e,c="";-1!==r&&(l=e.slice(0,r),c=e.slice(r,e.length));const d=this._getUrlParameterRegularExpress(t);if(i)if(!s&&c.match(d))c=c.replace(d,"$1"+t+"="+i);else{c=c+(-1!==e.indexOf("?")?"&":"?")+t+"="+i}else if(""!==c){const e=new RegExp("([?&])"+t+"=[^&#/]*","i");c=c.replace(e,""),"?"!==o.head(c)&&(c=c.replace(/&/,"?"))}return l+c+a}return e}static _getUrlParameterRegularExpress(e){return new RegExp("([?&])"+e+"=([^\\s\\n&#/]*)","i")}static addUrlParameters(e,t,i){let n=e;return o.forOwn(t,((e,t)=>{n=A.addUrlParameter(n,t,e,i)})),n}static isHttp(e){const t=A.getURIComponents(e);return!!t&&(!!e&&/^https?/i.test(t.protocol))}static isPdfUrl(e){const t=this.getURIComponents(e);return!!(t&&this._isComponentsValid(t)&&this.isHttp(e))&&(!!t.pathname&&o.endsWith(o.trimEnd(t.pathname,"/"),".pdf"))}static isGifUrl(e){const t=this.getURIComponents(e);return!!(t&&this._isComponentsValid(t)&&this.isHttp(e))&&(!!t.pathname&&o.endsWith(o.trimEnd(t.pathname,"/"),".gif"))}static isFile(e){return o.startsWith(e,"file:")||o.startsWith(e,"urn:future-access-list:")}static isFileOrBlob(e){return A.isFile(e)||o.startsWith(e,"blob:")||o.startsWith(e,"ph:")}static getFileUrl(e){let t;const i=e.file;if(i&&i.uri)t=i.uri;else{const i=e.file;t=URL.createObjectURL(i)}return t}static appendLanguageUrlParameter(e){return A.addUrlParameter(e,"lang",encodeURIComponent(d.getLocale()))}static areUrlsSame(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;const i=A.getURIComponents(e);if(!i)return!1;const n=A.getURIComponents(t);return!!n&&(i.protocol===n.protocol&&i.host===n.host&&i.port===n.port&&i.pathname===n.pathname&&(0,c.default)(i.queryParameterKeyValues,n.queryParameterKeyValues))}static urlContains(e,t,i){const n=i||{compareQueryParamValues:!1};if(e===t)return!0;if(!e||!t)return!1;const s=A.getURIComponents(e);if(!s)return!1;const a=A.getURIComponents(t);if(!a)return!1;if(s.protocol!==a.protocol||s.host!==a.host||s.port!==a.port)return!1;if(this._getUrlType(s.protocol)!==this._getUrlType(a.protocol)||this._getUrlType(s.protocol)!==p.UrlType.Web)return!1;if(!o.isEmpty(a.pathname)&&a.pathname!==s.pathname)return!1;const r=o.keys(a.queryParameterKeyValues);return!(!o.isEmpty(a.queryParameterKeyValues)&&o.intersection(o.keys(s.queryParameterKeyValues),r).length!==r.length)&&!(n.compareQueryParamValues&&!o.isEmpty(a.queryParameterKeyValues)&&o.some(r,(e=>a.queryParameterKeyValues[e]!==s.queryParameterKeyValues[e])))}static areHostsSame(e,t){return!!e&&!!t&&e.host===t.host}static isSkypeUrl(e){if(!this.isUrlValid(e))return!1;const t=this.getHost(e);return o.endsWith(t,".skype.com")||o.endsWith(t,".skype.net")}static isSkypeDeepLinkUrl(e){const t=this.getURIComponents(e);let i=!1;if(t){const e=t.pathname?o.compact(t.pathname.split("/")):[];i=(t.host&&t.host.toLowerCase())===h.default.getFrontendHost()&&1===e.length}return i}static isJoinLinkUrl(e){return T.test(e)}static isBuddyLinkUrl(e){return P.test(e)}static _syncGetUriComponents(e){let t,i;if(e=(e=e.replace(/^skype:\/\//,"skype:")).replace(/^skype-meetnow:\/\//,"skype-meetnow:"),"undefined"!=typeof document&&"function"==typeof document.createElement){if(!v.test(e))return void l.log(r.LogTraceArea.UrlUtils,"_syncGetUriComponents: non-standard URI: "+n.pii.Omit(e));const s=document.createElement("a");s.setAttribute("href",e);let a=o.attempt((()=>s.protocol));if(o.isError(a))return void l.log(r.LogTraceArea.UrlUtils,"_syncGetUriComponents: Error accessing protocol "+a+", uri:"+e);if(!a)return void l.log(r.LogTraceArea.UrlUtils,"_syncGetUriComponents: URI does not have protocol: "+e);a=o.toLower(o.trimEnd(s.protocol,":"));const c=this._getUrlType(a);i=s.pathname,t={type:c,protocol:a,host:s.host,port:s.port,queryParameterString:o.trimStart(s.search,"?"),fragment:o.trimStart(s.hash,"#")}}else{0;const n=s.default.syncGetUriComponents(e);if(!n)return;const a=o.toLower(n.protocol),r=this._getUrlType(a);i=n.path,t={type:r,protocol:a,host:n.host,port:n.port,queryParameterString:n.query,fragment:n.fragment}}if(i)if(t.type===p.UrlType.Email){const e=i.indexOf("@");t.emailName=i.substring(0,e),t.host=i.substring(e+1)}else if(t.type===p.UrlType.Skype)t.skypeParticipants=i;else if(t.type===p.UrlType.Tel||t.type===p.UrlType.CallTo){const e=g.default.safeDecodeURIComponent(i);t.telNumber=e?u.default.getNormalizedPhoneNumber(e,!0):void 0}else t.pathname=i;return t}static _regexGetUriComponents(e){const t=y.exec(e);if(!t)return;let i=p.UrlType.Web;const n=t[C.Host],s=t[C.EmailName],a=!!t[C.MailtoLiteral]||!!s,r=!!t[C.SkypeLiteral],l=!!t[C.TelLiteral],c=!!t[C.MsProtocol],d=!!t[C.SkypeWinProtocol],g=!!t[C.Winshell];let h,S;a?i=p.UrlType.Email:r?(i=p.UrlType.Skype,h=t[C.SkypeParticipants]):l?(i=p.UrlType.Tel,S=u.default.getNormalizedPhoneNumber(t[C.TelParticipants],!0)):c?i=k[t[C.MsProtocol]]:d?i=p.UrlType.SkypeWin:g&&(i=p.UrlType.Winshell);const m=t[C.QueryParameters],f=t[C.Fragment],b=t[C.Protocol]?t[C.Protocol].toLowerCase():!a&&n&&/^w{3}\./i.test(n)?"http":"",_=o.compact([t[C.PathBeforeLastSlash],t[C.PathAfterLastSlash],t[C.PathAfterLastDot]]).join("");return{protocol:b,type:i,skypeParticipants:h,telNumber:S,emailName:s,host:n,port:t[C.Port],pathname:_,queryParameterString:m,fragment:f}}static _getUrlType(e){return e?"mailto"===(e=e.toLowerCase())?p.UrlType.Email:"skype"===e?p.UrlType.Skype:"skype-meetnow"===e?p.UrlType.Winshell:"tel"===e?p.UrlType.Tel:"callto"===e?p.UrlType.CallTo:"ms-voip-call"===e?p.UrlType.VoipAudio:"ms-voip-video"===e?p.UrlType.VoipVideo:"ms-ipmessaging"===e?p.UrlType.Messaging:"skypewin"===e?p.UrlType.SkypeWin:o.includes(["http","https"],e)?p.UrlType.Web:"onenote"===e?p.UrlType.OneNote:p.UrlType.Unknown:p.UrlType.Unknown}static buildUrl(e,t){return e+"://"+t}static getParticipantMrisFromUrl(e,t=!0){return e?o.map(o.compact(e.split(";")),(e=>{e=decodeURIComponent(e);const i=t&&u.default.isPossiblyPhoneNumber(e)?m.Namespaces.PSTN:m.Namespaces.SkypeId;return m.sanitizeMri(e,i)})):[]}static test_syncGetUriComponents(e){return this._syncGetUriComponents(e)}static test_regexGetUriComponents(e){return this._regexGetUriComponents(e)}}t.default=A},924278:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SKYPE_THEME_PRIMARY_COLORS=t.SKYPE_THEME_COLORS=t.USER_COLOR_GRADIENTS=void 0;const n=i(3553),o={textPrimary:n.SkypeColor.gray900,textSecondary:n.SkypeColor.gray500,textHint:n.SkypeColor.gray500,textDisabled:n.SkypeColor.gray300,textOnColor:n.SkypeColor.white,textChat:n.SkypeColor.gray900,textSuccess:n.SkypeColor.successLight,textWarning:n.SkypeColor.warningLight,textDanger:n.SkypeColor.dangerLight,textPrimaryFixed:n.SkypeColor.white,textAccentFixed:n.SkypeColor.blueLightTint10,iconPrimary:n.SkypeColor.gray900,iconSecondary:n.SkypeColor.gray500,iconHint:n.SkypeColor.gray400,iconDisabled:n.SkypeColor.gray300,iconOnColor:n.SkypeColor.white,iconInteractive:n.SkypeColor.blueLightPrimary,iconSuccess:n.SkypeColor.successLight,iconWarning:n.SkypeColor.warningLight,iconDanger:n.SkypeColor.dangerLight,iconPrimaryFixed:n.SkypeColor.white,iconAccentFixed:n.SkypeColor.blueLightTint10,surfaceAccentFixed:n.SkypeColor.blueLightPrimary,surfacePrimary:n.SkypeColor.white,surfaceSecondary:n.SkypeColor.gray50,surfaceSecondaryActive:n.SkypeColor.gray100,surfaceTertiary:n.SkypeColor.gray200,surfaceQuaternary:n.SkypeColor.gray25,surfaceRaisedFill:n.SkypeColor.gray400,surfaceOnAccent:n.SkypeColor.white,surfaceDisabled:n.SkypeColor.gray50,surfaceAltFill:n.SkypeColor.white,surfaceFixed:n.SkypeColor.gray925,surfaceOverlayFixed:n.SkypeColor.gray92560p,surfacePlaceholderFixed:n.SkypeColor.white60p,dividerPrimary:n.SkypeColor.gray100,strokeDisabled:n.SkypeColor.gray100,strokeAvatar:n.SkypeColor.black6p,strokePrimary:n.SkypeColor.gray500,strokeSecondary:n.SkypeColor.gray200,strokeHighContrast:n.SkypeColor.black0p,strokeFixed:n.SkypeColor.black,strokeOnAccentFixed:n.SkypeColor.gray100,secondarySuccessForeground:n.SkypeColor.successLight,secondaryDangerForeground:n.SkypeColor.dangerLight,secondaryDangerBackground:n.SkypeColor.dangerBackgroundLight,presenceInvisible:n.SkypeColor.presenceInvisibleLight,category1:n.SkypeColor.blueLightPrimary,category2:n.SkypeColor.greenLightPrimary,category3:n.SkypeColor.indigoLightPrimary,category4:n.SkypeColor.tealLightPrimary,category5:n.SkypeColor.orangeLightPrimary,category6:n.SkypeColor.purpleLightPrimary,category7:n.SkypeColor.pinkLightPrimary,category8:n.SkypeColor.yellowLightPrimary},s={textPrimary:n.SkypeColor.gray100,textSecondary:n.SkypeColor.gray400,textHint:n.SkypeColor.gray400,textDisabled:n.SkypeColor.gray600,textOnColor:n.SkypeColor.black,textChat:n.SkypeColor.white,textSuccess:n.SkypeColor.successDark,textWarning:n.SkypeColor.warningDark,textDanger:n.SkypeColor.dangerDark,textPrimaryFixed:n.SkypeColor.white,textAccentFixed:n.SkypeColor.blueLightTint10,iconPrimary:n.SkypeColor.gray100,iconSecondary:n.SkypeColor.gray400,iconHint:n.SkypeColor.gray500,iconDisabled:n.SkypeColor.gray600,iconOnColor:n.SkypeColor.black,iconInteractive:n.SkypeColor.blueDarkPrimary,iconSuccess:n.SkypeColor.successDark,iconWarning:n.SkypeColor.warningDark,iconDanger:n.SkypeColor.dangerDark,iconPrimaryFixed:n.SkypeColor.white,iconAccentFixed:n.SkypeColor.blueLightTint10,surfaceAccentFixed:n.SkypeColor.blueLightPrimary,surfacePrimary:n.SkypeColor.gray950,surfaceSecondary:n.SkypeColor.gray800,surfaceSecondaryActive:n.SkypeColor.gray900,surfaceTertiary:n.SkypeColor.gray600,surfaceQuaternary:n.SkypeColor.gray900,surfaceRaisedFill:n.SkypeColor.gray600,surfaceOnAccent:n.SkypeColor.gray950,surfaceDisabled:n.SkypeColor.gray600,surfaceAltFill:n.SkypeColor.gray800,surfaceFixed:n.SkypeColor.gray925,surfaceOverlayFixed:n.SkypeColor.gray92560p,surfacePlaceholderFixed:n.SkypeColor.white60p,dividerPrimary:n.SkypeColor.gray800,strokeDisabled:n.SkypeColor.gray600,strokeAvatar:n.SkypeColor.white20p,strokePrimary:n.SkypeColor.gray400,strokeSecondary:n.SkypeColor.gray400,strokeHighContrast:n.SkypeColor.white0p,strokeFixed:n.SkypeColor.black,strokeOnAccentFixed:n.SkypeColor.gray100,secondarySuccessForeground:n.SkypeColor.successDark,secondaryDangerForeground:n.SkypeColor.dangerDark,secondaryDangerBackground:n.SkypeColor.dangerBackgroundDark,presenceInvisible:n.SkypeColor.presenceInvisibleDark,category1:n.SkypeColor.blueDarkPrimary,category2:n.SkypeColor.greenDarkPrimary,category3:n.SkypeColor.indigoDarkPrimary,category4:n.SkypeColor.tealDarkPrimary,category5:n.SkypeColor.orangeDarkPrimary,category6:n.SkypeColor.purpleDarkPrimary,category7:n.SkypeColor.pinkDarkPrimary,category8:n.SkypeColor.yellowDarkPrimary},a={textOnAccent:n.SkypeColor.blueLightPrimary,textInteractive:n.SkypeColor.blueLightPrimary,textSecondaryInteractive:n.SkypeColor.blue250,textAvatar:n.SkypeColor.blueLightShade10,iconOnAccent:n.SkypeColor.blueLightPrimary,iconInteractive:n.SkypeColor.blueLightPrimary,iconSecondaryInteractive:n.SkypeColor.blue250,surfacePrimaryAccent:n.SkypeColor.blueLightTint50,surfaceAccent:n.SkypeColor.blueLightTint50,surfaceSecondaryAccent:n.SkypeColor.blue750,surfaceInteractive:n.SkypeColor.blueLightPrimary,surfaceInteractiveFill:n.SkypeColor.blueLightPrimary50p,strokeAccent:n.SkypeColor.blueLightPrimary50p,bubble:n.SkypeColor.blue800},r={textOnAccent:n.SkypeColor.blueDarkPrimary,textInteractive:n.SkypeColor.blueDarkPrimary,textSecondaryInteractive:n.SkypeColor.blue600,textAvatar:n.SkypeColor.blueDarkShade10,iconOnAccent:n.SkypeColor.blueDarkPrimary,iconInteractive:n.SkypeColor.blueDarkPrimary,iconSecondaryInteractive:n.SkypeColor.blue600,surfacePrimaryAccent:n.SkypeColor.blueDarkTint40,surfaceAccent:n.SkypeColor.blueDarkTint40,surfaceSecondaryAccent:n.SkypeColor.blue150,surfaceInteractive:n.SkypeColor.blueDarkPrimary,surfaceInteractiveFill:n.SkypeColor.blueDarkPrimary50p,strokeAccent:n.SkypeColor.blueDarkPrimary50p,bubble:n.SkypeColor.blue100},l={textOnAccent:n.SkypeColor.orangeLightPrimary,textInteractive:n.SkypeColor.orangeLightPrimary,textSecondaryInteractive:n.SkypeColor.orange250,textAvatar:n.SkypeColor.orangeLightShade10,iconOnAccent:n.SkypeColor.orangeLightPrimary,iconInteractive:n.SkypeColor.orangeLightPrimary,iconSecondaryInteractive:n.SkypeColor.orange250,surfacePrimaryAccent:n.SkypeColor.orangeLightTint50,surfaceAccent:n.SkypeColor.orangeLightTint50,surfaceSecondaryAccent:n.SkypeColor.orange750,surfaceInteractive:n.SkypeColor.orangeLightPrimary,surfaceInteractiveFill:n.SkypeColor.orangeLightPrimary50p,strokeAccent:n.SkypeColor.orangeLightPrimary50p,bubble:n.SkypeColor.orange800},c={textOnAccent:n.SkypeColor.orangeDarkPrimary,textInteractive:n.SkypeColor.orangeDarkPrimary,textSecondaryInteractive:n.SkypeColor.orange600,textAvatar:n.SkypeColor.orangeDarkShade10,iconOnAccent:n.SkypeColor.orangeDarkPrimary,iconInteractive:n.SkypeColor.orangeDarkPrimary,iconSecondaryInteractive:n.SkypeColor.orange600,surfacePrimaryAccent:n.SkypeColor.orangeDarkTint40,surfaceAccent:n.SkypeColor.orangeDarkTint40,surfaceSecondaryAccent:n.SkypeColor.orange150,surfaceInteractive:n.SkypeColor.orangeDarkPrimary,surfaceInteractiveFill:n.SkypeColor.orangeDarkPrimary50p,strokeAccent:n.SkypeColor.orangeDarkPrimary50p,bubble:n.SkypeColor.orange100},d={textOnAccent:n.SkypeColor.yellowLightPrimary,textInteractive:n.SkypeColor.yellowLightPrimary,textSecondaryInteractive:n.SkypeColor.yellow250,textAvatar:n.SkypeColor.yellowLightShade10,iconOnAccent:n.SkypeColor.yellowLightPrimary,iconInteractive:n.SkypeColor.yellowLightPrimary,iconSecondaryInteractive:n.SkypeColor.yellow250,surfacePrimaryAccent:n.SkypeColor.yellowLightTint50,surfaceAccent:n.SkypeColor.yellowLightTint50,surfaceSecondaryAccent:n.SkypeColor.yellow750,surfaceInteractive:n.SkypeColor.yellowLightPrimary,surfaceInteractiveFill:n.SkypeColor.yellowLightPrimary50p,strokeAccent:n.SkypeColor.yellowLightPrimary50p,bubble:n.SkypeColor.yellow800},u={textOnAccent:n.SkypeColor.yellowDarkPrimary,textInteractive:n.SkypeColor.yellowDarkPrimary,textSecondaryInteractive:n.SkypeColor.yellow600,textAvatar:n.SkypeColor.yellowDarkShade10,iconOnAccent:n.SkypeColor.yellowDarkPrimary,iconInteractive:n.SkypeColor.yellowDarkPrimary,iconSecondaryInteractive:n.SkypeColor.yellow600,surfacePrimaryAccent:n.SkypeColor.yellowDarkTint40,surfaceAccent:n.SkypeColor.yellowDarkTint40,surfaceSecondaryAccent:n.SkypeColor.yellow150,surfaceInteractive:n.SkypeColor.yellowDarkPrimary,surfaceInteractiveFill:n.SkypeColor.yellowDarkPrimary50p,strokeAccent:n.SkypeColor.yellowDarkPrimary50p,bubble:n.SkypeColor.yellow100},g={textOnAccent:n.SkypeColor.greenLightPrimary,textInteractive:n.SkypeColor.greenLightPrimary,textSecondaryInteractive:n.SkypeColor.green250,textAvatar:n.SkypeColor.greenLightShade10,iconOnAccent:n.SkypeColor.greenLightPrimary,iconInteractive:n.SkypeColor.greenLightPrimary,iconSecondaryInteractive:n.SkypeColor.green250,surfacePrimaryAccent:n.SkypeColor.greenLightTint50,surfaceAccent:n.SkypeColor.greenLightTint50,surfaceSecondaryAccent:n.SkypeColor.green750,surfaceInteractive:n.SkypeColor.greenLightPrimary,surfaceInteractiveFill:n.SkypeColor.greenLightPrimary50p,strokeAccent:n.SkypeColor.greenLightPrimary50p,bubble:n.SkypeColor.green800},h={textOnAccent:n.SkypeColor.greenDarkPrimary,textInteractive:n.SkypeColor.greenDarkPrimary,textSecondaryInteractive:n.SkypeColor.green600,textAvatar:n.SkypeColor.greenDarkShade10,iconOnAccent:n.SkypeColor.greenDarkPrimary,iconInteractive:n.SkypeColor.greenDarkPrimary,iconSecondaryInteractive:n.SkypeColor.green600,surfacePrimaryAccent:n.SkypeColor.greenDarkTint40,surfaceAccent:n.SkypeColor.greenDarkTint40,surfaceSecondaryAccent:n.SkypeColor.green150,surfaceInteractive:n.SkypeColor.greenDarkPrimary,surfaceInteractiveFill:n.SkypeColor.greenDarkPrimary50p,strokeAccent:n.SkypeColor.greenDarkPrimary50p,bubble:n.SkypeColor.green100},p={textOnAccent:n.SkypeColor.tealLightPrimary,textInteractive:n.SkypeColor.tealLightPrimary,textSecondaryInteractive:n.SkypeColor.teal250,textAvatar:n.SkypeColor.tealLightShade10,iconOnAccent:n.SkypeColor.tealLightPrimary,iconInteractive:n.SkypeColor.tealLightPrimary,iconSecondaryInteractive:n.SkypeColor.teal250,surfacePrimaryAccent:n.SkypeColor.tealLightTint50,surfaceAccent:n.SkypeColor.tealLightTint50,surfaceSecondaryAccent:n.SkypeColor.teal750,surfaceInteractive:n.SkypeColor.tealLightPrimary,surfaceInteractiveFill:n.SkypeColor.tealLightPrimary50p,strokeAccent:n.SkypeColor.tealLightPrimary50p,bubble:n.SkypeColor.teal800},S={textOnAccent:n.SkypeColor.tealDarkPrimary,textInteractive:n.SkypeColor.tealDarkPrimary,textSecondaryInteractive:n.SkypeColor.teal600,textAvatar:n.SkypeColor.tealDarkShade10,iconOnAccent:n.SkypeColor.tealDarkPrimary,iconInteractive:n.SkypeColor.tealDarkPrimary,iconSecondaryInteractive:n.SkypeColor.teal600,surfacePrimaryAccent:n.SkypeColor.tealDarkTint40,surfaceAccent:n.SkypeColor.tealDarkTint40,surfaceSecondaryAccent:n.SkypeColor.teal150,surfaceInteractive:n.SkypeColor.tealDarkPrimary,surfaceInteractiveFill:n.SkypeColor.tealDarkPrimary50p,strokeAccent:n.SkypeColor.tealDarkPrimary50p,bubble:n.SkypeColor.teal100},m={textOnAccent:n.SkypeColor.indigoLightPrimary,textInteractive:n.SkypeColor.indigoLightPrimary,textSecondaryInteractive:n.SkypeColor.indigo250,textAvatar:n.SkypeColor.indigoLightShade10,iconOnAccent:n.SkypeColor.indigoLightPrimary,iconInteractive:n.SkypeColor.indigoLightPrimary,iconSecondaryInteractive:n.SkypeColor.indigo250,surfacePrimaryAccent:n.SkypeColor.indigoLightTint50,surfaceAccent:n.SkypeColor.indigoLightTint50,surfaceSecondaryAccent:n.SkypeColor.indigo750,surfaceInteractive:n.SkypeColor.indigoLightPrimary,surfaceInteractiveFill:n.SkypeColor.indigoLightPrimary50p,strokeAccent:n.SkypeColor.indigoLightPrimary50p,bubble:n.SkypeColor.indigo800},C={textOnAccent:n.SkypeColor.indigoDarkPrimary,textInteractive:n.SkypeColor.indigoDarkPrimary,textSecondaryInteractive:n.SkypeColor.indigo600,textAvatar:n.SkypeColor.indigoDarkShade10,iconOnAccent:n.SkypeColor.indigoDarkPrimary,iconInteractive:n.SkypeColor.indigoDarkPrimary,iconSecondaryInteractive:n.SkypeColor.indigo600,surfacePrimaryAccent:n.SkypeColor.indigoDarkTint40,surfaceAccent:n.SkypeColor.indigoDarkTint40,surfaceSecondaryAccent:n.SkypeColor.indigo150,surfaceInteractive:n.SkypeColor.indigoDarkPrimary,surfaceInteractiveFill:n.SkypeColor.indigoDarkPrimary50p,strokeAccent:n.SkypeColor.indigoDarkPrimary50p,bubble:n.SkypeColor.indigo100},y={textOnAccent:n.SkypeColor.purpleLightPrimary,textInteractive:n.SkypeColor.purpleLightPrimary,textSecondaryInteractive:n.SkypeColor.purple250,textAvatar:n.SkypeColor.purpleLightShade10,iconOnAccent:n.SkypeColor.purpleLightPrimary,iconInteractive:n.SkypeColor.purpleLightPrimary,iconSecondaryInteractive:n.SkypeColor.purple250,surfacePrimaryAccent:n.SkypeColor.purpleLightTint50,surfaceAccent:n.SkypeColor.purpleLightTint50,surfaceSecondaryAccent:n.SkypeColor.purple750,surfaceInteractive:n.SkypeColor.purpleLightPrimary,surfaceInteractiveFill:n.SkypeColor.purpleLightPrimary50p,strokeAccent:n.SkypeColor.purpleLightPrimary50p,bubble:n.SkypeColor.purple800},f={textOnAccent:n.SkypeColor.purpleDarkPrimary,textInteractive:n.SkypeColor.purpleDarkPrimary,textSecondaryInteractive:n.SkypeColor.purple600,textAvatar:n.SkypeColor.purpleDarkShade10,iconOnAccent:n.SkypeColor.purpleDarkPrimary,iconInteractive:n.SkypeColor.purpleDarkPrimary,iconSecondaryInteractive:n.SkypeColor.purple600,surfacePrimaryAccent:n.SkypeColor.purpleDarkTint40,surfaceAccent:n.SkypeColor.purpleDarkTint40,surfaceSecondaryAccent:n.SkypeColor.purple150,surfaceInteractive:n.SkypeColor.purpleDarkPrimary,surfaceInteractiveFill:n.SkypeColor.purpleDarkPrimary50p,strokeAccent:n.SkypeColor.purpleDarkPrimary50p,bubble:n.SkypeColor.purple100},b={textOnAccent:n.SkypeColor.pinkLightPrimary,textInteractive:n.SkypeColor.pinkLightPrimary,textSecondaryInteractive:n.SkypeColor.pink250,textAvatar:n.SkypeColor.pinkLightShade10,iconOnAccent:n.SkypeColor.pinkLightPrimary,iconInteractive:n.SkypeColor.pinkLightPrimary,iconSecondaryInteractive:n.SkypeColor.pink250,surfacePrimaryAccent:n.SkypeColor.pinkLightTint50,surfaceAccent:n.SkypeColor.pinkLightTint50,surfaceSecondaryAccent:n.SkypeColor.pink750,surfaceInteractive:n.SkypeColor.pinkLightPrimary,surfaceInteractiveFill:n.SkypeColor.pinkLightPrimary50p,strokeAccent:n.SkypeColor.pinkLightPrimary50p,bubble:n.SkypeColor.pink800},_={textOnAccent:n.SkypeColor.pinkDarkPrimary,textInteractive:n.SkypeColor.pinkDarkPrimary,textSecondaryInteractive:n.SkypeColor.pink600,textAvatar:n.SkypeColor.pinkDarkShade10,iconOnAccent:n.SkypeColor.pinkDarkPrimary,iconInteractive:n.SkypeColor.pinkDarkPrimary,iconSecondaryInteractive:n.SkypeColor.pink600,surfacePrimaryAccent:n.SkypeColor.pinkDarkTint40,surfaceAccent:n.SkypeColor.pinkDarkTint40,surfaceSecondaryAccent:n.SkypeColor.pink150,surfaceInteractive:n.SkypeColor.pinkDarkPrimary,surfaceInteractiveFill:n.SkypeColor.pinkDarkPrimary50p,strokeAccent:n.SkypeColor.pinkDarkPrimary50p,bubble:n.SkypeColor.pink100},v={textOnAccent:n.SkypeColor.gray900,textPrimary:n.SkypeColor.gray900,textInteractive:n.SkypeColor.blueLightPrimary,textSecondaryInteractive:n.SkypeColor.blue250,textAvatar:n.SkypeColor.blueLightShade10,iconOnAccent:n.SkypeColor.gray900,iconInteractive:n.SkypeColor.blueLightPrimary,iconSecondaryInteractive:n.SkypeColor.blue250,surfacePrimaryAccent:n.SkypeColor.blueLightTint50,surfaceAccent:n.SkypeColor.white,surfaceOnAccent:n.SkypeColor.gray50,surfaceSecondaryAccent:n.SkypeColor.blue750,surfaceInteractive:n.SkypeColor.blueLightPrimary,surfaceInteractiveFill:n.SkypeColor.blueLightPrimary50p,strokeAccent:n.SkypeColor.blueLightPrimary50p,bubble:n.SkypeColor.classicBubbleLight},T={textOnAccent:n.SkypeColor.gray100,textPrimary:n.SkypeColor.gray100,textInteractive:n.SkypeColor.blueDarkPrimary,textSecondaryInteractive:n.SkypeColor.blue550,textAvatar:n.SkypeColor.blueDarkShade10,iconOnAccent:n.SkypeColor.gray100,iconInteractive:n.SkypeColor.blueDarkPrimary,iconSecondaryInteractive:n.SkypeColor.blue550,surfacePrimaryAccent:n.SkypeColor.blueDarkTint40,surfaceAccent:n.SkypeColor.gray900,surfaceOnAccent:n.SkypeColor.gray800,surfaceSecondaryAccent:n.SkypeColor.blue150,surfaceInteractive:n.SkypeColor.blueDarkPrimary,surfaceInteractiveFill:n.SkypeColor.blueDarkPrimary50p,strokeAccent:n.SkypeColor.blueDarkPrimary50p,bubble:n.SkypeColor.classicBubbleDark},P={textOnAccent:n.SkypeColor.black,textPrimary:n.SkypeColor.black,textSecondary:n.SkypeColor.black,textSecondaryInteractive:n.SkypeColor.hyperlinkLight,textHint:n.SkypeColor.black,textDisabled:n.SkypeColor.disabledLight,textOnColor:n.SkypeColor.white,textInteractive:n.SkypeColor.hyperlinkLight,textChat:n.SkypeColor.black,textAvatar:n.SkypeColor.black,textSuccess:n.SkypeColor.highlightLight,textWarning:n.SkypeColor.highlightLight,textDanger:n.SkypeColor.highlightLight,textPrimaryFixed:n.SkypeColor.white,textAccentFixed:n.SkypeColor.hyperlinkDark,iconOnAccent:n.SkypeColor.black,iconPrimary:n.SkypeColor.black,iconSecondary:n.SkypeColor.black,iconSecondaryInteractive:n.SkypeColor.hyperlinkLight,iconHint:n.SkypeColor.black,iconDisabled:n.SkypeColor.disabledLight,iconOnColor:n.SkypeColor.white,iconInteractive:n.SkypeColor.highlightLight,iconSuccess:n.SkypeColor.highlightLight,iconWarning:n.SkypeColor.highlightLight,iconDanger:n.SkypeColor.highlightLight,iconPrimaryFixed:n.SkypeColor.white,iconAccentFixed:n.SkypeColor.hyperlinkDark,surfaceAccent:n.SkypeColor.white,surfaceAccentFixed:n.SkypeColor.black,surfacePrimary:n.SkypeColor.white,surfacePrimaryAccent:n.SkypeColor.highlightLight,surfaceSecondary:n.SkypeColor.white,surfaceSecondaryActive:n.SkypeColor.highlightLight,surfaceSecondaryAccent:n.SkypeColor.white,surfaceTertiary:n.SkypeColor.black,surfaceQuaternary:n.SkypeColor.black,surfaceRaisedFill:n.SkypeColor.white,surfaceOnAccent:n.SkypeColor.white,surfaceInteractive:n.SkypeColor.hyperlinkLight,surfaceInteractiveFill:n.SkypeColor.white,surfaceDisabled:n.SkypeColor.disabledLight,surfaceAltFill:n.SkypeColor.white,surfaceFixed:n.SkypeColor.black,surfaceOverlayFixed:n.SkypeColor.black,surfacePlaceholderFixed:n.SkypeColor.white,dividerPrimary:n.SkypeColor.black,strokeDisabled:n.SkypeColor.disabledLight,strokeAvatar:n.SkypeColor.black,strokeAccent:n.SkypeColor.hyperlinkLight,strokePrimary:n.SkypeColor.highlightLight,strokeSecondary:n.SkypeColor.hyperlinkLight,strokeHighContrast:n.SkypeColor.black,strokeHighContrastFixed:n.SkypeColor.white,strokeFixed:n.SkypeColor.white,strokeOnAccentFixed:n.SkypeColor.white,category1:n.SkypeColor.hyperlinkLight,category2:n.SkypeColor.hyperlinkLight,category3:n.SkypeColor.hyperlinkLight,category4:n.SkypeColor.hyperlinkLight,category5:n.SkypeColor.hyperlinkLight,category6:n.SkypeColor.hyperlinkLight,category7:n.SkypeColor.hyperlinkLight,category8:n.SkypeColor.hyperlinkLight},k={textOnAccent:n.SkypeColor.white,textPrimary:n.SkypeColor.white,textSecondary:n.SkypeColor.white,textSecondaryInteractive:n.SkypeColor.hyperlinkDark,textHint:n.SkypeColor.white,textDisabled:n.SkypeColor.disabledDark,textOnColor:n.SkypeColor.black,textInteractive:n.SkypeColor.hyperlinkDark,textChat:n.SkypeColor.white,textAvatar:n.SkypeColor.white,textSuccess:n.SkypeColor.highlightDark,textWarning:n.SkypeColor.highlightDark,textDanger:n.SkypeColor.highlightDark,textPrimaryFixed:n.SkypeColor.white,textAccentFixed:n.SkypeColor.hyperlinkDark,iconOnAccent:n.SkypeColor.white,iconPrimary:n.SkypeColor.white,iconSecondary:n.SkypeColor.white,iconSecondaryInteractive:n.SkypeColor.hyperlinkDark,iconHint:n.SkypeColor.white,iconDisabled:n.SkypeColor.disabledDark,iconOnColor:n.SkypeColor.black,iconInteractive:n.SkypeColor.highlightDark,iconSuccess:n.SkypeColor.highlightDark,iconWarning:n.SkypeColor.highlightDark,iconDanger:n.SkypeColor.highlightDark,iconPrimaryFixed:n.SkypeColor.white,iconAccentFixed:n.SkypeColor.hyperlinkDark,surfaceAccent:n.SkypeColor.black,surfaceAccentFixed:n.SkypeColor.black,surfacePrimary:n.SkypeColor.black,surfacePrimaryAccent:n.SkypeColor.highlightDark,surfaceSecondary:n.SkypeColor.black,surfaceSecondaryActive:n.SkypeColor.highlightDark,surfaceSecondaryAccent:n.SkypeColor.black,surfaceTertiary:n.SkypeColor.white,surfaceQuaternary:n.SkypeColor.white,surfaceRaisedFill:n.SkypeColor.black,surfaceOnAccent:n.SkypeColor.black,surfaceInteractive:n.SkypeColor.hyperlinkDark,surfaceInteractiveFill:n.SkypeColor.black,surfaceDisabled:n.SkypeColor.disabledDark,surfaceAltFill:n.SkypeColor.black,surfaceFixed:n.SkypeColor.black,surfaceOverlayFixed:n.SkypeColor.black,surfacePlaceholderFixed:n.SkypeColor.white,dividerPrimary:n.SkypeColor.white,strokeDisabled:n.SkypeColor.disabledDark,strokeAvatar:n.SkypeColor.white,strokeAccent:n.SkypeColor.hyperlinkDark,strokePrimary:n.SkypeColor.highlightDark,strokeSecondary:n.SkypeColor.hyperlinkDark,strokeHighContrast:n.SkypeColor.white,strokeHighContrastFixed:n.SkypeColor.white,strokeFixed:n.SkypeColor.white,strokeOnAccentFixed:n.SkypeColor.white,category1:n.SkypeColor.hyperlinkDark,category2:n.SkypeColor.hyperlinkDark,category3:n.SkypeColor.hyperlinkDark,category4:n.SkypeColor.hyperlinkDark,category5:n.SkypeColor.hyperlinkDark,category6:n.SkypeColor.hyperlinkDark,category7:n.SkypeColor.hyperlinkDark,category8:n.SkypeColor.hyperlinkDark},A={presenceOnline:[n.SkypeColor.presenceOnlineLightStop0,n.SkypeColor.presenceOnlineLightStop1],presenceAway:[n.SkypeColor.presenceAwayLightStop0,n.SkypeColor.presenceAwayLightStop1],presenceDnd:[n.SkypeColor.presenceDndLightStop0,n.SkypeColor.presenceDndLightStop1]},I={presenceOnline:[n.SkypeColor.presenceOnlineDarkStop0,n.SkypeColor.presenceOnlineDarkStop1],presenceAway:[n.SkypeColor.presenceAwayDarkStop0,n.SkypeColor.presenceAwayDarkStop1],presenceDnd:[n.SkypeColor.presenceDndDarkStop0,n.SkypeColor.presenceDndDarkStop1]};t.USER_COLOR_GRADIENTS={blue:{light:Object.assign(Object.assign({},A),{primary:[n.SkypeColor.blueGradientLightPrimaryStop0,n.SkypeColor.blueGradientLightPrimaryStop1],secondary:[n.SkypeColor.blueGradientLightSecondaryStop0,n.SkypeColor.blueGradientLightSecondaryStop1],tertiary:[n.SkypeColor.blueGradientLightTertiaryStop0,n.SkypeColor.blueGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[n.SkypeColor.blueGradientDarkPrimaryStop0,n.SkypeColor.blueGradientDarkPrimaryStop1],secondary:[n.SkypeColor.blueGradientDarkSecondaryStop0,n.SkypeColor.blueGradientDarkSecondaryStop1],tertiary:[n.SkypeColor.blueGradientDarkTertiaryStop0,n.SkypeColor.blueGradientDarkTertiaryStop1]})},orange:{light:Object.assign(Object.assign({},A),{primary:[n.SkypeColor.orangeGradientLightPrimaryStop0,n.SkypeColor.orangeGradientLightPrimaryStop1],secondary:[n.SkypeColor.orangeGradientLightSecondaryStop0,n.SkypeColor.orangeGradientLightSecondaryStop1],tertiary:[n.SkypeColor.orangeGradientLightTertiaryStop0,n.SkypeColor.orangeGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[n.SkypeColor.orangeGradientDarkPrimaryStop0,n.SkypeColor.orangeGradientDarkPrimaryStop1],secondary:[n.SkypeColor.orangeGradientDarkSecondaryStop0,n.SkypeColor.orangeGradientDarkSecondaryStop1],tertiary:[n.SkypeColor.orangeGradientDarkTertiaryStop0,n.SkypeColor.orangeGradientDarkTertiaryStop1]})},yellow:{light:Object.assign(Object.assign({},A),{primary:[n.SkypeColor.yellowGradientLightPrimaryStop0,n.SkypeColor.yellowGradientLightPrimaryStop1],secondary:[n.SkypeColor.yellowGradientLightSecondaryStop0,n.SkypeColor.yellowGradientLightSecondaryStop1],tertiary:[n.SkypeColor.yellowGradientLightTertiaryStop0,n.SkypeColor.yellowGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[n.SkypeColor.yellowGradientDarkPrimaryStop0,n.SkypeColor.yellowGradientDarkPrimaryStop1],secondary:[n.SkypeColor.yellowGradientDarkSecondaryStop0,n.SkypeColor.yellowGradientDarkSecondaryStop1],tertiary:[n.SkypeColor.yellowGradientDarkTertiaryStop0,n.SkypeColor.yellowGradientDarkTertiaryStop1]})},green:{light:Object.assign(Object.assign({},A),{primary:[n.SkypeColor.greenGradientLightPrimaryStop0,n.SkypeColor.greenGradientLightPrimaryStop1],secondary:[n.SkypeColor.greenGradientLightSecondaryStop0,n.SkypeColor.greenGradientLightSecondaryStop1],tertiary:[n.SkypeColor.greenGradientLightTertiaryStop0,n.SkypeColor.greenGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[n.SkypeColor.greenGradientDarkPrimaryStop0,n.SkypeColor.greenGradientDarkPrimaryStop1],secondary:[n.SkypeColor.greenGradientDarkSecondaryStop0,n.SkypeColor.greenGradientDarkSecondaryStop1],tertiary:[n.SkypeColor.greenGradientDarkTertiaryStop0,n.SkypeColor.greenGradientDarkTertiaryStop1]})},teal:{light:Object.assign(Object.assign({},A),{primary:[n.SkypeColor.tealGradientLightPrimaryStop0,n.SkypeColor.tealGradientLightPrimaryStop1],secondary:[n.SkypeColor.tealGradientLightSecondaryStop0,n.SkypeColor.tealGradientLightSecondaryStop1],tertiary:[n.SkypeColor.tealGradientLightTertiaryStop0,n.SkypeColor.tealGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[n.SkypeColor.tealGradientDarkPrimaryStop0,n.SkypeColor.tealGradientDarkPrimaryStop1],secondary:[n.SkypeColor.tealGradientDarkSecondaryStop0,n.SkypeColor.tealGradientDarkSecondaryStop1],tertiary:[n.SkypeColor.tealGradientDarkTertiaryStop0,n.SkypeColor.tealGradientDarkTertiaryStop1]})},indigo:{light:Object.assign(Object.assign({},A),{primary:[n.SkypeColor.indigoGradientLightPrimaryStop0,n.SkypeColor.indigoGradientLightPrimaryStop1],secondary:[n.SkypeColor.indigoGradientLightSecondaryStop0,n.SkypeColor.indigoGradientLightSecondaryStop1],tertiary:[n.SkypeColor.indigoGradientLightTertiaryStop0,n.SkypeColor.indigoGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[n.SkypeColor.indigoGradientDarkPrimaryStop0,n.SkypeColor.indigoGradientDarkPrimaryStop1],secondary:[n.SkypeColor.indigoGradientDarkSecondaryStop0,n.SkypeColor.indigoGradientDarkSecondaryStop1],tertiary:[n.SkypeColor.indigoGradientDarkTertiaryStop0,n.SkypeColor.indigoGradientDarkTertiaryStop1]})},purple:{light:Object.assign(Object.assign({},A),{primary:[n.SkypeColor.purpleGradientLightPrimaryStop0,n.SkypeColor.purpleGradientLightPrimaryStop1],secondary:[n.SkypeColor.purpleGradientLightSecondaryStop0,n.SkypeColor.purpleGradientLightSecondaryStop1],tertiary:[n.SkypeColor.purpleGradientLightTertiaryStop0,n.SkypeColor.purpleGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[n.SkypeColor.purpleGradientDarkPrimaryStop0,n.SkypeColor.purpleGradientDarkPrimaryStop1],secondary:[n.SkypeColor.purpleGradientDarkSecondaryStop0,n.SkypeColor.purpleGradientDarkSecondaryStop1],tertiary:[n.SkypeColor.purpleGradientDarkTertiaryStop0,n.SkypeColor.purpleGradientDarkTertiaryStop1]})},pink:{light:Object.assign(Object.assign({},A),{primary:[n.SkypeColor.pinkGradientLightPrimaryStop0,n.SkypeColor.pinkGradientLightPrimaryStop1],secondary:[n.SkypeColor.pinkGradientLightSecondaryStop0,n.SkypeColor.pinkGradientLightSecondaryStop1],tertiary:[n.SkypeColor.pinkGradientLightTertiaryStop0,n.SkypeColor.pinkGradientLightTertiaryStop1]}),dark:Object.assign(Object.assign({},I),{primary:[n.SkypeColor.pinkGradientDarkPrimaryStop0,n.SkypeColor.pinkGradientDarkPrimaryStop1],secondary:[n.SkypeColor.pinkGradientDarkSecondaryStop0,n.SkypeColor.pinkGradientDarkSecondaryStop1],tertiary:[n.SkypeColor.pinkGradientDarkTertiaryStop0,n.SkypeColor.pinkGradientDarkTertiaryStop1]})},classic:{light:Object.assign(Object.assign({},A),{primary:[n.SkypeColor.blueGradientLightPrimaryStop0,n.SkypeColor.blueGradientLightPrimaryStop1],secondary:[n.SkypeColor.blueGradientLightSecondaryStop0,n.SkypeColor.blueGradientLightSecondaryStop1],tertiary:[]}),dark:Object.assign(Object.assign({},I),{primary:[n.SkypeColor.blueGradientDarkPrimaryStop0,n.SkypeColor.blueGradientDarkPrimaryStop1],secondary:[n.SkypeColor.blueGradientDarkSecondaryStop0,n.SkypeColor.blueGradientDarkSecondaryStop1],tertiary:[]})},highContrast:{light:{primary:[],secondary:[],tertiary:[],presenceOnline:[],presenceAway:[],presenceDnd:[]},dark:{primary:[],secondary:[],tertiary:[],presenceOnline:[],presenceAway:[],presenceDnd:[]}}},t.SKYPE_THEME_COLORS={blue:{light:Object.assign(Object.assign({},o),a),dark:Object.assign(Object.assign({},s),r)},orange:{light:Object.assign(Object.assign({},o),l),dark:Object.assign(Object.assign({},s),c)},yellow:{light:Object.assign(Object.assign({},o),d),dark:Object.assign(Object.assign({},s),u)},green:{light:Object.assign(Object.assign({},o),g),dark:Object.assign(Object.assign({},s),h)},teal:{light:Object.assign(Object.assign({},o),p),dark:Object.assign(Object.assign({},s),S)},indigo:{light:Object.assign(Object.assign({},o),m),dark:Object.assign(Object.assign({},s),C)},purple:{light:Object.assign(Object.assign({},o),y),dark:Object.assign(Object.assign({},s),f)},pink:{light:Object.assign(Object.assign({},o),b),dark:Object.assign(Object.assign({},s),_)},classic:{light:Object.assign(Object.assign(Object.assign({},o),a),v),dark:Object.assign(Object.assign(Object.assign({},s),r),T)},highContrast:{light:Object.assign({},P),dark:Object.assign({},k)}},t.SKYPE_THEME_PRIMARY_COLORS={blue:{light:n.SkypeColor.blueLightPrimary,dark:n.SkypeColor.blueDarkPrimary},orange:{light:n.SkypeColor.orangeLightPrimary,dark:n.SkypeColor.orangeDarkPrimary},yellow:{light:n.SkypeColor.yellowLightPrimary,dark:n.SkypeColor.yellowDarkPrimary},green:{light:n.SkypeColor.greenLightPrimary,dark:n.SkypeColor.greenDarkPrimary},teal:{light:n.SkypeColor.tealLightPrimary,dark:n.SkypeColor.tealDarkPrimary},indigo:{light:n.SkypeColor.indigoLightPrimary,dark:n.SkypeColor.indigoDarkPrimary},purple:{light:n.SkypeColor.purpleLightPrimary,dark:n.SkypeColor.purpleDarkPrimary},pink:{light:n.SkypeColor.pinkLightPrimary,dark:n.SkypeColor.pinkDarkPrimary},classic:{light:n.SkypeColor.blueLightPrimary,dark:n.SkypeColor.blueDarkPrimary},highContrast:{light:n.SkypeColor.black,dark:n.SkypeColor.white}}},70240:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSkypePrimaryColors=t.getSkypeColors=t.getSkypeGradients=t.skypeThemeConnector=void 0;const n=i(163841),o=i(600212),s=i(924278);t.skypeThemeConnector=function(e,t){const i=function(e){return[n.Theme.Accessible,n.Theme.Delphi,n.Theme.Mono].includes(e)?"light":"dark"}(e),a={isDark:"dark"===i,isAccessible:[n.Theme.Accessible,n.Theme.AccessibleDark].includes(e)},r=a.isAccessible?"highContrast":t;return{colors:function(e,t){return Object.assign(Object.assign({},o.default.themeColorsForTheme(e)),t)}(e,(s.SKYPE_THEME_COLORS[r]||s.SKYPE_THEME_COLORS.blue)[i]),gradients:(s.USER_COLOR_GRADIENTS[r]||s.USER_COLOR_GRADIENTS.blue)[i],themeMode:a}},t.getSkypeGradients=function(e,t){const i=null!=e?e:"blue",n=null!=t?t:"light";return(s.USER_COLOR_GRADIENTS[i]||s.USER_COLOR_GRADIENTS.blue)[n]},t.getSkypeColors=function(e,t){const i=null!=e?e:"blue",n=null!=t?t:"light";return(s.SKYPE_THEME_COLORS[i]||s.SKYPE_THEME_COLORS.blue)[n]},t.getSkypePrimaryColors=function(e,t){const i=null!=e?e:"blue",n=null!=t?t:"light";return(s.SKYPE_THEME_PRIMARY_COLORS[i]||s.SKYPE_THEME_PRIMARY_COLORS.blue)[n]}},134952:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655);n.__exportStar(i(70240),t),n.__exportStar(i(996189),t)},996189:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.constructLegacyColorInfo=t.deserializeUserColor=t.serializeUserColor=void 0;const n=i(10102),o=i(70240),s={[n.SerializedColorByNumber.Blue]:"indigo",[n.SerializedColorByNumber.Fuschia]:"purple",[n.SerializedColorByNumber.Mint]:"blue",[n.SerializedColorByNumber.Rose]:"pink",[n.SerializedColorByNumber.Yellow]:"orange"};function a(e,t,i){return{key:e,colors:t,primaryAccent:i}}t.serializeUserColor=function(e){return e.key},t.deserializeUserColor=function(e,t,i){return void 0===e||""===e?a("blue",(0,o.getSkypeGradients)("blue",t).secondary,(0,o.getSkypePrimaryColors)("blue",t)):isNaN(Number(e))?a(e,(0,o.getSkypeGradients)(e,t).secondary,(0,o.getSkypePrimaryColors)(e,t)):function(e,t,i){if("delphi"===i||"darkDelphi"===i)return a("blue",(0,o.getSkypeGradients)("blue",t).secondary,(0,o.getSkypePrimaryColors)("blue",t));if("accessible"===i||"dark"===i)return a("highContrast",(0,o.getSkypeGradients)("highContrast",t).secondary,(0,o.getSkypePrimaryColors)("highContrast",t));const n=s[e]||"blue";return a(n,(0,o.getSkypeGradients)(n,t).secondary,(0,o.getSkypePrimaryColors)(n,t))}(Number(e),t,i)},t.constructLegacyColorInfo=a},512193:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useRXStyles=t.useSkypeStyles=void 0;const n=i(667294),o=i(281878),s=i(600212);t.useSkypeStyles=(e,t)=>{const i=(0,s.useSkypeTheme)();return(0,o.useStyles)((()=>e(i)),[...t,i])};t.useRXStyles=(e,t)=>{const i=(0,s.useSkypeTheme)();return(0,n.useMemo)((()=>e(i)),[...t,i])}},889391:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(974395),s=i(496486),a=i(10531),r=i(469512),l=i(217041),c=i(397691),d=i(72311),u=i(814806),g=i(461294),h=i(956280),p=i(968894),S=i(746096),m=i(733754),C=i(395473),y=i(572335),f=i(352914),b=i(853154),_=i(236533),v=i(626712),T=i(760860),P=i(640363),k=i(236533),A=i(816402),I=!0;let w=class extends l.StoreBase{isMurphyUser(){return this.getS4LFeatures().Murphy}useCachedEcsConfig(e){this.isUserEcsConfig()&&e&&e.configType===o.Models.EcsConfigType.Default||(this._cachedEcsConfig=e,this._updateMergedConfig())}internal_setOverrides(e){this._internalOverrides=e,void 0!==this._cachedEcsConfig&&this._updateMergedConfig()}_updateMergedConfig(){const e=this._cachedEcsConfig&&this._cachedEcsConfig.config,t=this._getEcsFallbacks();let i=e?g.mergeConfigs(t,e):t;void 0!==this._internalOverrides&&(i=g.mergeConfigs(i,this._internalOverrides)),this._mergedEcsConfig=i,this._mergedConfigSettings=void 0,this.trigger(),r.default.onAppConfigChanged(new Map(Object.entries(i)))}getMergedEcsConfig(){return this._getMergedEcsConfig()}_getMergedEcsConfig(){return this._mergedEcsConfig||(this._mergedEcsConfig=this._getEcsFallbacks()),this._mergedEcsConfig}_getMergedConfigSettings(){if(!this._mergedConfigSettings){const e=this._getConfigDefaults();this._mergedConfigSettings=g.mergeConfigs(e,this._getS4LConfigFeatures())}return this._mergedConfigSettings}_getEcsFallbacks(){return{Ads:this._getAdsDefaults(),AsyncMediaClient:this._getAsyncMediaDefaults(),ConfigIDs:this._getConfigIdDefaults(),ConsumerEntitlement:this._getS4LEntitlementDefaults(),DebugabilitySquad:this._getDebugabilitySquadDefaults(),Headers:this._getHeadersDefault(),Join:this._getJoinDefaults(),MDN_TRAP:{},OEM_Operator_Squad:this._getOEMConfigDefaults(),PeopleSearch:this._getPeopleSearchDefault(),S4L_Caap:this._getS4LCaapDefaults(),S4L_CMC:d.default,S4L_Commerce:this._getS4LCommerceDefaults(),S4L_Config:this._getS4LConfigDefaults(),S4L_Contacts:this._getS4LContactsDefaults(),S4L_Engagement:this._getEngagementDefaults(),S4L_Feedback:this._getS4LFeedbackDefaults(),S4L_Integrations:this._getS4LIntegrationsDefaults(),S4L_MeetNow:this._getS4LMeetNowDefaults(),S4L_Messaging:y.default,S4L_NativePlatforms:this._getNativePlatformsDefaults(),S4L_Onboarding:this._getOnboardingDefaults(),S4L_Search:this._getS4LSearchDefaults(),S4L_SISU:this._getS4LSisuDefaults(),S4L_Stratus:this._getS4LStratusDefaults(),S4L_Telemetry:this._getS4LTelemetryDefaults(),S4L_UI:this._getS4LUiDefaults(),S4L:this._getS4LDefaults(),SkypeAudioLibrary:this._getSkypeAudioLibraryDefaults(),SkypeEngagement:this._getSkypeEngagementDefaults(),SkypePersonalization:this._getPesDefaults(),SkypeRealTimeMedia:this._getSkypeRealTimeMediaDefaults(),SkypeRootTools:this._getSkypeRootToolsDefaults(),SkypeTelemetry:this.getTelemetryDefaults(),TrouterJScriptClient:this._getTrouterJScriptClientDefaults()}}_getConfigIdDefaults(){return{Ads:"",AsyncMediaClient:"",ConsumerEntitlement:"",DebugabilitySquad:"",Headers:"",Join:"",MDN_TRAP:"",OEM_Operator_Squad:"",PeopleSearch:"",S4L_Caap:"",S4L_CMC:"",S4L_Commerce:"",S4L_Config:"",S4L_Contacts:"",S4L_Engagement:"",S4L_Feedback:"",S4L_Integrations:"",S4L_MeetNow:"",S4L_Messaging:"",S4L_NativePlatforms:"",S4L_Onboarding:"",S4L_Search:"",S4L_SISU:"",S4L_Stratus:"",S4L_Telemetry:"",S4L_UI:"",S4L:"",SkypeAudioLibrary:"",SkypeEngagement:"",SkypePersonalization:"",SkypeRealTimeMedia:"",SkypeRootTools:"",SkypeTelemetry:"",TrouterJScriptClient:""}}getSkypeAudioLibraryFeatures(){return this._getMergedEcsConfig().SkypeAudioLibrary}getS4LFeatures(){return this._getMergedEcsConfig().S4L}getS4LFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L}_getS4LConfigFeatures(){return this._getMergedEcsConfig().S4L_Config}getS4LCaapFeatures(){return this._getMergedEcsConfig().S4L_Caap}getS4LCaapFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Caap}getS4LIntegrationsFeatures(){return this._getMergedEcsConfig().S4L_Integrations}getS4LMessagingFeatures(){return this._getMergedEcsConfig().S4L_Messaging}getS4LMessagingFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Messaging}getS4LMessagingConfigIds(){return s.split(this._getMergedEcsConfig().ConfigIDs.S4L_Messaging,",")}getS4LUiConfigIds(){return s.split(this._getMergedEcsConfig().ConfigIDs.S4L_UI,",")}getS4LMessagingExperimentalConfigString(){return s.filter(this.getS4LMessagingConfigIds(),(e=>s.startsWith(e,"P-E"))).toString()}getS4LUiExperimentalConfigString(){return s.filter(this.getS4LUiConfigIds(),(e=>s.startsWith(e,"P-E"))).toString()}getNRTMapping(){return this._getMergedEcsConfig().EventToConfigIdsMapping}dangerouslyGetS4LMessagingFeatures(){return this._getMergedEcsConfig().S4L_Messaging}getS4LContactsFeatures(){return this._getMergedEcsConfig().S4L_Contacts}getS4LContactsFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Contacts}getS4LSearchFeatures(){return this._getMergedEcsConfig().S4L_Search}getS4LSearchFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Search}getS4LCommerceFeatures(){return this._getMergedEcsConfig().S4L_Commerce}dangerouslyGetS4LCommerceFeatures(){return this._getMergedEcsConfig().S4L_Commerce}getS4LEntitlementFeatures(){return this._getMergedEcsConfig().ConsumerEntitlement}getS4LEntitlementFeaturesNoSubscription(){return this._getMergedEcsConfig().ConsumerEntitlement}getS4LCommerceFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Commerce}getHeaders(){return this._getMergedEcsConfig().Headers}getHeadersNoSubscription(){return this._getMergedEcsConfig().Headers}getPeopleSearchSettings(){return this._getMergedEcsConfig().PeopleSearch}getS4LNativePlatformsEcsConfig(){return this._getMergedEcsConfig().S4L_NativePlatforms}getS4LNativePlatformsEcsConfigNoSubscription(){return this._getMergedEcsConfig().S4L_NativePlatforms}getS4LCMCFeatures(){return this._getMergedEcsConfig().S4L_CMC}getS4LCMCFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_CMC}getTelemetryFeatures(){return this._getMergedEcsConfig().SkypeTelemetry}getS4LTelemetryFeatures(){return this._getMergedEcsConfig().S4L_Telemetry}getS4LTelemetryFeaturesNoSubscription(){return this.getS4LTelemetryFeatures()}getS4LMeetNowFeatures(){return this._getMergedEcsConfig().S4L_MeetNow}getS4LMeetNowFeaturesNoSubscription(){return this.getS4LMeetNowFeatures()}getPesConfig(){return this._getMergedEcsConfig().SkypePersonalization}getAsyncMediaFeatures(){return this._getMergedEcsConfig().AsyncMediaClient}getAsyncMediaFeaturesNoSubscription(){return this._getMergedEcsConfig().AsyncMediaClient}getSkypeRootToolsConfig(){return this._getMergedEcsConfig().SkypeRootTools}getTrouterJScriptClientConfig(){return this._getMergedEcsConfig().TrouterJScriptClient}getMDNTRAPClientConfig(){return this._getMergedEcsConfig().MDN_TRAP}getJoinFeaturesNoSubscription(){return this._getMergedEcsConfig().Join}getJoinFeatures(){return this._getMergedEcsConfig().Join}getAdsFeatures(){return this._getMergedEcsConfig().Ads}getOnboardingFeatures(){return this._getMergedEcsConfig().S4L_Onboarding}getEngagementFeatures(){return this._getMergedEcsConfig().S4L_Engagement}getEngagementFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_Engagement}getSkypeEngagementFeatures(){return this._getMergedEcsConfig().SkypeEngagement}getSkypeEngagementFeaturesNoSubscription(){return this._getMergedEcsConfig().SkypeEngagement}dangerouslyGetOnboardingFeatures(){return this._getMergedEcsConfig().S4L_Onboarding}getDebugabilitySquad(){return this._getMergedEcsConfig().DebugabilitySquad}getSkypeRealTimeMedia(){return this._getMergedEcsConfig().SkypeRealTimeMedia}getS4LSisuFeatures(){return this._getMergedEcsConfig().S4L_SISU}dangerouslyGetS4LSisuFeatures(){return this._getMergedEcsConfig().S4L_SISU}getS4LUiFeatures(){return this._getMergedEcsConfig().S4L_UI}getS4LUiFeaturesNoSubscription(){return this._getMergedEcsConfig().S4L_UI}getS4LStratusFeatures(){return this._getMergedEcsConfig().S4L_Stratus}getOEMConfig(){return this._getMergedEcsConfig().OEM_Operator_Squad}getFeedbackFeatures(){return this._getMergedEcsConfig().S4L_Feedback}getULLogUploadConfig(e,t){const i=this._getMergedEcsConfig()[e];return i?i[t]:void 0}getConfigSettings(){return this._getMergedConfigSettings()}getConfigSettingsNoSubscription(){return this._getMergedConfigSettings()}getCachedEcsConfig(){return this._cachedEcsConfig}isUserEcsConfig(){return!!this._cachedEcsConfig&&this._cachedEcsConfig.configType===o.Models.EcsConfigType.User}getCachedEcsConfigEtag(){return this._cachedEcsConfig?this._cachedEcsConfig.eTag:""}getCachedEcsConfigExpiration(){return this._cachedEcsConfig?this._cachedEcsConfig.expiration:0}getTrustedDomainInfo(){const e=this.getAsyncMediaFeatures().trusted_domains.toLowerCase().split(";");return{authTrustedDomains:this.getAsyncMediaFeatures().auth_trusted_domains.toLowerCase().split(";"),trustedDomains:e.length>0?e.concat(this.getS4LMessagingFeatures().safeDisplayDomains):this.getS4LMessagingFeatures().safeDisplayDomains,thirdPartyDownloaderUrlSchemas:this.getAsyncMediaFeatures().third_party_downloader_url_schemas.toLowerCase().split(";")}}isTrustedDomain(e,t){const i=this.getTrustedDomainInfo(),n=v.default.getURIComponents(e);if(!n||!n.protocol||!n.host)return!1;if(!s.includes(i.thirdPartyDownloaderUrlSchemas,n.protocol))return!1;const o=n.host.toLowerCase();return s.some(t?i.authTrustedDomains:i.trustedDomains,(e=>{if("*"===e[0]&&"."===e[1]){const t=e.substring(1);return s.endsWith(o,t)&&o.length>t.length}return o===e}))}getBingUrls(){return{privacyStatementUrl:`https://privacy.microsoft.com/${m.getLocale()}/privacystatement`,termsOfServiceUrl:`https://www.microsoft.com/${m.getLocale()}/servicesagreement`}}getBingMapsConfig(){return{urlBase:this.getS4LMessagingFeatures().bingMapsImageryRestApiBaseUrl,apiKey:this.getS4LMessagingFeatures().bingMapsRestApiKey,termsOfUseUrl:"https://www.microsoft.com/en-us/maps/product"}}isDesktopVIMEnabled(){return!0}performWhenServerDefaultConfigAvailable(){if(this._cachedEcsConfig)return c.Resolved();const e=c.Defer(),t=this.subscribe((()=>{this._cachedEcsConfig&&(this.unsubscribe(t),e.resolve(void 0))}));return e.promise()}_getS4LDefaults(){return{chatFeatures:{recommendedRing:0},pushConfig:{ttlSeconds:15552e3,refreshIntervalSeconds:604800,refreshOnLaunch:!1},MSFT:!0,Murphy:!1,tracing:2147483647,tracing2:2147483647,tracing3:2147483647,tracing4:2147483647,tracing5:2147483647,tracing6:2147483647,tracing7:2147483647,tracing8:2147483647,tracing9:2147483647,unsafeTraceAreas:[],saveUlLog:!1,pii:{findPotentialPii:!1},enableUpgradeAlert:!1,upgradeAlertConfig:{upgradeAlertDisplayIntervalSeconds:86400,forceUpgrade:!1},idleService:{afterUiShownDelay:2500,busyTaskDelay:500},intentStartup:{enabled:!1,enabledManifests:["AllPreUI","AllPostUI","Recents","Chat","Call","Dialpad"],getIntentFromDeepLink:!1},beforeStartupDecorator:{enabled:!1,enforceNoEnsureStarted:!1},exceptions:{reloadOnException:!0},scheduler:{enableSmsPriceThrottling:!1,enablePeopleServiceClientThrottling:!1,enableTelemetryServiceThrottling:!1,enableEcsServiceThrottling:!1,telemetryServiceResumeTimeout:6e4},userCache:{enabled:!1,canClearCacheOnLogout:!1},enableECSScoping:!1}}_getS4LCaapDefaults(){return{autoAddBotsEnabled:!1,botIdsToAdd:[],botIdsToHide:["28:f53e4183-c614-4b16-87bb-707c1def4034"],botDiscoveryEnabled:!1,botRefreshEnabled:!1,botStoreAsList:!1,suggestions:{enabled:!1,feedbackEnabled:!1,orderingEnabled:!1,iconEnabled:!1,ordering:[],suggestionIdTelemetryEnabled:!1,enableSuggestionsV2:!1},adaptiveCards:{enableSharing:!1,imagePrefetchEnabled:!1,placeholderLoadingTimeout:1e3},textSuggestions:{enabled:!1,allowedSuggestions:[],maxSuggestions:0},clientSideSuggestions:{enabled:!1,suggestions:[]},highAccuracyLocationTimeout:5e3,skipContactCheck:!1,myBotIdToAdd:""}}_getS4LConfigDefaults(){return{}}_getS4LContactsDefaults(){return{enableInviteFree:!0,enableGroupInviteFree:!0,sendLegacyInvite:!1,sendLegacyInviteSfB:!0,consumeLegacyInvites:!0,maxContactInviteMessageCount:10,shortCircuitHashBatchSize:200,shortCircuitSyncMatchLimit:0,avatarChangeNotifications:this._getAvatarChangeNotificationsDefaults(),enableGroupShareButtonInChat:!1,enableSearchFeedback:!1,enableNewConnectionMessage:!1,enableIOSAutoBuddy:!1,overrideWithAddressBookName:!1,enableDeviceIdForShortcircuit:!1,enableAvatarLoadErrorTracking:!1,contactsFullSyncRefreshInHours:void 0,enableProfileV2MigrationSuggestion:!1,enableProfileV2AutoMigration:!1,enableShortCircuitContactsRoaming:!1,enableAlwaysShowActiveNowFilter:!1,enableHideSkypeName:!1,enableShowVerification:!1,enableUnverifiedBanner:!1,enableSkypeContactsSection:!1,enableAllFilterByDefault:!1,enableAccuratePhoneNumberCountryCode:!1}}_getAvatarChangeNotificationsDefaults(){return{enabled:!1,showMaxNumberOfAlerts:5,actionButtonType:0}}_getS4LSearchDefaults(){return{searchHeaderDebounceWait:350,enableSearchOptimization:!1,enableScopebarofMobile:!1,bingSearch:{enableHistory:!1,enableSuggest:!1,enableTrending:!1,bingHost:{globalHost:"https://www.bing.com/search",cnHost:"https://cn.bing.com/search"},sugHost:"https://www.bingapis.com/api/v7/suggestions?q=%s&appid=6D0A9B8C5100E9ECC7E11A104ADD76C10219804B",trendHost:{imgUrl:"https://www.bing.com/api/v7/news/trendingtopics?appid=91B36E34F9D1B900E54E85A77CF11FB3BE5279E6",imgLocale:["de-de","en-ca","en-gb","en-us","fr-ca","fr-fr","zh-cn"],textUrl:"https://c.bingapis.com/api/custom/opal/suggestions/web?version=5&q=&sf=opalv7",textLocale:["es-es","ja-jp","es-mx","es-xl","en-in","pt-br","en-au"]},bingSearchHosts:["bing.com","cn.bing.com"]},enableSearchHeader:!1}}_getS4LCommerceDefaults(){const e=P.default.getWeatherDefaultConfig();return{accountLinkEnabled:!0,callerIdCTA:{postCallInterruptPanel:{enabled:!1,showAfterCallNumber:5,showMaxAmount:5,maxTimeSinceFirstCallDays:30,minTimeSinceLastShowHours:48},inChatMessages:{enabled:!1,messageType:"text",minTimeSinceLastShowHours:0},dialpadCTA:{enabled:!1},callerIdChinaWarning:{enabled:!1,minTimeSinceLastShowHours:48},ignoreCallTerminatedReasons:[14],trackIgnoredCalls:!1},callingSettingsPanel:{callForwarding:{enabled:!1,link:"https://secure.skype.com/portal/main-page?page=callForwarding",goTarget:"myaccount.call-forwarding",useExternalWebBrowser:!1},callerId:{enabled:!0,dataThrottlingMs:6e4,countryCodesThrottlingMs:6048e5,smsCapableEnabled:!0,learnMoreLink:"https://go.skype.com/help.faq.callerid",upsellSkypeNumber:!1}},callIntent:{allowNonE164NumberCalls:!1},creditUpsell:{enablePaidUsersCallForwardingUpsell:!1,enableAllUsersCallForwardingUpsell:!1},sendCredit:{enabled:!1,defaultDenominationEnabled:!0,defaultDenominationId:"option-2",defaultCardEnabled:!0,defaultCardId:"misc:skype-credit",contactsRefreshIntervalMs:864e5,optionsRefreshThrottlingMs:36e5,statusCheckDelayMs:1e3,statusCheckIntervalMs:3500,statusCheckAttempts:20,topupEnabled:!0,topupButtonType:u.SendCreditTopupButtonType.Orange,learnMoreLink:"http://go.skype.com/gift.promo.home",skypeToPhoneEnabled:!1},skypeNumber:{showInProfile:!1,forceLearnMoreButton:!1,link:"https://secure.skype.com/my/skype-number",goLink:"client.s4l.skype-number",manageGoLink:"client.s4l.skype-number-manage",backNavigation:!1,useExternalWebBrowser:!1,smsPackCampaign:{countries:[],endDate:void 0},nativeBuyExperience:{enabled:!1,showInfoButton:!0,openInfoWebViewByDefault:!1,inAppInfoScreen:!1,openInfoScreenByDefault:!0,withDataCollection:["fr","br","ch","de","jp"],withResidencyDeclaration:["pl","ie","za"],withTosEnabled:["br","ch","fr","hk","mx","nl","se"],withProviderLogo:["ro"],refreshIntervalSeconds:604800,termsOfServiceUrls:{skypeHelp:"https://go.skype.com/help",br:"https://go.skype.com/legal.terms.gtbrazil",ch:"https://go.skype.com/tos.switzerland",fr:"https://go.skype.com/legal.terms.voxbone",hk:"https://go.skype.com/tos.hongkong",mx:"https://go.skype.com/tos.mexico",nl:"https://go.skype.com/tos.netherlands",se:"https://go.skype.com/legal.terms.sweden.dna"}},newSkypeNumberPanel:{enableInfoText:!1,enableWarningText:!0,enableCallerIdToggle:!0,prettifyBuyButton:!0,showShareButton:!0,desktopShare:{defaultMail:!0,outlook:!0,gmail:!0},showInfoButton:!0,verifyButton:{enabled:!0,openInExternalBrowser:!1}}},currencyConversion:{cacheInSeconds:60},purchaseOptions:{enabled:!0,refreshIntervalSeconds:60},billingInformations:{refreshIntervalSeconds:60},orderStatus:{statusMap:{DELIVERED:"success",CREATED:"pending",SENT_TO_PSP:"pending",PAYMENT_PENDING:"pending",PAYMENT_CONFIRMED:"pending",PSP_ERROR:"failure",REFUSED:"failure",PAYMENT_REFUSED:"failure",SENT_FOR_REVERSE:"failure",REVERSED:"failure",SENT_FOR_CANCEL:"failure",CANCELLED:"failure",SENT_FOR_PARTIAL_REFUND:"failure",PARTIALLY_REFUNDED:"failure",SENT_FOR_REFUND:"failure",REFUNDED:"failure",CHARGED_BACK:"failure",CHARGE_BACK_INITIATED:"failure"}},offerStore:{prefetch:!0},nativeProducts:{refreshIntervalSeconds:60,offerHref:"/offers/credit/skus/credit-10",offerHrefMap:{"com.skype.skype.subscription.us_mixed_unlimited_ios.1_month":"/offers/calling/skus/us-mixed-unlimited-ios/subscriptions/1-month","com.skype.skype.subscription.world_mixed_unlimited_ios.1_month":"/offers/calling/skus/world-mixed-unlimited-ios/subscriptions/1-month","com.skype.skype.subscription.northamerica8_mixed_unlimited_ios.1_month":"/offers/calling/skus/northamerica8-mixed-unlimited-ios/subscriptions/1-month","com.skype.skype.subscription.true_world_mixed_unlimited_ios.1_month":"/offers/calling/skus/new-world-mixed-unlimited-ios/subscriptions/1-month","com.skype.raider.subscription.us_mixed_unlimited_gplay.1_month":"/offers/calling/skus/us-mixed-unlimited-gplay/subscriptions/1-month","com.skype.raider.subscription.world_mixed_unlimited_gplay.1_month":"/offers/calling/skus/world-mixed-unlimited-gplay/subscriptions/1-month","com.skype.raider.subscription.northamerica8_mixed_unlimited_gplay.1_month":"/offers/calling/skus/northamerica8-mixed-unlimited-gplay/subscriptions/1-month","com.skype.raider.subscription.true_world_mixed_unlimited_gplay.1_month":"/offers/calling/skus/new-world-mixed-unlimited-gplay/subscriptions/1-month"},destinations:{enabled:!0},personalizedOffers:{enabled:!1,balanceStatePanelEnabled:!1,callFailureScreenEnabled:!0,callFailureScreenPrefilledFallback:!0,usePreFilledAfterTimeout:!0,timeoutTime:5e3},webToNativeOfferMap:{iphone:{},gPlay:{}},manageSubscription:{apple:{enabled:!0,subscriptionPlanRegExp:"-ios$",url:"itms-apps://apps.apple.com/account/subscriptions"},gPlay:{enabled:!0,openInExternalBrowser:!0,subscriptionPlanRegExp:"-gplay$",url:"https://play.google.com/store/account/subscriptions"}},ios:{credit:{china:["com.skype.tomskype.pricetier.5"],iphone:["com.skype.skype.pricetier.5","com.skype.skype.pricetier.10","com.skype.skype.pricetier.25"]},subscription:{china:[],iphone:["com.skype.skype.subscription.au_mixed_300_ios.1_month","com.skype.skype.subscription.bd_mixed_400_ios.1_month","com.skype.skype.subscription.in_mixed_800_ios.1_month","com.skype.skype.subscription.us_mixed_unlimited_ios.1_month","com.skype.skype.subscription.true_world_mixed_unlimited_ios.1_month"]},skypeNumber:{china:{},iphone:{US:"com.skype.skype.skype_number.us_ios.1_month",GB:"com.skype.skype.skype_number.gb_ios.1_month",AU:"com.skype.skype.skype_number.au_ios.1_month",CL:"com.skype.skype.skype_number.cl_ios.1_month",CO:"com.skype.skype.skype_number.co_ios.1_month",CZ:"com.skype.skype.skype_number.cz_ios.1_month",DK:"com.skype.skype.skype_number.dk_ios.1_month",EE:"com.skype.skype.skype_number.ee_ios.1_month",FI:"com.skype.skype.skype_number.fi_ios.1_month",HK:"com.skype.skype.skype_number.hk_ios.1_month",HU:"com.skype.skype.skype_number.hu_ios.1_month",NZ:"com.skype.skype.skype_number.nz_ios.1_month",PR:"com.skype.skype.skype_number.pr_ios.1_month"}},billingPeriods:{iphone:{"com.skype.skype.subscription.us_mixed_unlimited_ios.1_month":["com.skype.skype.subscription.us_mixed_unlimited_ios.12_months"],"com.skype.skype.subscription.in_mixed_800_ios.1_month":["com.skype.skype.subscription.in_mixed_800_ios.12_months"],"com.skype.skype.subscription.gb_mixed_400_ios.1_month":["com.skype.skype.subscription.gb_mixed_400_ios.12_months"],"com.skype.skype.subscription.au_mixed_300_ios.1_month":["com.skype.skype.subscription.au_mixed_300_ios.12_months"],"com.skype.skype.subscription.ca_mixed_unlimited_ios.1_month":["com.skype.skype.subscription.ca_mixed_unlimited_ios.12_months"],"com.skype.skype.skype_number.us_ios.1_month":["com.skype.skype.skype_number.us_ios.12_months"],"com.skype.skype.skype_number.gb_ios.1_month":["com.skype.skype.skype_number.gb_ios.12_months"],"com.skype.skype.skype_number.au_ios.1_month":["com.skype.skype.skype_number.au_ios.12_months"]}}},android:{credit:{gPlay:["com.skype.raider.pricetier.5","com.skype.raider.pricetier.10","com.skype.raider.pricetier.25"]},subscription:{gPlay:["com.skype.raider.subscription.au_mixed_300_gplay.1_month","com.skype.raider.subscription.bd_mixed_400_gplay.1_month","com.skype.raider.subscription.in_mixed_800_gplay.1_month","com.skype.raider.subscription.us_mixed_unlimited_gplay.1_month","com.skype.raider.subscription.true_world_mixed_unlimited_gplay.1_month"]},skypeNumber:{gPlay:{US:"com.skype.raider.skype_number.us_gplay.1_month",GB:"com.skype.raider.skype_number.gb_gplay.1_month",AU:"com.skype.raider.skype_number.au_gplay.1_month",CL:"com.skype.raider.skype_number.cl_gplay.1_month",CO:"com.skype.raider.skype_number.co_gplay.1_month",CZ:"com.skype.raider.skype_number.cz_gplay.1_month",DK:"com.skype.raider.skype_number.dk_gplay.1_month",EE:"com.skype.raider.skype_number.ee_gplay.1_month",FI:"com.skype.raider.skype_number.fi_gplay.1_month",HK:"com.skype.raider.skype_number.hk_gplay.1_month",HU:"com.skype.raider.skype_number.hu_gplay.1_month",NZ:"com.skype.raider.skype_number.nz_gplay.1_month",PR:"com.skype.raider.skype_number.pr_gplay.1_month"}},billingPeriods:{gPlay:{"com.skype.raider.subscription.us_mixed_unlimited_gplay.1_month":["com.skype.sub.us_mx_unl_gplay.12m"],"com.skype.raider.subscription.in_mixed_800_gplay.1_month":["com.skype.sub.in_mixed_800_gplay.12m"],"com.skype.raider.subscription.gb_mixed_400_gplay.1_month":["com.skype.sub.gb_mixed_400_gplay.12m"],"com.skype.raider.subscription.au_mixed_300_gplay.1_month":["com.skype.sub.au_mixed_300_gplay.12m"],"com.skype.raider.subscription.ca_mixed_unlimited_gplay.1_month":["com.skype.sub.ca_mx_unl_gplay.12m"],"com.skype.raider.skype_number.us_gplay.1_month":["com.skype.skype_number.us_gplay.12m"],"com.skype.raider.skype_number.gb_gplay.1_month":["com.skype.skype_number.gb_gplay.12m"],"com.skype.raider.skype_number.au_gplay.1_month":["com.skype.skype_number.au_gplay.12m"]}}},subscriptionSearch:{iphone:[],gPlay:[]},disclaimers:{indiaCallLimitations:{enabled:!0,learnMoreLink:"https://go.skype.com/indiafaq",subscriptions:["com.skype.skype.subscription.in_mixed_100_ios.1_month","com.skype.skype.subscription.in_mixed_800_ios.1_month","com.skype.skype.subscription.in_mixed_2500_ios.1_month","com.skype.raider.subscription.in_mixed_100_gplay.1_month","com.skype.raider.subscription.in_mixed_800_gplay.1_month","com.skype.raider.subscription.in_mixed_2500_gplay.1_month"]},chinaCallerIdLimitations:{enabled:!1,learnMoreLink:void 0,subscriptions:["com.skype.skype.subscription.cn_mixed_100_ios.1_month","com.skype.skype.subscription.cn_mixed_400_ios.1_month","com.skype.skype.subscription.cn_mixed_1000_ios.1_month","com.skype.raider.subscription.cn_mixed_100_gplay.1_month","com.skype.raider.subscription.cn_mixed_400_gplay.1_month","com.skype.raider.subscription.cn_mixed_1000_gplay.1_month"]},dualPricing:{country:"HR",startDate:"2022-09-05",switchDate:"2023-01-01",endDate:"2024-01-01",oldCurrency:"HRK",oldCurrencyRate:"7.53450",newCurrency:"EUR",newCurrencyRate:"1.00000"}}},webProducts:{refreshIntervalSeconds:60,goLinkCreditCheckout:"client.s4l.credit-checkout.web",goLinkCallingCheckout:"client.s4l.calling-checkout.web",goLinkCreditSelection:"client.s4l.credit-selection.web",goLinkCallingSelection:"client.s4l.calling-selection.web",goLinkCallingRates:"client.s4l.calling-rates.web",credits:[{goLink:"client.s4l.credit-checkout.web",apiPurchaseItem:"/offers/credit/skus/credit-5"}],subscriptions:[{goLink:"client.s4l.calling-rates.web",apiPurchaseItem:""}],destinations:{enabled:!0},disclaimers:{indiaCallLimitations:{enabled:!0,learnMoreLink:"https://go.skype.com/indiafaq",subscriptions:["in-mixed-100","in-mixed-800","in-mixed-2500"]},chinaCallerIdLimitations:{enabled:!1,learnMoreLink:void 0,subscriptions:["cn-mixed-100","cn-mixed-400","cn-mixed-1000"]}},billingPeriods:{enabled:!0,useAssetsApi:!1,periods:{threeMonths:!1,twelveMonths:!0}}},webConfig:{pathsRequiringHeaders:["buy/offer/","portal/overview/","portal/profile/"],checkoutPaths:["buy/offer/","my/checkout/"],checkoutOfferParams:["item","F%5BexternalId%5D"]},atu:{offerHref:"/offers/credit/skus/credit-10",limits:{EUR:"€2,00",USD:"$2.00",GBP:"£2.00",JPY:"¥300",PLN:"8,00 zł",SEK:"20 kr",DKK:"kr.16,00",HKD:"HK$ 20.00",NOK:"kr 16,00",CAD:"C$3.00",AUD:"AU$4.00",CHF:"SFr. 4.00",CNY:"¥12.00",BRL:"R$ 6,00",TWD:"NT$80",KRW:"₩3,000",INR:"₹ 120.00"}},callFailure:{callFailurePrompt:{enabled:!1,addParticipantEnabled:!1,copiesOption:"positive",cardsToShow:{credit:1,calling:1}},smsFailurePrompt:{enabled:!1,cardsToShow:{credit:1,calling:1}},postPurchasePrompt:{enabled:!1,timeLimitMinutes:10},tasterPostCall:{enabled:!1,cardsToShow:{credit:1,calling:1}}},pstnProfileOption:{enabled:!1},newBuyCreditExperience:{creditPickerOnTasterPostCall:!1,preselectedCreditId:"credit-10",gPlayPreselectedCreditId:"com.skype.raider.pricetier.10",useClientFormattingForCurrencies:[],wrapForContentLengthGreaterThan:10,sizes:{large:{contentLengthThreshold:4,smallDeviceFontSize:20,selectedItemSmallDeviceFontSize:20,mobileFontSize:20,selectedItemMobileFontSize:20,desktopFontSize:20,selectedItemDesktopFontSize:20},medium:{contentLengthThreshold:8,smallDeviceFontSize:14,selectedItemSmallDeviceFontSize:14,mobileFontSize:16,selectedItemMobileFontSize:16,desktopFontSize:19,selectedItemDesktopFontSize:19},small:{contentLengthThreshold:100,smallDeviceFontSize:13,selectedItemSmallDeviceFontSize:13,mobileFontSize:16,selectedItemMobileFontSize:16,desktopFontSize:19,selectedItemDesktopFontSize:19}}},createOrderFailure:{recoveryFlowEnabled:!1,forceRedirectToWebEnabled:!1,displayUserMessage:!0},payments3ds:{enabled:!1,popupDelay:.5,allowRetryOnPurchaseLimitReached:!0,allowRedirectPage:!0,redirectGolink:"3ds.checkout",redirectParamName:"pspRedirect"},smsPromo:{unpaidUserEnabled:!1},googlePay:{enabled:!1,enabledForSubscriptions:!1,tokenSpecGateway:"adyen",tokenSpecMerchantId:"SkypeAdyenOneOff",merchantName:"Skype Communications S.a.r.l.",merchantId:"BCR2DN6TSO56BQLA",forbiddenForOfferIds:[],instrumentName:"Google Pay",instrumentDisplay:"Google Pay",instrumentLogoPath:"payment/methods/logo/large/GOOGLE-PAY",totalPriceStatus:"NOT_CURRENTLY_KNOWN",storeInstrument:"0",storeInstrumentForSubscriptions:"1",tempDisableAfterError:!0},enableAgeAppropriateDesign:!1,usePurchaseConfirmationDialogView:!1,useStratusEndpointsV2:!1,improveStratusFailureHandling:!1,improveStratusFailureHandlingMaxRetries:5,showLowestPrice:!1,invertBillingPeriodsAndPreselectAnnualSubscription:!1,gPlayUpgradeLink:"https://support.google.com/googleplay/answer/9037938",pullNewsConfig:{endpointUrl:"",query:"",nextPageEndpoint:""},todayTab:{enabled:!1,url:"https://www.msn.com/staticsb/statics/latest/0/channel/index.html",desktopUrls:{feed:"https://www.msn.com/staticsb/statics/latest/0/channel/index.html?ocid=desktopFeed",following:"https://www.msn.com/staticsb/statics/latest/0/channel/index.html?ocid=desktopFollowing",interests:"https://www.msn.com/staticsb/statics/latest/0/channel/index.html?ocid=desktopInterests"},authTokenFetchTimeoutMs:1e4,authTokenFetchMaxRetries:3,redirectThresholdMS:1500,authTokenExpirationThresholdMs:18e5,debuggingInMasterEnabled:!1,enableDailyBadging:!1,enableCookiePersistenceInLocalStorage:!1,enableInAppBrowser:!1,articleReaderSize:h.RightSidebarSize.Large,followingTabSupportedMarkets:["en-us"],enableATT:!1,msnDomain:"msn.com"},articleReader:{trustedHosts:["msn.com","www.msn.com"]},miniAppConfig:{enabled:!1},weatherInHeader:Object.assign({enabled:!1},e)}}_getHeadersDefault(){return{CountryCode:"",ETag:"",Expires:Date.now().toString(),StatusCode:""}}_getPeopleSearchDefault(){return{v2Endpoint:"https://skypegraph.skype.com/v2.0/search",serviceSettings:{experiment:"Default",geoProximity:"disabled"}}}_getS4LEntitlementDefaults(){return{SCE:{UserServices:{Client:{Features:{BackendEnabled:!0,UIEnabled:!0,AdvancedPullingEnabled:!0,RateIntegrationEnabled:!0,ReactivationEnabled:!1,DarkerDialerBarEnabled:!1,OldEntitlementsClientEnabled:!1,NewUcuxCallActionEnabled:!1,ImprovedPollingTelemetryEnabled:!0,gPlayFallbackToSkypeOffers:!0,gPlayReconnectOnServiceDisconnected:!1,gPlayMaxReconnectionsOnServiceDisconnected:5,CallerIdTelemetryOnSMSSent:!1},Service:{Host:"consumer.entitlement.​skype.com",RetryLimit:5,RetriableCodes:["40402","50310","500"],RetryInterval:[{Codes:["40402"],Pattern:[5e3,1e4,2e4,3e4,6e4]},{Codes:["50310","IOException"],Pattern:[1e3,2e3,4e3,8e3,16e3]}],PollingStrategies:{Long:36e5,Medium:3e5,Fast:3e3,Immediate:0}},Experiments:{SkypeToPhoneCard:"default",SkypeToPhoneInProfile:!0,SkypeToPhoneBanner:"default"}},ServiceGroups:{Credit:["pstn"],Calling:["plan","package","minute_plan"],OnlineNumbers:["skypein","skypein2"],PersonalExpressions:["moiji"]}},Dialpad:{EmergencyCall:{allowedCountries:["gb","fi","au","dk","us"],allowedNumbers:["000","01","02","03","04","08","11","15","16","17","18","051","61","62","91","93","94","100","101","102","103","104","105","107","108","110","111","0112","112","113","114","115","117","118","119","122","123","128","133","140","141","142","143","144","145","147","150","151","155","158","160","163","166","175","177","179","190","191","192","196","197","199","532","911","961","984","985","986","987","991","992","993","994","995","996","997","998","999","1145","1400","1412","1414","1415","1510","1515","1525","1530","1591","1717","1800","1802","1804","1987","9155","116000","116006","116111","116117","116123"]},E911:{enabledCountries:["us"],locationEnabled:!0,locationNumbers:["911"],locationUpdateEventEnabled:!0,locationUpdateThrottlingMs:6e5,locationFAQLink:"https://go.skype.com/e911"},CountryCodeToCountryDefault:{1:"us",7:"ru",44:"gb",47:"no",61:"au",64:"nz",262:"re",358:"fi",500:"fk",590:"gp",599:"cw"},ContactsSearch:{ExecutionDelay:280,T9SearchEnabled:!1},Calling:{TestPrefixes:[999],NonGeographicPrefixes:[800,883,870,871,872,873,874,888]},Features:{ContactsIconEnabled:!1,SaveContactEnabled:!1,SiriIntegrationPromptEnabled:!1,SmsButtonEnabled:!0,ExtensionDialingEnabled:!1,TasterPromotionEnabled:!1},NumberInput:{decodeHtmlMaxIterations:5}},CallRates:{PerCurrency:{AUD:.025,BRL:.05,CAD:.024,CHF:.02,CNY:.14,DKK:.127,EUR:.017,GBP:.014,HKD:.18,INR:1.39,JPY:2.26,KRW:24.95,NOK:.137,POL:.07,SEK:.149,TWD:.68,USD:.023},TasterCallMaxDurationMinutes:5},PersonalizedOffers:{Features:{CallEndRecommendationsEnabled:!0,FreeTrialsEnabled:!1,UpsellOnBalanceStateEnabled:!1,UpsellOnBalanceStateSettings:{cardsToShow:3,defaultOpened:!0,showAllButtonEnabled:!1},DynamicRecommendationsLoadingEnabled:!1,RecommendationsToLoadCount:3,PromotionsEndpointsTelemetryEnabled:!0,SearchOnViewMoreClick:{enabled:!1,nativeSearchOnSecondClick:!1}}},ConsumableProducts:{Features:{gPlayConsumablesEnabled:!1}},CallingSubscriptions:{Features:{UpgradeEnabled:!1,UpgradeCoachMarkEnabled:!1,iOSSubscriptionsEnabled:!1,gPlaySubscriptionsEnabled:!1,MinutesResetEnabled:!0,ManageSubscriptionsUXImprovements:!0},UpgradeSettings:{Threshold:.1}},SkypeToPhoneBanner:{Features:{BannerEnabled:!1,ForceShowBanner:!1}}}}}_getSkypeAudioLibraryDefaults(){return{ECS_AudioDL_DisableRouteChangeNotification:"0",ECS_ADSP_VirtualSessionVolume:"true"}}_getNativePlatformsDefaults(){return{enableIOSNewNotifications:!1,dismissNotificationForReadMessages:!1,quickActions:{enabled:!1,options:a.DefaultQuickActionIds},iPadCredentialsMigration:!0,enableMacOSQuarantineFlagForDownloadedFiles:!1,enableRemoteClientAppearancePreferences:!1,enableElectronNativeModals:!1,enableAndroidDirectShare:!1,enableMobileThemePickerAutoSkip:!1,enablePresenceCorrection:!1,enableAppActivationStateEventsDebouncing:!1,appActivationStateChangeDebounceTime:600,enableIAPFlowForAmazonDevices:!1,enablePurchaseLinkForAmazonDevices:!1,enableInAppNotificationsForMobileBrowsers:!1,enableIdleDetector:!1,iOSCommunicationNotifications:!1,enableIOSNativeCalls:!1,enableIOSPushNotifySkyLib:!1,enableIOSNativeIncomingCallNotifications:!1,enableAndroidNotificationsImagePreview:!1,extensionTelemetryServiceScheduleInterval:12*_.HOUR,enableIosAccountCleanup:!1,enableAdjustTracking:!0,captureProviders:{messaging:"officeLens",avatar:"officeLens",qrCode:"officeLens"},insufficientDiskAlertThreshold:0}}_getJoinDefaults(){return{autoJoinCall:!1,guestFlow:{enabled:!1},meetings:{apiHost:"https://api.join.skype.com"},joinLinkHost:"https://join.skype.com"}}_getAdsDefaults(){return{enabled:!1,naExperimentEnabled:!1,naExperimentName:"No Experiment",isAdDescriptionClickable:!1,testDevices:[],placementSettings:{conversationList:{enabled:!1,forced:!1,minRequiredAdjacentItems:1,maxRequiredAdjacentItems:9999,placementIds:["noPlacementId"],bingAdsSettings:void 0,provider:h.AdsProvider.MeetNow,adsType:h.AdsType.ListItemNarrow,adsToRequest:0,isAdMediaClickable:!0,refreshIntervalInMinutes:50,canHide:!1,adIconMaskSettings:{enabled:!0,adIconMask:"CircleBigNeg"},fixedPosition:8,enhancedPositioning:{enabled:!0,minPosition:2,availableScreenSizeFactor:1,minimumVisibleAdHeightRate:.05,allowMoveToPreviousGroup:!0,groupLimitation:h.AdsListGroupType.Favourites},dynamicDimensionsSettings:{enabled:!0,adMediaRatio:1.91,defaultMediaHeight:119,defaultMediaWidth:227,numberOfNeighbouringItemsDefiningMaxAdHeight:4},backupContent:{enabled:!1,contentProvider:h.AdsProvider.Msn,switchAfterErrorCount:0,switchDelayInSeconds:1},rotateProviderAfterNErrors:1,rotateProviderWhenNotEligible:!1},alertsPanel:{enabled:!1,forced:!1,minRequiredAdjacentItems:1,maxRequiredAdjacentItems:9999,placementIds:["noPlacementId"],bingAdsSettings:void 0,provider:h.AdsProvider.MeetNow,adsType:h.AdsType.ListItemNarrow,adsToRequest:0,canHide:!1,isAdMediaClickable:!0,refreshIntervalInMinutes:50,adIconMaskSettings:{enabled:!0,adIconMask:"CircleBigNeg"},fixedPosition:8,enhancedPositioning:{enabled:!0,minPosition:2,availableScreenSizeFactor:1,minimumVisibleAdHeightRate:.05,allowMoveToPreviousGroup:!1,groupLimitation:h.AdsListGroupType.None},dynamicDimensionsSettings:{enabled:!0,adMediaRatio:1.91,defaultMediaHeight:119,defaultMediaWidth:227,numberOfNeighbouringItemsDefiningMaxAdHeight:4},backupContent:void 0}},msnApiContent:{ocid:"skypeint",apiKey:"NO_API_KEY",downloadProviderIcon:!0,msnFeedbackUrl:"https://api.msn.com/feedback/api/AppEvents",msnPersonalizeUrl:"https://go.microsoft.com/fwlink/?LinkID=286759",categoryFilter:["lifestyle"]},templateSettings:{msn:{showSponsored:!0,showAdChoices:!1,narrowTemplateShowButton:!1,narrowTemplateShowButtonNoBorder:!1,bannerShowProviderIcon:!0,bannerShowAdLabel:!1,nativePrefixSponsoredWithProviderName:!1},meetnow:{showSponsored:!1,showAdChoices:!1,narrowTemplateShowButton:!0,narrowTemplateShowButtonNoBorder:!1,bannerShowAdLabel:!1,bannerTitleWithBody:!0},fan:{showSponsored:!0,showAdChoices:!0,narrowTemplateShowAdChoicesUnderSponsored:!0}},featurePromoConfig:{showToPaying:!0,showToUnderAge:!0,meetNowShowOnlyToSmallContactList:!1,meetNowShowOnlyWhenNotUsed:!1,meetNowSmallContactListSize:3,meetNowTitleVariant:2},placementsConfigs:{conversationList:{bannersList:[T.Banner.SkypeNumberChats]}},skypeNumberAdConfig:{enabled:!1,titleVariant:1,subtitleVariant:1,buttonVariant:1,inlineButton:!0,image:"movinghome"},contactPermissionAdConfig:{enabled:!1},linkYourPhoneAdConfig:{enabled:!1},skypeNumberUpsellScreenConfig:{enabled:!1,titleVariant:1,subtitleVariant:1,buttonVariant:1},reloadOnClick:!0}}_getOnboardingDefaults(){return{enableCoachMarks:!0,enableReportProblemViaBot:!1,enableInContextCameraPermission:!1,themeAwareOnboardingEnabled:!1,useCommonAvatarPicker:!1,showAvatarUploadPictureButton:!1,showAvatarPickerOnlyToUsersWithoutAvatar:!1,desktopAvatarPickerRedesignEnabled:!1,desktopAvatarPickerRedesignVariant:void 0,features:{enablePrefillPhoneNumberAndCode:!1,enableReportProblemDirectly:!1,disableAllDialogsAndPopCards:!1,enablePhoneNumberVerification:!1,showPrefillPhoneNumberPrompt:!1,checkAccountSectionDataLoadTimeOut:1e3,checkAccountSectionBoxEnabled:!0,androidFinishSetupPromptEnabled:!0,showMobileCoachmarksOnFirstRun:!0,disableShowWebSetupWizardOnlyOnce:!1,landingCarouselWebsiteLink:"https://www.skype.com",userProfileScreen:{enabled:!1,enableAddPhone:!1,enableAddEmail:!1,learnMoreLink:"https://go.skype.com/privacy",closeBackIconEnabled:!1},emptyStateBanner:{enabled:!1,type:p.EngagementBannerType.CreateGroup,syncContactsBannerConvCountLimit:5},skipAudioVideoSettingsSteps:!0},landingPageWithCards:{enabled:!0,cardsConfig:{MeetNowExtended:{hideButtonIcon:!1}},timelineConfig:{0:{cards:["MeetNowExtended","MobileLandlines"],enableShareProfileButton:!0}},whatsNewCardAfterUpdate:{enabled:!0,showCardTimes:1,cardActionUrl:"https://go.skype.com/whats.new.skype"},inviteFriendsConfig:{enabled:!1,enabledMobile:!1,enabledGoogle:!1,enabledOutlook:!1}},enableContactSyncWithoutConfirmationScreen:!1,telemetryConsent:{enabled:!0},hubToShowAfterFinishedOnboarding:b.HubToShowAfterFinishedOnboarding.Recents,displayUserIconInAllHubs:!1,enableThemeUsingSystemDefaultOnly:!1,conversationsListEmptyStateDesignV2:{enabled:!1,backgroundVariant:b.ChatsEmptyStateBackground.Chat},enableEmptyStateCTADesignV2:!1}}_getEngagementDefaults(){return{engagementSenderIdentity:["28:concierge","28:concierge_df"],conciergeBlockedMessageTypes:["RichText","RichText/Media_FlikMsg","RichText/Media_Card"],conciergeBotSettings:{enableVisibility:!1,enableMessageReactions:!1,allowedRecentMessageTypes:["RichText"]},notAllowedForChildrenList:[],enableExternalBrowserLinkOpen:!1,enableInAppBrowserLinkOpen:!1,enableFirstRunExperienceFiltering:!0,firstRunExperienceAllowedList:[],shouldPrevalidateChatServiceMessage:!1,notices:{enabled:!1,defaultTimeoutSeconds:1209600,enabledMessageContentTypes:[],maxBulkSize:20,schemaVersion:[1]},popCards:{enabled:!1,backButtonEnabled:!0,escKeyEnabled:!0,defaultTimeoutSeconds:1209600,maxBulkSize:10,toggleCloseOnLeft:!1,uiVersion:p.EngagementUiVersion.V3,imagePreloadEnabled:!0},coachMarks:{disabledCoachMarkAreas:[],disabledCoachMarkTypes:[],thresholdPerSession:0,navigationAnimationDelayInMilliseconds:1e3},tooltips:{campaignName:"",enabledTypes:[],emoticonsAfterBody:{},imageAfterBody:{},triggers:{},showGotItButton:{}},engagementUserTagging:{enabled:!0,maxDurationInSeconds:10},clientTriggeredEngagement:{enabled:!1,queueProcessingDelayInMs:500,campaignFiltering:{enabled:!1,allowedCampaignIds:[]}},engagementTelemetryAttributes:{allowedKeys:[]},engagementPostMessage:{enabled:!1,userContextAllowedOrigins:[]},engagementApiClient:{enabled:!0,engagementApiHostPath:"https://engagementapi.skype.com/v1",excludedCampaignIds:[],requestRetries:3,postApiEnabled:!1},engagementShareableContent:{enabled:!0,enableOneClickSend:!0,enableCustomMessageField:!1,enableCarousel:!0,dialogTitleVariant:p.EngagementShareableContentTextVariant.ShareContacts,cardBtnTitleVariant:p.EngagementShareableContentTextVariant.Share},notificationSettings:{emailNotificationsSettingsEnabled:!1,emailMissedMessageReminders:{enabled:!1,timeWindowInHours:24},emailMissedCallReminders:{enabled:!1,timeWindowInHours:24}},engagementMessagesQueue:{enabled:!1,refreshTime:6e5},signInReminders:{enabled:!1,schedule:[],throttlingInSeconds:-1,campaignId:"",emitControlTelemetryEnabled:!1},signOutReminders:{enabled:!1,schedule:[],throttlingInSeconds:-1,campaignId:"",emitControlTelemetryEnabled:!1},engagementHelperRetrySetting:{maxNumberOfRetries:5,exponentialTimeForRetryInitialTime:100,exponentialTimeForRetryMaxTime:5e3},engagementOfflineTargetedPullSetting:{searchForOfflineTargetedPullMetadataEnabled:!1},engagementCelebrationNotificationSetting:{enabled:!1,refreshTime:864e5,celebrationNotificationsTopContactCutOff:-1,isThrottlingOnLocalSettingsEnabled:!1,isThrottlingOnRoamingSettingsEnabled:!1,isContactCutOffEnabled:!1,getAllContactsMrisEnabled:!1,isDiscardingOnAppActiveEnabled:!1},whatsNewSetting:{enabled:!1,url:"https://go.skype.com/whats.new.skype",coachmarkEnabled:!1},inviteFriendsSetting:{enabled:!1,isBold:!1},guestUserUpsell:{enabled:!0,meetNowWebUrl:"https://www.skype.com/en/free-conference-call/?cm_mmc=guest_postcall",meetNowDeepLink:"skype-meetnow:?action=meetnow&partner=guestUpsell"},engagementPostCallCampaign:{enabled:!1,campaignId:"",campaignVariant:"",eligibleCallOrigins:[S.NavigationCallOrigin.ConversationHeader,S.NavigationCallOrigin.ConversationListItem,S.NavigationCallOrigin.LegacyCreateLobby,S.NavigationCallOrigin.LegacyJoinLobby,S.NavigationCallOrigin.CreateLobby,S.NavigationCallOrigin.JoinLobby,S.NavigationCallOrigin.DeeplinkWithCallTrue]},newAvatarPicker:!1,emoticonsAvatarsList:[{emoticonKey:"smilecat",gradientColor:S.EmoticonAvatarsBackgrounds.Orange},{emoticonKey:"1f639_catwithtearsofjoy",gradientColor:S.EmoticonAvatarsBackgrounds.Teal},{emoticonKey:"1f640_wearycat",gradientColor:S.EmoticonAvatarsBackgrounds.Green},{emoticonKey:"hearteyescat",gradientColor:S.EmoticonAvatarsBackgrounds.Pink},{emoticonKey:"1f438_frogface",gradientColor:S.EmoticonAvatarsBackgrounds.Yellow},{emoticonKey:"smilekoala",gradientColor:S.EmoticonAvatarsBackgrounds.Green},{emoticonKey:"1f434_horseface",gradientColor:S.EmoticonAvatarsBackgrounds.Teal},{emoticonKey:"1f43b_bearface",gradientColor:S.EmoticonAvatarsBackgrounds.Blue},{emoticonKey:"hug",gradientColor:S.EmoticonAvatarsBackgrounds.Yellow},{emoticonKey:"hedgehoghug",gradientColor:S.EmoticonAvatarsBackgrounds.Indigo},{emoticonKey:"bunnyhug",gradientColor:S.EmoticonAvatarsBackgrounds.Yellow},{emoticonKey:"foxhug",gradientColor:S.EmoticonAvatarsBackgrounds.Teal},{emoticonKey:"koala",gradientColor:S.EmoticonAvatarsBackgrounds.Teal},{emoticonKey:"cat",gradientColor:S.EmoticonAvatarsBackgrounds.Orange},{emoticonKey:"heidy",gradientColor:S.EmoticonAvatarsBackgrounds.Pink},{emoticonKey:"1f9a9_flamingo",gradientColor:S.EmoticonAvatarsBackgrounds.Yellow},{emoticonKey:"penguin",gradientColor:S.EmoticonAvatarsBackgrounds.Orange},{emoticonKey:"1f426_bird",gradientColor:S.EmoticonAvatarsBackgrounds.Pink},{emoticonKey:"1f989_owl",gradientColor:S.EmoticonAvatarsBackgrounds.Indigo},{emoticonKey:"bee",gradientColor:S.EmoticonAvatarsBackgrounds.Green},{emoticonKey:"flower",gradientColor:S.EmoticonAvatarsBackgrounds.Yellow},{emoticonKey:"1f992_giraffe",gradientColor:S.EmoticonAvatarsBackgrounds.Green},{emoticonKey:"stingray",gradientColor:S.EmoticonAvatarsBackgrounds.Orange},{emoticonKey:"hotchocolate",gradientColor:S.EmoticonAvatarsBackgrounds.Blue},{emoticonKey:"hungrycat",gradientColor:S.EmoticonAvatarsBackgrounds.Green},{emoticonKey:"movinghome",gradientColor:S.EmoticonAvatarsBackgrounds.Blue},{emoticonKey:"snegovik",gradientColor:S.EmoticonAvatarsBackgrounds.Indigo},{emoticonKey:"racoon",gradientColor:S.EmoticonAvatarsBackgrounds.Green},{emoticonKey:"1f998_kangaroo",gradientColor:S.EmoticonAvatarsBackgrounds.Teal},{emoticonKey:"octopus",gradientColor:S.EmoticonAvatarsBackgrounds.Yellow},{emoticonKey:"1f421_blowfish",gradientColor:S.EmoticonAvatarsBackgrounds.Blue},{emoticonKey:"1f988_shark",gradientColor:S.EmoticonAvatarsBackgrounds.Indigo}],oldFriendBack:{enable:!1,offlineTime:A.default.add(0,0,182),pushNotificationInterval:A.default.add(0,0,0,4)}}}_getSkypeEngagementDefaults(){return{experiments:{},pullCampaigns:{},blockedCampaignIds:[],shareableContent:{},birthdayContent:{campaignId:"",variantId:"",celebrationNotificationsTopContactCutOff:-1},bingToolboxCampaign:{campaignId:"",variantId:"",refreshThrottlingMs:6*k.HOUR},bingConversationSuggestionsCampaign:{campaignId:"",variantId:"",refreshThrottlingMs:6*k.HOUR},pigeonNotificationConfig:{enableCampaignNotification:!1,host:"https://pigeon.skype.microsoftapp.net/live",notifyMyFriendsConfig:{campaignName:"campaignnotifymyfriendspushpublic",enableNotifyMyFriends:!1}}}}_getS4LFeedbackDefaults(){return{forceSsoFlow:!1}}_getS4LMeetNowDefaults(){return C.default}_getS4LIntegrationsDefaults(){return{enableDesktop:!1,enableAps:!0,apsPublishedStatus:"published",bingIntegration:{enabled:!1,id:"bing",name:"Search",icon:"https://www.bing.com/favicon.ico",url:"https://www.bing.com/api/custom/v1/skype/findpanelconfig",version:1,brandColor:"",brandTextColor:""},integrations:[{enabled:!1,id:"youtube",name:"Youtube",brandColor:"#e62117",brandTextColor:"#ffffff",icon:"https://skypeapps.azureedge.net/assets/youtube/youtube.png",url:"https://skypeapps.azureedge.net/youtube/",version:1}],nativeIntegrationSettings:{onedrive:{maxRecentItemCount:5,shouldShareOnTappingFileItem:!0,shouldShowThumbnailAsFileTypeIcon:!1,shareCardType:"application/vnd.microsoft.card.thumbnail",shouldShowInAddFilesAsAnOption:!1}},findPanelLayout:{isFlatList:!1,includeMediaBarItemsInFlatList:!1,excludedMediaBarItemsInFlatList:[]}}}_getS4LSisuDefaults(){return{msaClientFlight:"ReservedFlight33,suhs",msaClaims:"",msaFlightParameter:"phone2",msaLightweightEnabled:!0,cobrandId:f.MsaCobrand.SkypeDefault,enableNopa:!1,nopaVersion:1,enableCoBaSi:!0,coBaSiVersion:1,sisuExpId:"Default",enableAccountProviderMultipleAccounts:!1,phoneVerificationCampaignEnabled:!1,signoutSurveyEnabled:!1,enableAvatarAppBadge:!1,phoneVerificationCampaignQueryInterval:6048e5,wamRequestRetryTimerInHours:1,identityUrls:{substitutionValue:"%username%",avatar:{enabled:!0,url:"https://avatar.skype.com/v1/avatars/%username%"},avatarPublic:{enabled:!0,url:"https://avatar.skype.com/v1/avatars/%username%/public"},profile:{enabled:!0,url:"https://edge.skype.com/profile/v1/users/%username%/profile"},profilePartial:{enabled:!0,url:"https://edge.skype.com/profile/v1/users/%username%/profile/partial"},ssoNonce:{enabled:!0,url:"https://edge.skype.com/sso/v1/skypetoken"}},reminderNotificationsSchedule:{logoutReminder:[1,3,7,15],remindersToCancelOnLaunch:10},backgroundTokenRefresh:{enabled:!0,enableRefreshTelemetry:!0,forceRefresh:!1,timerRefreshDayInterval:1},signInButtonLabelType:1,msaConvergenceFlags:{convergenceEnabled:!1,entryPointStalenessWindowEnabled:!0,entryPointStalenessWindow:3e5,softInterruptEnabled:!1,interruptInBackground:!1,interruptOnCalls:!1,interruptOnNotifications:!1},msaTokenKeyMigration:{enabled:!1,keychainKey:"Skype for Desktop MSAv2"},msaProfileAgeGroupTTL:108e5,aadcLearnMoreLink:"",alternativeLoginMethods:{methods:[],flipMainAndAlternativeSisuButtons:!1},enableMsixBackgroundTasks:!1,tokenRefreshRefreshThresholdInDays:10,oneAuthStage1Enabled:!1,oneAuthStage2Enabled:!1,enableSsoMultipleAccounts:!1,phoneAuthenticationEnabled:!1}}_getS4LUiDefaults(){return{onlinePresenceTimeoutSeconds:180,showReportAProblemInDesktopOverflow:!1,leftSideBarResizeMode:h.SideBarResizeMode.None,useNativeContextMenus:!0,androidTabletSizeThreshold:6.8,tabletConversationDetailsEnabled:!1,errorSafeImageAltViewDelayMs:200,jsonAnimationEnabled:!0,enableBrowseKnownIssuesLink:!1,searchBarStyle:0,enableRecentChatsSwipeActions:!1,recentChatsSwipeActionsConfig:{left:["markread"],right:["more","call","mute"],overScrollLeft:!0,overScrollRight:!1,overScrollDistance:150},contextHeaderDropdownActions:{oneOnOne:["settings","sendsms","privateconversation","newgroup","translate","highlignts"],group:["settings","shareLink","addpeople"]},enableWebFooterEverywhere:!1,enableWebFooterPreviewBadge:!1,enableWebFeedbackBanner:!1,isPstnCallDetectionFix:!1,joinLinkPlaceholderText:"https://join.skype.com/code",enableWindowRightClose:!1,limitedSupportBrowserToastConfig:{enabled:!0,downloadGoLink:"https://www.microsoft.com/en-us/edge"},enableFlatListVLV:!1,enableStackReactNavigationFreeze:!1,enableNativeBaseModals:!1,enableNativeBaseControls:!1,enableMobileHubV2:!1,enableRefreshedPalette:!0,enableCollapsibleHeaderSearch:!1,enableRecentsFilterPills:!1,enableContentChannels:!1,followedChannelsRefreshIntervalInMins:60,minFREContentChannelsJoin:2,sayHiPopupConfig:{enabledOnNewUser:!1,enabledOnExistingUser:!1,enabledOn409InitialRetry:!1,initialRetrySeconds:3},maxStoreTopCategories:4,articleReaderSize:h.RightSidebarSize.Large}}_getS4LTelemetryDefaults(){return{telemetrySampling:{},perfTelemetrySampling:{},censusTelemetryEnabled:!1,clockSkewRefreshDurationInMins:1,ariaMaxEvents:0,ariaEventsReportIfGreater:0,enableTelemetryFiltering:!0,enableTelemetryConsentUI:!1,enableNestSdkDataVizSink:!0,enableConfigIdsToViz:!1,priorityEventList:[],enablePurposefulTelemetry:!1,enableHighPriorityPerfEvent:!1,enableAndroidBackgroundTelemetry:!1}}getTelemetryDefaults(){return{kpi_inapp_activity_ended:{enabled:I},kpi_inapp_activity_start:{enabled:I},kpi_call_ended:{enabled:I},kpi_message_viewed:{enabled:I},kpi_message_sent:{enabled:I,percentage:10},kpi_message_delivered:{enabled:I,percentage:10},kpi_chatsync_complete:{enabled:I},kpi_pushnotif_delivered:{enabled:I},kpi_pushnotif_displayed:{enabled:I},kpi_badge_count_state:{enabled:I},kpi_client_init:{enabled:I},kpi_push_to_sync_complete:{enabled:I},kpi_search_request:{enabled:I},kpi_postsearch_action:{enabled:I},kpi_contacts_sync_complete:{enabled:I},kpi_chat_service_connection:{enabled:I},kpi_message_sent_retry:{enabled:I},kpi_chatsync_failed:{enabled:I},file_sent:{enabled:I},file_received:{enabled:I},log_crash_sent:{enabled:I},contacts_sync_start_time:{enabled:I},contacts_sync_end_time:{enabled:I},kpi_longpoll_complete:{enabled:I,percentage:1},kpi_longpoll_failed:{enabled:I,percentage:1},sendEcsExpirationTime:!0,engagement_push_notification_event:{enabled:I},SendTextMessageUI:{enabled:I,percentage:10}}}_getAsyncMediaDefaults(){return{auth_trusted_domains:"go.skype.com;login.skype.com;*.api.skype.com;*.asm.skype.com;*.asm.skype.net;neu1-api-xmm.cloudapp.net;*.neu1-api-xmm.cloudapp.net;url-preview.cloudapp.net;*.url-preview.cloudapp.net;latest-webclient.skype.com;web.skype.com;mockproxy-asynclib.cloudapp.net;mockproxy-asynclib3.cloudapp.net;mockproxy-asynclib2.cloudapp.net;authgwint.trafficmanager.net;authgw-preqa.cloudapp.net",trusted_domains:"go.skype.com;login.skype.com;*.api.skype.com;*.asm.skype.com;*.asm.skype.net;neu1-api-xmm.cloudapp.net;*.neu1-api-xmm.cloudapp.net;url-preview.cloudapp.net;*.url-preview.cloudapp.net;*.secure.skypeassets.com;*.secure.skypeassets.net;latest-webclient.skype.com;web.skype.com;mockproxy-asynclib.cloudapp.net;mockproxy-asynclib3.cloudapp.net;mockproxy-asynclib2.cloudapp.net;authgw-preqa.cloudapp.net;avatar.skype.com;apps.skypeassets.com",third_party_downloader_url_schemas:"https;http",storage_limits:{original:{size:314573500},imgpsh:{size:20971520},video:{size:104857600,format:["mp4","mov","webm"]},thumbnail:{size:5242880},audio:{size:20971520,format:["m4a","wav","mp3"]}},cdn_cookie_refresh_request_enabled:!0,cdn_cookie_setter_debounce_wait:6e4,ams_cookie_refresh_request_enabled:!0,ams_cookie_setter_debounce_wait:6e5,fallback_to_file:!1,ams_base_url:"https://api.asm.skype.com",ams_domain_url:[".asm.skype.com",".secure.skypeassets.com"],ams_skypetokenauth_url_format:"{0}/v1/skypetokenauth",ams_create_document_url_format:"{0}/v1/objects",ams_doc_url_format:"{0}/v1/objects/{1}",max_extension_length:4}}_getPesDefaults(){return{pes_config:"https://static-asm.secure.skypeassets.com/pes/v1/configs/854962fa4bbc4be6a04d545ef2e73ea9/views/default",sticker_config:"https://static-asm.secure.skypeassets.com/pes/v1/configs/fc800ab4c80e49d6a598bd6d403772e2/views/default",sticker_chat_config:"",gif_config:"https://static-asm.secure.skypeassets.com/pes/v1/configs/dc9817a7240f4451a3b97aa11cd75416/views/default"}}_getSkypeRootToolsDefaults(){return{ULBaseline:{}}}_getTrouterJScriptClientDefaults(){return{TrouterConnectionUrl:"https://go.trouter.skype.com/v4/a",TelemetryEnabled:!0,ClientTelemetryEventEnabled:{trouter_js_client_connected:!0,trouter_js_client_disconnected:!0,trouter_js_client_error:!0,trouter_js_client_progress:!0,trouter_js_client_response:!0,logHealthCheckError:!0,numberOfStepsToMaintain:0,sendProgressTimeoutSecs:0}}}_getDebugabilitySquadDefaults(){return{brb_enabled:!1,brb_upload_logs_for_hockeyapp_crash:!1}}_getSkypeRealTimeMediaDefaults(){return{Configurations:{CQF_Trigger:{S2S_Percent:10,PSTN_Percent:10,GroupCall_Percent:10,MinCallDurationSecs:5}}}}_getS4LStratusDefaults(){return{request:{includeDeviceIdInRequestPolicy:"requested"}}}_getOEMConfigDefaults(){return{zeroRating:{mccMncList:[]}}}_getIntConfigDefaults(){return{ecs:{hosts:["https://config.edge.skype.net"],fetchTimeout:void 0,ignoreActivationState:!0},chat:{productionHost:"https://client-s.gateway.messenger.live-int.com/",dogfoodHost:"https://client-s.gateway.messenger.live-int.com/",blacklistedHosts:[],prodCloudParam:"",dogfoodCloudParam:"",notifyLikes:!0,forceChSetOnSend:!0,serverSideEdits:!0,serverSideEdits1to1:!0,backgroundReleaseWakeLockTime:500,backgroundWaitForAmsUpload:!1,backgroundPostingHoldOwnWakeLockEnabled:!0,backgroundWakeLockWhilePostWaitingForTransfer:!0,authentication:{useRegToken:!0},syncBackoffOnNoNetwork:!0,restoreEndpointsTimeout:25e3,reportInternalFailures:!1,reportUnknownInternalFailures:!1,reportSystemExceptionInternalFailures:!1,syncWhenNoSubscription:!0,syncFreeFetchesConfig:{maxFetchesREST:4,bandwidthAwareFetchesREST:3},maxSimultaneousRESTRequests:{defaultMaxRequests:10,maxRequestsByNetworkType:{3:4,4:7},reservedForCriticalRequests:0},enableForegroundMessagePostWithREST:{},recreateEndpointOnSameLocationRedirect:!0,updateEndpointOnEcsEtagChange:!1,dontPersistSessionInfoOnWeb:!0,durableEndpointId:{enabled:!1,recreateToMatchEnabled:!1},userPropertiesExpirationTime:6e4,chatServiceHostRefreshEnabled:!1,chatServiceHostRefreshInterval:1e4,chatServiceRedirectTimerEnabled:!1,msgApiConfig:{enabled:!1,host:"https://msgapi.int.teams.microsoft.com/",enableP2PThreadsWithUsers:!1,enableP2PThreadsWithBots:!1,enableP2PThreadsWithPstn:!1,enableP2PThreadsWithS4B:!1},msgDeletionLearnMoreLink:"https://support.skype.com/faq/FA34636",keepConnectionIfNotActive:!1},abch:{profileUrl:"https://scd.skype.net/",appId:"d5e63001-9bae-4d30-9b77-fd84664df1ec"},bot:{joinLink:"https://join.skype.net/bot/"},contacts:{host:"https://contacts.skype.net/",dogfoodHost:"https://contacts.skype.net/"},profile:{profileV2Url:"https://profileservice-test-northeurope.trafficmanager.net/profile/v2/users/%username%/profile/private",profileV2PartialUrl:"https://profileservice-test-northeurope.trafficmanager.net/profile/v2/users/%username%/profile/partial",maxProfileAge:864e5},messageSearch:{host:"https://search-int.cloudapp.net/v2/",searchQueryDelay:0},stratus:{host:"https://qaapi.skype.net/"},secureStratus:{host:"https://qasecure.skype.net/"},appAssets:{host:"https://qaapps.skypeassets.net/"},promotions:{host:"https://qa-promotions.skype.net/"},go:{host:"https://qago.skype.net/"},aps:{host:"https://aps.infra.dev.skype.net/"},avatars:{host:"https://avatar.skype.net/v1/avatars/"},rps:{host:"https://edge.skype.net/"},optionsService:{productionHost:"https://options.skype.net/options/",dogfoodHost:"https://options.skype.net/options/"},peopleService:{host:"https://people.skype.net/"},entitlements:{host:"https://consumer.entitlement.test.skype.net/"},loginLive:{host:"https://login.live-int.com/",clientId:"0000000060403363",scopes:"service::lw.skype.net::MBI_SSL"},signUpLive:{host:"https://signup.live-int.com/signup"},loginSkype:{host:"https://qalogin.skype.net/"},azureLoginSkype:{host:"https://a.qalogin.skype.net/",phoneAuthRelativeUrl:"v1/number/"},asm:{cdnUrl:"https://static-asm.secure.skypeassets.com"},pes:{emoticonBaseUrl:"https://static-asm.secure.skypeassets.net/pes/v1/emoticons",skypeServiceHost:"static.asm.skype.net",tokenSourceEndpoint:"/pes/v1/petoken",cdnServiceHost:"static-asm.secure.skypeassets.net",cookieSourceEndpoint:"/token/token_to_cookies",cdnTokenTtlMs:24e4,rewriteRules:[{from:"static.asm.skype.net",to:"static-asm.secure.skypeassets.net"},{from:"api.asm.skype.net",to:"static-asm.secure.skypeassets.net"}],xmmFallbackUrl:"https://qalogin.skype.net/login/sso",xmmFallbackUrlParams:"?go=webclient.xmm&amp;"},urlPreview:{host:"https://urlp.asm.skype.net/v1/",gifSizeLimitInBytes:12e5,timeout:1e4},inviteLinkGenerator:{host:"https://inviteconnector.skype.net/"},registrar:{host:"https://qe.registrar.skype.net/",registrationRelativeUrl:"v2/registrations"},channelsApi:"https://channels.skype.net/api/v2/"}}_getConfigDefaults(){return{ecs:{hosts:["https://config.edge.skype.com"],fetchTimeout:void 0,ignoreActivationState:!0},chat:{productionHost:"https://client-s.gateway.messenger.live.com/",dogfoodHost:"https://co4-df-client-s.gateway.messenger.live.com/",blacklistedHosts:[],prodCloudParam:"cloud=apis",dogfoodCloudParam:"cloud=df-apis",notifyLikes:!0,forceChSetOnSend:!0,serverSideEdits:!0,serverSideEdits1to1:!0,backgroundReleaseWakeLockTime:500,backgroundWaitForAmsUpload:!1,backgroundPostingHoldOwnWakeLockEnabled:!0,backgroundWakeLockWhilePostWaitingForTransfer:!0,authentication:{useRegToken:!0},syncBackoffOnNoNetwork:!0,restoreEndpointsTimeout:25e3,reportInternalFailures:!1,reportUnknownInternalFailures:!1,reportSystemExceptionInternalFailures:!1,syncWhenNoSubscription:!0,syncFreeFetchesConfig:{maxFetchesREST:4,bandwidthAwareFetchesREST:3},maxSimultaneousRESTRequests:{defaultMaxRequests:10,maxRequestsByNetworkType:{3:4,4:7},reservedForCriticalRequests:0},enableForegroundMessagePostWithREST:{},recreateEndpointOnSameLocationRedirect:!0,updateEndpointOnEcsEtagChange:!1,dontPersistSessionInfoOnWeb:!0,durableEndpointId:{enabled:!1,recreateToMatchEnabled:!1},userPropertiesExpirationTime:6e4,chatServiceHostRefreshEnabled:!1,chatServiceHostRefreshInterval:1e4,chatServiceRedirectTimerEnabled:!1,msgApiConfig:{enabled:!1,host:"https://msgapi.teams.live.com/",enableP2PThreadsWithUsers:!1,enableP2PThreadsWithBots:!1,enableP2PThreadsWithPstn:!1,enableP2PThreadsWithS4B:!1},msgDeletionLearnMoreLink:"https://support.skype.com/faq/FA34636",keepConnectionIfNotActive:!1},auth:{skypeTokenFetchBeforeExpiryMinutes:720,skypeTokenFetchBeforeExpiryMinutesUWP:60,skypeTokenFetchBeforeExpiryMinutesGuest:5},profile:{profileV2Url:"https://edge.skype.com/profile/v2/users/%username%/profile/private",profileV2PartialUrl:"https://edge.skype.com/profile/v2/users/%username%/profile/partial",maxProfileAge:864e5},abch:{profileUrl:"https://pnv.skype.com/profile/",appId:"d5e63001-9bae-4d30-9b77-fd84664df1ec"},asm:{cdnUrl:"https://static-asm.secure.skypeassets.com"},bot:{joinLink:"https://join.skype.com/bot/"},contacts:{host:"https://contacts.skype.com/",dogfoodHost:"https://df.contacts.skype.com/"},feedback:{host:"https://feedback.skype.net",sendLogsByDefault:!1},search:{longQueryCharCount:3},graphSearch:{searchQueryDelay:0},messageSearch:{host:"https://msgsearch.skype.com/v2/",searchQueryDelay:0},groupDbSearch:{searchQueryDelay:100},botSearch:{searchQueryDelay:0},stratus:{host:"https://api.skype.com/"},secureStratus:{host:"https://secure.skype.com/"},appAssets:{host:"https://apps.skypeassets.com/"},promotions:{host:"https://api.promotions.skype.com/"},go:{host:"https://go.skype.com/"},aps:{host:"https://api.aps.skype.com/"},avatars:{host:"https://avatar.skype.com/v1/avatars/"},rps:{host:"https://edge.skype.com/"},optionsService:{productionHost:"https://options.skype.com:443/options/",dogfoodHost:"https://options-df.skype.com:443/options/"},peopleService:{host:"https://people.skype.com/"},entitlements:{host:"https://consumer.entitlement.skype.com/"},loginLive:{host:"https://login.live.com/",clientId:"00000000480BC46C",scopes:"service::lw.skype.com::MBI_SSL"},signUpLive:{host:"https://signup.live.com/signup"},loginSkype:{host:"https://login.skype.com/"},azureLoginSkype:{host:"https://a.login.skype.com/",phoneAuthRelativeUrl:"v1/number/"},downloadSkype:{downloadSkypeUrl:"https://www.skype.com/get-skype"},pes:{emoticonBaseUrl:"https://static-asm.secure.skypeassets.com/pes/v1/emoticons",skypeServiceHost:"static.asm.skype.com",tokenSourceEndpoint:"/pes/v1/petoken",cdnServiceHost:"static-asm.secure.skypeassets.com",cookieSourceEndpoint:"/token/token_to_cookies",cdnTokenTtlMs:24e4,rewriteRules:[{from:"static.asm.skype.com",to:"static-asm.secure.skypeassets.com"},{from:"api.asm.skype.com",to:"static-asm.secure.skypeassets.com"}],xmmFallbackUrl:"https://login.skype.com/login/sso",xmmFallbackUrlParams:"?go=webclient.xmm&amp;"},profileCard:{manageProfileGoLink:"account.profile",manageProfileGoLinkContactDetails:"account.profile#contactDetailsTab",manageAccountGoLink:"myaccount",closeMyAccountUrl:"https://go.microsoft.com/fwlink/?linkid=854340",closeMyAccountEndUrl:"https://account.live.com/MessagePage.aspx",closeMyAccountWebUrl:"https://go.skype.com/closeaccount",editProfileGoLink:"editmicrosoftaccount",learnMoreUrl:"https://go.skype.com/profilechanges.skype",manageMSAccountUrl:"https://account.live.com/names/Manage"},mySettings:{termsOfServiceGoLink:"tou"},balanceState:{fairUsagePolicyGoLink:"fair.usage.policy",manageSubscriptionsGoLink:"myaccount",callingRatesGoLink:"prices",callingOffersGoLink:"client.rates",noCreditGoLink:"check.account",noCreditLinkEnabled:!0,serviceDetailsGoLink:"client.s4l.service-settings"},skypeGoLinks:{servicesAgreement:"https://go.skype.com/microsoft.services.agreement",privacyAndCookies:"https://go.skype.com/privacy",refundPolicy:"https://go.skype.com/tou.refund",publicWebSafety:"https://go.skype.com/web.incognito",amazonPurchase:"https://go.skype.com/amazon",aadcLearnMoreLink:"https://go.skype.com/aadc.support.faq",giftSkypeCreditLink:"https://go.skype.com/send.credit"},registrar:{host:"https://prod.registrar.skype.com/",registrationRelativeUrl:"v2/registrations"},pstn:{host:"https://mrrcountries.cdn.skype.com/",ratesEndpoint:"pstn/v1.2/",indiaRegulatoryFaq:"https://go.skype.com/indiafaq",netherlandsRegulatoryFaq:"https://go.skype.com/help.calling.netherlands"},cortana:{mri:"28:cece905d-8137-4f70-8cbc-e94e16211a46"},bing:{signalsHost:"https://platform.bing.com/"},suggestions:{feedbackHost:"https://search.knowledge.store/api/SuggestedActions/Feedback"},urlPreview:{host:"https://urlp.asm.skype.com/v1/",gifSizeLimitInBytes:12e5,timeout:1e4},inviteLinkGenerator:{host:"https://inviteconnector.skype.com/"},termsUrl:{host:"https://go.microsoft.com/fwlink/?LinkID=246338"},infringementUrl:{host:"https://www.microsoft.com/info/cpyrtInfrg.html"},externalReportingUrl:{infringement:"https://go.skype.com/report.infringement",revengePorn:"https://go.skype.com/report.revengeporn"},privacyUrl:{host:"https://go.microsoft.com/fwlink/?LinkId=521839",splitSearchSuggestionsSettingsUrl:"https://go.microsoft.com/fwlink/?linkid=873474",profileLearnMoreUrl:"https://go.skype.com/privacy.profile",receiveContactSuggestionsUrl:"https://go.skype.com/receive.suggestions",appearInSuggestionsUrl:"https://go.skype.com/appear.suggestions"},frenchAccessibilityConformanceUrl:{label:"Accessibilité: partiellement conforme",host:"https://www.microsoft.com/fr-fr/accessibility/accessibility-statement"},italianAccessibilityConformanceUrl:{label:"Dichiarazione di accessibilità",host:"https://www.microsoft.com/it-it/accessibility/declarations"},azureMediaServices:{apiUrl:"https://api.azms.skypeassets.com/api/"},feedbackBot:{id:"a62068e3-63e9-4ffc-89a6-14d841e224d2",displayName:"Skype Bot"},endpointPresence:{trouterUserStatusEnabled:!1,inactiveDelay:12e4,useSystemIdle:!1,idleSystemTimeWindow:180,ensurePresencePublished:!1},presence:{presenceAwayTimerInSeconds:3600,enablePresenceChangeNotification:!1,enableLegacyPresence:!0,enableUpsPresence:!1,upsUrl:"https://noamdf.presence.skype.com/",upsClientType:"skype4life",prioritizeUps:!1,enableUpsInitialPresenceFetch:!1},iOSAppStore:{host:"itms-apps://itunes.apple.com/app/",chinaBundleID:"com.skype.tomskype.t2",chinaAppID:"419713786",iPhoneAppID:"304878510"},androidPlayStoreUrl:{url:"market://details?id=com.skype.raider"},windowsStore:{reviewUrl:"ms-windows-store://review/?ProductId=9wzdncrfj364",feedback:{baseUrl:"windows-feedback:?contextid=596&tabid=2&newFeedback=true&feedbackType=",feedbackType:"2",suggestionType:"1"}},helpGoParam:{browseKnownIssues:"s4l.browseissues",supportArticles:"help.t2d",upgradeLearnMore:"upgrade.learnmore",skypeStatus:"skype.status"},feedbackAndProblemGoParam:{feedback:"s4l.sendfeedback",problem:"s4l.reportproblem",suggestAddIns:"feedback.addins",rating:"feedback.rate",userVoice:"feedback.uv"},brb:{submitPath:"https://brbv2.skype.com/AuthService.svc/SubmitBRBReport/S4L/",releasePath:"https://brbv2.skype.com/AuthService.svc/release?container=",version:"2016-05-31",blobType:"BlockBlob",blobDisposition:"attachment",logsName:"/logs.zip?",screenshotName:"/screenshot.png?",feedbackSubmitPath:"https://feedback.skype.com/survey/questionanswerpost?id=slp",enableHeartEntryPoint:!1,disableShakeAndSendByDefault:!1,extendReportTitle:"Extend report"},calling:{emergencyCallingLearnMoreLink:"https://go.skype.com/emergency/",disableEcsParamCache:!1,disableSharedIdCache:!1,enableDeferredStartup:!1},avSettings:{learnMoreLink:"https://go.skype.com/call.quality.guide",webcamLearnMoreLink:"https://support.microsoft.com/help/2998316/"},msAccountUrl:{url:"https://account.microsoft.com"},msAccountContactInfoUrl:{url:"https://account.microsoft.com/profile/contact-info"},combinedSisu:{bundle_version:"0.0.0.0"},welcomeScreenProblemSigningInUrl:{url:"https://go.skype.com/help.password.faq2"},telemetryInfoUrl:{url:"https://go.skype.com/faq.telemetry"},checkAccountUrl:{goParam:"check.account"},sms:{host:"https://consumer.entitlement.skype.com/",organizationId:"skype"},creditExpiration:{creditExpirationFaqLink:"https://support.skype.com/en/faq/FA10378/how-do-i-reactivate-skype-credit"},connectors:{host:"https://outlook.office.com/connectors/",home:"https://outlook.office.com/connectors/Home/Login/#/configurations"},gogo:{enabled:!1,ssid:["gogoinflight","gogowifi"],isOnGogoIpRange:!1},autoBuddySetup:{url:"https://join.skype.com/setup"},readReceipts:{learnMoreLink:"https://go.skype.com/receipts.help"},teams:{imgHost:"https://img.teams.skype.com/amer/beta/users/"},database:{splitLargeTransactions:!1},msGraph:{host:"https://graph.microsoft.com/v1.0"},captivePortalDetection:{statusCode:200,enabled:!0,url:"http://www.msftconnecttest.com/",browserUrl:"http://www.msftconnecttest.com/redirect",path:"connecttest.txt",expectedContent:"Microsoft Connect Test",timeout:1e4},debug:{verboseDbLogging:"off"},fileNode:{learnMoreLink:"https://go.skype.com/file.sharing.limits"},images:{cacheControlRequestHeader:""},restClient:{defaultTimeout:6e4,checkCorruptNullBody:!1,originHeaderValue:void 0},hotkeys:{learnMoreUrl:"https://go.skype.com/keyboard.shortcuts"},translator:{help:"https://go.skype.com/translator.help",learnMoreUrl:"https://go.skype.com/translator.learnmoreurl",privacyStatementUrl:"https://go.microsoft.com/fwlink/?LinkId=521839",speechConsentLearnMoreUrl:"https://go.microsoft.com/fwlink/p/?linkid=2147642"},shareExternalPlatforms:{gmail:"https://mail.google.com/mail/?view=cm&fs=1&su={subject}&body={body}",outlook:"https://outlook.office.com/mail/deeplink/compose?subject={subject}&body={body}",facebook:"https://www.facebook.com/sharer.php?u={url}"},noiseSuppression:{learnMoreUrl:"https://www.skype.com/go/audiovideo.settings"},togetherModeNotice:{learnMoreUrl:"https://go.skype.com/together.mode"},formatting:{learnMoreUrl:"https://go.skype.com/faq.formatting"},twinCam:{learnMoreUrl:"https://go.skype.com/twin.cam"},musicMode:{learnMoreUrl:"https://go.skype.com/high.fidelity.audio"},signInWithQrCode:{needHelpUrl:"https://go.skype.com/scotty.sign.in"},channelsApi:"https://channels.skype.com/api/v2/",serviceWorker:{enableServiceWorker:!1},enableDALContactsRepo:!1}}_initCapability(e){return e}test_getEcsFallbacks(){return this._getEcsFallbacks()}test_initCapability(e){return this._initCapability(e)}test_trigger(){this.trigger()}};n.__decorate([l.autoSubscribe],w.prototype,"isMurphyUser",null),n.__decorate([l.autoSubscribe],w.prototype,"getMergedEcsConfig",null),n.__decorate([l.autoSubscribe],w.prototype,"getSkypeAudioLibraryFeatures",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getS4LFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LCaapFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getS4LCaapFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LIntegrationsFeatures",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LMessagingFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getS4LMessagingFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LMessagingConfigIds",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LUiConfigIds",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LMessagingExperimentalConfigString",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LUiExperimentalConfigString",null),n.__decorate([l.disableWarnings],w.prototype,"dangerouslyGetS4LMessagingFeatures",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LContactsFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getS4LContactsFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LSearchFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getS4LSearchFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LCommerceFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"dangerouslyGetS4LCommerceFeatures",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LEntitlementFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getS4LEntitlementFeaturesNoSubscription",null),n.__decorate([l.disableWarnings],w.prototype,"getS4LCommerceFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getHeaders",null),n.__decorate([l.disableWarnings],w.prototype,"getHeadersNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getPeopleSearchSettings",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LNativePlatformsEcsConfig",null),n.__decorate([l.disableWarnings],w.prototype,"getS4LNativePlatformsEcsConfigNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LCMCFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getS4LCMCFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getTelemetryFeatures",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LTelemetryFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getS4LTelemetryFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LMeetNowFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getS4LMeetNowFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getPesConfig",null),n.__decorate([l.autoSubscribe],w.prototype,"getAsyncMediaFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getAsyncMediaFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getSkypeRootToolsConfig",null),n.__decorate([l.autoSubscribe],w.prototype,"getTrouterJScriptClientConfig",null),n.__decorate([l.autoSubscribe],w.prototype,"getMDNTRAPClientConfig",null),n.__decorate([l.disableWarnings],w.prototype,"getJoinFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getJoinFeatures",null),n.__decorate([l.autoSubscribe],w.prototype,"getAdsFeatures",null),n.__decorate([l.autoSubscribe],w.prototype,"getOnboardingFeatures",null),n.__decorate([l.autoSubscribe],w.prototype,"getEngagementFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getEngagementFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getSkypeEngagementFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getSkypeEngagementFeaturesNoSubscription",null),n.__decorate([l.disableWarnings],w.prototype,"dangerouslyGetOnboardingFeatures",null),n.__decorate([l.autoSubscribe],w.prototype,"getDebugabilitySquad",null),n.__decorate([l.autoSubscribe],w.prototype,"getSkypeRealTimeMedia",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LSisuFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"dangerouslyGetS4LSisuFeatures",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LUiFeatures",null),n.__decorate([l.disableWarnings],w.prototype,"getS4LUiFeaturesNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getS4LStratusFeatures",null),n.__decorate([l.autoSubscribe],w.prototype,"getOEMConfig",null),n.__decorate([l.autoSubscribe],w.prototype,"getFeedbackFeatures",null),n.__decorate([l.autoSubscribe],w.prototype,"getULLogUploadConfig",null),n.__decorate([l.autoSubscribe],w.prototype,"getConfigSettings",null),n.__decorate([l.disableWarnings],w.prototype,"getConfigSettingsNoSubscription",null),n.__decorate([l.autoSubscribe],w.prototype,"getCachedEcsConfig",null),n.__decorate([l.autoSubscribe],w.prototype,"isUserEcsConfig",null),n.__decorate([l.autoSubscribe],w.prototype,"getTrustedDomainInfo",null),n.__decorate([l.autoSubscribe],w.prototype,"isTrustedDomain",null),n.__decorate([l.autoSubscribe],w.prototype,"getBingUrls",null),n.__decorate([l.autoSubscribe],w.prototype,"getBingMapsConfig",null),n.__decorate([l.disableWarnings],w.prototype,"isDesktopVIMEnabled",null),w=n.__decorate([l.AutoSubscribeStore],w);const x=new w;t.default=x},5798:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isSupportedOnOS=t.isOfficeLensTelemetryActive=t.isOfficeLensOSFallbackEnabled=t.isOfficeLensAvailable=void 0;const n=i(370715);i(889391),i(404057),i(640363);function o(){return n.default.isImplemented()&&!1}function s(){return!1}t.isOfficeLensAvailable=o,t.isOfficeLensOSFallbackEnabled=function(){return!1},t.isOfficeLensTelemetryActive=function(){return o()&&n.default.isTelemetryEnabled()},t.isSupportedOnOS=s},40059:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.launchInBarcodeScannerMode=t.launchInFallbackGalleryMode=t.launchInFallbackCameraMode=t.launchInAvatarPickerMode=t.launchInCameraMode=t.launchInGalleryMode=void 0;const n=i(370715),o=i(823113),s=i(397691),a=i(219784),r=i(301065),l=i(898278),c=i(746096),d=i(753559),u=i(828719),g=i(436237),h=i(733754),p=i(275381),S=i(581736),m=i(364956),C=i(404057),y=i(478262),f=i(89808),b=i(418037),_=i(491635),v=i(275846),T=i(454086);function P(e){return e.then((e=>{if(e.statusCode===n.OfficeLensStatusCode.Success){g.log(c.LogTraceArea.Capture,"Successfully received OfficeLens data.");const t=e.identifiers.map((e=>{const t=e.content,i=e.thumbnail,n=(0,u.parseFileUri)(t.uri),o=n?d.default.extractFileNameWithExtension(n.path):"",s={file:{uri:t.uri,name:o,size:t.fileSize,type:t.mimetype},extension:d.default.extractFileExtension(o),dimensions:{width:t.width,height:t.height}};if(i){const e=(0,u.parseFileUri)(i.uri),t=e?d.default.extractFileNameWithExtension(e.path):"";s.thumbnail={file:{uri:i.uri,name:t,size:i.fileSize,type:i.mimetype},extension:d.default.extractFileExtension(t),dimensions:{width:i.width,height:i.height}}}return s}));return s.Resolved(t)}return g.warn(c.LogTraceArea.Capture,"OfficeLens SDK error | Status code: "+e.statusCode.valueOf()),p.trackMediaCapturedFailure("OfficeLens SDK error",e.statusCode),a.default.showErrorAlert(h.getString("Global.ErrorTitle"),l.MainRootViewId),s.Rejected("OfficeLens SDK error | Status code: "+e.statusCode.valueOf())})).catch((e=>(g.error(c.LogTraceArea.Capture,"OfficeLens media file error: "+C.default.errorAsString(e,!0)),p.trackMediaCapturedFailure("OfficeLens media file error: "+C.default.errorAsString(e,!0)),a.default.showErrorAlert(h.getString("Global.ErrorTitle"),l.MainRootViewId),s.Rejected("OfficeLens media file error: "+C.default.errorAsString(e,!0)))))}n.telemetryEventLaunchiOS.subscribe(p.handleTelemetryEventLaunchiOS),n.telemetryEventSaveiOS.subscribe(p.handleTelemetryEventSaveiOS),n.limitedAccesEvent.subscribe((function(){S.default.shouldShowLimitedPhotoSelectionPrompt()&&(m.default.showLimitedCameraRollPrompt(l.MainRootViewId),S.default.closeLimitedPhotoSelectionPrompt())})),t.launchInGalleryMode=function(){const e=y.PermissionPromptOptions.SkipPrePrompt;return S.default.requestPermission(y.PermissionType.CameraRoll,e).then((e=>e!==o.PermissionStatus.Granted&&e!==o.PermissionStatus.Limited?s.Rejected():P((g.log(c.LogTraceArea.Capture,"Starting OfficeLens in Gallery mode"),n.default.enableTelemetryEvents(),n.default.startInGalleryMode(h.getLocale(),f.default.getPrimaryColorNoSubscription(),b.default.isDarkThemeNoSubscription(),b.default.shouldUseSystemThemeNoSubscription()).finally((()=>n.default.disableTelemetryEvents()))))))},t.launchInCameraMode=function(){const e=y.PermissionPromptOptions.SkipPrePrompt;return S.default.requestPermission(y.PermissionType.Camera,e).then((t=>t!==o.PermissionStatus.Granted?s.Rejected():S.default.requestPermission(y.PermissionType.CameraRoll,e))).then((e=>e!==o.PermissionStatus.Granted?s.Rejected():P((g.log(c.LogTraceArea.Capture,"Starting OfficeLens in Camera mode"),n.default.enableTelemetryEvents(),n.default.startInCameraMode(h.getLocale(),f.default.getPrimaryColorNoSubscription(),b.default.isDarkThemeNoSubscription(),b.default.shouldUseSystemThemeNoSubscription()).finally((()=>n.default.disableTelemetryEvents()))))))},t.launchInAvatarPickerMode=function(){const e=y.PermissionPromptOptions.SkipPrePrompt;return S.default.requestPermission(y.PermissionType.Camera,e).then((t=>{if(t===o.PermissionStatus.Granted)return S.default.requestPermission(y.PermissionType.CameraRoll,e)})).then((e=>e!==o.PermissionStatus.Granted?s.Rejected():P((g.log(c.LogTraceArea.Capture,"Starting OfficeLens in Avatar Picker mode"),n.default.enableTelemetryEvents(),n.default.startInAvatarPickerMode(h.getLocale(),f.default.getPrimaryColorNoSubscription(),b.default.isDarkThemeNoSubscription(),b.default.shouldUseSystemThemeNoSubscription()).finally((()=>n.default.disableTelemetryEvents()))))))},t.launchInFallbackCameraMode=function(e){return P(function(e){g.log(c.LogTraceArea.Capture,"Starting OfficeLens in Fallback Camera mode");const t=e===v.FallbackCameraType.Video?T.LensFallbackMode.RecordVideo:T.LensFallbackMode.TakePicture;return n.default.startInFallbackCameraMode(e).then((e=>(g.track(new T.LensFallbackAndroid(t)),e)))}(e))},t.launchInFallbackGalleryMode=function(){return P((g.log(c.LogTraceArea.Capture,"Starting OfficeLens in Fallback Gallery mode"),n.default.startInFallbackGalleryMode().then((e=>(g.track(new T.LensFallbackAndroid(T.LensFallbackMode.PickFromGallery)),e)))))},t.launchInBarcodeScannerMode=function(e,t){const i=y.PermissionPromptOptions.SkipPrePrompt;return S.default.requestPermission(y.PermissionType.Camera,i).then((i=>i!==o.PermissionStatus.Granted?s.Rejected():function(e,t,i){return e.then((e=>{if(e.statusCode===n.OfficeLensStatusCode.Success){g.log(c.LogTraceArea.Capture,"OfficeLens barcode processing successful");const n=e.identifiers[0].content.barcode;switch(i){case r.BarcodeScanReason.JoinLink:try{(0,_.openJoinLink)(n,!0,t),p.trackMediaCapturedSuccess(1)}catch(e){return g.warn(c.LogTraceArea.Capture,"OfficeLens barcode error: "+C.default.errorAsString(e,!0)),p.trackMediaCapturedFailure("OfficeLens barcode error: "+C.default.errorAsString(e,!0)),a.default.showErrorAlert(h.getString("Global.ErrorTitle"),t),s.Rejected(`OfficeLens barcode error: ${C.default.errorAsString(e,!0)}`)}break;case r.BarcodeScanReason.QrSignIn:return p.trackMediaCapturedSuccess(1),s.Resolved(n)}return s.Resolved(n)}return g.warn(c.LogTraceArea.Capture,"OfficeLens SDK error | Status code: "+e.statusCode.valueOf()),p.trackMediaCapturedFailure("OfficeLens SDK error",e.statusCode),a.default.showErrorAlert(h.getString("Global.ErrorTitle"),t),s.Rejected(`OfficeLens SDK error | Status code: ${e.statusCode.valueOf()}`)}))}(function(e){g.log(c.LogTraceArea.Capture,"Starting OfficeLens in Barcode Scanner mode"),n.default.enableTelemetryEvents();const t=e===r.BarcodeScanReason.QrSignIn;return n.default.startInBarScannerMode(h.getLocale(),f.default.getPrimaryColorNoSubscription(),!t&&b.default.isDarkThemeNoSubscription(),t||b.default.shouldUseSystemThemeNoSubscription()).finally((()=>n.default.disableTelemetryEvents()))}(t),e,t)))}},275381:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleTelemetryEventSaveiOS=t.handleTelemetryEventLaunchiOS=t.handleTelemetryEventSaveAndroid=t.handleTelemetryEventLaunchAndroid=t.trackMediaCapturedFailure=t.trackMediaCapturedSuccess=void 0;const n=i(272675),o=i(454086),s=i(436237),a=i(272675);t.trackMediaCapturedSuccess=function(e){s.track(new n.MediaCapturedEvent("true",a.MediaSource.OfficeLens,e))},t.trackMediaCapturedFailure=function(e,t){s.track(new n.MediaCapturedEvent("false",a.MediaSource.OfficeLens,0,e,t))},t.handleTelemetryEventLaunchAndroid=function(e){e&&s.track(new o.LensLaunchAndroid(e))},t.handleTelemetryEventSaveAndroid=function(e){e&&s.track(new o.LensSaveAndroid(e))},t.handleTelemetryEventLaunchiOS=function(e){e&&s.track(new o.LensLaunchiOS(e))},t.handleTelemetryEventSaveiOS=function(e){e&&s.track(new o.LensSaveiOS(e))}},261682:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isSupportedOnOS=t.isOneCameraAvailable=void 0;const n=i(466806);i(640363);function o(){return!1}t.isOneCameraAvailable=function(){return n.default.isImplemented()&&!1},t.isSupportedOnOS=o},525167:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.mapBarcodeResult=t.mapCapturedResult=void 0;const n=i(466806),o=i(491635),s=i(219784),a=i(753559),r=i(828719),l=i(404057),c=i(301065),d=i(898278),u=i(746096),g=i(733754),h=i(436237);t.mapCapturedResult=function(e){if(e.statusCode===n.OneCameraStatusCode.SUCCESS){h.log(u.LogTraceArea.Capture,"Successfully received OneCamera data.");return e.identifiers.map((e=>{const t=e.content,i=e.thumbnail,n=(0,r.parseFileUri)(t.uri),o=n?a.default.extractFileNameWithExtension(n.path):"",s={file:{uri:t.uri,name:o,size:t.fileSize,type:t.mimetype},extension:a.default.extractFileExtension(o),dimensions:{width:t.width,height:t.height}};if(i){const e=(0,r.parseFileUri)(i.uri),t=e?a.default.extractFileNameWithExtension(e.path):"";s.thumbnail={file:{uri:i.uri,name:t,size:i.fileSize,type:i.mimetype},extension:a.default.extractFileExtension(t),dimensions:{width:i.width,height:i.height}}}return s}))}h.warn(u.LogTraceArea.Capture,"One Camere error | Status code: "+e.statusCode.valueOf())},t.mapBarcodeResult=function(e,t,i){if(e.statusCode===n.OneCameraStatusCode.SUCCESS){h.log(u.LogTraceArea.Capture,"One Camera barcode processing successful");const n=e.barcode;switch(i){case c.BarcodeScanReason.JoinLink:try{(0,o.openJoinLink)(n,!0,t)}catch(e){return h.warn(u.LogTraceArea.Capture,"OneCamera barcode error: "+l.default.errorAsString(e,!0)),void s.default.showErrorAlert(g.getString("Global.ErrorTitle"),d.MainRootViewId)}break;case c.BarcodeScanReason.QrSignIn:return n}return n}return h.warn(u.LogTraceArea.Capture,"One Camera SDK error | Status code: "+e.statusCode.valueOf()),void s.default.showErrorAlert(g.getString("Global.ErrorTitle"),d.MainRootViewId)}},153940:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkCameraAndCameraRollPermissions=t.checkCameraRollPermissions=t.checkCameraPermissions=t.getCaptureFor=t.CaptureScenario=void 0;const n=i(823113),o=i(889391),s=i(341987),a=i(288921),r=i(438178),l=i(58325),c=i(5798),d=i(261682),u=i(478262),g=i(581736),h=i(478262);var p;!function(e){e.Messaging="messaging",e.QrCodeScanning="qrCode",e.Avatar="avatar"}(p=t.CaptureScenario||(t.CaptureScenario={}));const S={customCamera:new a.CustomCameraCaptureProvider,officeLens:new s.OfficeLensCaptureProvider,osFallback:new r.OSFallbackCaptureProvider,oneCamera:new l.OneCameraCaptureProvider};function m(){const e=u.PermissionPromptOptions.SkipPrePrompt;return g.default.requestPermission(h.PermissionType.Camera,e).toEs6Promise().then((e=>e!==n.PermissionStatus.Granted?Promise.reject():Promise.resolve()))}function C(){const e=u.PermissionPromptOptions.SkipPrePrompt;return g.default.requestPermission(h.PermissionType.CameraRoll,e).toEs6Promise().then((e=>e!==n.PermissionStatus.Granted?Promise.reject():Promise.resolve()))}t.getCaptureFor=function(e){if(!c.isOfficeLensAvailable()&&!(0,d.isOneCameraAvailable)())return c.isOfficeLensOSFallbackEnabled()&&e!==p.QrCodeScanning?S.osFallback:S.customCamera;const t=o.default.getS4LNativePlatformsEcsConfigNoSubscription().captureProviders[e];return S[t]},t.checkCameraPermissions=m,t.checkCameraRollPermissions=C,t.checkCameraAndCameraRollPermissions=function(){return m().then(C)}},288921:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CustomCameraCaptureProvider=void 0;const n=i(746096),o=i(301065),s=i(614980),a=i(198447),r=i(615112),l=i(436237),c=i(746096),d=i(404057);t.CustomCameraCaptureProvider=class{handleCapturedContent(){return Promise.resolve(void 0)}startInCameraMode(){const e="CustomCameraCaptureProvider does not support startInCameraMode";return l.log(c.LogTraceArea.Capture,e),Promise.reject(e)}startInPickerMode(e){return s.navigateToCaptureComboModalWithParams({allowVideo:!0,mediaPickerOnly:!0,mediaPickerShouldCollapseFully:!0,allowMultiple:!0,willDismissOnSend:!0,allowOfficeLens:!0,capturedContentHandler:e},void 0),Promise.resolve(void 0)}startInAvatarMode(e,t){try{return s.navigateToCaptureComboModalWithParams({captureMode:n.CaptureMode.PhotoOnly,mediaPickerShouldCollapseFully:!0,allowVideo:!1,mediaPickerOnly:!1,showAvatarOverlay:!0,performMarkupOnly:!0,capturedContentHandler:e,cameraMode:o.CameraMode.Front},t,void 0,!1,!0),Promise.resolve(void 0)}catch(e){const t=l.log(c.LogTraceArea.Capture,d.default.errorAsString(e,!0));return Promise.reject(t)}}startInQrCodeScanningMode(e,t,i){return s.navigateToCaptureComboModalWithParams({capturedContentHandler:new a.CapturedContentHandlerForSharing(i),captureMode:n.CaptureMode.QR,allowVideo:!1,disableMediaPicker:!0,cameraMode:o.CameraMode.Back},i),Promise.resolve(void 0)}trackCaptureSuccess(e){l.track(new r.CaptureProviderTelemetry(e,"customCamera",!0))}trackCaptureFailure(e,t){l.track(new r.CaptureProviderTelemetry(e,"customCamera",!1,void 0,t))}}},438178:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OSFallbackCaptureProvider=void 0;const n=i(570655),o=i(397691),s=i(219784),a=i(40059),r=i(275846),l=i(434849),c=i(733754),d=i(746096),u=i(275381),g=i(404057),h=i(898278),p=i(615112),S=i(436237);t.OSFallbackCaptureProvider=class{handleCapturedContent(e,t){return e.handleCapturedContent(t,d.PostSource.Capture).toEs6Promise().then((()=>(S.log(d.LogTraceArea.Capture,"OfficeLens media file processing successful"),u.trackMediaCapturedSuccess(t.length),Promise.resolve(!0)))).catch((e=>{const t="OfficeLens media file processing error: "+g.default.errorAsString(e,!0);return S.warn(d.LogTraceArea.Capture,t),u.trackMediaCapturedFailure(t),s.default.showErrorAlert(c.getString("Global.ErrorTitle"),h.MainRootViewId),Promise.reject(t)}))}startInPickerMode(){return a.launchInFallbackGalleryMode().toEs6Promise()}startInCameraMode(){const e={buttons:[{text:c.getString("CapturePanel.FallbackMediaProviderImageType"),command:r.FallbackCameraType.Image},{text:c.getString("CapturePanel.FallbackMediaProviderVideoType"),command:r.FallbackCameraType.Video}]},t=o.Defer();return l.ActionMenu.show(e,(e=>n.__awaiter(this,void 0,void 0,(function*(){e===r.FallbackCameraType.Image||e===r.FallbackCameraType.Video?a.launchInFallbackCameraMode(e).then((e=>t.resolve(e)),(e=>t.reject(e))):t.reject()})))),t.promise().toEs6Promise()}startInAvatarMode(){return a.launchInFallbackCameraMode(r.FallbackCameraType.Image).toEs6Promise()}startInQrCodeScanningMode(){const e="OSFallbackCaptureProvider does not support QR code scanning";return S.log(d.LogTraceArea.Capture,e),Promise.reject(e)}trackCaptureSuccess(e){S.track(new p.CaptureProviderTelemetry(e,"osFallBack",!0))}trackCaptureFailure(e,t){S.track(new p.CaptureProviderTelemetry(e,"osFallBack",!1,void 0,t))}}},341987:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OfficeLensCaptureProvider=void 0;const n=i(219784),o=i(40059),s=i(746096),a=i(275381),r=i(404057),l=i(898278),c=i(733754),d=i(615112),u=i(436237);t.OfficeLensCaptureProvider=class{startInPickerMode(){return o.launchInGalleryMode().toEs6Promise()}startInCameraMode(){return o.launchInCameraMode().toEs6Promise()}startInAvatarMode(){return o.launchInAvatarPickerMode().toEs6Promise()}startInQrCodeScanningMode(e,t){return o.launchInBarcodeScannerMode(e,t).toEs6Promise()}handleCapturedContent(e,t){return e.handleCapturedContent(t,s.PostSource.Capture).toEs6Promise().then((()=>(u.log(s.LogTraceArea.Capture,"OfficeLens media file processing successful"),a.trackMediaCapturedSuccess(t.length),Promise.resolve(!0)))).catch((e=>{const t="OfficeLens media file processing error: "+r.default.errorAsString(e,!0);return u.warn(s.LogTraceArea.Capture,t),a.trackMediaCapturedFailure(t),n.default.showErrorAlert(c.getString("Global.ErrorTitle"),l.MainRootViewId),Promise.reject(t)}))}trackCaptureSuccess(e){u.track(new d.CaptureProviderTelemetry(e,"officeLens",!0))}trackCaptureFailure(e,t){u.track(new d.CaptureProviderTelemetry(e,"officeLens",!1,void 0,t))}}},58325:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OneCameraCaptureProvider=void 0;const n=i(466806),o=i(219784),s=i(615112),a=i(436237),r=i(898278),l=i(733754),c=i(404057),d=i(746096),u=i(525167);t.OneCameraCaptureProvider=class{handleCapturedContent(e,t){return e.handleCapturedContent(t,d.PostSource.Capture).toEs6Promise().then((()=>(a.log(d.LogTraceArea.Capture,"OneCamera media file processing successful"),Promise.resolve(!0)))).catch((e=>{const t="OneCamera media file processing error: "+c.default.errorAsString(e,!0);return a.warn(d.LogTraceArea.Capture,t),o.default.showErrorAlert(l.getString("Global.ErrorTitle"),r.MainRootViewId),Promise.reject(t)}))}startInCameraMode(){return a.log(d.LogTraceArea.Capture,"Started OneCamera in Camera mode"),n.default.launchInCameraMode().then(this._handleResponse).catch((e=>{if((null==e?void 0:e.code.toString())!==n.OneCameraStatusCode.USER_CANCEL.toString()){const t=`One Camera SDK error | Status code: ${c.default.errorAsString(e,!0)}`;return a.error(d.LogTraceArea.Capture,t),o.default.showErrorAlert(l.getString("Global.ErrorTitle"),r.MainRootViewId),Promise.reject(t)}return Promise.reject(n.OneCameraStatusCode.USER_CANCEL.toString())}))}startInPickerMode(){return a.log(d.LogTraceArea.Capture,"Started OneCamera in Picker mode"),n.default.launchInPickerMode().then(this._handleResponse).catch((e=>{if((null==e?void 0:e.code.toString())!==n.OneCameraStatusCode.USER_CANCEL.toString()){const t=`One Camera SDK error | Status code: ${c.default.errorAsString(e,!0)}`;return a.error(d.LogTraceArea.Capture,t),o.default.showErrorAlert(l.getString("Global.ErrorTitle"),r.MainRootViewId),Promise.reject(t)}return Promise.reject(n.OneCameraStatusCode.USER_CANCEL.toString())}))}startInAvatarMode(){return a.log(d.LogTraceArea.Capture,"Started OneCamera in Avatar mode"),n.default.launchInAvatarMode().then(this._handleResponse).catch((e=>{if((null==e?void 0:e.code.toString())!==n.OneCameraStatusCode.USER_CANCEL.toString()){const t="One Camera SDK error | Status code:"+c.default.errorAsString(e,!0);return a.error(d.LogTraceArea.Capture,t),o.default.showErrorAlert(l.getString("Global.ErrorTitle"),r.MainRootViewId),Promise.reject(t)}return Promise.reject(n.OneCameraStatusCode.USER_CANCEL.toString())}))}startInQrCodeScanningMode(e,t){return a.log(d.LogTraceArea.Capture,"Started OneCamera in QR code scanning mode"),n.default.launchInQrCodeScanningMode().then((i=>this._handleQRResponse(i,e,t))).catch((e=>{if((null==e?void 0:e.code.toString())!==n.OneCameraStatusCode.USER_CANCEL.toString()){const t="One Camera SDK error | Status code:"+c.default.errorAsString(e,!0);return a.error(d.LogTraceArea.Capture,t),o.default.showErrorAlert(l.getString("Global.ErrorTitle"),r.MainRootViewId),Promise.reject(t)}return Promise.reject(n.OneCameraStatusCode.USER_CANCEL.toString())}))}trackCaptureSuccess(e){a.track(new s.CaptureProviderTelemetry(e,"oneCamera",!0))}trackCaptureFailure(e,t){const i=t===n.OneCameraStatusCode.USER_CANCEL.toString(),o=!i&&t?t:void 0;a.track(new s.CaptureProviderTelemetry(e,"oneCamera",!1,i,o))}_handleResponse(e){const t=(0,u.mapCapturedResult)(e);return t?Promise.resolve(t):Promise.reject()}_handleQRResponse(e,t,i){const n=(0,u.mapBarcodeResult)(e,t,i);return n?Promise.resolve(n):Promise.reject()}}},559294:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.calcAlertsForUpdatedMessage=void 0;const n=i(496486),o=i(195314),s=i(142826),a=i(889391),r=i(63413),l=i(481169),c=i(351077),d=i(816402),u=i(746096),g=i(436237),h=i(178735),p=i(18078),S=i(33714),m=i(477275),C=i(279829),y=i(478262);t.calcAlertsForUpdatedMessage=function(e,t,i){g.log(u.LogTraceArea.AlertsHelpers,`Start calculating alerts for updated message: ${t.cuid}`);const f=e.isMuted();if(c.getMessageTypeGroup(t)===c.MessageTypeGroups.None||f)return void g.log(u.LogTraceArea.AlertsHelpers,"No alerts displayed because "+(f?"chat is muted":"message has None type group"));const b=d.default.add(Date.now(),0,-s.AlertsConstants.DaysOfAlertsToDisplay),_=t.getMessageNotificationClass();if(_===y.MessageNotificationClass.SystemInformational&&t.createdTime>=b)return;const v=n.filter(i.getAllItems(),(e=>!!e.message&&t.cuid===e.message.cuid&&t.conversationId===e.message.conversationId));n.each(v,(e=>{i.deleteItem(e),g.log(u.LogTraceArea.AlertsHelpers,"Removed existing alert for the same item")}));const T=t.getLastReactionTimeExcludingCurrentUser()||t.createdTime;if(!t.isDeletedMessage()&&T>=b){if(_===y.MessageNotificationClass.MentionedOrQuoted){const n=e.getConsumptionHorizonTimestamp(),a=o.default.fromScratch(s.AlertType.HighPriorityMessage,t.createdTime,t.createdTime<=n,t);i.addItem(a),g.log(u.LogTraceArea.AlertsHelpers,"Mention or quote notification added")}if(a.default.getConfigSettings().chat.notifyLikes){const d=function(e,t){const i=t.isHighlightsThread();if(i)return;const d=n.filter(e.getEmotionAnnotations(),(e=>e.key!==c.MessageAnnotations.ViewCount&&e.key!==c.MessageAnnotations.ReactionsConsumptionHorizon));if(d&&d.length>0){g.log(u.LogTraceArea.AlertsHelpers,`Emoticon annotations length ${d.length}`);const h=(0,l.chain)(d,(0,l.map)((e=>e.users)),(0,l.flatten)());return p.default.isMyMri(e.creator)?function(e,t,i){const a=n.filter(i,(e=>!p.default.isMyMri(e.mri)));if(0===a.length)return;const l=n.map(a,(e=>e.time)),d=n.max(l),u=e.getReactionsReadTimeForCurrentUser()||0,g=o.default.fromScratch(s.AlertType.Reaction,d,d<=u,e),h=t.isOneOnOne()?t.getOtherPartyMri():e.conversationId;if(!h)return;if(n.some(a,(e=>e.mri===h))&&r.default.isMriBlocked(h))return;if(c.isPollType(e.messagetype)||c.isScheduledCallType(e.messagetype))return;return g}(e,t,h):function(e,t,i){const r=a.default.getS4LMessagingFeatures().notifyForAdditionalReactions;if(!i&&!c.isPollType(e.messagetype)){const i=n.map(t,(e=>e.mri)),a=n.find(p.default.getMyMris(),(e=>n.includes(i,e)));if(a){const i=(0,l.chain)(t,(0,l.filter)((e=>e.mri===a)),(0,l.map)((e=>e.time))),c=n.min(i)||1/0,d=e.getReactionsReadTimeForCurrentUser()||0,u=n.filter(t,(e=>e.mri!==a)),g=n.max(n.map(u,(e=>e.time)))||-1/0;return g>c&&r?o.default.fromScratch(s.AlertType.AdditionalReaction,g,g<=d,e):void 0}}return}(e,h,i)}return}(t,e);d&&(i.addItem(d),g.log(u.LogTraceArea.AlertsHelpers,"Reaction notification added"))}if(!r.default.isMriBlocked(t.conversationId)){const e=function(e){if(!c.isScheduledCallType(e.messagetype))return[];const t=m.default.extractScheduledCallFromMessage(e);if(!t)return[];if(!h.default.getUserPreferencesLocal().enableScheduledCallNotifications)return[];const i=[],a=e.getScheduledCallReadTimeForCurrentUser();p.default.isMyMri(e.creator)?n.each(t.invitations,((n,r)=>{if(n.invitationStatus&&n.invitationStatus!==C.ScheduledCallInvitationStatus.Unknown){const l=n.updatedTimeMs||Date.now(),c={type:n.invitationStatus===C.ScheduledCallInvitationStatus.Accepted?S.ScheduleCallAlertTypes.InvitationAccepted:S.ScheduleCallAlertTypes.InvitationDeclined,initiator:r,subject:t.subject};i.push(o.default.fromScratch(s.AlertType.ScheduledCall,l,l<=a,e,{scheduledCallInfo:c})),g.log(u.LogTraceArea.AlertsHelpers,"Scheduled call invitation notification added")}})):(i.push(o.default.fromScratch(s.AlertType.ScheduledCall,e.createdTime,e.createdTime<=a,e,{scheduledCallInfo:{type:S.ScheduleCallAlertTypes.Received,initiator:t.organizer,subject:t.subject}})),g.log(u.LogTraceArea.AlertsHelpers,"Scheduled call invitation received notification added"),t.editedTimeMs&&(i.push(o.default.fromScratch(s.AlertType.ScheduledCall,t.editedTimeMs,t.editedTimeMs<=a,e,{scheduledCallInfo:{type:S.ScheduleCallAlertTypes.Edited,initiator:t.organizer,subject:t.subject}})),g.log(u.LogTraceArea.AlertsHelpers,"Scheduled call invitation edited notification added")),t.canceledTimeMs&&(i.push(o.default.fromScratch(s.AlertType.ScheduledCall,t.canceledTimeMs,t.canceledTimeMs<=a,e,{scheduledCallInfo:{type:S.ScheduleCallAlertTypes.Canceled,initiator:t.organizer,subject:t.subject}})),g.log(u.LogTraceArea.AlertsHelpers,"Scheduled call invitation canceled notification added")));return i}(t);n.some(e)&&(n.each(e,(e=>{i.addItem(e)})),g.log(u.LogTraceArea.AlertsHelpers,"Scheduled call notifications added"))}}else g.log(u.LogTraceArea.AlertsHelpers,"Updated message is too old or removed");g.log(u.LogTraceArea.AlertsHelpers,`Finish calculating alerts for updated message: ${t.cuid}`)}},123606:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.backgroundColorStyleForColorInfo=t.accentColorForColorInfo=t.accentColor=t.shouldUseSecondaryAccentColor=void 0;const n=i(10102),o=i(418037),s=i(897634);function a(e){return function(e,t){return s.isDarkTheme(t)&&!s.isDelphiTheme(t)&&!n.isCustomColor(e)}(e,o.default.colorThemeNoSubscription())}function r(e,t){return n.accentColor(e,t)}t.shouldUseSecondaryAccentColor=a,t.accentColor=function(e){return r(e,a(e))},t.accentColorForColorInfo=r,t.backgroundColorStyleForColorInfo=function(e){const t=a(e);return n.backgroundColorStyleForColorInfo(e,t)}},731761:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(516778),s=i(397691),a=i(219784),r=i(889391),l=i(422801),c=i(476621),d=i(671830),u=i(898278),g=i(557102),h=i(746096),p=i(436237),S=i(733754),m=i(18078),C=i(104735),y=i(330124),f=i(795691),b=i(261781),_=i(185773),v=i(316392),T=i(404057),P=i(478262),k=i(853374),A=[f.WizardSteps.setConvInfo,f.WizardSteps.setConvParticipants];class I extends _.default{constructor(e){super(e),void 0===e.convId&&void 0===e.wizardSteps&&this.extendContext({wizardSteps:A}),void 0!==e.convId||e.creating1on1Conversation||this.extendContext({newGroupTelemetryScenario:new b.default})}goBack(){const e=k.default.newCauseId();p.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.goBack currentStepIndex: "+this._currentStepIndex+" causeId: "+e),n.isUndefined(this._currentStepIndex)?p.warn(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.goBack called without initializing this._currentStepIndex causeId: "+e):this._currentStepIndex<0?p.warn(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.goBack called with a negative value for this._currentStepIndex causeId: "+e):(y.default.isUsingStackNavigationContext()||0===this._currentStepIndex?this._closePanel(this._currentStepIndex,e):this._navigateToPanel(this._currentStepIndex-1,e),0===this._currentStepIndex&&(p.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.goBack, finish causeId: "+e),this._context.newGroupTelemetryScenario&&this._context.newGroupTelemetryScenario.markFunnelDropped(),this.finish(!1)),this._currentStepIndex--)}goNext(){const e=k.default.newCauseId();p.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.goNext, causeId: "+e),n.isUndefined(this._currentStepIndex)?p.warn(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.goNext called without initializing this._currentStepIndex causeId: "+e):(this._currentStepIndex++,this._context.wizardSteps&&n.isNumber(this._context.wizardSteps[this._currentStepIndex])?this._navigateToPanel(this._currentStepIndex,e):this._context.convId?this._context.stayOnCurrentScreenOnceFinished?(this._closePanel(this._currentStepIndex-1,e),this.finish(!0)):c.default.ensureConversationLoadedOrFaked(this._context.convId).then((()=>{this._navigateToConversation({causeId:e,convId:this._context.convId,origin:this._context.navigationOrigin,isNewConversation:!0}),this.finish(!0)})):this._initiateConversationCreation().then((()=>{this._context.newGroupTelemetryScenario&&this._context.newGroupTelemetryScenario.finish();const e=this._context.creating1on1Conversation?"CreateOrModifyChatScenarioNavigator.ConversationOpenedAccessibilityLabel":"CreateOrModifyChatScenarioNavigator.GroupCreatedAccessibilityLabel";o.Accessibility.announceForAccessibility(S.getString(e,{conversationName:this._context.convName||""})),this.finish(!0)})).catch((t=>{if(this._context.newGroupTelemetryScenario){const e=t&&t.errorMessage,i=t&&t.errorCode,n=t&&t.statusText,o=t&&t.statusCode,s=e||i||n||o?void 0:JSON.stringify(t);this._context.newGroupTelemetryScenario.fail(e,i,o,n,s)}p.warn(h.LogTraceArea.GenericUnsafe,"initiateConversationCreation failed: "+T.default.errorAsString(t)),C.default.navigateToHub(e),this._rootViewId&&a.default.showErrorAlert(S.getString("CreateOrModifyChatScenarioNavigator.CreateConversationError"),this._rootViewId),this.finish(!1)})))}goEnd(){this.finish(!0)}start(e){super.start(e);const t=k.default.newCauseId();p.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator.start, causeId: "+t),n.isEmpty(this._context.wizardSteps),this._currentStepIndex=0,this._context.newGroupTelemetryScenario&&this._context.newGroupTelemetryScenario.start(r.default.getS4LUiExperimentalConfigString(),this._context.navigationOrigin,n.map(this.context.wizardSteps,(e=>f.WizardSteps[e])).toString()),this._navigateToPanel(this._currentStepIndex,t)}_navigateToPanel(e,t){var i,n;const o=this._context.wizardSteps&&this._context.wizardSteps[e];switch(p.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator._navigateToPanel stepIndex: "+e+" wizardStep: "+o+" causeId: "+t),o){case f.WizardSteps.setConvInfo:C.default.navigateToSetConversationInfoPanel(this,null!==(i=this._rootViewId)&&void 0!==i?i:u.MainRootViewId,this._context.presentedFromSuperComposer?v.StackNavigationDirection.Push:void 0);break;case f.WizardSteps.setConvParticipants:C.default.navigateToSetConversationParticipantsPanel(this,!!this._context.creating1on1Conversation&&!!this._context.useSuperComposerFor1on1Conversation,null!==(n=this._rootViewId)&&void 0!==n?n:u.MainRootViewId,this._context.presentedFromSuperComposer?v.StackNavigationDirection.Push:void 0)}}_closePanel(e,t){switch(p.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator._closePanel, causeId: "+t),this._context.wizardSteps&&this._context.wizardSteps[e]){case f.WizardSteps.setConvInfo:C.default.closeSetConversationInfoPanel(t,this._getPartialContext());break;case f.WizardSteps.setConvParticipants:C.default.closeSetConversationParticipantsPanel(t,this._getPartialContext())}}_getPotentialExistingConversation(e){return this.context.convName||this._context.createCellularSmsConversation?s.Resolved([]):g.ConversationUtils.getPotentialExistingConversations(e,!0)}_initiateConversationCreation(){const e=k.default.newCauseId();p.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator._initiateConversationCreation, causeId: "+e);const t=this._context.invitedUsersMris||[];return this._getPotentialExistingConversation(t).then((i=>{if(!n.isEmpty(i))return this._context.newGroupTelemetryScenario&&(this._context.newGroupTelemetryScenario.setParticipantCount(t.length),this._context.newGroupTelemetryScenario.setExistingConversationFound(),this._context.newGroupTelemetryScenario.markFunnelCompleted()),c.default.ensureConversationLoadedOrFaked(i[0].id).then((()=>{this._navigateToConversation({convId:i[0].id,origin:this._context.navigationOrigin,causeId:e})}));if(this._context.creating1on1Conversation){const i=t[0];return c.default.ensureConversationLoadedOrFaked(i).then((t=>{this._navigateToConversation({convId:i,origin:this._context.navigationOrigin,isNewConversation:t,causeId:e})}))}const o={};o[m.default.getSkypeMri()]=P.ThreadMemberAccessType.Admin;const s=this._context.navigationOrigin===h.NavigationConversationOrigin.NewModeratedGroup,a={};let r;return n.each(this._context.invitedUsersMris,(e=>{a[e]=d.isPhoneMri(e)||s?P.ThreadMemberAccessType.User:P.ThreadMemberAccessType.Admin})),this._context.newGroupTelemetryScenario&&(this._context.newGroupTelemetryScenario.setParticipantCount(n.keys(a).length),this._context.newGroupTelemetryScenario.markFunnelCompleted()),g.ConversationUtils.createConversation(o,a,this._context.convName,s).then((e=>(r=e.threadId,g.ConversationUtils.setConversationProps(r,this._context.convColor,this._context.convAvatar)))).then((()=>(this._context.newGroupTelemetryScenario&&(this._context.newGroupTelemetryScenario.markConversationCreated(),this.extendContext({convId:r})),c.default.ensureConversationLoadedOrFaked(r).then((t=>{this._maybeGenerateJoinLink(t,r),this._navigateToConversation({causeId:e,convId:r,origin:this._context.navigationOrigin,isNewConversation:!0})})))))}))}_maybeGenerateJoinLink(e,t){this.context.shareLink&&!e&&r.default.getS4LMessagingFeaturesNoSubscription().enableNewConversationCreation&&l.default.setJoinEnabled(t,!0)}_navigateToConversation(e){var t;p.log(h.LogTraceArea.Navigation,"CreateOrModifyChatScenarioNavigator._navigateToConversation, causeId: "+e.causeId),C.default.navigateToConversation(e),y.default.isUsingStackNavigationContext()||C.default.closeGenericDesktopModal(e.causeId,null!==(t=this._rootViewId)&&void 0!==t?t:u.MainRootViewId)}_getPartialContext(){var e;return{rootViewId:null!==(e=this._rootViewId)&&void 0!==e?e:u.MainRootViewId,rootViewType:u.RootViewType.MainWindow}}}t.default=I},427447:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isDisabledChatNotification=t.isDisabledCallNotification=void 0;const n=i(397691),o=i(476621),s=i(890239),a=i(262630),r=i(746096),l=i(436237),c=i(178735),d=i(46929),u=i(388273),g=i(422538),h=i(286259);function p(e){return(u.default.getStatusNoSubscription()===s.UserStatus.Unknown?g.EnsureStarted(u.default):n.Resolved()).then((()=>u.default.getStatusNoSubscription())).then((t=>{const i=h.maskedUserStatus(t);return l.log(r.LogTraceArea.Notifications,"isDisabledNotification user status: "+t+", maskedStatus: "+i),i===s.UserStatus.Busy&&g.EnsureStartedOnly(d.default,[o.default,c.default]).then(e)}))}t.isDisabledCallNotification=function(){const e=(0,a.tryGetDndOsState)(!1);return e&&l.log(r.LogTraceArea.Notifications,"isDisabledCallNotification dndOsState.enabled: "+e.enabled+", dndOsState.allowAnyCalls: "+e.allowAnyCalls),e&&e.enabled&&!e.allowAnyCalls?n.Resolved(!0):p((()=>{const e=d.default.getCallNotificationsWhileDNDEnabled();return l.log(r.LogTraceArea.Notifications,"isDisabledCallNotification UserStatus: Busy, callNotificationsWhileDNDEnabled: "+e),!e}))},t.isDisabledChatNotification=function(){const e=(0,a.tryGetDndOsState)(!0);return e&&l.log(r.LogTraceArea.Notifications,"isDisabledChatNotification dndOsState.enabled: "+e.enabled),e&&e.enabled?n.Resolved(!0):p((()=>{const e=d.default.getChatNotificationsWhileDNDEnabled();return l.log(r.LogTraceArea.Notifications,"isDisabledChatNotification UserStatus: Busy, chatNotificationsWhileDNDEnabled: "+e),!e}))}},546172:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(316392),o=(i(360305),i(330124));t.default=class{static collapseDesktopStackNavContext(){return this._desktopNavigationType()===n.DesktopNavigationType.StackCollapsible&&!o.default.isUsingStackNavigationContext()}static collapseDesktopStackNavContextNoSubscription(){return this._desktopNavigationType()===n.DesktopNavigationType.StackCollapsible&&!o.default.isUsingStackNavigationContextNoSubscription()}static _desktopNavigationType(){return n.DesktopNavigationType.StackCollapsible}}},676679:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getReactionAlertAccessibilityLabel=t.getEmojiSupport=t.getOnboardingDisplayInfo=t.getScheduledCallDisplayInfo=t.getReactionsDisplayInfo=t.getMessageDisplayInfo=t.getCompactNotificationDisplayInfo=t.getScheduledCallDisplayInfoForInvitationReceivedAlert=t.getScheduledCallDisplayInfoForInvitationUpdatedAlert=t.getScheduledCallDisplayInfoForInvitationAlert=t.formatPreviousMessagePotentiallyBeforeStartup=t.getCompactNotificationDisplayInfoPotentiallyBeforeStartupAsync=void 0;const n=i(496486),o=i(397691),s=i(889391),a=i(481169),r=i(351077),l=i(671830),c=i(23293),d=i(400984),u=i(429791),g=i(247477),h=i(681959),p=i(816402),S=i(986374),m=i(952262),C=i(82433),y=i(770891),f=i(746096),b=i(753559),_=i(647662),v=i(733754),T=i(312762),P=i(314572),k=i(597223),A=i(213847),I=i(33714),w=i(279829),x=i(71987),N=i(640363),M=i(581760),L=i(478262),O=i(172758),D=i(853374),R={Photo:"Photo",Video:"Video",Audio:"Audio",File:"File",Call:"Call",Post:"Post",PostWithContent:"PostWithContent",Location:"Location",SwiftCard:"SwiftCard",Gif:"GIF",MediaAlbum:"MediaAlbum"},E={[r.MessageTypeGroups.Picture]:R.Photo,[r.MessageTypeGroups.Video]:R.Video,[r.MessageTypeGroups.Audio]:R.Audio,[r.MessageTypeGroups.UriFile]:R.File,[r.MessageTypeGroups.Calling]:R.Call,[r.MessageTypeGroups.Location]:R.Location,[r.MessageTypeGroups.SwiftCard]:R.SwiftCard,[r.MessageTypeGroups.Gif]:R.Gif,[r.MessageTypeGroups.MediaAlbum]:R.MediaAlbum};function B(e,t,i){let n,o,s,r,l;if(e&&e.length>0){const d=(0,a.chain)(e,(0,a.sortBy)((e=>e.time?-e.time:NaN)),(0,a.uniqBy)((e=>e.mri)));o=V(d.length,t,i),d.length>=1&&(n=d[0].mri,s=G(d[0].mri)),d.length>=2&&(c=d[1].mri,r=m.default.getDisplayableProfile(c).getShortName(),l=d.length-1)}var c;return{mostRecentMri:n,labelKey:o,firstPersonToReact:s&&s.name,gender:s&&s.gender,secondPersonToReact:r,othersCount:l}}function F(){return N.default.getPlatformType()===f.PlatformType.Windows?"disabled":"enabled"}function V(e,t,i){let n;if(i&&t.objectType===r.MessageTypeGroups.SwiftCard){const e=i.getFirstUriObjectChild(T.SwiftUriObjectNode);e&&e.getCardType()===b.default.imageContentTypes.gif&&(n=r.MessageTypeGroups.Gif)}const o=function(e,t){let i=E[e];i||(i=t?R.Post:R.PostWithContent);return i}(n||t.objectType,t.isQuoteOnly);let s;return 1===e?s="OnePersonReactedToYour"+o:2===e?s="TwoPeopleReactedToYour"+o:e>2&&(s="MoreThanTwoPeopleReactedToYour"+o),s?(s=t.isPushNotification?"PushNotification."+s:"AlertCard."+s,s):s}function U(e,t,i,n){let o;return e.isCurrentUserMentioned(!1)?o=v.getString("Notifications.UserMentionTitle",{creator:i}):r.hasAllAtMention(e.content)?o=v.getString("Notifications.AllMentionTitle",{creator:i}):e.isCurrentUserQuoted()?o=v.getString("Notifications.ReplyTitle",{creator:i}):t&&t.isOneOnOne()?o=v.getString("Notifications.OneOnOneTitle",{creator:i}):(n.length>20&&(n=n.substring(0,17)+"..."),o=v.getString("Notifications.ConversationGroupTitle",{creator:i,conversationName:n})),o}function j(e,t){if(r.getMessageTypeGroup(e)!==r.MessageTypeGroups.Picture)return;const i=S.decode(e).getFirstUriObjectChild(T.PictureNode);return null==i?void 0:i.getDisplayUrlSanitized(!d.default.isConversationObjectAccepted(t))}function H(e,t){let i;const n=r.getMessageTypeGroup(e),o=S.decode(e);switch(n){case r.MessageTypeGroups.Audio:i=v.getString("Notifications.AudioBody",{emoji:F()});break;case r.MessageTypeGroups.Location:i=function(e,t){const i=h.renderText(e,{message:t,processing:{quotes:y.ProcessingLevel.None,wikiMarkup:y.ProcessingLevel.Stripped},trimToFirstLine:!0});return v.getString("Notifications.LocationBody",{address:i,emoji:F()})}(o,e);break;case r.MessageTypeGroups.Picture:i=W(o);break;case r.MessageTypeGroups.Video:i=v.getString("Notifications.VideoBody",{emoji:F()});break;case r.MessageTypeGroups.UriFile:i=function(e){const t=z(e),i=b.default.extractFileExtension(t);if(b.default.isImageExtension(i))return W(e);return v.getString("Notifications.FileBody",{fileName:t})}(o);break;case r.MessageTypeGroups.Moji:i=v.getString("Notifications.MojiBody");break;case r.MessageTypeGroups.Sticker:i=v.getString("Notifications.StickerBody");break;case r.MessageTypeGroups.ScheduledCallInvite:i=v.getString("Notifications.ScheduledCallInviteBody",{organizerName:t});break;case r.MessageTypeGroups.Text:r.isContactMessageType(e)&&(i=function(e){const t=e.children[0];if(t.children&&1===t.children.length){const e=t.children[0];return v.getString("Notifications.ContactBody",{emoji:F(),contactName:e.fullName})}return v.getString("Notifications.ContactsBody",{emoji:F()})}(o));break;case r.MessageTypeGroups.SwiftCard:const n=o.getFirstUriObjectChild(T.SwiftUriObjectNode);n&&(i=n.getCardType()===b.default.imageContentTypes.gif?v.getString("Notifications.GifBody",{emoji:F()}):h.renderText(n,{message:e,processing:{quotes:y.ProcessingLevel.None,wikiMarkup:y.ProcessingLevel.Stripped},trimToFirstLine:!0})),i||(i=v.getString("Notifications.CardBody"));break;case r.MessageTypeGroups.System:e.messagetype===r.MessageTypes.HandshakeInvite?i=v.getString("Notifications.E2eeInvitedNotificationLabel"):e.messagetype===r.MessageTypes.HandshakeAccept?i=v.getString("Notifications.E2eeAcceptedNotificationLabel"):e.messagetype===r.MessageTypes.HandshakeComplete&&(i=v.getString("Notifications.E2eeEstablishedNotificationLabel"));break;case r.MessageTypeGroups.MediaAlbum:i=v.getString("Notifications.MediaAlbumBody",{emoji:F()})}return l.isEncryptedThread(e.conversationId)&&(i=v.getString("Notifications.E2eeTextNotificationLabel")),e.isTranslationSettings()&&(i=g.getTranslationActionString(e.content)),i||(i=h.renderText(o,{message:e,utfFallback:s.default.getS4LMessagingFeatures().enableNotificationUtfFallback,processing:{quotes:y.ProcessingLevel.None,wikiMarkup:y.ProcessingLevel.Stripped},trimToFirstLine:!0})),i||""}function W(e){const t=z(e);return b.default.getFileContentType(t)===b.default.imageContentTypes.gif?v.getString("Notifications.GifBody",{emoji:F()}):v.getString("Notifications.PhotoBody",{emoji:F()})}function z(e){const t=e.getFirstUriObjectChild(T.UriObjectNode);return t&&t.getNameForUI()||""}function G(e,t=!1){const i=O.default.getFullUserProfileByMri(e);return{name:t?i.getDisplayName():i.getShortName(),gender:i.gender||L.eGender.Unspecified}}function K(e,t=!1){const i=O.default.getFullUserProfileByMri(e);return m.default.getDisplayableProfilePotentiallyBeforeStartupAsync(e).then((e=>({name:t?e.getDisplayName():e.getShortName(),gender:i.gender||L.eGender.Unspecified})))}t.getCompactNotificationDisplayInfoPotentiallyBeforeStartupAsync=function(e,t,i,s,l,c,d){var u;const g=s||v.getString("Notifications.UnknownUser"),h=l||v.getString("Notifications.UnknownUserShort"),y=c||v.getString("Notifications.UnknownUserShort");if(i===k.MessageNotificationType.AddToConversation){const t=P.getMessageInitiator(e);if(t)return K(t,!0).then((e=>{if(!e.name){const e=v.getString("Notifications.AddedToConversationDefault",{conversationName:y});return o.Resolved({title:e,body:""})}return{title:v.getParts("Notifications.AddedToConversationByUser",{conversationName:y,displayName:e.name,gender:_.getLocalizeParamForGender(e.gender)}).join(""),body:""}}));const i=v.getString("Notifications.AddedToConversationDefault",{conversationName:y});return o.Resolved({title:i,body:""})}if(i===k.MessageNotificationType.Reaction){const i=e.getReactionsReadTimeForCurrentUser(),s=Date.now(),l=(0,a.chain)(e.getCleanedEmotionAnnotations(),(0,a.map)((e=>e.users)),(0,a.flatten)(),(0,a.filter)((e=>(e.time||s)>i))),c=null===(u=n.last(e.getCleanedEmotionAnnotations()))||void 0===u?void 0:u.key,d=c?C.default.getEmoticonUtfFallback(c):void 0,p=d?`${d} `:"",f=r.getMessageTypeGroup(e);return function(e,t,i){let n,s,r,l=o.Resolved(void 0),c=o.Resolved(void 0);if(e&&e.length>0){const o=(0,a.chain)(e,(0,a.sortBy)((e=>e.time?-e.time:NaN)),(0,a.uniqBy)((e=>e.mri)));s=V(o.length,t,i),o.length>=1&&(n=o[0].mri,l=K(o[0].mri,!0)),o.length>=2&&(c=function(e,t=!1){return m.default.getDisplayableProfilePotentiallyBeforeStartupAsync(e).then((e=>t?e.getDisplayName():e.getShortName()))}(o[1].mri,!0),r=o.length-1)}return o.all([l,c]).then((([e,t])=>({mostRecentMri:n,labelKey:s,firstPersonToReact:e&&e.name,gender:e&&e.gender,secondPersonToReact:t,othersCount:r})))}(l,{objectType:r.getMessageTypeGroup(e),isQuoteOnly:!1,isPushNotification:!0},f===r.MessageTypeGroups.SwiftCard?S.decode(e):void 0).then((i=>{let o;o=i.labelKey?p+v.getParts(i.labelKey,{user:i.creatorDisplayName,firstOtherPerson:i.firstPersonToReact,secondOtherPerson:i.secondPersonToReact,gender:_.getLocalizeParamForGender(i.gender),otherCount:i.othersCount}).join(""):U(e,t,g,y);const s=n.endsWith(i.labelKey,R.Post)||n.endsWith(i.labelKey,R.PostWithContent),a=H(e,h);return s?{title:o,body:a}:{title:"",body:o}}))}if(i===k.MessageNotificationType.ScheduledCall&&d){return K(d.userMri,!0).then((e=>{let i;if(d.invitationStatus){const t=d.invitationStatus===w.ScheduledCallInvitationStatus.Accepted?"Notifications.ScheduledCallAcceptedBody":"Notifications.ScheduledCallDeclinedBody";i=v.getString(t,{gender:_.getLocalizeParamForGender(e.gender),displayName:e.name,subject:d.subject})}else if(d.wasCanceled)i=v.getString("Notifications.ScheduledCallDeletedBody",{gender:_.getLocalizeParamForGender(e.gender),displayName:e.name,subject:d.subject});else if(d.hasUpdates)i=v.getString("Notifications.ScheduledCallEditedBody",{gender:_.getLocalizeParamForGender(e.gender),displayName:e.name,subject:d.subject});else{const n=t&&t.isOneOnOne()?"Notifications.ScheduledCallInviteTime":"Notifications.ScheduledCallInviteTimeGroup";i=v.getString(n,{gender:_.getLocalizeParamForGender(e.gender),subject:d.subject,time:p.default.getDisplayDateTimeString(d.datetimeMs),conversationDisplayName:t&&t.topicName()||""})}return{title:v.getString("Notifications.OneOnOneTitle",{creator:e.name}),body:i}}))}return o.Resolved({title:U(e,t,g,y),body:H(e,h)})},t.formatPreviousMessagePotentiallyBeforeStartup=function(e,t,i,n){var o,a,r;const l=(null!==(o=null==i?void 0:i.getDisplayName())&&void 0!==o?o:"")||v.getString("Notifications.UnknownUserShort");return{userDisplayName:l,userIdentifier:n||"",userAvatar:null!==(a=null==i?void 0:i.getAvatarUrl())&&void 0!==a?a:"",receivedTime:t.createdTime,message:H(t,l),icon:{initials:null!==(r=null==i?void 0:i.getInitials())&&void 0!==r?r:"",color:n?c.default.getPrimaryColorNoSubscription(n):M.Color.white},thumbnailUrl:s.default.getS4LNativePlatformsEcsConfigNoSubscription().enableAndroidNotificationsImagePreview?j(t,e):void 0}},t.getScheduledCallDisplayInfoForInvitationAlert=function(e,t,i){const n=G(e,!0),o=x.default.getScheduledCallSubject(i),s=t===I.ScheduleCallAlertTypes.InvitationAccepted?"Notifications.ScheduledCallAcceptedBody":"Notifications.ScheduledCallDeclinedBody";return{title:v.getString("Notifications.OneOnOneTitle",{creator:n.name}),body:v.getString(s,{gender:_.getLocalizeParamForGender(n.gender),displayName:n.name,subject:o})}},t.getScheduledCallDisplayInfoForInvitationUpdatedAlert=function(e,t,i){const n=G(e),o=x.default.getScheduledCallSubject(i),s=t===I.ScheduleCallAlertTypes.Edited?"Notifications.ScheduledCallEditedBody":"Notifications.ScheduledCallDeletedBody";return{title:v.getString("Notifications.OneOnOneTitle",{creator:n.name}),body:v.getString(s,{displayName:n.name,subject:o})}},t.getScheduledCallDisplayInfoForInvitationReceivedAlert=function(e){const t=G(e);return{title:v.getString("Notifications.OneOnOneTitle",{creator:t.name}),body:v.getString("Notifications.ScheduledCallInviteBody",{gender:_.getLocalizeParamForGender(t.gender),organizerName:t.name})}},t.getCompactNotificationDisplayInfo=function(e,t,i,o,s){const l=i||v.getString("Notifications.UnknownUser"),c=o||v.getString("Notifications.UnknownUserShort"),d=s||v.getString("Notifications.UnknownUserShort");if((0,A.isLastMessageUpdateReaction)(e)){const i=e.getReactionsReadTimeForCurrentUser(),o=Date.now(),s=B((0,a.chain)(e.getCleanedEmotionAnnotations(),(0,a.map)((e=>e.users)),(0,a.flatten)(),(0,a.filter)((e=>(e.time||o)>i))),{objectType:r.getMessageTypeGroup(e),isQuoteOnly:!1,isPushNotification:!0});let u;u=s.labelKey?v.getParts(s.labelKey,{user:s.creatorDisplayName,firstOtherPerson:s.firstPersonToReact,secondOtherPerson:s.secondPersonToReact,gender:_.getLocalizeParamForGender(s.gender),otherCount:s.othersCount}).join(""):U(e,t,l,d);return{title:u,body:n.endsWith(s.labelKey,R.Post)||n.endsWith(s.labelKey,R.PostWithContent)?H(e,c):""}}return{title:U(e,t,l,d),body:H(e,c)}},t.getMessageDisplayInfo=function(e,t){let i;e.isCurrentUserQuoted()?i=t?"AlertCard.ReplyWithoutContent":"AlertCard.ReplyWithContent":e.isCurrentUserMentioned()&&(i=r.hasAllAtMention(e.content)?"AlertCard.MentionAll":"AlertCard.MentionYou");const n=e&&G(e.creator);return{labelKey:i,mostRecentMri:e.creator,creatorDisplayName:n&&n.name,gender:n&&n.gender}},t.getReactionsDisplayInfo=B,t.getScheduledCallDisplayInfo=function(e){let t;switch(e.type){case I.ScheduleCallAlertTypes.Canceled:t="AlertCard.CallInviteDeleted";break;case I.ScheduleCallAlertTypes.InvitationAccepted:t="AlertCard.UserAcceptedCallInvite";break;case I.ScheduleCallAlertTypes.InvitationDeclined:t="AlertCard.UserDeclinedCallInvite";break;case I.ScheduleCallAlertTypes.Received:t="AlertCard.CallInviteReceived";break;case I.ScheduleCallAlertTypes.Edited:t="AlertCard.CallInviteEdited";break;default:return D.default.switchStatementExhaustiveChecking(e.type)}const i=G(e.initiator);return{mostRecentMri:void 0,labelKey:t,creatorDisplayName:i.name,gender:i.gender,subject:e.subject}},t.getOnboardingDisplayInfo=function(){return{mostRecentMri:void 0,labelKey:"PopCards.NotificationHeader"}},t.getEmojiSupport=F,t.getReactionAlertAccessibilityLabel=function(e){const t=u.toAccessibilityLabel(S.decode(e),{message:e,includeSenderInformationInAccessibilityLabel:!1,includeReactionInformationInAccessibilityLabel:!1}),i=(0,a.chain)(e.getCleanedEmotionAnnotations(),(0,a.map)((e=>n.map(e.users,(t=>({key:e.key,mri:t.mri,time:t.time||NaN}))))),(0,a.flatten)(),(0,a.sortBy)((e=>e.time?-e.time:NaN))),o={messageContent:t},s=n.uniqBy(i,(e=>e.mri)),[r,l]=s;if(r&&(o.firstName=m.default.getDisplayName(r.mri)||r.mri),l&&(o.secondName=m.default.getDisplayName(l.mri)||l.mri),1===i.length){const e=C.default.getEmoticonByName(i[0].key);e&&(o.reaction=e.description||i[0].key)}o.nuberOfUsersReacted=s.length-1;const c=function(e){const t=(0,a.chain)(e.getCleanedEmotionAnnotations(),(0,a.map)((e=>e.users)),(0,a.flatten)(),(0,a.sortBy)((e=>e.time?-e.time:NaN)),(0,a.groupBy)((e=>e.mri)));switch(n.keys(t).length){case 1:const e=n.first(n.values(t));return e&&e.length>1?"AlertCard.SingleUserReactedAccessibilityLabel":e&&1===e.length?"AlertCard.SingleUserReactedWithReactionAccessibilityLabel":void 0;case 2:return"AlertCard.TwoUsersReactedAccessibilityLabel";default:return"AlertCard.MultipleUsersReactedAccessibilityLabel"}}(e);return v.getString(c,o)}},262630:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tryGetDndOsState=void 0,t.tryGetDndOsState=function(e){}},632910:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isUpgradedFromDelphiToElectron=t.tryToQuitAndInstallUpdate=t.quitAndUpdate=void 0;const n=i(516283),o=i(219784),s=i(994224),a=(i(310167),i(436237)),r=i(733754);let l=null;function c(){l?(a.debug((()=>"ElectronUtils: Calling quit and update.")),l.ipcProvider.appUpdate.quitAndUpdate.send()):a.error(n.LogTraceArea.GenericUnsafe,"ElectronUtils: No ElectronApi attached on window.")}"undefined"!=typeof window&&window.electronApi&&(l=window.electronApi),t.quitAndUpdate=c,t.tryToQuitAndInstallUpdate=function(e){if(l)return s.default.CallingStore.hasConnectedCalls()?(a.debug((()=>"ElectronUtils: Connected call when trying to update.")),void o.default.showConfirmationAlert(r.getString("QuitDialog.Message"),void 0,r.getString("QuitDialog.QuitLabel"),c,e)):void c();a.error(n.LogTraceArea.GenericUnsafe,"ElectronUtils: No ElectronApi attached on window.")},t.isUpgradedFromDelphiToElectron=function(){return!1}},731733:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHelpAndFeedbackUrl=t.isSsoEnabled=t.getTelemetryCorrelationId=t.getUserVoiceLinkUrl=t.isUserVoiceLinkEnabled=t.addCommonTrackingParams=void 0;const n=i(496486),o=i(889391),s=i(733754),a=i(470583),r=i(982445),l=i(640363),c=i(658874),d=i(626712),u=i(853374);t.addCommonTrackingParams=function(e,t,i,n){const o=i?s.getLocale():l.default.getSystemLanguage();return e=d.default.addUrlParameter(e,"lang",o,t),e=d.default.addUrlParameter(e,"p",l.default.getSkypePlatformId().toString(),t),e=d.default.addUrlParameter(e,"v",l.default.getAppVersion(),t),e=d.default.addUrlParameter(e,"e",c.UIFactor[c.UIFactorHelper.getUIFactor()],t),n&&(e=d.default.addUrlParameter(e,"tcg",n,t)),e},t.isUserVoiceLinkEnabled=function(){return s.isEnglishLanguage()},t.getUserVoiceLinkUrl=function(){return o.default.getConfigSettings().go.host+o.default.getConfigSettings().feedbackAndProblemGoParam.userVoice},t.getTelemetryCorrelationId=function(){return u.default.newGuid()},t.isSsoEnabled=function(){return o.default.getFeedbackFeatures().forceSsoFlow},t.getHelpAndFeedbackUrl=function(e,t,i){let s=o.default.getConfigSettings().go.host+e;return s=a.addDefaultParamsToUrl(s,t,!0),s=d.default.addUrlParameters(s,n.pickBy(i,r.isQueryParameterOverrideValid)),d.default.getUrlParameterValue(s,"lang")&&(s=d.default.addUrlParameter(s,"setlang","")),s}},839769:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shouldRunPeopleTabsExperiment=t.runLandingExperiment=t.shouldRunLandingExperiment=void 0;const n=i(898278),o=i(746096),s=i(941209),a=i(104735),r=i(853154),l=i(853374);function c(e){return s.isAddressBookEnabled()&&e}t.shouldRunLandingExperiment=c,t.runLandingExperiment=function(e,t){switch(e){case r.HubToShowAfterFinishedOnboarding.Recents:a.default.navigateToRecentsTab();break;case r.HubToShowAfterFinishedOnboarding.Calls:a.default.navigateToCallsTab();break;case r.HubToShowAfterFinishedOnboarding.People:a.default.navigateToPeopleTab();break;case r.HubToShowAfterFinishedOnboarding.Dial:a.default.navigateToCallsTab(),a.default.navigateToPSTNDialerWithParams({causeId:t,navigationSource:o.DialerNavigationSource.DeepLink},n.MainRootViewId);break;default:l.default.switchStatementExhaustiveChecking(e),a.default.navigateToRecentsTab()}},t.shouldRunPeopleTabsExperiment=function(e,t){return c(e)&&t===r.HubToShowAfterFinishedOnboarding.People}},458666:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.supportedLangLocales=t.getLanguageFromLocale=t.getLocaleStandardized=t.getLanguageOnlyTitle=t.getShortLanguageTitle=t.getLanguageTitle=t.setLocale=t.resetLocaleToSystem=t.sortedLanguageInfo=void 0;const n=i(341748),o=(i(310167),i(733754)),s=i(178735);function a(){const e={};return t.supportedLangLocales.forEach((t=>{e[t]=t,e[t.toLowerCase()]=t})),e}t.sortedLanguageInfo=[{code:"ar-SA",rtl:!0},{code:"bg-BG"},{code:"ca-ES"},{code:"zh-CN"},{code:"zh-TW"},{code:"hr-HR"},{code:"cs-CZ"},{code:"da-DK"},{code:"nl-NL"},{code:"de-DE"},{code:"el-GR"},{code:"en-GB"},{code:"en-US"},{code:"es-ES"},{code:"es-MX"},{code:"et-EE"},{code:"fi-FI"},{code:"fr-CA"},{code:"fr-FR"},{code:"he-IL",rtl:!0},{code:"hi-IN"},{code:"hu-HU"},{code:"id-ID"},{code:"it-IT"},{code:"ja-JP"},{code:"ko-KR"},{code:"lt-LT"},{code:"lv-LV"},{code:"ms-MY"},{code:"nb-NO"},{code:"pl-PL"},{code:"pt-PT"},{code:"pt-BR"},{code:"ro-RO"},{code:"ru-RU"},{code:"sk-SK"},{code:"sl-SI"},{code:"sr-Latn-RS"},{code:"sv-SE"},{code:"th-TH"},{code:"tr-TR"},{code:"uk-UA"},{code:"vi-VN"}],t.resetLocaleToSystem=function(){o.resetLocaleToSystem().toEs6Promise().then((()=>{s.default.setUserPreferencesLocal({locale:void 0})}))},t.setLocale=function(e){return o.setLocale(e).then((()=>{s.default.setUserPreferencesLocal({locale:e}),(0,n.setLanguageCookie)(e)}))},t.getLanguageTitle=function(e){return o.getStringUnsafe("SettingsLanguages."+e)},t.getShortLanguageTitle=function(e){const t=a()[e];return t?o.getString("ShortLanguages."+t):e},t.getLanguageOnlyTitle=function(e){return o.getString("LanguageOnly."+e)},t.getLocaleStandardized=function(e){const t=a()[e];return null!=t?t:e},t.getLanguageFromLocale=function(e){var t;return null!==(t=null==e?void 0:e.split("-")[0])&&void 0!==t?t:""},t.supportedLangLocales=["af-ZA","am-ET","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LB","ar-LY","ar-MA","ar-OM","ar-QA","ar-SA","ar-SY","ar-TN","ar-YE","az-AZ","bg-BG","bn-IN","bs-BA","ca-ES","cs-CZ","cy-GB","da-DK","de-AT","de-CH","de-DE","el-GR","en-AU","en-CA","en-GB","en-HK","en-IE","en-IN","en-KE","en-NG","en-NZ","en-PH","en-SG","en-TZ","en-US","en-ZA","es-AR","es-BO","es-CL","es-CO","es-CR","es-CU","es-DO","es-EC","es-GQ","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-PY","es-SV","es-US","es-ES","es-UY","es-VE","et-EE","fa-IR","fi-FI","fil-PH","fr-BE","fr-CA","fr-CH","fr-FR","ga-IE","gu-IN","he-IL","hi-IN","hr-HR","hu-HU","id-ID","is-IS","it-IT","ja-JP","kk-KZ","km-KH","kn-IN","ko-KR","lo-LA","lt-LT","lv-LV","mr-IN","ms-MY","mt-MT","my-MM","nb-NO","ne-NP","nl-BE","nl-NL","pl-PL","ps-AF","pt-PT","pt-BR","ro-RO","ru-RU","sk-SK","sl-SI","sq-AL","sr-Latn-RS","sv-SE","sw-KE","sw-TZ","ta-IN","te-IN","th-TH","tr-TR","uk-UA","vi-VN","zh-CN","zh-HK","zh-TW"]},226093:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getAutoDetectedLanguagesList=void 0;const n=i(496486),o=i(733754),s=i(640363),a=i(889391),r=i(458666),l={};r.supportedLangLocales.forEach((e=>{var t;const{country:i}=g(e),n=null!==(t=l[i])&&void 0!==t?t:[];l[i]=n.concat([e])})),t.getAutoDetectedLanguagesList=function(e){var t;const i=s.default.getSystemLocale(),n=null===(t=a.default.getHeaders().CountryCode)||void 0===t?void 0:t.toLowerCase(),r=o.getLocale(),l=a.default.getS4LCMCFeaturesNoSubscription().translationFeatures.automaticLangDetectionNumberOfResults;return c(e,i,n,r,l)};const c=n.memoize((function(e,t,i,n,o){const s=new Map,r=new Map;a.default.getS4LCMCFeaturesNoSubscription().callTranslatorBotConfig.languageSupport.speech.forEach((e=>{const{lang:t,country:i}=g(e);s.set(t,e),r.set(i,t)}));const l=new Set;u(t,l,s,r),u(n,l,s,r),e&&(u(e,l,s,r),d(g(e).country,l,s,r));d(i,l,s,r),d(g(t).country,l,s,r),d(g(n).country,l,s,r);const c=[];for(const e of l.values()){const t=s.get(e);if(t&&(c.push(t),c.length>=o))break}return c}),((...e)=>e.join("_")));function d(e,t,i,n){var o;e&&(null===(o=l[e])||void 0===o||o.forEach((e=>{var o;const{lang:s}=g(e);null===(o=h[s])||void 0===o||o.forEach((e=>u(e,t,i,n)))})))}function u(e,t,i,n){var o;const{lang:s,country:a}=g(e);if(!t.has(s))if(i.has(s))t.add(s);else{const e=n.get(a);if(e)t.add(e);else{t.add(s);(null!==(o=h[s])&&void 0!==o?o:[]).forEach((e=>u(e,t,i,n)))}}}function g(e){const t=null==e?void 0:e.split("-");return t&&t.length>1?{lang:t[0],country:t[t.length-1].toLowerCase()}:{lang:"",country:""}}const h={af:["af-ZA","nl-NL"],am:["am-ET","ar-AE"],ar:["ar-AE","fa-IR","es-ES","he-IL"],bg:["bg-BG","sr-Latn-RS","hr-HR","bs-BA","sl-SI"],bn:["bn-IN","fil-PH","id-ID","ne-NP","mr-IN"],bs:["bs-BA","bg-BG","sr-Latn-RS","hr-HR","sl-SI"],ca:["ca-ES","fr-FR","es-ES"],cs:["cs-CZ","sk-SK","pl-PL","ru-RU"],cy:["cy-GB","ga-IE","en-US"],da:["da-DK","nb-NO","sv-SE","is-IS"],de:["de-DE","nl-NL"],el:["el-GR","sq-AL"],en:["en-US","cy-GB","ga-IE"],es:["es-ES","it-IT","fr-FR","pt-PT"],et:["et-EE","fi-FI"],fa:["fa-IR","ar-AE"],fi:["fi-FI","et-EE"],fil:["fil-PH","id-ID","ne-NP","bn-IN","mr-IN"],fr:["fr-FR","it-IT","es-ES","pt-PT"],ga:["ga-IE","cy-GB","en-US"],gu:["gu-IN","hi-IN","kn-IN"],he:["he-IL","ar-AE"],hi:["hi-IN","gu-IN","kn-IN"],hr:["hr-HR","bg-BG","sr-Latn-RS","bs-BA","sl-SI"],hu:["hu-HU","kk-KZ","tr-TR"],id:["id-ID","fil-PH","ne-NP","bn-IN","mr-IN"],is:["is-IS","da-DK","nb-NO","sv-SE"],it:["it-IT","fr-FR","es-ES","pt-PT"],ja:["ja-JP","zh-CN","ko-KR"],kk:["kk-KZ","hu-HU","tr-TR"],km:["km-KH","hi-IN","vi-VN"],kn:["kn-IN","gu-IN","hi-IN"],ko:["ko-KR","ja-JP","zh-CN"],lo:["lo-LA","km-KH"],lt:["lt-LT","lv-LV","pl-PL"],lv:["lv-LV","lt-LT","pl-PL"],mr:["mr-IN","fil-PH","id-ID","ne-NP","bn-IN"],ms:["ms-MY","ar-AE"],mt:["mt-MT","ar-AE"],my:["my-MM","hi-IN"],nb:["nb-NO","da-DK","sv-SE","is-IS"],ne:["mr-IN","fil-PH","id-ID","ne-NP","bn-IN"],nl:["nl-NL","de-DE","af-ZA"],pl:["pl-PL","cs-CZ","sk-SK","ru-RU"],ps:["ps-AF","fa-IR"],pt:["pt-PT","it-IT","fr-FR","es-ES"],ro:["ro-RO","it-IT"],ru:["ru-RU","cs-CZ","sk-SK","pl-PL"],sk:["sk-SK","cs-CZ","pl-PL","ru-RU"],sl:["sl-SI","bg-BG","sr-Latn-RS","hr-HR","bs-BA"],sq:["sq-AL","el-GR"],sr:["sr-Latn-RS","bg-BG","hr-HR","bs-BA","sl-SI"],sv:["sv-SE","da-DK","nb-NO","is-IS"],sw:["sw-KE","sw-TZ"],ta:["ta-IN","hi-IN"],te:["te-IN","hi-IN"],th:["th-TH","km-KH"],tr:["tr-TR","kk-KZ","hu-HU"],uk:["uk-UA","cs-CZ","pl-PL","ru-RU"],vi:["vi-VN","km-KH"],zh:["zh-CN","ja-JP","ko-KR"]}},865515:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(583367),o=i(516778),s=i(397691),a=i(889391),r=i(898278),l=i(746096),c=i(436237),d=i(29130),u=(i(672997),i(404057));t.default=class{static shouldUseStackNavigationFromScreenSize(){if(d.default.isMobileScreenSize(r.MainRootViewId))return c.log(l.LogTraceArea.Navigation,"shouldUseStackNavigationFromScreenSize: Is mobile screen size, returning true"),s.Resolved(!0);const e=o.UserInterface.getPixelRatio();let t;return t=void 0===this._screenDpi?n.default.screenDpi().then((e=>(this._screenDpi=e,e)),(e=>(c.warn(l.LogTraceArea.Navigation,"DeviceUtilities screenDpi failed: "+u.default.errorAsString(e)),0))):s.Resolved(this._screenDpi),t.then((t=>{if(0===t)return c.log(l.LogTraceArea.Navigation,"shouldUseStackNavigationFromScreenSize: screenDpi is unknown, returning "+!0),!0;const i=o.UserInterface.measureWindow(),n=i.width*e/t,s=i.height*e/t,r=Math.sqrt(Math.pow(n,2)+Math.pow(s,2)),d=a.default.getS4LUiFeaturesNoSubscription().androidTabletSizeThreshold,u=r<d;return c.log(l.LogTraceArea.Navigation,"shouldUseStackNavigationFromScreenSize: screenSize: "+r+" threshold: "+d+" shouldUseStackNav: "+u),u}))}}},813499:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(671830),o=i(104735);t.default=class{static navigateToConversationOrScheduleNavigationOnLaunch(e){e.convId&&!n.isHighlightsThread(e.convId)&&o.default.navigateToNonHighlightsConversationOrScheduleNavigationOnLaunch(e)}}},921090:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addFakeBrowserHistory=t.navigateWithReactNavigation=t.getNavigationParams=t.navigationTypesToTriggerKeys=t.setLeftNavViewMode=t.setEligibleLeftNavViewModes=t.baseSettingsGroup=t.getValidConversationIdForNavigation=t.searchViewModeContext=t.mainContentNavigatorId=t.modalNavigatorIdForRootViewId=t.modalNavigatorIdForComponentContext=t.rightSideBarNavigatorId=t.rootViewIdForComponentContext=t.maybeUpdateDesktopNavContext=t.mainStageViewModeForNavContext=t.stackNavigationDirection=t.shouldResetToHubAndConversation=t.considerNavContextsEqual=t.shouldNavigationContextPartReplaceExisting=t.deriveViewModeFromRightNavContext=t.defaultLeftNavViewMode=t.createRootCompositeSplitViewContext=t.convertStackNavContextToCompositeSplitNavContext=t.convertCompositeNavContextToStackNavContextStack=t.conversationNavigationDirection=void 0;const n=i(496486),o=i(397691),s=i(757361),a=i(476621),r=i(671830),l=i(898278),c=i(539549),d=i(746096),u=i(436237),g=i(362807),h=i(217093),p=i(795691),S=i(948199),m=i(914976),C=i(316392),y=i(853374),f=[h.MainStageNavViewMode.DesktopContentPanel,h.MainStageNavViewMode.Call];let b;function _(e){return e&&(e instanceof h.MobileHubNavigationContext||e instanceof h.AlertsHubNavigationContext||e instanceof h.TodayTabNavigationContext||e instanceof h.SearchNavigationContext||e instanceof h.ContactsPanelV2NavigationContext||e instanceof h.ConversationParticipantsNavigationContext||e instanceof h.CreateConversationNavigationContext||e instanceof h.ActiveNowPanelNavigationContext||e instanceof h.ArchivedConversationsPanelNavigationContext)?C.StackNavigationDirection.Push:C.StackNavigationDirection.Present}function v(e){u.log(d.LogTraceArea.Navigation,"NavigationUtils.createRootCompositeSplitViewContext causeId: "+e);const t=new h.RootCompositeSplitViewContext({}),i=t.getLeftNavigationContext();return i&&A(i,i.state.viewMode,e),t}function T(e,t,i){return(t instanceof h.CallNavigationContext||t instanceof g.MeetNowNavigationContext||t instanceof h.RedirectToLogoutNavigationContext)&&!i?h.LeftNavViewMode.None:h.LeftNavViewMode.Recents}function P(e){return e&&e.rootViewId?e.rootViewId:l.MainRootViewId}function k(e){return e!==l.MainRootViewId&&e.startsWith(p.ModalNavigatorPrefix)?e:p.ModalNavigatorPrefix+e}function A(e,t,i){if(b){const o=n.includes(b,t)?t:h.LeftNavViewMode.None;u.log(d.LogTraceArea.Navigation,"NavigationUtils.setLeftNavViewMode viewMode: "+t+" filteredViewMode: "+o+" causeId: "+i),e.setViewMode(o)}else u.log(d.LogTraceArea.Navigation,"NavigationUtils.setLeftNavViewMode viewMode: "+t+" causeId: "+i),e.setViewMode(t);return p.CompositeNavigationType.LeftSidebar}function I(e){if(e instanceof h.MobileContentPanelNavigationContext){const t=Object.keys(e.children),i=e.children[t[0]];return[t[0],Object.assign({},i.state)]}return e instanceof h.RequiredScenarioContext?[e.stateId,Object.assign(Object.assign({},e.state),{navigator:e.navigator})]:[e.stateId,Object.assign({},e.state)]}t.conversationNavigationDirection=_,t.convertCompositeNavContextToStackNavContextStack=function(e){u.log(d.LogTraceArea.Navigation,"NavigationUtils._convertCompositeNavContextToStackNavContextStack");const t=[],i=new h.SimpleSplitNavigationContext({});u.log(d.LogTraceArea.Navigation,"NavigationUtils: convert to stack nav, adding hub");const o=new h.MobileHubNavigationContext({hubTab:h.HubTab.Recents,screen:h.HubTab.Recents});if(t.push(o),!e)return i.setNavStack(t),i;if(e){const i=e.getLeftNavigationContext();if(i){const e=i.getConversationsListContext();o.state.hubTab=e.state.currentTab}const s=n.last(e.getNavStack());if(s instanceof h.DesktopContentPanelNavigationContext){const e=function(e){const t=e.getConversationContext();if(t&&t.state.conversationId){u.log(d.LogTraceArea.Navigation,"NavigationUtils: convert to stack nav, adding conversation: "+m.mriOrId(t.state.conversationId));const e=new h.MobileContentPanelNavigationContext({});return e.setConversationContext(t.state),e}return}(s);e&&t.push(e)}}return i.setNavStack(t),i},t.convertStackNavContextToCompositeSplitNavContext=function(e){const t=y.default.newCauseId();u.log(d.LogTraceArea.Navigation,"NavigationUtils.convertStackNavContextToCompositeSplitNavContext causeId: "+t);const i=v(t);let o,s=!1;const a=e?e.getNavStack():[];if(!s&&n.includes(f,h.MainStageNavViewMode.Call)){const e=n.findLast(a,(e=>e instanceof h.CallNavigationContext));o=e?e.state.conversationId:void 0,e&&(u.log(d.LogTraceArea.Navigation,"NavigationUtils: convert to composite nav, adding Call, callId: "+e.state.callId),i.setNavStack([e]),s=!0)}if(!s&&n.includes(f,h.MainStageNavViewMode.DesktopContentPanel)){const e=n.findLast(a,(e=>e instanceof h.MobileContentPanelNavigationContext)),t=e?e.getConversationContext():void 0;if(o=t?t.state.conversationId:void 0,t&&o){u.log(d.LogTraceArea.Navigation,"NavigationUtils: convert to composite nav, adding DesktopContentPanel, conversationId: "+m.mriOrId(o));const e=new h.DesktopContentPanelNavigationContext({});e.setConversationContext(t.state),i.setNavStack([e]),s=!0}}if(!s){u.log(d.LogTraceArea.Navigation,"NavigationUtils: convert to composite nav, adding WelcomeScreen");const e=new h.WelcomeScreenContext({});i.setNavStack([e])}const r=new h.LeftNavigationViewContext({viewMode:h.LeftNavViewMode.None});A(r,T(void 0,n.last(i.getNavStack())),t),i.setMasterContext(r);let l=h.HubTab.Recents;const c=n.findLast(a,(e=>e instanceof h.MobileHubNavigationContext));return c&&!n.isUndefined(c.state.hubTab)&&(l=c.state.hubTab),r.getConversationsListContext().state.currentTab=l,i},t.createRootCompositeSplitViewContext=v,t.defaultLeftNavViewMode=T,t.deriveViewModeFromRightNavContext=function(e){return e?e instanceof h.GalleryNavigationContext?h.RightSidebarViewMode.Gallery:e instanceof h.FindPanelNavigationContext?h.RightSidebarViewMode.Find:e instanceof h.InAppBrowserNavigationContext?h.RightSidebarViewMode.InAppBrowser:h.RightSidebarViewMode.Other:h.RightSidebarViewMode.None},t.shouldNavigationContextPartReplaceExisting=function(e,t){if(e instanceof h.MobileHubNavigationContext&&t instanceof h.MobileHubNavigationContext)return!0;if(e instanceof h.MobileContentPanelNavigationContext&&t instanceof h.MobileContentPanelNavigationContext){if(t.state.shouldReplaceCurrentContext)return!0;const i=e.getConversationContext(),n=t.getConversationContext();if((i?i.state.conversationId:void 0)===(n?n.state.conversationId:void 0))return!0}return e instanceof h.CallNavigationContext&&t instanceof h.CallNavigationContext&&e.state.initialConversationMri===t.state.initialConversationMri||e instanceof h.DetailsNavigationContext&&t instanceof h.DetailsNavigationContext&&e.state.mri===t.state.mri},t.considerNavContextsEqual=function(e,t){if(e instanceof h.MobileHubNavigationContext&&t instanceof h.MobileHubNavigationContext)return!0;if(e instanceof h.MobileContentPanelNavigationContext&&t instanceof h.MobileContentPanelNavigationContext){const i=t.getConversationContext(),n=e.getConversationContext();if(i&&n&&n.state.conversationId===i.state.conversationId&&n.state.scrollToTimestamp===i.state.scrollToTimestamp&&n.state.forceRefreshFocus===i.state.forceRefreshFocus&&n.state.selectedNumberForSMS===i.state.selectedNumberForSMS)return u.log(d.LogTraceArea.Navigation,"NavigationUtils.considerNavContextsEqual found matching MobileContentPanelNavigationContext conversationId: "+m.mriOrId(n.state.conversationId)),!0}return e instanceof h.CallNavigationContext&&t instanceof h.CallNavigationContext&&e.state.callId===t.state.callId?(u.log(d.LogTraceArea.Navigation,"NavigationUtils.considerNavContextsEqual found matching CallNavigationContext callId: "+e.state.callId),!0):t.id===e.id},t.shouldResetToHubAndConversation=function(e,t){return e instanceof h.CallNavigationContext&&t instanceof h.MobileContentPanelNavigationContext},t.stackNavigationDirection=function(e,t){return S.default.transitionHintForPopCard()?C.StackNavigationDirection.Present:n.isUndefined(e.state.navigationDirection)?e instanceof h.CaptureComboNavigationContext||e instanceof h.ConversationMediaViewerPanelContext||e instanceof h.InAppBrowserNavigationContext||e instanceof h.MediaPickerNavigationContext||e instanceof h.PSTNCountrySelectorNavigationContext||e instanceof h.SkypeNumberCountryAreaSelectorNavigationContext||e instanceof h.SkypeNumberPrefixSelectorNavigationContext||e instanceof h.SearchNavigationContext||e instanceof h.AlertsHubNavigationContext||e instanceof h.TodayTabNavigationContext||e instanceof h.QuickCallNavigationContext?C.StackNavigationDirection.Present:e instanceof h.MobileContentPanelNavigationContext?_(t):e instanceof h.SyncAddressBookContext||e instanceof h.PeopleYouMayKnowNoticeContext||e instanceof h.TelemetryConsentContext||e instanceof h.ThemeContext?e.state.isFirstLogin?C.StackNavigationDirection.Push:C.StackNavigationDirection.Present:e instanceof h.ConversationParticipantsNavigationContext&&t&&t instanceof h.MobileHubNavigationContext||e instanceof h.CreateConversationNavigationContext&&t&&t instanceof h.MobileHubNavigationContext||e instanceof h.ReportConcernNavigationContext&&t&&t instanceof h.MobileHubNavigationContext?C.StackNavigationDirection.Present:C.StackNavigationDirection.Push:e.state.navigationDirection},t.mainStageViewModeForNavContext=function(e){return e instanceof h.WelcomeScreenContext?h.MainStageNavViewMode.WelcomeScreen:e instanceof h.DesktopContentPanelNavigationContext?h.MainStageNavViewMode.DesktopContentPanel:e instanceof h.CallNavigationContext?h.MainStageNavViewMode.Call:e instanceof h.ForcedUpgradeContext?h.MainStageNavViewMode.ForcedUpgradeScreen:e instanceof h.TodayTabNavigationContext?h.MainStageNavViewMode.Today:void 0},t.maybeUpdateDesktopNavContext=function(e,t){u.log(d.LogTraceArea.Navigation,"NavigationUtils.maybeUpdateDesktopNavContext, causeId "+t);let i=e;if(e instanceof h.ConversationNavigationContext){u.log(d.LogTraceArea.Navigation,"NavigationUtils.maybeUpdateDesktopNavContext: updating desktop conversation context, causeId "+t);const n=new h.DesktopContentPanelNavigationContext({});n.setConversationContext(e.state),i=n}return i},t.rootViewIdForComponentContext=P,t.rightSideBarNavigatorId=C.StackNavigatorId.DesktopSidebar,t.modalNavigatorIdForComponentContext=function(e){return k(P(e))},t.modalNavigatorIdForRootViewId=k,t.mainContentNavigatorId=C.StackNavigatorId.DesktopContent,t.searchViewModeContext=function(e){let t=h.LeftNavViewMode.Recents;return e.state.viewMode&&e.state.viewMode!==h.LeftNavViewMode.ConversationInCall&&(t=e.state.viewMode),t},t.getValidConversationIdForNavigation=function(e,t,i=d.NavigationConversationOrigin.Unknown){if(u.log(d.LogTraceArea.Navigation,"NavigationUtils: getValidConversationIdForNavigation, desiredConvId = "+m.mriOrId(e)+" causeId: "+t+" origin: "+i),e&&r.isPhoneMri(e))return a.default.ensureConversationLoadedOrFaked(e).then((()=>e));let n;return n=e?r.isOneOnOneConversation(e)||r.isBookmarkConversation(e)?a.default.ensureConversationLoadedOrFaked(e).then((()=>e)):a.default.ensureConversationLoaded(e).then((()=>e)):o.Resolved(void 0),n.then((e=>{if(e&&(0,c.default)().ableToViewConversation(e))return u.log(d.LogTraceArea.Navigation,"NavigationUtils: ableToViewConversation, navConvId = "+m.mriOrId(e)+" causeId: "+t),e;u.log(d.LogTraceArea.Navigation,"NavigationUtils: NOT ableToViewConversation, navConvId = "+m.mriOrId(e)+" causeId: "+t),u.log(d.LogTraceArea.Navigation,"NavigationUtils: no valid conversationId, causeId: "+t)}))},t.baseSettingsGroup=function(){return h.SettingsGroup.AccountAndProfile},t.setEligibleLeftNavViewModes=function(e,t){const i=y.default.newCauseId();u.log(d.LogTraceArea.Navigation,"NavigationUtils.setEligibleLeftNavViewModes viewModes: "+e+" causeId: "+i),b=e,t&&A(t,t.state.viewMode,i)},t.setLeftNavViewMode=A,t.navigationTypesToTriggerKeys=function(e){return n.uniq(e.map((e=>{switch(e){case p.CompositeNavigationType.Default:case p.CompositeNavigationType.MainContent:case p.CompositeNavigationType.LeftSidebar:return p.TriggerKeys.NavigationAndTabs;case p.CompositeNavigationType.RightSidebar:return p.TriggerKeys.DesktopSidebar;case p.CompositeNavigationType.Modal:return p.TriggerKeys.ModalNavigation}})))},t.getNavigationParams=I;const w="skype";t.navigateWithReactNavigation=function(e,t,i){var n,o;if(!i)return;const[a,r]=I(i),l=null===(n=e.getCurrentRoute())||void 0===n?void 0:n.params;if(a!==h.SettingsGroupNavigationId||l&&l.group===r.group)if(a===(null===(o=e.getCurrentRoute())||void 0===o?void 0:o.name))a===h.MiniAppNavigationId?e.dispatch(s.StackActions.push(a,r)):e.setParams(r);else if(t===C.StackNavigationType.PopToRoot||i.state.shouldResetNavStack){const t=e.getState();if((null==t?void 0:t.routes.length)>0&&t.routes[0].name!==h.MobileHubNavigationId)return void e.reset({index:0,routes:[{name:i.stateId,params:r}]});(null==t?void 0:t.routes.length)>1&&t.routes[0].name===h.MobileHubNavigationId&&e.dispatch(s.StackActions.popToTop()),e.navigate(a,r)}else t===C.StackNavigationType.Push?e.dispatch(s.StackActions.push(a,r)):t===C.StackNavigationType.Replace&&e.dispatch(s.StackActions.replace(a,r));else e.dispatch(s.StackActions.push(a,r));window.history.pushState(w,"",window.location.origin)},t.addFakeBrowserHistory=function(e){if(window.history.state!==w)for(let t=0;t<e-1;t++)window.history.pushState(w,"",window.location.origin)}},213847:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isLastMessageUpdateReaction=t.isContact=t.isCallerAllowed=t.sendWarmCallTelemetry=t.getNotificationIcon=void 0;const n=i(496486),o=i(516778),s=i(244770),a=i(397691),r=i(63413),l=i(109520),c=i(671830),d=i(562141),u=i(400984),g=i(887399),h=i(23293),p=i(746096),S=i(436237),m=i(998754),C=i(178735),y=i(18078),f=i(333326),b=i(914976),_=i(422538),v=i(404057),T=i(640363);function P(e,t){return _.HasStarted(u.default)?a.Resolved(u.default.isManuallyAddedContact(e)):_.EnsureStartedExclusive([m.default]).then((()=>{const i=m.default.getData(d.InternalKeys.ContactMris)||[],o=n.includes(i,e);return o?d.default.getDisplayableUser(e).then((e=>!(n.isUndefined(e)||!e.isManuallyAdded))).catch((i=>(S.log(p.LogTraceArea.Notifications,"Failed to getDisplayableUser for "+b.mriOrId(e)+" error: "+v.default.errorAsString(i)+" causeId: "+t),!1))):o})).catch((i=>(S.log(p.LogTraceArea.Notifications,"isContact set to false - InternalDataStore not started for caller "+b.mriOrId(e)+" error: "+v.default.errorAsString(i)+" causeId: "+t),!1)))}t.getNotificationIcon=function(e,t){if(!t)return s.Collection.GROUP_AVATAR_128;const i=t.getAvatarUrl();if(i)return i;let n=t.getMri();if(n&&e&&c.isEncryptedThread(n)&&(n=e.getMri()),n&&c.isUserMri(n)){if(e){const t=e.getAvatarUrl();if(t)return t;if(T.default.getPlatformType()===p.PlatformType.Android)return{initials:e.getInitials(),color:h.default.getPrimaryColor(n)}}return s.Collection.AVATAR_128}return n&&T.default.getPlatformType()===p.PlatformType.Android?{isGroupConversation:!0,color:h.default.getPrimaryColor(n)}:s.Collection.GROUP_AVATAR_128},t.sendWarmCallTelemetry=function(e,t){_.EnsureStarted(C.default).then((()=>{S.log(p.LogTraceArea.Notifications,"Previous warm push at "+new Date(e).toISOString()+" ended with disposition: "+f.descriptionForWarmCallDisposition(t)),S.track(new l.WarmCalNotificationDisposition(e,t)),C.default.setUserPreferencesLocal({timeAwakenedByWarmCallNotification:void 0})}))},t.isCallerAllowed=function(e,t,i){return e?function(e){let t;t=o.App.getActivationState()!==o.Types.AppActivationState.Active?_.EnsureStarted(r.default).then((()=>r.default.isContactBlocked(e))):g.isConversationBlockedAsync(e);return t}(e).then((n=>(S.log(p.LogTraceArea.Notifications,"isCallerAllowed caller "+b.mriOrId(e)+" blocked: "+n+" causeId: "+i),n||!t||c.isPhoneMri(e)?a.Resolved(n?p.PersonAllowed.Blocked:p.PersonAllowed.Allowed):c.isGroupConversation(e)?a.Resolved(p.PersonAllowed.NotContact):P(e,i).then((t=>(S.log(p.LogTraceArea.Notifications,"isCallerAllowed caller "+b.mriOrId(e)+" isContact: "+t+" causeId: "+i),a.Resolved(t?p.PersonAllowed.Allowed:p.PersonAllowed.NotContact))))))):(S.log(p.LogTraceArea.Notifications,"isCallerAllowed caller undefined blocked: false causeId: "+i),a.Resolved(p.PersonAllowed.Allowed))},t.isContact=P,t.isLastMessageUpdateReaction=function(e){return y.default.isMyMri(e.creator)&&e.hasUnseenReactions()}},933825:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getNewMessageFromSelection=t.getSelectedText=t.isTextSelected=void 0;const n=i(882261),o=i(746096),s=i(178735);function a(){if("undefined"!=typeof window)return window}function r(){const e=a();if(!e)return!1;const t=e.getSelection();return!!t&&"Range"===t.type}function l(){var e;const t=a();if(!t||!r())return"";const i=t.getSelection(),n=null==i?void 0:i.getRangeAt(0),o=null==n?void 0:n.endContainer,l=null===(e=null==o?void 0:o.parentElement)||void 0===e?void 0:e.classList.contains("DraftEditor-editorContainer");return 0===(null==i?void 0:i.focusOffset)&&n&&l&&!s.default.getUserPreferencesLocalNoSubscription().pasteAsQuotesEnabled&&n.setEnd(n.commonAncestorContainer,1),i?i.toString():""}t.isTextSelected=r,t.getSelectedText=l,t.getNewMessageFromSelection=function(e,t){return n.createMessageInfoFromEscapedText(e,o.PostSource.EphemeralMessage,t||l())}},360305:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(809206),o=(i(746096),i(330124));i(640363);t.default=class{static isTabletUI(){return n.EnvironmentInfo.isMobile()&&!o.default.isUsingStackNavigationContext()}static isTabletUINoSubscription(){return n.EnvironmentInfo.isMobile()&&!o.default.isUsingStackNavigationContextNoSubscription()}static isTablet(){return!!n.EnvironmentInfo.isMobile()&&this.isTabletUI()}static isTabletNoSubscription(){return!!n.EnvironmentInfo.isMobile()&&this.isTabletUINoSubscription()}static isIPad(){return!1}}},965953:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(436237),o=i(889391),s=i(178735),a=i(500349);t.default=new class{constructor(){this._setFilterSetting=()=>{const e=s.default.shouldSendOptionalTelemetryData()||!o.default.getS4LTelemetryFeatures().enableTelemetryFiltering;a.setShouldSendOptionalData(e),n.debug((()=>`[TelemetryHelper] EventBase.ShouldSendOptionalData = ${a.ShouldSendOptionalData}`))}}init(){this._setFilterSetting(),s.default.subscribe(this._setFilterSetting),o.default.subscribe(this._setFilterSetting),o.default.subscribe((()=>{a.setTelemetryFilteringEnabled(o.default.getS4LTelemetryFeatures().enableTelemetryFiltering)}))}}},962751:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getCompressType=t.getImageOrVideoThumbnail=t.getThumbnailFromVideoFilePath=t.getThumbnailFromImageFilePath=t.getResizedImageFromFilePath=void 0;const n=i(397691),o=i(753559),s=i(211276);t.getResizedImageFromFilePath=(e,t,i,o,s)=>n.Resolved({imageUri:e});t.getThumbnailFromImageFilePath=(e,i,n,o)=>(0,t.getResizedImageFromFilePath)(e,i,n,50,o);t.getThumbnailFromVideoFilePath=e=>{const t=n.Defer();return(0,s.captureFrameFromVideo)(e).then((e=>{e?t.resolve({imageUri:URL.createObjectURL(e.blob),imageBlob:e.blob,rawData:e.rawData,mimeType:e.mimeType}):t.resolve(void 0)})),t.promise()};t.getImageOrVideoThumbnail=(e,i,n,s)=>{if(o.default.isVideoExtension(i))return(0,t.getThumbnailFromVideoFilePath)(e);{const i=(0,t.getCompressType)(e);return(0,t.getThumbnailFromImageFilePath)(e,n,s,i)}};t.getCompressType=e=>{const t=o.default.getFileContentTypeFromExtension(o.default.extractFileExtension(e));return t===o.default.imageContentTypes.jpeg?"JPEG":t===o.default.imageContentTypes.gif?"GIF":t===o.default.imageContentTypes.png?"PNG":t===o.default.videoContentTypes.mp4?"MP4":t===o.default.videoContentTypes.mov?"MOV":void 0}},658874:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UIFactorHelper=t.UIFactor=void 0;const n=i(360305);var o;!function(e){e[e.Mobile=0]="Mobile",e[e.Tablet=1]="Tablet",e[e.Desktop=2]="Desktop"}(o=t.UIFactor||(t.UIFactor={}));t.UIFactorHelper=class{static getUIFactor(){return n.default.isTablet()?o.Tablet:o.Desktop}}},151038:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.populateProfilesToCalculateConvDisplayName=t.getDisplayableProfileWithConversationOwnerLookup=t.getDisplayableProfilePotentiallyBeforeStartupAsync=t.getDisplayableProfile=void 0;const n=i(496486),o=i(397691),s=i(1706),a=i(671830),r=i(576335),l=i(18078),c=i(172758);t.getDisplayableProfile=function(e){return a.isConnector(e)?r.default.getConnectorDescription(e):a.isAgent(e)?s.default.getAgentDescriptionForMri(e):(l.default.isMyMri(e)&&(e=l.default.getSkypeMri()),c.default.getDisplayableUserByMri(e))},t.getDisplayableProfilePotentiallyBeforeStartupAsync=function(e){return a.isConnector(e)?r.default.getConnectorDescriptionPotentiallyBeforeStartupAsync(e):a.isAgent(e)?s.default.getAgentDescriptionForMriPotentiallyBeforeStartupAsync(e):(l.default.isMyMri(e)&&(e=l.default.getSkypeMri()),c.default.getDisplayableUserByMriAsync(e))},t.getDisplayableProfileWithConversationOwnerLookup=function(e){const t=c.default.getConversationOwner(e);return c.default.getDisplayableUserByMri(t)},t.populateProfilesToCalculateConvDisplayName=function(e){if(!e||e.topicName())return o.Resolved();let t;if(t=e.isHighlightsThread()?a.isMyHighlightThread(e.id)?[]:n.compact([e.creator()]):e.getMemberMrisWithoutMe(),t.length>0){const e=[],[i,r]=n.partition(t,(e=>a.isAgent(e)));if(r.length>0){const t=n.map(r,(e=>c.default.getDisplayableUserByMriAsync(e)));e.push(o.all(t).then((e=>{c.default.cacheDisplayableUsersBeforeStartup(e)})))}if(i.length>0){const t=n.map(i,(e=>s.default.getAgentDescriptionForMriPotentiallyBeforeStartupAsync(e)));e.push(o.all(t).then((e=>{s.default.cacheProfilesBeforeStartup(e)})))}return o.all(e).then(n.noop)}return o.Resolved()}},73877:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WindowDimensionUtils=void 0;const n=i(516778),o=i(898278),s=i(29130);i(451070);class a{static measureWindow(e){return s.default.windowDimensionsNoSubscription(e)}static measureScreen(e){return n.UserInterface.measureWindow(e===o.MainRootViewId?void 0:e)}static windowHeightWithoutStatusBar(e){return this.measureWindow(e).height}}t.WindowDimensionUtils=a,t.default=a},144330:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(671830),s=i(404336),a=i(861253),r=i(178735),l=i(795691);t.default=class{static getWindowPreferences(e){return r.default.getUserPreferencesForConversationLocal(e).windowPreferences}static getDefaultWindowPreferences(){return{position:l.SplitViewDefaultWindowDimensions,isMaximized:!1}}static getDefaultModalPreferences(){return{position:{width:s.DefaultHeight,height:s.DefaultWidth,x:void 0,y:void 0},isMaximized:!1}}static getAuxiliaryWindowPreferences(e){var t;return null===(t=r.default.getUserPreferencesLocal().auxiliaryWindowPrefs)||void 0===t?void 0:t[e]}static storeAuxiliaryWindowPreferences(e,t){if(!t)return;const i=r.default.getUserPreferencesLocal().auxiliaryWindowPrefs||{},o=!n.isEmpty(i)&&i[e]?i[e]:{};(0,a.default)(o,t)||r.default.setUserPreferencesLocal({auxiliaryWindowPrefs:{[e]:t}})}static storeWindowPreferences(e,t,i){if(!t||!o.isMri(e))return;const s=r.default.getUserPreferencesLocal().conversationPrefs||{},l=!n.isEmpty(s)&&s[e]?s[e]:{},c={position:t,isMaximized:i};(0,a.default)(l.windowPreferences,c)||r.default.setUserPreferencesLocal({conversationPrefs:{[e]:{windowPreferences:c}}})}}},362997:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationStateStore=t.TokenStoreKeys=t.TokenStore=t.AppConfigStore=void 0;var n=i(889391);Object.defineProperty(t,"AppConfigStore",{enumerable:!0,get:function(){return n.default}});var o=i(994214);Object.defineProperty(t,"TokenStore",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"TokenStoreKeys",{enumerable:!0,get:function(){return o.TriggerKeys}});var s=i(827357);Object.defineProperty(t,"NavigationStateStore",{enumerable:!0,get:function(){return s.default}})},614980:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.navigateToCapturePreviewModalWithParams=t.closeCaptureCombo=t.navigateToCaptureComboWithParams=t.navigateToCaptureComboModalWithParams=void 0;const n=i(496486),o=i(516283),s=i(219784),a=i(994224),r=i(471727),l=i(951267),c=i(766649),d=i(436237),u=i(733754),g=i(104735),h=i(217093),p=i(330124),S=i(827357),m=i(921090),C=i(192210),y=i(853374);var f;function b(e,t,i,l){const g=function(){if(c.default.isUsingGogoNetworkNoSubscription())return f.isUsingGogoNetwork;const e=a.default.CallingStore.getConnectedAndNotOnHoldCallId();if(e&&r.default.disableCaptureAndChanges(e))return f.isProvidingInCallVideo;return}();if(g){if(!i&&g===f.isUsingGogoNetwork)return void d.log(o.LogTraceArea.Navigation,"CaptureNavigationActions: navigateToCaptureComboModalWithParams cancelled, gogo network detected");if(g===f.isProvidingInCallVideo&&!e.mediaPickerOnly){if(l){const t=n.clone(e);return t.mediaPickerOnly=!0,t.disableMediaPicker=!1,t}return d.log(o.LogTraceArea.Navigation,"CaptureNavigationActions: navigateToCaptureComboModalWithParams cancelled, providing in call video"),void s.default.showOKAlert(u.getString("CapturePanel.NoCameraWarning"),void 0,m.rootViewIdForComponentContext(t))}}return e}function _(e){if(e.pressTime){const t=new C.default(C.ScenarioName.ShowCameraViewfinder);t.start(void 0,e.pressTime),t.markStepCompleted("navigateToCaptureComboWithParams"),l.default.setPerfScenario(C.ScenarioName.ShowCameraViewfinder,t)}}!function(e){e[e.isUsingGogoNetwork=1]="isUsingGogoNetwork",e[e.isProvidingInCallVideo=2]="isProvidingInCallVideo"}(f||(f={})),t.navigateToCaptureComboModalWithParams=function(e,t,i,s,a){const r=b(e,t,!!s,!!a);if(!r)return;n.isUndefined(r.cameraMode)||l.default.setCameraMode(r.cameraMode),_(r);const c=y.default.newCauseId();d.log(o.LogTraceArea.Navigation,"NavigationActions: navigateToCaptureComboModalWithParams causeId: "+c),g.default.navigateAssertingUIStarted((()=>{g.default.launchModalEvent.fire({context:new h.CaptureComboNavigationContext(r),onDismiss:i,rootViewId:m.rootViewIdForComponentContext(t),causeId:c})}))},t.navigateToCaptureComboWithParams=function(e,t,i,n,s){const a=b(e,t,!!n,!!s);a&&(_(a),g.default.navigateAssertingUIStarted((()=>{const e=y.default.newCauseId();if(d.log(o.LogTraceArea.Navigation,"NavigationActions: navigateToCaptureComboWithParams, causeId: "+e),p.default.isUsingStackNavigationContext()){if(S.default.isOnTopOfNavigationStack(h.CaptureComboNavigationId))return void(i&&i());i&&g.default.setStackNavigationCompleteCallback(i);const t=new h.CaptureComboNavigationContext(a);S.default.navigateToView(t,e)}})))},t.closeCaptureCombo=function(e,t){d.log(o.LogTraceArea.Navigation,"NavigationActions: closeCaptureCombo,  causeId: "+e),p.default.isUsingStackNavigationContext()?S.default.isOnTopOfNavigationStack(h.CaptureComboNavigationId)&&g.default.navigateBack(e,t):g.default.navigateToDefaultConversation()},t.navigateToCapturePreviewModalWithParams=function(e,t,i){const n=y.default.newCauseId();d.log(o.LogTraceArea.Navigation,"NavigationActions.navigateToCapturePreviewModalWithParams, causeId: "+n),g.default.navigateAssertingUIStarted((()=>{g.default.launchModalEvent.fire({context:new h.CapturePreviewNavigationContext(e),rootViewId:m.rootViewIdForComponentContext(t),causeId:n,modalId:i})}))}},878364:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteConversationGroup=t.deleteConversation=void 0;const n=i(496486),o=i(516778),s=i(944720),a=i(891114),r=i(331751),l=i(539549),c=i(557102),d=i(952262),u=i(667121),g=i(746096),h=i(436237),p=i(733754),S=i(104735),m=i(921090),C=i(285677),y=i(735370),f=i(853374);function b(e,t,i,n,C,b){const _=m.rootViewIdForComponentContext(i);s.default.showDialog([e],t,_,C).then((t=>{const s=f.default.newCauseId();if(t){h.log(g.LogTraceArea.Navigation,`${n}._deleteChat confirmed, causeId: ${s}`),o.Accessibility.announceForAccessibility(p.getString("InfoPanel.ChatDeletedAccessibilityLabel",{chatName:d.default.getDisplayName(e)||""}));const t=(0,l.default)().getConversation(e);t&&t.isEncryptedThread()&&u.default.forgetPrivateConversation(e);const a=c.ConversationUtils.getOrderedConversations(r.default.getAllSiblingConversations(e),t).map((e=>e.id)),m=a.indexOf(e);let C;m>=0&&(C=m>0?a[m-1]:a[m+1]),S.default.navigateAfterDeleteConversation(e,s,i,C)}else{h.log(g.LogTraceArea.Navigation,`${n}._deleteChat canceled, causeId: ${s}`);const t=y.getConversationTypeForTelemetry(e);h.track(new a.ConversationDeletionCanceled(e,t,C)),b&&b()}}))}t.deleteConversation=b,t.deleteConversationGroup=function(e,t,i,l,c,u){const _=r.default.getDisplayableConversationsForUser(e);if(_.length<2)return void b(e,t,i,l,c,u);const v=n.find(_,(e=>e.isOneOnOne()&&!e.isEncryptedThread()&&!e.isSkypeSMSConversation()&&!e.isDeleted())),T=n.find(_,(e=>e.isEncryptedThread()&&!e.isDeleted())),P=_.filter((e=>!e.isDeleted()&&e.isSkypeSMSConversation())).map((e=>({mri:e.id,otherPartyMri:e.getOtherPartyMri()}))),k=n.compact([v&&{mri:v.id},T&&{mri:T.id},...P]),A=m.rootViewIdForComponentContext(i);C.default.showDialog(k,t,A).then((e=>{e&&s.default.showDialog(e,t,A,c).then((t=>{const n=f.default.newCauseId();if(t){h.log(g.LogTraceArea.Navigation,`${l}._deleteChat confirmed, causeId: ${n}`);const t=e.length>1?p.getString("InfoPanel.MultipleConversationsDeletedAnnouncement"):p.getString("InfoPanel.ChatDeletedAccessibilityLabel",{chatName:d.default.getDisplayName(e[0])||""});o.Accessibility.announceForAccessibility(t),S.default.navigateAfterDeleteConversation(e[0],n,i)}else{h.log(g.LogTraceArea.Navigation,`${l}._deleteChat canceled, causeId: ${n}`);const t=y.getConversationTypeForTelemetry(e[0]);h.track(new a.ConversationDeletionCanceled(e[0],t,c)),u&&u()}}))}))}},104735:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(174958),o=i(496486),s=i(31615),a=i(516778),r=i(974634),l=i(536699),c=i(362807),d=i(759799),u=i(569496),g=i(360305),h=i(144330),p=i(699948),S=i(404336),m=i(926448),C=i(818639),y=i(878440),f=i(765369),b=i(351077),_=i(671830),v=i(463189),T=i(741660),P=i(422801),k=i(581697),A=i(331751),I=i(192758),w=i(539549),x=i(963027),N=i(144487),M=i(281020),L=i(795691),O=i(72742),D=i(172758),R=i(853374),E=i(647738),B=i(219784),F=i(719061),V=i(905531),U=i(18078),j=i(24148),H=i(735426),W=i(192210),z=i(49140),G=i(393818),K=i(110996),q=i(794050),Q=i(217093),X=i(948199),J=i(626712),$=i(731733),Y=i(436237),Z=i(733754),ee=i(350325),te=i(914976),ie=i(898278),ne=i(866957),oe=i(746096),se=i(316392),ae=i(478262),re=i(889391),le=i(546172),ce=i(921090),de=i(952262),ue=i(766649),ge=i(897073),he=i(89808),pe=i(330124),Se=i(827357),me=i(328377),Ce=i(29130),ye=i(583181),fe=i(582916),be=i(903367),_e=i(480707),ve=i(423175),Te=i(360116);t.default=new class{constructor(){this.launchModalEvent=new r.default,this.closeModalEvent=new r.default,this._forceRefreshOnNextNavigate=!1,this._scenarioLookupByConversationId={},this._animationScenarios={},this._defaultNavigateToConvParams={convId:void 0,scrollToTimestamp:void 0,focusedMessageCuid:void 0,forceRefreshFocus:!1,contextConversationId:void 0,causeId:"",shouldAutoFocusInput:!1,shouldResetNavStack:!0,shouldFlattenNavOnInteraction:!1,origin:oe.NavigationConversationOrigin.Unknown,isNewConversation:!1,inviteToken:void 0,popToRoot:!0,isFromPeopleRecommendations:!1,directShareEventData:void 0},this.navigateBack=(e,t)=>{if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateBack, causeId: "+e),t){if(t.isPresentedInDesktopRightNav)return this._rightSidebarNavigateBack(e);if(t.isPresentedInGenericDesktopModal)return this._modalNavigateBack(e,t);if(t.isPresentedInDesktopContentPanel)return this._desktopContentNavigateBack(e,t);if(t.isPresentedByMobileStackNavigator)return this._stackNavNavigateBack(e)}return pe.default.isUsingStackNavigationContext()?this._stackNavNavigateBack(e):this._modalNavigateBack(e,t)}}navigateAfterUIStarted(e){ye.default.performAfterUIStarted((()=>{Se.default.isUsingStackReactNavigationNoSubscription()&&pe.default.isUsingStackNavigationContextNoSubscription()?Se.default.performAfterNavigationInitialized(e):e()}))}navigateAssertingUIStarted(e){ye.default.isUIDisplayed()?e():Y.log(oe.LogTraceArea.Navigation,"navigation attempted prior to UI being displayed")}forceRefreshOnNextNavigation(){this._forceRefreshOnNextNavigate=!0}flattenNavStack(){pe.default.isUsingStackNavigationContext()&&Se.default.flattenNavStack()}reduceNavStack(e,t=!1){pe.default.isUsingStackNavigationContext()&&Se.default.reduceNavStack(e,void 0,t)}reduceModalNavStack(e,t,i=!1){const n=ce.modalNavigatorIdForRootViewId(t);Se.default.reduceNavStack(e,n,i)}goBack(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.goBack, causeId: "+e),(null==t?void 0:t.goBack)?t.goBack(e):(Y.warn(oe.LogTraceArea.Navigation,"NavigationActions.goBack called without componentContext.goBack, causeId: "+e),this.navigateBack(e,t))}stackNavigationStarted(e,t,i,n,o){if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigationStarted: "+(o||n?o+" -> "+n:"no progress info")),t instanceof Q.MobileContentPanelNavigationContext){const e=t.getConversationContext();if(e){const t=e.state.conversationId,i=this._getScenarioIdForAnimation(t),n=new q.default(W.ScenarioName.ConversationOpenAnimation,i);n.start(),this._animationScenarios[t]=n}}const s={index:n,type:this._routeTypeForContext(t)},a={index:o,type:this._routeTypeForContext(i)};X.default.onNavigationStarted(e,s,a)}stackNavigationCompleted(){var e;const t=R.default.newCauseId();if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigationCompleted causeId: "+t),pe.default.isUsingStackNavigationContext()){const t=Se.default.getCurrentNavigationStackRoute();if((null==t?void 0:t.name)===Q.MobileContentPanelId){if(t.params){const i=this._animationScenarios[null===(e=t.params)||void 0===e?void 0:e.conversationId];i&&!i.isResolved()&&i.finish()}if(!Se.default.isUsingStackReactNavigationNoSubscription()){const e=o.last(Se.default.getCurrentNavigationStack());(null==e?void 0:e.state.shouldResetNavStack)&&this.flattenNavStack()}}this._stackNavigationCompleteCallback&&(Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigationCompleted, calling _navigationCompleteCallback"),this._stackNavigationCompleteCallback(),this._stackNavigationCompleteCallback=void 0)}Se.default.isUsingStackReactNavigationNoSubscription()||(X.default.onNavigationCompleted(),X.default.setTransitionHint(void 0)),ge.default.stopSkippingMobileHub(t)}collapseSplitNavContext(e,t,i){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: collapseSplitNavContext collapsed: "+t+" navigator: "+n.pii.Omit(e)+" causeId: "+i),e===se.StackNavigatorId.DesktopContent&&this.clearRightSidebarContext(!0,i,ie.MainRootViewId),Se.default.collapseSplitNavContext(e,t,i)}navigateToCompositeGroup(e,t,i,n=!0){const s=Se.default.getCompositeCallVisible(),a=i(n,e),r=o.includes(a,L.CompositeNavigationType.MainContent)&&Se.default.getCompositeCallVisible();Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToCompositeGroup,  isCallVisible: "+s+" isNewCallVisible: "+r+" causeId: "+e),this.navigateToCompositeContext(e,a,s&&!r,t)}_navigateToModalContext(e,t,i,o){const s=ce.modalNavigatorIdForRootViewId(o);Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToModalContext navigatorId: "+n.pii.Omit(s)+" causeId: "+i);const a=Se.default.getCurrentStackNavigationContext(s,!1);Se.default.modalNavigateToView(e,a.getMasterContext(),s,t,!0,i)}navigateToModalContext(e,t,i,n){return this._navigateToModalContext(e,t?se.StackNavigationType.PopToRoot:se.StackNavigationType.Push,i,n)}navigateToDesktopSettings(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToDesktopSettings, causeId: "+t),Ce.default.isMobileScreenSize(e)&&(re.default.getS4LNativePlatformsEcsConfig().enableElectronNativeModals,1)?this.navigateToSettingsModalContext(new Q.SettingsMenuContext({title:Z.getString("UserSettingsPanel.SettingsTitle")}),!0,t,e):this.navigateToRootDesktopSettingsGroup(ce.baseSettingsGroup(),e,t)}navigateToSettingsModalContext(e,t,i,n){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToSettingsModalContext, causeId: "+i);const o=ce.modalNavigatorIdForRootViewId(n);let s=Se.default.getCurrentStackNavigationContext(o,!1).getMasterContext();s&&s instanceof Q.SettingsMenuContext||(s=new Q.SettingsMenuContext({title:Z.getString("UserSettingsPanel.SettingsTitle")})),e instanceof Q.SettingsMenuContext&&(e=s),Se.default.stackNavigateToView(e,s,o,t?se.StackNavigationType.PopToRoot:se.StackNavigationType.Push,!0,i)}navigateToNonHighlightsConversationOrScheduleNavigationOnLaunch(e){const t=R.default.newCauseId();if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToNonHighlightsConversationOrScheduleNavigationOnLaunch convId = "+te.mriOrId(e.convId)+" causeId: "+t),ye.default.isUIDisplayed())this.navigateToConversation(e);else{const i=i=>{Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToNonHighlightsConversationOrScheduleNavigationOnLaunch complete navigation. convId = "+te.mriOrId(i)+" causeId: "+t);const n=this._getConversationNavigationContext(e,i);Se.default.setNewStartingNavigationContext((()=>n))};this.scheduleConvNavigationOnLaunch(e,i)}}scheduleConvNavigationOnLaunch(e,t){!o.isUndefined(e.origin)&&e.convId&&this._startNavigateToConvScenario(e.convId,e.origin,e.browserOrigin);const i=e.causeId;Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToConversationOnLaunch, convId = "+te.mriOrId(e.convId)+" causeId: "+i),ge.default.skipMobileHub(i),ye.default.performAfterUIStarted((()=>{ce.getValidConversationIdForNavigation(e.convId,i,e.origin).then((n=>{n?(this._sendConversationNavigationTelemetry(e,n),k.default.prioritizeConversation(n),this.fetchMemberConsumptionHorizon(n),t(n)):ge.default.stopSkippingMobileHub(i)}))}))}navigateToSelectConversationsForSharingOrScheduleNavigationOnLaunch(e){ye.default.isUIDisplayed()?this.navigateToShareWithPanel(e,void 0):(Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToSelectConversationsForSharingOrScheduleNavigationOnLaunch causeId: "+e.causeId),ge.default.skipMobileHub(e.causeId),ye.default.performAfterUIStarted((()=>{if(pe.default.isUsingStackNavigationContext()){const t=new Q.ShareWithPanelNavigationContext(e);Se.default.setNewStartingNavigationContext((()=>t))}else this.navigateToShareWithPanel(e,void 0)})))}navigateToConversationFromSearch(e){const t=e.causeId||R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToConversationFromSearch, convId = "+te.mriOrId(e.convId)+" causeId: "+t),this.navigateToConversation({convId:e.convId,scrollToTimestamp:e.scrollToTimestamp,focusedMessageCuid:e.focusedMessageCuid,causeId:t,shouldResetNavStack:!1,shouldFlattenNavOnInteraction:!0,origin:e.origin||oe.NavigationConversationOrigin.Search,isNewConversation:e.isNewConversation,forceRefreshFocus:e.forceRefreshFocus})}navigateToConversationFromDiscoverPeople(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToConversationFromDiscoverPeople convId = "+te.mriOrId(e.convId)+" causeId: "+t),this.navigateToConversation({convId:e.convId,scrollToTimestamp:e.scrollToTimestamp,focusedMessageCuid:e.focusedMessageCuid,causeId:t,shouldResetNavStack:!1,shouldFlattenNavOnInteraction:!0,isFromPeopleRecommendations:!0,origin:e.origin||oe.NavigationConversationOrigin.PeopleRecommendationsDiscoverPanel,isNewConversation:e.isNewConversation,forceRefreshFocus:e.forceRefreshFocus})}markScenarioStepCompleted(e,t){const i=this._getScenarioByConversationId(e);!i||i.isResolved()||i.isStepMarked(t)||i.markStepCompleted(t)}finishScenario(e){const t=this._getScenarioByConversationId(e);t&&!t.isResolved()&&t.finish()}navigateToPotentiallyRestrictedConversation(e){U.default.isGuestUser()?(ce.setEligibleLeftNavViewModes(F.default.eligibleLeftNavViewModes(),this.getLeftNavigationContext()),this.navigateToConversation(e),this.reduceNavStack([Q.JoiningGuestNavigatorId,Q.MobileHubNavigationId,Q.PromptPermissionsNavigatorId])):this.navigateToConversation(e)}navigateToConversation(e){return e.convId?P.default.createThreadIfNeeded(e.convId,f.CSRequestScenarios.navigateToChat).then((t=>this._navigateToConversation(Object.assign(Object.assign({},e),{convId:t.threadId})))).fail((t=>{Y.error(oe.LogTraceArea.Navigation,`Failed to get thread id for convId: ${te.mriOrId(e.convId)}, causeId: ${e.causeId}`),B.default.showErrorAlert(Z.getString("InfoPanel.CreateChatFailed"),ie.MainRootViewId)})):this._navigateToConversation(e)}_navigateToConversation(e){this.navigateAfterUIStarted((()=>{e=o.extend(o.clone(this._defaultNavigateToConvParams),e);const t=pe.default.isUsingStackNavigationContext(),i=e.causeId;Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToConversation, convId = "+te.mriOrId(e.convId)+" causeId: "+i),ce.getValidConversationIdForNavigation(e.convId,i,e.origin).then((n=>{if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToConversation, validConversationId = "+te.mriOrId(n)+" causeId: "+i),n&&!o.isUndefined(e.origin)&&this._startNavigateToConvScenario(n,e.origin,e.browserOrigin),!n)return void(t||this.navigateToCompositeGroup(i,ie.MainRootViewId,((e,t)=>{const n=[];n.push(this.clearMainStageContext(e,t));const o=this.getLeftNavigationContext();return o&&n.push(ce.setLeftNavViewMode(o,ce.defaultLeftNavViewMode(Q.MainStageNavViewMode.None,void 0),i)),n.push(this.clearRightSidebarContext(e,t,ie.MainRootViewId)),n.push(this.setMainAreaFullScreen(!1)),n})));const s=(0,w.default)().getConversationNoSubscription(n),a=s&&(0,T.isContentChannel)(s),r=(0,T.isTodayBot)(n);this._sendConversationNavigationTelemetry(e,n,a,r),k.default.prioritizeConversation(n),this.fetchMemberConsumptionHorizon(n);const l=this._getConversationNavigationContext(e,n);if(N.default.deactivateSelectMessagesMode(),s&&s.isArchived()&&I.default.setConversationsListMode(fe.ConversationsListMode.ArchivedConversations),I.default.setLastVisitedConversationId(n),x.default.maybeIncrementConversationInteractionCount(n),t)Se.default.navigateToView(this._getMobileContentPanelContext(e,l),i),V.default.meetnow().canNavigateBackFromJoinInvite||this.reduceNavStack([c.MeetNowLobbyNavigationId]);else{if(I.default.getConversationsListMode()===fe.ConversationsListMode.ArchivedConversations){const t=s&&s.isArchived();(!t||t&&e.origin!==oe.NavigationConversationOrigin.TabSwitcher&&e.origin!==oe.NavigationConversationOrigin.Search&&e.origin!==oe.NavigationConversationOrigin.ArchivedConversations)&&I.default.setConversationsListMode(fe.ConversationsListMode.AllConversations)}this.navigateToCompositeGroup(i,ie.MainRootViewId,((t,i)=>{const s=[],a=n?Q.MainStageNavViewMode.DesktopContentPanel:Q.MainStageNavViewMode.None;let r;if(n?s.push(this.navigateToMainStageContext(l,!!e.popToRoot,t,i)):s.push(this.clearMainStageContext(t,i)),Ce.default.isMobileScreenSize(ce.rootViewIdForComponentContext(void 0)))le.default.collapseDesktopStackNavContextNoSubscription()&&Se.default.isSplitNavStackCollapsed(se.StackNavigatorId.DesktopContent)&&Se.default.isLeftPanelShowing()&&!Se.default.isCallChatShowing()||(r=ce.defaultLeftNavViewMode(a,l));else switch(e.origin){case oe.NavigationConversationOrigin.Search:case oe.NavigationConversationOrigin.AlertsPanel:case oe.NavigationConversationOrigin.ContentChannels:break;default:r=ce.defaultLeftNavViewMode(a,l)}const c=this.getLeftNavigationContext();return c&&(o.isUndefined(r)||s.push(ce.setLeftNavViewMode(c,r,i))),s.push(this.clearRightSidebarContext(t,i,ie.MainRootViewId)),s.push(this.clearModalContext(t,i,ie.MainRootViewId)),s.push(this.setMainAreaFullScreen(!1)),s}))}(0,_e.maybeNavigateToChannelsTab)(s),e.inviteLinkScenario&&!e.inviteLinkScenario.isResolved()&&(e.inviteLinkScenario.markStepCompleted("NavigateToConversation"),e.inviteLinkScenario.finish())}))}))}navigateToMessageFromSearchMessagePanel(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToMessageFromSearchMessagePanel convId = "+te.mriOrId(t)+" causeId: "+n);const o=Se.default.getActiveConversationState();if(o){o.scrollToTimestamp=e;const t=new Q.ConversationNavigationContext(o);t.state.scrollToTimestamp=e,this.navigateToMainStageContext(t,!0,!1,n)}}navigateToMessage(e,t,i){this.navigateAfterUIStarted((()=>{const n=t;n.convId=e.conversationId,n.scrollToTimestamp=e.createdTime,n.focusedMessageCuid=e.cuid,o.isUndefined(n.forceRefreshFocus)&&Se.default.getActiveConversationId(i)===e.conversationId&&(n.forceRefreshFocus=!0),this.navigateToConversation(n)}))}navigateCallComplete(e,t,i,n,s,a){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateCallComplete causeId: "+s),pe.default.isUsingStackNavigationContext()?(o.some(Se.default.getCurrentNavigationStack(),(e=>e instanceof Q.CallNavigationContext))||Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateCallComplete, NO call found, causeId: "+s),i&&this.setStackNavigationCompleteCallback((()=>{v.default.focusMessageComposer()})),t?this.goBack(s,n):this.navigateToConversation({convId:e,shouldAutoFocusInput:i,causeId:s,origin:oe.NavigationConversationOrigin.CallComplete,callId:a})):this.navigateToConversation({convId:e,causeId:s,origin:oe.NavigationConversationOrigin.CallComplete,callId:a})}setStackNavigationCompleteCallback(e){this._stackNavigationCompleteCallback=e}navigateAfterDeleteConversation(e,t,i,n=void 0){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateAfterDeleteConversation, causeId: "+t);const o=pe.default.isUsingStackNavigationContext(),s=(0,w.default)().isClearApplicableAndKeepInRecents(e),a={convId:n,causeId:t,shouldReplaceCurrentContext:!0,origin:oe.NavigationConversationOrigin.TabSwitcher};if(!o||!s)if(s||!o){if(this.closeDetailsPanel(t,i),!s){if(Se.default.getCurrentStackNavigationContext(ce.mainContentNavigatorId,!1)instanceof Q.RootCompositeSplitViewContext){Se.default.getActiveConversationId(i.rootViewId)===e&&(n?this.navigateToConversation(a):(I.default.setConversationsListMode(fe.ConversationsListMode.AllConversations),this.navigateToWelcomeScreen(t)))}}}else n?this.navigateToConversation(a):this.navigateToRecentsTab()}openMainWindow(e,t,i){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.openMainWindow causeId: "+i),e&&this.navigateToDesktopRecents(i),s.default.openMainView(t)}toggleRecentsInCall(e,t,i){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.toggleRecentsInCall show: "+e+" causeId: "+t);const n={willToggle:!1,completeAction:o.noop};if(pe.default.isUsingStackNavigationContext())return n;const s=i.rootViewId;return Se.default.isDesktopSplitNavStackCollapsed()?(this.mainStageContextPopToRoot(!1,t),{willToggle:!1,completeAction:()=>this.mainStageContextPopToRoot(!1,t)}):{willToggle:!0,completeAction:()=>{this.navigateToCompositeGroup(t,s,((t,i)=>{const n=[],o=this.getLeftNavigationContext();return o&&(e?n.push(ce.setLeftNavViewMode(o,Q.LeftNavViewMode.Recents,i)):n.push(ce.setLeftNavViewMode(o,Q.LeftNavViewMode.None,i))),n}))}}}openConversationInCall(e,t,i,n,o){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.openConversationInCall, causeId: "+e),this._openConversationInCallNext(e,t,i,n,o)}closeConversationInCall(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.closeConversationInCall, causeId: "+e),this._closeConversationInCallNext(e,t)}navigateToBotsList(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToBotsList, causeId: "+e.causeId),this.navigateAssertingUIStarted((()=>{const i=new Q.BotsListNavigationContext({filterBotsFunction:e.filterBotsFunction,sortBotsByProperty:e.sortBotsByProperty,botMarketplaceTitle:e.botMarketplaceTitle,navigationDirection:se.StackNavigationDirection.Present});pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(i,e.causeId):this.navigateToModalContext(i,!1,e.causeId,ce.rootViewIdForComponentContext(t))}))}navigateToBotDiscovery(e=se.StackNavigationDirection.Present,t){this._commonNavigateToModal(Q.BotDiscoveryNavigationContext,t,"navigateToBotDiscovery",{},((t,i)=>{i&&(t.state.navigationDirection=e)}))}navigateToMobileArchivedConversationsPanel(){const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToMobileArchivedConversationsPanel, causeId: "+e),this.navigateAssertingUIStarted((()=>{if(pe.default.isUsingStackNavigationContext()){const t=new Q.ArchivedConversationsPanelNavigationContext({navigationDirection:se.StackNavigationDirection.Present});Se.default.navigateToView(t,e)}else;}))}navigateToDesktopRecents(e,t,i){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToRecents, causeId: "+e),this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext()||(I.default.getConversationsListMode()!==fe.ConversationsListMode.AllConversations&&I.default.setConversationsListMode(fe.ConversationsListMode.AllConversations),t?this.navigateToConversation({convId:t,origin:i||oe.NavigationConversationOrigin.Recents,causeId:e}):this.navigateToCompositeGroup(e,ie.MainRootViewId,((e,t)=>{const i=[];i.push(this.clearModalContext(e,t,ie.MainRootViewId));const n=this.getLeftNavigationContext();if(n){i.push(ce.setLeftNavViewMode(n,Q.LeftNavViewMode.Recents,t));n.getConversationsListContext().state.currentTab=Q.HubTab.Recents}return i})))}))}navigateToSearchFromPanel(e,t,i,n){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSearchFromPanel, causeId: "+e),pe.default.isUsingStackNavigationContext()||i?this.navigateToSearch({searchOrigin:n},e):this.navigateToSearchInModal({searchOrigin:n},e,t)}navigateToSearch(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSearch, causeId: "+t),this.navigateAssertingUIStarted((()=>{const i=new Q.SearchNavigationContext(e);if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.SearchNavigationId))return;K.searchWillOpen(),Se.default.navigateToView(i,t)}else this.navigateToCompositeGroup(t,ie.MainRootViewId,((e,t)=>{const n=this.getLeftNavigationContext();if(n){const e=n.getSearchContext();n.state.viewMode!==Q.LeftNavViewMode.Search&&(n.state.searchViewModeContext=ce.searchViewModeContext(n),ce.setLeftNavViewMode(n,Q.LeftNavViewMode.Search,t)),e.state=i.state}return K.searchWillOpen(),[L.CompositeNavigationType.LeftSidebar]}))}))}navigateToQuickCallPanelInLeftNav(e){const t=e.causeId;Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToQuickCallPanelInLeftNav, causeId: "+t),this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(t,ie.MainRootViewId,((t,i)=>{const n=this.getLeftNavigationContext();if(n){const t=n.getCallsContext();ce.setLeftNavViewMode(n,Q.LeftNavViewMode.Calls,i),t.state=e;n.getConversationsListContext().state.currentTab=Q.HubTab.Calls}return[L.CompositeNavigationType.LeftSidebar]}))}))}navigateToContactsPanelInLeftNav(e){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToContactsPanelInLeftNav, causeId: "+e),this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(e,ie.MainRootViewId,((e,t)=>{const i=this.getLeftNavigationContext();if(i){ce.setLeftNavViewMode(i,Q.LeftNavViewMode.Contacts,t);i.getConversationsListContext().state.currentTab=Q.HubTab.People}return[L.CompositeNavigationType.LeftSidebar]}))}))}navigateToNotificationsPanelInLeftNav(e){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToNotificationsPanelInLeftNav, causeId: "+e),this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(e,ie.MainRootViewId,((e,t)=>{const i=[],n=this.getLeftNavigationContext();if(n){i.push(ce.setLeftNavViewMode(n,Q.LeftNavViewMode.Notifications,t));n.getConversationsListContext().state.currentTab=Q.HubTab.Notifications}return i.push(this.clearRightSidebarContext(e,t,ie.MainRootViewId)),i.push(this.setMainAreaFullScreen(!1)),i}))}))}navigateToNotificationsInLeftNav(){const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToNotificationsInLeftNav, causeId: "+e),this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(e,ie.MainRootViewId,((e,t)=>{const i=this.getLeftNavigationContext();if(i){ce.setLeftNavViewMode(i,Q.LeftNavViewMode.Notifications,t);i.getConversationsListContext().state.currentTab=Q.HubTab.Notifications}return[L.CompositeNavigationType.LeftSidebar]}))}))}navigateToTodayTab(e={openInterestsManagerOnLoad:!1}){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToTodayTab, causeId: "+t),pe.default.isUsingStackNavigationContext()?this._navigateToHubTab(Q.HubTab.Today,e):this.navigateAssertingUIStarted((()=>{this.navigateToCompositeGroup(t,ie.MainRootViewId,((e,i)=>{const n=[this.setMainAreaFullScreen(!1),this.clearRightSidebarContext(e,t,ie.MainRootViewId),this.clearModalContext(e,t,ie.MainRootViewId)],s=this.getLeftNavigationContext();if(s){ce.setLeftNavViewMode(s,Q.LeftNavViewMode.Today,i);s.getConversationsListContext().state.currentTab=Q.HubTab.Today,n.push(L.CompositeNavigationType.LeftSidebar)}const a=Se.default.getCurrentStackNavigationContext(se.StackNavigatorId.DesktopContent,!1).getNavStack(),r=null==a?void 0:a[0];if(!(r&&r instanceof Q.TodayTabNavigationContext)){const t=new Q.TodayTabNavigationContext({feedType:E.TodayTabFeedType.Feed,interestPageEnabled:!1});n.push(this.navigateToMainStageContext(t,!0,e,i))}return o.compact(n)}))}))}navigateToTodayTabDesktopFeed(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToTodayTabDesktopFeed, causeId: "+i),this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(i,ie.MainRootViewId,((n,s)=>{const a=[this.setMainAreaFullScreen(!1),this.clearRightSidebarContext(n,i,ie.MainRootViewId),this.clearModalContext(n,i,ie.MainRootViewId)],r=new Q.TodayTabNavigationContext({feedType:e,interestPageEnabled:t});return a.push(this.navigateToMainStageContext(r,!0,n,s)),o.compact(a)}))}))}navigateToTodayTabInterestsPanel(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,`NavigationActions.navigateToTodayTabInterestsPanel, causeId: ${t}`),this._commonNavigateToModal(Q.TodayTabInterestsPanelNavigationContext,e,"navigateToTodayTabInterestsPanel",{})}navigateToSearchInModal(e,t,i){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSearchInModal, causeId: "+t),this.navigateAssertingUIStarted((()=>{if(pe.default.isUsingStackNavigationContext());else{K.searchWillOpen();const n=new Q.SearchNavigationContext(e);this.navigateToModalContext(n,!1,t,ce.rootViewIdForComponentContext(i))}}))}navigateToPesSearch(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToPesSearch, causeId: "+e.causeId),this.navigateAssertingUIStarted((()=>{const i=new Q.PesSearchNavigationContext({searchType:e.searchType,conversationId:e.conversationId,onMessageSent:e.onMessageSent,onCloseSearch:e.onCloseSearch,clearEditInChatsComposer:e.clearEditInChatsComposer});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.PesSearchNavigationId))return;i.state.navigationDirection=se.StackNavigationDirection.Present,Se.default.navigateToView(i,e.causeId)}else this.navigateToModalContext(i,!1,e.causeId,ce.rootViewIdForComponentContext(t))}))}closeSearchPanel(e,t,i){if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions.closeSearchPanel, causeId: "+e),pe.default.isUsingStackNavigationContext())Se.default.isOnTopOfNavigationStack(Q.SearchNavigationId)&&this.goBack(e,t);else{const t=this.getLeftNavigationContext();if(t&&t.state.viewMode!==Q.LeftNavViewMode.Search)return;this.navigateToCompositeGroup(e,ie.MainRootViewId,((e,t)=>{const n=this.getLeftNavigationContext();return n&&(ce.setLeftNavViewMode(n,n.state.searchViewModeContext||Q.LeftNavViewMode.Recents,t),n.state.searchViewModeContext=Q.LeftNavViewMode.None,n.state.isMessageSent=i),[L.CompositeNavigationType.LeftSidebar]}))}}closeCallSearchPanel(e,t){if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions.closeCallSearchPanel, causeId: "+e),pe.default.isUsingStackNavigationContext())Se.default.isOnTopOfNavigationStack(Q.QuickCallPanelId)&&this.navigateBack(e,t);else{const t=this.getLeftNavigationContext();if(t&&t.state.viewMode!==Q.LeftNavViewMode.CallSearch)return;this.navigateToCompositeGroup(e,ie.MainRootViewId,((e,t)=>{const i=this.getLeftNavigationContext();return i&&ce.setLeftNavViewMode(i,Q.LeftNavViewMode.Recents,t),[L.CompositeNavigationType.LeftSidebar]}))}}navigateToAlertsHub(){const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToAlertsHub, causeId: "+e),this.navigateAssertingUIStarted((()=>{if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.AlertsHubNavigationId))return;const t=new Q.AlertsHubNavigationContext({navigationDirection:se.StackNavigationDirection.Present});Se.default.navigateToView(t,e)}else this._commonNavigateToModal(Q.AlertsHubNavigationContext,ie.MainRootViewId,"navigateToAlertsHub",{},void 0,e)}))}navigateToMeControl(e,t,i=se.StackNavigationDirection.Push,n,o){this._fetchLatestUserInfoNow(),y.default.maybeSetTooltipVisibility(!1),this._commonNavigateToModal(Q.MeControlNavigationContext,e,"navigateToMeControl",{isMoodMessageEditMode:n,shouldOpenPresenceMenu:o},((e,t)=>{t&&(e.state.navigationDirection=i)}),t)}navigateToMyProfile(e,t,i=se.StackNavigationDirection.Push,n=!1){t!==oe.ProfileOpenOrigin.MeControl&&this._fetchLatestUserInfoNow(),n&&D.default.refreshNow();this._commonNavigateToModal(Q.MySettingsNavigationContext,e,"navigateToMyProfile",{},((e,n)=>{Y.track(new G.ProfileOpened(oe.ProfileType.My,t)),n&&(e.state.navigationDirection=i)}))}navigateToQRCodeSignInModal(e,t=se.StackNavigationDirection.Push){this._commonNavigateToModal(Q.QRCodeSignInNavigationContext,e,"navigateToQRCodeSignInModal",{},((e,i)=>{i&&(e.state.navigationDirection=t)}))}navigateToSettingsGroup(e,t,i,n){const o=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSettingsGroup, causeId: "+o),this.navigateAssertingUIStarted((()=>{if(pe.default.isUsingStackNavigationContext()){const t=Se.default.getCurrentNavigationStackRoute();if((null==t?void 0:t.name)===Q.SettingsGroupNavigationId&&(null==t?void 0:t.params).group===e)return;const s=new Q.SettingsGroupNavigationContext({group:e,origin:n});i&&(s.state.navigationDirection=i),Se.default.navigateToView(s,o)}else this.navigateToRootDesktopSettingsGroup(e,t,o)}))}navigateToInviteLinkQRPanel(e,t,i,n){const{enableModernQrCode:o}=re.default.getS4LMeetNowFeaturesNoSubscription();this._commonNavigateToModal(Q.InviteLinkQRPanelNavigationContext,i,"navigateToInviteLinkQRPanel",{inviteLink:e,displayName:t,skypeMri:n,enableModernQrCode:o},((e,t)=>{t&&(e.state.navigationDirection=se.StackNavigationDirection.Present)}))}navigateToAvatarPickerPanel(e){this._commonNavigateToModal(Q.AvatarPickerPanelNavigationContext,e,"navigateToAvatarPickerPanel",{},((e,t)=>{t&&(e.state.navigationDirection=se.StackNavigationDirection.Push)}))}navigateToPicker(e,t,i,n){const o=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions."+n+", causeId: "+o),this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(i,o):this.navigateToModalContext(i,e,o,t)}))}navigateToLanguagePicker(e,t){this.navigateToPicker(e,t,new Q.LanguagePickerPanelNavigationContext({}),"navigateToLanguagePicker")}navigateToLanguagePickerOld(e,t){this.navigateToPicker(e,t,new Q.LanguagePickerPanelOldNavigationContext({}),"navigateToLanguagePickerOld")}navigateToSpokenLanguagePicker(e,t,i,n,o){this.navigateToPicker(e,t,new Q.SpokenLanguagePickerPanelNavigationContext({isLocal:i,conversationMri:n,action:o}),"navigateToSpokenLanguagePicker")}navigateToVoicePicker(e,t){this.navigateToPicker(e,t,new Q.VoicePickerPanelNavigationContext({}),"navigateToVoicePicker")}navigateToNewSettingsPanel(e,t){this._commonNavigateToModal(Q.NewSettingsPanelNavigationContext,t,"NewSettingsPanelNavigationContext",{},((t,i)=>{i&&(t.state.navigationDirection=e)}))}navigateToRootDesktopSettingsGroup(e,t,i){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToRootDesktopSettingsGroup, causeId: "+i),this.navigateAssertingUIStarted((()=>{if(!pe.default.isUsingStackNavigationContext()){const n=new Q.DesktopSettingsGroupNavigationContext({group:e,causeId:i});this.navigateToSettingsModalContext(n,!0,i,t)}}))}navigateToDesktopSettingsGroup(e,t,i,n){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToDesktopSettingsGroup, causeId: "+i),this.navigateAssertingUIStarted((()=>{if(!pe.default.isUsingStackNavigationContext()){const o=new Q.DesktopSettingsGroupNavigationContext({group:e,source:n});this.navigateToModalContext(o,!1,i,t)}}))}navigateToManageUsersSettingsPanel(e){this._commonNavigateToModal(Q.ManageUsersSettingsPanelNavigationContext,e,"navigateToManageUsersSettingsPanel",{})}navigateToPnvEnterNumber(e,t){this._commonNavigateToModal(Q.PnvEnterNumberContext,t,"navigateToPnvEnterNumber",{phoneNumber:e})}navigateToPnvEnterCode(e){this._commonNavigateToModal(Q.PnvEnterCodeContext,e,"navigateToPnvEnterCode",{})}navigateToPnvDebugTool(){const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToPnvEnterCode, causeId: "+e),this.navigateAssertingUIStarted((()=>{if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.PnvDebugToolNavigationId))return;const t=new Q.PnvDebugToolContext({});Se.default.navigateToView(t,e)}}))}navigateToAvatarPickerWithParams(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToAvatarPickerWithParams, causeId: "+i);const n=new(e.useCommonAvatarPicker?Q.ChooseAvatarCommonPickerContext:Q.ChooseAvatarContext)({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,isFirstLogin:e.isFirstLogin,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,showCaptureViewFirst:e.showCaptureViewFirst,scenarioNavigator:null==e?void 0:e.scenarioNavigator});this.navigateAfterUIStarted((()=>{if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.AvatarNavigationId)||Se.default.isOnTopOfNavigationStack(Q.CommonAvatarNavigationId))return;Se.default.navigateToView(n,i)}else this.navigateToModalContext(n,!1,i,t)}))}navigateToMediaViewerPanel(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToMediaViewerPanel, causeId: "+t),this.navigateAssertingUIStarted((()=>{if(pe.default.isUsingStackNavigationContext()){const i=new Q.MediaViewerPanelContext({initialMedia:e.initialMedia,controller:e.controller,totalMedia:e.totalMedia,onClose:e.onClose,onLeftBoundSwipe:e.onLeftBoundSwipe,onRightBoundSwipe:e.onRightBoundSwipe,closeOnLastItemSwipe:e.closeOnLastItemSwipe,mouseControlsSize:e.mouseControlsSize,message:e.message,cacheMode:e.cacheMode,navigationDirection:se.StackNavigationDirection.Present});Se.default.navigateToView(i,t)}}))}navigateToConversationMediaViewer(e,t,i,n){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToConversationMediaViewer, causeId: "+t),this.navigateAssertingUIStarted((()=>{var i;if(pe.default.isUsingStackNavigationContext()){const o=Se.default.getCurrentNavigationStackRoute();if((null==o?void 0:o.name)===Q.ConversationMediaViewerPanelNavigationId&&(null===(i=o.params)||void 0===i?void 0:i.conversationMri)===e.conversationMri)return void(n&&n());this.setStackNavigationCompleteCallback(n);const s=new Q.ConversationMediaViewerPanelContext(e);Se.default.navigateToView(s,t)}}))}closeConversationMediaViewer(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.closeConversationMediaViewer, causeId: "+e),pe.default.isUsingStackNavigationContext()&&Se.default.isOnTopOfNavigationStack(Q.ConversationMediaViewerPanelNavigationId)&&this.navigateBack(e,t)}navigateToAbout(){const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToAbout, causeId: "+e),this.navigateAssertingUIStarted((()=>{if(pe.default.isUsingStackNavigationContext()){const t=new Q.AboutNavigationContext({});Se.default.navigateToView(t,e)}}))}navigateToThirdPartyNotices(e){this._commonNavigateToModal(Q.ThirdPartyNoticesNavigationContext,e,"navigateToThirdPartyNotices",{})}navigateToBalanceStatePanel(e,t,i,n,o){this._commonNavigateToModal(Q.GetBalanceStateNavigationContext,t,"navigateToBalanceStatePanel",{showHeader:!0,source:e,scrollTo:n},((e,t)=>{t&&i&&this.setStackNavigationCompleteCallback(i)}),o);const s=R.default.newCauseId();Y.track(new ve.OpenProductpanel(s)),Te.default.setStartOrderSessionId(s)}navigateToPurchaseConfirmationDialogWeb(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToPurchaseConfirmationDialog, causeId: ",i),this.navigateAssertingUIStarted((()=>{const n=new Q.PurchaseConfirmationDialogWrapperNavigationContext({isNative:!1,webProps:t});pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(n,i):this.navigateToModalContext(n,!1,i,e)}))}navigateToPurchaseConfirmationDialogNative(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToPurchaseConfirmationDialog, causeId: ",i),this.navigateAssertingUIStarted((()=>{const n=new Q.PurchaseConfirmationDialogWrapperNavigationContext({isNative:!0,nativeProps:t});pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(n,i):this.navigateToModalContext(n,!1,i,e)}))}navigateToPurchaseContinuationPanel(e,t,i){this._commonNavigateToModal(Q.PurchaseContinuationNavigationContext,i,"navigateToPurchaseContinuationPanel",{offerType:e,campaignRef:t})}navigateToSubscriptionsIntro(e){this._commonNavigateToModal(Q.SubscriptionIntroNavigationContext,e,"navigateToSubscriptionsIntro",{})}navigateToTelemetryPerformanceMonitor(e){this._commonNavigateToModal(Q.TelemetryPerformanceMonitorNavigationContext,e,"navigateToTelemetryPerformanceMonitor",{showHeader:!0})}navigateToPayments3ds(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToPayments3ds, causeId: "+i),this.navigateAssertingUIStarted((()=>{const n=new Q.Payments3dsNavigationContext({order:e,callback:t});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.Payments3dsNavigationId))return;Se.default.navigateToView(n,i)}else this.navigateToModalContext(n,!1,i,ie.MainRootViewId)}))}navigateToGetProductWebFlow(e,t,i,n,o){const s=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToGetProductWebFlow, causeId: "+s),this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext(),e&&C.SsoWebFlowExternalBrowser.open(u.default.getGoLinkWithItem(e),t,n,{startOrderSessionId:Te.default.getStartOrderSessionId()||""},o)}))}navigateToSsoWebFlow(e,t,i,n,o=[],s=!1,a={},r=!1){const l=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSsoWebFlow, causeId: "+l),this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext(),C.SsoWebFlowExternalBrowser.open(e,t,n,a)}))}navigateToCallingSettingsPanel(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallingSettingsPanel, causeId: "+i),this.navigateAssertingUIStarted((()=>{const n=new Q.CallingSettingsPanelNavigationContext({});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.CallingSettingsPanelNavigationId))return;Se.default.navigateToView(n,i)}else this.navigateToModalContext(n,e,i,ce.rootViewIdForComponentContext(t))}))}navigateToCallingSettingsEntry(e,t,i,n,o,s,a,r){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallingSettingsEntry, causeId: "+a),r?this.navigateAssertingUIStarted((()=>{C.SsoWebFlowExternalBrowser.open(i,t,ce.rootViewIdForComponentContext(s))})):this._navigateToCallingSettingsEntryDesktop(e,t,n,i,o,s,a)}navigateToCallerIdSettingsPanel(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallerIdSettingsPanel, causeId: "+t),this.navigateAfterUIStarted((()=>{const i=new Q.CallerIdCallingSettingsPanelNavigationContext({});pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(i,t):this.navigateToModalContext(i,!1,t,e)}))}navigateToCallerIdNumberPanel(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallerIdNumberPanel, causeId: "+t),this.navigateAssertingUIStarted((()=>{const i=new Q.CallerIdNumberCallingSettingsPanelNavigationContext({});pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(i,t):this.navigateToModalContext(i,!1,t,e)}))}navigateToSkypeNumberPurchaseFlow(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,`NavigationActions.navigateToSkypeNumberWebFlow, causeId: ${n}.`),Y.track(new ve.PaymentStep(oe.PaymentFlowStep.WebflowRedirect,void 0,Te.default.getStartOrderSessionId())),this.navigateAssertingUIStarted((()=>{if(t)C.SsoWebFlowExternalBrowser.open(e.goTarget,e.source,ce.rootViewIdForComponentContext(i),{startOrderSessionId:Te.default.getStartOrderSessionId()||""});else{const t=new Q.SkypeNumberWebFlowNavigationContext(e);pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(t,n):this.navigateToModalContext(t,!1,n,ce.rootViewIdForComponentContext(i))}}))}navigateToSkypeNumberInfoScreen(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSkypeNumberInfoScreen, causeId: ",i),this.navigateAssertingUIStarted((()=>{const n=new Q.SkypeNumberInfoScreenNavigationContext({origin:t});pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(n,i):this.navigateToModalContext(n,!1,i,e)}))}navigateToSkypeNumberPanel(e=!1,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSkypeNumberList, causeId: ",i),this.navigateAssertingUIStarted((()=>{const n=new Q.SkypeNumberListNavigationContext({});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.SkypeNumberListNavigationId))return;e&&this.reduceNavStack([Q.SkypeNumberListNavigationId,Q.SkypeNumberInfoScreenNavigationId,Q.SkypeNumberFormsNavigationId,Q.SkypeNumberPanelPurchaseFlowNavigationId,Q.CallerIdCallingSettingsPanelNavigationId,Q.CallerIdNumberCallingSettingsPanelNavigationId,Q.CallingSettingsPanelNavigationId,Q.NewSettingsPanelNavigationId],!1),Se.default.navigateToView(n,i)}else this.navigateToModalContext(n,e,i,t)}))}navigateToSkypeNumberNativePurchaseFlow(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSkypeNumberNativePurchaseFlow, causeId: ",i),this.navigateAssertingUIStarted((()=>{const n=new Q.SkypeNumberPanelPurchaseFlowNavigationContext({});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.SkypeNumberPanelPurchaseFlowNavigationId))return;Se.default.navigateToView(n,i,e)}else this._navigateToModalContext(n,e,i,t)}))}navigateToDiagnosticTools(e){this._commonNavigateToModal(Q.DiagnosticToolsNavigationContext,e,"navigateToDiagnosticTools",{})}navigateToSendDiagnosticLogs(e){this._commonNavigateToModal(Q.SendDiagnosticLogsNavigationContext,e,"navigateToSendDiagnosticLogs",{})}navigateToBlockedUsersList(e){this._commonNavigateToModal(Q.BlockedUsersListNavigationContext,e,"navigateToBlockedUsersList",{})}navigateToBackgroundEffectsSettings(e){this._commonNavigateToModal(Q.BackgroundEffectsSettingsNavigationContext,e,"navigateToBackgroundEffectsSettings",{})}navigateToConnectedUsersList(e){this._commonNavigateToModal(Q.ConnectedUsersListNavigationContext,e,"navigateToConnectedUsersList",{})}navigateToProfilePicturePanel(e){this._commonNavigateToModal(Q.ProfilePicturePanelNavigationContext,e,"navigateToProfilePicturePanel",{})}navigateToManageSearchInfoPanel(e,t){this._commonNavigateToModal(Q.ManageSearchInfoPanelNavigationContext,t,"navigateToManageSearchInfoPanel",{origin:e},(()=>{Y.track(new z.ManageSearchOpenedEvent(e))}))}navigateToFeatureFlags(e){this._commonNavigateToModal(Q.FeatureFlagListNavigationContext,e,"navigateToFeatureFlags",{})}navigateToSlimcoreFlags(e){this._commonNavigateToModal(Q.SlimcoreFlagListNavigationContext,e,"navigateToSlimcoreFlags",{})}navigateToRawPreferences(e){this._commonNavigateToModal(Q.RawPreferencesNavigationContext,e,"navigateToRawPreferences",{})}navigateToCustomReactionsPanel(e,t){this._commonNavigateToModal(Q.CustomReactionsPanelNavigationContext,t,"navigateToCustomReactionsPanel",{origin:e})}navigateToSkypeClipsRecorder(e,t){const i=new Q.SkypeClipsRecorderNavigationContext({scenario:e,conversationId:t});this.launchModalEvent.fire({context:i,rootViewId:ie.MainRootViewId,causeId:R.default.newCauseId(),modalId:"SkypeClipsRecorder"})}showDetailsPanelWithParams(e){const t=e.causeId;Y.log(oe.LogTraceArea.Navigation,"NavigationActions.showDetailsPanelWithParams, causeId: "+t);const i=new Q.DetailsNavigationContext({mri:e.mri,conversationId:e.conversationId,showConversationSettings:e.showConversationSettings,origin:e.origin||ne.DetailsPanelOrigin.Unknown,onBotAdded:e.onBotAdded,openMagicBotToolboxByDefault:e.openMagicBotToolboxByDefault});pe.default.isUsingStackNavigationContext()?(i.state.navigationDirection=se.StackNavigationDirection.Present,Se.default.navigateToView(i,t)):this.navigateToModalContext(i,!1,t,e.rootViewId)}showChatSettingsPanel(e,t,i){this._commonNavigateToModal(Q.ChatConfigNavigationContext,i,"showChatSettingsPanel",{mri:e,conversationId:t},((e,t)=>{t&&(e.state.navigationDirection=se.StackNavigationDirection.Push)}))}closeDetailsPanel(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.closeDetailsPanel, causeId: "+e),pe.default.isUsingStackNavigationContext()?Se.default.isOnTopOfNavigationStack(Q.DetailsNavigationId)&&this.navigateBack(e,t):this.closeGenericDesktopModal(e,ce.rootViewIdForComponentContext(t))}closeDetailsPanelForUser(e,t,i){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.closeDetailsPanelForUser, causeId: "+t);const n=(t,i)=>{const n=Se.default.getCurrentNavigationStackRoute(t);(null==n?void 0:n.name)===Q.DetailsNavigationId&&n.params.mri===e&&i()};if(pe.default.isUsingStackNavigationContext())n(se.StackNavigatorId.Mobile,(()=>this.navigateBack(t,i)));else{n(ce.modalNavigatorIdForComponentContext(i),(()=>this.closeGenericDesktopModal(t,ce.rootViewIdForComponentContext(i))))}}navigateToHub(e){this.navigateAfterUIStarted((()=>{if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToHub causeId: "+e),pe.default.isUsingStackNavigationContext()){const t=new Q.MobileHubNavigationContext({hubTab:Q.HubTab.Recents,screen:Q.HubTab.Recents});Se.default.navigateToView(t,e)}else this.navigateToDefaultConversation()}))}navigateAfterDecliningContactRequest(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateAfterDecliningContactRequest, causeId: "+e),pe.default.isUsingStackNavigationContext()?Se.default.isOnTopOfNavigationStack(Q.MobileContentPanelId)&&this.navigateBack(e,t):this.navigateToDefaultConversation()}navigateToSetConversationInfoPanel(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSetConversationInfoPanel, causeId: "+n),this.navigateAssertingUIStarted((()=>{const o=new Q.CreateConversationNavigationContext({navigationDirection:i},e);pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(o,n):this.navigateToModalContext(o,!1,n,t)}))}closeSetConversationInfoPanel(e,t){Y.log(oe.LogTraceArea.Navigation,`NavigationActions: closeSetConversationInfoPanel,  causeId: ${e}`),Se.default.isUsingStackReactNavigationNoSubscription()?this.goBack(e,t):pe.default.isUsingStackNavigationContext()?Se.default.isOnTopOfNavigationStack(Q.CreateConversationNavigationId)&&this.navigateBack(e,t):this.closeGenericDesktopModal(e,ce.rootViewIdForComponentContext(t))}navigateToReportConcernModal(e,t,i){const n=R.default.newCauseId(),o=new Q.ReportConcernNavigationContext({reportInfo:e,afterReportActions:t,source:i});Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToReportConcernModal, causeId: ",n),pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(o,n):this.navigateToModalContext(o,!1,n,e.rootViewId)}closeReportConcernModal(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.closeReportConcernModal, causeId: "+e),this.navigateBack(e,t)}navigateToSetConversationParticipantsPanel(e,t,i,n){const o=!ye.default.isUIDisplayed(),s=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSetConversationParticipantsPanel performOnLaunch: "+o+" causeId: "+s);const a=o=>{const a=Se.default.getCurrentNavigationStackRoute();if((null==a?void 0:a.name)===Q.ConversationParticipantsNavigationId&&a.params.isSuperComposer&&t)return;const r=new Q.ConversationParticipantsNavigationContext({isSuperComposer:t,navigationDirection:n},e);pe.default.isUsingStackNavigationContext()?o?Se.default.setNewStartingNavigationContext((()=>r)):Se.default.navigateToView(r,s):this.navigateToModalContext(r,!1,s,i)};o?ye.default.performAfterUIStarted((()=>a(!0))):this.navigateAssertingUIStarted((()=>a(!1)))}closeSetConversationParticipantsPanel(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.closeSetConversationParticipantsPanel, causeId: "+e),Se.default.isUsingStackReactNavigationNoSubscription()?this.goBack(e,t):pe.default.isUsingStackNavigationContext()?Se.default.isOnTopOfNavigationStack(Q.ConversationParticipantsNavigationId)&&this.navigateBack(e,t):this.closeGenericDesktopModal(e,ce.rootViewIdForComponentContext(t))}navigateToForcedUpgradeScreen(){const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToForcedUpgradeScreen, causeId: "+e),this.navigateAfterUIStarted((()=>{pe.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(e,ie.MainRootViewId,((e,t)=>{const i=[];i.push(this.setMainAreaFullScreen(!0));const n=new Q.ForcedUpgradeContext({});return i.push(this.navigateToMainStageContext(n,!0,e,t)),i}))}))}navigateToMediaPickerPanelWithParams(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToMediaPickerPanelWithParams, causeId: "+t),ue.default.isUsingGogoNetworkNoSubscription()?Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToMediaPickerPanelWithParams cancelled, gogo network detected, causeId: "+t):this.navigateAssertingUIStarted((()=>{const i=new Q.MediaPickerNavigationContext({capturedContentHandler:e.capturedContentHandler,conversationId:e.conversationId,allowVideo:e.allowVideo,allowMultiple:e.allowMultiple,defaultToAlbums:e.defaultToAlbums,disableMarkup:e.disableMarkup,onSendFlowComplete:e.onSendFlowComplete,onHandleEditMediaSelection:e.onHandleEditMediaSelection});pe.default.isUsingStackNavigationContext()&&Se.default.navigateToView(i,t)}))}closeMediaPickerPanel(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: closeMediaPickerPanel,  causeId: "+e),pe.default.isUsingStackNavigationContext()?(Se.default.isOnTopOfNavigationStack(Q.MediaPickerNavigationId)||Se.default.isOnTopOfNavigationStack(Q.CaptureComboNavigationId))&&this.navigateBack(e,t):this.navigateToDefaultConversation()}navigateToCapturePreview(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCapturePreview, causeId: "+t),this.navigateAssertingUIStarted((()=>{const i=new Q.CapturePreviewNavigationContext(e);if(pe.default.isUsingStackNavigationContext())Se.default.navigateToView(i,t);else{const e="DirectShare_Modal";this.launchModalEvent.fire({context:i,rootViewId:ie.MainRootViewId,causeId:t,modalId:e})}}))}navigateToCaptureMultiPreview(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCaptureMultiPreview, causeId: "+t),this.navigateAssertingUIStarted((()=>{const i=new Q.CaptureMultiPreviewNavigationContext(e);if(pe.default.isUsingStackNavigationContext())Se.default.navigateToView(i,t);else{const e="DirectShare_Modal";this.launchModalEvent.fire({context:i,rootViewId:ie.MainRootViewId,causeId:t,modalId:e})}}))}navigateToShareContactsToConversationPanel(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToShareContactsToConversationPanel, causeId: "+e.causeId),this.navigateAssertingUIStarted((()=>{const i=new Q.ShareContactsToConversationContext(e);pe.default.isUsingStackNavigationContext()?(i.state.navigationDirection=e.entryPoint===M.ShareContactOrigin.MessageComposer?se.StackNavigationDirection.Present:void 0,Se.default.navigateToView(i,e.causeId)):this.navigateToModalContext(i,!0,e.causeId,t)}))}navigateToShareWithPanel(e,t,i=!1){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToShareWithPanel, causeId: "+e.causeId),this.navigateAssertingUIStarted((()=>{const n=new Q.ShareWithPanelNavigationContext(e);if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.ShareWithPanelNavigationId)){if(!e.isExternalShare)return;this.navigateBack(e.causeId,t)}Se.default.navigateToView(n,e.causeId)}else this.navigateToModalContext(n,i,e.causeId,ce.rootViewIdForComponentContext(t))}))}navigateToEngagementShareableContentPanel(e,t,i=!1){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToEngagementShareableContentPanel, causeId:",e.causeId),this.navigateAssertingUIStarted((()=>{const n=new Q.EngagementSharePanelContext(e);pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(n,e.causeId):this.navigateToModalContext(n,i,e.causeId,t)}))}navigateToCaptivePortalQuestionnaire(e,t,i=!1){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCaptivePortalQuestionnaire, causeId: "+e),this.navigateAssertingUIStarted((()=>{const n=new Q.CaptivePortalQuestionnaireContext({});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.CaptivePortalQuestionnaireNavigationId))return;Se.default.navigateToView(n,e)}else this.navigateToModalContext(n,i,e,t)}))}navigateToInAppBrowser(e,t,i){e.origin===oe.BrowserOrigin.LinkNode&&(e.url=(0,be.standardizeBingSearchUrl)(e.url));const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,`NavigationActions.navigateToInAppBrowser, causeId: ${n}`),this.navigateAssertingUIStarted((()=>{if(!(e.openUrlOptions.forceInAppViewer||m.default.isIntegrationUrl(e.url)&&i||pe.default.isUsingStackNavigationContext()))return void a.Linking.openUrl(J.default.normalizeUrlProtocol(e.url)||e.url);const o=new Q.InAppBrowserNavigationContext({origin:e.origin,url:e.url,integrationCorrelationId:e.openUrlOptions.integrationCorrelationId,headers:e.openUrlOptions.headers,injectedJavaScript:e.openUrlOptions.injectedJavaScript,onNavigationStateChange:e.openUrlOptions.onNavigationStateChange,onInAppWebBrowserClose:e.openUrlOptions.onInAppWebBrowserClose,onShareComplete:e.openUrlOptions.onShareComplete,onWebViewClose:e.openUrlOptions.onWebViewClose,onMessage:e.openUrlOptions.onMessage,headerTitle:e.openUrlOptions.browserTitle,usePredeterminedHeaderTitle:e.openUrlOptions.usePredeterminedBrowserTitle,conversationId:e.openUrlOptions.conversationId,messageId:e.openUrlOptions.messageId,suggestionAttributes:e.openUrlOptions.suggestionAttributes,hideBrowserActions:e.openUrlOptions.hideBrowserActions,perfScenario:e.openUrlOptions.openIntegrationScenario,useBingMiniCanvas:e.openUrlOptions.useBingMiniCanvas,onExternalShare:e.openUrlOptions.onExternalShare,forceInAppViewer:e.openUrlOptions.forceInAppViewer,useBrowserActionInHeader:e.openUrlOptions.useBrowserActionInHeader,beforeOpenBrowser:e.openUrlOptions.beforeOpenBrowser,onSuccesfulOpenBrowser:e.openUrlOptions.onSuccessfulOpenBrowser,onSuccessfulShare:e.openUrlOptions.onSuccessfulShare,shareSameSession:e.openUrlOptions.shareSameSession,sidebarSize:e.openUrlOptions.sidebarSize,renderWebViewComponent:e.renderWebViewComponent});if(pe.default.isUsingStackNavigationContext())!e.openSecondaryBrowserIfNecessary&&Se.default.isOnTopOfNavigationStack(Q.InAppBrowserNavigationId)||(o.state.navigationDirection=void 0,Se.default.navigateToView(o,n));else{const i=!!e.openUrlOptions.integrationCorrelationId;this.navigateToCompositeGroup(n,t,((e,n)=>{const s=[];return s.push(this.clearModalContext(!0,n,t)),s.push(this.navigateToRightSidebarContext(o,Se.default.isInAppBrowserShowingNoSubscription()?se.StackNavigationType.PopToRoot:se.StackNavigationType.Push,e,n,t,i&&!0)),s}))}}))}closeInAppBrowser(e,t){if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions: closeInAppBrowser,  causeId: "+e),pe.default.isUsingStackNavigationContext()){const i=Se.default.getCurrentNavigationStackRoute();if((null==i?void 0:i.name)===Q.InAppBrowserNavigationId){const n=i.params;n.onInAppWebBrowserClose&&n.onInAppWebBrowserClose(),this.navigateBack(e,t)}}else if(!this._maybePopToConversationInCall(e,t)){const i=ce.rootViewIdForComponentContext(t);this.navigateToCompositeGroup(e,i,((e,i)=>{const n=[];return n.push(this.setMainAreaFullScreen(!1)),this.closeGenericDesktopModal(i,ce.rootViewIdForComponentContext(t)),n}))}}toggleGallery(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.toggleGallery, causeId: "+i);const n=Se.default.isGalleryShowing();pe.default.isUsingStackNavigationContext()||!n?this.navigateToGallery(e,Q.GalleryViewMode.All,t):this.closeGalleryPanel(i,t)}navigateToGallery(e,t,i,n,s,a){const r=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToGallery, causeId: "+r),this.navigateAssertingUIStarted((()=>{const l=new Q.GalleryNavigationContext({conversationId:e,viewMode:t,callId:n,parentConversationId:s,onClose:a,navigationDirection:se.StackNavigationDirection.Present});if(pe.default.isUsingStackNavigationContext())l.state.viewMode===Q.GalleryViewMode.All&&(l.state.viewMode=Q.GalleryViewMode.Media),Se.default.navigateToView(l,r);else if(Se.default.shouldDisplayRightNavigationNoSubscription()){const t=ce.rootViewIdForComponentContext(i),n=!!i&&i.isPresentedInDesktopRightNav,s=()=>{this.navigateToCompositeGroup(r,t,((e,i)=>{const o=[];return o.push(this.clearModalContext(e,i,t)),o.push(this.navigateToRightSidebarContext(l,n?se.StackNavigationType.Push:se.StackNavigationType.PopToRoot,e,i,t)),o}))},a=Se.default.getCurrentStackNavigationContext(ce.mainContentNavigatorId,!1).getNavStack(),c=o.last(a);if(c instanceof Q.DesktopContentPanelNavigationContext){const t=c.getConversationContext();t&&t.state.conversationId!==e&&this.navigateToConversation({convId:e,origin:oe.NavigationConversationOrigin.Gallery,causeId:r})}s()}}))}setDesktopGalleryViewMode(e,t,i,n=!0){pe.default.isUsingStackNavigationContext()||this.navigateToGallery(e,t,i)}closeGalleryPanel(e,t){if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions: closeGalleryPanel,  causeId: "+e),Se.default.isUsingStackReactNavigationNoSubscription())this.goBack(e,t);else if(pe.default.isUsingStackNavigationContext())Se.default.isOnTopOfNavigationStack(Q.GalleryNavigationId)&&this.navigateBack(e,t);else if(!this._maybePopToConversationInCall(e,t)){const i=ce.rootViewIdForComponentContext(t);this.navigateToCompositeGroup(e,i,((e,t)=>[this.clearRightSidebarContext(e,t,i)]))}}maybeNavigateToFindPanel(e,t,i,n,o){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.maybeNavigateToFindPanel, causeId: "+n),Se.default.isInAppBrowserShowingNoSubscription()||this.navigateToFindPanel(e,t,i,n,o)}navigateToFindPanel(e,t,i,n,o){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToFindPanel, causeId: "+n),this.navigateAssertingUIStarted((()=>{const s=new Q.FindPanelNavigationContext({conversationId:e,overflowActionConfig:t,onFindComplete:o}),a=ce.rootViewIdForComponentContext(i);if(pe.default.isUsingStackNavigationContext())Se.default.navigateToView(s,n);else if(Se.default.shouldDisplayRightNavigationNoSubscription()){const e=!!i&&i.isPresentedInDesktopRightNav;this.navigateToCompositeGroup(n,a,((t,i)=>[this.navigateToRightSidebarContext(s,e?se.StackNavigationType.Push:se.StackNavigationType.PopToRoot,t,i,a)]))}}))}closeFindPanel(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: closeFindPanel,  causeId: "+e),pe.default.isUsingStackNavigationContext()?Se.default.isOnTopOfNavigationStack(Q.FindPanelNavigationId)&&this.navigateBack(e,t):this._maybePopToConversationInCall(e,t)||this.closeRightPanel(e,ce.rootViewIdForComponentContext(t))}closeRightPanel(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: closeRightPanel, causeId: "+e),pe.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(e,t,((e,i)=>[this.clearRightSidebarContext(e,i,t)]))}maybeCloseRightPanel(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: maybeCloseRightPanel, causeId: "+e),this._maybePopToConversationInCall(e,t)||this.closeRightPanel(e,ce.rootViewIdForComponentContext(t))}navigateToDesktopCloseAccount(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToDesktopCloseAccount, causeId: "+t),this.navigateAssertingUIStarted((()=>{if(!pe.default.isUsingStackNavigationContext()){const i=new Q.DesktopCloseAccountNavigationContext({});this.navigateToModalContext(i,!1,t,ce.rootViewIdForComponentContext(e))}}))}navigateToDesktopMsaPhoneAccrual(e,t,i,n){const o=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToDesktopMsaPhoneAccrual,  causeId: "+o),this.navigateAssertingUIStarted((()=>{if(!pe.default.isUsingStackNavigationContext()){const s=new Q.DesktopMsaPhoneAccrualNavigationContext({phoneNumber:e,email:i,isEmailAccrual:n});this.navigateToModalContext(s,!1,o,t)}}))}openCallRoster(e,t,i,n){Y.log(oe.LogTraceArea.Navigation,`NavigationActions.openCallRoster, causeId: ${i}`);const o=new Q.CallRosterNavigationContext({conversationId:e,callId:t,navigationDirection:se.StackNavigationDirection.Present});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.CallRosterNavigationId))return;Se.default.navigateToView(o,i)}else Se.default.getCompositeCallVisibleNoSubscription()&&this.navigateToModalContext(o,!1,i,ce.rootViewIdForComponentContext(n))}openAddToCall(e,t,i,n,o){if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions.openAddToCall  callId: "+t+" causeId: "+o+" origin: "+i),pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.QuickCallPanelId))return;const n=new Q.QuickCallNavigationContext({conversationId:e,callId:t,newGroup:!0,navigationDirection:i===oe.NavigationAddToCallOrigin.RosterView?se.StackNavigationDirection.Push:se.StackNavigationDirection.Present});Se.default.navigateToView(n,o)}else if(Se.default.getCompositeCallVisibleNoSubscription()){const s=new Q.AddToCallNavigationContext({conversationId:e,callId:t,origin:i,newGroup:!0});this.navigateToModalContext(s,!1,o,ce.rootViewIdForComponentContext(n))}}openBingBackgroundsOverview(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.openCallRoster, causeId: "+i);const n=new Q.BingBackgroundNavigationContext({callId:e,navigationDirection:se.StackNavigationDirection.Present});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.BingBackgroundNavigationId))return;Se.default.navigateToView(n,i)}else Se.default.getCompositeCallVisibleNoSubscription()&&this.navigateToModalContext(n,!1,i,ce.rootViewIdForComponentContext(t))}updateHubNavigationContext(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions: updateHubNavigationContext,  causeId: "+i),pe.default.isUsingStackNavigationContext()?Se.default.updateMobileHubContextForStackNavContext(e,t):this.navigateToCompositeGroup(i,ie.MainRootViewId,((t,i)=>{const n=this.getLeftNavigationContext();if(n){n.getConversationsListContext().state.currentTab=e}return[L.CompositeNavigationType.LeftSidebar]}))}navigateToRecentsTab(){this._navigateToHubTab(Q.HubTab.Recents),p.default.willNavigateToRecents()}navigateToCallsTab(){this._navigateToHubTab(Q.HubTab.Calls)}navigateToPeopleTab(){this._navigateToHubTab(Q.HubTab.People)}_navigateToHubTab(e,t={}){this.navigateAfterUIStarted((()=>Se.default.navigateToHubTab(e,t)))}navigateToSyncAddressBook(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSyncAddressBook, causeId: "+n);const o=new Q.SyncAddressBookContext({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,isFirstLogin:e.isFirstLogin,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,scenarioNavigator:t});this.navigateAfterUIStarted((()=>{pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(o,n):this.navigateToModalContext(o,!1,n,i)}))}navigateToPeopleYouMayKnowNotice(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToPeopleYouMayKnowNotice, causeId: "+n);const o=new Q.PeopleYouMayKnowNoticeContext({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,isFirstLogin:e.isFirstLogin,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,scenarioNavigator:t});this.navigateAfterUIStarted((()=>{pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(o,n):this.navigateToModalContext(o,!1,n,i)}))}navigateToTelemetryConsent(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToTelemetryConsent, causeId: "+n);const o=new Q.TelemetryConsentContext({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,isFirstLogin:e.isFirstLogin,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,scenarioNavigator:t});this.navigateAfterUIStarted((()=>{pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(o,n):this.navigateToModalContext(o,!1,n,i)}))}navigateToUserProfile(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToUserProfile, causeId: "+n);const o=new Q.UserProfileContext({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,scenarioNavigator:t});this.navigateAfterUIStarted((()=>{pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(o,n):this.navigateToModalContext(o,!1,n,i)}))}navigateToColorTheme(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToColorTheme, causeId: "+n);const o=new Q.ThemeContext({origin:e.origin,hideSkipButton:e.hideSkipButton,hideCloseButton:e.hideCloseButton,isFirstLogin:e.isFirstLogin,closeButtonIcon:e.closeButtonIcon,nextButtonIcon:e.nextButtonIcon,scenarioNavigator:t});this.navigateAfterUIStarted((()=>{pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(o,n):this.navigateToModalContext(o,!1,n,i)}))}navigateToPromptPermission(e,t,i,n=!1){const o=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToPromptPermission, causeId: "+o);const s=!!(t&&t.context&&t.context.isFirstLogin),a=new Q.PromptPermissionContext({origin:e,hideCloseButton:n,isFirstLogin:s,showUIPrompts:!0,scenarioNavigator:t});this.navigateAfterUIStarted((()=>{pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(a,o):(ce.setEligibleLeftNavViewModes(F.default.eligibleLeftNavViewModes(),this.getLeftNavigationContext()),this.navigateToModalContext(a,!1,o,i))}))}navigateToLocationPicker(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToLocationPicker, causeId: "+i),this.navigateAssertingUIStarted((()=>{const n={conversationId:e,navigationDirection:se.StackNavigationDirection.Present},o=new Q.LocationPickerContext(n),s=ce.rootViewIdForComponentContext(t);if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.LocationPickerNavigationId))return;Se.default.navigateToView(o,i)}else if(!g.default.isTabletUINoSubscription()&&Se.default.shouldDisplayRightNavigationNoSubscription()){const e=!!t&&t.isPresentedInDesktopRightNav;this.navigateToModalContext(o,!e,i,s)}else this.launchModalEvent.fire({context:o,rootViewId:ce.rootViewIdForComponentContext(t),causeId:i})}))}navigateToLocationViewer(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToLocationViewer, causeId: "+i),this.navigateAssertingUIStarted((()=>{const n=Object.assign(Object.assign({},e),{navigationDirection:se.StackNavigationDirection.Present}),o=new Q.LocationViewerContext(n);if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.LocationViewerNavigationId))return;Se.default.navigateToView(o,i)}else this.launchModalEvent.fire({context:o,rootViewId:ce.rootViewIdForComponentContext(t),causeId:i})}))}navigateToNearByPlaces(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,`NavigationActions.navigateToNearByPlaces, causeId: ${t}`),this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext()&&Se.default.navigateToView(new Q.NearByPlacesContext(e),t)}))}navigateToDocumentViewer(e,t,i,n){const o=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToDocumentViewer, causeId: "+o),this.navigateAssertingUIStarted((()=>{const s={message:e,fileUri:t,fileName:i,navigationDirection:se.StackNavigationDirection.Present},a=new Q.DocumentViewerContext(s);pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(a,o):this.launchModalEvent.fire({context:a,rootViewId:ce.rootViewIdForComponentContext(n),causeId:o})}))}navigateToGifPreview(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToGifPreview, causeId: "+n),this.navigateAssertingUIStarted((()=>{const o={gif:e,sendButtonTitle:t};if(pe.default.isUsingStackNavigationContext()){const e=new Q.GifPreviewContext(o);Se.default.navigateToView(e,n)}else this._commonNavigateToModal(Q.GifPreviewContext,i,"navigateToGifPreview",o)}))}navigateToDesktopCaptureComboModal(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToDesktopCaptureComboModal, causeId: "+n),re.default.isDesktopVIMEnabled()&&!pe.default.isUsingStackNavigationContext()?this.navigateAssertingUIStarted((()=>{this.launchModalEvent.fire({context:new Q.DesktopCaptureComboViewNavigationContext({conversationId:e,onShareComplete:t}),rootViewId:ce.rootViewIdForComponentContext(i),causeId:n})})):Y.log(oe.LogTraceArea.Navigation,"Video message is intended for desktop only")}navigateToQuickCallPanel(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToQuickCallPanel, causeId: "+e),this.navigateToQuickCallPanelWithParams({causeId:e},t)}navigateToQuickCallPanelWithParams(e,t){this._commonNavigateToModal(Q.QuickCallNavigationContext,t,"navigateToQuickCallWithParams",e)}navigateToQuickCallSearchPanelWithParams(e,t){const i=e.causeId;Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToQuickCallSearchPanelWithParams, causeId: "+i),e.searchOnly=!0,e.causeId=i,this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext()?this.navigateToQuickCallPanelWithParams(e,t):this.navigateToCompositeGroup(i,ie.MainRootViewId,((t,i)=>{const n=this.getLeftNavigationContext();if(n){const t=n.getCallSearchContext();ce.setLeftNavViewMode(n,Q.LeftNavViewMode.CallSearch,i),t.state=e}return[L.CompositeNavigationType.LeftSidebar]}))}))}navigateToPSTNDialerWithParams(e,t,i=!1){if(!i&&d.default.shouldRequestAcknowledgementNoSubscription())return void this.navigateToE911AcknowledgementPanel(e.causeId,t,(()=>{this.navigateToPSTNDialerWithParams(e,t,!0)}));const n=e.causeId;Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToPSTNDialerWithParams, causeId: "+n),Y.track(new H.NavigateToDialpad(e.navigationSource,!!e.prefilledNumber));const o=new Q.PSTNDialerNavigationContext({callId:e.callId,prefilledNumber:e.prefilledNumber,conversationId:e.conversationId,navigationSource:e.navigationSource}),s=[];pe.default.isUsingStackNavigationContext()||s.push(Q.PSTNDialerPanelId),i&&s.push(Q.E911AcknowledgementPanelId),p.default.willNavigateToDialpad(),this.navigateAfterUIStarted((()=>{pe.default.isUsingStackNavigationContext()?(this.setStackNavigationCompleteCallback((()=>{this.reduceNavStack(s,!0)})),o.state.navigationDirection=i?se.StackNavigationDirection.Push:se.StackNavigationDirection.Present,Se.default.navigateToView(o,n)):(this.reduceModalNavStack(s,t,!1),this.navigateToModalContext(o,!1,n,t))}))}navigateToE911AcknowledgementPanel(e,t,i,n=!1){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToE911AcknowledgementPanel, causeId: "+e);const o=new Q.E911AcknowledgementPanelNavigationContext({shouldSkipLocationConsent:n,onComplete:i});pe.default.isUsingStackNavigationContext()?(o.state.navigationDirection=se.StackNavigationDirection.Present,Se.default.navigateToView(o,e)):this.navigateToModalContext(o,!1,e,t)}navigateToCountrySelector(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCountrySelector, causeId: "+i);const n=new Q.PSTNCountrySelectorNavigationContext({onCountrySelected:t});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.PSTNCountrySelectorPanelId))return;Se.default.navigateToView(n,i)}else this.navigateToModalContext(n,!1,i,e)}navigateToCountrySelectorWithFilter(e,t,i,n,o){const s=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCountrySelector, causeId: "+s);const a=new Q.PSTNCountrySelectorNavigationContext({onCountrySelected:t,countriesFiltered:i,hideRecentCountries:n,searchAutoFocus:o});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.PSTNCountrySelectorPanelId))return;Se.default.navigateToView(a,s)}else this.navigateToModalContext(a,!1,s,e)}navigateToCountryAreaSelector(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCountryAreaSelector, causeId: "+i);const n=new Q.SkypeNumberCountryAreaSelectorNavigationContext({onCountryAreaSelected:t});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.SkypeNumberCountryAreaSelectorPanelId))return;Se.default.navigateToView(n,i)}else this.navigateToModalContext(n,!1,i,e)}navigateToPrefixSelector(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToPrefixSelector, causeId: "+i);const n=new Q.SkypeNumberPrefixSelectorNavigationContext({onPrefixSelected:t});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.SkypeNumberPrefixSelectorPanelId))return;Se.default.navigateToView(n,i)}else this.navigateToModalContext(n,!1,i,e)}navigateToSelectOptionSelector(e,t,i,n,o){const s=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSelectOptionSelector, causeId: "+s);const a=new Q.SkypeNumberFormOptionSelectorNavigationContext({selectionOptions:t,countryId:i,inputName:n,filledKey:o});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.SkypeNumberFormOptionSelectorPanelId))return;Se.default.navigateToView(a,s)}else this.navigateToModalContext(a,!1,s,e)}navigateToSkypeNumberFormsPanel(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSkypeNumberFormsPanel, causeId: "+i);const n=new Q.SkypeNumberFormsNavigationContext({country:t});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.SkypeNumberFormsNavigationId))return;Se.default.navigateToView(n,i)}else this.navigateToModalContext(n,!1,i,e)}closeGenericDesktopModal(e,t){const i=ce.modalNavigatorIdForRootViewId(t);Y.log(oe.LogTraceArea.Navigation,"NavigationActions: closeGenericDesktopModal navigatorId: "+n.pii.Omit(i)+" causeId: "+e),this._closeGenericDesktopModal(e,i)}navigateToContactsPanel(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToContactsPanel, causeId: "+n),this.navigateAssertingUIStarted((()=>{const o=new Q.ContactsPanelV2NavigationContext({currentTab:e});pe.default.isUsingStackNavigationContext()?(o.state.navigationDirection=se.StackNavigationDirection.Present,Se.default.navigateToView(o,n),t&&this.setStackNavigationCompleteCallback((()=>{this.flattenNavStack()}))):this.navigateToModalContext(o,!1,n,ce.rootViewIdForComponentContext(i))}))}navigateToAddContactPanel(e,t,i){this._commonNavigateToModal(Q.AddContactPanelNavigationContext,i,"navigateToAddContactPanel",{origin:e},((e,i)=>{i&&(e.state.navigationDirection=t)}))}navigateToSendCreditSearchPeople(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,`NavigationActions.navigateToSendCreditSearchPeople, causeId: ${t}`),this._commonNavigateToModal(Q.SendCreditSearchPeopleContext,e,"navigateToSendCreditSearchPeople",{})}navigateToAddPhoneNumberPanel(e,t,i,n,o,s,a,r){O.default.clearSavedContactDetails(),this._commonNavigateToModal(Q.AddPhoneNumberPanelNavigationContext,t,"navigateToAddPhoneNumberPanel",{origin:e,contactMriToEdit:i,phoneNumbers:n,contactName:o,onSave:s,onCancel:a,onClose:r})}navigateToLoadingPanel(e,t){this._commonNavigateToModal(Q.LoadingPanelNavigationContext,t,"navigateToLoadingPanel",{message:e})}navigateToInviteShare(e,t,i,n){this._commonNavigateToModal(Q.InviteShareNavigationContext,n,"navigateToInviteShare",{skypeMri:e,displayName:t||"",origin:i,customizedHeight:S.DefaultHeightForInviteShare})}navigateToGroupShare(e,t,i,n){this._commonNavigateToModal(Q.ConversationShareNavigationContext,n,"navigateToGroupShare",{skypeMri:e,displayName:t||"",origin:i})}navigateToGuestUpsell(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToGuestUpsell, causeId: "+t),this.navigateAssertingUIStarted((()=>{const i=new Q.GuestUpsellNavigationContext({upsellType:e});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.GuestUpsellNavigationId))return;Se.default.navigateToView(i,t)}else this.navigateToModalContext(i,!1,t,ie.MainRootViewId)}))}navigateToMiniApp(e,t="defaultStartPage"){const i=R.default.newCauseId();this.navigateAfterUIStarted((()=>{const n=new Q.MiniAppNavigationPromptContext({appId:e,page:t});pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(n,i,se.StackNavigationType.Push):Y.warn(oe.LogTraceArea.Navigation,"NavigationActions.navigateToMiniApp - only stack navigation devices supported"+i)}))}navigateToJoiningGuestScreen(){const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToGuestFlow, causeId: "+e),ce.setEligibleLeftNavViewModes(F.default.eligibleLeftNavViewModes(),this.getLeftNavigationContext()),this.navigateAfterUIStarted((()=>{const t=new Q.JoiningGuestScreenContext({});pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(t,e):this.navigateToMainStageContext(t,!0,!1,e)}))}navigateToCallQualityFeedbackPanel(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallQualityFeedbackPanel, causeId: "+t),ye.default.isUIDisplayed()?this.launchModalEvent.fire({context:new Q.CQFNavigationContext(Object.assign({},e)),rootViewId:ie.MainRootViewId,causeId:t}):Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallQualityFeedbackPanel, ui not displayed, causeId: "+t)}navigateToCallPreviewView(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallPreviewView causeId: "+t),l.default.trackLobbyNavigationStarted(e.conversationMri);const i=i=>{this.launchModalEvent.fire({context:new Q.CallPreviewNavigationContext(e),rootViewId:i,causeId:t})};ye.default.performAfterUIStarted((()=>{i(ie.MainRootViewId)}))}navigateToCallPreviewViewModal(e,t){this.navigateAssertingUIStarted((()=>{const i=new Q.CallPreviewNavigationContext(e);if(pe.default.isUsingStackNavigationContextNoSubscription()){if(Se.default.isOnTopOfNavigationStack(Q.CallPreviewNavigationId))return;Se.default.navigateToView(i,t)}else{const e=800,n=620;i.state.customizedWidth=e,i.state.customizedHeight=n,s.default.getLastActiveSplitView().then((e=>{const n=(null==e?void 0:e.id)===ie.MainRootViewId?e.id:ie.MainRootViewId,o=n!==ie.MainRootViewId?s.default.getLastActiveSplitViewWindow():void 0;null==o||o.requestFocus(),this.navigateToModalContext(i,!1,t,n)}),(e=>{Y.log(oe.LogTraceArea.Navigation,"getLastActiveSplitView() failed. error: "+e),this.navigateToModalContext(i,!1,t,ie.MainRootViewId)}))}}))}navigateToMobileMeetingTitleAndAvatarPickerModal(e,t){if(pe.default.isUsingStackNavigationContextNoSubscription()){const t=Object.assign({dialogId:c.MobileMeetingAvatarPickerNavigationId},e);this._commonNavigateToModal(c.MobileMeetingAvatarPickerNavigationContext,ie.MainRootViewId,"navigateToMobileMeetingTitleAndAvatarPicker",t,((e,t)=>{t&&(e.state.navigationDirection=se.StackNavigationDirection.Push)}))}else Y.warn(oe.LogTraceArea.Navigation,"NavigationActions.navigateToMobileMeetingTitleAndAvatarPickerModal - only stack navigation devices supported"+t)}navigateToRinglessCallInterstitial(e){const t=e.causeId;Y.log(oe.LogTraceArea.Navigation,"NavigationActions.NavigateToRinglessCallInterstitialParams causeId: "+t),this.navigateAssertingUIStarted((()=>{(i=>{this.launchModalEvent.fire({context:new Q.RinglessCallInterstitialNavigationContext(Object.assign({},e)),rootViewId:i,causeId:t})})(ie.MainRootViewId)}))}navigateToCallerIdPromptPanel(){const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallerIdPromptPanel, causeId: "+e),this.navigateAssertingUIStarted((()=>{const t=new Q.CallerIdPromptContext({customizedHeight:S.CompactHeight,dialogId:"callerIdDialog"});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.CallerIdPromptNavigationId))return;Se.default.navigateToView(t,e)}else this.navigateToModalContext(t,!1,e,ce.rootViewIdForComponentContext(void 0))}))}navigateToCallFailurePromptPanel(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallFailurePromptPanel, causeId: "+n),this.navigateAssertingUIStarted((()=>{const e=new Q.CallFailurePromptContext({dialogId:"pstnDialog",phoneNumber:t,reason:i,customizedWidth:S.CompactWidth});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.CallFailurePromptId))return;Se.default.navigateToView(e,n)}else this.navigateToModalContext(e,!1,n,ie.MainRootViewId)}))}navigateToSmsFailurePrompt(e,t,i){const n=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSmsFailurePrompt, causeId: "+n),this.navigateAssertingUIStarted((()=>{const e=new Q.SmsFailurePromptContext({dialogId:"smsDialog",phoneNumber:t,isSmsInfo:i,customizedHeight:S.DefaultHeight,customizedWidth:S.CompactWidth});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.SmsFailurePromptId))return;Se.default.navigateToView(e,n)}else this.navigateToModalContext(e,!1,n,ie.MainRootViewId)}))}navigateToCallFailurePostPurchasePromptPanel(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallFailurePostPurchasePromptPanel, causeId: "+t),this.navigateAssertingUIStarted((()=>{const i=new Q.CallFailurePostPurchasePromptContext({dialogId:"successfulPurchaseDialog",phoneNumber:e,customizedHeight:S.CompactHeight,customizedWidth:S.CompactWidth});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.CallFailurePostPurchasePromptNavigationId))return;Se.default.navigateToView(i,t)}else this.navigateToModalContext(i,!1,t,ie.MainRootViewId)}))}navigateToSkypeNumberPostPurchasePromptPanel(){const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,`NavigationActions.navigateSkypeNumberPostPurchasePromptPanel, causeId: ${e}`),this._commonNavigateToModal(Q.SkypeNumberPostPurchasePromptNavigationContext,ie.MainRootViewId,"navigateToSkypeNumberPostPurchasePromptPanel",{dialogId:"skypeNumberPostPurchaseDialog"})}navigateToTasterPostCallPanel(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToTasterPostCallPanel, causeId: "+t),this.navigateAssertingUIStarted((()=>{const e=new Q.TasterPostCallPanelContext({dialogId:"taster",customizedWidth:S.CompactWidth});if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(Q.TasterPostCallPanelId))return;Se.default.navigateToView(e,t)}else this.navigateToModalContext(e,!1,t,ie.MainRootViewId)}))}closeCallFailurePrompts(e,t){if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions.closeCallFailurePrompts, causeId: "+e),pe.default.isUsingStackNavigationContext())(Se.default.isOnTopOfNavigationStack(Q.CallFailurePromptId)||Se.default.isOnTopOfNavigationStack(Q.SmsFailurePromptId)||Se.default.isOnTopOfNavigationStack(Q.TasterPostCallPanelId))&&this.reduceNavStack([Q.CallFailurePromptId,Q.SmsFailurePromptId,Q.TasterPostCallPanelId],!1);else{const e=ce.rootViewIdForComponentContext(t);this.reduceModalNavStack([Q.CallFailurePromptId,Q.SmsFailurePromptId,Q.TasterPostCallPanelId],e,!1)}}navigateToAndroidCallMonitorPermissionPanel(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToAndroidCallMonitorPermissionPanel, causeId: "+t),ye.default.isUIDisplayed()?this.launchModalEvent.fire({context:new Q.AndroidCallMonitorPermissionNavigationContext(Object.assign({},e)),rootViewId:ie.MainRootViewId,causeId:t}):Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToAndroidCallMonitorPermissionPanel, ui not displayed, causeId: "+t)}clearRightSidebarContext(e,t,i){return Y.log(oe.LogTraceArea.Navigation,"NavigationActions.clearRightSidebarContext rootViewId: "+te.mriOrId(i)+" partOfLargerChange: "+e+" causeId: "+t),this._clearRightSidebarContext(e,t,ce.rightSideBarNavigatorId)}clearMainModalContext(e,t){return this.clearModalContext(e,t,ie.MainRootViewId)}clearModalContext(e,t,i){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.clearModalContext rootViewId: "+te.mriOrId(i)+" partOfLargerChange: "+e+" causeId: "+t);const n=ce.modalNavigatorIdForRootViewId(i);return Se.default.clearModalNavStack(n,e,!0,t),L.CompositeNavigationType.Modal}navigateAfterBlock(e,t,i){Y.log(oe.LogTraceArea.Navigation,"NavigationActions._navigateAfterBlock, causeId: "+t),this.closeDetailsPanelForUser(e,t,i),Se.default.getActiveConversationId(ce.rootViewIdForComponentContext(i))===e&&(pe.default.isUsingStackNavigationContext()?this.navigateToHub(t):this.navigateToWelcomeScreen(t))}clearMainStageContext(e,t){const i=ce.mainContentNavigatorId;return Y.log(oe.LogTraceArea.Navigation,"NavigationActions.clearMainStageContext navigatorId: "+n.pii.Omit(i)+" causeId: "+t),Se.default.clearNavStack(i,!e,!1,t),L.CompositeNavigationType.MainContent}mainStageContextPopToRoot(e,t){const i=ce.mainContentNavigatorId;Y.log(oe.LogTraceArea.Navigation,"NavigationActions.mainStageContextPopToRoot navigatorId: "+n.pii.Omit(i)+" causeId: "+t);const o=this.getLeftNavigationContext();return o&&ce.setLeftNavViewMode(o,Q.LeftNavViewMode.Recents,t),Se.default.clearNavStack(i,!e,!1,t),L.CompositeNavigationType.MainContent}navigateToWelcomeScreen(e){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToWelcomeScreen, causeId: "+e),pe.default.isUsingStackNavigationContext()||this.navigateToCompositeGroup(e,ie.MainRootViewId,((t,i)=>{const n=[];if(n.push(this.setMainAreaFullScreen(!1)),n.push(this.clearModalContext(t,e,ie.MainRootViewId)),Se.default.isSplitNavStackCollapsed(se.StackNavigatorId.DesktopContent))n.push(this.mainStageContextPopToRoot(t,i));else{const o=this.getLeftNavigationContext();o&&(ce.setLeftNavViewMode(o,Q.LeftNavViewMode.Recents,e),n.push(L.CompositeNavigationType.LeftSidebar));const s=new Q.WelcomeScreenContext({});n.push(this.navigateToMainStageContext(s,!0,t,i))}return o.compact(n)}))}navigateToMeetNowJoinLinkPanel(e){const t=R.default.newCauseId(),i=new c.MeetNowJoinLinkPanelNavigationContext(e);this.launchModalEvent.fire({context:i,rootViewId:ie.MainRootViewId,modalId:e.modalId,causeId:t,onDismiss:e.onDismiss})}navigateToScreenSharePanel(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToScreenSharePanel, causeId: "+i),Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToScreenSharePanel, causeId: "+i+`rootViewId ${ie.MainRootViewId} isUsingStackNavigationContext ${pe.default.isUsingStackNavigationContext()}`),this.navigateAssertingUIStarted((()=>{const n=new Q.ScreenShareModalContext(e);pe.default.isUsingStackNavigationContext()||this.launchModalEvent.fire({context:n,rootViewId:ie.MainRootViewId,modalId:t,causeId:i})}))}navigateToTogetherModePanel(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToTogetherModePanel, causeId: "+i);const n=pe.default.isUsingStackNavigationContext();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToTogetherModePanel, causeId: "+i+`rootViewId ${ie.MainRootViewId} isUsingStackNavigationContext ${n}`),this.navigateAssertingUIStarted((()=>{const o=new Q.TogetherModeModalContext(e);n?Se.default.navigateToView(o,i):this.launchModalEvent.fire({context:o,rootViewId:ie.MainRootViewId,modalId:t,causeId:i})}))}navigateToTwinCamPanel(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToTwinCamPanel, causeId: "+t),this._commonNavigateToModal(Q.TwinCamModalContext,ie.MainRootViewId,"navigateToTwinCam",e)}getLeftNavigationContext(){const e=Se.default.getCurrentStackNavigationContext(ce.mainContentNavigatorId,!1);if(e instanceof Q.RootCompositeSplitViewContext)return e.getLeftNavigationContext()}setMainAreaFullScreen(e){const t=Se.default.getCurrentStackNavigationContext(ce.mainContentNavigatorId,!1);return t instanceof Q.RootCompositeSplitViewContext&&t.setMainAreaFullScreen(e),L.CompositeNavigationType.MainContent}navigateToMainStageContext(e,t,i,n){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: _navigateToMainStageContext, causeId: "+n);const o=ce.maybeUpdateDesktopNavContext(e,n);return Se.default.stackNavigateToView(o,void 0,ce.mainContentNavigatorId,t?se.StackNavigationType.PopToRoot:se.StackNavigationType.Push,!i,n),(o instanceof Q.DesktopContentPanelNavigationContext||o instanceof Q.CallNavigationContext||o instanceof c.MeetNowNavigationContext)&&s.MainWindow.requestFocus(),L.CompositeNavigationType.MainContent}navigateToSXPlayground(){const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSXPlayground causeId: "+e)}navigateToRightSidebarContext(e,t,i,n,o,s){return s?(this.navigateToModalContext(e,i,n,o),L.CompositeNavigationType.Modal):(Y.log(oe.LogTraceArea.Navigation,"NavigationActions: _navigateToRightSidebarContext, causeId: "+n),Se.default.desktopSidebarNavigateToView(e,void 0,ce.rightSideBarNavigatorId,t,!i,n),L.CompositeNavigationType.RightSidebar)}fetchMemberConsumptionHorizon(e){if(!re.default.getS4LMessagingFeatures().enableReadReceipts)return;if(_.isEncryptedThread(e)||_.isConversationWithPhoneNumber(e)||_.isBookmarkConversation(e))return;const t=(0,w.default)().getConversation(e);if(!t)return;if(t.isFake)return;const i=t.getThreadMembers().length;_.isThread(e)&&(0===i||i>20)||P.default.fetchMemberConsumptionHorizon(e)}navigateToDefaultConversation(){this.navigateAfterUIStarted((()=>{const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToDefaultConversation, causeId: "+e),this.navigateToConversation({causeId:e,origin:oe.NavigationConversationOrigin.NavToDefaultConv})}))}navigateAfterArchivingConversation(e,t,i){if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateAfterArchivingConversation, causeId: "+t),pe.default.isUsingStackNavigationContext())return void this.navigateToRecentsTab();this.closeDetailsPanel(t,i);const n=Se.default.getActiveConversationId(ce.rootViewIdForComponentContext(i)),s=o.find(A.default.getAllSiblingConversations(e),(e=>e.id===n));(e===n||s)&&this.navigateToWelcomeScreen(t)}navigateAfterUnarchivingConversation(e,t,i){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateAfterUnarchivingConversation, causeId: "+t),pe.default.isUsingStackNavigationContext();Se.default.getActiveConversationId(ce.rootViewIdForComponentContext(i))===e&&(I.default.setConversationsListMode(fe.ConversationsListMode.AllConversations),this.clearModalContext(!0,t,ie.MainRootViewId))}navigateToCompositeContext(e,t=[L.CompositeNavigationType.Default],i,n){this.navigateAfterUIStarted((()=>{if(this._forceRefreshOnNextNavigate)return this._forceRefreshOnNextNavigate=!1,void ee.reloadApp(e);Se.default.compositeCommitNavigationUpdates(e,t,i,n)}))}navigateToHelpAndFeedbackLink(e,t,i,n,o={}){if($.isSsoEnabled())this.navigateToSsoWebFlow(e,"",i,n,[],!0,o);else{const i=$.getHelpAndFeedbackUrl(e,t,o);C.SsoWebFlowExternalBrowser.openExternalBrowser(i,n).then((()=>{Y.track(new j.NavigationHelpAndFeedbackLink(i,!1))})).catch((()=>{Y.track(new j.NavigationHelpAndFeedbackLink(i,!0))}))}}navigateToTranslationSettingsPanel(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToTranslationSettingsPanel, causeId: "+i);const n=new Q.TranslationSettingsPanelNavigationContext({});this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(n,i):this.navigateToModalContext(n,e,i,ce.rootViewIdForComponentContext(t))}))}navigateToPreSignOutPanel(e,t){this._commonNavigateToModal(Q.PreSignOutPanelNavigationContext,e,"navigateToPreSignPanel",{logoutReason:t,showHeader:!0})}openSubtitles(e,t,i,n,o){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.openSubtitles, causeId: "+o);const s=ce.rootViewIdForComponentContext(n),a=new Q.SubtitlesNavigationContext({reactionMri:e,conversationMri:t,callId:i});pe.default.isUsingStackNavigationContext()?Se.default.navigateToView(a,o):this.navigateToCompositeGroup(o,s,((e,t)=>{const i=[];return i.push(this.clearModalContext(!0,t,s)),i.push(this.navigateToRightSidebarContext(a,se.StackNavigationType.PopToRoot,e,t,s)),i}))}closeSubtitlesPanel(e,t){if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions: closeSubtitlesPanel,  causeId: "+e),pe.default.isUsingStackNavigationContext())(Se.default.isOnTopOfNavigationStack(Q.SubtitlesNavigationId)||Se.default.isUsingStackReactNavigationNoSubscription())&&this.goBack(e,t);else if(!this._maybePopToConversationInCall(e,t)){const i=ce.rootViewIdForComponentContext(t);this.navigateToCompositeGroup(e,i,((e,t)=>[this.clearRightSidebarContext(e,t,i)]))}}navigateToCallingDebugPanel(e,t,i=!1){const n=R.default.newCauseId();if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallingDebugPanel, causeId: "+n),pe.default.isUsingStackNavigationContext()){const t=new Q.CallingDebugPanelNavigationContext({callId:e,nativeWindow:!1});Se.default.navigateToView(t,n)}else this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext();new Q.CallingDebugPanelNavigationContext({callId:e,nativeWindow:!0});if(Se.default.shouldDisplayRightNavigationNoSubscription()){const i=new Q.CallingDebugPanelNavigationContext({callId:e,nativeWindow:!1}),o=!!t&&t.isPresentedInDesktopRightNav;this.navigateToCompositeGroup(n,t.rootViewId,((e,n)=>[this.navigateToRightSidebarContext(i,o?se.StackNavigationType.Push:se.StackNavigationType.PopToRoot,e,n,t.rootViewId)]))}}))}navigateToBookmarkSource(e){const t=b.getBookmarkMetadata(e),i=t&&t.bookmarkSourceConversationId,n=t&&t.bookmarkSourceComposeTime;if(i&&n){const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions: navigateToBookmarkSource causeId: "+e),this.navigateToConversation({convId:i,scrollToTimestamp:o.toNumber(n),forceRefreshFocus:!0,origin:oe.NavigationConversationOrigin.BookmarkMessage,causeId:e})}}navigateToNotificationAugmentedPermissionPrompt(){const e=R.default.newCauseId(),t=new Q.AugmentedPermissionsViewNavigationContext({});this.launchModalEvent.fire({context:t,rootViewId:ie.MainRootViewId,causeId:e,permissionType:ae.PermissionType.Notifications})}closeCallDebugPanel(e,t,i){if(i||this._maybePopToConversationInCall(e,t)){const e=ce.modalNavigatorIdForRootViewId(ie.CallDebugRootViewId);s.default.closeNativeWindow(e)}else{const i=ce.rootViewIdForComponentContext(t);pe.default.isUsingStackNavigationContext()?(Se.default.isOnTopOfNavigationStack(Q.CallingDebugPanelNavigationId)||Se.default.isUsingStackReactNavigationNoSubscription())&&this.goBack(e,t):this.navigateToCompositeGroup(e,i,((e,t)=>[this.clearRightSidebarContext(e,t,i)]))}}showSpeechConsentPanel(e){const t=e.causeId;Y.log(oe.LogTraceArea.Navigation,"NavigationActions.showSpeechConsentPanel, causeId: "+t),this._commonNavigateToModal(Q.SpeechConsentNavigationContext,e.rootViewId,"navigateToSpeechConsentPanel",{})}showTranslationConsentPanel(e){Y.log(oe.LogTraceArea.Navigation,`NavigationActions.showTranslationConsentPanel, causeId: ${e.causeId}`),this._commonNavigateToModal(Q.TranslationConsentNavigationContext,e.rootViewId,"navigateToTranslationConsentPanel",{})}showTruVoiceConsentPanel(e){Y.log(oe.LogTraceArea.Navigation,`NavigationActions.showTruVoiceConsentPanel, causeId: ${e.causeId}`),this._commonNavigateToModal(Q.TruVoiceConsentNavigationContext,e.rootViewId,"navigateToTruVoiceConsentPanel",{})}openSplitView(e){this._openSplitView(e,R.default.newCauseId())}navigateToSendCreditPanel(e){const t=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToSendCreditPanel, causeId: "+t),this._commonNavigateToModal(Q.SendCreditPanelNavigationContext,e,"navigateToSendCreditPanel",{})}navigateToMagicBotToolbox(e,t){const i=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToMagicBotToolbox, causeId: "+i),this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext();const n=new Q.MagicBotToolboxNavigationContext({target:t});this.navigateToModalContext(n,!1,i,e)}))}_maybePopToConversationInCall(e,t){const i=Se.default.getCurrentStackNavigationContext(ce.rightSideBarNavigatorId,!1).getNavStack(),n=i?i[0]:void 0;if(n&&n instanceof Q.ConversationInCallNavigationContext){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: _maybePopToConversationInCall popToRoot: true causeId: "+e);const i=ce.rootViewIdForComponentContext(t);return this.navigateToCompositeGroup(e,i,((e,t)=>[this.navigateToRightSidebarContext(n,se.StackNavigationType.PopToRoot,e,t,i)])),!0}return Y.log(oe.LogTraceArea.Navigation,"NavigationActions: _maybePopToConversationInCall popToRoot: false causeId: "+e),!1}_openConversationInCallNext(e,t,i,n,o){if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions.openConversationInCallNext, causeId: "+e),!pe.default.isUsingStackNavigationContext()){const s=ce.rootViewIdForComponentContext(n);Se.default.getCompositeCallVisibleNoSubscription()&&this.navigateToCompositeGroup(e,s,((e,n)=>{const a=new Q.ConversationInCallNavigationContext({conversationId:t,callId:i,onClose:o}),r=[];return r.push(this.clearModalContext(!0,n,s)),r.push(this.navigateToRightSidebarContext(a,se.StackNavigationType.PopToRoot,e,n,s)),this._startNavigateToConvScenario(t,oe.NavigationConversationOrigin.Call),r}))}}_closeConversationInCallNext(e,t){if(Y.log(oe.LogTraceArea.Navigation,"NavigationActions.closeConversationInCallNext, causeId: "+e),pe.default.isUsingStackNavigationContext())return;const i=ce.rootViewIdForComponentContext(t);this.navigateToCompositeGroup(e,i,((e,t)=>{const n=[];return n.push(this.clearRightSidebarContext(e,t,i)),n}))}_clearRightSidebarContext(e,t,i){return Y.log(oe.LogTraceArea.Navigation,"NavigationActions._clearRightSidebarContext navigatorId: "+n.pii.Omit(i)+" partOfLargerChange: "+e+" causeId: "+t),Se.default.clearDesktopSidebarNavStack(i,!e,!0,t),L.CompositeNavigationType.RightSidebar}_stackNavNavigateBack(e){return Y.log(oe.LogTraceArea.Navigation,"NavigationActions._stackNavNavigateBack, causeId: "+e),Se.default.stackNavNavigateBack(!1,e)}_modalNavigateBack(e,t){const i=ce.modalNavigatorIdForComponentContext(t);Y.log(oe.LogTraceArea.Navigation,"NavigationActions._modalNavigateBack navigatorId: "+n.pii.Omit(i)+" causeId: "+e);return Se.default.stackNavNavigateBack(!1,e,i,L.CompositeNavigationType.Modal)||this._closeGenericDesktopModal(e,i),!0}_desktopContentNavigateBack(e,t){const i=ce.mainContentNavigatorId,n=Se.default.getCurrentNavigationBackStack(i).length,o=Se.default.stackNavNavigateBack(!1,e,i,L.CompositeNavigationType.MainContent);return Y.log(oe.LogTraceArea.Navigation,"NavigationActions._desktopContentNavigateBack backStackSizeBefore: "+n+" handled: "+o+" causeId: "+e),(!o||Se.default.getCurrentNavigationBackStack(i).length<=1)&&this.navigateToCompositeGroup(e,ce.rootViewIdForComponentContext(t),(()=>[])),n>1}_rightSidebarNavigateBack(e){const t=ce.rightSideBarNavigatorId;Y.log(oe.LogTraceArea.Navigation,"NavigationActions._rightSidebarNavigateBack navigatorId: "+n.pii.Omit(t)+" causeId: "+e);return Se.default.stackNavNavigateBack(!1,e,t,L.CompositeNavigationType.RightSidebar)||Se.default.clearNavStack(t,!0,!0,e),!0}_closeGenericDesktopModal(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: _closeGenericDesktopModal navigatorId: "+n.pii.Omit(t)+" causeId: "+e),pe.default.isUsingStackNavigationContext()||Se.default.clearModalNavStack(t,!0,!0,e)}_getScenarioByConversationId(e){return this._scenarioLookupByConversationId[e]}_getScenarioIdForConversationId(e){return te.mriOrId(e)+"Navigation"}_getScenarioIdForAnimation(e){return te.mriOrId(e)+"Animation"}_startNavigateToConvScenario(e,t,i){const n={origin:oe.NavigationConversationOrigin[t]};o.isUndefined(i)||(n.browserOrigin=oe.BrowserOrigin[i]);const s=this._getScenarioIdForConversationId(e),a=new q.default(W.ScenarioName.StreamFrom,s,n);this._scenarioLookupByConversationId[e]=a,a.start(),p.default.willNavigateToChat()}_navigateToCallingSettingsEntryDesktop(e,t,i,n,o,s,a,r){Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallingSettingsEntryDesktop, causeId: "+a),this.navigateAssertingUIStarted((()=>{pe.default.isUsingStackNavigationContext();const l=new Q.CallingSettingsEntryNavigationContext({link:e,source:t,goTarget:n,title:i,enableWebViewBackNavigation:o,titleAccessibilityRegion:r});this.navigateToModalContext(l,!1,a,ce.rootViewIdForComponentContext(s))}))}_navigateToCallingSettingsHeaderAuthWebFlow(e,t,i,n,o,s=[],a,r,l,c){const d=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions.navigateToCallingSettingsHeaderAuthWebFlow, causeId: "+d),this.navigateAssertingUIStarted((()=>{if(pe.default.isUsingStackNavigationContext()){const c=new Q.CallingSettingsHeaderAuthWebFlowNavigationContext({link:e,source:t,goTarget:o,title:i,titleAllowTextWrap:n,useDocumentTitle:r,pathsRequiringHeaders:s,disableSpinnerAfterGoLink:a,enableWebViewBackNavigation:l});Se.default.navigateToView(c,d)}else{const n=new Q.CallingSettingsEntryNavigationContext({link:e,source:t,goTarget:o,title:i,enableWebViewBackNavigation:l});this.navigateToModalContext(n,!1,d,ce.rootViewIdForComponentContext(c))}}))}_sendConversationNavigationTelemetry(e,t,i,n){let o;if(!e.isNewConversation){const e=(0,w.default)().getConversation(t);if(o=e?e.getTimestamp():0,o>0){const e=Date.now();o>e&&(o=e-1)}else o=e?e.getConsumptionHorizonTimestamp():0}const s=A.default.getAllSiblingConversations(t).length;Y.track(new j.NavigationConversation(t,e.origin,e.browserOrigin,o,s,i,n,e.callId))}_getConversationNavigationContext(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: _getConversationNavigationContext, conversationId: "+te.mriOrId(t)+" causeId: "+e.causeId);const i=(0,w.default)().getConversation(t),n=i&&i.isOneOnOne()?i.getOtherPartyMri():void 0;return new Q.ConversationNavigationContext({conversationId:t,otherPartyMri:n,isNewConversation:e.isNewConversation,contextConversationId:e.contextConversationId,scrollToTimestamp:e.scrollToTimestamp,focusedMessageCuid:e.focusedMessageCuid,forceRefreshFocus:e.forceRefreshFocus?Date.now():void 0,shouldAutoFocusInput:e.shouldAutoFocusInput,shouldFlattenNavOnInteraction:e.shouldFlattenNavOnInteraction,inviteToken:e.inviteToken,selectedNumberForSMS:e.selectedNumberForSMS,origin:e.origin,isFromPeopleRecommendations:e.isFromPeopleRecommendations,directShareEventData:e.directShareEventData,causeId:e.causeId?e.causeId:R.default.newCauseId(),hideBackButton:e.hideBackButton,openMagicBotToolboxByDefault:e.openMagicBotToolboxByDefault})}_getMobileContentPanelContext(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions: _getContentPanelContext, convId: "+te.mriOrId(e.convId)+" causeId: "+e.causeId);const i=new Q.MobileContentPanelNavigationContext({shouldResetNavStack:e.shouldResetNavStack,shouldReplaceCurrentContext:e.shouldReplaceCurrentContext,shouldHideAllExtraControls:!1});return i.setConversationContext(t.state),i}_routeTypeForContext(e){return e instanceof Q.MobileHubNavigationContext||e instanceof Q.ConversationsListNavigationContext?X.RouteType.Hub:e instanceof Q.MobileContentPanelNavigationContext?X.RouteType.Content:e instanceof Q.SearchNavigationContext?X.RouteType.Search:e instanceof Q.ContactsPanelV2NavigationContext?X.RouteType.ContactsPanel:e instanceof Q.QuickCallNavigationContext&&e.state.searchOnly?X.RouteType.Search:X.RouteType.Other}_fetchLatestUserInfoNow(){const e=R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions._fetchLatestUserInfoNow, causeId: "+e),D.default.refreshNow(),he.default.refreshNow(e),me.default.refreshNow(),Y.log(oe.LogTraceArea.Navigation,"User info refresh requested")}_openSplitView(e,t){Y.log(oe.LogTraceArea.Navigation,"NavigationActions._openSplitView rootViewId: "+te.mriOrId(e)+" causeId: "+t);const i={event:{eventId:e,convId:e},reactxp_rootViewId:e},n=h.default.getWindowPreferences(e)||h.default.getDefaultWindowPreferences();let o;_.isMri(e)&&(o=de.default.getDisplayName(_.asMri(e)),_.isBookmarkConversation(e)&&(o=Z.getString("BookmarksConversation.BookmarksChatTitle"))),s.default.openSplitView(e,"RootContentView",i,n,o||"",((t,i)=>h.default.storeWindowPreferences(e,t,i)))}_commonNavigateToModal(e,t,i,n,o,s){const a=s||R.default.newCauseId();Y.log(oe.LogTraceArea.Navigation,"NavigationActions."+i+", causeId: "+a),ye.default.performAfterUIStarted((()=>{const i=new e(n);if(pe.default.isUsingStackNavigationContext()){if(Se.default.isOnTopOfNavigationStack(i.stateId))return;o&&o(i,!0),Se.default.navigateToView(i,a)}else o&&o(i,!1),this.navigateToModalContext(i,!1,a,t)}))}}},69413:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showPrivateConversationSafeCode=t.endPrivateConversation=void 0;const n=i(496486),o=i(219784),s=i(671830),a=i(667121),r=i(746096),l=i(733754),c=i(624722);t.endPrivateConversation=function(e,t,i){const c=[{text:l.getString("Global.CancelLabel"),isCancel:!0},{text:l.getString("InfoPanel.EndConversationButton"),onPress:()=>{const c=s.asSkypeThreadId(e);a.default.sendReject(c,r.E2EERejectionReason.ConversationEnding).then(i||n.noop,(()=>o.default.showErrorAlert(l.getString("InfoPanel.EndConversationFailed"),t)))},isSubmit:!0}],d=l.getString("InfoPanel.EndConversationDialogTitle"),u=l.getString("InfoPanel.EndConversationDialogBody");o.default.showWithOptions({title:d,dialogAccessibilityTitle:u,message:u,buttons:c,rootViewId:t})},t.showPrivateConversationSafeCode=function(e,t){c.default.showForConversationId(e,t)}},475463:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.redirectToLogin=t.redirectToLogout=void 0;const n=i(31615),o=i(898278),s=i(746096),a=i(436237),r=i(104735),l=i(330124),c=i(827357),d=i(583181),u=i(853374),g=i(746096),h=i(921090),p=i(217093),S=i(494109);function m(e,t,i){if(!d.default.isUIDisplayed()){let e;return e=i.state.isRedirectToLogin?S.default.handleRedirectToLogin(i.state.reason,i.state.errorInfo):S.default.handleRedirectToLogout(i.state.reason,i.state.alwaysWipeDb),void e.then((e=>S.default.logoutFinish(e,i.state.isRedirectToLogin)))}d.default.performAfterUIStarted((()=>{l.default.isUsingStackNavigationContext()?r.default.navigateAfterUIStarted((()=>{c.default.navigateToView(i,t),r.default.reduceNavStack([])})):(i.state.reason===g.LogoutReason.AccountSettings&&(r.default.closeGenericDesktopModal(t,e),n.MainWindow.requestFocus()),r.default.navigateToCompositeGroup(t,e,((n,o)=>{const l=[];l.push(r.default.clearModalContext(n,o,e)),l.push(r.default.navigateToMainStageContext(i,!0,n,o)),a.log(s.LogTraceArea.Navigation,"SisuNavigationActions.navigateToFullScreenPanel, setup left navigation, causeId: "+t);const c=r.default.getLeftNavigationContext();if(c){const e=h.defaultLeftNavViewMode(p.MainStageNavViewMode.Sisu,i,!1);l.push(h.setLeftNavViewMode(c,e,o))}return l.push(r.default.clearRightSidebarContext(n,o,e)),l})))}))}t.redirectToLogout=function(e,t,i,n=o.MainRootViewId){const r=u.default.newCauseId();a.log(s.LogTraceArea.Navigation,"SisuNavigationActions.redirectToLogout",r),m(n,r,new p.RedirectToLogoutNavigationContext({reason:e,alwaysWipeDb:t,shouldRememberAccount:i,isRedirectToLogin:!1}))},t.redirectToLogin=function(e,t){const i=u.default.newCauseId();a.log(s.LogTraceArea.Navigation,"SisuNavigationActions.redirectToLogin, causeId: "+i),m(o.MainRootViewId,i,new p.RedirectToLogoutNavigationContext({reason:e,errorInfo:t,isRedirectToLogin:!0}))}},220350:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(662783),o=i(397691),s=i(829518),a=i(889391),r=i(422801),l=i(746096),c=i(436237),d=i(654565),u=i(666765),g=i(422538),h=i(912770),p=i(449682),S=i(18078);class m{constructor(e,t,i,o){this._name=e,this._setActiveEndpoint=t,this._isConnected=i,this._isEnabled=o,this._exponentialTime=new n.ExponentialTime(1e3,3e5)}_report(){var e;this._retryTimer&&(h.default.clearTimeout(this._retryTimer),this._retryTimer=void 0);const t=u.default.getEndpointId();if(t&&this._shouldReport()){const i=s.default.isActive();if(i||(null===(e=s.default.getLastUpdatedInfo(this._name))||void 0===e?void 0:e.active)){let e;e=i?s.AETimeoutInSeconds:a.default.getConfigSettingsNoSubscription().endpointPresence.inactiveDelay/1e3,c.log(l.LogTraceArea.ActiveEndpointService,`[${this._name}] Endpoint is ${i?"":"not "}active, setting timeout to ${e}`),s.default.setLastUpdatedInfo(this._name,{active:i,timestamp:Date.now()}),this._setActiveEndpoint(t,i,e).then((()=>{this._exponentialTime.reset()}),(e=>{this._retryTimer=h.default.setTimeout((()=>this._report()),this._exponentialTime.getTimeAndCalculateNext())}))}else c.log(l.LogTraceArea.ActiveEndpointService,`[${this._name}] Endpoint was already set to inactive before`)}}reportIfNeeded(e=!1){this._reportIsActive()?!this._isConnected()||this._aeTimer&&!e||(this._report(),this._aeTimer&&h.default.clearInterval(this._aeTimer),this._aeTimer=h.default.setInterval((()=>{this._report()}),1e3*s.AETimerDurationInSeconds)):this._aeTimer&&(h.default.clearInterval(this._aeTimer),this._aeTimer=void 0,this._report())}_reportIsActive(){return s.default.isActive()&&!!u.default.getEndpointId()}_shouldReport(){return this._isEnabled()&&(this._isConnected()||!s.default.isActive())}}t.default=new class{constructor(){this._activityReporters=[new m("ChatService",((e,t,i)=>r.default.serviceSetActiveEndpointTimeout(e,i)),(()=>r.default.isConnected()),(()=>a.default.getConfigSettingsNoSubscription().presence.enableLegacyPresence)),new m("UPS",((e,t,i)=>t&&!S.default.isGuestUser()?d.default.upsSetActiveEndpointTimeout(e,t):o.Resolved()),(()=>!0),(()=>a.default.getConfigSettingsNoSubscription().presence.enableUpsPresence&&!a.default.getConfigSettingsNoSubscription().endpointPresence.trouterUserStatusEnabled)),new m("Trouter",((e,t,i)=>t&&!S.default.isGuestUser()?p.default.setUserActivityState(e,t):o.Resolved()),(()=>p.default.isConnected()),(()=>a.default.getConfigSettingsNoSubscription().endpointPresence.trouterUserStatusEnabled))],g.RegisterStartupable(this,"ActiveEndpointService",[s.default,r.default,d.default,p.default])}startup(){return u.default.endpointInfoChanged.subscribe(((e,t)=>{e.id!==t.id&&this._reportEndpointActivityIfNeeded()})),s.default.subscribe((()=>{this._reportEndpointActivityIfNeeded()})),a.default.subscribe((()=>{this._reportEndpointActivityIfNeeded()})),r.default.reconnected.subscribe((()=>{this._reportEndpointActivityIfNeeded(!0)})),this._reportEndpointActivityIfNeeded(),o.Resolved()}_reportEndpointActivityIfNeeded(e=!1){for(const t of this._activityReporters)t.reportIfNeeded(e)}}},964376:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(162373),o=i(397691),s=(i(1656),i(746096)),a=i(657347),r=i(436237),l=i(422538),c=(i(404057),i(640363)),d=i(178735);t.default=new class{constructor(){this._running=!1,l.RegisterStartupable(this,"AppCenterService")}startup(){return c.default.getAppCenterSecret()?(n.default.configure({applicationSecret:c.default.getAppCenterSecret(),attachLogsToCrash:!1,detectAppNotTerminatingCleanly:!1}),n.default.start(),this._running=!0):r.error(s.LogTraceArea.AppCenter,"Skipping - no AppCenter secret provided"),this.checkForUpdates(),a.default.queueIdleTask("AppCenter configureAttachment",a.TaskTypeFlags.CpuIntensive,(()=>n.default.configureAttachment(d.default.shouldSendOptionalTelemetryData()))),o.Resolved()}onSkypeId(e){}checkForUpdates(){r.log(s.LogTraceArea.AppCenter,"Ignoring check for updates - PUBLIC build")}addCrashMetaData(e){n.default.addCrashMetadata(e)}}},278819:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OnMetricsUpdated=void 0;const n=i(583367),o=i(974634),s=i(397691),a=i(889391),r=i(422538),l=i(912770);t.OnMetricsUpdated=new o.default;t.default=new class{constructor(){this._updatePerformanceMetrics=()=>s.all([n.default.getSystemUsage(),n.default.getAppMetrics()]).then((e=>{const[i,n]=e;this._metrics={systemUsageInfo:i,gpu:n?n.find((e=>"GPU"===e.type)):void 0,renderer:n?n.find((e=>"Tab"===e.type)):void 0},t.OnMetricsUpdated.fire()})),r.RegisterStartupable(this,"AppMetricsService")}startup(){return this._updatePerformanceMetrics(),s.Resolved()}startTrackingPerformance(){if(!this._refreshSystemInfoIntervalToken){const e=a.default.getS4LCMCFeatures().perfomanceTelemetryTimeoutInterval;this._refreshSystemInfoIntervalToken=l.default.setInterval(this._updatePerformanceMetrics,e),this._updatePerformanceMetrics()}}stopTrackingPerformance(){this._refreshSystemInfoIntervalToken&&(l.default.clearInterval(this._refreshSystemInfoIntervalToken),this._refreshSystemInfoIntervalToken=void 0)}getPerformanceMetrics(){return this._metrics}isTracking(){return!!this._refreshSystemInfoIntervalToken}}},619731:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(662783),o=i(397691),s=i(440276),a=i(172685),r=i(104735),l=i(350325),c=i(422538),d=i(640363),u=i(912770);t.default=new class{constructor(){this._checkVersion=()=>new n.GenericRestClient(d.default.getFrontendBaseUrl()+"/version").performApiGet("").then((e=>{e&&e.AppVersion!==d.default.getAppVersion()&&(r.default.forceRefreshOnNextNavigation(),u.default.setTimeout((()=>{l.reloadApp("app-needs-to-be-updated")}),6e5+3e5*s.random()))})),c.RegisterStartupable(this,"AppUpdateService",[a.default])}startup(){return a.default.setRefreshOptions("AppUpdateService",{interval:18e5,callback:this._checkVersion,taskTypeFlags:a.TaskTypeFlags.UsesNetworking}),o.Resolved()}}},544135:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Test_CheckUrlRequest=void 0;const n=i(174958),o=i(496486),s=i(626674),a=i(662783),r=i(397691),l=i(889391),c=i(746096),d=i(653700),u=i(970004),g=i(436237),h=i(998754),p=i(368645),S=i(422538),m=i(404057),C=i(61967),y=i(842987),f=i(853374);var b;!function(e){e.supportsUrlRequest=function(e){return!!e.downloadToUri}}(b||(b={})),t.Test_CheckUrlRequest=b,t.default=new class{constructor(){this._deferredTransferQueue=[],S.RegisterStartupable(this,"BackgroundTransferService",[h.default,d.default,p.default,C.default])}startup(){return this._transfers={},this._webRequests={},this._subscribers={},this._progressSubscribers={},this._cachedProgressForTransfer={},this._transferResponseQueueSubscription&&(this._transferResponseQueueSubscription.unsubscribe(),this._transferResponseQueueSubscription=void 0),p.default.subscribe(y.BackgroundTransferActionType,((e,t)=>{const i=f.default.newCauseId();g.log(c.LogTraceArea.BackgroundTransferService,"start transfer(s), restored from db: "+t+", causeId: "+i),o.each(e,(e=>{g.log(c.LogTraceArea.BackgroundTransferService,"Tracking Transfer: "+e.id+": "+e.action+" "+n.pii.Omit(e.url)),e.androidDownloadToPublicFolderWithName&&(e.downloadToPublicFolderWithName=e.androidDownloadToPublicFolderWithName),e.downloadToPublicFolderWithName&&(e.downloadToPublicFolder=!0,e.filename=e.downloadToPublicFolderWithName),this._shouldCancelRequestOnRestart(e)?this._cancelTransfer(e,i):(this._transferNeedsRestartAcrossSessions(e)&&(e.started=!1,p.default.updateAction(e)),this._transfers[e.id]=e,this._reportProgress(e.id,0,e.finished,e.finishSuccess),this._checkForNeededWork(e.id))})),t&&(this._transferResponseQueueSubscription||(this._transferResponseQueueSubscription=C.default.event_response.subscribe((()=>{this._handleResponses()}))),this._handleResponses())})),C.default.event_progress.subscribe(((e,t)=>{this._reportProgress(e,t,!1,!1)})),r.Resolved()}test_reset(){this._subscribers={}}test_getDeferredTransferCount(){return this._deferredTransferQueue.length}_handleResponses(){const e=C.default.drainResponseQueue();o.each(e,(e=>{const{id:t,success:i,response:n}=e,o=this._getResponseBody(n.body,n.headers["content-type"]),s=e.success?void 0:e.response.error;this._finishedTransfer(t,i,n.statusCode,void 0,n.headers,o,s)}))}_getResponseBody(e,t){return!t||"json"!==t&&-1===t.indexOf("application/json")?e:m.default.parseJsonWithDefault(e,{})}_shouldCancelRequestOnRestart(e){return e.started&&!!e.downloadToUri}_transferNeedsRestartAcrossSessions(e){return!(!e.started||e.finished)&&(!this._supportsTransfersAcrossSessions(e)||!C.default.wasTransferIdKnownDuringStartup(e.id))}_supportsTransfersAcrossSessions(e){return b.supportsUrlRequest(e)}subscribe(e,t){this._subscribers[e]=t,this._seeIfAnythingNeedsDoing()}startTransfer(e){const t=e;t.started=!1,t.finished=!1;return p.default.persistAndStartAction(y.BackgroundTransferActionType,t).id}_endTransfer(e){delete this._transfers[e],delete this._cachedProgressForTransfer[e],p.default.removeAction(e);const t=this._deferredTransferQueue.shift();t&&t.resolve(void 0)}cancelTransfer(e,t){g.log(c.LogTraceArea.BackgroundTransferService,"Canceling Background Transfer: "+e+", causeId: "+t);const i=this._transfers[e];i&&this._cancelTransfer(i,t)}_cancelTransfer(e,t){if(this._endTransfer(e.id),e.started){b.supportsUrlRequest(e)&&s.default.cancel(e.id);const i=this._webRequests[e.id];i&&(g.log(c.LogTraceArea.BackgroundTransferService,"BTS aborting in-flight webrequest: "+e.id+", causeId: "+t),i.abort(),delete this._webRequests[e.id])}this._reportProgress(e.id,0,!0,!1)}transferIsTracked(e){return!!e&&!!this._transfers[e]}_checkForNeededWork(e){let t=this._transfers[e];if(!t.started){if(b.supportsUrlRequest(t)){const i=o.clone(t.headers);let n;(t.postData||t.postFileUri||t.contentType)&&(n=a.SimpleWebRequest.mapContentType(t.contentType||"json"));const c=a.SimpleWebRequest.mapContentType(t.acceptType||"json"),d=t.postData?a.SimpleWebRequest.mapBody(t.postData,n):void 0;if(!d||o.isString(d)){const a=t.postFileUri?u.FileUploadCacheUtils.getAbsoluteFromLocalCacheUri(t.postFileUri):void 0,g=l.default.getS4LMessagingFeaturesNoSubscription().backgroundTransfersInFlightLimit;let h;if(g&&o.size(this._transfers)>g){const e=r.Defer();h=e.promise(),this._deferredTransferQueue.push(e)}else h=r.Resolved();h.then((()=>{t=this._transfers[e],t&&s.default.send(e,t.action,t.url,{headers:i,acceptType:c,contentType:n,sendFileUri:a,sendData:d,downloadToUri:t.downloadToUri,filename:t.filename,downloadToPublicFolder:t.downloadToPublicFolder,downloadPublicFolderUseSkypeFolder:t.downloadPublicFolderUseSkypeFolder,withCredentials:t.withCredentials,timeout:t.timeout||void 0,progressTimeout:t.progressTimeout,resumable:t.resumable,resumableUploadStatusUrl:t.resumableUploadStatusUrl,resumableAttemptsSoFar:t.resumableAttemptsSoFar,quarantineDownloadedFile:l.default.getS4LNativePlatformsEcsConfigNoSubscription().enableMacOSQuarantineFlagForDownloadedFiles})})),t.started=!0}}if(!t.started){t.headers,t.postFileUri;{const i={overrideGetHeaders:t.headers,acceptType:t.acceptType,contentType:t.contentType,sendData:t.postData,onProgress:t=>{this._reportProgress(e,t.total?t.loaded/t.total:0,!1,!1)},priority:t.priority,timeout:t.timeout,withCredentials:!!t.withCredentials},n=new a.SimpleWebRequest(t.action,t.url,i);this._webRequests[e]=n,n.start().then((t=>{this._finishedTransfer(e,!0,t.statusCode,t.statusText,t.headers,t.body)}),(t=>{this._finishedTransfer(e,!1,t.statusCode,t.statusText,t.headers,t.body,t.timedOut?"Timeout":t.canceled?"Canceled":void 0)}))}}t.started=!0,p.default.updateAction(t)}if(!t.finished)return;const i=this._subscribers[t.subscriberType];if(i){const n={body:t.responseData,headers:t.responseHeaders||{},method:t.action,statusCode:t.statusCode||0,statusText:t.statusText||"",url:t.url,errorInfo:t.errorInfo};i(e,t.context,!!t.finishSuccess,n,t.headers||{},t.subscriberType),this._endTransfer(t.id)}}_seeIfAnythingNeedsDoing(){const e=o.keys(this._transfers);o.each(e,(e=>{this._checkForNeededWork(e)}))}_finishedTransfer(e,t,i,o,s,a,r){delete this._webRequests[e];const l=this._transfers[e];g.log(c.LogTraceArea.BackgroundTransferService,"Transfer Completed: "+e+", Worked: "+t+", StatusCode: "+i+", StatusText: "+o+", known: "+!!l+(r?", Failure: "+n.pii.Omit(r):"")),l&&(l.finished=!0,l.finishSuccess=t,l.statusCode=i,l.statusText=o,l.responseHeaders=s,l.responseData=a,l.errorInfo=r,p.default.updateAction(l),this._reportProgress(e,t?1:0,!0,t),this._checkForNeededWork(e))}subscribeToProgress(e,t){this._progressSubscribers[e]?this._progressSubscribers[e].push(t):this._progressSubscribers[e]=[t]}unsubscribeFromProgress(e,t){o.pull(this._progressSubscribers[e],t),0===this._progressSubscribers[e].length&&delete this._progressSubscribers[e]}getProgress(e){return this._cachedProgressForTransfer[e]}_reportProgress(e,t,i,n){const s={progress:t,finished:i,success:!!n},a=!!this._transfers[e];if(a&&(this._cachedProgressForTransfer[e]=s,!this._progressSubscribers[e]))return;g.log(c.LogTraceArea.BackgroundTransferServiceDebug,"Progress report: "+e+", progress: "+t.toFixed(4)+", finished: "+i+", success: "+n+", known: "+a);const r=o.clone(this._progressSubscribers[e]);o.each(r,(t=>t(e,s)))}}},14221:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(397691),s=i(476621),a=i(671830),r=i(539549),l=i(746096),c=i(436237),d=i(494109),u=i(18078),g=i(104735),h=i(217093),p=i(330124),S=i(827357),m=i(914976),C=i(316392),y=i(422538),f=i(853374);t.default=new class{constructor(){y.RegisterStartupable(this,"CheckForValidNavigationStateService",[s.default,r.default])}startup(){return(0,r.default)().subscribe((()=>this._checkState("ConversationsStore"))),s.default.messagesProcessed.subscribe((()=>this._checkState("ChatServiceDataService"))),this._checkState("startup"),o.Resolved()}_checkState(e){n.defer((()=>{let t;const i=p.default.isUsingStackNavigationContext(),n=i?C.StackNavigatorId.Mobile:C.StackNavigatorId.DesktopContent;let o=!1;const s=S.default.getCurrentNavigationStackRoute(n);if((null==s?void 0:s.name)===h.CallNavigationId){t=(null==s?void 0:s.params).initialConversationMri,o=a.isPhoneMri(t)}else if((null==s?void 0:s.name)===h.ConversationNavigationId){t=(null==s?void 0:s.params).conversationId}if(t&&!o&&!(0,r.default)().ableToViewConversation(t)){const n=f.default.newCauseId();c.log(l.LogTraceArea.Navigation,"CheckForValidNavigationStateService._checkState not able to view currentConversationId: "+m.mriOrId(t)+" reason: "+e+" causeId: "+n),u.default.isGuestUser()?d.default.redirectToLogout(l.LogoutReason.GuestSessionEnded):i?g.default.navigateToRecentsTab():g.default.navigateToWelcomeScreen(n)}}))}}},357569:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FailureReason=void 0;const n=i(496486),o=i(662783),s=i(889391),a=i(544135),r=i(436237),l=i(994214);var c;!function(e){e[e.None=0]="None",e[e.MaxRetriesExceeded=1]="MaxRetriesExceeded",e[e.MaxElapsedTimeExceeded=2]="MaxElapsedTimeExceeded",e[e.Permanent=3]="Permanent"}(c=t.FailureReason||(t.FailureReason={}));class d{constructor(e,t){this._transferTypes=e,this._logTraceArea=t,this._retryInfo={}}_getRetryInfo(e,t){return this._retryInfo[e+t]}_setRetryInfo(e,t,i){this._retryInfo[e+t]=i}_resetBackoffs(e){n.each(this._retryInfo,(e=>{e.exponentialTime.reset(),e.nextAttempt=Date.now()-1}))}_makeExponentialTime(e,t){return new o.ExponentialTime(1e3,3e5)}_cleanupRetryInfo(e){n.each(this._transferTypes,(t=>{delete this._retryInfo[e+t]}))}_createTrackedBackgroundTransfer(e,t){return{id:e,finished:!1,finishedAttemptsSoFarCount:t?t.finishedAttemptsSoFarCount:0,failureReason:c.None}}static redoTransfer(e){e&&(e.id=void 0,e.finished=!1,e.success=void 0,e.failureReason=c.None)}static isTransferLost(e){return!(!e||e.finished)&&!(!e.id||a.default.transferIsTracked(e.id))}static isTransferPermanentFailure(e){return!(!e||e.failureReason!==c.Permanent)}_isTransferCompletedSuccessfully(e){return!!e&&e.finished&&!!e.success}_isTransferReadyToStart(e,t,i,n){if(n&&!l.default.hasUsableSkypeToken())return r.log(this._logTraceArea,"Waiting on "+i+" due to missing skype token: "+e),!1;if(!t||!t.id)return!0;if(t.finished&&!t.success&&!d.isTransferPermanentFailure(t)){const t=this._getRetryInfo(e,i);if(!t||t.nextAttempt<=Date.now())return!0}return!1}_isTransferCompletedWithoutSuccess(e,t,i){return!(!t||!t.finished||t.success)&&t.failureReason!==c.None}_handleTransferFinished(e,t,i,o,a,l,u){const g={transfer:t};t.finished=!0;const h=s.default.getS4LCMCFeatures().retryPolicy;(0!==u.statusCode||h.countLocalNetworkFailures)&&t.finishedAttemptsSoFarCount++,t.success=o;const p=this._getMaxRetries(e,i),S=this._getMaxTransferTime(e,i);if(a?t.failureReason=c.Permanent:l>S?t.failureReason=c.MaxElapsedTimeExceeded:t.finishedAttemptsSoFarCount>=p?t.failureReason=c.MaxRetriesExceeded:t.failureReason=c.None,g.canRetry=t.failureReason===c.None,o||!g.canRetry)return g;if(g.retryInfo=this._getRetryInfo(e,i),r.log(this._logTraceArea,"TransferFinished failure, transferId: "+t.id+", failureReason: "+c[t.failureReason]+", RetryInfo:"+JSON.stringify(g.retryInfo)),d.isTransferPermanentFailure(t))return g;if(g.retryInfo){let e=0;if(u.headers["Retry-After"]){const t=Number(u.headers["Retry-After"]);t&&n.isFinite(t)&&(e=1e3*t)}const t=g.retryInfo.exponentialTime.getTime();e<t&&(e=t,g.retryInfo.exponentialTime.calculateNext()),g.retryInfo.nextAttempt=Date.now()+e}else{const t=this._makeExponentialTime(e,i);g.retryInfo={exponentialTime:t,nextAttempt:Date.now()+t.getTimeAndCalculateNext()}}return this._setRetryInfo(e,i,g.retryInfo),g}static isPermanentFailure(e){if(n.includes([400,404,410,413,414,415],e.statusCode))return!0;if(!n.isString(e.errorInfo))return!1;const t=e.errorInfo.toLowerCase();return-1!==t.indexOf("failed to create file on local system")||0===e.statusCode&&(-1!==t.indexOf("no such file")||-1!==t.indexOf("file does not exist"))}static migrateTransfer(e){e&&e.permanentFailure&&(e.failureReason=c.Permanent)}}t.default=d},548977:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691),o=i(436237),s=i(121778),a=i(422538),r=i(899686);t.default=new class{constructor(){a.RegisterStartupable(this,"CurrentUserActivityTelemetryService")}startup(){return r.default.onPresenceChange.subscribe((e=>{if(e){const e=new s.AppLifeCycleEvent(s.LifeCycle.Focus);o.track(e)}else{const e=new s.AppLifeCycleEvent(s.LifeCycle.Blur,Date.now(),r.default.getCurrentUserActiveDwellTime());o.track(e)}})),n.Resolved()}}},184469:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(397691),s=i(889391),a=i(562141),r=i(461294),l=i(746096),c=i(436237),d=i(998754),u=i(422538);t.default=new class{constructor(){u.RegisterStartupable(this,"DevConfigService",[d.default])}startup(){return this._overrides=d.default.getDataExclusive(a.InternalKeys.LocalOverriddenEcsConfig),void 0!==this._overrides&&this._updateStore(this._overrides),o.Resolved()}getOverrides(){return this._overrides||{}}setOverride(e,t,i){const o={};n.set(o,t,i);const s=r.mergeConfigs(this.getOverrides(),{[e]:o});return this._saveConfig(s)}clearOverride(e,t){let i=!1;const s=n.cloneDeep(this.getOverrides()),a=n.concat([e],t);for(;n.unset(s,a)&&(i=!0,a.pop(),!n.isEmpty(a)&&n.isEmpty(n.get(s,a))););return i?this._saveConfig(s):o.Resolved()}resetAllOverrides(){return this._saveConfig({})}_saveConfig(e){return this._overrides=e,d.default.putData(a.InternalKeys.LocalOverriddenEcsConfig,e).then((()=>{this._updateStore(e)}))}_updateStore(e){c.log(l.LogTraceArea.GenericUnsafe,"Updating app config with dev settings"),s.default.internal_setOverrides(e)}}},96491:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(421832),s=i(397691),a=i(889391),r=i(562141),l=i(746096),c=i(436237),d=i(998754),u=i(178735),g=i(422538),h=i(640363);t.default=new class{constructor(){this._cache={},this._initialized=!1,g.RegisterStartupable(this,"EcsParamCache",[d.default,u.default])}startup(){return a.default.getConfigSettingsNoSubscription().calling.disableEcsParamCache||(this._cache=d.default.getData(r.InternalKeys.EcsParamCache)||{},c.log(l.LogTraceArea.GenericUnsafe,n.isEmpty(this._cache)?"No cached ECS parameters found.":"Loaded cached ECS parameters for version "+this._cache.appVersion)),this._fetchEcsParamsIfNeeded().then((()=>{if(this._initialized=!0,this._waitingForCallingParams){const e=this._waitingForCallingParams;this._waitingForCallingParams=void 0,e.resolve(void 0)}})),s.Resolved()}_fetchEcsParamsIfNeeded(){return this.needNewParams()?(c.log(l.LogTraceArea.GenericUnsafe,"Cached ECS parameters are stale, waiting for calling to start..."),this._fetchEcsCallingParams()):s.Resolved(void 0)}_fetchEcsCallingParams(){return o.default.getEcsQueryParameters().then((e=>{this._cache={appVersion:h.default.getAppVersion(),callingParams:e},c.log(l.LogTraceArea.GenericUnsafe,"Caching ECS parameters for version "+this._cache.appVersion),d.default.putData(r.InternalKeys.EcsParamCache,this._cache)}))}isInitialized(){return this._initialized}needNewParams(){return!!n.isEmpty(this._cache)||this._cache.appVersion!==h.default.getAppVersion()}getParamsWhenAvailable(){return this._initialized?s.Resolved(this._cache.callingParams):(this._waitingForCallingParams||(this._waitingForCallingParams=s.Defer()),this._waitingForCallingParams.promise().then((()=>this._cache.callingParams)))}test_getCachedEcsParams(){return this._cache.callingParams}test_reset(){this._initialized=!1,this._cache={},this._waitingForCallingParams=void 0}}},909682:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EcsService=void 0;const n=i(974395),o=i(496486),s=i(516778),a=i(397691),r=i(300060),l=i(889391),c=i(562141),d=i(1656),u=i(164935),g=i(956280),h=i(96491),p=i(746096),S=i(436237),m=i(998754),C=i(733754),y=i(306819),f=i(583181),b=i(422538),_=i(404057),v=i(640363),T=i(235478),P=i(912770),k=i(994214),A=i(667024),I=i(818882);class w{constructor(){this._ecsClient=new n.default,this._isPaused=!0,this._isEnabled=!1,this._wipedDefault=!1,this._wipedUser=!1,this._updateState=()=>{const{tracing:e,tracing2:t,tracing3:i,tracing4:n,tracing5:o,tracing6:s,tracing7:a,tracing8:r,tracing9:c,localeHint:d,unsafeTraceAreas:u,pii:g}=l.default.getS4LFeatures(),{telemetrySampling:h,perfTelemetrySampling:p}=l.default.getS4LTelemetryFeatures(),{responsivenessScenarioSampling:m}=l.default.getS4LCMCFeatures(),C=!this._loggedIn;T.default.setTelemetryConfig(l.default.getTelemetryFeatures(),l.default.getCachedEcsConfigEtag(),l.default.getCachedEcsConfigExpiration(),C,h,p,l.default.getNRTMapping()),S.setEcsOptions([e,t,i,n,o,s,a,r,c],u),S.setShouldFindPotentialPii(g.findPotentialPii),(0,A.setSampledScenarios)(m),this._ecsClient.setFetchTimeout(l.default.getConfigSettingsNoSubscription().ecs.fetchTimeout),this._checkPauseStatus()},this._getEcsParameters=()=>this._getSlimcoreParameters().then((e=>{const t=_.default.parseJsonWithDefault(e,{});let i;return i=v.default.getOSVersion(),this._setParameterIfUndefined(t,"OSVer",i),this._setParameterIfUndefined(t,"ClientID",v.default.getDeviceId()),this._setParameterIfUndefined(t,"Manufacturer",v.default.getSystemManufacturer()),this._setParameterIfUndefined(t,"Model",v.default.getSystemModel()),this._setParameterIfUndefined(t,"Chipset",v.default.getChipset()),this._setParameterIfUndefined(t,"CPUCount",v.default.getCPUCount()),this._setParameterIfUndefined(t,"CPUSpeedMHz",v.default.getCPUSpeedMhz()),this._setParameterIfUndefined(t,"Language",C.getLanguageFromLocale()),this._setParameterIfUndefined(t,"Locale",C.getLocale()),this._setParameterIfUndefined(t,"NetworkMCCCode",y.default.getMccCode()),this._setParameterIfUndefined(t,"NetworkMNCCode",y.default.getMncCode()),l.default.getS4LFeaturesNoSubscription().enableECSScoping&&this._setParameterIfUndefined(t,"agents",g.ECSResponseConfigIdKeys.join(",")),S.log(p.LogTraceArea.GenericUnsafe,"ECS - fetching parameters:"+JSON.stringify(t)),t}))}initializePreUserContext(){const e=l.default.getConfigSettingsNoSubscription().ecs,t={hosts:e.hosts,fetchTimeout:e.fetchTimeout,clientName:"Skype",clientVersion:v.default.getSkypePlatformId()+"_"+v.default.getAppVersion()+(v.default.getPreInstallPartnerId()?"_"+v.default.getPreInstallPartnerId():""),configsToFetch:[n.Models.EcsConfigType.Default],getEcsParameters:this._getEcsParameters,initialAppActiveState:this._isAppActive(s.App.getActivationState()),initialSkypeTokenData:void 0,databaseInterface:{putData:(e,t)=>e===n.Models.EcsConfigType.User?b.EnsureStartedExclusive([m.default]).then((()=>m.default.putData(c.InternalKeys.EcsConfig,t))):e===n.Models.EcsConfigType.Default?I.LocalStorage.setItem(I.StorageKeys.EcsDefaultConfig,JSON.stringify(t)):a.Rejected("Unknown ECS Config Type"),getData:e=>e===n.Models.EcsConfigType.User?b.EnsureStartedExclusive([d.default,m.default]).then((()=>!this._wipedUser&&d.default.didLastLaunchCrash()?(this._wipedUser=!0,m.default.deleteKeys([c.InternalKeys.EcsConfig]).then((()=>{}))):a.Resolved(m.default.getData(c.InternalKeys.EcsConfig)))):e===n.Models.EcsConfigType.Default?b.EnsureStartedExclusive([d.default]).then((()=>!this._wipedDefault&&d.default.didLastLaunchCrash()?(this._wipedDefault=!0,I.LocalStorage.removeItem(I.StorageKeys.EcsDefaultConfig).then((()=>{}))):I.LocalStorage.getItem(I.StorageKeys.EcsDefaultConfig).then((e=>_.default.parseJsonErrorToUndefined(e))))):a.Rejected("Unknown ECS Config Type")}};this._ecsClient.pause(),this._ecsClient.telemetryEventAdded.subscribe(((e,t)=>{S.track(new u.EcsTelemetryEvent(e,t))})),r.default.subscribeForChanges("EcsService",(e=>{this._ecsClient.setAppActive(this._isAppActive(e))})),f.default.subscribe((()=>this._checkPauseStatus()),f.TriggerKeys.CallingStatusKey),this._preContextInitializePromise=this._ecsClient.initialize(t).then((()=>{l.default.useCachedEcsConfig(this._ecsClient.getConfig()),l.default.subscribe(this._updateState),this._updateState(),this._ecsClient.configUpdated.subscribe((()=>{l.default.useCachedEcsConfig(this._ecsClient.getConfig())})),this._ecsClient.setConfigsToFetch([n.Models.EcsConfigType.Default])}))}initializeWithUserContext(){return this._preContextInitializePromise.then((()=>(this._loggedIn=!0,this._updateState(),this._ecsClient.setConfigsToFetch([n.Models.EcsConfigType.Default,n.Models.EcsConfigType.User]).then((()=>{b.EnsureStarted(k.default).then((()=>{const e=()=>{const e=k.default.getSkypeToken();e?this._ecsClient.useSkypeToken(e.rawToken,e.expiration):this._ecsClient.useSkypeToken(void 0,0)};k.default.subscribe(e,k.TriggerKeys.SkypeTokenKey),e(),P.default.setTimeout((()=>{this._isEnabled=!0,this._checkPauseStatus()}),1e3)}))})))))}_getSlimcoreParameters(){return this._loggedIn?b.EnsureStarted(h.default).then((()=>h.default.getParamsWhenAvailable())):a.Resolved(void 0)}_setParameterIfUndefined(e,t,i){void 0===e[t]&&(o.isNumber(i)||o.isString(i))&&(e[t]=i)}_checkPauseStatus(){const e=!this._isEnabled||this._shouldThrottleEcsClient();e!==this._isPaused&&(e?this._ecsClient.pause():this._ecsClient.resume(),this._isPaused=e)}_shouldThrottleEcsClient(){return!!l.default.getS4LFeatures().scheduler.enableEcsServiceThrottling&&f.default.isInCall()}_isAppActive(e){return!!l.default.getConfigSettingsNoSubscription().ecs.ignoreActivationState||e===s.Types.AppActivationState.Active}requestUpdate(){this._ecsClient.requestUpdate()}resume(){this._isEnabled=!0,this._checkPauseStatus()}setAllowBackgroundFetch(e){this._ecsClient.setAllowBackgroundFetch(e)}test_reset(){this._loggedIn=!1,this._isPaused=!0,this._isEnabled=!1,this._wipedDefault=!1,this._wipedUser=!1,this._preContextInitializePromise=void 0}}t.EcsService=w;const x=new w;t.default=x},960436:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691),o=i(889391),s=i(657347),a=i(172685),r=i(861253),l=i(422538),c=i(640363),d=i(912770),u="NetworkFootprint",g=a.TaskTypeFlags.UsesNetworking;t.default=new class{constructor(){this._footprintServiceIntervalInMinutes=0,this._monitorId="S4LW",this._configUrls=[],this.schedulePostingJob=()=>{const e=o.default.getS4LCMCFeatures().footprintServiceIntervalInMinutes,t=o.default.getS4LCMCFeatures().footprintServiceConfigUrls;let i=!1;if(e!==this._footprintServiceIntervalInMinutes&&(this._footprintServiceIntervalInMinutes=e,i=!0),(0,r.default)(this._configUrls,t)||(this._configUrls=t.slice(),i=!0),i&&(this._stopScheduledJob(),this._footprintServiceIntervalInMinutes>0&&this._configUrls.length>0)){const e=60*this._footprintServiceIntervalInMinutes*1e3;this._serviceTimer=d.default.setInterval((()=>this._postNetworkFootprintTelemetry()),e)}return n.Resolved()},l.RegisterStartupable(this,"FootprintService",[])}startup(){return s.default.queueIdleTask(u,g,this.schedulePostingJob),o.default.subscribe((()=>{s.default.queueIdleTask(u,g,this.schedulePostingJob)})),n.Resolved()}dispose(){this._stopScheduledJob(),this._footprintServiceIntervalInMinutes=0}_postNetworkFootprintTelemetry(){const e=[{TenantId:c.default.getFootprintTenantId()}],t=[...this._configUrls];Footprint.start(this._monitorId,t,1,JSON.stringify(e),"")}_stopScheduledJob(){this._serviceTimer&&(d.default.clearInterval(this._serviceTimer),this._serviceTimer=void 0)}}},657347:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(617379);n.__exportStar(i(617379),t),t.default=o.default},172685:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Test_InfoRefreshService=t.TaskTypeFlags=void 0;const n=i(496486),o=i(662783),s=i(397691),a=i(562141),r=i(746096),l=i(657347);Object.defineProperty(t,"TaskTypeFlags",{enumerable:!0,get:function(){return l.TaskTypeFlags}});const c=i(436237),d=i(998754),u=i(583181),g=i(422538),h=i(912770);class p{constructor(e=!1){this._test_allowTimerUpdates=e,this._refreshers={},this._dbOnlyRefreshers={},this._isReadyForRefreshes=!1,this._loadedCache=!1,this._recalcNextUpdate=()=>{this._recalcNextUpdateInternal()},this._recalcNextUpdateInternal=()=>{if(!this._loadedCache||!this._isReadyForRefreshes)return;this._timer&&(h.default.clearExpiration(this._timer),this._timer=void 0);const e=Date.now();let t;n.each(this._refreshers,((i,n)=>{if(!i.callback)return;if(!i.interval&&!i.nextExecution)return;if(i.currentlyRunning)return;let o=i.nextExecution||(i.lastRefresh||0)+(i.interval||0);if(o<=e){if(c.log(r.LogTraceArea.GenericUnsafe,`InfoRefreshService: firing [${n}] [nextExecution=${i.nextExecution}][lastRefresh=${i.lastRefresh}] [interval=${i.interval}]`),this._performCallback(i,n),i.currentlyRunning)return;o=i.nextExecution||(i.lastRefresh||0)+(i.interval||0)}(!t||o<t)&&(t=o)})),t&&(this._timer=h.default.setExpiration(this._recalcNextUpdate,t))},g.RegisterStartupable(this,"InfoRefreshService",[d.default])}startup(){const e=d.default.getData(a.InternalKeys.InfoRefreshServiceCache);return n.each(e,((e,t)=>{this._refreshers[t]?this._refreshers[t].lastRefresh=e:this._dbOnlyRefreshers[t]=e})),u.default.performAfterUIStarted((()=>{this._isReadyForRefreshes=!0,this._recalcNextUpdate()})),this._loadedCache=!0,s.Resolved()}setRefreshOptions(e,t){this._refreshers[e]?n.extend(this._refreshers[e],t):(this._refreshers[e]=n.clone(t),e in this._dbOnlyRefreshers&&(this._refreshers[e].lastRefresh=this._dbOnlyRefreshers[e],delete this._dbOnlyRefreshers[e])),this._recalcNextUpdate()}clearRefresher(e){delete this._refreshers[e],delete this._dbOnlyRefreshers[e]}fireEarly(e){this._fireEarlyInternal(e)}_fireEarlyInternal(e){const t=this._refreshers[e];t&&!t.currentlyRunning&&(c.log(r.LogTraceArea.GenericUnsafe,`InfoRefreshService: fireEarly [${e}]`),this._performCallback(t,e))}fireAllEarly(){n.each(this._refreshers,((e,t)=>{e.callback&&this.fireEarly(t)}))}_performCallback(e,t){e.callback,e.currentlyRunning=!0;const i=()=>{s.Resolved().then((()=>{const t=e.failureBackoff?1+e.failureBackoff.getIncrementCount():0;return e.callback(t)})).finally((()=>{e.currentlyRunning=!1})).then((()=>{e.failureBackoff=void 0,e.nextExecution=void 0,e.lastRefresh=Date.now(),this._saveCache()}),(()=>{e.failureBackoff?e.failureBackoff.calculateNext():e.failureBackoff=new o.ExponentialTime(5e3,18e5),e.nextExecution=Date.now()+e.failureBackoff.getTime()})).finally((()=>{this._recalcNextUpdate()}))};e.taskTypeFlags?l.default.queueIdleTask("InfoRefreshService Task ["+t+"]",e.taskTypeFlags,i):i()}_saveCache(){const e=n.mapValues(this._refreshers,(e=>e.lastRefresh||0));n.each(this._dbOnlyRefreshers,((t,i)=>{e[i]=t})),d.default.putData(a.InternalKeys.InfoRefreshServiceCache,e)}}t.Test_InfoRefreshService=p,t.default=new p},20022:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Test_AppLifecycle=t.LifecycleEventType=void 0;const n=i(496486),o=i(583367),s=i(397691),a=i(175209),r=i(310167),l=i(366355),c=i(436237),d=i(853374);var u;!function(e){e.ON_EXIT="onExit",e.ON_RESUME="onResume",e.ON_SUSPEND="onSuspend",e.ON_SYSTEM_IDLE_CHANGE="onSystemIdleChange"}(u=t.LifecycleEventType||(t.LifecycleEventType={}));class g{constructor(e){this._acknowledgeCallbacks=e,this._onSuspendQueue=[],this._onResumeQueue=[],this._onExitQueue=[],this._onSystemIdleChangeQueue=[],this._onResume=e=>{c.log(l.LogTraceArea.Lifecycle,"LifecycleService._onResume, causeId: "+e);const t=n.clone(this._onResumeQueue).map((t=>t(e)));this._processPromises(t,u.ON_RESUME,e)},this._onSuspend=e=>{c.log(l.LogTraceArea.Lifecycle,"LifecycleService._onSuspend, causeId: "+e);const t=n.clone(this._onSuspendQueue).map((t=>t(e)));this._processPromises(t,u.ON_SUSPEND,e)},this._onExit=e=>{c.log(l.LogTraceArea.Lifecycle,"LifecycleService._onExit, causeId: "+e);const t=n.clone(this._onExitQueue).map((t=>t(e)));this._processPromises(t,u.ON_EXIT,e)},this._onSystemIdleChange=(e,t)=>{c.log(l.LogTraceArea.Lifecycle,"LifecycleService._onSystemIdleChange, causeId: "+e);const i=n.clone(this._onSystemIdleChangeQueue).map((i=>i(e,t)));this._processPromises(i,u.ON_SYSTEM_IDLE_CHANGE,e)}}_processPromises(e,t,i){c.log(l.LogTraceArea.Lifecycle,"LifecycleService._processPromises, causeId: "+i);const n=this._acknowledgeCallbacks[t];(0,a.wrapWithCauseId)((()=>s.all(e)),l.LogTraceArea.Lifecycle,t,i).always(n)}registerEvents(e,t,i,n){e&&e.subscribe(this._onExit),t&&t.subscribe(this._onResume),i&&i.subscribe(this._onSuspend),n&&n.subscribe(this._onSystemIdleChange)}addObserver(e,t){switch(c.log(l.LogTraceArea.Lifecycle,`Add ${e} observer`),e){case u.ON_EXIT:this._onExitQueue.push(t);break;case u.ON_RESUME:this._onResumeQueue.push(t);break;case u.ON_SUSPEND:this._onSuspendQueue.push(t);break;case u.ON_SYSTEM_IDLE_CHANGE:this._onSystemIdleChangeQueue.push(t);break;default:d.default.switchStatementExhaustiveChecking(e)}}removeObserver(e,t){switch(c.log(l.LogTraceArea.Lifecycle,`Remove ${e} observer`),e){case u.ON_EXIT:n.pull(this._onExitQueue,t);break;case u.ON_RESUME:n.pull(this._onResumeQueue,t);break;case u.ON_SUSPEND:n.pull(this._onSuspendQueue,t);break;case u.ON_SYSTEM_IDLE_CHANGE:n.pull(this._onSystemIdleChangeQueue,t);break;default:d.default.switchStatementExhaustiveChecking(e)}}}t.Test_AppLifecycle=g;const h=new g({[u.ON_EXIT]:()=>r.default.acknowledgeAppExit()});h.registerEvents(o.default.onExit,o.default.onResume,o.default.onSuspend,o.default.onSystemIdleChange),t.default=h},870518:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});i(174958);const n=i(496486),o=i(267728),s=i(269521),a=i(397691),r=(i(276343),i(889391)),l=i(746096),c=i(436237),d=i(14138),u=i(333326),g=i(422538),h=i(699948),p=i(147202);t.default=new class{constructor(){g.RegisterStartupable(this,"LocalEngagementNotificationsService")}startup(){return d.default.initializeLocalNotifications(!0).then((e=>e?(this._applyConfigurationToLocalNotifications(),d.default.event_localEngagementNotificationQueueChanged.subscribe((()=>{c.log(l.LogTraceArea.Engagement,"localEngagementNotificationQueueChanged"),this._drainLocalEngagementNotificationQueue()})),this._drainLocalEngagementNotificationQueue(),a.Resolved()):(c.log(l.LogTraceArea.Engagement,"LocalEngagementNotificationsService: Push not granted. Not subscribing to NotificationQueueService"),a.Resolved())))}_drainLocalEngagementNotificationQueue(){n.each(d.default.fetchAndDrainLocalEngagementNotificationQueue(),(e=>{c.log(l.LogTraceArea.Engagement,"_drainLocalEngagementNotificationQueue"),this._handleLocalEngagementNotificationEventReceived(e.notification,e.causeId)}))}_handleLocalEngagementNotificationEventReceived(e,t){h.default.startedProcessingLocalNotification(e.category);let i="Received local notification event: ";i=i+"(category:"+e.category+" identifier: "+e.identifier+")",i=i+" causeId: "+t,c.log(l.LogTraceArea.Notifications,i),e.category!==p.TPUM_CATEGORY_IDENTIFIER&&e.category!==u.LocalNotificationIds.SIGNIN_REMINDER_IDENTIFIER&&e.category!==u.LocalNotificationIds.SIGNOUT_REMINDER_IDENTIFIER||(c.log(l.LogTraceArea.Engagement,"_handleLocalEngagementNotificationEventReceived"),p.default.handleTPUMNotificationEventReceived(e,t)),e.notificationProcessingId&&s.LocalNotifications.notificationProcessingCompleted(e.notificationProcessingId),window.focus(),e.wakeLockId&&o.default.release(e.wakeLockId,"Notifications:quickreply")}_applyConfigurationToLocalNotifications(){{const e=()=>{let e;e={Web:{MultiTabNotifications:r.default.getS4LMessagingFeatures().browserMultiTabNotifications}},s.LocalNotifications.setConfig(e)};r.default.subscribe(e),e()}}}},184474:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(174958),s=i(496486),a=i(77354),r=i(583367),l=i(267728),c=i(269521),d=i(516778),u=i(148540),g=i(397691),h=i(300060),p=i(889391),S=i(97571),m=i(850781),C=i(994224),y=i(598925),f=i(109520),b=i(502278),_=i(422801),v=i(260021),T=i(476621),P=i(671830),k=i(952262),A=i(676679),I=i(427447),w=i(746096),x=i(897811),N=i(497174),M=i(436237),L=i(218775),O=i(998754),D=i(32806),R=i(916724),E=i(870518),B=i(733754),F=i(209815),V=i(232638),U=i(326385),j=i(178735),H=i(18078),W=(i(104735),i(813499)),z=i(14138),G=i(213847),K=i(333326),q=i(528355),Q=i(709582),X=i(347922),J=i(688915),$=i(914976),Y=i(829034),Z=i(279829),ee=i(677914),te=i(583181),ie=i(666765),ne=i(216568),oe=i(422538),se=i(699948),ae=i(404057),re=i(640363),le=i(628069),ce=i(853374),de=i(188208);t.default=new class{constructor(){this._skipIncomingVideoNotificationDict={},this._notificationPromises=[],this._subscriptions=[],this.test_tickCheck=g.Resolved(),this._processIncomingVideoAvailableNotification=(e,t)=>{if(p.default.getS4LCMCFeaturesNoSubscription().enableIncomingVideoNotification){if(!!!this._skipIncomingVideoNotificationDict[e]){const i=ce.default.newCauseId(),n=t.id;if(C.default.RemoteStreamHelper.isStreamAvailable(e,n,u.StreamType.Video,void 0,[y.VideoOverrideReason.InBackground])){const t=d.App.getActivationState();t===d.Types.AppActivationState.Background?(M.log(w.LogTraceArea.Calling,`_processIncomingVideoAvailableNotification, causeId: ${i}`),this._skipIncomingVideoNotificationDict[e]=!0,a.default.postIncomingVideoNotification(n,e,i,"",a.IncomingVideoNotificationOrigin.IncomingWhileInBackground,re.default.getSoundPath("Skype_Incoming_Video_Available.m4a"))):t===d.Types.AppActivationState.Active&&(this._skipIncomingVideoNotificationDict[e]=!0)}}}},this._onCallEndedEvent=e=>{const t=e.callId;switch(this._skipIncomingVideoNotificationDict[t]&&delete this._skipIncomingVideoNotificationDict[t],e.callEndedReason){case a.CallEndedReason.Unanswered:this.maybeDisplayMissedCallNotification({reason:"NoAnswerCallerCancelled",callId:e.callId,callerMri:e.callerMri,conversationMri:e.conversationMri,participantId:e.participantId},e.causeId);break;case a.CallEndedReason.RemoteEnded:this.clearCallNotifications(e.callId,e.participantId)}},oe.RegisterStartupable(this,"LocalNotificationsService",[z.default,ie.default,ne.default,Q.default,E.default])}setupPreStartupSubscriptions(){this._metasSub&&this._metasSub.unsubscribe(),this._metasSub=T.default.conversationsUpdated.subscribe((e=>{const t=s.filter(e,(e=>!!e.counts));if(t.length>0){const e=l.default.requestMaxTime("Notifications:conv");oe.EnsureStarted(this).then((()=>{s.each(t,(e=>{Q.default.cancelNotificationsForConversation(e.conv.id,e.counts.consumptionHorizonTimestamp)}))})).always((()=>{e.then((e=>l.default.release(e,"Notifications:conv"))).catch(s.noop)}))}})),this._messagesSub&&this._messagesSub.unsubscribe(),this._messagesSub=T.default.messagesProcessedWithBundleInfo.subscribe((e=>{const t=g.Defer();let i=!1;const n=t.promise();this._notificationPromises.push(n),n.always((()=>{s.pull(this._notificationPromises,n)})),this.test_tickCheck=g.Resolved().then((()=>{const n=l.default.requestMaxTime("Notifications:msg");return oe.EnsureStarted(this).then((()=>{const t=s.map(e,(e=>{const t=v.getCorrelationIdForMessage(e.message),i=s.some(e.details,(e=>e.origin===w.MessageOrigin.PushNotification));return i&&M.track(new x.FundamentalsMessagePushDebug(e.message.getLatestRelevantClientMessageId()||"",t,"LocalNotifications: started")),i&&e.message.isLastChangeReactionConsumptionHorizonUpdate()&&Q.default.cancelNotificationById(e.message.conversationId+e.message.createdTime),this._processMessageInfoForNotifications(e).then((n=>oe.EnsureStartedExclusive([ie.default,ne.default,O.default]).then((()=>{const o=ie.default.getEndpointInfo();H.default.isMyMri(e.message.creator)&&G.isLastMessageUpdateReaction(e.message)&&M.track(new J.ReactionNotificationProcessed(e.message.conversationId,n)),i&&M.track(new x.FundamentalsMessagePushDebug(e.message.getLatestRelevantClientMessageId()||"",t,"LocalNotifications: done",void 0,w.MessageProcessResult[n]));const a=s.uniq(s.map(e.details,(e=>e.origin))).length;s.each(e.details,(t=>{M.track(new R.KpiMessageDelivered(e.message,t.origin,n,t.clientMessageId,ne.default.EdfRegistrationId.get(),o,e.messageAlreadySeen,te.default.isInCall(),a,t.correlationVector,!!t.messageStoreUsed))}))})).then((()=>({result:n,message:e.message})))))}));return g.all(t).then((e=>{const t=s.groupBy(e,(e=>e.result));M.log(w.LogTraceArea.Notifications,"Processed "+e.length+" Messages: "+s.map(t,((e,t)=>w.MessageProcessResult[Number(t)]+": ("+s.map(e,(e=>"cuid: "+e.message.cuid+" CorrelationId: "+v.getCorrelationIdForMessage(e.message))).join(", ")+")")).join(", "))}))})).always((()=>{i=!0,t.resolve(void 0),n.then((e=>l.default.release(e,"Notifications:msg"))).catch(s.noop)}))})).always((()=>{i||(i=!0,t.resolve(void 0))}))}))}startup(){return this._subscriptions.push(c.LocalNotifications.localNotificationEventReceivedLogMessageEvent.subscribe((e=>{M.log(w.LogTraceArea.Notifications,"LocalNotifications "+e)}))),this._subscriptions.push(C.default.CallingStore.participantUpdatedEvent().subscribe(this._processIncomingVideoAvailableNotification)),this._subscriptions.push(C.default.CallingStore.callEndedEvent().subscribe(this._onCallEndedEvent)),this._applyConfigurationToLocalNotifications(),z.default.event_localNotificationQueueChanged.subscribe((()=>{this._drainLocalNotificationQueue()})),this._drainLocalNotificationQueue(),g.Resolved()}destroy(){const e=this._subscriptions;this._subscriptions=[],s.each(e,(e=>e.unsubscribe()))}flushNotificationProcessingPromises(){const e=this._notificationPromises;return this._notificationPromises=[],g.all(e).then(s.noop)}_applyConfigurationToLocalNotifications(){{const e=()=>{let e;e={Web:{MultiTabNotifications:p.default.getS4LMessagingFeatures().browserMultiTabNotifications}},c.LocalNotifications.setConfig(e)};p.default.subscribe(e),e()}}processDelayedCallNotification(e){this._callDelayedNotificationProcessingId&&c.LocalNotifications.notificationProcessingCompleted(this._callDelayedNotificationProcessingId),this._callDelayedNotificationProcessingId=e}_drainLocalNotificationQueue(){(0,le.isForceUpdateEnabled)()||s.each(z.default.fetchAndDrainLocalNotificationQueue(),(e=>{this._handleLocalNotificationEventReceived(e.notification,e.causeId)}))}_handleLocalNotificationEventReceived(e,t){let i;se.default.startedProcessingLocalNotification(e.category);let n,a=!1,u="[LocalNotificationsService][_handleLocalNotificationEventReceived], received local notification event: ";u=u+"(category:"+e.category+" identifier: "+e.identifier+")",u=u+" causeId: "+t,M.log(w.LogTraceArea.Notifications,u);p.default.getS4LMessagingFeaturesNoSubscription().enableAndroidExpandedNotifications;if(e.category===K.LocalNotificationIds.CALL_CATEGORY_IDENTIFIER){const n=e.serviceSpecificData,s=n?n.conversationMri:void 0,a=n?n.callId:void 0,l=n?n.participantId:void 0;if(a&&s){if(this._callDelayedNotificationProcessingId)if(d.App.getActivationState()===d.Types.AppActivationState.Active)c.LocalNotifications.notificationProcessingCompleted(this._callDelayedNotificationProcessingId),this._callDelayedNotificationProcessingId=void 0,M.log(w.LogTraceArea.Notifications,"delayed finish processing completed causeId: "+t);else{const e=h.default.subscribeForChanges("LocalNotificationsService",(i=>{i===d.Types.AppActivationState.Active&&(e.unsubscribe(),this._callDelayedNotificationProcessingId&&c.LocalNotifications.notificationProcessingCompleted(this._callDelayedNotificationProcessingId),this._callDelayedNotificationProcessingId=void 0,M.log(w.LogTraceArea.Notifications,"delayed finish processing completed causeId: "+t))}))}switch(e.identifier){case K.LocalNotificationIds.CALL_ACTION_ACCEPT_IDENTIFIER:i=w.AppEntryPoint.CallNotification,M.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[_handleLocalNotificationEventReceived]","auto-answering call",a,"for conversation",$.mriOrId(s),"from notification causeId:",t),(0,L.setIntent)(L.Intent.Call),b.default.onCalleeAnsweredCall(a,"nativeNotification"),C.default.CallNavigationHelper.answerOrJoinCall({conversationMri:s,callId:a,participantId:l,knownToBeAnswer:!0,origin:w.NavigationCallOrigin.LocalNotificationAction},t);break;case K.LocalNotificationIds.CALL_ACTION_REJECT_IDENTIFIER:this._assumeCall(a,s,w.NavigationCallOrigin.LocalNotificationAction,l,t).then((()=>C.default.CallingStore.rejectCall(a,t)));break;case K.LocalNotificationIds.CALL_ACTION_DEFAULT:e.isKeyguardOn&&C.default.CallingStore.callDidExist(a)?r.default.reEnableKeyguardIfSet(!0).catch((e=>{M.warn(w.LogTraceArea.Notifications,"reEnableKeyguardIfSet failed: "+ae.default.errorAsString(e))})):this._assumeCall(a,s,w.NavigationCallOrigin.LocalNotificationAction,l,t);break;default:M.error(w.LogTraceArea.Notifications,"Unexpected event: "+e.identifier+" causeId: "+t)}}else M.error(w.LogTraceArea.Notifications,"callId not found causeId: "+t+" "+o.pii.Omit(JSON.stringify(e)))}else if(e.category===K.LocalNotificationIds.MISSED_CALL_CATEGORY_IDENTIFIER){const n=e.serviceSpecificData,s=n?n.conversationMri:void 0;if(s)switch(e.identifier){case K.LocalNotificationIds.MISSED_CALL_BACK_IDENTIFIER:i=w.AppEntryPoint.CallNotification,M.log(w.LogTraceArea.Notifications,"Initiating new call in response to missed in conversation "+$.mriOrId(s)+" causeId: "+t),(0,L.setIntent)(L.Intent.Call),C.default.CallNavigationHelper.startCall({conversationMri:s,withVideo:!1,origin:w.NavigationCallOrigin.LocalNotificationAction},t);break;case K.LocalNotificationIds.MISSED_CALL_DEFAULT:M.track(new q.NotificationAppLaunched(w.NotificationTypeAppLaunched.MissedCall,s)),i=w.AppEntryPoint.CallNotification,M.log(w.LogTraceArea.Notifications,"MISSED_CALL_DEFAULT, navigateToConversation "+$.mriOrId(s)+", causeId: "+t),(0,L.setIntent)(L.Intent.Chat),W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:s,origin:w.NavigationConversationOrigin.SystemNotificationMissedCall,causeId:t});break;default:M.error(w.LogTraceArea.Notifications,"Unexpected event: "+e.identifier+" causeId: "+t)}else M.error(w.LogTraceArea.Notifications,"conversationId not found for MISSED_CALL_CATEGORY_IDENTIFIER causeId: "+t+" "+o.pii.Omit(JSON.stringify(e)))}else if(e.category===K.LocalNotificationIds.MISSED_P2P_CALL_CATEGORY_IDENTIFIER){const n=e.serviceSpecificData,s=n?n.conversationMri:null;s?(i=w.AppEntryPoint.CallNotification,M.log(w.LogTraceArea.Notifications,"MISSED_P2P_CALL_CATEGORY_IDENTIFIER, navigateToConversation "+$.mriOrId(s)+", causeId: "+t),(0,L.setIntent)(L.Intent.Chat),W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:s,origin:w.NavigationConversationOrigin.SystemNotificationMissedP2PCall,causeId:t})):M.error(w.LogTraceArea.Notifications,"conversationId not found for MISSED_P2P_CALL_CATEGORY_IDENTIFIER causeId: "+t+" "+o.pii.Omit(JSON.stringify(e)))}else if(e.category===K.LocalNotificationIds.GO_LIVE_CATEGORY_IDENTIFIER){const i=e.serviceSpecificData,n=i?i.conversationMri:void 0,o=i?i.callId:void 0;if(n&&o)switch(e.identifier){case K.LocalNotificationIds.GO_LIVE_ACTION_DEFAULT:M.track(new q.NotificationAppLaunched(w.NotificationTypeAppLaunched.GoLive,n)),M.log(w.LogTraceArea.Notifications,"Navigating to conversation from go live notification causeId: "+t),(0,L.setIntent)(L.Intent.Chat),W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:n,origin:w.NavigationConversationOrigin.GoLiveNotification,causeId:t});break;case K.LocalNotificationIds.GO_LIVE_ACTION_JOIN_IDENTIFIER:M.track(new U.MessagingToastQuickActionEvent(U.MessagingToastQuickAction.JoinCall,n)),(0,L.setIntent)(L.Intent.Call),M.log(w.LogTraceArea.Notifications,"Joining golive from notifications causeId: "+t),C.default.CallPreviewUtils.answerOrJoinCall({conversationMri:n,callId:o,origin:w.NavigationCallOrigin.LocalNotificationAction,isGoLive:!0,optionalLiveState:i.conversationLiveState},t)}else M.warn(w.LogTraceArea.Notifications,"Ignoring go-live notification missing call and/or conversation id"+JSON.stringify(i))}else if(e.category===K.LocalNotificationIds.CALLBACK_REMINDER_CATEGORY_IDENTIFIER){const i=e.serviceSpecificData,n=i?i.calleeMri:void 0;let o=f.CallbackReminderTappedAction.None;if(n)switch(e.identifier){case K.LocalNotificationIds.CALLBACK_REMINDER_ACTION_DEFAULT:M.track(new q.NotificationAppLaunched(w.NotificationTypeAppLaunched.CallbackReminder,n)),M.log(w.LogTraceArea.Notifications,"Navigating to conversation from callback reminder causeId: "+t),(0,L.setIntent)(L.Intent.Chat),o=f.CallbackReminderTappedAction.Navigate,W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:n,origin:w.NavigationConversationOrigin.GoLiveNotification,causeId:t});break;case K.LocalNotificationIds.CALLBACK_REMINDER_ACTION_CALL_IDENTIFIER:(0,L.setIntent)(L.Intent.Call),M.log(w.LogTraceArea.Notifications,"Callback action from callback reminder causeId: "+t),o=f.CallbackReminderTappedAction.Call,C.default.CallNavigationHelper.startCall({conversationMri:n,withVideo:!1,origin:w.NavigationCallOrigin.LocalNotificationAction},t)}M.track(new f.CallbackReminderTappedEvent(o,i?i.missedCallTime:0,i?i.notificationPresentedTime:0))}else if(e.category===K.LocalNotificationIds.SCHEDULED_CALL_INVITE||e.category===K.LocalNotificationIds.SCHEDULED_CALL_INVITE_RESPONSE){const o=e.serviceSpecificData,s=o?o.scheduledCallId:void 0,a=o?o.conversationId:void 0,r=o?o.messageTimestamp:void 0;let l="";if(a){switch(e.identifier){case K.LocalNotificationIds.SCHEDULED_CALL_INVITE_ACCEPT:s&&oe.EnsureStarted(ee.default).then((()=>{M.track(new U.MessagingToastQuickActionEvent(U.MessagingToastQuickAction.AcceptScheduledCall,a)),ee.default.acceptInvitation(s),M.track(new Y.ScheduledCallRSVPEvent(Z.ScheduleCallRSVPEntryPoint.Notification,Z.ScheduledCallInvitationStatus.Accepted,a,s))})),l="SCHEDULED_CALL_INVITE_ACCEPT";break;case K.LocalNotificationIds.SCHEDULED_CALL_INVITE_DECLINE:s&&oe.EnsureStarted(ee.default).then((()=>{M.track(new U.MessagingToastQuickActionEvent(U.MessagingToastQuickAction.DeclineScheduledCall,a)),ee.default.declineInvitation(s),M.track(new Y.ScheduledCallRSVPEvent(Z.ScheduleCallRSVPEntryPoint.Notification,Z.ScheduledCallInvitationStatus.Declined,a,s))})),l="SCHEDULED_CALL_INVITE_DECLINE";break;case K.LocalNotificationIds.CHAT_ACTION_REPLY_IDENTIFIER:e.textInputValue&&(n=this._sendRawMessage(a,e.textInputValue)),l="CHAT_ACTION_REPLY_IDENTIFIER";break;case K.LocalNotificationIds.ACTION_DEFAULT:l="ACTION_DEFAULT"}i=w.AppEntryPoint.ChatNotification,M.log(w.LogTraceArea.Notifications,l+", navigateToConversation "+$.mriOrId(a)+", causeId: "+t+", scheduledCallId: "+s),this._navigateToConversation(a,t,w.NavigationConversationOrigin.SystemNotificationScheduledCall,r)}}else if(e.category===K.LocalNotificationIds.CHAT_CATEGORY_IDENTIFIER||e.category===K.LocalNotificationIds.E2EE_CATEGORY_IDENTIFIER){const o=e.serviceSpecificData,s=o?o.conversationId:void 0,r=o?o.messageTimestamp:void 0,l=o?o.consumptionHorizon:void 0;switch(e.identifier){case K.LocalNotificationIds.CHAT_ACTION_THUMBSUP_IDENTIFIER:if(s){const e=new N.UnhandledEntity("(y)");n=V.sendRawMessageFromEntities(s,[e]),M.track(new U.MessagingToastQuickActionEvent(U.MessagingToastQuickAction.ThumbsUp,s))}break;case K.LocalNotificationIds.CHAT_ACTION_REPLY_IDENTIFIER:s&&(e.textInputValue?(n=this._sendRawMessage(s,e.textInputValue),a=!0):(i=w.AppEntryPoint.ChatNotification,M.log(w.LogTraceArea.Notifications,"CHAT_ACTION_REPLY_IDENTIFIER, navigateToConversation "+$.mriOrId(s)+", causeId: "+t),this._navigateToConversation(s,t,w.NavigationConversationOrigin.SystemNotificationChatReply,r)));break;case K.LocalNotificationIds.CHAT_ACTION_MARK_AS_READ_IDENTIFIER:s&&l&&(M.track(new U.MessagingToastQuickActionEvent(U.MessagingToastQuickAction.MarkAsRead,s)),_.default.setConsumptionHorizon(s,l));break;case K.LocalNotificationIds.ACTION_DEFAULT:s?(i=w.AppEntryPoint.ChatNotification,o.eventType&&M.track(new q.NotificationAppLaunched(o.eventType,s)),M.log(w.LogTraceArea.Notifications,"CHAT_ACTION_DEFAULT, navigateToConversation "+$.mriOrId(s)+", causeId: "+t),(0,L.setIntent)(L.Intent.Chat),W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:s,scrollToTimestamp:r,origin:w.NavigationConversationOrigin.SystemNotification,causeId:t})):(0,L.setIntent)(L.Intent.Recents);break;case K.LocalNotificationIds.DELETE_IDENTIFIER:M.log(w.LogTraceArea.Notifications,"CHAT_ACTION_DELETE, conversationId: "+(s||"")+", causeId "+t)}0}else if(e.category===K.LocalNotificationIds.INBOUND_VIDEO_CALL_IDENTIFIER){const i=e.serviceSpecificData&&e.serviceSpecificData.callId,n=e.serviceSpecificData&&e.serviceSpecificData.origin;s.isUndefined(i)||te.default.performAfterUIStarted((()=>{b.default.trackIncomingVideoNotification(!0,i,n),C.default.CallControlsStore.startVideo(i,t,!0)}))}else if(e.category===K.LocalNotificationIds.SCHEDULED_CALL_REMINDER||e.category===K.LocalNotificationIds.SCHEDULED_CALL_PREREMINDER||e.category===K.LocalNotificationIds.POLL_REMINDER||e.category===K.LocalNotificationIds.POLL_PREREMINDER){d.App.getActivationState()!==d.Types.AppActivationState.Background||((0,L.setIntent)(L.Intent.Chat),te.default.performAfterUIStarted((()=>{const i=e.serviceSpecificData,n=i?i.conversationId:void 0,o=i?i.messageTimestamp:void 0;if(n){const t=e.category===K.LocalNotificationIds.SCHEDULED_CALL_REMINDER||e.category===K.LocalNotificationIds.SCHEDULED_CALL_PREREMINDER?w.NotificationTypeAppLaunched.ScheduledCallInvite:w.NotificationTypeAppLaunched.Poll;M.track(new q.NotificationAppLaunched(t,n))}W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:n,scrollToTimestamp:o,origin:w.NavigationConversationOrigin.SystemNotification,causeId:t})})))}else if(e.category===K.LocalNotificationIds.AUTH_BACKGROUND_REFRESH_CATEGORY_IDENTIFIER)n=S.default.fireBackgroundRefreshTask();else if(e.category===K.LocalNotificationIds.PRESENCE_CHANGE_IDENTIFIER||e.category===K.LocalNotificationIds.OLD_FRIEND_BACK_NOTIFICATION_IDENTIFIER){const n=e.serviceSpecificData,o=n?n.conversationId:void 0,s=e.category===K.LocalNotificationIds.OLD_FRIEND_BACK_NOTIFICATION_IDENTIFIER;o&&(i=w.AppEntryPoint.ChatNotification,n.eventType&&M.track(new q.NotificationAppLaunched(n.eventType,o)),M.track(new X.PresenceChangeNotificationClicked),M.log(w.LogTraceArea.Notifications,"CHAT_ACTION_DEFAULT, navigateToConversation "+$.mriOrId(o)+", causeId: "+t),(0,L.setIntent)(L.Intent.Chat),W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:o,origin:s?w.NavigationConversationOrigin.OldFriendBackNotification:w.NavigationConversationOrigin.PresenceChangeNotification,causeId:t}))}else if(e.category===K.LocalNotificationIds.LOGOUT_REMINDER_IDENTIFIER||e.category===K.LocalNotificationIds.MSA_INTERRUPT_REMINDER_IDENTIFIER){const t=e.category===K.LocalNotificationIds.MSA_INTERRUPT_REMINDER_IDENTIFIER;M.log(w.LogTraceArea.Notifications,t?"MSA interrupt notification clicked":"Logout reminder notification clicked"),M.track(new de.MSAInterruptNotificationClicked(t))}e.notificationProcessingId&&(M.log(w.LogTraceArea.Notifications,"_handleLocalNotificationEventReceived with a promise: "+!!n),n?n.always((t=>{M.log(w.LogTraceArea.Notifications,"_handleLocalNotificationEventReceived resolved or rejected. CMID: "+t),c.LocalNotifications.notificationProcessingCompleted(e.notificationProcessingId)})):c.LocalNotifications.notificationProcessingCompleted(e.notificationProcessingId)),i&&D.trackEntryPoint(i),a||window.focus(),e.wakeLockId&&l.default.release(e.wakeLockId,"Notifications:quickreply")}_sendRawMessage(e,t){return M.track(new U.MessagingToastQuickActionEvent(U.MessagingToastQuickAction.InlineReply,e)),V.sendRawMessage(e,t)}_navigateToConversation(e,t,i,n){(0,L.setIntent)(L.Intent.Chat),W.default.navigateToConversationOrScheduleNavigationOnLaunch({convId:e,scrollToTimestamp:n,shouldAutoFocusInput:!0,origin:i,causeId:t})}_processMessageInfoForNotifications(e){return this._startMessageNotificationsService().then((()=>F.default.processMessageInfoForNotifications(e)))}_startMessageNotificationsService(){return oe.EnsureStartedOnly(F.default,[Q.default,j.default])}_generateMissedCallMessageHelper(e,t,i){t&&P.isMri(t)||(t=e);const n=e=>e?k.default.getDisplayableProfilePotentiallyBeforeStartupAsync(e):g.Resolved(void 0);return g.all([n(e),n(t)]).then((([e,n])=>{const o=G.getNotificationIcon(e,n),s=e?e.getDisplayName():B.getString("Notifications.IncomingCallUnknownCaller");let a,r;if(!t||P.isOneOnOneConversation(t)){let e;a=s,e=t&&P.isEncryptedThread(t)?i?"Notifications.MissedCallMessageEncryptedOneOnOnePermissionRejected":"Notifications.MissedCallMessageEncryptedOneOnOne":i?"Notifications.MissedCallMessageOneOnOnePermissionRejected":"Notifications.MissedCallMessageOneOnOne",r=B.getString(e,{caller:s,emoji:A.getEmojiSupport()})}else{const e=n?n.getDisplayName():B.getString("Notifications.UnknownGroupConversation");a=e,r=B.getString(i?"Notifications.MissedCallMessageGroupPermissionRejected":"Notifications.MissedCallMessageGroup",{caller:s,group:e})}return{message:r,title:a,notificationIcon:o}}))}_assumeCall(e,t,i,n,o){return m.default.loadCallingBundle().then((()=>C.default.CallingStore.assumeCall(e,t,i,n,o)))}_shouldDisableCallNotification(){return(0,le.isForceUpdateEnabled)()}displayMissedP2PCallNotification(e,t){return this._shouldDisableCallNotification()?g.Resolved():(M.log(w.LogTraceArea.Notifications,"displayMissedP2PCallNotification: Received P2P call for callId: "+e.callId+" callerMri:"+$.mriOrId(e.callerMri||"")+" conversationMri:  "+$.mriOrId(e.conversationMri||"")+" participantId: "+e.participantId+" causeId: "+t),this._generateMissedCallMessageHelper(e.callerMri,e.conversationMri,!1).then((t=>{c.LocalNotifications.show({category:K.LocalNotificationIds.MISSED_P2P_CALL_CATEGORY_IDENTIFIER,title:t.title,message:t.message,serviceSpecificData:K.prepareDataForNotification(e),icon:t.notificationIcon,id:e.participantId})})))}maybeDisplayMissedCallNotification({callId:e,reason:t,callerMri:i,conversationMri:n,participantId:o},s){return M.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[maybeDisplayMissedCallNotification]",`[${s}]`,"requested  to display a missed call notification for",`callId: ${e}`,`reason: ${t}`),this._shouldDisableCallNotification()?(M.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[maybeDisplayMissedCallNotification]",`[${s}]`,"skipping missed call notification because this._shouldDisableCallNotification() returned true"),g.Resolved()):i?"NoAnswer"!==t&&"NoAnswerCallerCancelled"!==t&&"RejectedDueToNoMicPermission"!==t?(M.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[maybeDisplayMissedCallNotification]",`[${s}]`,"unsupported reason, skipping missed call notification",`reason: ${t}`),g.Resolved()):g.fromThenable(this._displayMissedCallNotification(e,t,i,n,o,s)):(M.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[maybeDisplayMissedCallNotification]",`[${s}]`,"callerMri or conversationMri is missing, skipping missed call notification",`callerMri: ${$.mriOrId(i)}`,`conversationMri: ${$.mriOrId(n)}`),g.Resolved())}_displayMissedCallNotification(e,t,i,o,s,a){return n.__awaiter(this,void 0,void 0,(function*(){this.clearCallNotifications(e,s);const n=G.isCallerAllowed(i,!1,a).toEs6Promise().then((e=>e!==w.PersonAllowed.Allowed?(M.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[_displayMissedCallNotification]","suppressing missed call notification because the caller is not allowed",`causeId: ${a}`),Promise.reject(new Error("Caller is blocked, suppressing notification"))):Promise.resolve())),r=I.isDisabledCallNotification().toEs6Promise().then((e=>e?(M.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[_displayMissedCallNotification]","DND is on, suppressing notification ",`causeId: ${a}`),Promise.reject(new Error("DND is on, suppressing notification"))):Promise.resolve()));try{yield Promise.all([n,r]);const{title:e,message:a,notificationIcon:l}=yield this._generateMissedCallMessageHelper(i,o,"RejectedDueToNoMicPermission"===t);c.LocalNotifications.show({category:K.LocalNotificationIds.MISSED_CALL_CATEGORY_IDENTIFIER,title:e,message:a,icon:l,id:s})}catch(e){M.log(w.LogTraceArea.Notifications,"[LocalNotificationsService]","[_displayMissedCallNotification]",`[${a}]]`,"failed to display missed call notification",`error: ${e}`)}}))}clearCallNotifications(e,t){t&&c.LocalNotifications.cancel({id:t}),c.LocalNotifications.cancel({id:e})}}},499201:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(583367),s=i(397691),a=i(746096),r=i(436237),l=i(404057);i(360305);t.default=new class{constructor(){this._orientationList=[]}addOrUpdateOrientationLock(e,t,i=!1){return s.Resolved(void 0)}addOrUpdateOrientationLockNoTabletCheck(e,t){return s.Resolved(void 0)}removeOrientationLock(e){const t=n.findIndex(this._orientationList,(t=>t.key===e));-1!==t&&(r.log(a.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager: Popping orientation entry for "+e),this._orientationList.splice(t,1),this._updateOrientationLock())}_addOrientationListEntry(e){const t=n.findIndex(this._orientationList,(t=>t.key===e.key));-1!==t?(this._orientationList[t]=e,r.log(a.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager: Modified old orientation entry - "+e.key)):(r.log(a.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager: Pushed new orientation entry - "+e.key),this._orientationList.push(e))}_updateOrientationLock(){const e=n.last(this._orientationList);return e&&e.orientation!==o.DeviceOrientation.Unlocked?(r.log(a.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager: lock orientation "+e.orientation),o.default.lockOrientation(e.orientation).then(n.noop,(e=>{r.warn(a.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager lockOrientation failed: "+l.default.errorAsString(e))}))):(r.log(a.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager: unlocking orientation"),o.default.unlockOrientation().then(n.noop,(e=>{r.warn(a.LogTraceArea.GenericUnsafe,"MobileOrientationLockManager unlockOrientation failed: "+l.default.errorAsString(e))})))}}},888553:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(823113),s=i(269521),a=i(397691),r=i(746096),l=i(436237),c=i(704329),d=i(178735),u=(i(18078),i(14138)),g=i(528355),h=i(581736),p=i(276173),S=i(583181),m=i(216568),C=i(422538),y=(i(404057),i(478262)),f=(i(327795),i(449682)),b=i(853374);i(914976);t.default=new class{constructor(){this._showNotificationPermissionStatus=o.PermissionStatus.Unknown,C.RegisterStartupable(this,"NotificationPermissionService",[d.default,h.default,m.default,f.default]),c.default.registerForLogout(this,"NotificationPermissionService")}startup(){if(h.default.permissionStatus(y.PermissionType.Notifications)===o.PermissionStatus.Granted||this._wasPromptedForPermissionInSetup()){Date.now();this.initNotificationsAndRequestPermissions().then((()=>{0}),(e=>{0}))}else{l.log(r.LogTraceArea.Push,"Deferring notification init until initial permission prompt");const e=d.default.subscribe((()=>{this._wasPromptedForPermissionInSetup()&&(l.log(r.LogTraceArea.Push,"Notification init continuing - initial permission prompt complete"),this.initNotificationsAndRequestPermissions(),d.default.unsubscribe(e))}))}return a.Resolved()}logout(e,t,i){return u.default.unsubscribeFromAllNotifications()}getShowNotificationPermissionStatus(){return this._showNotificationPermissionStatus}initNotificationsAndRequestPermissions(){if(this._showNotificationPermissionStatus!==o.PermissionStatus.Unknown){const e=this._showNotificationPermissionStatus===o.PermissionStatus.Granted;return l.log(r.LogTraceArea.Push,"Notification init called with known permission state: "+o.PermissionStatus[this._showNotificationPermissionStatus]),a.Resolved(e)}if(this._notificationPermissionPromise)return l.log(r.LogTraceArea.Push,"Notification init called and awaiting permissions"),this._notificationPermissionPromise;const e=b.default.newCauseId();return l.log(r.LogTraceArea.Push,"initializeNotification causeId: "+e),this._notificationPermissionPromise=this._initializePushNotificationsAndRequestPushPermissions().then((t=>u.default.initializeLocalNotifications().then((i=>{l.log(r.LogTraceArea.Push,"Notification permission grant status: PUSH: "+t+" LOCAL: "+i+", causeId: "+e),this._showNotificationPermissionStatus=t&&i?o.PermissionStatus.Granted:o.PermissionStatus.Denied;const n=h.default.subscribe((()=>{h.default.permissionStatus(y.PermissionType.Notifications)===o.PermissionStatus.Granted&&(l.log(r.LogTraceArea.Push,"Notification permission granted due to PermissionsStore update"),this._showNotificationPermissionStatus=o.PermissionStatus.Granted,h.default.unsubscribe(n))}));return t&&i})))),this._notificationPermissionPromise.finally((()=>{this._notificationPermissionPromise=void 0}))}_wasPromptedForPermissionInSetup(){const e=d.default.getUserPreferencesLocal();return!!e.wasPromptedAboutPermissions||!!e.isSetupWizardCompleted}_initializePushNotificationsAndRequestPushPermissions(){const e=S.default.isLoginSession();return(e?s.PushNotifications.clearUnacknowledgedNotifications():s.PushNotifications.getUnacknowledgedNotifications()).then((t=>{const i=b.default.newCauseId();t&&0!==t.length?(l.log(r.LogTraceArea.Push,"Found "+t.length+" unacknowledged notifications causeId: "+i),n.each(t,(t=>{const n=t.serviceSpecificData;if(!n)return void l.error(r.LogTraceArea.Push,"Push notification serviceSpecificData was missing causeId: "+i);const o=n.data||n,a=o&&o.eventType?Number(o.eventType):p.PNHEvents.IncomingUnknown;l.log(r.LogTraceArea.Push,"Logging not processed notification of type "+a+" causeId: "+i),l.track(new g.NotificationNotProcessedEvent(a,!e,t.receivedTimeMs,m.default.CallingNodeId.get())),e||s.PushNotifications.acknowledgeNotificationReceived(t),u.default.addPushNotificationToQueue(t,i)})),u.default.event_pushNotificationQueueChanged.fire()):l.log(r.LogTraceArea.Push,"No unacknowledged notifications found causeId: "+i)})),u.default.initializePushNotifications()}test_reset(){this._showNotificationPermissionStatus=o.PermissionStatus.Unknown,this._notificationPermissionPromise=void 0}}},14138:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(267728),s=i(269521),a=i(974634),r=i(397691),l=i(889391),c=i(746096),d=i(436237),u=i(733754),g=i(333326),h=i(422538),p=i(404057),S=i(640363),m=i(147202),C=i(449682),y=i(47447),f=i(853374);t.default=new class{constructor(){this._pushNotificationQueue=[],this.event_pushNotificationQueueChanged=new a.default,this._localNotificationQueue=[],this.event_localNotificationQueueChanged=new a.default,this._localEngagementNotificationQueue=[],this.event_localEngagementNotificationQueueChanged=new a.default,this._trouterNotificationQueue=[],this.event_trouterNotificationQueueChanged=new a.default,this._subscriptions=[],h.RegisterStartupable(this,"NotificationQueueService")}startup(){this._clearSubscriptions(),this._pushNotificationQueue=[],this._localNotificationQueue=[],this._localEngagementNotificationQueue=[],this._subscriptions.push(s.PushNotifications.notificationReceivedEvent.subscribe((e=>{this._receivedPushNotifications([e])})));const e=s.PushNotifications.drainInitialNotificationQueue();e.length&&this._receivedPushNotifications(e),this._subscriptions.push(s.LocalNotifications.localNotificationEventReceivedEvent.subscribe((e=>{this._receivedLocalNotifications([e])})));const t=s.LocalNotifications.drainInitialNotificationQueue();return t.length&&this._receivedLocalNotifications(t),this._subscriptions.push(C.default.messageReceived.subscribe((e=>{this._receivedTrouterNotifications([e])}))),r.Resolved()}_clearSubscriptions(){const e=this._subscriptions;this._subscriptions=[],n.each(e,(e=>e.unsubscribe()))}unsubscribeFromAllNotifications(){if(this._clearSubscriptions(),this._appConfigStoreSubscription){const e=this._appConfigStoreSubscription;this._appConfigStoreSubscription=void 0,l.default.unsubscribe(e)}return s.LocalNotifications.uninitialize(),s.PushNotifications.uninitialize().always(n.noop)}addPushNotificationToQueue(e,t){this._pushNotificationQueue.push({notification:e,causeId:t})}hasQueuedPushes(){return this._pushNotificationQueue.length>0}getPushNotificationQueue(){return n.clone(this._pushNotificationQueue)}confirmPushNotificationProcessed(e){this._pushNotificationQueue=n.filter(this._pushNotificationQueue,(t=>t.notification!==e)),s.PushNotifications.acknowledgeNotificationReceived(e)}hasQueuedLocalNotifications(){return this._localNotificationQueue.length>0}fetchAndDrainLocalNotificationQueue(){const e=this._localNotificationQueue;return this._localNotificationQueue=[],e}fetchAndDrainLocalEngagementNotificationQueue(){const e=this._localEngagementNotificationQueue;return this._localEngagementNotificationQueue=[],e}hasQueuedTrouterNotifications(){return this._trouterNotificationQueue.length>0}fetchAndDrainTrouterNotificationQueue(){const e=this._trouterNotificationQueue;return this._trouterNotificationQueue=[],e}handleLocalNoticationAction(e){return o.default.requestMaxTime("Notifications:quickreply").then((t=>{const i=Object.assign(Object.assign({},e),{wakeLockId:t});this._receivedLocalNotifications([i])})).catch((e=>{d.error(c.LogTraceArea.Push,"_handleLocalNoticationAction, Failed to get wakelock - "+(e?p.default.errorAsString(e):""))})).always((()=>{}))}initializePushNotifications(){const e={categories:this._getSupportedLocalNotificationCategories(),enableAlertNotifications:y.UICapabilities.alertNotificationEnabled(),dismissNotificationForReadMessages:l.default.getS4LNativePlatformsEcsConfig().dismissNotificationForReadMessages,enableIOSNativeCalls:l.default.getS4LNativePlatformsEcsConfig().enableIOSNativeCalls};return s.PushNotifications.initialize(e)}initializeLocalNotifications(e=!1){const t={categories:this._getSupportedLocalNotificationCategories(),startupInitialization:e};return s.LocalNotifications.initialize(t)}_receivedPushNotifications(e){const t=f.default.newCauseId();d.log(c.LogTraceArea.Push,"notificationReceivedEvent causeId: "+t),this._pushNotificationQueue.push(...n.map(e,(e=>({notification:e,causeId:t})))),this.event_pushNotificationQueueChanged.fire()}_receivedLocalNotifications(e){const t=f.default.newCauseId();d.log(c.LogTraceArea.Notifications,"localNotificationEventReceivedEvent causeId: "+t);const i=n.partition(e,(e=>e.category===m.TPUM_CATEGORY_IDENTIFIER||e.category===g.LocalNotificationIds.SIGNIN_REMINDER_IDENTIFIER||e.category===g.LocalNotificationIds.SIGNOUT_REMINDER_IDENTIFIER));i[0].length&&(this._localEngagementNotificationQueue.push(...n.map(e,(e=>({notification:e,causeId:t})))),this.event_localEngagementNotificationQueueChanged.fire()),i[1].length&&(this._localNotificationQueue.push(...n.map(e,(e=>({notification:e,causeId:t})))),this.event_localNotificationQueueChanged.fire())}_receivedTrouterNotifications(e){const t=f.default.newCauseId();d.log(c.LogTraceArea.Notifications,"trouterNotificationReceivedEvent causeId: "+t),this._trouterNotificationQueue.push(...n.map(e,(e=>({notification:e,causeId:t})))),this.event_trouterNotificationQueueChanged.fire()}_getSupportedLocalNotificationCategories(){const e=[],t={title:u.getString("LocalNotificationCallCategory.AcceptEventTitle"),identifier:g.LocalNotificationIds.CALL_ACTION_ACCEPT_IDENTIFIER,activationMode:s.NotificationActionActivationMode.Foreground,icon:g.LocalNotificationIds.CALL_ACTION_ACCEPT_ICON},i={title:u.getString("LocalNotificationCallCategory.RejectEventTitle"),identifier:g.LocalNotificationIds.CALL_ACTION_REJECT_IDENTIFIER,activationMode:s.NotificationActionActivationMode.Background,icon:g.LocalNotificationIds.CALL_ACTION_REJECT_ICON};e.push({identifier:g.LocalNotificationIds.CALL_CATEGORY_IDENTIFIER,context:s.NotificationCategoryContext.Minimal,actions:[t,i]});const n={title:u.getString("LocalNotificationGoLiveCategory.JoinEventTitle"),identifier:g.LocalNotificationIds.GO_LIVE_ACTION_JOIN_IDENTIFIER,activationMode:s.NotificationActionActivationMode.Foreground};e.push({identifier:g.LocalNotificationIds.GO_LIVE_CATEGORY_IDENTIFIER,context:s.NotificationCategoryContext.Minimal,actions:[n]});const o={title:u.getString("LocalNotificationCallCategory.CallBackEventTitle"),identifier:g.LocalNotificationIds.CALLBACK_REMINDER_ACTION_CALL_IDENTIFIER,activationMode:s.NotificationActionActivationMode.Foreground};e.push({identifier:g.LocalNotificationIds.CALLBACK_REMINDER_CATEGORY_IDENTIFIER,context:s.NotificationCategoryContext.Minimal,actions:[o]});const a={title:u.getString("LocalNotificationChatCategory.ThumbsUp"),identifier:g.LocalNotificationIds.CHAT_ACTION_THUMBSUP_IDENTIFIER,activationMode:s.NotificationActionActivationMode.Background,icon:g.LocalNotificationIds.CHAT_ACTION_THUMBSUP_ICON};let r;r=(S.default.getPlatformType(),c.PlatformType.Android,{title:u.getString("LocalNotificationChatCategory.Reply"),identifier:g.LocalNotificationIds.CHAT_ACTION_REPLY_IDENTIFIER,activationMode:s.NotificationActionActivationMode.Background,behavior:s.NotificationActionBehavior.TextInput,textInputLabel:u.getString("LocalNotificationChatCategory.SendButton"),icon:g.LocalNotificationIds.CHAT_ACTION_REPLY_ICON});const d=[a,r],h=l.default.getS4LMessagingFeaturesNoSubscription().enableMarkAsReadNotificationAction;if(h||S.default.getPlatformType()===c.PlatformType.Android){const e={title:u.getString("LocalNotificationChatCategory.MarkAsRead"),identifier:g.LocalNotificationIds.CHAT_ACTION_MARK_AS_READ_IDENTIFIER,activationMode:s.NotificationActionActivationMode.Background,behavior:s.NotificationActionBehavior.Default,isForCarOnly:!h};d.push(e)}e.push({identifier:g.LocalNotificationIds.CHAT_CATEGORY_IDENTIFIER,context:s.NotificationCategoryContext.Minimal,actions:d});const p={title:u.getString("LocalNotificationCallCategory.CallBackEventTitle"),identifier:g.LocalNotificationIds.MISSED_CALL_BACK_IDENTIFIER,activationMode:s.NotificationActionActivationMode.Foreground};e.push({identifier:g.LocalNotificationIds.MISSED_CALL_CATEGORY_IDENTIFIER,context:s.NotificationCategoryContext.Minimal,actions:[p]}),e.push({identifier:g.LocalNotificationIds.MISSED_P2P_CALL_CATEGORY_IDENTIFIER,context:s.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:m.TPUM_CATEGORY_IDENTIFIER,context:s.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.E2EE_CATEGORY_IDENTIFIER,context:s.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.INBOUND_VIDEO_CALL_IDENTIFIER,context:s.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.LOGOUT_REMINDER_IDENTIFIER,context:s.NotificationCategoryContext.Minimal,actions:[]});const C={title:u.getString("ScheduledCallCard.AcceptButton"),identifier:g.LocalNotificationIds.SCHEDULED_CALL_INVITE_ACCEPT,activationMode:s.NotificationActionActivationMode.Background},y={title:u.getString("ScheduledCallCard.DeclineButton"),identifier:g.LocalNotificationIds.SCHEDULED_CALL_INVITE_DECLINE,activationMode:s.NotificationActionActivationMode.Background};return e.push({identifier:g.LocalNotificationIds.SCHEDULED_CALL_INVITE,context:s.NotificationCategoryContext.Minimal,actions:[C,y,r]}),e.push({identifier:g.LocalNotificationIds.SCHEDULED_CALL_INVITE_EDIT,context:s.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.SCHEDULED_CALL_INVITE_RESPONSE,context:s.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.SCHEDULED_CALL_REMINDER,context:s.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.SCHEDULED_CALL_PREREMINDER,context:s.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.POLL_REMINDER,context:s.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.POLL_PREREMINDER,context:s.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.SIGNIN_REMINDER_IDENTIFIER,context:s.NotificationCategoryContext.Minimal,actions:[]}),e.push({identifier:g.LocalNotificationIds.SIGNOUT_REMINDER_IDENTIFIER,context:s.NotificationCategoryContext.Minimal,actions:[]}),e}test_reset(){this._pushNotificationQueue=[],this._localNotificationQueue=[],this._localEngagementNotificationQueue=[],this._trouterNotificationQueue=[],this._clearSubscriptions()}}},597503:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691),o=i(581697),s=i(475760),a=i(899686),r=i(733754),l=i(827357),c=i(808222),d=i(422538),u=i(912770);t.default=new class{constructor(){this._firstSyncFinished=!1,this._basePageTitle="Skype",this._currentBlinkingActivityItemCount=0,this._blinkingIndicatorIsShowingActivity=!1,d.RegisterStartupable(this,"PageTitleService",[o.default,s.default,l.default])}startup(){return n.Resolved()}_redisplayTitle(){this._firstSyncFinished&&(this._clearBlinkingTimer(),!a.default.isCurrentUserActive()&&this._currentBlinkingActivityItemCount>0&&(this._blinkingActivityInterval=u.default.setInterval((()=>this._toggleBetweenBaseTitleAndActivity()),1200)))}_toggleBetweenBaseTitleAndActivity(){a.default.isCurrentUserActive()?this._clearBlinkingTimer():(this._blinkingIndicatorIsShowingActivity?document.title=this._getActivityTitle():document.title=this._basePageTitle,this._blinkingIndicatorIsShowingActivity=!this._blinkingIndicatorIsShowingActivity)}_clearBlinkingTimer(){this._blinkingActivityInterval&&(u.default.clearInterval(this._blinkingActivityInterval),this._blinkingActivityInterval=void 0),this._blinkingIndicatorIsShowingActivity=!1,document.title=this._basePageTitle}_getActivityTitle(){return r.getString("PageTitleService.ActivityTitle",{activityItemCount:this._currentBlinkingActivityItemCount})}_getPageTitleForNavigationContext(){return[c.pageTitle].reverse().join(" | ")}}},470546:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691),o=i(898278),s=i(746096),a=i(330124),r=i(827357),l=i(422538),c=i(173714);t.default=new class{constructor(){this._handlingPopState=!1,this._navigatingToNewPlace=!1,l.RegisterStartupable(this,"PageUrlService",[r.default])}startup(){return n.Resolved()}_onNavigationStateStoreChange(){if(!this._handlingPopState){let e;if(a.default.isUsingStackNavigationContext()){const t=r.default.getCurrentNavigationStackRoute();e=c.default.getUrlForNavigationContextStack(null==t?void 0:t.name,null==t?void 0:t.params)}else{const t=r.default.getActiveConversationState();e=c.default.getUrlForCompositeConversationNavigationContext(t)}this._navigatingToNewPlace=!0,window.history.pushState(null,"",e),this._navigatingToNewPlace=!1}}_onUrlChange(e){if(this._navigatingToNewPlace)return;this._handlingPopState=!0;c.default.getNavigationActionForDeepLink(window.location.href,s.NavigationConversationOrigin.OnUrlChange,o.MainRootViewId).then((e=>{e&&e.action()})).always((()=>{this._handlingPopState=!1}))}}},709582:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(269521),s=(i(516778),i(397691)),a=i(562141),r=i(816402),l=i(746096),c=i(436237),d=(i(232638),i(914976)),u=i(422538);t.default=new class{constructor(){this._pendingNotifications=[],this._conversationSnooze={},u.RegisterStartupable(this,"PersistedNotificationsService")}startup(){const e=this._supportsPersistedLocalNotifications()?a.default.getLocalNotifications().then((e=>{this._pendingNotifications=n.compact(e);const t=e.length-this._pendingNotifications.length;t&&c.warn(l.LogTraceArea.Notifications,"Found "+t+" falsy notifications!"),this.cullOldNotifications()})):s.Resolved(),t=o.LocalNotifications.supportsStackedNotifications().then((e=>this._supportsStackedNotifications=e));return s.all([e,t]).then(n.noop)}_supportsPersistedLocalNotifications(){return!1}supportsStackedNotifications(){return this._supportsStackedNotifications}saveLocalNotification(e,t=!1){if(!this._supportsPersistedLocalNotifications())return s.Resolved();if(t){const t=t=>e.conversationId===t.conversationId&&e.messageTimestamp<=t.messageTimestamp;if(n.some(this._pendingNotifications,t))return s.Resolved()}const i=n.clone(e);i.sound=void 0,i.silent=!0,i.enableVibration=!1,this.cullOldNotifications(!1);const o=a.default.putLocalNotifications([i]);return this._pendingNotifications.push(i),o}cancelNotificationsForConversation(e,t,i=!0,o=!0,s=!1){const r=[],u=[];let g=0,h=0;n.each(this._pendingNotifications,(i=>{const n=i.conversationId===e,o=i.serviceSpecificData&&i.serviceSpecificData.eventType===l.NotificationTypeAppLaunched.Reaction;n&&i.messageTimestamp<=t&&!o?r.push(i):n?(o?h++:g++,u.push(i)):u.push(i)})),o&&this._conversationSnooze[e]&&this._conversationSnooze[e].createdAt<=t&&(c.log(l.LogTraceArea.Notifications,"Cancelling snooze for "+d.mriOrId(e)),delete this._conversationSnooze[e]),r.length>0&&(c.log(l.LogTraceArea.Notifications,"Conversation "+d.mriOrId(e)+": cancelling "+r.length+" notifications, cutoff time: "+t+"; "+u.length+" still active ("+g+" from this conversation and "+h+" reactions)"),this._pendingNotifications=u,a.default.removeLocalNotifications(r),this.cancelNotifications(r,i,!1))}snoozeConversation(e,t){this._conversationSnooze[e]=t}getConversationSnooze(e){return this._conversationSnooze[e]}cancelNotificationById(e){const[t,i]=n.partition(this._pendingNotifications,(t=>t.id===e));t.length>0&&(this._pendingNotifications=i,c.log(l.LogTraceArea.Notifications,"Cancelling "+t.length+" notifications, id: "+d.mriOrId(e)+"; "+i.length+" still active"),a.default.removeLocalNotifications(t),this.cancelNotifications(t))}sortAllLocalNotificationsByTimeDesc(){return n.orderBy(this._pendingNotifications,(e=>e.timestamp),"desc")}removeAllLocalNotifications(){this._pendingNotifications.length>0&&(a.default.removeLocalNotifications(this._pendingNotifications),this._pendingNotifications=[],this.cancelNotifications([]))}cullOldNotifications(e=!0){const t=r.default.add(Date.now(),0,-7),i=[],o=[];n.each(this._pendingNotifications,(e=>{e.timestamp<=t?i.push(e):o.push(e)})),i.length>0&&(this._pendingNotifications=o,a.default.removeLocalNotifications(i),this.cancelNotifications(i,e))}cancelNotifications(e,t=!0,i=!1){n.each(e,(e=>{o.LocalNotifications.cancel(e)}))}}},368645:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(397691),s=i(562141),a=i(746096),r=i(436237),l=i(998754),c=i(861253),d=i(422538),u=i(842987),g=i(853374);t.default=new class{constructor(){this._actions={},this._subscribers={},d.RegisterStartupable(this,"PersistentActionsService")}startup(){return s.default.getPersistentActions().then((e=>{const t=n.groupBy(e,(e=>e.actionType));n.each(t,((e,t)=>{n.each(e,(e=>{r.log(a.LogTraceArea.PersistentActionsService,"Startup Tracking: "+e.id+", Type: "+e.actionType),this._actions[e.id]=e}))}))}))}test_reset(){n.isEmpty(this._actions)||r.log(a.LogTraceArea.PersistentActionsService,"Test reset, subscriber count: "+n.size(this._subscribers)+", actions being removed: ["+n.keys(this._actions).join(", ")+"]"),this._actions={},this._subscribers={}}subscribe(e,t){this._subscribers[e]=t;const i=n.filter(this._actions,(t=>t.actionType===e));t(n.map(i,(e=>e.data)),!0)}persistAndStartAction(e,t){const i=t;i.id=g.default.newGuid();const n={id:i.id,actionType:e,data:i};r.log(a.LogTraceArea.PersistentActionsService,"New Action: "+n.id+", Type: "+n.actionType),this._actions[n.id]=n,s.default.openTransaction([s.Stores.PersistentActions,s.Stores.InternalData],!0).then((e=>o.all([e.putPersistentAction(n),this._updateMetadata(e)])));const l=this._subscribers[e];return l&&l([n.data],!1),i}updateAction(e){const t=this._actions[e.id];return t?(t.data=e,s.default.putPersistentAction(t)):o.Rejected()}removeAction(e){r.log(a.LogTraceArea.PersistentActionsService,"Removing Action: "+e),s.default.openTransaction([s.Stores.PersistentActions,s.Stores.InternalData],!0).then((t=>o.all([t.removePersistentAction(e),this._updateMetadata(t)]))),delete this._actions[e]}_updateMetadata(e){const t=(0,u.transferServicesMeta)(n.map(this._actions,(e=>e.actionType))),i=l.default.getData(s.InternalKeys.TransferServicesMeta);if(!(0,c.default)(t,i))return l.default.putData(s.InternalKeys.TransferServicesMeta,t,e)}}},292664:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(174958),o=i(496486),s=i(873713),a=i(269521),r=i(516778),l=i(397691),c=i(889391),d=i(994224),u=i(568580),g=i(422801),h=i(260021),p=i(476621),S=i(671830),m=i(400984),C=i(475760),y=i(246429),f=i(695742),b=i(746096),_=i(897811),v=i(436237),T=i(870518),P=i(184474),k=i(704329),A=i(178735),I=i(388273),w=i(18078),x=i(14138),N=i(528355),M=i(276173),L=i(914976),O=i(583181),D=i(422538),R=i(699948),E=i(404057),B=i(327795),F=i(147202),V=i(425446),U=i(172758),j=i(853374);t.default=new class{constructor(){this._recentlyHandledMessages=[],this._subscriptions=[],D.RegisterStartupable(this,"PushNotificationsService",[p.default,A.default,x.default]),k.default.registerForLogout(this,"PushNotificationsService")}startup(){return this._startupTime=Date.now(),this._subscriptions.push(g.default.incomingCallMessageReceived.subscribe((e=>{const t=j.default.newCauseId();if(!c.default.getS4LCMCFeatures().enableMsnpFlamingoMessages)return void v.log(b.LogTraceArea.Push,"Ignoring chat-based call notification causeId: "+t);v.log(b.LogTraceArea.Push,"Received new incoming call notification via chat causeId: "+t);const i=u.default.incomingCallNotificationForFlamingo(e),n=o.attempt((()=>Date.parse(e.originalarrivaltime))),s=Date.now(),a=!n||o.isError(n)?n:s;d.default.CallNotificationHelpers.processIncomingCallNotification(i.evt,"msnp",i,a,s,t),d.default.CallNotificationHelpers.maybeDisposePendingWarmCallForNotification(i.evt)}))),this._subscriptions.push(x.default.event_pushNotificationQueueChanged.subscribe((()=>{this._drainPushQueue()}))),this._drainPushQueue(),O.default.performAfterUIStarted((()=>{d.default.CallNotificationHelpers.maybeDisposePendingWarmCall(b.WarmCallNotificationDisposition.FollowedByForegrounding)})),l.Resolved()}_drainPushQueue(){o.each(x.default.getPushNotificationQueue(),(e=>{this._processPushNotification(e.notification,e.causeId)}))}logout(e,t,i){const n=this._subscriptions;return this._subscriptions=[],o.each(n,(e=>e.unsubscribe())),s.default.setCount(0),l.Resolved()}_processPushNotification(e,t){if(!e)return void v.error(b.LogTraceArea.Push,"Push notification payload was missing causeId: "+t);v.log(b.LogTraceArea.Push,"Acknowledging notification with correlation ID "+e.correlationId+" causeId: "+t),x.default.confirmPushNotificationProcessed(e);const i=e.serviceSpecificData;if(!i)return void v.error(b.LogTraceArea.Push,"Push notification serviceSpecificData was missing causeId: "+t);const s=i.data||i;let a=M.PNHEvents.IncomingUnknown;s&&s.eventType&&(a=Number(s.eventType));const l=Date.now(),c=o.attempt((()=>new Date(e.receivedTimeMs||0).toISOString()));let h,S="Push notification received (UI: "+O.default.isUIDisplayed()+", Evt: "+a+", Time: "+(o.isError(c)?"unknown":c)+", causeId: "+t+", cv: "+s.cv+")";if(v.log(b.LogTraceArea.Push,S),s&&s.recipientId&&s.recipientId!==w.default.getSkypeId())return v.log(b.LogTraceArea.Push,"Push from "+L.mriOrId(s.recipientId)+" doesnt belong to current user "+L.mriOrId(w.default.getSkypeId())+" causeId: "+t+", cv: "+s.cv),v.track(new N.NotificationForIncorrectRecipientEvent(a,!0,e.receivedTimeMs,s.cv)),void this._notificationProcessingCompleted(e,t);if(d.default.CallNotificationHelpers.maybeDisposePendingWarmCallForNotification(a),R.default.startedProcessingPush(M.PNHEvents[a]),a){if(a===M.PNHEvents.IncomingChatMessage||a===M.PNHEvents.IncomingChatGroupMessage||a===M.PNHEvents.IncomingChatMention||a===M.PNHEvents.IncomingChatHearts||a===M.PNHEvents.IncomingChatAudio||a===M.PNHEvents.IncomingChatVideo||a===M.PNHEvents.IncomingChatVideoCloud||a===M.PNHEvents.IncomingChatPhoto||a===M.PNHEvents.IncomingChatMoji||a===M.PNHEvents.IncomingChatFile||a===M.PNHEvents.ThreadActivity){const i=s;this._consumePresenceFromPush(i.presenceStatus,e.receivedTimeMs),h=this._processChatMessagePushNotification(i,e.receivedTimeMs||0,t)}else if(a===M.PNHEvents.IncomingConsumptionHorizonChange){const i=s,n=i.conversationVersion?Number(i.conversationVersion):0;v.log(b.LogTraceArea.Push,"Processing incoming consumption horizon notification: "+L.mriOrId(i.conversationId)+" CH="+i.consumptionHorizon+", Version="+n+", causeId="+t+", cv: "+s.cv),this._consumePresenceFromPush(i.presenceStatus,e.receivedTimeMs),h=p.default.processPushNotificationConsumptionHorizon(i.conversationId,i.consumptionHorizon,n)}else if(a===M.PNHEvents.IncomingContactListChange)m.default.processContactListChangeNotification();else if(a===M.PNHEvents.IncomingContactRequest||a===M.PNHEvents.IncomingContactAccept||a===M.PNHEvents.IncomingContactInviteListChange)m.default.processContactInviteNotification();else if(a===M.PNHEvents.IncomingContactBlockChange){const e=s;0;const t=o.toLower(e.parameters.context)===M.BlockContext;h=m.default.processContactBlockChangeNotificationPotentiallyBeforeStartup(t,e.parameters.contactMri)}else if(a===M.PNHEvents.IncomingNGCCall||a===M.PNHEvents.IncomingNGCGroupCall||a===M.PNHEvents.IncomingNGCPSTNCall||a===M.PNHEvents.IncomingS4BCall||a===M.PNHEvents.IncomingNGCEncryptedCall){const i=s;0,h=d.default.CallNotificationHelpers.processIncomingCallNotification(a,"pnh",u.default.incomingCallNotificationForPnh(a,i),e.receivedTimeMs||0,l,t)}else if(a===M.PNHEvents.IncomingGoLiveStart){const i=s;h=d.default.CallNotificationHelpers.processIncomingGoLiveNotification(a,"pnh",u.default.incomingGoLivelNotificationForPnh(a,i),e.receivedTimeMs||0,l,t)}else if(a===M.PNHEvents.IncomingGoLiveStop){const i=s;h=d.default.CallNotificationHelpers.processGoLiveStopNotification(a,"pnh",u.default.stopGoLiveNotificationForPnh(a,i),e.receivedTimeMs||0,l,t)}else if(a===M.PNHEvents.IncomingP2PCall){const i=s;h=d.default.CallNotificationHelpers.processP2PCallNotification(a,"pnh",i,e.receivedTimeMs||0,l,t)}else if(a===M.PNHEvents.IncomingNGCStopRinger){const i=s;h=d.default.CallNotificationHelpers.processStopCallNotification("pnh",u.default.stopCallNotificationForPnh(a,i),e.receivedTimeMs||0,l,t)}else if(a===M.PNHEvents.IncomingWarmCall){const e=s,i=r.App.getActivationState()===r.Types.AppActivationState.Background&&Date.now()-this._startupTime<5e3;h=d.default.CallNotificationHelpers.processWarmCallNotification(i,e,t)}else if(a===M.PNHEvents.IncomingProfileChange)U.default.fetchUserPotentiallyBeforeStartup();else if(a===M.PNHEvents.IncomingAvatarChange)U.default.fetchUserAvatarUrlPotentiallyBeforeStartup();else if(a===M.PNHEvents.SceUserServicesChange)s?f.default.processSceUserServicesChangeNotification(s):v.error(b.LogTraceArea.Push,"PNHEvents.SceUserServicesChange missing pushNotificationData");else if(a===M.PNHEvents.IncomingTPUMConciergeMessage){const e=s;h=F.default.processTPUMNotification(e,t)}else if(a===M.PNHEvents.EmergencyRestoreEndpoints){const e=j.default.newCauseId(),t=new y.default(e);t.start(),r.App.getActivationState()===r.Types.AppActivationState.Active?(v.log(b.LogTraceArea.Push,"Push notification arrived while app in foreground. Ignoring payload. causeId: "+e+", cv: "+s.cv),t.ignored("AppActive"),t.finish()):h=D.EnsureStarted(g.default).then((()=>g.default.restoreEndpoints(e,t))).then(o.noop)}}else v.error(b.LogTraceArea.Push,"Unknown push event type for payload: "+n.pii.Omit(JSON.stringify(e))+" causeId: "+t+", cv: "+s.cv);this._notificationProcessingCompleted(e,t,h,!1,s.cv)}_consumePresenceFromPush(e,t){if(r.App.getActivationState()===r.Types.AppActivationState.Background&&e&&t&&c.default.getS4LMessagingFeatures().consumePresenceFromPush){const i=S.parseStatus(e);I.default.setStatus(V.UserPresenceChangeOrigin.PushNotification,i,t)}}_notificationProcessingCompleted({notificationProcessingId:e,isBackgroundPush:t},i,n,o=!1,s){(e||t)&&(n||l.Resolved()).always((()=>(v.log(b.LogTraceArea.Push,"pushProcessingPromise complete causeId: "+i+", cv: "+s),l.all([C.default.flushNotificationProcessingPromises(),P.default.flushNotificationProcessingPromises()])))).always((()=>{v.log(b.LogTraceArea.Push,"notificationPromises completed causeId: "+i+", cv: "+s),t?a.LocalNotifications.backgroundPushProcessingCompleted():e&&(o?D.EnsureStarted([P.default,T.default]).then((()=>{P.default.processDelayedCallNotification(e)})):a.LocalNotifications.notificationProcessingCompleted(e)),R.default.pushProcessingComplete()}))}_processChatMessagePushNotification(e,t,i){if(!e||!e.rawPayload)return void v.warn(b.LogTraceArea.Push,"Chat service notification missing rawPayload: "+n.pii.Omit(JSON.stringify(e))+" causeId: "+i+", cv: "+e.cv);const s=e.rawPayload,a=o.isString(s)?E.default.parseJsonErrorToUndefined(s):s;let r;if(a&&"conversationLink"in a?(a.type||(a.type="Message"),r=a):a&&"resource"in a&&(r=a.resource),!r)return v.error(b.LogTraceArea.Push,"Error parsing raw payload from chat service notification: "+E.default.errorAsString(r)+" causeId: "+i+", cv: "+e.cv+", Payload: "+n.pii.Omit(s)),void v.track(new N.NotificationRawContentNotParsed(e.eventType||M.PNHEvents.IncomingUnknown,0!==t?t:void 0,e.cv));{if(e.pnhTime&&!r.conversationLink)return void v.warn(b.LogTraceArea.Push,"Chat service notification missing rawPayload  property values: "+n.pii.Omit(JSON.stringify(e))+" causeId: "+i+", cv: "+e.cv);const t=(e.conversationId||"").replace("Skype:","8:"),s=r.conversationLink,a=o.last(s.split("/"));if(o.isString(r.isactive)&&(r.isactive="true"===r.isactive.toLowerCase()),o.isString(r.properties)&&(r.properties=E.default.parseJsonErrorToUndefined(r.properties)),o.isString(r.amsreferences)&&(r.amsreferences=E.default.parseJsonErrorToUndefined(r.amsreferences)),o.isString(r.encryptedkey)&&(r.encryptedkey=E.default.parseJsonErrorToUndefined(r.encryptedkey)),t!==a){const o=JSON.stringify(e);if(w.default.isMyMri(t))v.track(new B.DevDebug("BadPushV2",n.pii.Omit(o)));else{const l=s.substring(0,s.length-a.length)+t;r.conversationLink=l,v.warn(b.LogTraceArea.Push,"Push Notification mismatch between conversationId and conversationLink causeId: "+i+", cv: "+e.cv),v.track(new B.DevDebug("BadPushV1",n.pii.Omit(o)))}}}const l=S.getParsedConversationId(r);if(!l)return void v.error(b.LogTraceArea.Push,"Error parsing conversation ID from chat service notification: "+E.default.errorAsString(r)+" causeId: "+i+", cv: "+e.cv+", Payload: "+n.pii.Omit(s));if(w.default.isMyMri(l)){const t=JSON.stringify(e);v.track(new B.DevDebug("BadPush",n.pii.Omit(t))),v.error(b.LogTraceArea.Push,"Processed push as being in our own conversation: "+n.pii.Omit(t)+" causeId: "+i+", cv: "+e.cv)}const c=!r.isactive;if(o.some(this._recentlyHandledMessages,(e=>e.conversationLink===r.conversationLink&&e.id===r.id&&e.version>=r.version&&(!0===e.isactive||e.isactive===r.isactive))))return v.log(b.LogTraceArea.Push,"ignoring duplicate message (_recentlyHandledMessages) causeId: "+i+", cv: "+e.cv),void v.track(new N.NotificationIgnoredAsDuplicate(e.eventType||M.PNHEvents.IncomingUnknown,0!==t?t:void 0,e.cv));for(this._recentlyHandledMessages.push(r);this._recentlyHandledMessages.length>50;)this._recentlyHandledMessages.shift();const d=S.getCreatorMriForMessageFromLink(r.from),u=h.getCorrelationIdFromMessageParts(d,l,r.clientmessageid),m=S.isEncryptedThread(l)&&r.content===M.EncryptedContent;v.track(new _.FundamentalsMessagePushDebug(r.clientmessageid||"",u,"Received")),v.log(b.LogTraceArea.Push,"processing push notification, cv: "+e.cv+" conversationId="+L.mriOrId(l)+" id="+L.mriOrId(r.id)+" version="+r.version+" isOtherEndpointActive="+c+" causeId="+i+" CMID="+r.clientmessageid+" correlationId="+u+" eventType="+(e.eventType||"N/A")+" isEncryptedContentMissing="+m);const C=r;return m?D.EnsureStarted(g.default).then((()=>g.default.serviceGetConversationMessage(l,C.id).then((t=>(o.assign(t,{isactive:C.isactive}),p.default.processPushNotificationMessage(t,l,b.MessageOrigin.PushNotification,e.cv)))))):p.default.processPushNotificationMessage(r,l,b.MessageOrigin.PushNotification,e.cv).done((()=>{v.track(new _.FundamentalsMessagePushDebug(C.clientmessageid||"",u,"Processed"))})).fail((e=>{v.track(new _.FundamentalsMessagePushDebug(C.clientmessageid||"",u,"ProcessingFailed","Error processing bundle: "+E.default.errorAsString(e)))}))}test_clearRecentlyHandledMessages(){this._recentlyHandledMessages=[]}}},223071:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(174958),o=i(496486),s=i(516283),a=i(516283),r=i(10531),l=i(397691),c=i(889391),d=i(47447),u=i(657347),g=i(436237),h=i(650737),p=i(422538);t.default=new class{constructor(e=[]){this._SERVICE_NAME="QuickActionsService",p.RegisterStartupable(this,this._SERVICE_NAME,e)}startup(){if(!d.UICapabilities.quickActionsSupported()||!r.default.isSystemSupported)return l.Resolved();this._pinnedShortcutsTelemetry();let e=!1;const t=this._updateQuickActionsMenu();return c.default.subscribe((()=>{e||(e=!0,u.default.queueIdleTask("QuickActions",u.TaskTypeFlags.UsesNetworking,(()=>{s.log(a.LogTraceArea.QuickActionsService,"Received ECS Updates."),e=!1,t.then((()=>{this._updateQuickActionsMenu()}),(e=>{s.warn(a.LogTraceArea.QuickActionsService,"Update Failed."+n.pii.Omit(JSON.stringify(e)))}))})))})),l.Resolved()}getInitialUrl(){return r.default.getAndClearInitialUrl()}_updateQuickActionsMenu(){s.log(a.LogTraceArea.QuickActionsService,"updating.");const e=c.default.getS4LNativePlatformsEcsConfig().quickActions,t=e.enabled;if(!t&&t!==this._lastEnable)return s.log(a.LogTraceArea.QuickActionsService,"Ecs disabled, removing all shortcuts."),this._lastEnable=t,r.default.removeAll();if(!t&&this._lastEnable===t)return l.Rejected("ECS remains disabled, no updates necessary");const i=e.options;if(s.log(a.LogTraceArea.QuickActionsService,"Quick Actions Ecs is enabled, with Options: "+n.pii.Omit(JSON.stringify(i))),this._lastEnable===t&&i){if(this._lastOptions||i===this._lastOptions)return l.Rejected("No change in ECS, update rejected.");this._lastOptions=i}return this._lastEnable=t,i?r.default.updateAll(i):r.default.updateAll([])}_pinnedShortcutsTelemetry(){return r.default.getAllPinnedShortcuts().then((e=>{o.isEmpty(o.xor(e,this._lastPinnedShortcuts))||((0,g.track)(new h.QuickActionsEvent(void 0,e)),this._lastPinnedShortcuts=e)}),(e=>{s.warn(a.LogTraceArea.QuickActionsService,"Fail to send Telemetry."+n.pii.Omit(JSON.stringify(e)))}))}}},216568:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(397691),s=i(889391),a=i(562141),r=i(746096),l=i(436237),c=i(998754),d=i(422538);class u{constructor(){this._set=!1}reset(){this._set=!1,this._value=void 0,this._defer=void 0}internal_set(e){if(this._value=e,this._set=!0,this._defer){const e=this._defer;this._defer=void 0,e.resolve(void 0)}}get(){return this._value}waitUntilSet(){return this._set?o.Resolved():(this._defer||(this._defer=o.Defer()),this._defer.promise())}}t.default=new class{constructor(){this._cache={},this._initialized=!1,this.CallingFingerprintId=new u,this.CallingNodeId=new u,this.InternalCallingRegistrationId=new u,this.ChatServiceSessionInfo=new u,this.EdfRegistrationId=new u,this._saveToDB=e=>(l.log(r.LogTraceArea.GenericUnsafe,this._initialized?"Saving SharedId cache to db.":"SharedId updated, will be saved on startup"),this._initialized?c.default.putData(a.InternalKeys.SharedIdServiceCache,this._cache,e):o.Resolved()),this._saveToDbDebounced=n.debounce(this._saveToDB,100),d.RegisterStartupable(this,"SharedIdService",[c.default])}startup(){let e,t=!1;s.default.getConfigSettingsNoSubscription().calling.disableSharedIdCache||(e=c.default.getDataExclusive(a.InternalKeys.SharedIdServiceCache)||{},l.log(r.LogTraceArea.GenericUnsafe,n.isEmpty(e)?"No SharedId cache found":"Loaded SharedId cache from db."),n.some(this._cache)&&(l.log(r.LogTraceArea.GenericUnsafe,"Merging SharedId cache"),e=n.merge(e,this._cache),t=!0),this._cache=e),this._cache.callingFingerprintId&&this.CallingFingerprintId.internal_set(this._cache.callingFingerprintId.value),this._cache.callingNodeId&&this.CallingNodeId.internal_set(this._cache.callingNodeId.value),this._cache.internalCallingRegistrationId&&this.InternalCallingRegistrationId.internal_set(this._cache.internalCallingRegistrationId.value),this._cache.pnhRegistrationId&&this.EdfRegistrationId.internal_set(this._cache.pnhRegistrationId.value),this._cache.chatServiceSessionInfo&&this.ChatServiceSessionInfo.internal_set(this._cache.chatServiceSessionInfo.value),this._initialized=!0;let i=!1;if(!this._cache.chatServiceSessionInfo){const e=c.default.getDataExclusive(a.InternalKeys.ChatServiceSessionInfo_deprecated);e&&(i=!0,this._cache.chatServiceSessionInfo={value:e},this.ChatServiceSessionInfo.internal_set(e))}return i||t?(this._saveToDbDebounced.cancel(),a.default.openTransaction([a.Stores.InternalData],!0).then((e=>(this._saveToDbDebounced.cancel(),o.all([this._saveToDB(e),i?c.default.deleteKeys([a.InternalKeys.ChatServiceSessionInfo_deprecated],e):void 0]).then((()=>{e.markCompleted()})))))):o.Resolved()}setCallingFingerprintId(e){this._cache.callingFingerprintId&&e===this._cache.callingFingerprintId.value||(this.CallingFingerprintId.internal_set(e),this._cache.callingFingerprintId={value:e},this._saveToDbDebounced())}setCallingNodeId(e){this._cache.callingNodeId&&e===this._cache.callingNodeId.value||(this.CallingNodeId.internal_set(e),this._cache.callingNodeId={value:e},this._saveToDbDebounced())}setInternalCallingRegistrationId(e){this._cache.internalCallingRegistrationId&&e===this._cache.internalCallingRegistrationId.value||(this.InternalCallingRegistrationId.internal_set(e),this._cache.internalCallingRegistrationId={value:e},this._saveToDbDebounced())}setEdfRegistrationId(e){this._cache.pnhRegistrationId&&e===this._cache.pnhRegistrationId.value||(this.EdfRegistrationId.internal_set(e),this._cache.pnhRegistrationId={value:e},this._saveToDbDebounced())}setChatServiceSessionInfo(e){this._cache.chatServiceSessionInfo&&e===this._cache.chatServiceSessionInfo.value||(this.ChatServiceSessionInfo.internal_set(e),this._cache.chatServiceSessionInfo={value:e},this._saveToDbDebounced())}deleteIds(e,t){return e.callingNodeId&&(this.CallingNodeId.reset(),this._cache.callingNodeId=void 0),e.callingFingerprintId&&(this.CallingFingerprintId.reset(),this._cache.callingFingerprintId=void 0),e.internalCallingRegistrationId&&(this.InternalCallingRegistrationId.reset(),this._cache.internalCallingRegistrationId=void 0),e.edfRegistrationId&&(this.EdfRegistrationId.reset(),this._cache.pnhRegistrationId=void 0),e.chatServiceSessionInfo&&(this.ChatServiceSessionInfo.reset(),this._cache.chatServiceSessionInfo=void 0),t?this._saveToDB():o.Resolved(void 0)}test_getIds(){return{callingNodeId:this.CallingNodeId,callingFingerprintId:this.CallingFingerprintId,internalCallingRegistrationId:this.InternalCallingRegistrationId,edfRegistrationId:this.EdfRegistrationId,chatServiceSessionInfo:this.ChatServiceSessionInfo}}test_reset(e=!1){this.deleteIds({callingFingerprintId:!0,callingNodeId:!0,internalCallingRegistrationId:!0,edfRegistrationId:!0,chatServiceSessionInfo:!0},e),this._initialized=!1}}},262232:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SoundPlayer=void 0;const n=i(496486),o=i(421832),s=i(603751),a=i(974634),r=i(397691),l=i(47447),c=i(746096),d=i(436237),u=i(404057),g=i(640363);class h{constructor(e,t,i,o,s){this._soundDescription=e,this._setOutputVolume=t,this._getOutputDevice=i,this._getOutputVolume=o,this._instanceId=++h._nextInstanceId,this._piiFilenames=["Skype_Dtmf_0","Skype_Dtmf_1","Skype_Dtmf_2","Skype_Dtmf_3","Skype_Dtmf_4","Skype_Dtmf_5","Skype_Dtmf_6","Skype_Dtmf_7","Skype_Dtmf_8","Skype_Dtmf_9"],this._nextPlayerToken=0,this._players={},s.subscribe((e=>{n.each(this._players,(t=>{this._updateOutputDevice(t,e),this._updateOutputVolume(t,{},e)}))}))}_description(){const e=n.includes(this._piiFilenames,this.filename)?"<pii:DtmfTone>":this.filename;return`SoundPlayer[${this._instanceId}:${e}]`}_methodLog(e,t){return`${this._description()}.${e} causeId: ${t}`}_audioPlayerEntryLog(e,t,i){return`${this._description()}[${t.token}].${e} causeId: ${i}`}get filename(){return this._soundDescription.name+"."+this._soundDescription.extension}playOnce(e,t){return d.log(c.LogTraceArea.AudioPlayer,this._methodLog("playOnce",e)),this._createPlayer(t,e).then((t=>{const i=r.Defer();let n=t.player.endedEvent.subscribe((()=>{if(!n)return;d.log(c.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("playOnce",t,e)+" Finished"),this.dispose(t.token,e);const o=n;n=void 0,o.unsubscribe(),i.resolve(void 0)}));return t.player.play(!1,!1),i.promise()}))}playRepeating(e,t){return d.log(c.LogTraceArea.AudioPlayer,this._methodLog("playRepeating",e)),this._createPlayer(t,e).then((e=>(e.player.play(!0,!1),e.token)))}dispose(e,t){const i=this._players[e];i?(d.log(c.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("dispose",i,t)),i.player.stop(),i.player.release(),delete this._players[e]):d.warn(c.LogTraceArea.AudioPlayer,this._methodLog("dispose",t)+" No player found token: "+e)}_createPlayer(e,t){const i=++this._nextPlayerToken;d.log(c.LogTraceArea.AudioPlayer,this._methodLog("_createPlayer",t)+" token: "+i+" options: "+(e?JSON.stringify(e):"none"));const n={token:i,player:s.Audio.openFile(g.default.getSoundPath(this.filename),this._soundDescription.extension,this._soundDescription.type)};this._players[i]=n;const o=e&&e.unmute;return this._updateOutputVolume(n,{force:!0,unmute:o},t),this._updateOutputMuted(n,{force:!0,unmute:o},t),this._updateOutputDevice(n,t,!0).always((()=>n))}_updateOutputDevice(e,t,i){const n=this._getOutputDevice(!!this._soundDescription.secondary);return!n||n.id===this._deviceId&&!i?r.Resolved():(d.log(c.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("_updateOutputDevice",e,t)),r.fromThenable(e.player.setOutputDevice(n.id,n.browserId)).then((()=>{d.log(c.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("_updateOutputDevice",e,t)+" Set device: "+n.id),this._deviceId=n.id}),(i=>d.warn(c.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("_updateOutputDevice",e,t)+" Failed to set device "+u.default.errorAsString(i)))))}_updateOutputVolume(e,t,i){let n=this._getOutputVolume();(n!==this._volume||t.force)&&(t.unmute&&(this._soundDescription.secondary?n=.5:(n=n>0?n:.5,this._setOutputVolume(n))),d.log(c.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("_updateOutputVolume",e,i)+" volume: "+n+" unmute: "+!!t.unmute),this._volume=n,e.player.setVolume(n))}_updateOutputMuted(e,t,i){const s=e.player.getMuted();n.isUndefined(t.unmute)||t.unmute&&s&&!t.force||(t.unmute&&(!this._soundDescription.secondary&&l.CallingCapabilities.unmuteDeviceSupported()&&o.default.unmuteSpeaker(),e.player.setMuted(!1)),d.log(c.LogTraceArea.AudioPlayer,this._audioPlayerEntryLog("_updateOutputMuted",e,i)+" unmute: "+!!t.unmute))}}h._nextInstanceId=0,t.SoundPlayer=h;class p{constructor(){this._sounds={},this._outputConfigurationChanged=new a.default,this._setOutputVolume=e=>{if(this._callbacks)return l.CallingCapabilities.speakerVolumeControlSupported()?this._callbacks.setOutputVolume(100*e):1},this._getOutputVolume=()=>this._callbacks&&l.CallingCapabilities.speakerVolumeControlSupported()?this._callbacks.getOutputVolume()/100:1,this._getOutputDevice=e=>{if(this._callbacks)return this._callbacks.getOutputDevice(e)}}setCallbacks(e){this._callbacks&&(this._volumeToken.unsubscribe(),this._deviceToken.unsubscribe(),this._volumeToken=void 0,this._deviceToken=void 0),this._callbacks=e,this._volumeToken=this._callbacks.onVolumeChanged.subscribe((()=>this._outputConfigurationChanged.fire("SoundPlayerCallbacks.Volume"))),this._deviceToken=this._callbacks.onDeviceChanged.subscribe((()=>this._outputConfigurationChanged.fire("SoundPlayerCallbacks.Device")))}static _keyForSoundDescription(e){return e.name+(e.secondary?"_additional":"")}_getOrCreateSound(e){const t=p._keyForSoundDescription(e);let i=this._sounds[t];return i||(i=new h(e,this._setOutputVolume,this._getOutputDevice,this._getOutputVolume,this._outputConfigurationChanged),this._sounds[t]=i),i}get SkypeCallConnecting(){return this._getOrCreateSound({name:"Skype_Call_Connecting",extension:"m4a",type:s.AudioPlayerSoundType.Ringtone,maybeLoud:!0})}get SkypeCallDialing(){return this._getOrCreateSound({name:"Skype_Call_Dialing",extension:"m4a",type:s.AudioPlayerSoundType.Ringtone})}get SkypeCallEnded(){return this._getOrCreateSound({name:"Skype_Call_Ended",extension:"m4a",type:s.AudioPlayerSoundType.Default})}get SkypeCallError(){return this._getOrCreateSound({name:"Skype_Error",extension:"m4a",type:s.AudioPlayerSoundType.Ringtone})}get SkypeCallReconnected(){return this._getOrCreateSound({name:"Skype_Call_Reconnected",extension:"m4a",type:s.AudioPlayerSoundType.Ringtone,maybeLoud:!0})}get SkypeCallRingback(){return this._getOrCreateSound({name:"Skype_Call_Ringback",extension:"m4a",type:s.AudioPlayerSoundType.Ringtone})}get SkypeCallRinging(){return this._getOrCreateSound({name:"Skype_Call_Ringing",extension:"m4a",type:s.AudioPlayerSoundType.Ringtone})}get SkypeCallRingingSecondary(){return this._getOrCreateSound({name:"Skype_Call_Ringing",extension:"m4a",type:s.AudioPlayerSoundType.Ringtone,secondary:!0})}get SkypeCameraCapture(){return this._getOrCreateSound({name:"Skype_Camera_Capture",extension:"m4a",type:s.AudioPlayerSoundType.Default,maybeLoud:!0})}get SkypeConfirmation(){return this._getOrCreateSound({name:"Skype_Confirmation",extension:"m4a",type:s.AudioPlayerSoundType.Default})}get SkypeIncomingVideoAvailable(){return this._getOrCreateSound({name:"Skype_Incoming_Video_Available",extension:"m4a",type:s.AudioPlayerSoundType.System})}get SkypeDtmf0(){return this._getOrCreateSound({name:"Skype_Dtmf_0",extension:"m4a",type:s.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf1(){return this._getOrCreateSound({name:"Skype_Dtmf_1",extension:"m4a",type:s.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf2(){return this._getOrCreateSound({name:"Skype_Dtmf_2",extension:"m4a",type:s.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf3(){return this._getOrCreateSound({name:"Skype_Dtmf_3",extension:"m4a",type:s.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf4(){return this._getOrCreateSound({name:"Skype_Dtmf_4",extension:"m4a",type:s.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf5(){return this._getOrCreateSound({name:"Skype_Dtmf_5",extension:"m4a",type:s.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf6(){return this._getOrCreateSound({name:"Skype_Dtmf_6",extension:"m4a",type:s.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf7(){return this._getOrCreateSound({name:"Skype_Dtmf_7",extension:"m4a",type:s.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf8(){return this._getOrCreateSound({name:"Skype_Dtmf_8",extension:"m4a",type:s.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmf9(){return this._getOrCreateSound({name:"Skype_Dtmf_9",extension:"m4a",type:s.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmfPound(){return this._getOrCreateSound({name:"Skype_Dtmf_pound",extension:"m4a",type:s.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeDtmfStar(){return this._getOrCreateSound({name:"Skype_Dtmf_star",extension:"m4a",type:s.AudioPlayerSoundType.System,maybeLoud:!0})}get SkypeError(){return this._getOrCreateSound({name:"Skype_Error",extension:"m4a",type:s.AudioPlayerSoundType.Default})}get SkypeFileTransferComplete(){return this._getOrCreateSound({name:"Skype_File_Transfer_Complete",extension:"m4a",type:s.AudioPlayerSoundType.System})}get SkypeFileTransferFailed(){return this._getOrCreateSound({name:"Skype_File_Transfer_Failed",extension:"m4a",type:s.AudioPlayerSoundType.System})}get SkypeFileTransferIncoming(){return this._getOrCreateSound({name:"Skype_File_Transfer_Incoming",extension:"m4a",type:s.AudioPlayerSoundType.System})}get SkypeInAppNotification(){return this._getOrCreateSound({name:"Skype_In_App_Notification",extension:"m4a",type:s.AudioPlayerSoundType.System})}get SkypeLogin(){return this._getOrCreateSound({name:"Skype_Login",extension:"m4a",type:s.AudioPlayerSoundType.Default})}get SkypeMessageSent(){return this._getOrCreateSound({name:"Skype_Message_Sent",extension:"m4a",type:s.AudioPlayerSoundType.System})}get SkypeMiscClickpop(){return this._getOrCreateSound({name:"Skype_Misc_Clickpop",extension:"m4a",type:s.AudioPlayerSoundType.System})}get SkypeMsgReceived(){return this._getOrCreateSound({name:"Skype_Msg_Received",extension:"m4a",type:s.AudioPlayerSoundType.System})}get SkypeNotification(){return this._getOrCreateSound({name:"Skype_Notification",extension:"m4a",type:s.AudioPlayerSoundType.System})}get SkypeShutter(){return this._getOrCreateSound({name:"Skype_Shutter",extension:"m4a",type:s.AudioPlayerSoundType.System})}get SkypeVideoMsgRecord(){return this._getOrCreateSound({name:"Skype_Video_Msg_Record",extension:"m4a",type:s.AudioPlayerSoundType.Default})}get SkypeVideoMsgStop(){return this._getOrCreateSound({name:"Skype_Video_Msg_Stop",extension:"m4a",type:s.AudioPlayerSoundType.Default})}}t.default=new p},150449:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(746096),s=i(436237),a=i(218775),r=i(32806),l=i(269399),c=i(794050);t.default=new class{constructor(){this._startupPhaseTimes={},this._startupPhaseEndTimestamps={},this._startupPhaseStartTimestamps={},this._shouldReportP6=!1,this._intentBased=!1}appColdStartup(e){this._startupScenario=new c.default(c.ScenarioName.AppStartup,void 0,void 0,void 0,!0),this._startupScenario.start(void 0,e)}logStartupPerfDuration(e,t,i,n=!1){s.log(o.LogTraceArea.GenericUnsafe,"Startup Phase "+e+" duration: "+t+"ms"),n&&(this._intentBased=!0),this._startupPhaseTimes[e]=t,this._startupPhaseEndTimestamps[e]=Date.now();const r=this._startupPhaseEndTimestamps[e-1]?this._startupPhaseEndTimestamps[e]-this._startupPhaseEndTimestamps[e-1]:-1;s.track(new l.PerfStartupPhase(e,t,r,i));const c=(0,a.getCurrentIntent)(),d=c?a.Intent[c]:"";e<=5&&this._startupScenario.markStepCompleted("Phase"+e,{currentIntent:d},t),5===e&&(this._startupScenario.finish({intentBased:this._intentBased,currentIntent:d}),this._setupP6())}_setupP6(){const e=r.getMaxEntryPoint();e!==o.AppEntryPoint.Foregrounded&&e!==o.AppEntryPoint.Opened||(this._shouldReportP6=!0)}phase6Start(){this._shouldReportP6&&(this._startupPhaseStartTimestamps[6]=Date.now())}phase6End(){if(!this._shouldReportP6)return;if(this._shouldReportP6=!1,!this._startupPhaseStartTimestamps[6])return;const e=Date.now()-this._startupPhaseStartTimestamps[6];this.logStartupPerfDuration(6,e)}getStartupPhaseEndTimestamp(e){return this._startupPhaseEndTimestamps[e]}getStartupPhaseTimes(){return this._startupPhaseTimes}getStartupPerfSummary(){let e="",t=0,i=1;for(;!n.isUndefined(this._startupPhaseTimes[i]);)e+="Phase "+i+": "+this._startupPhaseTimes[i]+"ms\n",t+=this._startupPhaseTimes[i],i++;return e+="Total: "+t+"ms\n",e}}},699948:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StartupContext=t.AppWakeupReason=void 0;const n=i(496486),o=i(516778),s=i(746096),a=i(436237),r=i(150449),l=i(794050);var c,d;!function(e){e[e.ColdStartup=0]="ColdStartup",e[e.AppStateChange=1]="AppStateChange",e[e.Push=2]="Push",e[e.LocalNotification=3]="LocalNotification",e[e.TrouterMessage=4]="TrouterMessage"}(c=t.AppWakeupReason||(t.AppWakeupReason={})),function(e){e[e.Unknown=1]="Unknown",e[e.Push=2]="Push",e[e.Recents=3]="Recents",e[e.Chat=4]="Chat",e[e.IncomingRing=5]="IncomingRing",e[e.Dialpad=6]="Dialpad"}(d=t.StartupContext||(t.StartupContext={}));t.default=new class{constructor(){this._startupContext=d.Unknown,this._startupPhasesCompleted=[],this._startupScenario=new l.default(l.ScenarioName.AppStartupIntent,void 0,void 0,void 0,!0),this._startupScenario.setDuplicateStepMarkingEnabled(!0)}appColdStartup(e){r.default.appColdStartup(e),this._startupScenario.start(void 0,e),this._setScenarioTimeout(),this._maybeMarkStep("ColdStartup")}startupPhaseEnded(e,t,i){r.default.logStartupPerfDuration(e,t,void 0,i),this._startupPhasesCompleted[e]=!0,this._maybeMarkStep("Phase"+e,this._shouldOverrideDuration(e)?t:void 0,i?{intentBased:i}:void 0)}checkingAppState(e){this._fullStartupCompleted()||(this._shouldResetScenario(e)&&this._reset(),this._maybeRestartScenario(),this._maybeMarkStep("CheckAppState",void 0,{reason:c[e]}))}startedProcessingLocalNotification(e){this._fullStartupCompleted()||(this._maybeRestartScenario(),this._maybeMarkStep("StartedProcessingLocalNotification",void 0,{eventType:e}))}startedProcessingPush(e){this._fullStartupCompleted()||(this._isScenarioValid([d.Unknown])&&o.App.getActivationState()===o.Types.AppActivationState.Background?(this._setStartupContext(d.Push,!1),this._maybeMarkStep("StartedProcessingPush",void 0,{eventType:e})):this._shouldResetScenario(c.Push)&&this._reset())}pushProcessingComplete(){this._isScenarioValid([d.Push])&&(this._maybeMarkStep("PushProcessingComplete"),this._sendStartupTelemetry())}incomingCallPush(){this._setStartupContext(d.IncomingRing),this._maybeRestartScenario(),this._maybeMarkStep("IncomingCallPush")}notifyingCallee(e){this._setStartupContext(d.IncomingRing),this._maybeRestartScenario(),this._maybeMarkStep("NotifyingCallee",void 0,e),this._sendStartupTelemetry()}displayIncomingCallNotification(){this._setStartupContext(d.IncomingRing),this._maybeRestartScenario(),this._maybeMarkStep("DisplayIncomingCallNotification")}presentIncomingRing(){this._setStartupContext(d.IncomingRing),this._maybeRestartScenario(),this._maybeMarkStep("PresentIncomingRing")}callPanelRendered(){this._isScenarioValid([d.IncomingRing])?(this._maybeMarkStep("CallPanelRendered"),this._sendStartupTelemetry()):this._reset()}willNavigateToRecents(){this._setStartupContext(d.Recents),this._maybeRestartScenario(),this._maybeMarkStep("WillNavigateToRecents")}recentsWillMount(){this._maybeMarkStep("RecentsWillMount"),r.default.phase6Start()}conversationListPanelRendered(){this._isScenarioValid([d.Recents,d.Unknown,d.Push])&&(this._setStartupContext(d.Recents),this._maybeMarkStep("ConversationListPanelRendered"))}recentsRendered(){r.default.phase6End(),this._isScenarioValid([d.Recents,d.Unknown,d.Push])?(this._setStartupContext(d.Recents),this._maybeMarkStep("RecentsRendered"),this._sendStartupTelemetry()):this._reset()}willNavigateToChat(){this._setStartupContext(d.Chat),this._maybeRestartScenario(),this._maybeMarkStep("WillNavigateToChat")}messageStreamRendered(){this._isScenarioValid([d.Chat])?(this._maybeMarkStep("MessaggeStreamRendered"),this._sendStartupTelemetry()):this._reset()}willNavigateToDialpad(){this._setStartupContext(d.Dialpad),this._maybeRestartScenario(),this._maybeMarkStep("WillNavigateToDialpad")}dialpadRendered(){this._isScenarioValid([d.Dialpad])?(this._maybeMarkStep("DialpadRendered"),this._sendStartupTelemetry()):this._reset()}_shouldOverrideDuration(e){return e<=3}_maybeMarkStep(e,t,i){this._isScenarioValid()&&(this._startupScenario.markStepCompleted(e,Object.assign(Object.assign({},this._getAttributes()),i),t,!0),a.log(s.LogTraceArea.Startup,l.ScenarioName[l.ScenarioName.AppStartupIntent]+" mark step: "+e+" "+JSON.stringify(i)))}_isScenarioValid(e){return this._startupScenario.hasStarted()&&!this._startupScenario.isResolved()&&(!e||n.includes(e,this._startupContext))}_fullStartupCompleted(){return!!this._startupPhasesCompleted[5]}_setStartupContext(e,t=!0){this._fullStartupCompleted()||(this._startupContext===d.Unknown||t)&&(a.log(s.LogTraceArea.Startup,"Setting startup telemetry context "+d[e]),this._startupContext=e)}_maybeRestartScenario(){this._fullStartupCompleted()||this._startupScenario.hasStarted()||(this._startupScenario.start(),this._setScenarioTimeout())}_shouldResetScenario(e){return(this._startupContext===d.Push||this._startupContext===d.Unknown)&&e!==c.ColdStartup}_reset(){this._startupScenario.reset()}_getAttributes(){return{AppState:o.App.getActivationState(),StartupContext:d[this._startupContext],ColdStartup:this._startupScenario.isStepMarked("ColdStartup")}}_sendStartupTelemetry(){this._isScenarioValid()&&(this._startupScenario.finish(this._getAttributes()),this._startupScenario.reset())}_setScenarioTimeout(){this._startupScenario.setScenarioTimeout((()=>(this._startupScenario.fail("TimedOut",this._getAttributes()),this._reset(),!1)),6e4)}}},895874:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(823113),s=i(397691),a=i(994224),r=i(109520),l=i(502278),c=i(471727),d=i(47447),u=i(746096),g=i(436237),h=i(172490),p=i(178735),S=i(581736),m=i(583181),C=i(422538),y=i(640363),f=i(478262),b=i(853374);t.default=new class{constructor(){this._onAcceptCallHotKey=()=>{l.default.trackSystemHotKey(r.SystemHotKeyCallAction.Accept);const e=b.default.newCauseId(),t=a.default.CallingStore.getIncomingCallIds(),i=n.head(t);if(n.isEmpty(t)||!i)return g.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onAcceptCallHotKey: No incoming calls found to answer causeId:"+e),!1;if(1!==t.length)return g.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onAcceptCallHotKey: Have "+a.default.CallingStore.getIncomingCallIds().length+" incoming calls, only 1 supported. Doing nothing"),!1;{const t=a.default.CallingStore.getCallConversationMri(i);if(!t)return g.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onAcceptCallHotKey: No Mri found callId:"+i+" causeId:"+e),!1;{g.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onAcceptCallHotKey: Answering call callId:"+i+" causeId:"+e);const n=!y.default.isWindows10Plus();a.default.CallNavigationHelper.answerOrJoinCall({conversationMri:t,callId:i,skipNavigation:!1,autoAnswer:!1,knownToBeAnswer:n,origin:u.NavigationCallOrigin.CallControls},e)}}return!0},this._onRejectCallHotKey=()=>{l.default.trackSystemHotKey(r.SystemHotKeyCallAction.Reject);const e=b.default.newCauseId();let t=!1;if(n.each(a.default.CallingStore.getIncomingCallIds(),(i=>{g.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onRejectCallHotKey: Rejecting call callId:"+i+" causeId:"+e),a.default.CallingStore.rejectCall(i,e),t=!0})),!t){const i=a.default.CallingStore.getConnectedAndNotOnHoldCallId();i&&(g.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onRejectCallHotKey: Ending active call callId:"+i+" causeId:"+e),a.default.CallingStore.endCall(i,e),t=!0)}return t},this._onToggleMute=()=>{if(h.default.hasRegisteredMultipleHandlers(u.KeyboardShortcut.ToggleMicrophone))return!1;l.default.trackSystemHotKey(r.SystemHotKeyCallAction.Mute);const e=b.default.newCauseId();if(S.default.permissionStatus(f.PermissionType.Microphone)!==o.PermissionStatus.Granted)return g.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onToggleMute: Toggle mute failed causeId:"+e),!1;{g.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onToggleMute: Toggle mute causeId:"+e);const t=a.default.CallingStore.getConnectedAndNotOnHoldCallId();if(!t)return g.log(u.LogTraceArea.CallingUI,"SystemHotKeyService._onToggleMute: No active calls found causeId:"+e),!1;l.default.updateCallTelemetry(t,e,(e=>e.muteSystemHotKeyPress())),a.default.CallingStore.isMuted(t)?(a.default.CallingStore.unmute(t,e),c.default.announceMicrophoneState(!1)):(a.default.CallingStore.mute(t,e),c.default.announceMicrophoneState(!0))}return!0},C.RegisterStartupable(this,"SystemHotKeyService"),this._stateStoreSubToken=void 0}startup(){return d.UICapabilities.systemHotKeysSupported()&&(this._initializeSystemHotKeyService(),g.log(u.LogTraceArea.CallingUI,"SystemHotKeyService.startup: System hotkey enabled. Has subscribed to service state store changes")),s.Resolved()}_initializeSystemHotKeyService(){this._stateStoreSubToken=m.default.subscribe((()=>{m.default.isInCallEstablishment()||m.default.isInCall()?this._registerSystemHotKeys():this._unRegisterSystemHotKeys()}),m.TriggerKeys.CallingStatusKey),p.default.subscribe((()=>{if(this._stateStoreSubToken){p.default.getUserPreferencesLocal().enableSystemHotKeys?(g.log(u.LogTraceArea.CallingUI,"SystemHotKeyService: System hotkey enabled from settings"),this._registerSystemHotKeys()):(g.log(u.LogTraceArea.CallingUI,"SystemHotKeyService: System hotkey disabled from settings"),this._unRegisterSystemHotKeys())}}))}_registerSystemHotKeys(){p.default.getUserPreferencesLocal().enableSystemHotKeys&&(this._unRegisterSystemHotKeys(),(a.default.CallingStore.hasConnectedCalls()||m.default.isInCall()&&!m.default.isInCallEstablishment())&&(h.default.addSystemHandler(u.KeyboardShortcut.ToggleMicrophone,this._onToggleMute),h.default.addSystemHandler(u.KeyboardShortcut.HangupOrRejectCall,this._onRejectCallHotKey)),m.default.isInCallEstablishment()&&h.default.addSystemHandler(u.KeyboardShortcut.HangupOrRejectCall,this._onRejectCallHotKey))}_unRegisterSystemHotKeys(){h.default.removeSystemHandler(u.KeyboardShortcut.ToggleMicrophone,this._onToggleMute),h.default.removeSystemHandler(u.KeyboardShortcut.AcceptIncomingCall,this._onAcceptCallHotKey),h.default.removeSystemHandler(u.KeyboardShortcut.HangupOrRejectCall,this._onRejectCallHotKey)}}},198762:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextNotificationToastMessage=t.SkypeNotificationToastMessage=t.ScheduledCallToastMessage=void 0;const n=i(496486),o=i(516778),s=i(974634),a=i(300060),r=i(898278),l=i(899686),c=i(217093),d=i(330124),u=i(827357),g=i(886045);class h{constructor(e,t,i,n){this.skypeMessage=e,this.scheduledCallInfo={type:t,initiator:i,subject:n}}}t.ScheduledCallToastMessage=h;class p{constructor(e){this.message=e}}t.SkypeNotificationToastMessage=p;class S{constructor(e,t,i){this.textMessage=e,this.conversationId=t,this.onToastDismissed=i}}t.TextNotificationToastMessage=S;t.default=new class{constructor(){this.event_localNotificationReady=new s.default,this._notificationsToPop=[],this._toastCurrentlyShowing=!1,a.default.subscribeForChanges("ToastService",(()=>{this._showToastMessageIfNeeded()}))}scheduleTextMessage(e,t,i){this._notificationsToPop.push(new S(e,t,i)),this._showToastMessageIfNeeded()}scheduleSkypeMessage(e){this._notificationsToPop.push(new p(e)),this._showToastMessageIfNeeded()}scheduleMessageForScheduledCall(e,t,i,n){this._notificationsToPop.push(new h(e,t,i,n)),this._showToastMessageIfNeeded()}hideCurrentToastMessage(){this._toastCurrentlyShowing=!1,this._showToastMessageIfNeeded()}showMessageForScreenReaders(){if(g.default.isMobileScreenReaderEnabled())if(d.default.isUsingStackNavigationContextNoSubscription()){if(u.default.isHubOnTopOfNavStackNoSubscription())return!0}else{const e=u.default.getCompositeMainStageNavViewModeNoSubscription();if(e!==c.MainStageNavViewMode.Call&&e!==c.MainStageNavViewMode.ForcedUpgradeScreen)return!0}return!1}_shouldShowSkypeConversationMessages(e){if(this.showMessageForScreenReaders())return!0;const t=u.default.getActiveConversationId(r.MainRootViewId);return!(!t||t===e.conversationId&&l.default.isCurrentUserActive())}_showToastMessageIfNeeded(){const e=n.head(this._notificationsToPop);if(o.App.getActivationState()===o.Types.AppActivationState.Active&&!this._toastCurrentlyShowing){if(e&&e instanceof p){if(!this._shouldShowSkypeConversationMessages(e.message))return n.remove(this._notificationsToPop,(e=>e instanceof p)),void this._showToastMessageIfNeeded()}this.event_localNotificationReady.fire(e),e&&(this._notificationsToPop.shift(),this._toastCurrentlyShowing=!0)}}}},395588:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(496486),s=i(397691),a=i(889391),r=i(562141),l=i(746096),c=i(436237),d=i(998754),u=(i(710962),i(178735)),g=i(18078),h=i(981956),p=i(852644),S=i(404057),m=i(640363),C=i(579577),y=i(912770),f=i(418782),b=i(818882);t.default=new class{constructor(){this._msaKeychainKey=C.KeychainKeys.DesktopMSATokenDefaultKey}getInitialSkypeToken(){return c.log(l.LogTraceArea.TokenStore,"getInitialSkypeToken - fetching SkypeToken from DataStore"),s.Resolved(h.default.fromDbToken(d.default.getData(r.InternalKeys.SkypeToken)))}setSkypeToken(e){return c.log(l.LogTraceArea.TokenStore,"setSkypeToken - setting SkypeToken to DataStore"),d.default.putData(r.InternalKeys.SkypeToken,e?{rawToken:e.rawToken,expiration:e.expiration}:void 0)}getInitialMSAToken(e){if(g.default.isGuestUser()||e&&e===l.LoginMethods[l.LoginMethods.WAM])return c.log(l.LogTraceArea.TokenStore,`getInitialMSAToken - skip trying to fetch MSAToken from KeyChain for guest or WAM users (login method: ${e})`),s.Resolved(void 0);return c.log(l.LogTraceArea.TokenStore,"getInitialMSAToken - getting MSAToken from DataStore"),s.Resolved(d.default.getData(r.InternalKeys.MSARefreshToken))}setMSAToken(e){this.maybeUpdateMsaTokenKey();return c.log(l.LogTraceArea.TokenStore,"setMSAToken - setting MSAToken to DataStore"),d.default.putData(r.InternalKeys.MSARefreshToken,e)}maybeUpdateMsaTokenKey(){}isLiveLogin(e){return void 0===e||e===l.LoginMethods[l.LoginMethods.LiveLogin]}getLoginMethod(){return b.LocalStorage.getItem(b.StorageKeys.LoginMethod).then((e=>(c.log(l.LogTraceArea.TokenStore,`Successfully got login method from localStorage - ${e}`),e))).catch((e=>{c.error(l.LogTraceArea.TokenStore,"Failed to get login method "+S.default.errorAsString(e))}))}shouldMigrateMsaTokenToNewKey(e){if(!m.default.isWindows10Plus()||!e)return!1;const t=a.default.getS4LSisuFeatures().msaTokenKeyMigration,i=(null==t?void 0:t.enabled)&&!m.default.isWindows11()&&this._msaKeychainKey!==(null==t?void 0:t.keychainKey),n=(!(null==t?void 0:t.enabled)||m.default.isWindows11())&&this._msaKeychainKey!==C.KeychainKeys.DesktopMSATokenDefaultKey;return c.log(l.LogTraceArea.TokenStore,`migrateMsaTokenToNewKey is ${i}, rollbackToDefaultMsaTokenKey is ${n}`),i||n}getMsaRefreshTokenKeysToTry(){const e=[this._msaKeychainKey],t=u.default.getMsaTokenKey(),i=a.default.getS4LSisuFeatures().msaTokenKeyMigration;return c.log(l.LogTraceArea.TokenStore,`getMsaRefreshTokenKeysToTry - MSA token key from prefs: ${t}`),o.isUndefined(t)||t===this._msaKeychainKey?o.isUndefined(t)&&(c.log(l.LogTraceArea.TokenStore,"getMsaRefreshTokenKeysToTry - MSA token key is undefined in preferences"),(null==i?void 0:i.enabled)&&e.indexOf(null==i?void 0:i.keychainKey)<0&&e.unshift(null==i?void 0:i.keychainKey),this._msaKeychainKey!==C.KeychainKeys.DesktopMSATokenDefaultKey&&e.indexOf(C.KeychainKeys.DesktopMSATokenDefaultKey)<0&&e.push(C.KeychainKeys.DesktopMSATokenDefaultKey)):e.unshift(t),c.log(l.LogTraceArea.TokenStore,`getMsaRefreshTokenKeysToTry - going to try these keys: ${e.toString()}`),e}provideSsoToken(e){o.isNil(e)?p.default.removeSkypeSsoAccount():p.default.provideSkypeSsoAccount(e)}clearTokensFromKeychain(){return s.all([f.clearMSARefreshTokenFromKeychain(this._msaKeychainKey),f.clearSkypeTokenFromKeychain()]).then(o.noop)}clearMSATokenFromKeychain(){return f.clearMSARefreshTokenFromKeychain(this._msaKeychainKey)}isValidMSARefreshToken(e){return!0}_retryWithExponentialBackoffTimeout(e,t,i={maxRetries:2,retryCount:0,lastError:null}){return n.__awaiter(this,void 0,void 0,(function*(){if(i.retryCount>i.maxRetries)return s.Rejected(i.lastError);try{return i.retryCount>0&&t(i.retryCount),yield e()}catch(n){return yield new Promise((e=>{y.default.setTimeout((()=>{e()}),Math.pow(10,i.retryCount+2))})),yield this._retryWithExponentialBackoffTimeout(e,t,Object.assign(Object.assign({},i),{retryCount:i.retryCount+1,lastError:n}))}}))}}},61967:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(626674),s=i(974634),a=(i(889391),i(746096),i(422538));i(640363);t.default=new class{constructor(){this._responseQueue={},this.event_response=new s.default,this.event_progress=o.default.onProgress,a.RegisterStartupable(this,"TransferResponseQueueService",[])}startup(){o.default.onResponse.subscribe(((e,t)=>{this._responseQueue[e]={id:e,success:!0,response:t},this.event_response.fire()})),o.default.onClientFailure.subscribe(((e,t)=>{this._responseQueue[e]={id:e,success:!1,response:t},this.event_response.fire()}));return o.default.getKnownRequestIdsAtStartup(!1).then((e=>{this._startupActiveTransferIds=n.keyBy(e)}))}wasTransferIdKnownDuringStartup(e){return!(!this._startupActiveTransferIds||!this._startupActiveTransferIds[e])}hasTransferResponses(){return!n.isEmpty(this._responseQueue)}drainResponseQueue(){const e=this._responseQueue;return this._responseQueue={},e}}},208188:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(174958),o=i(397691),s=i(889391),a=i(422538),r=i(327795),l=i(235478);t.default=new class{constructor(){n.RootToolsManager.setDelegate(this),a.RegisterStartupable(this,"UnifiedLoggingService")}startup(){return s.default.subscribe((()=>n.RootToolsManager.OnEcsChange())),n.RootToolsManager.OnEcsChange(),o.Resolved()}fetchEcsConfig(e,t){if("SkypeRootTools"===e&&"ULBaseline"===t){const e=s.default.getSkypeRootToolsConfig();return o.Resolved(e?e[t]:{})}return o.Resolved(s.default.getULLogUploadConfig(e,t))}sendTelemetry(e,t){l.default.addEvent(new r.LogUploadEvent(e,t))}}},267096:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(397691),s=i(746096),a=i(436237),r=i(821328),l=i(422538),c=i(863066);t.default=new class{constructor(){this._scenarioQueue={},this._scenarioTimestamps={},this._firstSuccessfulSearch=!1,l.RegisterStartupable(this,"UserActionsTelemetryService")}startup(){return o.Resolved()}setScenarioTimestamp(e,t){this._scenarioTimestamps[e]=t||Date.now()}resetScenarioTimestamp(e){this._getScenarioTimestamp(e)&&delete this._scenarioTimestamps[e]}onSearchPanelUnmount(e,t){this.resetScenarioTimestamp(e),this._firstSuccessfulSearch||(a.track(new c.UserActionsTelemetryEvent({firstSuccessfulSearch:!1})),t&&(this._scenarioQueue=n.omit(this._scenarioQueue,this._getScenarioUniqueId(t,e)))),this._firstSuccessfulSearch=!1}initiateScenario(e,t,i={}){a.log(s.LogTraceArea.UserActionsTelemetry,"UserActionsTelemetryService initiateScenario"),this._createScenario(e,t,i)}track(e){return this._sendScenarios(e)}sendScenario(e){const t=this._getScenario(e.ref,e.scenarios[0]),i=this._getScenarioDuration(t);let n=!1;i&&t&&(a.log(s.LogTraceArea.UserActionsTelemetry,"UserActionsTelemetryService sendScenario"),e.scenarios[0]===c.Scenarios.SearchToConversation&&(n=r.default.isAbsoluteSuccessSearch(e)),!this._firstSuccessfulSearch&&n?(this._firstSuccessfulSearch=!0,a.track(new c.UserActionsTelemetryEvent({name:e.name,duration:i,scenario:e.scenarios[0],additionalAttributes:t.additionalAttributes,firstSuccessfulSearch:!0}))):a.track(new c.UserActionsTelemetryEvent({name:e.name,duration:i,scenario:e.scenarios[0],additionalAttributes:t.additionalAttributes})),this._deleteScenario(e.ref,e.scenarios[0]))}interruptScenarios(e,t){n.each(t,(t=>this._interruptScenario(e,t)))}clearScenarios(e,t){n.each(t,(t=>this._deleteScenario(e,t)))}_sendScenarios(e){n.each(e.scenarios,(t=>{if(this._getScenario(e.ref,t)){const i=Object.assign(Object.assign({},e),{scenarios:[t]});return this.sendScenario(i)}}))}_getDurationInSeconds(e){return Math.floor((Date.now()-e)/1e3)}_getScenarioDuration(e){return this._getDurationInSeconds(e.timestamp)}_interruptScenario(e,t){this.track({ref:e,scenarios:[t],name:c.Actions.InterruptScenario})}_deleteScenario(e,t){this._scenarioQueue=n.omit(this._scenarioQueue,this._getScenarioUniqueId(e,t))}_getScenario(e,t){return this._scenarioQueue[this._getScenarioUniqueId(e,t)]}_getScenarioUniqueId(e,t){return`${e}_${t}`}_createScenario(e,t,i={}){const n=this._getScenarioUniqueId(e,t);this._scenarioQueue[n]={timestamp:this._getScenarioTimestamp(t)||Date.now(),additionalAttributes:i}}_getScenarioTimestamp(e){return this._scenarioTimestamps[e]}}},189125:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.debug_existingCacheFolderInfo=void 0;const n=i(174958),o=i(496486),s=i(106114),a=i(974634),r=i(397691),l=i(562141),c=i(746096),d=i(753559),u=i(436237),g=i(404057),h=i(912770);t.debug_existingCacheFolderInfo={count:0};t.default=class{constructor(e,i=[]){this.cacheUpdated=new a.default,this._infos={},this._totalSize=0,this.CacheName=e,this.BaseUri=s.default.getLocalUriBase(e),t.debug_existingCacheFolderInfo.count++,s.default.isLocalCacheSupported()&&o.each(i,(e=>{const t=h.default.setExpiration(this._timerExpiredCallback(e),e.expiration);this._infos[e.id]={pending:!1,addedPromise:r.Resolved(),meta:e,timer:t},this._totalSize+=e.size||0}))}static isLocalCacheSupported(){return s.default.isLocalCacheSupported()}getAllMeta(){return o.map(this._infos,(e=>e.meta))}getTotalSize(){return this._totalSize}getMeta(e){return this._infos[e]&&this._infos[e].meta}getUri(e){const t=this._infos[e];if(t&&!t.pending)return s.default.getLocalUri(this.CacheName,this._infos[e].meta.filename)}addFile(e,t,i,n,o,s){return this._add(e,t,i,n,o,s,!0)}addMetadata(e,t,i,n,o){return this._add(e,t,i,n,!1,o,!1)}_add(e,t,i,n,o,a,c){if(this._infos[e]){const t='FileCacheMetadataService already knows a file with that id: refusing to "'+(c?o?"copy":"move":"add")+'", cacheName: '+this.CacheName+", id: "+e;return r.Rejected(t)}const d={id:e,cacheName:this.CacheName,filename:i,expiration:n,context:a},u=r.Resolved().then((()=>this._blockFolderChangesPromise)).then((()=>l.default.putFileCacheMetadata(d).then((()=>{if(c)return s.default.save(this.CacheName,t,i,o).then((e=>(d.size=e.size,this._totalSize+=d.size||0,l.default.putFileCacheMetadata(d))))})))),g=h.default.setExpiration(this._timerExpiredCallback(d),d.expiration),p={pending:!0,meta:d,addedPromise:u,timer:g};return this._infos[d.id]=p,u.then((()=>{p.pending=!1,this.cacheUpdated.fire(e)}))}removeFile(e){return this._remove(e,!0)}removeMetadata(e){return this._remove(e,!1)}_remove(e,t){const i=this._infos[e];return i?(i.timer&&(h.default.clearExpiration(i.timer),i.timer=void 0),i.removedPromise||(i.removedPromise=i.addedPromise.always((()=>this._blockFolderChangesPromise)).then((()=>l.default.removeFileCacheMetadata(this.CacheName,e).then((()=>{if(delete this._infos[e],this._totalSize-=i.meta.size||0,t)return this._cacheRemove(this.CacheName,i.meta.filename)}))))),i.removedPromise.finally((()=>this.cacheUpdated.fire(e)))):r.Resolved()}_cacheRemove(e,t){const i=[s.default.remove(e,t)];return d.default.isImageExtension(d.default.extractFileExtension(t))&&i.push(s.default.evictFromImageCache(e,t).catch(o.noop)),r.all(i).then(o.noop)}updateExpiration(e,t){const i=this._infos[e];return i?i.addedPromise.then((()=>{if(!i.removedPromise&&i.meta.expiration!==t)return i.timer&&(h.default.clearExpiration(i.timer),i.timer=void 0),i.meta.expiration=t,i.timer=h.default.setExpiration(this._timerExpiredCallback(i.meta),t),l.default.putFileCacheMetadata(i.meta)})).done((()=>this.cacheUpdated.fire(e))).catch(o.noop):r.Resolved()}cleanupMissingFilesAndMetadata(){if(this._blockFolderChangesPromise)return this._blockFolderChangesPromise;const e=o.flatMap(this._infos,(e=>[e.addedPromise,e.removedPromise])),t=o.map(e,(e=>e&&e.catch(o.noop)));return this._blockFolderChangesPromise=r.all(t).then((()=>s.default.getAllCachedFileNames(this.CacheName))).then((e=>{const t=o.keyBy(e),i=o.keyBy(this._infos,(e=>e.meta.filename));o.each(e,(e=>{i[e]||this._cacheRemove(this.CacheName,e).catch((t=>{u.log(c.LogTraceArea.FileCacheMetadataService,"Ignoring FileCache error during cleanup: cacheName: "+n.pii.Omit(this.CacheName)+", filename: "+n.pii.Omit(e)+", error: "+g.default.errorAsString(t))}))})),o.each(i,((e,i)=>{e.pending||t[i]||this.removeFile(e.meta.id).catch((t=>{u.log(c.LogTraceArea.FileCacheMetadataService,"Ignoring error during cleanup: cacheName: "+n.pii.Omit(this.CacheName)+", id: "+n.pii.Omit(e.meta.id)+", error: "+g.default.errorAsString(t))}))}))})).always((()=>{this._blockFolderChangesPromise=void 0})),this._blockFolderChangesPromise}debug_removeAll(){const e=o.map(this._infos,(e=>this.removeFile(e.meta.id).catch((t=>{u.log(c.LogTraceArea.FileCacheMetadataService,"Ignoring error during debug: cacheName: "+n.pii.Omit(this.CacheName)+", id: "+n.pii.Omit(e.meta.id)+": error: "+g.default.errorAsString(t))}))));return r.all(e).then(o.noop)}_timerExpiredCallback(e){return()=>{u.log(c.LogTraceArea.FileCacheMetadataService,"Removing expired file from cache: "+n.pii.Omit(this.CacheName)+", id: "+n.pii.Omit(e.id)),this._remove(e.id,!0)}}}},179777:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(189125),s=i(562141),a=i(422538);t.default=new class{constructor(){a.RegisterStartupable(this,"FileCacheMetadataService")}startup(){return o.debug_existingCacheFolderInfo.count=0,this._claimedCaches={},s.default.getAllFileCacheMetadata().then((e=>{this._startupCacheMetas=n.groupBy(e,(e=>e.cacheName))}))}isLocalCacheSupported(){return o.default.isLocalCacheSupported()}getCache(e){if(this._claimedCaches[e])return this._claimedCaches[e];const t=new o.default(e,this._startupCacheMetas[e]);return this._claimedCaches[e]=t,delete this._startupCacheMetas[e],t}}},907234:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CacheEvictionKind=void 0;const n=i(496486),o=i(974634),s=i(397691),a=i(746096),r=i(179777),l=i(172685),c=i(436237),d=i(649130),u=i(422538),g=i(404057),h=i(327795),p=i(912770),S="FileCache";!function(e){e[e.Unknown=0]="Unknown",e[e.UserInvolved=100]="UserInvolved",e[e.Preview=200]="Preview",e[e.Image=300]="Image",e[e.Video=400]="Video"}(t.CacheEvictionKind||(t.CacheEvictionKind={}));const m=25e7;t.default=new class{constructor(){this.cacheUpdated=new o.default,this._dontPerformEviction=!1,u.RegisterStartupable(this,"FileCacheService",[r.default,l.default])}startup(){return this._cache=r.default.getCache(S),this._cache.cacheUpdated.subscribe((e=>{this.cacheUpdated.fire(e)})),this.isLocalCacheSupported()&&l.default.setRefreshOptions("FileCacheService",{interval:432e5,callback:()=>{if(this._cache)return this._cache.cleanupMissingFilesAndMetadata()},nextExecution:Date.now(),taskTypeFlags:l.TaskTypeFlags.CpuIntensive}),s.Resolved()}isLocalCacheSupported(){return r.default.isLocalCacheSupported()}isKnown(e){return!!this._cache&&!!this._cache.getMeta(e)}getLocalUri(e){if(this._cache)return this._cache.getUri(e)}save(e,t,i,n,o,a,r){if(!this._cache)return s.Rejected("FileCacheService not started.");const{uniqueFilename:l,baseFilename:c}=this._getUniqueSanitizedFilenameInfo(i),d={originalFilename:i,originalBaseFilename:c,evictionKind:a,evictionRank:r,extension:this._getOriginalExtension(i)};return this._cache.addFile(e,t,l,n,o,d).then((()=>{this._checkFilesFitInCache()}))}remove(e){return this._cache?this._cache.removeFile(e):s.Rejected("FileCacheService not started.")}_checkFilesFitInCache(){if(this._dontPerformEviction)return;if(!this._cache)return;const e=this._cache.getTotalSize();if(e>m){const t=n.filter(this._cache.getAllMeta(),(e=>e.context&&!!e.context.evictionKind)),i=n.groupBy(t,(e=>e.context.evictionKind)),o=n.sortBy(i,((e,t)=>-t));let r=e-2e8;const l=[];n.each(o,(e=>{const t=n.sortBy(e,(e=>e.context.evictionRank));return n.each(t,(e=>{if(e.size)return l.push(e.id),r-=e.size||0,r>0})),r>0})),c.log(a.LogTraceArea.GenericUnsafe,"Evicting ids: "+l.join(", "));const d=n.map(l,(e=>{if(this._cache)return this._cache.removeFile(e).catch((t=>{const i=this._cache?this._cache.CacheName:S;c.log(a.LogTraceArea.GenericUnsafe,"Ignoring error during size cleanup: cacheName: "+i+", id: "+e+", error: "+g.default.errorAsString(t))}))}));this._dontPerformEviction=!0,s.all(d).always((()=>p.default.sleep(3e4).always((()=>{this._dontPerformEviction=!1,this._checkFilesFitInCache()}))))}}_getOriginalExtension(e){const t=e.lastIndexOf(".");return-1===t?"":e.substring(t+1)}_getUniqueSanitizedFilenameInfo(e){const t=d.lossyForUserFile(e),i=t.lastIndexOf("."),o=-1===i?t:t.substring(0,i),s=-1===i?"":t.substring(i),a=o.replace(/(-\d+)+$/,""),r=a.toLowerCase(),l=n.filter(this._cache?this._cache.getAllMeta():[],(e=>e.context.originalBaseFilename.toLowerCase()===r)),u=t.toLowerCase(),g=n.every(l,(e=>e.filename.toLowerCase()!==u));if(!l.length||g)return{uniqueFilename:t,baseFilename:a};const p=n.keyBy(l,(e=>e.filename.toLowerCase())),S=2+l.length;for(let e=1;e<S;e++){const t=o+("-"+e)+s;if(!p[t.toLowerCase()])return{uniqueFilename:t,baseFilename:a}}return c.track(new h.DevAlert("FileCache failed to generate unique filename")),{uniqueFilename:o+"-"+Date.now()+s,baseFilename:a}}}},653700:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691),o=i(746096),s=i(179777),a=i(970004),r=i(172685),l=i(436237),c=i(422538),d=i(404057);class u{constructor(e=[]){this._dependencies=e,c.RegisterStartupable(this,"FileUploadCache",this._dependencies)}getDependencies(){return this._dependencies}startup(){return n.Resolved()}isLocalCacheSupported(){return s.default.isLocalCacheSupported()}isKnown(e){return!1}getSize(e){}saveFileIfSupported(e,t){return n.Resolved()}finishedButKeepForRetry(e){return n.Resolved()}finished(e){return n.Resolved()}abandon(e){return n.Resolved()}}const g=s.default.isLocalCacheSupported()?new class extends u{constructor(){super([s.default,r.default])}startup(){return this._cache=s.default.getCache(a.internal_cacheConfig.DefaultCacheName),this.isLocalCacheSupported()&&r.default.setRefreshOptions("FileUploadCache",{interval:864e5,callback:()=>this._cache.cleanupMissingFilesAndMetadata(),nextExecution:Date.now(),taskTypeFlags:r.TaskTypeFlags.CpuIntensive}),n.Resolved()}isKnown(e){return!!this._cache.getMeta(e)}getSize(e){const t=this._cache.getMeta(e);return t&&t.size}saveFileIfSupported(e,t){if(e&&t&&this.isLocalCacheSupported()){const i=e.file.uri;return this._cache.addFile(t.name,i,t.name,Date.now()+7776e6,t.asCopy,{})}return n.Resolved()}finishedButKeepForRetry(e){return this._cache.updateExpiration(e,Date.now()+6048e5)}finished(e){return this._cache.updateExpiration(e,Date.now()+18e4)}abandon(e){return this._cache.removeFile(e).catch((e=>{l.log(o.LogTraceArea.FileUploadCache,"Ignoring abandon failure: "+d.default.errorAsString(e))}))}}:new u;t.default=g},699097:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(174958),o=i(496486),s=i(106114),a=i(823113),r=i(397691),l=i(898278),c=i(746096),d=i(436237),u=i(581736),g=i(364956),h=i(422538),p=i(404057),S=i(478262);t.default=new class{constructor(){h.RegisterStartupable(this,"PublicDownloadsFolderService",[u.default])}startup(){return r.Resolved()}copyToDownloadsFolder(e,t){return s.default.copyToDownloadFolder(e,t).then(o.identity,(e=>{d.error(c.LogTraceArea.PublicDownloadsFolderService,"Failed to copy file to public Downloads folder: "+p.default.errorAsString(e))}))}copyToUri(e,t){return s.default.copyToUri(e,t).then(o.identity,(e=>{d.error(c.LogTraceArea.PublicDownloadsFolderService,"Failed to copy file to path ["+n.pii.Omit(t)+" ]: "+p.default.errorAsString(e))}))}androidRemoveFromPublicFolder(e){return s.default.removeFromDownloadFolder(e).catch((t=>(d.error(c.LogTraceArea.PublicDownloadsFolderService,"Failed to remove file "+n.pii.Omit(e)+"from android public folder after timeout: is there anything we can do? "+p.default.errorAsString(t)),!1)))}requestCameraRollPermission(){const e=S.PermissionType.CameraRoll;return u.default.permissionStatus(e)===a.PermissionStatus.Granted?r.Resolved(!0):(d.log(c.LogTraceArea.PublicDownloadsFolderService,"Checking for CameraRoll permission"),u.default.requestPermission(e,S.PermissionPromptOptions.SkipPrePrompt|S.PermissionPromptOptions.PromptAgainIfDenied).then((t=>t===a.PermissionStatus.Granted?(d.log(c.LogTraceArea.PublicDownloadsFolderService,"CameraRoll permission granted"),!0):(g.default.showDeniedPromptWithSettingsOption(e,l.MainRootViewId),d.log(c.LogTraceArea.PublicDownloadsFolderService,"CameraRoll permission declined"),!1))).catch((e=>(d.log(c.LogTraceArea.PublicDownloadsFolderService,"CameraRoll permission error",p.default.errorAsString(e)),!1))))}}},452374:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ActionResult=void 0,function(e){e[e.None=0]="None",e[e.InvalidParameters=1]="InvalidParameters"}(t.ActionResult||(t.ActionResult={}))},562141:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDatabaseTransaction=t.Indexes=t.Stores=t.InternalKeys=void 0;const n=i(496486),o=i(18081),s=i(397691),a=i(801919),r=i(714602),l=i(195314),c=i(138438),d=i(9001),u=i(185455),g=i(682842),h=i(746096),p=i(436237),S=i(112692),m=i(136402);let C=51;C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C+=2,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,C++,t.InternalKeys={SkypeToken:"skypetoken2",AMSCookieSkypeToken:"priv_amscookieskypetoken2",TeamsCookieSkypeToken:"priv_teamscookieskypetoken",MSARefreshToken:"msarefreshtoken",MsaUserInternalToken:"msaUserInternalToken",CdnToken:"cdntoken",ApsETag:"priv_apsetag_v3",ApsFeaturedAgentsETag:"priv_apsfeaturedagentsetag_v2",ApsIntegrationsETag:"priv_apsintegrationsetag_v2",ContactsDeltaSyncETag:"contactsdeltasyncetag_v17",ContactsNextFullSync:"contacts_next_fullsync",Prefs:"priv_prefs_v2",PrefsLocal:"priv_prefsLocal",ConversationListSyncInfo:"priv_convlistsyncinfov14",ContactMris:"priv_contactusernames_v4",ContactInvites:"priv_contactinvites",AddressBookContactHashes:"priv_addressbookcontacthashes_v2",EcsConfig:"priv_ecscache",EngagementCampaignData:"priv_engagementcampaigndata",PesConfigInfo:"priv_pesconfiginfo",PesTabs:"priv_pestabs",Emoticons:"priv_emoticons",RecentlyUsedEmoticons:"priv_mru_emoticons",CustomReactionsTones:"priv_crt_reactions",LastlyUsedEmoticonTones:"priv_lut_emoticons",LastlyUsedEmoticonGroupItem:"priv_luegi_emoticons",Mojis:"priv_mojis",RecentlyUsedMojis:"priv_mru_mojis",PhoneCountryCache:"priv_phonecountrycache_v4",DeviceId:"priv_deviceid",LastDBCleanupVersion:"lastCleanupVersion",MyUserStoreData:"priv_myuserstore",ChatServiceRegToken:"priv_csregtoken",EntitlementsData:"priv_EntitlementsData",LastOverlayConfigurationETag:"priv_lastOverlayConfigurationETag",ChatServiceSessionInfo_deprecated:"chatservicesessioninfo",InfoRefreshServiceCache:"priv_inforefreshcache",ContactsDirtyBit:"priv_contactsdirtybit_v5",ContactInvitesDirtyBit:"priv_contactinvitesdirtybit",SyncAddressBookEnabled:"priv_syncaddressbookenabled",PhoneRegisteredWithShortCircuitCheckCompleted:"phoneRegisteredWithShortCircuitCheckCompleted",BingSearchConfig:"bingsearchconfigdata",EdfRegistrationInfo:"priv_pnhregistrationinfo",PreferedDevices:"preferedDevices",NdiConfig:"ndiConfig",MyUserColor:"priv_myUserColor",PendingMediaPrefetchV1:"priv_pendingMediaPrefetch",PendingMediaPrefetch:"priv_pendingMediaPrefetch_v2",WebOfferStoreCache:"priv_webofferstorecache",IOSOfferStoreCache:"priv_iosofferstorecache",GPlayCreditOffersCache:"priv_gplaycreditofferscache",GPlaySubscriptionsOffersCache:"priv_gplaysubsofferscache",NativeSNOfferStoreCache:"priv_nativesnofferstorecache",SNReservationCache:"priv_snreservationcache",BillingInformationCache:"priv_billinginformation",PersonalizedOfferStoreCache:"priv_personalizedofferstorecache",NativePersonalizedOfferStoreCache:"priv_nativepersonalizedofferstorecache",PurchaseOptionsStoreCache:"priv_purchaseoptionsstorecache",BlockedMriStoreCache:"priv_blockeduserstorecache",PesStickerInCaptureConfigInfo:"priv_pesstickercaptureconfiginfo",PesStickerInChatConfigInfo:"priv_pesstickerchatconfiginfo",PesStickerInCaptureTabs:"priv_pesstickercapturetabs",PesStickerInChatTabs:"priv_pesstickerchattabs",StickersInCapture:"priv_stickerscapture",StickersInChat:"priv_stickerschat",RecentlyUsedStickersInCapture:"priv_mru_stickerscapture",RecentlyUsedStickersInChat:"priv_mru_stickerschat",RecentlyUsedEffectsInCapture:"priv_mru_effectscapture",PesGifConfigInfo:"priv_pesgifconfiginfo",PesGifTabs:"priv_pesgiftabs",AgentMrisToImportantize:"AgentMrisToImportantize",SuggestionFeedbackMessageIds:"priv_suggestionsFeedbackClicked",SuggestionsData:"priv_suggestionsData",DeviceStoreSettings:"DeviceStoreSettings",EndToEndEncryptionData:"e2eeData",SecureDeviceId:"priv_securedeviceid",Integrations:"integrations",MyUserPresence:"priv_myUserPresence",ClockSkew:"priv_clockSkew",EngagementUserTaggingConfig:"engagement_user_tagging_config",ActiveCalls:"priv_activeCalls",PrivateConversations:"privateConversations",TransferServicesMeta:"TransferServicesMeta",IsOnGoGoSSID:"priv_isOnGoGoSSID",EcsParamCache:"priv_ecsParamCache",SharedIdServiceCache:"priv_sharedidcache",CelebrationNotificationLastShownTime:"priv_celebrationNotificationLastShownTime",AppActivity:"priv_appactivity",AuthTokenLastRefreshDate:"authtokenlastrefreshdate",AuthTokenNextRefreshDate:"authtokennextrefreshdate",MyUserProfileV2:"MyUserProfileV2",LocalOverriddenEcsConfig:"priv_localoverrideecscache",CallCaptionsCleanupStartTimestamp:"callcaptionscleanupstarttimestamp",CallCaptionsCleanupEndTimestamp:"callcaptionscleanupendtimestamp",CallerIdCountryCodes:"calleridcountrycodes",CallerIdLastPrimaryNumberId:"priv_calleridlastprimarynumberid",SendCreditOptions:"priv_sendcreditoptions",BingSearchHistory:"priv_bingSearchHistory",MagicBotToolboxData:"magicbottoolboxdata",MagicBotConversationSuggestions:"magicbotconversationsuggestions",MagicBotConversationSuggestionsRefreshTimestamp:"magicbotconversationsuggestionsrefreshtimestamp",ToneRewriteTones:"tonerewritetones"},t.Stores={Conversations:"conversationsv14",Alerts:"alertsv12",PopCards:"popupcards",InternalData:"internaldata",Messages:"messagesv12",Profiles:"profilecachev8",ProfileMinis:"miniprofilecachev8",Telemetry:"telemetrycachev3",Agents:"agentscachev3",FeaturedAgents:"featuredagentscache",AgentIdUserIdPairs:"priv_agentiduseridpairs",IntegrationConsents:"priv_integrationconsents",PersistentActions:"persistentActionsv2",LocalNotifications:"localnotificationsv2",FileCacheMetadata:"fileCachemetadata",FileTracker:"fileTracker",LocalAddressBookContacts:"localAddressBookContacts",ImagePrefetchInfo:"imagePrefetchInfo",Connectors:"connectors",EngagementPullCampaigns:"engagementpullcampaigns",ConsumedConciergeBotMessages:"consumedconciergebotmsgs",CallLogs:"calllogs",Drafts:"drafts",EngagementMessagesQueueStore:"engagementMessagesQueue",MediaDrafts:"mediadrafts",Monetization:"monetization"},t.Indexes={Conversations_IsHighlight_HasUnread:"convHlHasUnread",Conversations_IsHighlight_ForceToRecents_Timestamp:"convHlRecentsTimestamp",Conversations_NeedsSync:"convNeedsSync",Conversations_SearchTerms:"searchTerms",Alerts_Read_Timestamp:"alertsReadTimestamp",Alerts_ConvId:"alertsConvid",Agents_Important:"agentsImportant",Agents_Whitelisted:"agentsWhitelisted",Messages_ConversationId_CreatedTime:"convidcreatedtime",Messages_ConversationId_CountsType_CreatedTime:"convidcountscreatedtime",Messages_ConversationId_IsMyMessage_CreatedTime:"convidmymessagecreatedtime",Profiles_PhoneNumber:"phoneNumbersIndex",Telemetry_Priority_Timestamp:"prioritytimestamp"};class y extends d.ClientDatabaseBase{constructor(){super(...arguments),this._schema={version:90,lastUsableVersion:10,stores:[{name:t.Stores.Messages,estimatedObjBytes:1500,primaryKeyPath:["conversationId","cuid"],indexes:[{name:t.Indexes.Messages_ConversationId_CreatedTime,keyPath:["conversationId","createdTime"],unique:!1},{name:t.Indexes.Messages_ConversationId_CountsType_CreatedTime,keyPath:["conversationId","_countsType","createdTime"],unique:!1},{name:t.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime,keyPath:["conversationId","_isMyMessage","createdTime"],unique:!1}]},{name:t.Stores.Alerts,primaryKeyPath:"guid",estimatedObjBytes:4e3,indexes:[{name:t.Indexes.Alerts_ConvId,keyPath:"message.conversationId",unique:!1},{name:t.Indexes.Alerts_Read_Timestamp,keyPath:["isRead","alertTime"],unique:!1}]},{name:t.Stores.PopCards,primaryKeyPath:"guid",estimatedObjBytes:1e3,indexes:[]},{name:t.Stores.Conversations,primaryKeyPath:"conv.id",estimatedObjBytes:3500,indexes:[{name:t.Indexes.Conversations_IsHighlight_ForceToRecents_Timestamp,keyPath:["_isHighlight","_forceToRecents","conv._timestamp"],unique:!1},{name:t.Indexes.Conversations_IsHighlight_HasUnread,keyPath:["_isHighlight","counts.hasUnread"],unique:!1},{name:t.Indexes.Conversations_NeedsSync,keyPath:"_needsSync",unique:!1},{name:t.Indexes.Conversations_SearchTerms,keyPath:"conv._searchTerms",fullText:!0}]},{name:t.Stores.InternalData,primaryKeyPath:"id",estimatedObjBytes:1e4,indexes:[]},{name:t.Stores.Profiles,primaryKeyPath:"mri",estimatedObjBytes:300,indexes:[{name:t.Indexes.Profiles_PhoneNumber,keyPath:"_phoneNumbersForDbIndex",multiEntry:!0}]},{name:t.Stores.ProfileMinis,primaryKeyPath:"mri",estimatedObjBytes:250,indexes:[]},{name:t.Stores.Telemetry,primaryKeyPath:"id",estimatedObjBytes:3e3,indexes:[{name:t.Indexes.Telemetry_Priority_Timestamp,keyPath:["priority","timestamp"],unique:!1}]},{name:t.Stores.Agents,primaryKeyPath:"agentId",estimatedObjBytes:1500,indexes:[{name:t.Indexes.Agents_Important,keyPath:"isImportant",unique:!1},{name:t.Indexes.Agents_Whitelisted,keyPath:"isWhitelisted",unique:!1}]},{name:t.Stores.FeaturedAgents,primaryKeyPath:"agentId",estimatedObjBytes:1500,indexes:[]},{name:t.Stores.AgentIdUserIdPairs,primaryKeyPath:"agentId",indexes:[]},{name:t.Stores.IntegrationConsents,primaryKeyPath:["integrationId","consentType"],indexes:[]},{name:t.Stores.PersistentActions,primaryKeyPath:"id",indexes:[]},{name:t.Stores.LocalNotifications,primaryKeyPath:"id",indexes:[]},{name:t.Stores.FileCacheMetadata,primaryKeyPath:["cacheName","id"],indexes:[]},{name:t.Stores.FileTracker,primaryKeyPath:"id",indexes:[]},{name:t.Stores.LocalAddressBookContacts,primaryKeyPath:"id",indexes:[]},{name:t.Stores.ImagePrefetchInfo,primaryKeyPath:"url",estimatedObjBytes:200,indexes:[]},{name:t.Stores.Connectors,primaryKeyPath:"mri",indexes:[]},{name:t.Stores.EngagementPullCampaigns,primaryKeyPath:"campaignId",estimatedObjBytes:250,indexes:[]},{name:t.Stores.ConsumedConciergeBotMessages,primaryKeyPath:["conversationId","messageCuid"],estimatedObjBytes:100,indexes:[]},{name:t.Stores.CallLogs,primaryKeyPath:"callId",indexes:[]},{name:t.Stores.Drafts,primaryKeyPath:"conversationId",indexes:[]},{name:t.Stores.EngagementMessagesQueueStore,primaryKeyPath:"id",indexes:[]},{name:t.Stores.MediaDrafts,primaryKeyPath:"conversationId",indexes:[]},{name:t.Stores.Monetization,primaryKeyPath:"dataVizId",indexes:[]}]}}open(e,i,o=!1,s=!1){const a="s4l-"+i,r=Date.now();let l=super.open(e,a,!1,s);return o&&(p.log(h.LogTraceArea.GenericUnsafe,"open() with nukeDb called..."),l=l.then((()=>this.openTransaction([t.Stores.InternalData],!1))).then((e=>{const i=e.internal_getInternalData(t.InternalKeys.SkypeToken);return e.markCompleted(),i})).thenAsync((i=>this._close().then((()=>super.open(e,a,!0,s))).then((()=>{if(i)return this.openTransaction([t.Stores.InternalData],!0).then((e=>{const n=e.internal_putInternalData(t.InternalKeys.SkypeToken,i);return e.markCompleted(),n}))})))).thenAsync(n.noop)),l.then((()=>{const e=Date.now()-r;p.log(h.LogTraceArea.GenericUnsafe,`ClientDatabase initialization Completed in ${e}ms`),this._databaseInitalizationDeferred&&(p.log(h.LogTraceArea.GenericUnsafe,"Resolving initialization promise..."),this._databaseInitalizationDeferred.resolve(void 0),this._databaseInitalizationDeferred=void 0)}))}performWhenDatabaseInitialized(){return this.isInitialized()?(p.log(h.LogTraceArea.GenericUnsafe,"Database is already initialized    ..."),s.Resolved()):(this._databaseInitalizationDeferred||(this._databaseInitalizationDeferred=s.Defer()),p.log(h.LogTraceArea.GenericUnsafe,"Awaiting database initialization..."),this._databaseInitalizationDeferred.promise())}getProviderName(){const e=this.getProviderInfo();return e&&e.name}internal_getAllInternalData(){return this.openTransaction([t.Stores.InternalData],!1).then((e=>{const t=e.internal_getAllInternalData();return e.markCompleted(),t}))}internal_getInternalData(e){return this.openTransaction([t.Stores.InternalData],!1).then((t=>{const i=t.internal_getInternalData(e);return t.markCompleted(),i}))}internal_putInternalData(e,i){return this.openTransaction([t.Stores.InternalData],!0).then((t=>{const n=t.internal_putInternalData(e,i);return t.markCompleted(),n}))}internal_deleteInternalData(e){return this.openTransaction([t.Stores.InternalData],!0).then((t=>{const i=t.internal_deleteInternalData(e);return t.markCompleted(),i}))}getAll(){return this.openTransaction([t.Stores.Profiles],!1).then((e=>{const t=e.getAll();return e.markCompleted(),t}))}getUserProfileByMri(e){return this.openTransaction([t.Stores.Profiles],!1).then((t=>{const i=t.getUserProfileByMri(e);return t.markCompleted(),i}))}getUserProfilesByMris(e){return this.openTransaction([t.Stores.Profiles],!1).then((t=>{const i=t.getUserProfilesByMris(e);return t.markCompleted(),i}))}getUserProfilesByPhoneNumber(e){return this.openTransaction([t.Stores.Profiles],!1).then((t=>{const i=t.getUserProfilesByPhoneNumber(e);return t.markCompleted(),i}))}getAllUserProfiles(){return this.openTransaction([t.Stores.Profiles],!1).then((e=>{const t=e.getAllUserProfiles();return e.markCompleted(),t}))}putUserProfiles(e){return this.openTransaction([t.Stores.Profiles],!0).then((t=>{const i=t.putUserProfiles(e);return t.markCompleted(),i}))}getAllDisplayableUsers(){return this.openTransaction([t.Stores.ProfileMinis],!1).then((e=>{const t=e.getAllDisplayableUsers();return e.markCompleted(),t}))}getDisplayableUser(e){return this.openTransaction([t.Stores.ProfileMinis],!1).then((t=>{const i=t.getDisplayableUser(e);return t.markCompleted(),i}))}getTelemetryEvents(e,i){return this.openTransaction([t.Stores.Telemetry],!1).then((t=>{const n=t.getTelemetryEvents(e,i);return t.markCompleted(),n}))}putTelemetryEvents(e){return this.openTransaction([t.Stores.Telemetry],!0).then((t=>{const i=t.putTelemetryEvents(e);return t.markCompleted(),i}))}deleteTelemetryEvents(e){return this.openTransaction([t.Stores.Telemetry],!0).then((t=>{const i=t.deleteTelemetryEvents(e);return t.markCompleted(),i}))}countTelemetryEvents(){return this.openTransaction([t.Stores.Telemetry],!1).then((e=>{const t=e.countTelemetryEvents();return e.markCompleted(),t}))}getMonetizationSignals(e){return this.openTransaction([t.Stores.Monetization],!1).then((t=>{if(!e)return;const i=t.getMonetizationSignals(e);return t.markCompleted(),i}))}saveMonetizationSignals(e){return this.openTransaction([t.Stores.Monetization],!0).then((t=>{const i=t.saveMonetizationSignals(e);return t.markCompleted(),i}))}getAgentDescription(e){return this.openTransaction([t.Stores.Agents],!1).then((t=>{const i=t.getAgentDescription(e);return t.markCompleted(),i}))}getAgentDescriptions(e){return this.openTransaction([t.Stores.Agents],!1).then((t=>{const i=t.getAgentDescriptions(e);return t.markCompleted(),i}))}getImportantAgents(){return this.openTransaction([t.Stores.Agents],!1).then((e=>{const t=e.getImportantAgents();return e.markCompleted(),t}))}getWhitelistedAgents(){return this.openTransaction([t.Stores.Agents],!1).then((e=>{const t=e.getWhitelistedAgents();return e.markCompleted(),t}))}putAgentDescriptions(e){return this.openTransaction([t.Stores.Agents],!0).then((t=>{const i=t.putAgentDescriptions(e);return t.markCompleted(),i}))}getAllFeaturedAgents(){return this.openTransaction([t.Stores.FeaturedAgents],!1).then((e=>{const t=e.getAllFeaturedAgents();return e.markCompleted(),t}))}replaceFeaturedAgents(e){return this.openTransaction([t.Stores.FeaturedAgents],!0).then((t=>t.replaceFeaturedAgents(e)))}getAllAgentIdUserIdPairs(){return this.openTransaction([t.Stores.AgentIdUserIdPairs],!1).then((e=>{const t=e.getAllAgentIdUserIdPairs();return e.markCompleted(),t}))}putAgentIdUserIdPair(e){return this.openTransaction([t.Stores.AgentIdUserIdPairs],!0).then((t=>{const i=t.putAgentIdUserIdPair(e);return t.markCompleted(),i}))}getConnectorMetadata(e){return this.openTransaction([t.Stores.Connectors],!1).then((t=>{const i=t.getConnectorMetadata(e);return t.markCompleted(),i}))}getConnectorsMetadata(e){return this.openTransaction([t.Stores.Connectors],!1).then((t=>{const i=t.getConnectorsMetadata(e);return t.markCompleted(),i}))}getAllConnectorMetadata(){return this.openTransaction([t.Stores.Connectors],!1).then((e=>{const t=e.getAllConnectorMetadata();return e.markCompleted(),t}))}putConnectorMetadata(e){return this.openTransaction([t.Stores.Connectors],!0).then((t=>{const i=t.putConnectorMetadata(e);return t.markCompleted(),i}))}putConnectorsMetadata(e){return this.openTransaction([t.Stores.Connectors],!0).then((t=>{const i=t.putConnectorsMetadata(e);return t.markCompleted(),i}))}getIntegrationConsent(e,i){return this.openTransaction([t.Stores.IntegrationConsents],!1).then((t=>{const n=t.getIntegrationConsent(e,i);return t.markCompleted(),n}))}putIntegrationConsent(e){return this.openTransaction([t.Stores.IntegrationConsents],!0).then((t=>{const i=t.putIntegrationConsent(e);return t.markCompleted(),i}))}getConversationMeta(e){return this.openTransaction([t.Stores.Conversations],!1).then((t=>{const i=t.getConversationMeta(e);return t.markCompleted(),i}))}getConversationMetas(e){return this.openTransaction([t.Stores.Conversations],!1).then((t=>{const i=t.getConversationMetas(e);return t.markCompleted(),i}))}getAllConversationMetas(e,i){return this.openTransaction([t.Stores.Conversations],!1).then((t=>{const n=t.getAllConversationMetas(e,i);return t.markCompleted(),n}))}getCountOfUnreadConversations(e){return this.openTransaction([t.Stores.Conversations],!1).then((t=>{const i=t.getCountOfUnreadConversations(e);return t.markCompleted(),i}))}getRecentNonHighlightConversationMetas(e,i=u.ConversationHistoryTimeSpanImportant){return this.openTransaction([t.Stores.Conversations],!1).then((t=>t.getRecentNonHighlightConversationMetas(e,i)))}getAllNonHighlightConversationMetas(){return this.openTransaction([t.Stores.Conversations],!1).then((e=>e.getAllNonHighlightConversationMetas()))}getConversationMetasBySearchTerm(e,i=!1,n){if(0===e.length)return s.Rejected("Empty search term");const a=i?o.FullTextTermResolution.Or:o.FullTextTermResolution.And;return this.openTransaction([t.Stores.Conversations],!1).then((t=>{const i=t.getConversationMetasBySearchTerm(e,a,n);return t.markCompleted(),i}))}putConversationMetas(e){return this.openTransaction([t.Stores.Conversations],!0).then((t=>{const i=t.putConversationMetas(e);return t.markCompleted(),i}))}getAllMessages(e,i){return this.openTransaction([t.Stores.Messages],!1).then((t=>{const n=t.getAllMessages(e,i);return t.markCompleted(),n}))}getMessagesInConversation(e){return this.openTransaction([t.Stores.Messages],!1).then((t=>{const i=t.getMessagesInConversation(e);return t.markCompleted(),i}))}getMessageByCuid(e,i){return this.openTransaction([t.Stores.Messages],!1).then((t=>{const n=t.getMessageByCuid(e,i);return t.markCompleted(),n}))}getMessagesByCuidForConversations(e){return this.openTransaction([t.Stores.Messages],!1).then((t=>{const i=t.getMessagesByCuidForConversations(e);return t.markCompleted(),i}))}getMessagesForConversationBeforeTime(e,i,n,o){return this.openTransaction([t.Stores.Messages],!1).then((t=>{const s=t.getMessagesForConversationBeforeTime(e,i,n,o);return t.markCompleted(),s}))}getMessagesNotSentByMe(e,i,n,o){return this.openTransaction([t.Stores.Messages],!1).then((t=>{const s=t.getMessagesNotSentByMe(e,i,n,o);return t.markCompleted(),s}))}getMessagesSentByMeSinceTime(e,i,n,o){return this.openTransaction([t.Stores.Messages],!1).then((t=>{const s=t.getMessagesSentByMeSinceTime(e,i,n,o);return t.markCompleted(),s}))}getMessagesForConversationAfterTime(e,i,n,o){return this.openTransaction([t.Stores.Messages],!1).then((t=>{const s=t.getMessagesForConversationAfterTime(e,i,n,o);return t.markCompleted(),s}))}getMessagesForConversationAndTimeRange(e,i,n,s=!1,a){return this.openTransaction([t.Stores.Messages],!1).then((t=>{let r=o.QuerySortOrder.None;s?r=o.QuerySortOrder.Reverse:!s&&a&&(r=o.QuerySortOrder.Forward);const l=t.getMessagesForConversationAndTimeRange(e,i,n,r,a);return t.markCompleted(),l}))}removeMessages(e){this.openTransaction([t.Stores.Messages],!0).then((t=>t.removeMessages(e)))}getMostRecentAlertTime(){return this.openTransaction([t.Stores.Alerts],!1).then((e=>{const t=e.getMostRecentAlertTime();return e.markCompleted(),t}))}countUnreadAlertsSinceTime(e){return this.openTransaction([t.Stores.Alerts],!1).then((t=>{const i=t.countUnreadAlertsSinceTime(e);return t.markCompleted(),i}))}countAlerts(){return this.openTransaction([t.Stores.Alerts],!1).then((e=>{const t=e.countAlerts();return e.markCompleted(),t}))}getAlerts(){return this.openTransaction([t.Stores.Alerts],!1).then((e=>{const t=e.getAlerts();return e.markCompleted(),t}))}putAlerts(e){return this.openTransaction([t.Stores.Alerts],!0).then((t=>{const i=t.putAlerts(e);return t.markCompleted(),i}))}removeAlerts(e){return this.openTransaction([t.Stores.Alerts],!0).then((t=>{const i=t.removeAlerts(e);return t.markCompleted(),i}))}getAllPopCards(){return this.openTransaction([t.Stores.PopCards],!1).then((e=>{const t=e.getAllPopCards();return e.markCompleted(),t}))}putPopCards(e){return this.openTransaction([t.Stores.PopCards],!0).then((t=>{const i=t.putPopCards(e);return t.markCompleted(),i}))}removePopCard(e){return this.openTransaction([t.Stores.PopCards],!0).then((t=>{const i=t.removePopCard(e);return t.markCompleted(),i}))}clearAllPopCards(){return this.openTransaction([t.Stores.PopCards],!0).then((e=>e.clearAllPopCards()))}getAllEngagementMessagesInQueue(){return this.openTransaction([t.Stores.EngagementMessagesQueueStore],!1).then((e=>{const t=e.getAllEngagementMessagesInQueue();return e.markCompleted(),t}))}putEngagementMessagesToQueue(e){return this.openTransaction([t.Stores.EngagementMessagesQueueStore],!0).then((t=>{const i=t.putEngagementMessagesToQueue(e);return t.markCompleted(),i}))}removeEngagementMessageFromQueue(e){return this.openTransaction([t.Stores.EngagementMessagesQueueStore],!0).then((t=>{const i=t.removeEngagementMessageFromQueue(e);return t.markCompleted(),i}))}clearEngagementQueueOfMessages(){return this.openTransaction([t.Stores.EngagementMessagesQueueStore],!0).then((e=>e.clearEngagementQueueOfMessages()))}getAllCampaigns(){return this.openTransaction([t.Stores.EngagementPullCampaigns],!1).then((e=>{const t=e.getAllCampaigns();return e.markCompleted(),t}))}putCampaigns(e){return this.openTransaction([t.Stores.EngagementPullCampaigns],!0).then((t=>{const i=t.putCampaigns(e);return t.markCompleted(),i}))}removeCampaigns(e){return this.openTransaction([t.Stores.EngagementPullCampaigns],!0).then((t=>{const i=t.removeCampaigns(e);return t.markCompleted(),i}))}getAllConsumedBotMessages(){return this.openTransaction([t.Stores.ConsumedConciergeBotMessages],!1).then((e=>{const t=e.getAllConsumedBotMessages();return e.markCompleted(),t}))}putConsumedBotMessages(e){return this.openTransaction([t.Stores.ConsumedConciergeBotMessages],!0).then((t=>{const i=t.putConsumedBotMessages(e);return t.markCompleted(),i}))}getLocalNotifications(){return this.openTransaction([t.Stores.LocalNotifications],!1).then((e=>{const t=e.getLocalNotifications();return e.markCompleted(),t}))}putLocalNotifications(e){return this.openTransaction([t.Stores.LocalNotifications],!0).then((t=>{const i=t.putLocalNotifications(e);return t.markCompleted(),i}))}removeLocalNotifications(e){return this.openTransaction([t.Stores.LocalNotifications],!0).then((t=>{const i=t.removeLocalNotifications(e);return t.markCompleted(),i}))}getPersistentActions(){return this.openTransaction([t.Stores.PersistentActions],!1).then((e=>{const t=e.getPersistentActions();return e.markCompleted(),t}))}putPersistentAction(e){return this.openTransaction([t.Stores.PersistentActions],!0).then((t=>{const i=t.putPersistentAction(e);return t.markCompleted(),i}))}removePersistentAction(e){return this.openTransaction([t.Stores.PersistentActions],!0).then((t=>{const i=t.removePersistentAction(e);return t.markCompleted(),i}))}getAllFileCacheMetadata(){return this.openTransaction([t.Stores.FileCacheMetadata],!1).then((e=>{const t=e.getAllFileCacheMetadata();return e.markCompleted(),t}))}putFileCacheMetadata(e){return this.openTransaction([t.Stores.FileCacheMetadata],!0).then((t=>{const i=t.putFileCacheMetadata(e);return t.markCompleted(),i}))}removeFileCacheMetadata(e,i){return this.openTransaction([t.Stores.FileCacheMetadata],!0).then((t=>{const n=t.removeFileCacheMetadata(e,i);return t.markCompleted(),n}))}getAllFileTrackerMetadata(){return this.openTransaction([t.Stores.FileTracker],!1).then((e=>{const t=e.getAllFileTrackerMetadata();return e.markCompleted(),t}))}putFileTrackerMetadata(e){return this.openTransaction([t.Stores.FileTracker],!0).then((t=>{const i=t.putFileTrackerMetadata(e);return t.markCompleted(),i}))}removeFileTrackerMetadata(e){return this.openTransaction([t.Stores.FileTracker],!0).then((t=>{const i=t.removeFileTrackerMetadata(e);return t.markCompleted(),i}))}getAllLocalAddressBookContacts(){return this.openTransaction([t.Stores.LocalAddressBookContacts],!1).then((e=>{const t=e.getAllLocalAddressBookContacts();return e.markCompleted(),t}))}putLocalAddressBookContacts(e){return this.openTransaction([t.Stores.LocalAddressBookContacts],!0).then((t=>{const i=t.putLocalAddressBookContacts(e);return t.markCompleted(),i}))}replaceAllLocalAddressBookContacts(e){return this.openTransaction([t.Stores.LocalAddressBookContacts],!0).then((t=>t.replaceAllLocalAddressBookContacts(e)))}removeAllLocalAddressBookContacts(){return this.openTransaction([t.Stores.LocalAddressBookContacts],!0).then((e=>{const t=e.removeAllLocalAddressBookContacts();return e.markCompleted(),t}))}getAllImagePrefetchInfo(){return this.openTransaction([t.Stores.ImagePrefetchInfo],!1).then((e=>{const t=e.getAllImagePrefetchInfo();return e.markCompleted(),t.then((e=>n.compact(e)))}))}putImagePrefetchRecords(e){return this.openTransaction([t.Stores.ImagePrefetchInfo],!0).then((t=>{const i=t.putImagePrefetchRecords(e);return t.markCompleted(),i}))}removeImagePrefetchInfo(e){return this.openTransaction([t.Stores.ImagePrefetchInfo],!0).then((t=>{const i=t.removeImagePrefetchInfo(e);return t.markCompleted(),i}))}getCallLogs(e){return this.openTransaction([t.Stores.CallLogs],!1).then((t=>{const i=n.map(e,(e=>t.getCallLog(e)));return t.markCompleted(),s.all(i).then((e=>n.compact(e)))}))}getAllDraftMessages(){return this.openTransaction([t.Stores.Drafts],!1).then((e=>{const t=e.getAllDraftMessages();return e.markCompleted(),t}))}putDraftMessage(e){return this.openTransaction([t.Stores.Drafts],!0).then((t=>{const i=t.putDraftMessage(e);return t.markCompleted(),i}))}deleteDraftMessage(e){return this.openTransaction([t.Stores.Drafts],!0).then((t=>{const i=t.deleteDraftMessage(e);return t.markCompleted(),i}))}getAllMediaDrafts(){return this.openTransaction([t.Stores.MediaDrafts],!1).then((e=>{const t=e.getAllDraftMedia();return e.markCompleted(),t}))}putMediaDrafts(e){return this.openTransaction([t.Stores.MediaDrafts],!0).then((t=>{const i=t.putDraftMedia(e);return t.markCompleted(),i}))}deleteMediaDraft(e){return this.openTransaction([t.Stores.MediaDrafts],!0).then((t=>{const i=t.deleteDraftMedia(e);return t.markCompleted(),i}))}getLastCallCaptionsCleanupTimestamp(){return this.internal_getInternalData(t.InternalKeys.CallCaptionsCleanupEndTimestamp).then((e=>null!=e?e:void 0))}}class f extends d.ClientDatabaseTransactionBase{constructor(){super(...arguments),this._increaseLastCharCode=e=>e.substring(0,e.length-1)+String.fromCharCode(e.charCodeAt(e.length-1)+1)}internal_putInternalData(e,i){return this._getStore(t.Stores.InternalData).put({id:e,value:i}).fail(this._databaseError)}internal_deleteInternalData(e){return this._getStore(t.Stores.InternalData).remove(e).fail(this._databaseError)}internal_getInternalData(e){return this._getStore(t.Stores.InternalData).get(e).then((e=>e?e.value:null)).fail(this._databaseError)}internal_getAllInternalData(){return this._getStore(t.Stores.InternalData).getAll(o.QuerySortOrder.None).fail(this._databaseError)}getUserProfileByMri(e){return this._getStore(t.Stores.Profiles).get(e).then((e=>m.default.fromDatabaseObject(e))).fail(this._databaseError)}getUserProfilesByMris(e){return this._getStore(t.Stores.Profiles).getMultiple(e).then((e=>n.map(e,(e=>m.default.fromDatabaseObject(e))))).fail(this._databaseError)}getUserProfilesByPhoneNumber(e){return this._getStore(t.Stores.Profiles).openIndex(t.Indexes.Profiles_PhoneNumber).getRange(e,this._increaseLastCharCode(e),!1,!0,o.QuerySortOrder.None).then((e=>{let t=n.compact(e);return t=n.uniqWith(t,((e,t)=>e.mri===t.mri)),n.map(t,(e=>m.default.fromDatabaseObject(e)))})).fail(this._databaseError)}getAll(){return this._getStore(t.Stores.Profiles).getAll(o.QuerySortOrder.None).then((e=>e.length)).fail(this._databaseError)}getAllUserProfiles(){return this._getStore(t.Stores.Profiles).getAll(o.QuerySortOrder.None).then((e=>n.map(e,(e=>m.default.fromDatabaseObject(e))))).fail(this._databaseError)}putUserProfiles(e){return this._getStore(t.Stores.Profiles).put(e).fail(this._databaseError)}getAllDisplayableUsers(){return this._getStore(t.Stores.ProfileMinis).getAll(o.QuerySortOrder.None).then((e=>n.map(e,(e=>g.default.fromDatabaseObject(e))))).fail(this._databaseError)}getDisplayableUser(e){return this._getStore(t.Stores.ProfileMinis).get(e).then((e=>g.default.fromDatabaseObject(e))).fail(this._databaseError)}putDisplayableUsers(e){return this._getStore(t.Stores.ProfileMinis).put(n.map(e,(e=>e.getDatabaseRepresentation()))).fail(this._databaseError)}getTelemetryEvents(e,i){return this._getStore(t.Stores.Telemetry).openIndex(t.Indexes.Telemetry_Priority_Timestamp).getAll(o.QuerySortOrder.None,e,i).fail(this._databaseError)}putTelemetryEvents(e){return this._getStore(t.Stores.Telemetry).put(e).fail(this._databaseError)}deleteTelemetryEvents(e){return this._getStore(t.Stores.Telemetry).remove(e).fail(this._databaseError)}countTelemetryEvents(){return this._getStore(t.Stores.Telemetry).openPrimaryKey().countAll().fail(this._databaseError)}getMonetizationSignals(e){return this._getStore(t.Stores.Monetization).get(e).then((e=>null!=e?e:void 0)).fail(this._databaseError)}saveMonetizationSignals(e){return this._getStore(t.Stores.Monetization).put(e).fail(this._databaseError)}getAgentDescription(e){return this._getStore(t.Stores.Agents).get(e).then((e=>r.default.fromDatabaseObject(e))).fail(this._databaseError)}getAgentDescriptions(e){return this._getStore(t.Stores.Agents).getMultiple(e).then((e=>n.map(e,(e=>r.default.fromDatabaseObject(e))))).fail(this._databaseError)}getImportantAgents(){return this._getStore(t.Stores.Agents).openIndex(t.Indexes.Agents_Important).getOnly(1,o.QuerySortOrder.None).then((e=>n.map(e,(e=>r.default.fromDatabaseObject(e))))).fail(this._databaseError)}getWhitelistedAgents(){return this._getStore(t.Stores.Agents).openIndex(t.Indexes.Agents_Whitelisted).getOnly(1,o.QuerySortOrder.None).then((e=>n.map(e,(e=>r.default.fromDatabaseObject(e))))).fail(this._databaseError)}putAgentDescriptions(e){return this._getStore(t.Stores.Agents).put(e).fail(this._databaseError)}getAllFeaturedAgents(){return this._getStore(t.Stores.FeaturedAgents).getAll(o.QuerySortOrder.None).then((e=>n.map(e,(e=>r.default.fromDatabaseObject(e))))).fail(this._databaseError)}replaceFeaturedAgents(e){return this._getStore(t.Stores.FeaturedAgents).clearAllData().then((()=>this._getStore(t.Stores.FeaturedAgents).put(e))).fail(this._databaseError)}getAllAgentIdUserIdPairs(){return this._getStore(t.Stores.AgentIdUserIdPairs).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putAgentIdUserIdPair(e){return this._getStore(t.Stores.AgentIdUserIdPairs).put(e).fail(this._databaseError)}getConnectorMetadata(e){return this._getStore(t.Stores.Connectors).get(e).fail(this._databaseError)}getConnectorsMetadata(e){return this._getStore(t.Stores.Connectors).getMultiple(e).fail(this._databaseError)}getAllConnectorMetadata(){return this._getStore(t.Stores.Connectors).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putConnectorMetadata(e){return this._getStore(t.Stores.Connectors).put(e).fail(this._databaseError)}putConnectorsMetadata(e){return this._getStore(t.Stores.Connectors).put(e).fail(this._databaseError)}getIntegrationConsent(e,i){return this._getStore(t.Stores.IntegrationConsents).get([e,i]).fail(this._databaseError)}putIntegrationConsent(e){return this._getStore(t.Stores.IntegrationConsents).put(e).fail(this._databaseError)}getConversationMeta(e){return this._getStore(t.Stores.Conversations).get(e).then((e=>u.default.fromDatabaseObject(e))).fail(this._databaseError)}getConversationMetas(e){return this._getStore(t.Stores.Conversations).getMultiple(e).then((e=>{const t={};return n.each(e,(e=>{const i=u.default.fromDatabaseObject(e);t[i.conv.id]=i})),t})).fail(this._databaseError)}getAllConversationMetas(e,i){return this._getStore(t.Stores.Conversations).openPrimaryKey().getAll(o.QuerySortOrder.Forward,e,i).then((e=>n.map(n.compact(e),(e=>u.default.fromDatabaseObject(e))))).fail(this._databaseError)}getCountOfUnreadConversations(e){return this._getStore(t.Stores.Conversations).openIndex(t.Indexes.Conversations_IsHighlight_HasUnread).countOnly([e?1:0,1]).fail(this._databaseError)}getRecentNonHighlightConversationMetas(e,t=u.ConversationHistoryTimeSpanImportant){return this._getRecentConversationMetas(!1,e,t)}getAllNonHighlightConversationMetas(){return this._getStore(t.Stores.Conversations).openIndex(t.Indexes.Conversations_IsHighlight_ForceToRecents_Timestamp).getRange([0,0,0],[0,1,Number.MAX_VALUE],!1,!1,o.QuerySortOrder.Reverse).then((e=>e)).then((e=>n.map(e,(e=>u.default.fromDatabaseObject(e))))).fail(this._databaseError)}getAllDraftMessages(){return this._getStore(t.Stores.Drafts).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putDraftMessage(e){return this._getStore(t.Stores.Drafts).put(e).fail(this._databaseError)}deleteDraftMessage(e){return this._getStore(t.Stores.Drafts).remove(e).fail(this._databaseError)}getAllDraftMedia(){return this._getStore(t.Stores.MediaDrafts).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putDraftMedia(e){return this._getStore(t.Stores.MediaDrafts).put(e).fail(this._databaseError)}deleteDraftMedia(e){return this._getStore(t.Stores.MediaDrafts).remove(e).fail(this._databaseError)}_getRecentConversationMetas(e,i,s){const a=this._getStore(t.Stores.Conversations).openIndex(t.Indexes.Conversations_IsHighlight_ForceToRecents_Timestamp),r=e?1:0,l=Date.now()-s;return a.getRange([r,0,l],[r,1,Number.MAX_VALUE],!1,!1,o.QuerySortOrder.None).then((e=>{const t=n.filter(e,(e=>e.conv._timestamp>=l)).length;return t>=i?e:a.getRange([r,0,0],[r,0,l],!1,!0,o.QuerySortOrder.Reverse,i-t).then((t=>e.concat(t)))})).then((e=>n.map(e,(e=>u.default.fromDatabaseObject(e))))).fail(this._databaseError)}getNeedsSyncConversations(){return this._getStore(t.Stores.Conversations).openIndex(t.Indexes.Conversations_NeedsSync).getOnly(1,o.QuerySortOrder.None).then((e=>n.map(n.compact(e),(e=>u.default.fromDatabaseObject(e))))).fail(this._databaseError)}getConversationMetasBySearchTerm(e,i,o){return this._getStore(t.Stores.Conversations).openIndex(t.Indexes.Conversations_SearchTerms).fullTextSearch(e,i,o).then((e=>n.map(n.compact(e),(e=>u.default.fromDatabaseObject(e))))).fail(this._databaseError)}putConversationMetas(e){const i=n.isArray(e)?e:[e];return this._getStore(t.Stores.Conversations).put(i).fail(this._databaseError)}removeConversationMetas(e){const i=n.map(e,(e=>e.conv.id));return this._getStore(t.Stores.Conversations).remove(i).fail(this._databaseError)}getMessagesInConversation(e){const i=this._increaseLastCharCode(e);return this._getStore(t.Stores.Messages).getRange([e,""],[i,""],!1,!0,o.QuerySortOrder.None).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMessagesForConversationAndTimeRange(e,i,o,s,a){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_CreatedTime).getRange([e,i],[e,o],!1,!1,s,a).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMessagesForConversationBeforeTime(e,i,s,a){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_CreatedTime).getRange([e,0],[e,i],!1,a,o.QuerySortOrder.Reverse,s).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMessagesForConversationAfterTime(e,i,s,a){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_CreatedTime).getRange([e,i],[e,Number.MAX_VALUE],a,!0,o.QuerySortOrder.Forward,s).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMessagesNotSentByMe(e,i,s,a){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime).getRange([e,0,0],[e,0,i],!1,a,o.QuerySortOrder.Reverse,s).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMessagesSentByMeSinceTime(e,i,s,a){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime).getRange([e,1,i],[e,1,Number.MAX_VALUE],!1,a,o.QuerySortOrder.Reverse,s).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getCountOfMessagesForConversationAfterTimeNormalPri(e,i,s){const a=void 0===s?void 0:2*s;return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_CreatedTime).getRange([e,i],[e,Number.MAX_VALUE],!0,!0,o.QuerySortOrder.Forward,a).then((e=>{const t=n.map(e,(e=>S.default.fromDatabaseObject(e))),i=c.default.updateCallEventMessages(t),o=n.filter(i,(e=>1===e.getCountsType())).length;return void 0===s?o:Math.min(s,o)})).fail(this._databaseError)}getCountOfMessagesForConversationAfterTimeHighPri(e,i){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_CountsType_CreatedTime).countRange([e,2,i],[e,2,Number.MAX_VALUE],!0,!0)}getCountOfMessagesForConversationISentSinceTime(e,i){return this._getStoreIndex(t.Stores.Messages,t.Indexes.Messages_ConversationId_IsMyMessage_CreatedTime).countRange([e,1,i],[e,1,Number.MAX_VALUE],!1,!0)}getMessageByCuid(e,i){return this._getStore(t.Stores.Messages).get([e,i]).then((e=>S.default.fromDatabaseObject(e))).fail(this._databaseError)}getMessagesByCuid(e,i){return this._getStore(t.Stores.Messages).getMultiple(n.map(i,(t=>[e,t]))).then((e=>n.map(n.compact(e),(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMessagesByCuidForConversations(e){const i=[];return n.each(e,((e,t)=>{n.each(e,(e=>{i.push([t,e])}))})),this._getStore(t.Stores.Messages).getMultiple(i).then((e=>n.map(n.compact(e),(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}putMessages(e){return this._getStore(t.Stores.Messages).put(e).fail(this._databaseError)}removeMessages(e){const i=n.map(e,(e=>[e.conversationId,e.cuid]));return this._getStore(t.Stores.Messages).remove(i).fail(this._databaseError)}getAllMessages(e,i){return this._getStore(t.Stores.Messages).openPrimaryKey().getAll(o.QuerySortOrder.Forward,e,i).then((e=>n.map(e,(e=>S.default.fromDatabaseObject(e))))).fail(this._databaseError)}getMostRecentAlertTime(){const e=this._getStore(t.Stores.Alerts).openIndex(t.Indexes.Alerts_Read_Timestamp),i=e.getRange([0,0],[0,Number.MAX_VALUE],!1,!1,o.QuerySortOrder.Reverse,1).fail(this._databaseError),a=e.getRange([1,0],[1,Number.MAX_VALUE],!1,!1,o.QuerySortOrder.Reverse,1).fail(this._databaseError);return s.all([i,a]).then((([e,t])=>{const i=n.maxBy(n.compact(e.concat(t)),(e=>e.alertTime));return i?i.alertTime:0}))}getAlertsForConversation(e){return this._getStore(t.Stores.Alerts).openIndex(t.Indexes.Alerts_ConvId).getOnly(e,o.QuerySortOrder.None).then((e=>n.map(e,(e=>l.default.fromDatabaseObject(e))))).fail(this._databaseError)}countUnreadAlertsSinceTime(e){return this._getStore(t.Stores.Alerts).openIndex(t.Indexes.Alerts_Read_Timestamp).countRange([0,e],[0,Number.MAX_VALUE],!0,!1).fail(this._databaseError)}getAlertsByIsReadAndTimestampRange(e,i,s){return this._getStore(t.Stores.Alerts).openIndex(t.Indexes.Alerts_Read_Timestamp).getRange([e?1:0,i],[e?1:0,s],!1,!1,o.QuerySortOrder.None).then((e=>n.map(e,(e=>l.default.fromDatabaseObject(e))))).fail(this._databaseError)}countAlerts(){return this._getStore(t.Stores.Alerts).openPrimaryKey().countAll().fail(this._databaseError)}getAlerts(){return this._getStore(t.Stores.Alerts).getAll(o.QuerySortOrder.None).then((e=>n.map(e,(e=>l.default.fromDatabaseObject(e))))).fail(this._databaseError)}putAlerts(e){return this._getStore(t.Stores.Alerts).put(e).fail(this._databaseError)}removeAlerts(e){const i=n.map(e,(e=>e.guid));return this._getStore(t.Stores.Alerts).remove(i).fail(this._databaseError)}getAllPopCards(){return this._getStore(t.Stores.PopCards).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putPopCards(e){return this._getStore(t.Stores.PopCards).put(e).fail(this._databaseError)}removePopCard(e){return this._getStore(t.Stores.PopCards).remove(e).fail(this._databaseError)}clearAllPopCards(){return this._getStore(t.Stores.PopCards).clearAllData().fail(this._databaseError)}getAllEngagementMessagesInQueue(){return this._getStore(t.Stores.EngagementMessagesQueueStore).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putEngagementMessagesToQueue(e){return this._getStore(t.Stores.EngagementMessagesQueueStore).put(e).fail(this._databaseError)}removeEngagementMessageFromQueue(e){return this._getStore(t.Stores.EngagementMessagesQueueStore).remove(e).fail(this._databaseError)}clearEngagementQueueOfMessages(){return this._getStore(t.Stores.EngagementMessagesQueueStore).clearAllData().fail(this._databaseError)}getAllCampaigns(){return this._getStore(t.Stores.EngagementPullCampaigns).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putCampaigns(e){return this._getStore(t.Stores.EngagementPullCampaigns).put(e).fail(this._databaseError)}removeCampaigns(e){const i=n.map(e,(e=>e.campaignId));return this._getStore(t.Stores.EngagementPullCampaigns).remove(i).fail(this._databaseError)}getAllConsumedBotMessages(){return this._getStore(t.Stores.ConsumedConciergeBotMessages).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putConsumedBotMessages(e){return this._getStore(t.Stores.ConsumedConciergeBotMessages).put(e).fail(this._databaseError)}getLocalNotifications(){return this._getStore(t.Stores.LocalNotifications).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putLocalNotifications(e){return this._getStore(t.Stores.LocalNotifications).put(e).fail(this._databaseError)}removeLocalNotifications(e){const i=n.map(e,(e=>e.id));return this._getStore(t.Stores.LocalNotifications).remove(i).fail(this._databaseError)}getPersistentActions(){return this._getStore(t.Stores.PersistentActions).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putPersistentAction(e){return this._getStore(t.Stores.PersistentActions).put(e).fail(this._databaseError)}removePersistentAction(e){return this._getStore(t.Stores.PersistentActions).remove(e).fail(this._databaseError)}getAllFileCacheMetadata(){return this._getStore(t.Stores.FileCacheMetadata).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putFileCacheMetadata(e){return this._getStore(t.Stores.FileCacheMetadata).put(e).fail(this._databaseError)}removeFileCacheMetadata(e,i){const o=n.isArray(i)?i:[i];return this._getStore(t.Stores.FileCacheMetadata).remove(n.map(o,(t=>[e,t]))).fail(this._databaseError)}getAllFileTrackerMetadata(){return this._getStore(t.Stores.FileTracker).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putFileTrackerMetadata(e){return this._getStore(t.Stores.FileTracker).put(e).fail(this._databaseError)}removeFileTrackerMetadata(e){return this._getStore(t.Stores.FileTracker).remove(e).fail(this._databaseError)}getAllLocalAddressBookContacts(){return this._getStore(t.Stores.LocalAddressBookContacts).getAll(o.QuerySortOrder.None).then((e=>n.map(e,(e=>a.AddressBookContact.fromDatabaseObject(e))))).fail(this._databaseError)}putLocalAddressBookContacts(e){return this._getStore(t.Stores.LocalAddressBookContacts).put(e).fail(this._databaseError)}replaceAllLocalAddressBookContacts(e){return this._getStore(t.Stores.LocalAddressBookContacts).clearAllData().then((()=>this._getStore(t.Stores.LocalAddressBookContacts).put(e))).fail(this._databaseError)}removeAllLocalAddressBookContacts(){return this._getStore(t.Stores.LocalAddressBookContacts).clearAllData().fail(this._databaseError)}getAllImagePrefetchInfo(){return this._getStore(t.Stores.ImagePrefetchInfo).getAll(o.QuerySortOrder.None).fail(this._databaseError)}putImagePrefetchRecords(e){return this._getStore(t.Stores.ImagePrefetchInfo).put(e).fail(this._databaseError)}removeImagePrefetchInfo(e){return this._getStore(t.Stores.ImagePrefetchInfo).remove(e).fail(this._databaseError)}getCallLog(e){return this._getStore(t.Stores.CallLogs).get(e).fail(this._databaseError)}putCallLogs(e){return this._getStore(t.Stores.CallLogs).put(e).fail(this._databaseError)}getCallCaptionsCleanupStartTimestamp(){return this.internal_getInternalData(t.InternalKeys.CallCaptionsCleanupStartTimestamp)}setCallCaptionsCleanupStartTimestamp(){return this.internal_putInternalData(t.InternalKeys.CallCaptionsCleanupStartTimestamp,Date.now())}deleteCallCaptionsCleanupStartTimestamp(){return this.internal_deleteInternalData(t.InternalKeys.CallCaptionsCleanupStartTimestamp)}setCallCaptionsCleanupEndTimestamp(){return this.internal_putInternalData(t.InternalKeys.CallCaptionsCleanupEndTimestamp,Date.now())}}t.ClientDatabaseTransaction=f;const b=new y(f);if("undefined"!=typeof window){window.ClientDatabase=b}t.default=b},9001:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ClientDatabaseTransactionBase=t.ClientDatabaseBase=void 0;const n=i(174958),o=i(496486),s=i(600644),a=i(974634),r=i(397691),l=i(84792),c=i(746096),d=i(436237),u=i(350325),g=i(404057);function h(e){return e&&(e.name&&("TransactionInactiveError"===e.name||"TimeoutError"===e.name)||e.target&&e.target.transaction&&e.target.transaction.error&&"TimeoutError"===e.target.transaction.error.name)?(u.reloadApp("client-database-db-error"),r.Defer().promise()):r.Rejected(e)}s.ErrorCatcher=h;t.ClientDatabaseBase=class{constructor(e){this._transClass=e,this.event_databaseError=new a.default,this._databaseError=e=>{if(e.target){if(e.target.error){const t=e.target.error;d.error(c.LogTraceArea.SQLiteClient,`IDBRequest: ${t.name}: ${t.message}`)}if(e.target.transaction&&e.target.transaction.error){const t=e.target.transaction.error;d.error(c.LogTraceArea.SQLiteClient,`IDBTransaction: ${t.name}: ${t.message}`)}if(e.target.source){const t=e.target.source;d.error(c.LogTraceArea.SQLiteClient,`IDBStore: ${t.name}, ${t.keyPath}, indexes: ${o.join(t.indexNames)}`)}}if(e instanceof Error){d.error(c.LogTraceArea.SQLiteClient,`DB error: ${e}`);const t=e;e={message:t.message,stack:t.stack}}this.event_databaseError.fire(e)},this._handleDatabaseDeleteSuccess=()=>{d.log(c.LogTraceArea.GenericUnsafe,"Deleted Database "+n.pii.Omit(this._databaseName||""))},this._handleDatabaseDeleteError=e=>(d.log(c.LogTraceArea.GenericUnsafe,"DB delete Failure for "+n.pii.Omit(this._databaseName||"")+" :"+e.toString()),this.clearAllDataInDB())}getProviderInfo(){return this._db}open(e,t,i=!1,n=!1){return this._customOpenListOfProviders(e,t,this._schema,i,n).then((e=>{this._databaseName=t,this._db=e}))}_customOpenListOfProviders(e,t,i,o=!1,s=!1){const a=r.Defer();let l=0;const u=[];d.log(c.LogTraceArea.GenericUnsafe,`Opening Database: ${n.pii.Omit(t)} Providers: ${e.length} verbose: ${s}, wipe: ${o}`);const h=()=>{if(l>=e.length)return void a.reject(u.length<=1?u[0]:u);const n=e[l];n.provider.open(t,i,o,s).then((()=>{d.log(c.LogTraceArea.GenericUnsafe,"Provider "+n.name+": Open Success!"),a.resolve(n)}),(e=>{d.error(c.LogTraceArea.GenericUnsafe,"Provider "+n.name+": Open Failure: "+g.default.errorAsString(e)),u.push(e),l++,h()}))};return h(),a.promise()}isInitialized(){return!!this._db}_close(){return d.log(c.LogTraceArea.GenericUnsafe,`Closing database ${n.pii.Omit(this._databaseName||"")}...`),this._db?this._db.provider.close():r.Rejected("No Database to close")}nukeDB(){if(!this._db)return r.Rejected("No Database to delete");try{d.log(c.LogTraceArea.GenericUnsafe,`Deleting Database ${n.pii.Omit(this._databaseName||"")}...`);const e=this._db.provider.deleteDatabase();return r.raceTimer(e,15e3).then((e=>{e.timedOut?this._handleDatabaseDeleteError("Promise timed out in 15000 ms"):this._handleDatabaseDeleteSuccess()}))}catch(e){return d.log(c.LogTraceArea.GenericUnsafe,"DB delete Failure: "+e.toString()),this.clearAllDataInDB()}}clearAllDataInDB(){if(!this._db)return r.Rejected("No Database to clear");try{return d.log(c.LogTraceArea.GenericUnsafe,`Clearing all data in the Database ${n.pii.Omit(this._databaseName||"")}...`),this._db.provider.clearAllData().then((()=>{d.log(c.LogTraceArea.GenericUnsafe,"Cleared all data in the Database "+n.pii.Omit(this._databaseName||""))}),(e=>{d.log(c.LogTraceArea.GenericUnsafe,"Clear all data Failure "+n.pii.Omit(this._databaseName||"")+": "+e.toString())}))}catch(e){return d.log(c.LogTraceArea.GenericUnsafe,"Clear all data Failure: "+e.toString()),r.Rejected(e)}}openTransaction(e,t){const i=Date.now();return this._db?this._db.provider.openTransaction(e,t).then((n=>{const o=Date.now();return n.getCompletionPromise().then((()=>{const n=o-i,s=Date.now()-o;(n>300||s>300)&&d.log(c.LogTraceArea.GenericUnsafe,"Database Transaction Duration Warning: Stores: "+e.join(",")+", Write: "+t+", Lock Time: "+n+"ms, Execute Time: "+s+"ms")})),new this._transClass(n,this._databaseError)})).catch((e=>h(e))):r.Rejected("No Database - Unable to open transaction")}};t.ClientDatabaseTransactionBase=class{constructor(e,t){this._trans=e,this._databaseError=t}markCompleted(){this._trans.markCompleted()}_getStore(e){return(0,l.getStore)(this._trans.getStore(e),e)}_getStoreIndex(e,t){return this._getStore(e).openIndex(t)}}},84792:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getStore=void 0;const n=i(496486),o=i(600644),s=i(397691),a=i(889391),r=999;class l extends o.SimpleTransactionStoreHelper{getMultiple(e){return n.isArray(e)&&e.length>r?this._sharded(e,(e=>super.getMultiple(e))).then((e=>n.flatten(e))):super.getMultiple(e)}put(e){return n.isArray(e)&&e.length>r?this._sharded(e,(e=>super.put(e))).then(n.noop):super.put(e)}remove(e){return n.isArray(e)&&e.length>r?this._sharded(e,(e=>super.remove(e))).then(n.noop):super.remove(e)}_sharded(e,t){const i=n.chunk(e,r),o=n.map(i,(e=>t(e)));return s.all(o)}}t.getStore=function(e,t){return a.default.getConfigSettingsNoSubscription().database.splitLargeTransactions?new l(e,t):new o.SimpleTransactionStoreHelper(e,t)}},998754:(e,t,i)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.InternalDataStore=void 0;const o=i(570655),s=i(496486),a=i(217041),r=i(397691),l=i(633951),c=i(562141),d=i(746096),u=i(436237),g=i(861253),h=i(422538),p=i(853374);let S=n=class extends a.StoreBase{constructor(){super(),h.RegisterStartupable(this,"InternalDataStore")}startup(){return c.default.internal_getAllInternalData().then((e=>{this._internalData={},this._exclusiveData={},s.each(e,(e=>{e&&(this._internalData[e.id]=e.value)}))}))}static _deepFreeze(e){if("object"==typeof e){for(const t in e)e[t]&&n._deepFreeze(e[t]);Object.freeze(e)}}getData(e){const t=s.cloneDeep(this._internalData[e]);return this._exclusiveData[e],t}getDataExclusive(e){const t=this._internalData[e];return this._exclusiveData[e],this._exclusiveData[e]=!0,delete this._internalData[e],t}putData(e,t,i,n){if(n=n||p.default.newCauseId(),!h.HasStarted(this)){const t=new l.CalledBeforeStartupError("InternalDataStore","putData",`key=${e}`);return r.Rejected(t)}if(h.HasStarted(this)&&!this._exclusiveData[e]&&(0,g.default)(this._internalData[e],t))return u.log(d.LogTraceArea.SQLiteClient,`no change to data. key ${e} causeId: ${n}`),r.Resolved();return(i?i.internal_putInternalData(e,t):c.default.internal_putInternalData(e,t)).then((()=>{delete this._internalData[e],this._exclusiveData[e]||(this._internalData[e]=t,this.trigger(e))}))}getKeys(){return s.keys(this._internalData)}deleteKeys(e,t){return(t?t.internal_deleteInternalData(e):c.default.internal_deleteInternalData(e)).then((()=>{s.each(e,(e=>{delete this._internalData[e]})),this.trigger(e)}))}};o.__decorate([a.autoSubscribe,o.__param(0,a.key)],S.prototype,"getData",null),o.__decorate([a.autoSubscribe,o.__param(0,a.key)],S.prototype,"getDataExclusive",null),S=n=o.__decorate([l.Startupable,a.AutoSubscribeStore],S),t.InternalDataStore=S,t.default=new S},829518:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AETimerDurationInSeconds=t.AETimeoutInSeconds=void 0;const n=i(583367),o=i(516778),s=i(217041),a=i(397691),r=i(300060),l=i(889391),c=i(746096),d=i(436237),u=i(422538);t.AETimeoutInSeconds=120,t.AETimerDurationInSeconds=t.AETimeoutInSeconds-20;class g extends s.StoreBase{constructor(){super(),this._isSystemIdle=!1,this._isActive=!1,this._lastUpdatedInfo=new Map,this._onSystemIdleChange=(e,t)=>{d.log(c.LogTraceArea.ActiveEndpointService,"onSystemIdleChange : isIdle: "+t),this._isSystemIdle=t,this._recalculate()},this._subscribeSystemIdle=()=>{l.default.getConfigSettingsNoSubscription().endpointPresence.useSystemIdle?this._systemIdleSubscriptionToken||(this._systemIdleSubscriptionToken=n.default.onSystemIdleChange.subscribe(this._onSystemIdleChange)):this._systemIdleSubscriptionToken&&(this._systemIdleSubscriptionToken.unsubscribe(),this._systemIdleSubscriptionToken=void 0)},u.RegisterStartupable(this,"ActiveEndpointStore")}startup(){return this._isUserPresent=o.UserPresence.isUserPresent(),o.UserPresence.userPresenceChangedEvent.subscribe((e=>{this._isUserPresent=e,this._recalculate()})),this._appState=o.App.getActivationState(),r.default.subscribeForChanges("ActiveEndpointStore",(e=>{this._appState=e,this._recalculate()})),n.default.isSystemIdle().then((e=>{this._isSystemIdle=e})),this._subscribeSystemIdle(),l.default.subscribe(this._subscribeSystemIdle),d.log(c.LogTraceArea.ActiveEndpointService,"Initialized - Native endpoint activity status hookup"),this._recalculate(),a.Resolved()}_recalculate(){const e=this._isActive;this._isActive=l.default.getConfigSettingsNoSubscription().endpointPresence.useSystemIdle?!this._isSystemIdle:this._isUserPresent&&this._appState===o.Types.AppActivationState.Active,this._isActive!==e&&this.trigger()}isActive(){return this._isActive}getLastUpdatedInfo(e){return this._lastUpdatedInfo.get(e)}setLastUpdatedInfo(e,t){this._lastUpdatedInfo.set(e,t)}test_teardown(){this._isUserPresent=!1,this._appState=o.Types.AppActivationState.Background,this._isSystemIdle=!0,this._isActive=!1,this._lastUpdatedInfo=new Map,this._systemIdleSubscriptionToken&&(this._systemIdleSubscriptionToken.unsubscribe(),this._systemIdleSubscriptionToken=void 0)}test_trigger(){this.trigger()}}t.default=new g},72105:(e,t,i)=>{var n;Object.defineProperty(t,"__esModule",{value:!0});const o=i(570655),s=i(174958),a=i(496486),r=i(809206),l=i(823113),c=i(217041),d=i(397691),u=i(195314),g=i(142826),h=i(889391),p=i(63413),S=i(481169),m=i(476621),C=i(671830),y=i(562141),f=i(53819),b=i(816402),_=i(321444),v=i(968894),T=i(611251),P=i(746096),k=i(657347),A=i(436237),I=i(178735),w=i(46929),x=i(18078),N=i(581736),M=i(692772),L=i(144824),O=i(914976),D=i(422538),R=i(478262),E=i(172758),B=i(332686),F=i(49762),V=i(81115);let U=n=class extends c.StoreBase{constructor(){super(),this._recentAlerts=[],this._loadingAlertsFromDb=!1,this._unreadAlertCount=0,this._approximatedUnreadAlertCount=0,this.addMissedCallbackReminderAlert=e=>{A.log(P.LogTraceArea.AlertsStore,`addMissedCallbackReminderAlert, calleeMri: ${s.pii.Omit(e)}`);const t=u.default.fromScratch(g.AlertType.MissedCallbackReminder,Date.now(),!1,void 0,{missedCallbackReminderCalleeMri:e});this._recentAlerts.push(t),this._pruneAndSortRecentAlerts()},D.RegisterStartupable(this,"AlertsStore",[p.default,m.default,w.default,I.default,E.default])}startup(){return this._recentAlerts=[],this._loadingAlertsFromDb=!1,this._loadingAlertsFromDbPromise=void 0,this._unreadAlertCount=0,this._approximatedUnreadAlertCount=0,this._updateUnreadAlertsCount().then((()=>{this._blockedMriStoreSub&&p.default.unsubscribe(this._blockedMriStoreSub),this._blockedMriStoreSub=p.default.subscribe((e=>{this._loadAndPruneRecentAlerts().then((()=>{const e=a.partition(this._recentAlerts,(e=>e.alertType===g.AlertType.HighlightsFollowRequest&&p.default.isMriBlocked(e.highlightsFollowInfo.otherUserMri)));e[0].length>0&&(y.default.removeAlerts(e[0]),this._approximatedUnreadAlertCount-=n._countUnreadAlerts(e[0]),this._recentAlerts=e[1],this._unreadAlertCount=n._countUnreadAlerts(this._recentAlerts),this._checkReferenceCounting(),this.trigger())}))})),this._chatServiceAlertsUpdatedSub&&this._chatServiceAlertsUpdatedSub.unsubscribe(),this._chatServiceAlertsUpdatedSub=m.default.alertsUpdated.subscribe((e=>{this._areAlertsLoadedInMemory().then((t=>{const i=n._countUnreadAlerts(e.adds)-n._countUnreadAlerts(e.deletes)+n._countUnreadAlerts(a.map(e.updates,(e=>e.updated)))-n._countUnreadAlerts(a.map(e.updates,(e=>e.original)));this._approximatedUnreadAlertCount+=i,t?(a.each(e.deletes,(e=>{a.remove(this._recentAlerts,(t=>e.guid===t.guid))})),a.each(e.updates,(e=>{a.remove(this._recentAlerts,(t=>e.updated.guid===t.guid))})),this._recentAlerts.push(...e.adds),this._recentAlerts.push(...a.map(e.updates,(e=>e.updated))),this._pruneAndSortRecentAlerts()):(this._unreadAlertCount=this._approximatedUnreadAlertCount,0!==i&&(A.log(P.LogTraceArea.AlertsStore,"Alerts updated from ChatService, change: "+i+", total: "+this._unreadAlertCount),this.trigger()))}))})),this._myUserPreferencesStoreSub&&w.default.unsubscribe(this._myUserPreferencesStoreSub),this._myUserPreferencesStoreSub=w.default.subscribe((()=>{this._updateUnreadAlertsCount()}),w.TriggerKeys.AlertsLastReadTime),this._myUserPreferencesLocalSub&&I.default.unsubscribe(this._myUserPreferencesLocalSub),this._myUserPreferencesLocalSub=I.default.subscribe((()=>{_.default.isEngagementContentEnabled()||this.trigger()})),k.default.queueIdleTask("AlertsStore Pruning",k.TaskTypeFlags.CpuIntensive,(()=>{this._loadingAlertsFromDbPromise||y.default.countAlerts().then((e=>{e>80&&this._loadAndPruneRecentAlerts()}))})),this._popCardStoreSub&&this._popCardStoreSub.unsubscribe(),this._popCardStoreSub=L.default.updatedCardState.subscribe(((e,t)=>{e!==M.PopCardState.Completed&&e!==M.PopCardState.Dismissed||this._loadAndPruneRecentAlerts().then((()=>{let e=0;a.each(t,((t,i)=>this._addPopCardsAlert(i,t,this._generateUniqueIdFromCorrelationAndArrayPosition(e++,t.messageCorrelationId)))),this._pruneAndSortRecentAlerts()}))})),this._noticeMessageReceivedSub&&this._noticeMessageReceivedSub.unsubscribe(),this._noticeMessageReceivedSub=T.default.noticeMessageReceived.subscribe((e=>{this._loadAndPruneRecentAlerts().then((()=>{let t=0;a.each(e,(e=>this._addNoticeAlert(e,this._generateUniqueIdFromCorrelationAndArrayPosition(t++,e.messageCorrelationId)))),this._pruneAndSortRecentAlerts()}))})),this._noticeMessageOpenedSub&&this._noticeMessageOpenedSub.unsubscribe(),this._noticeMessageOpenedSub=T.default.noticeMessageOpened.subscribe((e=>{a.each(this._recentAlerts,((t,i)=>!t.noticeMessageInfo||t.noticeMessageInfo.guid!==e||(this._recentAlerts[i]=t.applyRead(!0),!1))),this._pruneAndSortRecentAlerts()})),this._appConfigStoreSub&&h.default.unsubscribe(this._appConfigStoreSub),this._permissionsStorePromptSub&&N.default.unsubscribe(this._permissionsStorePromptSub),this._permissionsStorePromptSub=N.default.subscribe((()=>{this.maybeAddOrRemoveNotificationPermissionAlert()}),N.TriggerKeys.NotificationsPrompt),this._permissionsStorePermissionChangedSub&&N.default.unsubscribe(this._permissionsStorePermissionChangedSub),this._permissionsStorePermissionChangedSub=N.default.subscribe((()=>{this.maybeAddOrRemoveNotificationPermissionAlert()}),R.PermissionType.Notifications),this._subscribeOldFriendBackAlert()}))}_subscribeOldFriendBackAlert(){var e;null===(e=this._oldFriendBackNotificationSub)||void 0===e||e.unsubscribe(),this._oldFriendBackNotificationSub=F.default.alertsUpdated.subscribe((e=>{const t=u.default.fromScratch(g.AlertType.OldFriendBack,Date.now(),!1,void 0,{oldFriendMri:e});this._recentAlerts.push(t),y.default.putAlerts([t]),this._approximatedUnreadAlertCount++,A.track(new V.AlertLoaded(P.AlertTypeForTelemetry.OldFriendBack)),this._pruneAndSortRecentAlerts()}))}_generateUniqueIdFromCorrelationAndArrayPosition(e,t){return e?`${t}_${e}`:t}_addOrUpdateAlert(e,t,i){this._loadAndPruneRecentAlerts().then((()=>{const n=()=>{const t=u.default.fromScratch(e,Date.now(),i);y.default.putAlerts([t]),this._recentAlerts.push(t)};if(t){const t=a.remove(this._recentAlerts,(t=>t.alertType===e));a.isEmpty(t)||y.default.removeAlerts(t),n()}else{let t=!1;a.each(this._recentAlerts,((n,o)=>{if(n.alertType===e){const e=n.applyRead(i);this._recentAlerts[o]=e,y.default.putAlerts([e]),t=!0}})),t||n()}this._pruneAndSortRecentAlerts()}))}_addOrUpdateNotificationPermissionAlert(e,t){this._addOrUpdateAlert(g.AlertType.NotificationPermission,e,t)}_supportsNotifications(){return r.BrowserEnvironment.supportsNotifications()}_isNotificationPermissionGranted(){return N.default.permissionStatus(R.PermissionType.Notifications)===l.PermissionStatus.Granted}_shouldDisplayNotificationPermissionAlert(){return this._supportsNotifications()&&!this._isNotificationPermissionGranted()&&N.default.isNotificationsPromptDismissed()}_addPopCardsAlert(e,t,i){const o=g.AlertType.Engagement,s=f.default.getActiveCampaignById(t.alertCampaignId),r=a.remove(this._recentAlerts,(t=>t.alertType===o&&(!t.popCardInfo||t.popCardInfo.guid===e)));if(a.isEmpty(r)||(y.default.removeAlerts(r),this._approximatedUnreadAlertCount-=n._countUnreadAlerts(r)),o===g.AlertType.Engagement&&!(null==s?void 0:s.triggerManually)){if(!!L.default.getCardCount(M.PopCardTarget.All,void 0,void 0,e)){const n=(0,S.chain)(r,(0,S.filter)((t=>!!t.popCardInfo&&t.popCardInfo.guid===e)),(0,S.first)()),s={guid:e,title:t.alertTitle,subtitle:t.alertSubtitle,iconUrl:t.iconUrl,actionUri:t.alertActionUri,actionTarget:t.alertActionTarget,campaignId:t.alertCampaignId,isQuietCard:t.isQuietCard,userTagging:t.userTagging,placeholders:t.placeholders,messageCorrelationId:t.messageCorrelationId,engagementTelemetryAttributes:t.engagementTelemetryAttributes,persistencyMode:t.persistencyMode||v.EngagementMessagePersistencyMode.None,validUntil:t.validUntil,showOnlyTitle:t.showOnlyTitle},a=u.default.fromScratch(o,n?n.alertTime:Date.now(),!!t.shown,void 0,{popCardInfo:s,guid:i||t.messageCorrelationId});y.default.putAlerts([a]),this._recentAlerts.push(a)}}}_addNoticeAlert(e,t){const i=e.attachments&&e.attachments[0];if(!i||!i.content)return void A.error(P.LogTraceArea.AlertsStore,"Notice content missing, guid:",e.guid);const n=i.content.buttons&&i.content.buttons.length&&i.content.buttons[0],o=i.content.mainActionUri||n&&n.actionUri,s=i.content.mainActionTarget||n&&n.actionTarget;if(!o)return void A.error(P.LogTraceArea.AlertsStore,"Notice URI action missing, guid:",e.guid);const a={guid:e.guid,title:i.content.title,text:i.content.text,iconUrl:i.iconUrl,buttonTitle:n?n.title:void 0,buttonActionUri:n?n.actionUri:void 0,buttonActionTarget:n&&n.actionTarget||v.ActionTarget.Default,modalTitle:i.content.modalTitle,mainActionUri:o,mainActionTarget:s||v.ActionTarget.Default,campaignId:e.campaignId,contentType:i.contentType,skypeId:i.skypeId,showStatusIndicator:!!i.showStatusIndicator,placeholders:e.placeholders,messageCorrelationId:e.messageCorrelationId,engagementTelemetryAttributes:e.telemetry,userTagging:e.userTagging,persistencyMode:e.persistencyMode||v.EngagementMessagePersistencyMode.None,validUntil:_.default.calculateMessageValidUntilProperty(e.validUntilTimestamp,e.validForPeriod),showOnlyTitle:e.showOnlyTitle},r=u.default.fromScratch(g.AlertType.Notice,Date.now(),!1,void 0,{noticeMessageInfo:a,guid:t||e.messageCorrelationId});y.default.putAlerts([r]),this._recentAlerts.push(r)}_checkReferenceCounting(){this._approximatedUnreadAlertCount!==this._unreadAlertCount&&A.warn(P.LogTraceArea.AlertsStore,"Alerts counting off. Expected: "+this._approximatedUnreadAlertCount+", Actual: "+this._unreadAlertCount)}_updateUnreadAlertsCount(){return this._areAlertsLoadedInMemory().then((e=>e?d.Resolved(n._countUnreadAlerts(this._recentAlerts)):y.default.countUnreadAlertsSinceTime(w.default.getAlertsLastReadTime()||0))).then((e=>{this._approximatedUnreadAlertCount=e,this._unreadAlertCount!==e&&(A.log(P.LogTraceArea.AlertsStore,"_updateUnreadAlertsCount, new total: "+this._unreadAlertCount),this._unreadAlertCount=e,this.trigger())}))}getRecentAlerts(e=g.AlertTypeFilter.All){this._loadAndPruneRecentAlerts();const t=[],i=[];a.each(this._recentAlerts,(e=>{n._hideAlert(e)||e.isRemovedHighlightsFollowRequest()||(e.isHighlightsFollowRequest()?t.push(e):i.push(e))}));const o=a.concat(t,i);return e!==g.AlertTypeFilter.All?a.filter(o,(t=>{switch(e){case g.AlertTypeFilter.HighPriorityMessages:return t.alertType===g.AlertType.HighPriorityMessage;case g.AlertTypeFilter.Reactions:return t.alertType===g.AlertType.Reaction||t.alertType===g.AlertType.AdditionalReaction}})):o}isLoadingAlertsFromDb(){return this._loadingAlertsFromDb}getUnreadAlertsCount(){return Math.max(0,this._unreadAlertCount)}hasUnreadAlerts(e=!1){return e?a.some(this.getRecentAlerts(),(e=>!e.isRead)):this.getUnreadAlertsCount()>0}slashCommand_refresh(){this._loadAndPruneRecentAlerts().then((()=>{y.default.removeAlerts(this._recentAlerts),this._recentAlerts=[],this._unreadAlertCount=0,this._approximatedUnreadAlertCount=0,this.trigger()}))}_areAlertsLoadedInMemory(){return this._loadingAlertsFromDbPromise?this._loadingAlertsFromDbPromise.then((()=>!0)):d.Resolved(!1)}_shouldPruneEngagementAlertEntry(e){const t=e.alertType===g.AlertType.Notice?e.noticeMessageInfo:void 0,i=e.alertType===g.AlertType.Engagement?e.popCardInfo:void 0;if(t||i){const e=Date.now();if(t&&t.validUntil&&e>t.validUntil||i&&i.validUntil&&e>i.validUntil){if(i){const e=L.default.getCardsById([i.guid]);a.each(e,(e=>L.default.deletePopCard(e,!1)))}return!0}if(t&&t.persistencyMode===v.EngagementMessagePersistencyMode.Persistent||i&&i.persistencyMode===v.EngagementMessagePersistencyMode.Persistent)return!1}return i&&i.guid?!L.default.getCardCount(void 0,void 0,void 0,i.guid):!!t&&!!e.isRead}_loadAndPruneRecentAlerts(){return this._loadingAlertsFromDbPromise||(this._loadingAlertsFromDb=!0,this._loadingAlertsFromDbPromise=y.default.getAlerts().then((e=>{const t=a.filter(e,(e=>e.alertType===g.AlertType.Engagement||e.alertType===g.AlertType.Notice?this._shouldPruneEngagementAlertEntry(e):e.alertType===g.AlertType.OnboardingX||(e.alertType===g.AlertType.CoachMarks||e.alertType===g.AlertType.NotificationPermission&&!this._shouldDisplayNotificationPermissionAlert())));t.length&&y.default.removeAlerts(t),this._recentAlerts=e;const i=[];a.each(this._recentAlerts,((e,t)=>{if(e.alertType!==g.AlertType.HighlightsFollowRequest||e.highlightsFollowInfo.followState!==g.HighlightsFollowAlertState.Follow)return;const n=C.getHighlightsThreadMriForSkypeId(x.default.getSkypeId());if(!n)return;const o=m.default.getConversationMetaFromMemoryCache(n);if(!o||!o.conv.isUserMember(e.highlightsFollowInfo.otherUserMri))return;A.log(P.LogTraceArea.AlertsStore,"Forcing HL follow alert for "+O.mriOrId(e.highlightsFollowInfo.otherUserMri)+" to AcceptedByMe");const s={otherUserMri:e.highlightsFollowInfo.otherUserMri,followState:g.HighlightsFollowAlertState.AcceptedByMe},a=e.updateHighlightsFollowStatus(e.alertTime,!!e.isRead,e.message,s);this._recentAlerts[t]=a,i.push(a)})),i.length>0&&y.default.putAlerts(i),this._loadingAlertsFromDb=!1,this._pruneAndSortRecentAlerts()}))),this._loadingAlertsFromDbPromise}_pruneAndSortRecentAlerts(){const e=b.default.add(Date.now(),0,-g.AlertsConstants.DaysOfAlertsToDisplay),t=a.partition(this._recentAlerts,(t=>t.alertType===g.AlertType.Notice||t.alertType===g.AlertType.Engagement?!this._shouldPruneEngagementAlertEntry(t):t.alertType!==g.AlertType.HighlightsSkypeChannel&&t.alertType!==g.AlertType.HighlightsSkypeChannelSecondary&&t.alertType!==g.AlertType.HighlightsFollowRequest&&!t.isHighlightsFollowRequest()&&(!(t.alertType===g.AlertType.NotificationPermission&&!this._shouldDisplayNotificationPermissionAlert())&&t.alertTime>e))),i=t[1],o=t[0];o.sort(B.compareAlerts);for(let e=40;e<o.length;)o[e].isHighlightsFollowRequest()?e++:(i.push(o[e]),o.splice(e,1));i.length>0&&(A.log(P.LogTraceArea.AlertsStore,"Pruning "+i.length+" stale alerts from database"),y.default.removeAlerts(i),this._approximatedUnreadAlertCount-=n._countUnreadAlerts(i)),this._recentAlerts=o,this._unreadAlertCount=n._countUnreadAlerts(this._recentAlerts),m.default.setAlertsTrackedByAlertsStore(this._recentAlerts),A.log(P.LogTraceArea.AlertsStore,"Alerts pruned, new total: "+this._unreadAlertCount+", approx: "+this._approximatedUnreadAlertCount),this._checkReferenceCounting(),this.trigger()}static _countUnreadAlerts(e){const t=w.default.getAlertsLastReadTime()||0;return a.sumBy(e,(e=>!e.isRead&&e.alertTime>t&&!n._hideAlert(e)&&e.alertType!==g.AlertType.NotificationPermission?1:0))}static _hideAlert(e){return e.alertType===g.AlertType.HighlightComment||e.alertType===g.AlertType.HighlightsFollowRequest||e.alertType===g.AlertType.HighlightsSkypeChannel||e.alertType===g.AlertType.HighlightsSkypeChannelSecondary||(e.alertType!==g.AlertType.Reaction&&e.alertType!==g.AlertType.AdditionalReaction||!e.message?e.alertType===g.AlertType.CoachMarks?!_.default.isEngagementContentEnabled():!(e.alertType!==g.AlertType.ScheduledCall||!e.message)&&p.default.isMriBlocked(e.message.conversationId):C.isHighlightsThread(e.message.conversationId))}clearAlertsPanelCount(){return A.log(P.LogTraceArea.AlertsStore,"Clearing alerts panel count"),this._areAlertsLoadedInMemory().then((e=>{if(e){const e=a.maxBy(this._recentAlerts,(e=>e.alertTime));return d.Resolved(e?e.alertTime:0)}return y.default.getMostRecentAlertTime()})).then((e=>{e!==(w.default.getAlertsLastReadTime()||0)&&(A.log(P.LogTraceArea.AlertsStore,"Setting alerts last read time to "+e),w.default.setAlertsLastReadTime(e))}))}markAsRead(e){A.log(P.LogTraceArea.AlertsStore,`Mark one as read, guid: ${e}`),this._recentAlerts=a.map(this._recentAlerts,(t=>t.guid===e?t.applyRead(!0):t)),this.trigger()}markAllAsRead(){if(A.log(P.LogTraceArea.AlertsStore,"Marking all alerts as read"),a.isEmpty(this._recentAlerts))return;const e=[];a.each(this._recentAlerts,((t,i)=>{if(!t.isRead){const n=t.applyRead(!0);this._recentAlerts[i]=n,e.push(n)}})),a.isEmpty(e)||(this._unreadAlertCount=0,y.default.putAlerts(e),this.trigger())}maybeAddOrRemoveNotificationPermissionAlert(){this._shouldDisplayNotificationPermissionAlert()?this._addOrUpdateNotificationPermissionAlert(!0,!1):this._pruneAndSortRecentAlerts()}test_getApproximatedUnreadAlertsCount(){return this._approximatedUnreadAlertCount}test_getAllRawAlerts(){return this._recentAlerts}test_shouldPruneEngagementAlertEntry(e){return this._shouldPruneEngagementAlertEntry(e)}test_cleanSubscriptions(){this._blockedMriStoreSub=void 0,this._chatServiceAlertsUpdatedSub=void 0,this._myUserPreferencesStoreSub=void 0,this._popCardStoreSub=void 0,this._noticeMessageReceivedSub=void 0,this._noticeMessageOpenedSub=void 0,this._permissionsStorePromptSub=void 0,this._permissionsStorePermissionChangedSub=void 0,this._appConfigStoreSub=void 0,this._myUserPreferencesLocalSub=void 0,this._oldFriendBackNotificationSub=void 0}};o.__decorate([c.autoSubscribe],U.prototype,"getRecentAlerts",null),o.__decorate([c.autoSubscribe],U.prototype,"isLoadingAlertsFromDb",null),o.__decorate([c.autoSubscribe],U.prototype,"getUnreadAlertsCount",null),o.__decorate([c.autoSubscribe],U.prototype,"hasUnreadAlerts",null),U=n=o.__decorate([c.AutoSubscribeStore],U),t.default=new U},332686:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.compareAlerts=void 0;const n=i(142826);t.compareAlerts=function(e,t){return e.alertType!==n.AlertType.NotificationPermission&&t.alertType!==n.AlertType.NotificationPermission||e.alertType===t.alertType?e.alertTime<t.alertTime?1:e.alertTime>t.alertTime?-1:e.guid<t.guid?1:e.guid>t.guid?-1:0:e.alertType===n.AlertType.NotificationPermission?-1:1}},978547:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppUpdateStatus=void 0;const n=i(570655),o=i(516778),s=i(217041),a=i(300060),r=i(818882);var l;!function(e){e[e.Updated=0]="Updated",e[e.NotUpdated=1]="NotUpdated"}(l=t.AppUpdateStatus||(t.AppUpdateStatus={}));let c=class extends s.StoreBase{constructor(){super(),this._isAppUpdated=!1,a.default.subscribeForChanges("AppStateStore",(()=>this.trigger()))}getAppState(){return o.App.getActivationState()}isAppUpdated(){return this._isAppUpdated}getAppUpdateStatus(){return r.LocalStorage.getItem(r.StorageKeys.AppUpdateStatus)}setAppUpdateStatus(e){const t=e?l.Updated:l.NotUpdated;return this._setAppUpdatedStatus(e),r.LocalStorage.setItem(r.StorageKeys.AppUpdateStatus,l[t]).then((()=>{this.trigger()}))}_setAppUpdatedStatus(e=!1){this._isAppUpdated=e}};n.__decorate([s.autoSubscribe],c.prototype,"getAppState",null),n.__decorate([s.autoSubscribe],c.prototype,"isAppUpdated",null),c=n.__decorate([s.AutoSubscribeStore],c),t.default=new c},721956:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AudioQueueStore=void 0;const n=i(570655),o=i(217041);let s=class extends o.StoreBase{constructor(){super(...arguments),this._queuePerConversation={}}setAudioEndedForConversation(e,t){const i=this._queuePerConversation[e];if(!i)return;const{messages:n}=i;let o=null,s=!1;for(let e=0;e<n.length;e+=1){const{cuid:i}=n[e];if(i===t){e!==n.length-1&&(o=n[e+1].cuid),s=!0;break}}s&&(this._queuePerConversation=Object.assign(Object.assign({},this._queuePerConversation),{[e]:Object.assign(Object.assign({},i),{nextCuid:o})}),this.trigger())}addConversation(e,t){this._queuePerConversation=Object.assign(Object.assign({},this._queuePerConversation),{[e]:{messages:t,nextCuid:null}})}removeConversation(e){const t=this._queuePerConversation,i=e,o=(t[i],n.__rest(t,["symbol"==typeof i?i:i+""]));this._queuePerConversation=o,this.trigger()}getNextCuid(e){var t,i;return null!==(i=null===(t=this._queuePerConversation[e])||void 0===t?void 0:t.nextCuid)&&void 0!==i?i:null}};n.__decorate([o.autoSubscribe],s.prototype,"addConversation",null),n.__decorate([o.autoSubscribe],s.prototype,"getNextCuid",null),s=n.__decorate([o.AutoSubscribeStore],s),t.AudioQueueStore=s,t.default=new s},690247:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RecordingError=t.RecordingState=void 0;const n=i(570655),o=i(496486),s=i(197346),a=i(217041);var r,l;!function(e){e[e.None=0]="None",e[e.StartingMic=1]="StartingMic",e[e.Recording=2]="Recording",e[e.GettingAudio=3]="GettingAudio",e[e.HasAudio=4]="HasAudio"}(r=t.RecordingState||(t.RecordingState={})),function(e){e[e.None=0]="None",e[e.StartFailed=1]="StartFailed",e[e.StopFailed=2]="StopFailed"}(l=t.RecordingError||(t.RecordingError={}));let c=class extends a.StoreBase{constructor(){super(...arguments),this._sessionCounter=0,this._state=r.None,this._error=l.None,this._elapsedTime=0,this._currentSession=this._sessionCounter,this._session=null,this._volumeSamples=null,this._currentAudioResult=null,this._sampleStartedTime=Date.now(),this._sampleStartedOnWeb=!1}getRecordingState(){return this._state}getRecordingStateNoSubscription(){return this._state}getRecordingError(){return this._error}getVolumeSamples(){return o.clone(this._volumeSamples)}getElapsedTimeMs(){return this._elapsedTime}getRecordingResult(){return o.clone(this._currentAudioResult)}_isValid(e,t){return e===this._currentSession&&t===this._state}startRecording(e=500){this._state=r.StartingMic,this._currentSession=++this._sessionCounter,this._session=s.default.createRecordingSession(),this._volumeSamples=[],this._currentAudioResult=null,this._sampleStartedOnWeb=!1,this._sampleStartedTime=Date.now();const t=this._currentSession;this._session.startRecording((i=>{this._sampleStartedOnWeb||(this._sampleStartedOnWeb=!0,this._sampleStartedTime=Date.now()-e),this._isValid(t,r.Recording)&&(this._volumeSamples.push(i),this._elapsedTime=Date.now()-this._sampleStartedTime,this.trigger())}),e).then((()=>{this._isValid(t,r.StartingMic)&&(this._state=r.Recording,this.trigger())}),(()=>{this._isValid(t,r.StartingMic)&&this._reset(l.StartFailed)})),this.trigger()}stopRecording(){const e=this._session;this._session=null,this._state=r.GettingAudio;const t=this._currentSession;e.stopRecording().then((e=>{this._isValid(t,r.GettingAudio)&&(this._state=r.HasAudio,this._volumeSamples=null,this._currentAudioResult=Object.assign(Object.assign({},e),{durationMs:this._elapsedTime}),this.trigger())}),(()=>{this._isValid(t,r.GettingAudio)&&this._reset(l.StopFailed)}))}reset(){this._reset()}_reset(e=l.None){const t=this._session;this._state=r.None,this._error=e,this._session=null,this._volumeSamples=null,this._elapsedTime=0,this._currentAudioResult=null,t&&t.stopRecording(),this.trigger()}};n.__decorate([a.autoSubscribe],c.prototype,"getRecordingState",null),n.__decorate([a.disableWarnings],c.prototype,"getRecordingStateNoSubscription",null),n.__decorate([a.autoSubscribe],c.prototype,"getRecordingError",null),n.__decorate([a.autoSubscribe],c.prototype,"getVolumeSamples",null),n.__decorate([a.autoSubscribe],c.prototype,"getElapsedTimeMs",null),n.__decorate([a.autoSubscribe],c.prototype,"getRecordingResult",null),c=n.__decorate([a.AutoSubscribeStore],c),t.default=new c},951267:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerKeys=t.FlashMode=t.CameraMode=void 0;const n=i(570655),o=i(496486),s=i(418602),a=i(809206),r=i(217041),l=i(397691),c=i(47447),d=i(301065);Object.defineProperty(t,"CameraMode",{enumerable:!0,get:function(){return d.CameraMode}}),Object.defineProperty(t,"FlashMode",{enumerable:!0,get:function(){return d.FlashMode}});const u=i(746096),g=i(436237),h=i(192210),p=i(29130),S=i(422538);var m;!function(e){e[e.CurrentFlashMode=0]="CurrentFlashMode",e[e.CurrentCameraMode=1]="CurrentCameraMode",e[e.CurrentZoomLevel=2]="CurrentZoomLevel",e[e.SupportedCameras=3]="SupportedCameras",e[e.HasFlash=4]="HasFlash",e[e.HasBackTelephotoCamera=5]="HasBackTelephotoCamera",e[e.MaxZoom=6]="MaxZoom",e[e.AsyncCaptureStatusKey=7]="AsyncCaptureStatusKey",e[e.CameraAvailable=8]="CameraAvailable",e[e.DesktopVIMStatus=9]="DesktopVIMStatus"}(m=t.TriggerKeys||(t.TriggerKeys={}));let C=class extends r.StoreBase{constructor(){super(),this._currentFlashMode="off",this._currentCameraMode="back",this._preferredCameraMode="back",this._currentZoomLevel=1,this._maxZoom=1,this._hasBackTelephotoCamera=!1,this._supportedCameras=0,this._hasFlash=!1,this._isCameraAvailable=!0,this._visibleCapturePanelIDs=[],this._perfScenarios={},S.RegisterStartupable(this,"CaptureSettingsStore",[p.default])}startup(){return this._isCameraAvailable=c.UICapabilities.cameraSupported()&&!p.default.isSplitScreenIPad(),g.log(u.LogTraceArea.Capture,"CaptureSettingsStore startup, isCameraAvailable: "+this._isCameraAvailable),this._splitScreenSubscriptionToken=p.default.subscribe((()=>{const e=c.UICapabilities.cameraSupported()&&!p.default.isSplitScreenIPad();e!==this._isCameraAvailable&&(g.log(u.LogTraceArea.Capture,"CaptureSettingsStore, update isCameraAvailable: "+e),this._isCameraAvailable=e,this.trigger(m.CameraAvailable))}),p.TriggerKeys.SplitScreenIPad),s.DefaultCamera.getDefaultCamera(this._preferredCameraMode).then((e=>{this.setupCamera(e)})),l.Resolved()}destroy(){this._splitScreenSubscriptionToken&&(p.default.unsubscribe(this._splitScreenSubscriptionToken),this._splitScreenSubscriptionToken=void 0)}getCurrentFlashMode(){return this.convertStringToFlashModeEnum(this._currentFlashMode)}getCurrentCameraMode(){return this.convertStringToCameraModeEnum(this._currentCameraMode)}getCurrentZoomLevel(){return this._currentZoomLevel}getSupportedCameras(){return this._supportedCameras}hasFlash(){return this._hasFlash}hasBackTelephotoCamera(){return this._hasBackTelephotoCamera}maxZoom(){return this._maxZoom}isCameraAvailable(){return this.isCameraAvailableNoSubscription()}isCameraAvailableNoSubscription(){var e;return this._isCameraAvailable||null!==(e=a.default.HasCamera)&&void 0!==e&&e}setSupportedCameras(e){this._supportedCameras=e,this.trigger(m.SupportedCameras)}setIsCameraAvailable(e){this._isCameraAvailable=e,this.trigger(m.CameraAvailable)}setupCamera(e){if("none"===e)this.setIsCameraAvailable(!1);else{const t=this.convertStringToCameraModeEnum(e);this.setCameraMode(t)}}setHasFlash(e){e!==this._hasFlash&&(this._hasFlash=e,this.trigger(m.HasFlash))}setCameraMode(e){e!==this.getCurrentCameraMode()&&(this._currentCameraMode=this.convertCameraModeEnumToString(e),this.trigger(m.CurrentCameraMode))}getDefaultCamera(e){return l.fromThenable(s.DefaultCamera.getDefaultCamera(e))}updateSettings(e){e&&(e.supportedCameras().then((e=>this.setSupportedCameras(e))),e.getDefaultCamera(this._preferredCameraMode).then((e=>this.setupCamera(e))),e.hasBackTelephotoCamera().then((e=>this.setHasBackTelephotoCamera(e))),e.getMaxZoom().then((e=>this.setMaxZoom(e))),e.hasFlash().then((e=>this.setHasFlash(e))))}setHasBackTelephotoCamera(e){this._hasBackTelephotoCamera=e,this.trigger(m.HasBackTelephotoCamera)}setMaxZoom(e){this._maxZoom=e,this.trigger(m.MaxZoom)}setPerfScenario(e,t){this._perfScenarios[h.ScenarioName[e]]=t}getPerfScenario(e){return this._perfScenarios[h.ScenarioName[e]]}maybeGetAndClearPerfScenario(e){const t=this._perfScenarios[h.ScenarioName[e]];return delete this._perfScenarios[h.ScenarioName[e]],t}toggleCamera(){if(this._supportedCameras>1){const e="front"===this._currentCameraMode?"back":"front";this._currentCameraMode=e,this.trigger(m.CurrentCameraMode)}}getCameraToggleMode(){if(this._supportedCameras>1){const e="front"===this._currentCameraMode?"back":"front";return this.convertStringToCameraModeEnum(e)}return d.CameraMode.None}setZoomLevel(e){this._currentZoomLevel=e,this.trigger(m.CurrentZoomLevel)}toggleFlash(){if(this._hasFlash){const e="off"===this._currentFlashMode?"on":"off";this._currentFlashMode=e,this.trigger(m.CurrentFlashMode)}}convertStringToCameraModeEnum(e){return"front"===e?d.CameraMode.Front:d.CameraMode.Back}setAsyncCaptureStatus(e,t){let i=o.findIndex(this._visibleCapturePanelIDs,(t=>t===e));if(-1===i){if(t)return i=this._visibleCapturePanelIDs.push(e)-1,this.trigger(m.AsyncCaptureStatusKey),void g.log(u.LogTraceArea.GenericUnsafe,"CaptureSettingsStore visible capture panel "+e+" added (now "+this._visibleCapturePanelIDs.length+")")}else if(!t)return this._visibleCapturePanelIDs.splice(i,1),this.trigger(m.AsyncCaptureStatusKey),void g.log(u.LogTraceArea.GenericUnsafe,"CaptureSettingsStore visible capture panel "+e+" removed (now "+this._visibleCapturePanelIDs.length+")")}isInAsyncCapture(){return 0!==this._visibleCapturePanelIDs.length}convertStringToFlashModeEnum(e){return"on"===e?d.FlashMode.On:d.FlashMode.Off}convertCameraModeEnumToString(e){switch(e){case d.CameraMode.Front:return"front";case d.CameraMode.Back:default:return"back"}}convertFlashModeEnumToString(e){switch(e){case d.FlashMode.On:return"on";case d.FlashMode.Off:default:return"off"}}test_resetFields(){this._currentFlashMode="off",this._currentCameraMode="back",this._preferredCameraMode="back",this._currentZoomLevel=1,this._supportedCameras=0,this._hasFlash=!1,this._isCameraAvailable=!0,this._visibleCapturePanelIDs=[]}};n.__decorate([(0,r.autoSubscribeWithKey)(m.CurrentFlashMode)],C.prototype,"getCurrentFlashMode",null),n.__decorate([(0,r.autoSubscribeWithKey)(m.CurrentCameraMode)],C.prototype,"getCurrentCameraMode",null),n.__decorate([(0,r.autoSubscribeWithKey)(m.CurrentZoomLevel)],C.prototype,"getCurrentZoomLevel",null),n.__decorate([(0,r.autoSubscribeWithKey)(m.SupportedCameras)],C.prototype,"getSupportedCameras",null),n.__decorate([(0,r.autoSubscribeWithKey)(m.HasFlash)],C.prototype,"hasFlash",null),n.__decorate([(0,r.autoSubscribeWithKey)(m.HasBackTelephotoCamera)],C.prototype,"hasBackTelephotoCamera",null),n.__decorate([(0,r.autoSubscribeWithKey)(m.MaxZoom)],C.prototype,"maxZoom",null),n.__decorate([(0,r.autoSubscribeWithKey)(m.CameraAvailable)],C.prototype,"isCameraAvailable",null),n.__decorate([r.disableWarnings],C.prototype,"isCameraAvailableNoSubscription",null),n.__decorate([(0,r.autoSubscribeWithKey)(m.AsyncCaptureStatusKey)],C.prototype,"isInAsyncCapture",null),C=n.__decorate([r.AutoSubscribeStore],C),t.default=new C},953143:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ToastCategory=t.ToastType=void 0;const n=i(570655),o=i(496486),s=i(217041),a=i(889391),r=i(109520),l=i(502278),c=i(898278),d=i(746096),u=i(436237),g=i(994224),h=i(593486);var p,S;!function(e){e[e.IncomingCall=0]="IncomingCall",e[e.Notification=1]="Notification",e[e.CallRecorder=2]="CallRecorder",e[e.LocalCallMediaCapturer=3]="LocalCallMediaCapturer",e[e.RemoteCallMediaCapturer=4]="RemoteCallMediaCapturer",e[e.CallConnectionQuality=5]="CallConnectionQuality",e[e.IncomingVideoDisabled=6]="IncomingVideoDisabled",e[e.NetworkConnection=7]="NetworkConnection",e[e.CameraDeniedToast=9]="CameraDeniedToast",e[e.WebFeedback=10]="WebFeedback",e[e.Translation=11]="Translation",e[e.TeamsInterop=12]="TeamsInterop",e[e.TogetherModeNotice=13]="TogetherModeNotice",e[e.LimitedSupportBrowser=14]="LimitedSupportBrowser",e[e.PstnTranslation=15]="PstnTranslation",e[e.MusicModeEnabled=16]="MusicModeEnabled",e[e.PstnParticipantRing=17]="PstnParticipantRing",e[e.CaptionsStart=18]="CaptionsStart",e[e.CaptionsError=19]="CaptionsError",e[e.CaptionsLanguageChange=20]="CaptionsLanguageChange",e[e.CaptionsParticipantLanguageChange=21]="CaptionsParticipantLanguageChange",e[e.CaptionsLanguageDetectionError=22]="CaptionsLanguageDetectionError",e[e.CaptionsTranslationConsent=23]="CaptionsTranslationConsent",e[e.CaptionsTruVoiceConsent=24]="CaptionsTruVoiceConsent",e[e.CaptionsTranslationConsentRequest=25]="CaptionsTranslationConsentRequest",e[e.CaptionsTruVoiceConsentRequest=26]="CaptionsTruVoiceConsentRequest",e[e.CaptionsTranslationRequestSent=27]="CaptionsTranslationRequestSent",e[e.CaptionsTruVoiceRequestSent=28]="CaptionsTruVoiceRequestSent",e[e.CaptionsTruVoiceEnable=29]="CaptionsTruVoiceEnable",e[e.CaptionsTranslationRejected=30]="CaptionsTranslationRejected",e[e.CaptionsTruVoiceRejected=31]="CaptionsTruVoiceRejected",e[e.CaptionsTranslationCancelled=32]="CaptionsTranslationCancelled",e[e.CaptionsTranslationStopped=33]="CaptionsTranslationStopped",e[e.CaptionsTranslationNotSupported=34]="CaptionsTranslationNotSupported",e[e.CaptionsTranslationEnabled=35]="CaptionsTranslationEnabled",e[e.CaptionsTruVoiceCancelled=36]="CaptionsTruVoiceCancelled",e[e.CaptionsTruVoiceStopped=37]="CaptionsTruVoiceStopped",e[e.CaptionsTruVoiceNotSupported=38]="CaptionsTruVoiceNotSupported",e[e.CaptionsTruVoiceEnabled=39]="CaptionsTruVoiceEnabled",e[e.VideoRestricted=40]="VideoRestricted"}(p=t.ToastType||(t.ToastType={})),function(e){e[e.Captions=1]="Captions"}(S=t.ToastCategory||(t.ToastCategory={}));const m={[S.Captions]:4};let C=class extends s.StoreBase{constructor(){super(...arguments),this._toasts=[],this._toastsByCategory={},this._toastId=1,this._hasPresentedWebFeedbackToast=!1}addNotificationToast(e,t){return this._addToast(p.Notification,p.Notification,e,t)}addIncomingCallToast(e,t,i){const n=this._addToast(p.IncomingCall,p.IncomingCall,e,i);return n?(l.default.trackStartRinging(e.callId,r.AnswerCallNotificationLocation.InAppBanner),l.default.markAnswerCallStep(e.callId,r.AnswerCallStep.NotifyingCallee,e.conversationMri,t,{CalleeNotifiedIn:r.AnswerCallNotificationLocation.InAppBanner})):l.default.trackIncomingCallNotificationFailure(e.callId,r.IncomingCallEndReason.StartRingingFailed,"AddIncomingCallToastFailed"),n}addLimitedSupportBrowserToast(e){return this._addToast(p.LimitedSupportBrowser,p.Notification,e,c.MainRootViewId)}addCameraDeniedToast(e){return this._addToast(p.CameraDeniedToast,p.CameraDeniedToast,e,c.MainRootViewId)}addCallRecorderToast(e){return this._addToast(p.CallRecorder,p.CallRecorder,e,c.MainRootViewId)}addRemoteCallMediaCapturedToast(e){return this._addToast(p.RemoteCallMediaCapturer,p.RemoteCallMediaCapturer,e,c.MainRootViewId)}addLocalCallMediaCapturedToast(e){return this._addToast(p.LocalCallMediaCapturer,p.LocalCallMediaCapturer,e,c.MainRootViewId)}addCallConnectionQualityToast(e){return this._addToast(p.CallConnectionQuality,p.CallConnectionQuality,e,c.MainRootViewId)}addIncomingVideoDisabledToast(e){return this._addToast(p.IncomingVideoDisabled,p.IncomingVideoDisabled,e,c.MainRootViewId)}addNetworkConnectionToast(e){return this._addToast(p.NetworkConnection,p.NetworkConnection,e,c.MainRootViewId)}addGeneralPurposeToast(e){return this._addToast(e.toastType,e.toastType,e,c.MainRootViewId,e.onDismiss)}addTranslationInCallToast(e){return this._addToast(p.Translation,p.Translation,e,c.MainRootViewId)}addWebFeebackToast(e){if(!h.default.isChild()&&a.default.getS4LUiFeaturesNoSubscription().enableWebFeedbackBanner&&-1===o.findIndex(this._toasts,(e=>e.type===p.WebFeedback))&&!this._hasPresentedWebFeedbackToast)return this._hasPresentedWebFeedbackToast=!0,this._addToast(p.WebFeedback,p.WebFeedback,e,c.MainRootViewId)}addCaptionsGenericToast(e,t){return this._addToast(e,0,t,c.MainRootViewId,void 0,S.Captions)}addCaptionsGeneriConsentToast(e,t){return this._addToast(e,0,t,c.MainRootViewId,void 0,S.Captions)}addVideoRestrictedToast(e){const t=this._addToast(p.VideoRestricted,p.VideoRestricted,e,c.MainRootViewId,e.onDismiss);return void 0!==t&&l.default.onBlockedVideoBannerShown(e.callId),t}_addToast(e,t,i,n,s,a){var r;u.log(d.LogTraceArea.Navigation,"CompositeToastStore._addToast type: "+e);const l=[p.IncomingCall,p.CallRecorder,p.CallConnectionQuality,p.IncomingVideoDisabled,p.CameraDeniedToast,p.TeamsInterop,p.Translation,p.TogetherModeNotice,p.PstnTranslation,p.MusicModeEnabled,p.PstnParticipantRing,p.CaptionsStart,p.CaptionsTranslationConsent,p.CaptionsTranslationConsent,p.CaptionsTruVoiceConsent,p.CaptionsTranslationConsentRequest,p.CaptionsTruVoiceConsentRequest,p.VideoRestricted],c=[p.CaptionsStart,p.CaptionsTranslationConsent,p.CaptionsTruVoiceConsent,p.CaptionsTranslationConsentRequest,p.CaptionsTruVoiceConsentRequest];if(l.includes(e)&&this._hasToastForCallId(e,i,a))return u.log(d.LogTraceArea.Navigation,"CompositeToastStore._addToast type: "+e+" callId: "+i.callId+" already exists"),c.includes(e)?null===(r=this.toastForCallId(e,i,a))||void 0===r?void 0:r.id:void 0;const g={type:e,order:t,id:this._toastId++,state:i,rootViewId:n,onDismiss:s,category:a},{toasts:h,maxToasts:S}=this._getStore(a),m=o.findIndex(h,(e=>e.order>t));if(-1===m&&h.length<S)h.push(g);else{if(!(-1!==m&&m<S))return void u.log(d.LogTraceArea.Navigation,`Ignoring toast type: ${e} order ${t} as store is full`);h.splice(m,0,g),h.splice(S,1)}return this.trigger(),g.id}_getStore(e){return e?(this._toastsByCategory[e]||(this._toastsByCategory[e]=[]),{toasts:this._toastsByCategory[e],maxToasts:m[e]}):{toasts:this._toasts,maxToasts:3}}_getAllCombined(){const e=[...this._toasts];return Object.values(this._toastsByCategory).forEach((t=>e.push(...t))),e}toastForCallId(e,t,i){const{toasts:n}=this._getStore(i);return n.find((n=>n.type===e&&n.category===i&&n.state.callId===t.callId))}_hasToastForCallId(e,t,i){return!!this.toastForCallId(e,t,i)}removeToast(e,t,i,n=!0){const s=this._getAllCombined(),a=o.find(s,(t=>t.id===e));if(a){if(void 0!==t&&a.state){const e=a.state;e.action&&e.action(t,i)}const{toasts:s}=this._getStore(a.category);o.remove(s,(t=>t.id===e)).length&&n&&this.trigger()}}removeAllFromCategory(e,t){const{toasts:i}=this._getStore(t);i.filter((i=>i.category===t&&(e&&i.state.callId===e||!e))).map((e=>e.id)).forEach((e=>this.removeToast(e,void 0,void 0,!1))),this.trigger()}removeAll(){this._toasts=[],this._toastsByCategory={},this.trigger()}updateToast(e,t){const i=this._getAllCombined().find((t=>t.id===e));return!!i&&(i.state=t,this.trigger(e),!0)}_isOnHoldCallRecorderToastMessage(e,t){return e.type===p.CallRecorder&&t!==e.state.callId}getToasts(e,t,i){const n=i||g.default.CallingStore.getConnectedOrOutgoingAndNotOnHoldCallId(),{toasts:s}=this._getStore(t);return o.filter(s,(o=>(o.rootViewId===e||o.rootViewId===c.MainRootViewId)&&o.category===t&&!this._isOnHoldCallRecorderToastMessage(o,n)&&(i&&o.state.callId===i||!i)))}getToastsOfType(e,t){return this._getAllCombined().filter((i=>(i.rootViewId===t||i.rootViewId===c.MainRootViewId)&&i.type===e))}getToast(e){const t=this._getAllCombined();return o.find(t,(t=>t.id===e))}};n.__decorate([s.autoSubscribe],C.prototype,"getToasts",null),n.__decorate([s.autoSubscribe,n.__param(0,s.key)],C.prototype,"getToast",null),C=n.__decorate([s.AutoSubscribeStore],C),t.default=new C},861614:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectivityAlertStore=void 0;const n=i(570655),o=i(217041),s=i(397691),a=i(889391),r=i(953143),l=i(746096),c=i(436237),d=i(178735),u=i(932226),g=i(476192),h=i(17791),p=i(422538);let S=class extends o.StoreBase{constructor(){super(),this._alertDismissed=!1,p.RegisterStartupable(this,"ConnectivityAlertStore",[d.default,u.default])}startup(){return u.default.subscribe((()=>{this._toggleConnectionAlert()})),this._toggleConnectionAlert(),s.Resolved()}getConnectivityAlertType(){return this._reportedAlertType}shouldShowCaptivePortalQuestionnaire(){if(this._reportedAlertType!==l.ConnectivityAlertType.CaptivePortal)return!1;const e=a.default.getS4LMessagingFeatures();if(!e.enableCaptivePortalQuestionnaire)return!1;const t=d.default.getUserPreferencesLocal().captivePortalDismissedAt;return void 0===t||!!e.captivePortalQuestionnaireFrequency&&Date.now()>=t+1e3*e.captivePortalQuestionnaireFrequency}answerCaptivePortalQuestionnaire(e){e===g.CaptivePortalQuestionnaireOption.Invalid&&h.default.forcePassedConnectivityCheck(),c.track(new g.CaptivePortalQuestionnaireEvent(e)),d.default.setUserPreferencesLocal({captivePortalDismissedAt:Date.now()})}dismissConnectivityAlert(){this._alertDismissed=!0,this._removeToast()}_toggleConnectionAlert(){const e=u.default.getConnectionStatus();e===u.ConnectionStatus.PossibleCaptivePortal?this._createOrUpdateToast(l.ConnectivityAlertType.CaptivePortal):e===u.ConnectionStatus.DisconnectedNoNetworkingReported?this._createOrUpdateToast(l.ConnectivityAlertType.NoNetwork):this._removeToast()}_createOrUpdateToast(e){if(this._alertDismissed)return void this._removeToast();if(e===this._reportedAlertType)return;const t=new g.ConnectivityAlertShowEvent(e);if(c.track(t),void 0!==this._toastId)c.log(l.LogTraceArea.ConnectivityStatusBar,"ConnectivityAlertStore: updating toast, reported type "+l.ConnectivityAlertType[e]),r.default.updateToast(this._toastId,{toastType:e});else if(c.log(l.LogTraceArea.ConnectivityStatusBar,"ConnectivityAlertStore: adding toast, reported type "+l.ConnectivityAlertType[e]),this._toastId=r.default.addNetworkConnectionToast({toastType:e}),void 0===this._toastId)return;this._alertDismissed=!1,this._reportedAlertType=e,this.trigger()}_removeToast(){void 0!==this._toastId&&(c.log(l.LogTraceArea.ConnectivityStatusBar,"ConnectivityAlertStore: removing toast, reported type "+(this._reportedAlertType?l.ConnectivityAlertType[this._reportedAlertType]:"undefined")),r.default.removeToast(this._toastId),this._reportedAlertType=void 0,this._toastId=void 0,this.trigger())}};n.__decorate([o.autoSubscribe],S.prototype,"getConnectivityAlertType",null),n.__decorate([o.autoSubscribe],S.prototype,"shouldShowCaptivePortalQuestionnaire",null),S=n.__decorate([o.AutoSubscribeStore],S),t.ConnectivityAlertStore=S,t.default=new S},1656:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(217041),s=i(397691),a=i(422538);let r=class extends o.StoreBase{constructor(){super(),this._startupDeferral=s.Defer(),a.RegisterStartupable(this,"CrashStatusStore")}startup(){return this._startupDeferral.promise()}internal_feedCrashStatus(e){void 0===this._lastLaunchCrashed&&(this._lastLaunchCrashed=e,this._startupDeferral.resolve(void 0))}didLastLaunchCrash(){return this._lastLaunchCrashed}};n.__decorate([o.disableWarnings],r.prototype,"didLastLaunchCrash",null),r=n.__decorate([o.AutoSubscribeStore],r),t.default=new r},313560:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(217041),s=i(881211),a=i(746096),r=i(436237),l=i(70665),c=i(330124),d=i(360305);let u=class extends o.StoreBase{show(e,t){this._currentActionMenu=e;const i=this._usePopup(this._currentActionMenu);r.log(a.LogTraceArea.GenericUnsafe,"CustomActionMenuStore.show useDesktopPopup: "+!!e.useDesktopPopup+" usePopup: "+i+" causeId: "+t),this._navDismissalRegistrationHandle&&l.unregister(this._navDismissalRegistrationHandle),this._navDismissalRegistrationHandle=l.register({dismiss:()=>{this._currentActionMenu&&this.close(this._currentActionMenu.rootViewId,t)}}),i?s.default.show(this._currentActionMenu,t):(r.log(a.LogTraceArea.GenericUnsafe,"CustomActionMenuStore.show, trigger, causeId: "+t),this.trigger())}close(e,t){r.log(a.LogTraceArea.GenericUnsafe,"CustomActionMenuStore.close, causeId: "+t);const i=this._currentActionMenu;this._currentActionMenu=void 0,this._navDismissalRegistrationHandle&&(l.unregister(this._navDismissalRegistrationHandle),this._navDismissalRegistrationHandle=void 0),this._usePopup(i)?s.default.close(e):(r.log(a.LogTraceArea.GenericUnsafe,"CustomActionMenuStore.close, trigger"),this.trigger()),i&&i.onMenuClosed&&i.onMenuClosed(t)}getCurrent(){return this._currentActionMenu}isCustomActionMenuShown(){return!!this._currentActionMenu}isCustomActionMenuShownNoSubscription(){return!!this._currentActionMenu}_usePopup(e){return!!e&&!!e.useDesktopPopup||!c.default.isUsingStackNavigationContext()&&!d.default.isTabletUINoSubscription()}};n.__decorate([o.autoSubscribe],u.prototype,"getCurrent",null),n.__decorate([o.autoSubscribe],u.prototype,"isCustomActionMenuShown",null),n.__decorate([o.disableWarnings],u.prototype,"isCustomActionMenuShownNoSubscription",null),u=n.__decorate([o.AutoSubscribeStore],u),t.default=new u},706217:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(217041),s=i(397691),a=i(816402),r=i(422538),l=i(912770);let c=class extends o.StoreBase{constructor(){super(),this._fire=()=>{this.trigger(),l.default.clearTimeout(this._timer),this._initTimer()},r.RegisterStartupable(this,"DayChangedNotifierStore",[])}startup(){return this._initTimer(),s.Resolved()}_getTomorrowTimestamp(){const e=new Date(Date.now());return e.setDate(e.getDate()+1),e.setHours(0),e.setMinutes(0),e.setSeconds(0)}_initTimer(){const e=this._getTomorrowTimestamp();this._timer=l.default.setExpiration(this._fire,e+3e3)}getDisplayDateString(e){return a.default.getDisplayDateString(e)}};n.__decorate([o.autoSubscribe],c.prototype,"getDisplayDateString",null),c=n.__decorate([o.AutoSubscribeStore],c),t.default=new c},933790:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(217041);let s=class extends o.StoreBase{getAnchorPosition(){return this._anchorPosition}setAnchorPosition(e){this._anchorPosition=e,this.trigger()}};n.__decorate([o.autoSubscribe],s.prototype,"getAnchorPosition",null),s=n.__decorate([o.AutoSubscribeStore],s);const a=new s;t.default=a},952262:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(496486),s=i(217041),a=i(397691),r=i(1706),l=i(889391),c=i(671830),d=i(576335),u=i(82927),g=i(539549),h=i(682842),p=i(518460),S=i(18078),m=i(422538),C=i(151038),y=i(172758);let f=class extends s.StoreBase{constructor(){super(100),this._conversationsToTrack={},this._handleConversationUpdates=e=>{const t=o.filter(e,(e=>{const t=this._conversationsToTrack[e];if(!t)return!1;const i=(0,g.default)().getConversation(e);return!!i&&t.updateConversationAndCheckIfChanged(i)}));t.length>0&&this.trigger(t)},m.RegisterStartupable(this,"DisplayInfoStore",[g.default,y.default])}startup(){return(0,g.default)().subscribe(this._handleConversationUpdates),y.default.subscribe((e=>{o.each(this._conversationsToTrack,((t,i)=>{const n=(0,g.default)().getConversation(i);o.each(e,(e=>{if(n&&n.isUserMember(e))return this._handleConversationUpdates([i]),!1}))})),this.trigger(e)})),r.default.subscribe((e=>{const t=o.filter(e,(e=>c.isMri(e)));o.isEmpty(t)||this.trigger(t)})),d.default.subscribe((e=>{const t=o.filter(e,(e=>c.isMri(e)));o.isEmpty(t)||this.trigger(t)})),a.Resolved()}_startedTrackingKey(e){if(!c.isThread(e)||this._conversationsToTrack[e])return;const t=(0,g.default)().getConversation(e);this._conversationsToTrack[e]=new u.default(e,t)}_stoppedTrackingKey(e){delete this._conversationsToTrack[e]}getDisplayableProfilePotentiallyBeforeStartupAsync(e){return m.HasStarted(this)?a.Resolved(this.getDisplayableProfile(e)):c.isThread(e)?(0,g.default)().getConversationPotentiallyBeforeStartupAsync(e).then((t=>{const i=t&&c.isOneOnOneConversation(e)?t.getOtherPartyMri():void 0;return i?C.getDisplayableProfilePotentiallyBeforeStartupAsync(i).then((t=>c.isEncryptedThread(e)&&t instanceof h.default?o.clone(t).setConversationId(e):t)):C.populateProfilesToCalculateConvDisplayName(t).then((()=>new u.default(e,t)))})):C.getDisplayableProfilePotentiallyBeforeStartupAsync(e)}getDisplayableNamePotentiallyBeforeStartupAsync(e,t){return this.getDisplayableProfilePotentiallyBeforeStartupAsync(e).then((i=>this._getDisplayName(e,i,t)))}getDisplayableProfile(e){if(c.isThread(e)){const t=(0,g.default)(),i=c.isOneOnOneConversation(e)?t.getConversation(e):void 0,n=i?i.getOtherPartyMri():void 0;if(n){const t=C.getDisplayableProfile(n);return c.isEncryptedThread(e)&&t instanceof h.default?o.clone(t).setConversationId(e):t}if(!this._conversationsToTrack[e]){const i=t.getConversation(e);return new u.default(e,i)}return this._conversationsToTrack[e]}return C.getDisplayableProfile(e)}getDisplayName(e,t){const i=this._possiblyGetMatchingAddressBookContact(e);if(i)return i.getDisplayName();const n=this.getDisplayableProfile(e);return this._getDisplayName(e,n,t)}_getDisplayName(e,t,i){const n=this._getFallbackDisplayName(e);return t?t.getDisplayName(n,i):n}_getFallbackDisplayName(e){return c.isMyBotConversation(e)?y.default.getMyBotDisplayName():c.isAgent(e)||c.isConnector(e)?void 0:c.stripMriNamespace(e)}_possiblyGetMatchingAddressBookContact(e){let t,i;if(c.isPhoneMri(e)&&(i=e),i){const e=c.getPhoneNumberFromMri(i);t=e?p.default.getContactByPhoneNumber(e):void 0}else l.default.getS4LContactsFeatures().overrideWithAddressBookName&&c.isUserMri(e)&&!y.default.getDisplayableUserByMri(e).isManuallyAdded&&(t=p.default.getContactByCorrespondingMri(e));return t}getShortDisplayName(e){const t=this._possiblyGetMatchingAddressBookContact(e);if(t)return t.getShortName();const i=this.getDisplayableProfile(e);return i?i.getShortName():c.stripMriNamespace(e)}getMemberShortNameForConversation(e,t){if(!c.isThread(e)||!this._conversationsToTrack[e])return this.getDisplayableProfile(t).getShortName();return this._conversationsToTrack[e].getMemberShortName(t)}getCurrentUserDisplayNameCensusParams(){const e=this.getDisplayName(S.default.getSkypeMri()),t=e?e.split(" "):[],i=t.length;let n=!1;return 2===i&&t[0]===t[1]&&(n=!0),{displayNamePartsLength:i,firstAndSecondAreMatching:n}}};n.__decorate([s.disableWarnings],f.prototype,"_startedTrackingKey",null),n.__decorate([s.disableWarnings],f.prototype,"_stoppedTrackingKey",null),n.__decorate([s.autoSubscribe,n.__param(0,s.key)],f.prototype,"getDisplayableProfile",null),n.__decorate([s.autoSubscribe,n.__param(0,s.key)],f.prototype,"getDisplayName",null),n.__decorate([s.autoSubscribe,n.__param(0,s.key)],f.prototype,"getShortDisplayName",null),n.__decorate([s.autoSubscribe,n.__param(0,s.key)],f.prototype,"getMemberShortNameForConversation",null),n.__decorate([s.autoSubscribe],f.prototype,"getCurrentUserDisplayNameCensusParams",null),f=n.__decorate([s.AutoSubscribeStore],f),t.default=new f},310167:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(496486),s=i(217041),a=i(974634),r=i(397691),l=i(889391),c=i(484363),d=i(2519),u=i(746096),g=i(436237),h=i(875913),p=i(733754),S=i(178735),m=i(18078),C=i(422538),y=i(912770);let f=class extends s.StoreBase{constructor(){super(),this._updateStatus=d.default.NoUpdates,this._isWindowMaximized=!1,this._shouldShowUpdateBadge=!1,this._shouldShowUpdateReminder=!1,this._isMandatoryUpdate=!1,this._ignoreLocaleChange=!1,this._areConversationNavigationMenuItemsVisible=!1,this._shouldHavePasteAsPlainTextOption=!1,this.onMandatoryUpdate=new a.default,this.onNavigateToAboutPage=new a.default,this.onNavigateToSettings=new a.default,this.onNavigateToAVSettings=new a.default,this.onNavigateToProfile=new a.default,this.onNavigateToMeControl=new a.default,this.onNavigateToSearch=new a.default,this.onNavigateToFeedback=new a.default,this.onNavigateToSkypeURI=new a.default,this.onNavigateToSupport=new a.default,this.onNavigateToStatus=new a.default,this.onNavigateToPreviousConversation=new a.default,this.onNavigateToNextConversation=new a.default,this.onPresenceChange=new a.default,this.onNewConversation=new a.default,this.onNewGroupConversation=new a.default,this.onNewCall=new a.default,this.onSignOut=new a.default,this._onLogin=e=>{e&&this._handleSkypeURI()},this._setMandatoryUpdate=()=>{g.log(u.LogTraceArea.ElectronStateStore,"Setting update as Mandatory."),this._isMandatoryUpdate=!0,this.trigger()},this._setRedBadge=()=>{this._shouldShowUpdateReminder=!0,this.trigger()},this._setShowUpdateBadge=()=>{this._shouldShowUpdateBadge=!0,this.trigger()},this._handleSkypeURI=()=>{if(!this._api)return;const e=this._api.ipcProvider.app.getCurrentSkypeURI.send();e&&this.onNavigateToSkypeURI.fire(e)},C.RegisterStartupable(this,"ElectronStateStore"),m.default.userLoggedInUpdatedEvent.subscribe(this._onLogin)}startup(){return"undefined"!=typeof window&&void 0!==window.electronApi&&(this._api=window.electronApi,this._registerHandlers()),r.Resolved()}checkForUpdates(){this._api&&this._api.ipcProvider.appUpdate.checkForUpdates.send()}getUpdateStatus(){return this._updateStatus}setUpdateStatus(e){this._updateStatus=e,this.trigger()}getIsWindowMaximized(){return this._isWindowMaximized}setIsWindowMaximized(e){this._isWindowMaximized=e,this.trigger()}shouldShowUpdateBadge(){return this._shouldShowUpdateBadge}shouldShowUpdateReminder(){return this._shouldShowUpdateReminder}isMandatoryUpdate(){return this._isMandatoryUpdate}resetLocaleToSystem(){return this._api?(this._ignoreLocaleChange=!0,this._api.ipcProvider.localisation.resetLocale.invoke().then((e=>{p.setSystemLocale(e)}))):Promise.resolve()}acknowledgeAppExit(){this._api&&this._api.ipcProvider.app.exitAckApp.send()}getAppSettings(){if(this._api)return this._api.ipcProvider.app.getSettings.send()}changeAppSettings(e){this._api&&this._api.ipcProvider.app.changeSettings.send(e)}isAutoStartSupported(){return!!this._api&&this._api.ipcProvider.app.isAutoStartSupported.send()}canControlAutoStart(){return!1}_getShouldHavePasteAsPlainTextHelper(){let e=!1;return({local:t})=>{e=o.isNil(t)?e:t;const i=e;this._shouldHavePasteAsPlainTextOption!==i&&(this._shouldHavePasteAsPlainTextOption=i,window.electronApi.ipcProvider.clipboard.setPasteAsPlainTextOption.send(this._shouldHavePasteAsPlainTextOption))}}_registerHandlers(){if(!this._api)return;const e=this._getShouldHavePasteAsPlainTextHelper();S.default.subscribe((()=>{const{pasteAsQuotesEnabled:t}=S.default.getUserPreferencesLocalNoSubscription();e({local:t})})),l.default.subscribe((()=>{const{enableKeyboardNavigationBetweenConversations:e,openLinkWithEdgeSidebar:t,enableEdgeFeaturesForOpenLink:i}=l.default.getS4LMessagingFeaturesNoSubscription();this._areConversationNavigationMenuItemsVisible!==e&&(this._areConversationNavigationMenuItemsVisible=e,window.electronApi.ipcProvider.applicationMenu.setConversationNavigationMenuItemsVisible.send(this._areConversationNavigationMenuItemsVisible)),t&&window.electronApi.ipcProvider.device.edgeIntegration.send({openLinkWithEdgeSidebar:t,enableEdgeFeaturesForOpenLink:i})})),p.localeChangedEvent.subscribe((e=>{!this._ignoreLocaleChange&&this._api&&this._api.ipcProvider.localisation.setLocale.invoke(e),this._ignoreLocaleChange=!1})),this._api.ipcProvider.appUpdate.checkingForUpdate.on((()=>{this.setUpdateStatus(d.default.Checking)})),this._api.ipcProvider.appUpdate.updateNotAvailable.on((()=>{this.setUpdateStatus(d.default.NoUpdates)})),this._api.ipcProvider.appUpdate.updateAvailable.on((()=>{this.setUpdateStatus(d.default.UpdateAvailable)})),this._api.ipcProvider.appUpdate.updateDownloaded.on((e=>{if(g.log(u.LogTraceArea.ElectronStateStore,"New update downloaded",e),e&&e.releaseDate&&e.releaseName&&e.releaseNotes&&e.updateURL){if(this._setShowUpdateBadge(),this.setUpdateStatus(d.default.UpdateDownloaded),-1!==e.releaseName.indexOf("mandatory")&&(this._setMandatoryUpdate(),this.onMandatoryUpdate.fire()),!this._expirationId){const t=Date.parse(e.releaseDate)+12096e5;g.log(u.LogTraceArea.ElectronStateStore,"Setting reminder red badge alert for upgrade",new Date(t).toUTCString()),this._expirationId=y.default.setExpiration(this._setRedBadge,t)}}else g.log(u.LogTraceArea.ElectronStateStore,"Empty update object received.")})),this._api.ipcProvider.appUpdate.updateError.on((()=>{this.setUpdateStatus(d.default.Error)})),this._api.ipcProvider.window.onMaximized.on((()=>{this.setIsWindowMaximized(!0)})),this._api.ipcProvider.window.onUnmaximized.on((()=>{this.setIsWindowMaximized(!1)})),this._api.ipcProvider.app.onSkypeURI.on(this._handleSkypeURI),this._api.ipcProvider.applicationMenu.about.on(this.onNavigateToAboutPage.fire),this._api.ipcProvider.applicationMenu.openSettings.on(this.onNavigateToSettings.fire),this._api.ipcProvider.applicationMenu.openAvSettings.on(this.onNavigateToAVSettings.fire),this._api.ipcProvider.applicationMenu.openProfile.on(this.onNavigateToProfile.fire),this._api.ipcProvider.applicationMenu.openMeControl.on(this.onNavigateToMeControl.fire),this._api.ipcProvider.applicationMenu.searchSkype.on(this.onNavigateToSearch.fire),this._api.ipcProvider.applicationMenu.reportProblem.on(this.onNavigateToFeedback.fire),this._api.ipcProvider.applicationMenu.new1on1Chat.on(this.onNewConversation.fire),this._api.ipcProvider.applicationMenu.newGroupChat.on(this.onNewGroupConversation.fire),this._api.ipcProvider.applicationMenu.newCall.on(this.onNewCall.fire),this._api.ipcProvider.applicationMenu.signOut.on(this.onSignOut.fire),this._api.ipcProvider.applicationMenu.privacy.on((()=>h.default.openPrivacy())),this._api.ipcProvider.applicationMenu.terms.on((()=>h.default.openTerms())),this._api.ipcProvider.applicationMenu.skypeSupport.on(this.onNavigateToSupport.fire),this._api.ipcProvider.applicationMenu.skypeStatus.on(this.onNavigateToStatus.fire),this._api.ipcProvider.applicationMenu.previousConversation.on((()=>{g.log(u.LogTraceArea.ElectronStateStore,"menu-previous-conversation triggered"),this.onNavigateToPreviousConversation.fire()})),this._api.ipcProvider.applicationMenu.nextConversation.on((()=>{g.log(u.LogTraceArea.ElectronStateStore,"menu-next-conversation triggered"),this.onNavigateToNextConversation.fire()})),this._api.ipcProvider.applicationMenu.presenceChange.on((e=>{const t=(0,c.mapElectronPresenceToUserStatus)(e);g.log(u.LogTraceArea.ElectronStateStore,`Updating presence to ${e} - ${t}`),this.onPresenceChange.fire(t)})),this._api.ipcProvider.app.settingsChanged.on((()=>{this.trigger()}))}};n.__decorate([s.autoSubscribe],f.prototype,"getUpdateStatus",null),n.__decorate([s.autoSubscribe],f.prototype,"getIsWindowMaximized",null),n.__decorate([s.autoSubscribe],f.prototype,"shouldShowUpdateBadge",null),n.__decorate([s.autoSubscribe],f.prototype,"shouldShowUpdateReminder",null),n.__decorate([s.autoSubscribe],f.prototype,"isMandatoryUpdate",null),n.__decorate([s.autoSubscribe],f.prototype,"getAppSettings",null),n.__decorate([s.autoSubscribe],f.prototype,"isAutoStartSupported",null),n.__decorate([s.autoSubscribe],f.prototype,"canControlAutoStart",null),f=n.__decorate([s.AutoSubscribeStore],f),t.default=new f},189469:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileTrackerStore=void 0;const n=i(570655),o=i(496486),s=i(217041),a=i(397691),r=i(562141),l=i(775893),c=i(469382),d=i(657347),u=i(422538);let g=class extends s.StoreBase{constructor(){super(),this._fileTrackerMetadata={},this._backgroundEffectFileTrackerMetadata={},this._startupDone=!1,this.getBackgroundEffectPrefix=e=>`${l.BACKGROUND_EFFECT_FILE_PREFIX}${e||""}`,this.removeTrackedFile=(e,t=!1)=>{this._removeFile(e,t)},this._removeFile=(e,t=!1)=>{if(!this._fileTrackerMetadata[e])return;const{localUri:i}=this._fileTrackerMetadata[e];delete this._fileTrackerMetadata[e],r.default.removeFileTrackerMetadata([e]),e.startsWith(l.BACKGROUND_EFFECT_FILE_PREFIX)&&delete this._backgroundEffectFileTrackerMetadata[e],t&&c.fileExists({fileUri:i}).then((e=>{e&&c.deleteImageFile(i)})),this.trigger(e)},u.RegisterStartupable(this,"FileDownloadStore")}startup(){const e=[];return d.default.queueIdleTask("FileDownloadStore",d.TaskTypeFlags.CpuIntensive,(()=>{r.default.getAllFileTrackerMetadata().then((t=>{a.all(o.map(t,(t=>{const i={fileUri:t.localUri,fileSizeInBytes:t.sizeInBytes,lastUpdatedTime:t.lastUpdatedTimestamp};return a.fromThenable(c.fileExists(i).then((i=>{i?(this._addFileInformationEntry(t),e.push(t.id)):r.default.removeFileTrackerMetadata([t.id])})))}))).then((()=>{this._startupDone=!0,this.trigger(e.concat(o.keys(this._fileTrackerMetadata)))}))}))})),a.Resolved()}_addFileInformationEntry(e,t=!1){var i;this._fileTrackerMetadata[e.id]||((null===(i=e.id)||void 0===i?void 0:i.startsWith(l.BACKGROUND_EFFECT_FILE_PREFIX))&&(this._backgroundEffectFileTrackerMetadata[e.id]=e),this._fileTrackerMetadata[e.id]=e,this._startupDone&&this.trigger(e.id),t&&r.default.putFileTrackerMetadata([e]))}canTrackFiles(){return!1}getLocalUri(e){if(this._startupDone&&e){const t=this._fileTrackerMetadata[e];if(t){const i={fileUri:t.localUri,fileSizeInBytes:t.sizeInBytes,lastUpdatedTime:t.lastUpdatedTimestamp};return c.fileExists(i).then((t=>{t||this._removeFile(e)})),t.localUri}}}getAllBackgroundEffectsFiles(){return this._backgroundEffectFileTrackerMetadata}addFileInformationForTracking(e,t,i,n){if(!t)return;const o=e.startsWith(l.BACKGROUND_EFFECT_FILE_PREFIX)?this.getBackgroundEffectPrefix(t):e,s=Object.assign({id:o,localFileName:i,localUri:t},n);this._addFileInformationEntry(s,!0)}};n.__decorate([s.disableWarnings],g.prototype,"canTrackFiles",null),n.__decorate([s.autoSubscribe,n.__param(0,s.key)],g.prototype,"getLocalUri",null),n.__decorate([s.autoSubscribe],g.prototype,"getAllBackgroundEffectsFiles",null),g=n.__decorate([s.AutoSubscribeStore],g),t.FileTrackerStore=g,t.default=new g},462937:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(189469);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.default}})},953615:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHubTabScrollStore=void 0;const n=i(570655),o=i(217041);let s=class extends o.StoreBase{constructor(){super(...arguments),this._scrollValue=0}getValue(){return this._scrollValue}setValue(e){this._scrollValue=e,this.trigger()}};n.__decorate([o.autoSubscribe],s.prototype,"getValue",null),s=n.__decorate([o.AutoSubscribeStore],s);const a={};t.getHubTabScrollStore=function(e){return a[e]||(a[e]=new s),a[e]}},139597:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(174958),s=i(496486),a=i(195121),r=i(217041),l=i(889391),c=i(732183),d=i(746096),u=i(436237),g=i(932226),h=i(526424),p=i(758962),S=i(912770);var m;!function(e){e[e.Cached=0]="Cached",e[e.NotCached=1]="NotCached",e[e.QueryingCache=2]="QueryingCache",e[e.Prefetching=3]="Prefetching",e[e.PrefetchFailed=4]="PrefetchFailed"}(m||(m={}));let C=class extends r.StoreBase{constructor(){super(),this._imageStatus={},this._prefetchIfNotCached={},this._retryPrefetchData={},g.default.subscribe((()=>{g.default.isConnected()&&s.each(s.keys(this._retryPrefetchData),(e=>{const t=this._retryPrefetchData[e].urlsToTrigger,i=this._retryPrefetchData[e].timeoutId;S.default.clearTimeout(i),delete this._retryPrefetchData[e],this._retryPrefetch(e,t,this._getRetryCount())}))}));const e=()=>{const e=l.default.getS4LMessagingFeaturesNoSubscription().imageCaching.queryCacheInFlightLimit;a.default.setQueryCacheInFlightLimit(e)};l.default.subscribe(e),e()}_getCurrentTime(){return Math.floor(Date.now()/1e3)}_getStatus(e){const t=l.default.getS4LMessagingFeaturesNoSubscription().imageCaching.cachedStatusMaxAge;if(this._imageStatus[e]){if(!(this._imageStatus[e].status===m.Cached&&this._imageStatus[e].timeCached+t<this._getCurrentTime()))return this._imageStatus[e].status;delete this._imageStatus[e]}}_setStatus(e,t){this._imageStatus[e]={status:t,timeCached:t===m.Cached?this._getCurrentTime():0}}_getChangedSize(e,t){return s.assign({},e,{size:t})}_getSizes(e,t,i,n){const o=[];return s.each((0,p.getEmoticonSizes)(),(s=>{(s<e.size&&t||s===e.size&&i||s>e.size&&n)&&o.push(this._getChangedSize(e,s))})),o}_getSmallerSizes(e){return this._getSizes(e,!0,!1,!1)}_getLargerSizes(e){return this._getSizes(e,!1,!1,!0)}_getAlternateSizes(e){return e.type===h.EmoticonType.Static?this._getSmallerSizes(e).concat(this._getLargerSizes(e)):[]}_getUrlsToTrigger(e){const t=[e];return e.type===h.EmoticonType.Static&&t.push(...this._getLargerSizes(e)),s.filter(s.map(t,(e=>(0,c.getUrl)(e))),(e=>this._isTrackingKey(e)))}_getRequestResult(e,t){return{requestedIcon:e,result:t}}_getPlaceholder(e){return this._getRequestResult(e,void 0)}_getIntermediateResult(e,t){return this._getRequestResult(e,{icon:t,type:h.ResultIconType.Intermediate})}_getFinalResult(e,t){return this._getRequestResult(e,{icon:t,type:h.ResultIconType.Final})}_getBestIcon(e){const t=this._getStatus((0,c.getUrl)(e));if(t===m.Cached)return this._getFinalResult(e,e);let i=s.filter(this._getAlternateSizes(e),(e=>this._getStatus((0,c.getUrl)(e))===m.Cached));if(0===i.length)return t===m.QueryingCache?this._getIntermediateResult(e,e):this._getPlaceholder(e);i=s.orderBy(i,["size"],["desc"]);const n=i[0];return n.size>=e.size?this._getFinalResult(e,n):this._getIntermediateResult(e,n)}_markImageCached(e,t){this._setStatus(e,m.Cached),u.log(d.LogTraceArea.ImageCachingStore,`New image cached: ${o.pii.Omit(e)}, triggering ${t.length} URL(s).`),this.trigger(t)}_getRetryCount(){return g.default.getConnectionStatus()===g.ConnectionStatus.DisconnectedNoNetworkingReported?l.default.getS4LMessagingFeaturesNoSubscription().imageCaching.prefetchRetryCountNoConnection:l.default.getS4LMessagingFeaturesNoSubscription().imageCaching.prefetchRetryCount}_retryPrefetch(e,t,i){this._isTrackingKey(e)?this._prefetch(e,t,i):this._setStatus(e,m.NotCached)}_handlePrefetchFailure(e,t){if(u.log(d.LogTraceArea.ImageCachingStore,`Prefetch failed: ${o.pii.Omit(e)}`),this._isTrackingKey(e)){this._setStatus(e,m.PrefetchFailed),this.trigger(t);const i=l.default.getS4LMessagingFeaturesNoSubscription().imageCaching.prefetchRetryLongDelay,n=S.default.setTimeout((()=>{delete this._retryPrefetchData[e],this._retryPrefetch(e,t,this._getRetryCount())}),i);this._retryPrefetchData[e]={urlsToTrigger:t,timeoutId:n}}else this._setStatus(e,m.NotCached)}_prefetch(e,t,i=1){u.log(d.LogTraceArea.ImageCachingStore,`Prefetching ${o.pii.Omit(e)}, ${i} retries left.`),this._setStatus(e,m.Prefetching);const n=l.default.getS4LMessagingFeaturesNoSubscription().imageCaching.prefetchRetryShortDelay;a.default.prefetch(e).then((()=>{this._markImageCached(e,t)})).catch((()=>{i>1?S.default.setTimeout((()=>{this._retryPrefetch(e,t,i-1)}),n):this._handlePrefetchFailure(e,t)}))}_queryCache(e){s.each(e,(e=>{this._setStatus(e.url,m.QueryingCache)}));const t=s.map(e,(e=>e.url));a.default.queryCache(t).then((t=>{s.each(e,(e=>{const i=e.url;-1!==t.indexOf(i)?(this._prefetchIfNotCached[i]&&delete this._prefetchIfNotCached[i],this._markImageCached(i,e.urlsToTrigger)):this._prefetchIfNotCached[i]?(delete this._prefetchIfNotCached[i],this._prefetch(i,e.urlsToTrigger,this._getRetryCount())):this._setStatus(i,m.NotCached)}))}))}_queryCacheEmoticon(e,t){const i=[e];if(t){const t=s.filter(this._getAlternateSizes(e),(e=>void 0===this._getStatus((0,c.getUrl)(e))));i.push(...t)}const n=s.map(i,(e=>({url:(0,c.getUrl)(e),urlsToTrigger:this._getUrlsToTrigger(e)})));this._queryCache(n)}requestEmoticon(e,t){switch(this._getStatus(e)){case m.Cached:return this._getFinalResult(t,t);case m.NotCached:this._prefetch(e,this._getUrlsToTrigger(t),this._getRetryCount());break;case m.QueryingCache:this._prefetchIfNotCached[e]=!0;break;case m.Prefetching:case m.PrefetchFailed:break;case void 0:this._prefetchIfNotCached[e]=!0,this._queryCacheEmoticon(t,!0)}return this._getBestIcon(t)}requestEmoticons(e){return s.map(e,(e=>this.requestEmoticon((0,c.getUrl)(e),e)))}requestImage(e){switch(this._getStatus(e)){case m.Cached:return e;case m.NotCached:this._prefetch(e,[e],this._getRetryCount());break;case m.QueryingCache:this._prefetchIfNotCached[e]=!0;break;case m.Prefetching:case m.PrefetchFailed:break;case void 0:this._prefetchIfNotCached[e]=!0,this._queryCache([{url:e,urlsToTrigger:[e]}])}return this._getStatus(e)===m.Cached?e:void 0}};n.__decorate([r.autoSubscribe,n.__param(0,r.key)],C.prototype,"requestEmoticon",null),n.__decorate([r.autoSubscribe,n.__param(0,r.key)],C.prototype,"requestImage",null),C=n.__decorate([r.AutoSubscribeStore],C),t.default=new C},766649:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(496486),s=i(612205),a=(i(516778),i(217041)),r=i(397691),l=i(889391),c=i(562141),d=i(909682),u=i(746096),g=i(436237),h=i(998754),p=i(932226),S=i(422538);let m=class extends a.StoreBase{constructor(){super(),this._reportedIsUsingGogoNetwork=!1,S.RegisterStartupable(this,"InFlightConnectionStore",[h.default,p.default])}startup(){return r.Resolved()}isUsingGogoNetwork(){return this._reportedIsUsingGogoNetwork}isUsingGogoNetworkNoSubscription(){return this._reportedIsUsingGogoNetwork}_updateGogoConfig(){return this._gogoSettings=l.default.getConfigSettingsNoSubscription().gogo,this._onGogoNetworkChanged(),this._refreshSSID(!0)}_refreshSSID(e=!1){if(!this._gogoSettings.enabled)return r.Resolved();if(!p.default.isConnected())return r.Resolved();return s.default.getSSID().then((t=>{(t!==this._lastKnownSSID||e)&&(this._lastKnownSSID=t,this._refreshIsOnGoGoSSID(o.includes(this._gogoSettings.ssid,t)))})).catch((()=>{this._lastKnownSSID=void 0,this._refreshIsOnGoGoSSID(!1)}))}_refreshIsOnGoGoSSID(e){this._isOnGoGoSSID!==e&&(this._isOnGoGoSSID=e,g.log(u.LogTraceArea.InFlightConnectionStore,"isOnGoGoSSID = "+this._isOnGoGoSSID),h.default.putData(c.InternalKeys.IsOnGoGoSSID,this._isOnGoGoSSID),this._refreshECSService())}_refreshECSService(){g.log(u.LogTraceArea.InFlightConnectionStore,"Refreshing ECS"),d.default.requestUpdate()}_onGogoNetworkChanged(){const e=this._gogoSettings.enabled&&this._gogoSettings.isOnGogoIpRange;this._reportedIsUsingGogoNetwork!==e&&(g.log(u.LogTraceArea.InFlightConnectionStore,"_onGogoNetworkChanged: isGogoEnabled = "+this._gogoSettings.enabled+" isOnGogoIpRange = "+this._gogoSettings.isOnGogoIpRange),this._reportedIsUsingGogoNetwork=e,this.trigger())}};n.__decorate([a.autoSubscribe],m.prototype,"isUsingGogoNetwork",null),n.__decorate([a.disableWarnings],m.prototype,"isUsingGogoNetworkNoSubscription",null),m=n.__decorate([a.AutoSubscribeStore],m),t.default=new m},710400:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(583367),s=i(217041),a=i(898278),r=i(746096),l=i(436237),c=i(178735),d=i(29130),u=i(422538);var g,h;!function(e){e[e.Default=0]="Default",e[e.None=1]="None"}(g||(g={})),function(e){e[e.isKeyboardSeen=0]="isKeyboardSeen"}(h||(h={}));let p=class extends s.StoreBase{constructor(){super(...arguments),this._resizeMode=g.Default,this._lastUpdateInfo={height:0},this._isCustomKeyboardVisibleAndroid=!1,this._customKeyboardHeightFixAndroid=0,this._customAndroidKeyboardVisible=()=>!1}setResizeMode(e){this._resizeMode!==e&&(this._resizeMode=e,l.log(r.LogTraceArea.Keyboard,"KeyboardAwareStore.setResizeMode: "+e),this.trigger())}setUpdateInfo(e){const t=this._lastUpdateInfo.height!==e.height;this._lastUpdateInfo=e,this._updateNativeKeyboardHeights(e),t&&(l.log(r.LogTraceArea.Keyboard,"KeyboardAwareStore.setUpdateInfo, height changed: "+e.height),this.trigger())}immediatelyResetUpdateInfo(){this.setUpdateInfo({height:0,duration:0,easing:"keyboard"})}setCustomKeyboardVisibilityAndroid(e){this._isCustomKeyboardVisibleAndroid!==e&&(this._isCustomKeyboardVisibleAndroid=e,this.trigger())}setCustomKeyboardFixHeightAndroid(e){l.log(r.LogTraceArea.Keyboard,"KeyboardAwareStore.setCustomKeyboardFixHeightAndroid: "+e),this._customKeyboardHeightFixAndroid=e,this.trigger()}getResizeMode(){return this._resizeMode}getResizeModeNoSubscription(){return this._resizeMode}getUpdateInfo(){return this._lastUpdateInfo}getCustomKeyboardHeightAndroid(){return this._isCustomKeyboardVisibleAndroid?this._customKeyboardHeightFixAndroid:0}isKeyboardSeen(){return this._isKeyboardSeen||this._lastUpdateInfo.height>0||this._customAndroidKeyboardVisible()}setKeyboardSeen(e){this._isKeyboardSeen=e,this.trigger(h.isKeyboardSeen)}usingIPadHardwareKeyboard(){return!1}_updateNativeKeyboardHeights(e){if(0===e.height)return;if(!u.HasStarted(c.default))return;const t=c.default.getNativeKeyboardHeightsNoSubscription(),i=d.default.getDeviceOrientation(a.MainRootViewId);i!==o.DeviceOrientation.Portrait||t&&t.potraitHeight&&e.height===t.potraitHeight||c.default.setNativeKeyboardHeights({potraitHeight:e.height,landscapeHeight:t?t.landscapeHeight:0}),i!==o.DeviceOrientation.Landscape||t&&t.landscapeHeight&&e.height===t.landscapeHeight||c.default.setNativeKeyboardHeights({potraitHeight:t?t.potraitHeight:0,landscapeHeight:e.height})}};n.__decorate([s.autoSubscribe],p.prototype,"getResizeMode",null),n.__decorate([s.autoSubscribe],p.prototype,"getUpdateInfo",null),n.__decorate([s.autoSubscribe],p.prototype,"getCustomKeyboardHeightAndroid",null),n.__decorate([(0,s.autoSubscribeWithKey)(h.isKeyboardSeen)],p.prototype,"isKeyboardSeen",null),n.__decorate([s.autoSubscribe],p.prototype,"usingIPadHardwareKeyboard",null),p=n.__decorate([s.AutoSubscribeStore],p),t.default=new p},648638:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(516778),s=i(217041);let a=class extends s.StoreBase{constructor(){super(),this._isNavigatingWithKeyboard=o.UserInterface.isNavigatingWithKeyboard(),o.UserInterface.keyboardNavigationEvent.subscribe((e=>{this._isNavigatingWithKeyboard=e,this.trigger()}))}isNavigatingWithKeyboard(){return this._isNavigatingWithKeyboard}};n.__decorate([s.autoSubscribe],a.prototype,"isNavigatingWithKeyboard",null),a=n.__decorate([s.AutoSubscribeStore],a),t.default=new a},897073:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(217041),s=i(746096),a=i(436237);let r=class extends o.StoreBase{constructor(){super(...arguments),this._shouldSkipMobileHub=!1}shouldSkipMobileHub(){return this._shouldSkipMobileHub}skipMobileHub(e){this._shouldSkipMobileHub||(a.log(s.LogTraceArea.Navigation,"LaunchNavigationStore: skipMobileHub causeId: "+e),this._shouldSkipMobileHub=!0,this.trigger())}stopSkippingMobileHub(e){this._shouldSkipMobileHub&&(a.log(s.LogTraceArea.Navigation,"LaunchNavigationStore: stopSkippingMobileHub causeId: "+e),this._shouldSkipMobileHub=!1,this.trigger())}};n.__decorate([o.autoSubscribe],r.prototype,"shouldSkipMobileHub",null),r=n.__decorate([o.AutoSubscribeStore],r);const l=new r;t.default=l},11324:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Test_MiniAppConfigStore=void 0;const n=i(570655),o=i(217041),s=i(397691),a=i(464090),r=i(496486),l=i(422538),c=i(889391),d=i(404057),u=i(733754),g=i(436237),h=i(746096),p=i(640363),S=i(593486);let m=class extends o.StoreBase{constructor(){super(),this._miniAppConfig=[],this._unsubscriptable=[],this._inited=!1,l.RegisterStartupable(this,"MiniAppConfigStore",[S.default])}startup(){return c.default.subscribe((()=>{this._initOrReset()})),s.fromThenable(this._initOrReset())}_init(){this._inited=!0,this._unsubscriptable.push({unsubscribe:e=>e.unsubscribe(),token:u.languageChangedEvent.subscribe((e=>{a.default.updateLanguage(e)}))}),this._unsubscriptable.push({unsubscribe:e=>e.unsubscribe(),token:u.localeChangedEvent.subscribe((e=>{a.default.updateLocale(e)}))}),this._unsubscriptable.push({unsubscribe:e=>S.default.unsubscribe(e),token:S.default.subscribe((()=>a.default.updateAgeGroup(S.default.isChild())),S.TriggerKeys.MsaProfileStatusKey)});const e=S.default.isChild();return a.default.updateAgeGroup(e),a.default.updateLanguage(u.getLanguageFromLocale()),a.default.updateLocale(u.getLocale()),Promise.all([a.default.init(p.default.getDeviceId()),a.default.fetchAppConfigAsync().then((e=>{const t=e;this.setMiniAppConfig(t.data.apps)})).catch((e=>{g.error(h.LogTraceArea.MiniApp,`Failed to fetch mini app config with ${d.default.errorAsString(e)})}`,!0),this._reset()}))]).then(r.noop)}_reset(){r.each(this._unsubscriptable,(e=>e.unsubscribe(e.token))),this._unsubscriptable=[],this.setMiniAppConfig([]),this._inited=!1}_initOrReset(){return!this._inited&&this.isMiniAppEnabled()?this._init():(this._inited&&!this.isMiniAppEnabled()&&this._reset(),Promise.resolve())}isMiniAppEnabled(){return c.default.getS4LCommerceFeaturesNoSubscription().miniAppConfig.enabled}setMiniAppConfig(e){this._miniAppConfig=e,this.trigger()}getAppConfig(){return this._miniAppConfig}};n.__decorate([o.autoSubscribe],m.prototype,"getAppConfig",null),m=n.__decorate([o.AutoSubscribeStore],m),t.Test_MiniAppConfigStore=m,t.default=new m},89808:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(516778),s=i(217041),a=i(397691),r=i(889391),l=i(562141),c=i(123606),d=i(10102),u=i(746096),g=i(172146),h=i(172685),p=i(436237),S=i(998754),m=i(46929),C=i(18078),y=i(372816),f=i(422538),b=i(404057),_=i(581760),v=i(418037),T=i(134952),P="MyUserColorStore";let k=class extends s.StoreBase{constructor(){super(),this._initializeColors=()=>y.default.getUiColorOption().then((e=>{p.log(u.LogTraceArea.ConversationColorStore,`Getting my color [${e}] from options service`)}),(e=>{p.warn(u.LogTraceArea.ConversationColorStore,"Getting my color from the options service failed: "+b.default.errorAsString(e))})),f.RegisterStartupable(this,"MyUserColorStore",[g.default,S.default,m.default,v.default])}startup(){const e=this._getUserColorInfo();return this._colorInfo=e&&this._isValidColor(e)?e:d.getDefaultColorInfo(C.default.getSkypeMri()),this._useSecondaryAccent=c.shouldUseSecondaryAccentColor(this._colorInfo),p.log(u.LogTraceArea.ConversationColorStore,`My color from DB [${e&&e.key}], validated color [${this._colorInfo.key}]`),this._updateStyles(),h.default.setRefreshOptions(P,{interval:864e5,taskTypeFlags:h.TaskTypeFlags.UsesNetworking,callback:this._initializeColors}),g.default.isSetupWizardCompleted()||(h.default.fireEarly(P),this._firstRunStoreSubscriptionToken=g.default.subscribe((()=>{g.default.isSetupWizardCompleted()&&(this._evaluateUserColorPreferences(!0),this._firstRunStoreSubscriptionToken&&g.default.unsubscribe(this._firstRunStoreSubscriptionToken))}),g.TriggerKeys.SetupWizard)),m.default.subscribe((()=>this._evaluateUserColorPreferences(!0))),v.default.subscribe((()=>{let e=!1;this._evaluateUserColorPreferences();const t=c.shouldUseSecondaryAccentColor(this._colorInfo);t!==this._useSecondaryAccent&&(this._useSecondaryAccent=t,e=!0),e&&(p.log(u.LogTraceArea.ConversationColorStore,"Triggering color update for theme change"),this._updateStyles(),this.trigger())})),a.Resolved()}_evaluateUserColorPreferences(e=!1){const t=this._getUserColorInfo();t&&t.key!==this._colorInfo.key&&(this._colorInfo=t,this._updateStyles(),e&&this.trigger())}getColorInfo(e=!1){return this._intColorInfo(e)}getGradientColors(e=!1){return this._computeGradientColors(e)}getReversedGradientColors(e=!1){return d.reverseGradientColorsForColorInfo(this._intColorInfo(e))}getButtonGradientColors(){return this.getReversedGradientColors()}getHoverGradientColors(e=!1){return d.gradientHoverColorsForColorInfo(this._intColorInfo(e))}getSubtleGradientColors(e=!1){return this._computeSubtleGradientColors(e)}getPrimaryColor(){return this.getPrimaryColorNoSubscription()}getPrimaryBackgroundColorStyle(){return this.getBackgroundColorStyleNoSubscription()}getPrimaryBorderColorStyle(){return this.getBorderColorStyleNoSubscription()}getPrimaryTextColorStyle(){return this.getTextColorStyleNoSubscription()}getCurrentSearchResultBackgroundColor(){return this._currentSearchResultBackgroundColor}getCurrentSearchResultTextColor(){return this._getCurrentSearchResultTextColor()}getSearchResultsBackgroundColor(e=!1){return this._getSearchResultsBackgroundColor(e)}getSearchResultsTextColor(e=!1){return this._getSearchResultsTextColor(e)}getColorInfoNoSubscription(e=!1){return this._intColorInfo(e)}getPrimaryColorNoSubscription(){return this._accentColor()}getBackgroundColorStyleNoSubscription(){return this._primaryBackgroundColorStyle}getBorderColorStyleNoSubscription(){return this._primaryBorderColorStyle}getTextColorStyleNoSubscription(){return this._textColorStyle}getGradientColorsNoSubscription(e=!1){return this._computeGradientColors(e)}getGradientSubtleColorsNoSubscription(e=!1){return this._computeSubtleGradientColors(e)}setUserColor(e,t){if(e===this._colorInfo||!this._isValidColor(e))return;p.log(u.LogTraceArea.ConversationColorStore,`Setting my color to [${e.key}] causeId: ${t}`),this._colorInfo=e,this._updateStyles();const i=(0,T.serializeUserColor)(e);y.default.setUiColorOption(i),S.default.putData(l.InternalKeys.MyUserColor,i),r.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences&&m.default.setUserAppearancePreferencesForCurrentPlatform({colorInfo:i}),this.trigger()}refreshNow(e){p.log(u.LogTraceArea.ConversationColorStore,`refreshNow causeId: ${e}`),f.EnsureStarted(this).then((()=>{h.default.fireEarly(P)}))}_accentColor(){return c.accentColorForColorInfo(this._intColorInfo(),this._useSecondaryAccent)}_isValidColor(e){return!!e&&!d.isMatchingColorInfo(e,d.SerializedColorByNumber.Rainbow)}_updateStyles(){const e=this.getPrimaryColorNoSubscription(),t=this.getColorInfo();this._primaryBackgroundColorStyle=o.Styles.createViewStyle({backgroundColor:e},!1),this._searchResultsBackgroundColor=v.default.isDarkThemeNoSubscription()?_.Color.gray200:_.Color.gray400,this._currentSearchResultBackgroundColor="yellow"===t.key||"rose"===t.key||v.default.isAccessibleTheme()?_.Color.blue:_.Color.yellow,this._currentSearchResultTextColor="yellow"===t.key||"rose"===t.key?_.Color.white:_.Color.black,this._searchResultsTextColor=v.default.isDarkThemeNoSubscription()?_.Color.black:_.Color.white,this._primaryBorderColorStyle=o.Styles.createViewStyle({borderColor:e},!1),this._textColorStyle=o.Styles.createTextStyle({color:e},!1)}_computeGradientColors(e=!1){return d.gradientColorsForColorInfo(this._intColorInfo(e))}_computeSubtleGradientColors(e=!1){const t=this._intColorInfo(e);return t.colors=d.gradientColorsForColors(t.colors),d.subtleGradientColorsForColorInfo(t)}_intColorInfo(e=!1){return e?this._colorInfo:this._colorInfo||(0,T.constructLegacyColorInfo)("blue",(0,T.getSkypeGradients)("blue",v.default.isDarkThemeNoSubscription()?"dark":"light").secondary,(0,T.getSkypePrimaryColors)("blue",v.default.isDarkThemeNoSubscription()?"dark":"light"))}_getCurrentSearchResultTextColor(){return v.default.isAccessibleTheme()?_.Color.gray100:this._currentSearchResultTextColor}_getSearchResultsBackgroundColor(e){return v.default.isAccessibleTheme()&&!e?v.default.isDarkThemeNoSubscription()?_.Color.gray400:_.Color.gray100:this._searchResultsBackgroundColor}_getSearchResultsTextColor(e){return v.default.isAccessibleTheme()&&!e?v.default.isDarkThemeNoSubscription()?_.Color.gray100:_.Color.gray400:this._searchResultsTextColor}_getUserColorInfo(){if(!g.default.isSetupWizardCompleted())return(0,T.constructLegacyColorInfo)("blue",(0,T.getSkypeGradients)("blue",v.default.isDarkThemeNoSubscription()?"dark":"light").secondary,(0,T.getSkypePrimaryColors)("blue",v.default.isDarkThemeNoSubscription()?"dark":"light"));const e=r.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences?m.default.getUserAppearancePreferencesForCurrentPlatform():{};let t;return t=e&&e.colorInfo?e.colorInfo:S.default.getData(l.InternalKeys.MyUserColor),(0,T.deserializeUserColor)(t,v.default.isDarkThemeNoSubscription()?"dark":"light",e.colorTheme)}};n.__decorate([s.autoSubscribe],k.prototype,"getColorInfo",null),n.__decorate([s.autoSubscribe],k.prototype,"getGradientColors",null),n.__decorate([s.autoSubscribe],k.prototype,"getReversedGradientColors",null),n.__decorate([s.autoSubscribe],k.prototype,"getButtonGradientColors",null),n.__decorate([s.autoSubscribe],k.prototype,"getHoverGradientColors",null),n.__decorate([s.autoSubscribe],k.prototype,"getSubtleGradientColors",null),n.__decorate([s.autoSubscribe],k.prototype,"getPrimaryColor",null),n.__decorate([s.autoSubscribe],k.prototype,"getPrimaryBackgroundColorStyle",null),n.__decorate([s.autoSubscribe],k.prototype,"getPrimaryBorderColorStyle",null),n.__decorate([s.autoSubscribe],k.prototype,"getPrimaryTextColorStyle",null),n.__decorate([s.autoSubscribe],k.prototype,"getCurrentSearchResultBackgroundColor",null),n.__decorate([s.autoSubscribe],k.prototype,"getCurrentSearchResultTextColor",null),n.__decorate([s.autoSubscribe],k.prototype,"getSearchResultsBackgroundColor",null),n.__decorate([s.autoSubscribe],k.prototype,"getSearchResultsTextColor",null),n.__decorate([s.disableWarnings],k.prototype,"getBackgroundColorStyleNoSubscription",null),n.__decorate([s.disableWarnings],k.prototype,"getTextColorStyleNoSubscription",null),k=n.__decorate([s.AutoSubscribeStore],k),t.default=new k},841539:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerKeys=void 0;const n=i(570655),o=i(496486),s=i(217041),a=i(470942),r=i(746096),l=i(436237),c=i(372816),d=i(169156);t.TriggerKeys=d.OptionServiceOptions;let u=class extends s.StoreBase{constructor(){super(...arguments),this._preferences={},this._fetchPromises={}}isEmailMissedCallRemindersEnabled(){if(this._getPreference(t.TriggerKeys.EmailMissedCallReminders))return this._getPreference(t.TriggerKeys.EmailMissedCallReminders)===d.EmailMissedRemindersOptionValue.Enabled;this._fetchEmailMissedContentOptionsAndTrigger()}isEmailMissedMessageRemindersEnabled(){if(this._getPreference(t.TriggerKeys.EmailMissedMessageReminders))return this._getPreference(t.TriggerKeys.EmailMissedMessageReminders)===d.EmailMissedRemindersOptionValue.Enabled;this._fetchEmailMissedContentOptionsAndTrigger()}setEmailMissedCallRemindersEnabled(e){const i=e?d.EmailMissedRemindersOptionValue.Enabled:d.EmailMissedRemindersOptionValue.Disabled;return c.default.setEmailMissedContentOption(d.OptionServiceOptions.EmailMissedCallReminders,i).then((()=>{l.log(r.LogTraceArea.PreferencesStores,`Setting ${t.TriggerKeys.EmailMissedCallReminders} to ${i}.`),l.track(new a.EngagementSettingsTelemetryEvent({source:a.EngagementSettingsSource.EmailMissedCallReminders,isToggled:i===d.EmailMissedRemindersOptionValue.Enabled})),this._setPreference(t.TriggerKeys.EmailMissedCallReminders,i),this.trigger(t.TriggerKeys.EmailMissedCallReminders)}))}setEmailMissedMessageRemindersEnabled(e){const i=e?d.EmailMissedRemindersOptionValue.Enabled:d.EmailMissedRemindersOptionValue.Disabled;return c.default.setEmailMissedContentOption(d.OptionServiceOptions.EmailMissedMessageReminders,i).then((()=>{l.log(r.LogTraceArea.PreferencesStores,`Setting ${t.TriggerKeys.EmailMissedMessageReminders} to ${i}.`),l.track(new a.EngagementSettingsTelemetryEvent({source:a.EngagementSettingsSource.EmailMissedMessageReminders,isToggled:i===d.EmailMissedRemindersOptionValue.Enabled})),this._setPreference(t.TriggerKeys.EmailMissedMessageReminders,i),this.trigger(t.TriggerKeys.EmailMissedMessageReminders)}))}_fetchEmailMissedContentOptionsAndTrigger(){if(this._fetchPromises[t.TriggerKeys.EmailMissedCallReminders]||this._fetchPromises[t.TriggerKeys.EmailMissedMessageReminders])return;const e=c.default.getEmailMissedContentOptions();this._fetchPromises[t.TriggerKeys.EmailMissedCallReminders]=this._fetchPromises[t.TriggerKeys.EmailMissedMessageReminders]=e,e.then((e=>{e&&(o.each(e.options,(e=>this._setPreference(e.name,e.value))),this.trigger([t.TriggerKeys.EmailMissedCallReminders,t.TriggerKeys.EmailMissedMessageReminders]))})).always((()=>{delete this._fetchPromises[t.TriggerKeys.EmailMissedCallReminders],delete this._fetchPromises[t.TriggerKeys.EmailMissedMessageReminders]}))}_getPreference(e){return this._preferences[e]}_setPreference(e,t){this._preferences[e]=t}test_reset(){this._preferences={}}};n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.EmailMissedCallReminders)],u.prototype,"isEmailMissedCallRemindersEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.EmailMissedMessageReminders)],u.prototype,"isEmailMissedMessageRemindersEnabled",null),u=n.__decorate([s.AutoSubscribeStore],u),t.default=new u},178735:(e,t,i)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.LocalPreferencesTriggerKeys=void 0;const o=i(570655),s=i(496486),a=i(583367),r=(i(550785),i(217041)),l=i(397691),c=i(889391),d=i(633951),u=i(481169),g=i(562141),h=i(470942),p=i(746096),S=i(897811),m=i(436237),C=i(998754),y=i(861253),f=i(733754),b=i(106658),_=i(901246),v=i(57175),T=i(169156),P=i(90025),k=(i(583181),i(115489)),A=i(422538),I=i(404057),w=i(640363),x=i(47447),N=i(853374),M=i(343108);var L;!function(e){e[e.speechConsentTranslator=0]="speechConsentTranslator",e[e.speechConsentSuggestion=1]="speechConsentSuggestion"}(L=t.LocalPreferencesTriggerKeys||(t.LocalPreferencesTriggerKeys={}));const O="__all";let D=n=class extends r.StoreBase{constructor(){super(),this._preferencesLocal={},A.RegisterStartupable(this,"MyUserPreferencesLocalStore",[C.default])}startup(){const e=C.default.getData(g.InternalKeys.PrefsLocal);this._preferencesLocal=e||{},e&&e.locale?(f.setLocale(e.locale),m.log(p.LogTraceArea.PreferencesStores,`Locale set from user preferences to [${e.locale}]`)):("undefined"!=typeof window&&void 0!==window.electronApi&&window.electronApi.ipcProvider.localisation.resetLocale.invoke(),m.log(p.LogTraceArea.PreferencesStores,"Locale set without user preferences to system default")),e&&e.rtl&&f.forceRTL(!0);e&&(!e.fileDownloadPathDesktop||e.fileDownloadDisplayNameDesktop),c.default.getS4LMessagingFeaturesNoSubscription().enableCustomFileDownloadLocation;return this.trigger(),l.Resolved()}reset(){this._preferencesLocal={},C.default.putData(g.InternalKeys.PrefsLocal,this._preferencesLocal),this.trigger()}getDefaultPreferences(){return n._defaultPrefs}isShakeAndSendDisabled(){var e;const t=null===(e=this.getUserPreferencesLocal().msaProfileKey)||void 0===e?void 0:e.ageGroup;if(v.MsaProfileHelper.isChild(t)||w.default.isChromeOS())return!0;const i=this._preferencesLocal.disableShakeAndSend;if(!s.isUndefined(i))return m.log(p.LogTraceArea.PreferencesStores,`isShakeAndSendDisabled(): ${i}`),i;const n=c.default.getConfigSettings().brb.disableShakeAndSendByDefault;return m.log(p.LogTraceArea.PreferencesStores,`isShakeAndSendDisabled(): ${n} (default)`),n}setDisableShakeAndSend(e){this.setUserPreferencesLocal({disableShakeAndSend:e},!1)}getCommerceCounters(){return this.getUserPreferencesLocal().commerceCounters}setCommerceCounters(e){this.setUserPreferencesLocal({commerceCounters:e},!1)}getContactsPrivacyNoticeBannerMountedCount(){return this.getUserPreferencesLocal().contactsPrivacyNoticeBannerMountedCount}setContactsPrivacyNoticeBannerMountedCount(e){this.setUserPreferencesLocal({contactsPrivacyNoticeBannerMountedCount:e},!1)}getUserPreferencesLocal(){return s.extend({},n._defaultPrefs,this._preferencesLocal)}getUserPreferencesLocalNoSubscription(){return s.extend({},n._defaultPrefs,this._preferencesLocal)}internal_getUserPreferencesLocalDefaults(){return s.extend({},n._defaultPrefs)}getUserPreferencesForConversationLocal(e){return(this.getUserPreferencesLocal().conversationPrefs||{})[e]||{}}setSendOptionalTelemetryData(e){this.setUserPreferencesLocal({sendOptionalTelemetry:e})}shouldSendOptionalTelemetryData(){if(!x.UICapabilities.telemetryConsentOptOutSupported())return!0;const e=this._preferencesLocal.sendOptionalTelemetry;return!s.isUndefined(e)&&(m.log(p.LogTraceArea.PreferencesStores,`shouldSendOptionalTelemetryData(): ${e}`),e)}setIsTelemetryConsentOnboardingCompleted(e){this.setUserPreferencesLocal({isTelemetryConsentOnboardingCompleted:e})}isTelemetryConsentOnboardingCompleted(){if(!x.UICapabilities.telemetryConsentOptOutSupported())return!0;const e=this._preferencesLocal.isTelemetryConsentOnboardingCompleted;return!s.isUndefined(e)&&(m.log(p.LogTraceArea.PreferencesStores,`isTelemetryConsentOnboardingCompleted(): ${e}`),e)}setUserPreferencesLocal(e,t=!0){const i=N.default.deepExtendIgnoringNulls(this._preferencesLocal,e);if(!(0,y.default)(this._preferencesLocal,i))if(this._preferencesLocal.allowHugeEmoticons!==i.allowHugeEmoticons&&m.track(new P.PesSettingsEvent(!!i.allowHugeEmoticons,c.default.getS4LMessagingFeatures().singleEmoticonSize,c.default.getS4LMessagingFeatures().emoticonsOnlyEmoticonSize)),this._preferencesLocal.enableInAppEngagementNotifications!==i.enableInAppEngagementNotifications&&m.track(new h.EngagementSettingsTelemetryEvent({source:h.EngagementSettingsSource.TipsAndTricks,isToggled:!!i.enableInAppEngagementNotifications})),this._preferencesLocal.enablePushEngagementNotifications!==i.enablePushEngagementNotifications&&m.track(new h.EngagementSettingsTelemetryEvent({source:h.EngagementSettingsSource.TipsAndTricksPush,isToggled:!!i.enablePushEngagementNotifications})),this._preferencesLocal.allowCallsFromContactsOnly!==i.allowCallsFromContactsOnly&&m.track(new k.CallingSettingsEvent("AllowCallsFromContactsOnly",!!i.allowCallsFromContactsOnly)),this._preferencesLocal.openUrlInExternalBrowser!==i.openUrlInExternalBrowser&&m.track(new _.OpenLinksInSkype(!i.openUrlInExternalBrowser)),this._preferencesLocal=i,C.default.putData(g.InternalKeys.PrefsLocal,this._preferencesLocal).fail((t=>{t instanceof d.CalledBeforeStartupError&&(m.track(new S.FundamentalsDebugEvent("PutDataBeforeStartup",(0,u.chain)((0,u.keys)(e),(0,u.sortBy)(s.identity),(0,u.join)(",")))),m.log(p.LogTraceArea.PreferencesStores,t.message))})),t)m.log(p.LogTraceArea.PreferencesStores,"setUserPreferencesLocal(): Triggering all keys"),this.trigger(O);else{const t=Object.keys(e);m.log(p.LogTraceArea.PreferencesStores,`setUserPreferencesLocal(): Triggering individual keys: ${t}`),this.trigger(t)}}getCoachMarksSeen(){const e=this.getUserPreferencesLocal().seenCoachMarks,t=e?I.default.parseJsonErrorable(e):void 0;if(!s.isError(t)){if(t&&!s.isArray(t)){let e=[];return s.each(t,(t=>e=s.union(e,t))),e}return t}m.warn(p.LogTraceArea.PreferencesStores,"Failed to parse seenCoachMark local preference.")}setCoachMarksSeen(e){this.setUserPreferencesLocal({seenCoachMarks:e&&JSON.stringify(e)},!1)}getLastOpenedTabForUser(e){return(this.getUserPreferencesLocal().lastOpenedTabs||{})[e]}setLastOpenedTabForUser(e,t){const i=s.cloneDeep(this.getUserPreferencesLocal().lastOpenedTabs||{});i[e]=t,this.setUserPreferencesLocal({lastOpenedTabs:i},!1)}removeLastUsedBackgroundEffects(){return this.setUserPreferencesLocal({lastUsedBackgroundEffects:void 0})}setAllLastUsedBackgroundEffects(e){return this.setUserPreferencesLocal({lastUsedBackgroundEffects:JSON.stringify(e)})}setLastUsedBackgroundEffects(e){const t=this.getUserPreferencesLocal().lastUsedBackgroundEffects,i=I.default.parseJsonWithDefault(t,[]);if(-1!==i.indexOf(e))return;const{numberOfVisibleLastUsedEffects:n}=c.default.getS4LCMCFeaturesNoSubscription();return i.length>=c.default.getS4LCMCFeaturesNoSubscription().numberOfVisibleLastUsedEffects?this.setUserPreferencesLocal({lastUsedBackgroundEffects:JSON.stringify([...i.slice(-(n-1)),e])}):this.setUserPreferencesLocal({lastUsedBackgroundEffects:JSON.stringify([...i,e])})}getLastUsedBackgroundEffects(){return I.default.parseJsonWithDefault(this.getUserPreferencesLocal().lastUsedBackgroundEffects,[])}getLastMessageAuthorAvatarSwitchedOn(){const e=this._preferencesLocal.lastMessageAuthorAvatarEnabled;return!!s.isUndefined(e)||e}getTodayTabToggledButtonSwitchedOn(){const e=c.default.getS4LCommerceFeatures().todayTab.enabled,t=this._preferencesLocal.todayTabToggleButtonEnabled;return null!=t?t:e}getWeatherIconToggledButtonSwitchedOn(){const e=c.default.getS4LCommerceFeatures().weatherInHeader.enabled,t=this._preferencesLocal.weatherIconToggleButtonEnabled;return null!=t?t:e}getMessageStreamFontSize(){let e;const t=this.getUserPreferencesLocal().fontSizeMultiplier;if(1!==t){switch(t){case.8:e=b.MessageStreamFontSize.Smaller;break;case.9:e=b.MessageStreamFontSize.Small;break;case 1.1:e=b.MessageStreamFontSize.Large;break;case 1.2:e=b.MessageStreamFontSize.Larger}this.setUserPreferencesLocal({fontSizeMultiplier:1}),this.setUserPreferencesLocal({messageStreamFontSize:e})}else e=this.getUserPreferencesLocal().messageStreamFontSize;return e||b.MessageStreamFontSize.Normal}getNativeKeyboardHeights(){return this.getUserPreferencesLocal().nativeKeyboardHeights}getNativeKeyboardHeightsNoSubscription(){return this.getUserPreferencesLocalNoSubscription().nativeKeyboardHeights}setNativeKeyboardHeights(e){this.setUserPreferencesLocal({nativeKeyboardHeights:e},!1)}getNativeKeyboardHeight(e){const t=this.getNativeKeyboardHeightsNoSubscription();return e===a.DeviceOrientation.Portrait?t?t.potraitHeight:void 0:e===a.DeviceOrientation.Landscape&&t?t.landscapeHeight:void 0}setCallPreviewMicSettings(e){this.setUserPreferencesLocal({callPreviewMicSetting:e})}setCallPreviewCameraSettings(e){this.setUserPreferencesLocal({callPreviewCameraSetting:e})}setCallPreviewSettings(e,t,i){this.setUserPreferencesLocal({callPreviewMicSetting:e,callPreviewCameraSetting:t,callPreviewBlurSetting:i})}setFileDownloadPath(e){this.setUserPreferencesLocal({fileDownloadPathDesktop:e.path,fileDownloadDisplayNameDesktop:"Downloads"})}setSpeechConsentForTranslator(e){this.setUserPreferencesLocal({speechConsentTranslator:e}),this.trigger([L.speechConsentTranslator,L.speechConsentSuggestion])}getSpeechConsentForTranslator(){return this.getUserPreferencesLocal().speechConsentTranslator}setCallsWithTranslatorCount(e){this.setUserPreferencesLocal({callsWithTranslatorCount:e}),this.trigger(L.speechConsentSuggestion)}getMainWindowLastBoundsBeforeLogout(){return this.getUserPreferencesLocalNoSubscription().mainWindowLastBoundsBeforeLogout}setMainWindowLastBoundsBeforeLogout(e){this.setUserPreferencesLocal({mainWindowLastBoundsBeforeLogout:e})}getNewCallScreenDesignEnabled(){return!0}getNewCallScreenDesignEnabledNoSubscription(){return!0}canEnableNewCallScreenDesignByDefaultNoSubscription(){const e=this.getNewCallScreenDesignEnabledNoSubscription();return s.isUndefined(e)}getWasNewCallScreenRevertNoticeDismissed(){return!!this.getUserPreferencesLocal().wasNewCallScreenRevertNoticeDismissed}setWasNewCallScreenRevertNoticeDismissed(e){this.setUserPreferencesLocal({wasNewCallScreenRevertNoticeDismissed:e})}setNewCallScreenDesignEnabled(e){this.setUserPreferencesLocal({isNewCallScreenDesignEnabled:e})}getLightThemeCallStageEnabled(){var e;return null===(e=this.getUserPreferencesLocal().isLightThemeCallStageEnabled)||void 0===e||e}setLightThemeCallStageEnabled(e){this.setUserPreferencesLocal({isLightThemeCallStageEnabled:e})}getTogetherModeNoticePresentedForCallId(){return this.getUserPreferencesLocal().togetherModeNoticePresentedForCallId}setTogetherModeNoticePresentedForCallId(e){this.setUserPreferencesLocal({togetherModeNoticePresentedForCallId:e})}getMusicModeNoticePresentedForCallId(){return this.getUserPreferencesLocal().musicModeNoticePresentedForCallId}setMusicModeNoticePresentedForCallId(e){this.setUserPreferencesLocal({musicModeNoticePresentedForCallId:e})}getMsaTokenKey(){return this.getUserPreferencesLocal().msaTokenKeychainKey}setMsaTokenKey(e){this.setUserPreferencesLocal({msaTokenKeychainKey:e})}isMyBotTooltipVisibleNoSubscription(){return this.getUserPreferencesLocal().myBotTooltipShow}setMyBotTooltipVisible(e){this.setUserPreferencesLocal({myBotTooltipShow:e})}isE911LocationConsentGranted(){return this.getUserPreferencesLocal().isE911LocationConsentGranted}setE911LocationConsentGranted(e){this.setUserPreferencesLocal({isE911LocationConsentGranted:e}),m.log(p.LogTraceArea.Phone,"Setting E911 location consent, granted="+e)}isMediaBarNewItemSeen(e){var t;return!!(null===(t=this.getUserPreferencesLocal().mediaBarNewItemsSeen)||void 0===t?void 0:t[e])}setMediaBarNewItemSeen(e,t){m.log(p.LogTraceArea.MediaBarItem,"Setting media bar new item, id="+e+", seen="+t),this.setUserPreferencesLocal({mediaBarNewItemsSeen:{[e]:t}})}isEngagementTooltipSeen(e){var t;return!!(null===(t=this.getUserPreferencesLocal().engagementTooltipsSeen)||void 0===t?void 0:t[e])}setEngagementTooltipSeen(e,t){m.log(p.LogTraceArea.PreferencesStores,`Setting engagement tooltip seen, tooltipType=${e}, isSeen=${t}`),this.setUserPreferencesLocal({engagementTooltipsSeen:{[e]:t}})}getFullScreenToolTipShowTime(){var e;return null!==(e=this.getUserPreferencesLocal().fullScreenTooltipShowTimes)&&void 0!==e?e:0}increaseFullScreenToolTipShowTime(){this.setUserPreferencesLocal({fullScreenTooltipShowTimes:this.getFullScreenToolTipShowTime()+1})}};D._defaultPrefs={enableChatNotifications:!0,enableScheduledCallNotifications:!0,enableInAppScheduledCallNotifications:!0,enableInAppPollNotifications:!0,enablePollNotifications:!0,enableInAppNotifications:!0,enableNotificationSounds:!0,enablePushNotificationSounds:!0,enableInAppEngagementNotifications:!0,enablePushEngagementNotifications:!0,useStackNavOnNarrowDesktop:!1,popupCardConsumptionHorizon:0,noticeMessageConsumptionHorizon:0,mobileKeychainSkypeTokenMigrated:!1,mobileKeychainMSATokenMigrated:!1,disableShakeAndSend:!1,mobileCoachMarkIndex:0,desktopCoachmarkIndex:4,mobileCoachMarkSequenceVersion:void 0,e2eeV1Initialised:!1,includeMeInSearchEnabled:!0,allowHugeEmoticons:!0,avatarPolicy:T.OptionsServiceAvatarPolicyValueType.BUDDIES_OR_AUTHORIZED_CAN_SEE,isUserFromInviteFlow:!1,isUserFromGuestUpsellFlow:!1,migrationLandingScreenSeen:!1,wasTutorialStarted:!1,forceDisplayMigrationLandingScreen:!1,isArchiveConversationDialogRequired:!0,isCameraMigrated:!1,isMicrophoneMigrated:!1,areSpeakersMigrated:!1,migratedToUsingPhysicalDeviceIdSCD:!1,allowCallsFromContactsOnly:!1,callingEcoMode:0,firstMessageReceived:!1,firstCallAnswered:!1,isUserActivityExpected:!1,useSystemTheme:!0,sendMessageWithEnter:!0,pasteAsQuotesEnabled:!1,lastMessageAuthorAvatarEnabled:!1,contactsPanelSkypeTabShowOnlyActiveNow:!1,contactsPanelABNotSyncedShowOnlyActiveNow:!1,presentDNDSetting:!0,fontSizeMultiplier:1,entitlementsBannerOptions:{visible:!0},skypeNumberBannerOptions:{visible:!0},contactPermissionBannerOptions:{clickCount:0},linkYourPhoneBannerOptions:{clickCount:0},autoDownloadFiles:!1,messageStreamFontSize:b.MessageStreamFontSize.Normal,hasSignOutSurveyShown:!1,fileDownloadPathDesktop:void 0,presentDefaultUrlOpenBehaviorPrompt:!0,enableSystemHotKeys:!0,notifiedAboutBookmarks:!1,showComposerPopupMenuIndicator:!0,showMeetNowEducationalModal:!0,showBackgroundBlurAsNewForAndroid:!0,showOnlyVideoOnTheStageAsNew:!0,showNewStageItemAsNew:!0,sendOptionalTelemetry:!1,isTelemetryConsentOnboardingCompleted:!1,speechConsentTranslator:void 0,callsWithTranslatorCount:0,speechSuggestionDismissed:!1,lastUsedBackgroundEffects:void 0,mainWindowLastBoundsBeforeLogout:void 0,isNewCallScreenDesignEnabled:void 0,wasNewCallScreenRevertNoticeDismissed:!1,isLightThemeCallStageEnabled:void 0,togetherModeNoticePresentedForCallId:void 0,disableElectronIntegratedCalling:!1,autoDownloadFilesMode:M.PrefetchMode.Off,sayHiPopupHasShown:!1,notifiedMyFriends:!1},o.__decorate([(0,r.autoSubscribeWithKey)("disableShakeAndSend")],D.prototype,"isShakeAndSendDisabled",null),o.__decorate([(0,r.autoSubscribeWithKey)("commerceCounters")],D.prototype,"getCommerceCounters",null),o.__decorate([(0,r.autoSubscribeWithKey)("contactsPrivacyNoticeBannerMountedCount")],D.prototype,"getContactsPrivacyNoticeBannerMountedCount",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getUserPreferencesLocal",null),o.__decorate([r.disableWarnings],D.prototype,"getUserPreferencesLocalNoSubscription",null),o.__decorate([r.disableWarnings],D.prototype,"internal_getUserPreferencesLocalDefaults",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getUserPreferencesForConversationLocal",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"shouldSendOptionalTelemetryData",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"isTelemetryConsentOnboardingCompleted",null),o.__decorate([(0,r.autoSubscribeWithKey)("lastOpenedTabs")],D.prototype,"getLastOpenedTabForUser",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getLastUsedBackgroundEffects",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getLastMessageAuthorAvatarSwitchedOn",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getTodayTabToggledButtonSwitchedOn",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getWeatherIconToggledButtonSwitchedOn",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getMessageStreamFontSize",null),o.__decorate([(0,r.autoSubscribeWithKey)("nativeKeyboardHeights")],D.prototype,"getNativeKeyboardHeights",null),o.__decorate([(0,r.autoSubscribeWithKey)("nativeKeyboardHeights")],D.prototype,"getNativeKeyboardHeight",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getNewCallScreenDesignEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getWasNewCallScreenRevertNoticeDismissed",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getLightThemeCallStageEnabled",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getTogetherModeNoticePresentedForCallId",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getMusicModeNoticePresentedForCallId",null),o.__decorate([r.disableWarnings],D.prototype,"isMyBotTooltipVisibleNoSubscription",null),o.__decorate([r.disableWarnings],D.prototype,"setMyBotTooltipVisible",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"isE911LocationConsentGranted",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"isMediaBarNewItemSeen",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"isEngagementTooltipSeen",null),o.__decorate([(0,r.autoSubscribeWithKey)(O)],D.prototype,"getFullScreenToolTipShowTime",null),D=n=o.__decorate([r.AutoSubscribeStore],D),t.default=new D},46929:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerKeys=void 0;const n=i(570655),o=i(496486),s=i(217041),a=i(397691),r=i(889391),l=i(422801),c=i(476621),d=i(890239),u=i(671830),g=i(746096),h=i(584876),p=i(438891),S=i(436237),m=i(861253),C=i(733754),y=i(901246),f=i(178735),b=(i(808222),i(735426)),_=i(422538),v=i(404057),T=i(640363),P=i(710962);t.TriggerKeys=u.UserProps;let k=class extends s.StoreBase{constructor(){super(100),this._preferencesPersisted={},this._preferencesPendingPersist={},this._preferencesComputed={},this._requiresUWPMigration=!1,this._preferencesSynced=!1,this._onChatServiceReconnect=()=>{this.fetchAndUpdateProperties().then((()=>{this._syncSendOptionalTelemetryToLocalStore()}))},this._setUserRingIfRequired=()=>{const e=c.default.getUserProperty(u.ServerUserProps.UserRing),t=c.default.getUserProperty(u.UserProps.ChatServiceRingChangedManually)===d.UserRingChangedManually,i=r.default.getS4LFeatures().chatFeatures.recommendedRing;i&&i!==e&&!t&&this.setMyUserRing(i,!1)},_.RegisterStartupable(this,"MyUserPreferencesStore",[c.default,f.default])}startup(){return(c.default.hasFetchedUserPropertiesAtLeastOnce()?a.Resolved():a.raceTimer(this.fetchAndUpdateProperties(),u.MaxChatServiceInitialPropsLoadTimeoutInMs)).always((e=>{var i;null!==(i=null==e?void 0:e.timedOut)&&void 0!==i&&i&&(S.error(g.LogTraceArea.PreferencesStores,"Chat service request timed out when trying to update user preference"),S.track(new P.StartupErrorEvent("CHAT_SERVICE_USER_PROPS_TIMEOUT"))),c.default.userPropertiesChanged.subscribe((e=>{this._gotUpdatedProps(e)})),l.default.reconnected.subscribe(this._onChatServiceReconnect),this._preferencesPersisted=c.default.getUserProperties(),this._preferencesSynced=!0,this._preferencesPersisted[t.TriggerKeys.ReadReceiptsEnabled]&&S.log(g.LogTraceArea.ReadReceipts,"Got enabled="+this._preferencesPersisted[t.TriggerKeys.ReadReceiptsEnabled]+" on startup"),this._computePreferences(),this._requiresUWPMigration&&this._migrateUWPToMSIXPlatformPreferences();const n=f.default.getUserPreferencesLocal().splitViewMode;o.isNil(n)||(f.default.setUserPreferencesLocal({splitViewMode:void 0}),this.setUserAppearancePreferencesForCurrentPlatform({splitViewEnabled:!!n}))}))}requestUWPToMSIXMigration(){this._requiresUWPMigration=!0,this._preferencesSynced&&this._migrateUWPToMSIXPlatformPreferences()}_migrateUWPToMSIXPlatformPreferences(){0}fetchAndUpdateProperties(e=!1){return _.EnsureStarted(l.default).then((()=>l.default.fetchAndUpdateMyProperties(e)))}reset(){o.each(t.TriggerKeys,(e=>this._setPreference(e,"")))}setAlertsLastReadTime(e){this._setPreference(t.TriggerKeys.AlertsLastReadTime,e.toString())}getAlertsLastReadTime(){const e=Number(this._getPreference(t.TriggerKeys.AlertsLastReadTime));return isNaN(e)?void 0:e}setCaptureFirstRunLevel(e){this._setPreference(t.TriggerKeys.CaptureFirstRunLevel,e&&e.toString())}getCaptureFirstRunLevel(){const e=Number(this._getPreference(t.TriggerKeys.CaptureFirstRunLevel));return isNaN(e)?void 0:e}setCaptureMarkupTooltipDismissed(e){this._setPreferenceBool(t.TriggerKeys.CaptureMarkupTooltipDismissed,e)}getCaptureMarkupTooltipDismissed(){return this._getPreferenceBool(t.TriggerKeys.CaptureMarkupTooltipDismissed)}setCoachMarksSeen(e){this._setPreference(t.TriggerKeys.CoachMarksSeen,e&&JSON.stringify(e))}getCoachMarksSeen(){const e=this._getPreference(t.TriggerKeys.CoachMarksSeen),i=e?v.default.parseJsonErrorable(e):void 0;if(!o.isError(i)){if(i&&!o.isArray(i)){let e=[];return o.each(i,(t=>e=o.union(e,t))),e}return i}S.error(g.LogTraceArea.PreferencesStores,"Failed to parse coachMarksSeen preference.")}setOptionalTelemetryPreferences(e){void 0!==e.enabled&&f.default.setSendOptionalTelemetryData(e.enabled),void 0!==e.onboardingCompleted&&f.default.setIsTelemetryConsentOnboardingCompleted(e.onboardingCompleted),this._setOptionalTelemetryPreferences(e)}getOptionalTelemetryPreferences(){return this._getOptionalTelemetryPreferences()}_setOptionalTelemetryPreferences(e){const i=this._getOptionalTelemetryPreferences()||{},n=o.defaults({},e,i);this._setPreference(t.TriggerKeys.SendOptionalTelemetry,n)}_getOptionalTelemetryPreferences(){const e=this._getPreference(t.TriggerKeys.SendOptionalTelemetry),i=e?v.default.parseJsonErrorable(e):{};return o.isError(i)?(S.error(g.LogTraceArea.PreferencesStores,"Failed to parse optional telemetry preferences.",i,e),{}):i}setMsaProfilePreferences(e){const i=this._getOptionalTelemetryPreferences()||{},n=o.defaults({},e,i);this._setPreference(t.TriggerKeys.MsaProfile,n)}getMsaProfilePreferences(){const e=this._getPreference(t.TriggerKeys.MsaProfile),i=e?v.default.parseJsonErrorable(e):{};return o.isError(i)?(S.error(g.LogTraceArea.PreferencesStores,"Failed to parse Msa Profile (Age group) preferences.",i,e),{}):i}_syncSendOptionalTelemetryToLocalStore(){const e=this.getOptionalTelemetryPreferences();e.enabled!==f.default.shouldSendOptionalTelemetryData()&&f.default.setSendOptionalTelemetryData(!!e.enabled),e.onboardingCompleted!==f.default.isTelemetryConsentOnboardingCompleted()&&f.default.setIsTelemetryConsentOnboardingCompleted(!!e.onboardingCompleted)}setSuggestionsEnabled(e){let i;return i=o.isUndefined(e)?"undefined":e?"true":"false",this._setPreference(t.TriggerKeys.SuggestionsEnabled,i)}getSuggestionsEnabled(){const e=this._getPreference(t.TriggerKeys.SuggestionsEnabled);return"true"===e||"false"!==e&&void 0}setCelebrationNotificationLastShownTime(e){return this._setPrefOnServer(t.TriggerKeys.CelebrationNotificationLastShownTime,String(e))}getCelebrationNotificationLastShownTime(){const e=this._getPreference(t.TriggerKeys.CelebrationNotificationLastShownTime);if(e)return parseInt(e,10)}setLocale(e){return this._setPrefOnServer(t.TriggerKeys.Locale,e)}getLocale(){return this._getPreference(t.TriggerKeys.Locale)}setMarket(e){return this._setPrefOnServer(t.TriggerKeys.Market,e)}getMarket(){return this._getPreference(t.TriggerKeys.Market)}setShouldShowTodayBadge(e){S.log(g.LogTraceArea.Phone,`Setting setShouldShowTodayBadge, shouldShow=${e}`);const i=e?"true":"false";this._setPreference(t.TriggerKeys.ShowTodayBadge,i)}setTodayBadgeDismissedTime(){const e=(new Date).getDate().toString();S.log(g.LogTraceArea.Phone,`Setting setTodayBadgeDismissedTime, currentDate=${e}`),this._setPreference(t.TriggerKeys.LastTodayTabBadgeShownTimestamp,e)}shouldShowTodayBadge(){return this._getShouldShowTodayBadge()}shouldShowTodayBadgeNoSubscription(){return this._getShouldShowTodayBadge()}_getShouldShowTodayBadge(){if(r.default.getS4LCommerceFeatures().todayTab.enableDailyBadging){const e=parseInt(this._getPreference(t.TriggerKeys.LastTodayTabBadgeShownTimestamp),10),i=(new Date).getDate(),n=(new Date).getHours();return i!==e&&n>=8}return this._getPreferenceBool(t.TriggerKeys.ShowTodayBadge)}setTimezone(e){return this._setPrefOnServer(t.TriggerKeys.Timezone,e)}getTimezone(){return this._getPreference(t.TriggerKeys.Timezone)}isE911Acknowledged(){return this._getPreferenceBool(t.TriggerKeys.E911Acknowledged)}setE911Acknowledged(e){S.log(g.LogTraceArea.Phone,"Setting E911 acknowledgement, acknowledged="+e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.E911Acknowledged,i)}setEmergencyCallDefaultCountry(e){S.track(new b.EmergencyCallDefaultCountryChanged(e)),this._setPreference(t.TriggerKeys.EmergencyCallDefaultCountryChanged,e)}getEmergencyCallDefaultCountry(){return this._getPreference(t.TriggerKeys.EmergencyCallDefaultCountryChanged)}setIntegrationConsent(e){this._setPreference(t.TriggerKeys.IntegrationAuthConsent,JSON.stringify(e))}getIntegrationConsent(){const e=this._getPreference(t.TriggerKeys.IntegrationAuthConsent),i=e?v.default.parseJsonErrorable(e):{};return o.isError(i)?(S.error(g.LogTraceArea.PreferencesStores,"Failed to parse integration consent cache.",i,e),{}):i}setIntegrationIdAuthStatePairs(e){this._setPreference(t.TriggerKeys.IntegrationIdAuthStatePairs,JSON.stringify(e))}getIntegrationIdAuthStatePairs(){const e=this._getPreference(t.TriggerKeys.IntegrationIdAuthStatePairs),i=e?v.default.parseJsonErrorable(e):{};return o.isError(i)?(S.error(g.LogTraceArea.PreferencesStores,"Failed to parse integrationIdAuthStatePairs.",i,e),{}):i}setInviteSharingDisabled(e){this._setPreferenceBool(t.TriggerKeys.InviteSharingDisabled,e)}getInviteSharingDisabled(){return this._getPreferenceBool(t.TriggerKeys.InviteSharingDisabled)}setIsSetupWizardCompleted(e){this._setPreferenceBool(t.TriggerKeys.IsSetupWizardCompleted,e)}getOnboardingUserProfileScreenSeen(){return this._getPreferenceBool(t.TriggerKeys.OnboardingUserProfileScreenSeen)}setOnboardingUserProfileScreenSeen(e){this._setPreferenceBool(t.TriggerKeys.OnboardingUserProfileScreenSeen,e)}getIsSetupWizardCompleted(){return this._getPreferenceBool(t.TriggerKeys.IsSetupWizardCompleted)}setScheduleNextCallDisplayedTimes(){const e=Number(this._getPreference(t.TriggerKeys.ScheduleNextCallDisplayedTimes));this._setPreference(t.TriggerKeys.ScheduleNextCallDisplayedTimes,(e+1).toString())}getScheduleNextCallDisplayedTimes(){return Number(this._getPreference(t.TriggerKeys.ScheduleNextCallDisplayedTimes))}setScheduleNextCallCurrentSuccessfulCalls(e){const i=Number(this._getPreference(t.TriggerKeys.ScheduleNextCallCurrentSuccessfulCalls));this._setPreference(t.TriggerKeys.ScheduleNextCallCurrentSuccessfulCalls,o.isNumber(e)?e.toString():(i+1).toString())}getScheduleNextCallCurrentSuccessfulCalls(){return Number(this._getPreference(t.TriggerKeys.ScheduleNextCallCurrentSuccessfulCalls))}setMediaEditorFirstRunLevel(e){this._setPreference(t.TriggerKeys.MediaEditorFirstRunLevel,e&&e.toString())}getMediaEditorFirstRunLevel(){const e=Number(this._getPreference(t.TriggerKeys.MediaEditorFirstRunLevel));return isNaN(e)?void 0:e}setReactionNotificationsEnabled(e){S.track(new y.ReactionPushNotificationsToggleSetting(!!e)),S.log(g.LogTraceArea.Push,"Setting push notifications for reactions setting, enabled="+!!e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.ReactionPushNotificationsEnabled,i)}setLastEngagementProcessedMessageOnWebTimestamp(){const e=(new Date).getTime();S.log(g.LogTraceArea.Engagement,"Setting engagement message already shown on S4L.Web user preference,timestamp="+e),this._setPreference(t.TriggerKeys.LastEngagementProcessedMessageOnWebTimestamp,e.toString())}setReadReceiptsEnabled(e,i){S.track(new y.ReadReceiptsToggleSetting(!!e,i)),S.log(g.LogTraceArea.ReadReceipts,"Setting read receipts user preference, enabled="+e+", origin="+y.ReadReceiptsSettingOrigin[i]);const n=e?"true":"false";this._setPreference(t.TriggerKeys.ReadReceiptsEnabled,n),i===y.ReadReceiptsSettingOrigin.UserAction&&this._setPreference(t.TriggerKeys.ReadReceiptsUserPreference,n)}setDisplayUrlPreviewsEnabled(e){S.track(new y.DisplayUrlPreviewsToggleSetting(e)),S.log(g.LogTraceArea.UrlPreviews,"Setting display URL preview user preference, enabled="+e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.DisplayUrlPreviewsEnabled,i)}setCallNotificationsWhileDNDEnabled(e){S.track(new y.CallNotificationsWhileDNDToggleSetting(!!e)),S.log(g.LogTraceArea.DNDSetting,"Setting call notifications while DND, enabled="+!!e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.CallNotificationsWhileDND,i)}setChatNotificationsWhileDNDEnabled(e){S.track(new y.ChatNotificationsWhileDNDToggleSetting(!!e)),S.log(g.LogTraceArea.DNDSetting,"Setting chat notifications while DND, enabled="+!!e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.ChatNotificationsWhileDND,i)}setNotifyOnPresenceChangeEnabled(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.NotifyOnPresenceChange,i)}setOldFriendBackNotificationEnabled(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.OldFriendBackNotification,i)}setPresentDNDSetting(){this._setPreference(t.TriggerKeys.PresentDNDSetting,"false")}setBingSearchHistoryEnabled(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.BingSearchHistoryEnabled,i)}setMiniContextMenuEnabled(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.MiniContextMenuEnabled,i)}setBingSearchTrendingEnabled(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.BingSearchTrendingEnabled,i)}getReactionNotificationsEnabled(){return"false"!==this._getPreference(t.TriggerKeys.ReactionPushNotificationsEnabled)}getLastEngagementProcessedMessageOnWebTimestamp(){const e=Number(this._getPreference(t.TriggerKeys.LastEngagementProcessedMessageOnWebTimestamp));return isNaN(e)?0:e}getReadReceiptsEnabled(){return"true"===this._getPreference(t.TriggerKeys.ReadReceiptsEnabled)}getDisplayUrlPreviews(){return"false"!==this._getPreference(t.TriggerKeys.DisplayUrlPreviewsEnabled)}getUserPreferenceForReadReceipts(){return"false"!==this._getPreference(t.TriggerKeys.ReadReceiptsUserPreference)}getCallNotificationsWhileDNDEnabled(){return"false"!==this._getPreference(t.TriggerKeys.CallNotificationsWhileDND)}getChatNotificationsWhileDNDEnabled(){return"true"===this._getPreference(t.TriggerKeys.ChatNotificationsWhileDND)}getNotifyOnPresenceChangeEnabled(){return"true"===this._getPreference(t.TriggerKeys.NotifyOnPresenceChange)}getOldFriendBackNotificationEnabled(){return"false"!==this._getPreference(t.TriggerKeys.OldFriendBackNotification)}getPresentDNDSettingStatus(){return f.default.getUserPreferencesLocal().presentDNDSetting||this.setPresentDNDSetting(),"false"!==this._getPreference(t.TriggerKeys.PresentDNDSetting)}getBingSearchHistoryEnabled(){return"false"!==this._getPreference(t.TriggerKeys.BingSearchHistoryEnabled)}getMiniContextMenuEnabled(){return"false"!==this._getPreference(t.TriggerKeys.MiniContextMenuEnabled)}getBingSearchTrendingEnabled(){return"false"!==this._getPreference(t.TriggerKeys.BingSearchTrendingEnabled)}setScheduledCallReminders(e){this._setPreference(t.TriggerKeys.ScheduledCallReminders,e&&JSON.stringify(e))}getScheduledCallReminders(){const e=this._getPreference(t.TriggerKeys.ScheduledCallReminders),i=e?v.default.parseJsonErrorable(e):void 0;if(!o.isError(i))return i;S.error(g.LogTraceArea.PreferencesStores,"Failed to parse scheduledCallReminders preference.")}setScheduledCallBannerDismissState(e,i){const n=this.getScheduledCallsBannerDismissStates()||{};n[e]=i,this._setPreference(t.TriggerKeys.ScheduledCallBannerDismissStates,JSON.stringify(n))}deleteScheduledCallBannerDismissStates(e){const i=this.getScheduledCallsBannerDismissStates();i&&(o.each(e,(e=>{i[e]&&delete i[e]})),this._setPreference(t.TriggerKeys.ScheduledCallBannerDismissStates,JSON.stringify(i)))}getScheduledCallsBannerDismissStates(){const e=this._getPreference(t.TriggerKeys.ScheduledCallBannerDismissStates),i=e?v.default.parseJsonErrorable(e):void 0;if(!o.isError(i))return i;S.error(g.LogTraceArea.PreferencesStores,"Failed to parse scheduledCallBannerDismissStates preference.")}setConversationTranslationBannerDismissState(e,t){const i=this._getTranslationBannerDismissStatesForConversation(e);i.conversationBannerBeenDismissed=t,this._setTranslationBannerDismissedState(e,i)}setInCallTranslationBannerDismissState(e,t){const i=this._getTranslationBannerDismissStatesForConversation(e);i.inCallBannerBeenDismissed=t,this._setTranslationBannerDismissedState(e,i)}getReactions(){const e=this._getPreference(t.TriggerKeys.Reactions),i=e?v.default.parseJsonErrorable(e):void 0;if(!o.isError(i))return i;S.error(g.LogTraceArea.PreferencesStores,"Failed to parse reactions preference.")}setReactions(e){this._setPrefOnServer(t.TriggerKeys.Reactions,e?JSON.stringify(e):"")}getCustomCallReactions(){const e=this._getPreference(t.TriggerKeys.CustomCallReactions),i=e?v.default.parseJsonErrorable(e):void 0;if(!o.isError(i))return i;S.error(g.LogTraceArea.PreferencesStores,"Failed to parse custom call reactions preference.")}setCustomCallReactions(e){this._setPrefOnServer(t.TriggerKeys.CustomCallReactions,e?JSON.stringify(e):"")}_setTranslationBannerDismissedState(e,i){const n=this._getTranslationBannerDismissStates()||{};n[e]=i,this._setPreference(t.TriggerKeys.TranslatedConversationBannerDismissStates,JSON.stringify(n))}_getTranslationBannerDismissStatesForConversation(e){const t=this._getTranslationBannerDismissStates();let i;return i=t&&t[e]?t[e]:{inCallBannerBeenDismissed:!1,conversationBannerBeenDismissed:!1},i}_getTranslationBannerDismissStates(){const e=this._getPreference(t.TriggerKeys.TranslatedConversationBannerDismissStates),i=e?v.default.parseJsonErrorable(e):void 0;if(!o.isError(i))return i||void 0;S.error(g.LogTraceArea.PreferencesStores,"Failed to parse translationBannerDismissStates preference.")}getConversationTranslationBannerDismissState(e){const t=this._getTranslationBannerDismissStates();return!(!t||!t[e])&&t[e].conversationBannerBeenDismissed}getInCallTranslationBannerDismissState(e){const t=this._getTranslationBannerDismissStates();return!(!t||!t[e])&&t[e].inCallBannerBeenDismissed}deleteTranslationBannerDismissStates(e){const i=this._getTranslationBannerDismissStates();i&&!o.isEmpty(i)&&(i[e]&&delete i[e],this._setPreference(t.TriggerKeys.TranslatedConversationBannerDismissStates,JSON.stringify(i)))}setInterstitialForLargeGroupRinglessCallsShown(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.InterstitialForLargeGroupRinglessCallsShown,i)}getInterstitialForLargeGroupRinglessCallsShown(){return"true"===this._getPreference(t.TriggerKeys.InterstitialForLargeGroupRinglessCallsShown)}setInterstitialForSmallGroupRinglessCallsShown(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.InterstitialForSmallGroupRinglessCallsShown,i)}getInterstitialForSmallGroupRinglessCallsShown(){return"true"===this._getPreference(t.TriggerKeys.InterstitialForSmallGroupRinglessCallsShown)}setEnableSubtitlesForAllCalls(e){S.track(new y.EnableSubtitlesForAllCallsSetting(!!e)),S.log(g.LogTraceArea.PreferencesStores,"Setting enable subtitles for all calls, enabled="+!!e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.EnableSubtitlesForAllCalls,i)}getEnableSubtitlesForAllCalls(){return"true"===this._getPreference(t.TriggerKeys.EnableSubtitlesForAllCalls)}setOnlyShowSubtitlesForOtherParticipants(e){S.track(new y.OnlyShowSubtitlesForOtherParticipants(!!e)),S.log(g.LogTraceArea.PreferencesStores,"Setting only show subtitles for other participants, enabled="+!!e);const i=e?"true":"false";this._setPreference(t.TriggerKeys.OnlyShowSubtitlesForOtherParticipants,i)}getOnlyShowSubtitlesForOtherParticipants(){return"false"!==this._getPreference(t.TriggerKeys.OnlyShowSubtitlesForOtherParticipants)}setCallTranslatorBotSpokenLanguageLocale(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call translator bot spoken language locale: "+e),this._setPreference(t.TriggerKeys.CallTranslatorBotSpokenLanguageLocale,e),r.default.getS4LCMCFeatures().enableMessageTranslation&&this._setPreference(t.TriggerKeys.CallTranslatorBotSubtitleLanguageLocale,e)}getCallTranslatorBotSpokenLanguageLocale(){const e=r.default.getS4LCMCFeatures().enableMessageTranslation?this.getCallTranslatorBotSubtitleLanguageLocale():this._getPreference(t.TriggerKeys.CallTranslatorBotSpokenLanguageLocale),i=r.default.getS4LCMCFeatures().callTranslatorBotConfig.languageSupport.speech||[],n=!o.isEmpty(e)&&i.some((t=>t===e)),s=i.find((e=>e===C.getLocale()))||"en-US";return n?e:s}setCallTranslatorSpokenLanguage(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call translator bot spoken language locales json."),this._setPreference(t.TriggerKeys.CallTranslatorSpokenLanguage,JSON.stringify(e))}getCallTranslatorSpokenLanguage(){const e=this._getPreference(t.TriggerKeys.CallTranslatorSpokenLanguage),i=e?v.default.parseJsonErrorable(e):void 0;if(!o.isError(i))return i||void 0;S.error(g.LogTraceArea.PreferencesStores,"Failed to parse CallTranslatorSpokenLanguage preference.")}setCallTranslatorCaptionsPositionMode(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call captions position mode to "+(e?e.toString():"-")),this._setPreference(t.TriggerKeys.CallTranslatorCaptionsPositionMode,e)}getCallTranslatorCaptionsPositionMode(){const e=this._getPreference(t.TriggerKeys.CallTranslatorCaptionsPositionMode);switch(e){case p.CaptionsPositionMode.float:case p.CaptionsPositionMode.left:case p.CaptionsPositionMode.bottom:return e;default:return}}getCallPstnTranslatorBotSpokenLanguageLocales(){const e=this._getPreference(t.TriggerKeys.PstnTranslationSettings),i=e?v.default.parseJsonErrorable(e):void 0;if(!o.isError(i))return i||void 0;S.error(g.LogTraceArea.PreferencesStores,"Failed to parse PstnTranslationSettings preference.")}setCallPstnTranslatorBotSpokenLanguageLocales(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call pstn translator bot spoken language locale settings"),this._setPreference(t.TriggerKeys.PstnTranslationSettings,JSON.stringify(e))}setCallTranslatorBotTranslationVoice(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call translator bot translation voice: "+e),this._setPreference(t.TriggerKeys.CallTranslatorBotTranslationVoice,e)}getCallTranslatorBotTranslationVoice(){const e=this._getPreference(t.TriggerKeys.CallTranslatorBotTranslationVoice),i=r.default.getS4LCMCFeaturesNoSubscription().translationDefaultVoice;return e||i}setCallTranslatorTranslationConsent(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call translator bot translation consent: "+e),this._setPreferenceBool(t.TriggerKeys.CallTranslatorTranslationConsent,e)}getCallTranslatorTranslationConsent(){return this._getPreferenceBool(t.TriggerKeys.CallTranslatorTranslationConsent)}setCallTranslatorTranslationConsentChangeDate(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call translator bot translation consent: "+e),this._setPreference(t.TriggerKeys.CallTranslatorTranslationConsentChangeDate,e.toString())}getCallTranslatorTranslationConsentChangeDate(){const e=this._getPreference(t.TriggerKeys.CallTranslatorTranslationConsentChangeDate);return parseInt(e,10)}setCallTranslatorTranslationAutoDetectEnabled(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call translator bot translation auto detect consent: "+e),this._setPreferenceBool(t.TriggerKeys.CallTranslatorTranslationAutoDetectEnabled,e)}getCallTranslatorTranslationAutoDetectEnabled(){return this._getPreferenceBool(t.TriggerKeys.CallTranslatorTranslationAutoDetectEnabled)}setCallTranslatorTranslationAutoDetectOffered(e){S.log(g.LogTraceArea.PreferencesStores,`Setting call translator bot translation auto detect offered: ${e}`),this._setPreferenceBool(t.TriggerKeys.CallTranslatorTranslationAutoDetectOffered,e)}getCallTranslatorTranslationAutoDetectOffered(){return this._getPreferenceBool(t.TriggerKeys.CallTranslatorTranslationAutoDetectOffered)}setCallTranslatorTruVoiceConsent(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call translator bot truVoice consent: "+e),this._setPreferenceBool(t.TriggerKeys.CallTranslatorTruVoiceConsent,e)}getCallTranslatorTruVoiceConsent(){return this._getPreferenceBool(t.TriggerKeys.CallTranslatorTruVoiceConsent)}getMyBotConvListUnpin(){return this._getPreferenceBool(t.TriggerKeys.MybotBotConvListUnpin)}setMyBotConvListUnpin(e){S.log(g.LogTraceArea.PreferencesStores,`Setting my bot conv list unpin: ${e}`),this._setPreferenceBool(t.TriggerKeys.MybotBotConvListUnpin,e)}getMagicBotConsent(){return this._getMagicBotConsent()}getMagicBotConsentNoSubscription(){return this._getMagicBotConsent()}_getMagicBotConsent(){const e=this._getPreference(t.TriggerKeys.MagicBotConsent);if(void 0!==e&&""!==e)return"true"===e}setMagicBotConsent(e){S.log(g.LogTraceArea.PreferencesStores,`Setting magic bot consent: ${e}`);let i="";void 0!==e&&(i=e?"true":"false"),this._setPreference(t.TriggerKeys.MagicBotConsent,i)}getMagicBotConvListUnpin(){return this._getPreferenceBool(t.TriggerKeys.MagicBotConvListUnpin)}setMagicBotConvListUnpin(e){S.log(g.LogTraceArea.PreferencesStores,`Setting magic bot conv list unpin: ${e}`),this._setPreferenceBool(t.TriggerKeys.MagicBotConvListUnpin,e)}getMagicBotWaitlistStatus(){return this._getPreference(t.TriggerKeys.MagicBotWaitlistStatus)}getMagicBotWaitlistStatusNoSubscription(){return this._getPreference(t.TriggerKeys.MagicBotWaitlistStatus)}setMagicBotWaitlistStatus(e){S.log(g.LogTraceArea.PreferencesStores,`Setting magic bot waitlist status: ${e}`),this._setPreference(t.TriggerKeys.MagicBotWaitlistStatus,null!=e?e:"")}getMagicBotCampaignReceived(){return this._getMagicBotCampaignReceived()}getMagicBotCampaignReceivedNoSubscription(){return this._getMagicBotCampaignReceived()}_getMagicBotCampaignReceived(){const e=this._getPreference(t.TriggerKeys.MagicBotCampaignReceived);if(void 0!==e&&""!==e)return"true"===e}setMagicBotCampaignReceived(e){S.log(g.LogTraceArea.PreferencesStores,`Setting magic bot campaign received: ${e}`);let i="";void 0!==e&&(i=e?"true":"false"),this._setPreference(t.TriggerKeys.MagicBotCampaignReceived,i)}getMagicBotWelcomeCardSeen(){return this._getMagicBotWelcomeCardSeen()}getMagicBotWelcomeCardSeenNoSubscription(){return this._getMagicBotWelcomeCardSeen()}_getMagicBotWelcomeCardSeen(){const e=this._getPreference(t.TriggerKeys.MagicBotWelcomeCardSeen);if(void 0!==e&&""!==e)return"true"===e}setMagicBotWelcomeCardSeen(e){S.log(g.LogTraceArea.PreferencesStores,`Setting magic bot welcome card seen: ${e}`);let i="";void 0!==e&&(i=e?"true":"false"),this._setPreference(t.TriggerKeys.MagicBotWelcomeCardSeen,i)}setCallTranslatorTruVoiceConsentChangeDate(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call translator bot translation consent: "+e),this._setPreference(t.TriggerKeys.CallTranslatorTruVoiceConsentChangeDate,e.toString())}getCallTranslatorTruVoiceConsentChangeDate(){const e=this._getPreference(t.TriggerKeys.CallTranslatorTruVoiceConsentChangeDate);return parseInt(e,10)}setCallTranslatorTruVoiceEnabled(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call translator bot truVoice enabled: "+e),this._setPreferenceBool(t.TriggerKeys.CallTranslatorTranslationEnabled,e)}getCallTranslatorTruVoiceEnabled(){return this._getPreferenceBool(t.TriggerKeys.CallTranslatorTranslationEnabled)}setCallTranslatorTruVoiceOffered(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call translator bot truVoice offered: "+e),this._setPreferenceBool(t.TriggerKeys.CallTranslatorTruVoiceOffered,e)}getCallTranslatorTruVoiceOffered(){return this._getPreferenceBool(t.TriggerKeys.CallTranslatorTruVoiceOffered)}setCallTranslatorBotSubtitleLanguageLocale(e){S.log(g.LogTraceArea.PreferencesStores,"Setting call translator bot subtitle language locale: "+e),this._setPreference(t.TriggerKeys.CallTranslatorBotSubtitleLanguageLocale,e)}getCallTranslatorBotSubtitleLanguageLocale(){return this._getPreference(t.TriggerKeys.CallTranslatorBotSubtitleLanguageLocale)}setCallTranslatorPrivacyConsent(e){const i=e?"true":"false";S.log(g.LogTraceArea.PreferencesStores,"Setting call privacy consent to: "+e),this._setPreference(t.TriggerKeys.CallTranslatorPrivacyConsent,i)}getCallTranslatorPrivacyConsent(){return"true"===this._getPreference(t.TriggerKeys.CallTranslatorPrivacyConsent)}resetTranslatorBotTranslationSettings(e){const i=this.getCallPstnTranslatorBotSpokenLanguageLocales();i&&i[e]&&(delete i[e],this.setCallPstnTranslatorBotSpokenLanguageLocales(i)),this._setPreference(t.TriggerKeys.CallTranslatorBotTranslationVoice,null)}getBingBackgroundsEffectDismissed(){return this._getPreferenceBool(t.TriggerKeys.BingBackgroundsEffectDismissed)}setBingBackgroundsEffectDismissed(e){const i=e?"true":"false";this._setPreference(t.TriggerKeys.BingBackgroundsEffectDismissed,i)}setUserAppearancePreferencesForCurrentPlatform(e){const i=this._getUserAppearancePreferences()||{},n=T.default.getSkypePlatformId().toString(),s=o.get(i,n)||{},a=o.defaults({},e,s),r=o.defaults({},{[n]:a},i);this._setPreference(t.TriggerKeys.UserAppearancePreferences,r)}_getUserAppearancePreferences(){const e=this._getPreference(t.TriggerKeys.UserAppearancePreferences),i=e?v.default.parseJsonErrorable(e):{};return o.isError(i)?(S.error(g.LogTraceArea.PreferencesStores,"Failed to parse appearance preferences.",i,e),{}):i}getUserAppearancePreferencesForCurrentPlatform(){const e=T.default.getSkypePlatformId().toString();return o.get(this._getUserAppearancePreferences(),e)||{}}getUserAppearancePreferencesForCurrentPlatformNoSubscription(){const e=T.default.getSkypePlatformId().toString();return o.get(this._getUserAppearancePreferences(),e)||{}}getMessageHintsUserData(e){const t=this._getMessageHintsUserDataObject()||{};return h.default.updateAllUserHintsDataWithDefaultValuesIfNeeded(t)[e]}setMessagesHintData(e,i){const n=JSON.stringify(this._getHintsObjectUpdated(e,i));return S.log(g.LogTraceArea.MessageReactionHints,"Hint data is written to database"),this._setPrefOnServer(t.TriggerKeys.MessageHintsData,n)}doesMessageHaveHint(e){const t=this._getMessageHintsUserDataObject()||{};return Object.values(t).some((t=>t.hintMessageId===e))}invalidateHintMessage(e){const i=this._getMessageHintsUserDataObject()||{},n=Object.entries(i).find((([t,i])=>i.hintMessageId===e));if(void 0!==n){const[e,i]=n,o=Number(e);i.hintLastShownTime&&void 0!==i.hintWasShownTimes&&(i.hintMessageId=void 0,i.hintConversationId=void 0,S.log(g.LogTraceArea.MessageReactionHints,"Hint data is invalidated"));const s=JSON.stringify(this._getHintsObjectUpdated(o,i));this._setPrefOnServer(t.TriggerKeys.MessageHintsData,s)}}resetMessagesHintData(e){const i=this._getMessageHintsUserDataObject();return e?(i[e]=h.default.getDefaultMessageHintObject(),this._setPrefOnServer(t.TriggerKeys.MessageHintsData,JSON.stringify(i))):(S.log(g.LogTraceArea.MessageReactionHints,"Hint data is reset"),this._setPreference(t.TriggerKeys.MessageHintsData,JSON.stringify(h.default.getUserHintsDataWithDefaultValues())))}_gotUpdatedProps(e){o.each(e,(e=>{this._preferencesPendingPersist.hasOwnProperty(e)&&(e===t.TriggerKeys.ReadReceiptsEnabled&&S.log(g.LogTraceArea.ReadReceipts,"_gotUpdatedProps enabled="+c.default.getUserProperty(e)),delete this._preferencesPendingPersist[e])})),this._preferencesPersisted=o.clone(c.default.getUserProperties()),this._computePreferences(),this._syncSendOptionalTelemetryToLocalStore()}_computePreferences(){const e=o.extend({},this._getDefaultPrefs(),this._preferencesPersisted,this._preferencesPendingPersist),t=o.difference(o.keys(this._preferencesComputed),o.keys(e)),i=o.filter(o.keys(e),(t=>!(0,m.default)(this._preferencesComputed[t],e[t])));this._preferencesComputed=e,i.length>0&&this.trigger(t.concat(i)),this._setUserRingIfRequired()}setMyUserRing(e,t){return l.default.serviceSetMyUserRing(e).then((()=>{if(this.fetchAndUpdateProperties(!0),t)return l.default.serviceSetMyProperty(u.UserProps.ChatServiceRingChangedManually,d.UserRingChangedManually)}))}getFRECompleted(){const e=this._getPreference(t.TriggerKeys.ContentChannelsFRECompleted);if(void 0!==e&&""!==e)return"true"===e}setFRECompleted(e){S.log(g.LogTraceArea.PreferencesStores,`Setting Content Channels First Run Experience completed: ${e}`);let i="";void 0!==e&&(i=e?"true":"false"),this._setPreference(t.TriggerKeys.ContentChannelsFRECompleted,i)}getToneRewriteSuggestionsEnabled(){return this.getToneRewriteSuggestionsEnabledNoSubscription()}getToneRewriteSuggestionsEnabledNoSubscription(){return"false"!==this._getPreference(t.TriggerKeys.ToneRewriteSuggestionsEnabled)}setToneRewriteSuggestionsEnabled(e){S.log(g.LogTraceArea.PreferencesStores,`Set tone rewrite suggestions enabled=${e}`),this._setPreference(t.TriggerKeys.ToneRewriteSuggestionsEnabled,e?"true":"false")}_getPreference(e){return this._preferencesComputed[e]}_setPreference(e,t){return this._isEqualToPersistedPreferences(e,t)?a.Resolved():(t=o.isObject(t)?JSON.stringify(t):t,this._preferencesPendingPersist[e]=t,this._computePreferences(),this._setPrefOnServer(e,t))}_isEqualToPersistedPreferences(e,t){if(o.isObject(t)){if(!o.isUndefined(this._preferencesPendingPersist[e])){const i=v.default.parseJsonWithDefault(this._preferencesPendingPersist[e],{});return(0,m.default)(i,t)}const i=v.default.parseJsonWithDefault(this._preferencesPersisted[e],{});return(0,m.default)(i,t)}return this._preferencesPersisted[e]===t||this._preferencesPendingPersist[e]===t}_getPreferenceBool(e){return"true"===this._getPreference(e)}_setPreferenceBool(e,t){return this._setPreference(e,t?"true":"")}_setPrefOnServer(e,t){return _.EnsureStarted(l.default).then((()=>{l.default.serviceSetMyProperty(e,t)}))}_getHintsObjectUpdated(e,t){const i=this._getMessageHintsUserDataObject();return i[e]=t,i}_getMessageHintsUserDataObject(){const e=this._getPreference(t.TriggerKeys.MessageHintsData);return v.default.parseJsonWithDefault(e,h.default.getUserHintsDataWithDefaultValues())}_getDefaultPrefs(){return{alertsLastReadTime:0,lastTodayTabBadgeShownTimestamp:0,scheduleNextCallDisplayedTimes:0,scheduleNextCallCurrentSuccessfulCalls:0,showTodayBadge:"true"}}};n.__decorate([s.disableWarnings],k.prototype,"requestUWPToMSIXMigration",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.AlertsLastReadTime)],k.prototype,"getAlertsLastReadTime",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CaptureFirstRunLevel)],k.prototype,"getCaptureFirstRunLevel",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CaptureMarkupTooltipDismissed)],k.prototype,"getCaptureMarkupTooltipDismissed",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CoachMarksSeen)],k.prototype,"getCoachMarksSeen",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.SuggestionsEnabled)],k.prototype,"getSuggestionsEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CelebrationNotificationLastShownTime)],k.prototype,"getCelebrationNotificationLastShownTime",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.Locale)],k.prototype,"getLocale",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.Market)],k.prototype,"getMarket",null),n.__decorate([(0,s.autoSubscribeWithKey)([t.TriggerKeys.ShowTodayBadge,t.TriggerKeys.LastTodayTabBadgeShownTimestamp])],k.prototype,"shouldShowTodayBadge",null),n.__decorate([s.disableWarnings],k.prototype,"shouldShowTodayBadgeNoSubscription",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.Timezone)],k.prototype,"getTimezone",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.E911Acknowledged)],k.prototype,"isE911Acknowledged",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.EmergencyCallDefaultCountryChanged)],k.prototype,"getEmergencyCallDefaultCountry",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.IntegrationAuthConsent)],k.prototype,"getIntegrationConsent",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.IntegrationIdAuthStatePairs)],k.prototype,"getIntegrationIdAuthStatePairs",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.InviteSharingDisabled)],k.prototype,"getInviteSharingDisabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.IsSetupWizardCompleted)],k.prototype,"getOnboardingUserProfileScreenSeen",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.IsSetupWizardCompleted)],k.prototype,"getIsSetupWizardCompleted",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.ScheduleNextCallDisplayedTimes)],k.prototype,"getScheduleNextCallDisplayedTimes",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.ScheduleNextCallCurrentSuccessfulCalls)],k.prototype,"getScheduleNextCallCurrentSuccessfulCalls",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.MediaEditorFirstRunLevel)],k.prototype,"getMediaEditorFirstRunLevel",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.ReactionPushNotificationsEnabled)],k.prototype,"getReactionNotificationsEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.LastEngagementProcessedMessageOnWebTimestamp)],k.prototype,"getLastEngagementProcessedMessageOnWebTimestamp",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.ReadReceiptsEnabled)],k.prototype,"getReadReceiptsEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.DisplayUrlPreviewsEnabled)],k.prototype,"getDisplayUrlPreviews",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.ReadReceiptsUserPreference)],k.prototype,"getUserPreferenceForReadReceipts",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallNotificationsWhileDND)],k.prototype,"getCallNotificationsWhileDNDEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.ChatNotificationsWhileDND)],k.prototype,"getChatNotificationsWhileDNDEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.NotifyOnPresenceChange)],k.prototype,"getNotifyOnPresenceChangeEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.OldFriendBackNotification)],k.prototype,"getOldFriendBackNotificationEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.PresentDNDSetting)],k.prototype,"getPresentDNDSettingStatus",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.BingSearchHistoryEnabled)],k.prototype,"getBingSearchHistoryEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.MiniContextMenuEnabled)],k.prototype,"getMiniContextMenuEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.BingSearchTrendingEnabled)],k.prototype,"getBingSearchTrendingEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.ScheduledCallReminders)],k.prototype,"getScheduledCallReminders",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.ScheduledCallBannerDismissStates)],k.prototype,"getScheduledCallsBannerDismissStates",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.Reactions)],k.prototype,"getReactions",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CustomCallReactions)],k.prototype,"getCustomCallReactions",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.TranslatedConversationBannerDismissStates)],k.prototype,"getConversationTranslationBannerDismissState",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.TranslatedConversationBannerDismissStates)],k.prototype,"getInCallTranslationBannerDismissState",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.InterstitialForLargeGroupRinglessCallsShown)],k.prototype,"getInterstitialForLargeGroupRinglessCallsShown",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.InterstitialForSmallGroupRinglessCallsShown)],k.prototype,"getInterstitialForSmallGroupRinglessCallsShown",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.EnableSubtitlesForAllCalls)],k.prototype,"getEnableSubtitlesForAllCalls",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.OnlyShowSubtitlesForOtherParticipants)],k.prototype,"getOnlyShowSubtitlesForOtherParticipants",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorBotSpokenLanguageLocale)],k.prototype,"getCallTranslatorBotSpokenLanguageLocale",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorSpokenLanguage)],k.prototype,"getCallTranslatorSpokenLanguage",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorCaptionsPositionMode)],k.prototype,"getCallTranslatorCaptionsPositionMode",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.PstnTranslationSettings)],k.prototype,"getCallPstnTranslatorBotSpokenLanguageLocales",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorBotTranslationVoice)],k.prototype,"getCallTranslatorBotTranslationVoice",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTranslationConsent)],k.prototype,"getCallTranslatorTranslationConsent",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTranslationConsentChangeDate)],k.prototype,"getCallTranslatorTranslationConsentChangeDate",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTranslationAutoDetectEnabled)],k.prototype,"getCallTranslatorTranslationAutoDetectEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTranslationAutoDetectOffered)],k.prototype,"getCallTranslatorTranslationAutoDetectOffered",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTruVoiceConsent)],k.prototype,"getCallTranslatorTruVoiceConsent",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.MybotBotConvListUnpin)],k.prototype,"getMyBotConvListUnpin",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.MagicBotConsent)],k.prototype,"getMagicBotConsent",null),n.__decorate([s.disableWarnings],k.prototype,"getMagicBotConsentNoSubscription",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.MagicBotConvListUnpin)],k.prototype,"getMagicBotConvListUnpin",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.MagicBotWaitlistStatus)],k.prototype,"getMagicBotWaitlistStatus",null),n.__decorate([s.disableWarnings],k.prototype,"getMagicBotWaitlistStatusNoSubscription",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.MagicBotCampaignReceived)],k.prototype,"getMagicBotCampaignReceived",null),n.__decorate([s.disableWarnings],k.prototype,"getMagicBotCampaignReceivedNoSubscription",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.MagicBotWelcomeCardSeen)],k.prototype,"getMagicBotWelcomeCardSeen",null),n.__decorate([s.disableWarnings],k.prototype,"getMagicBotWelcomeCardSeenNoSubscription",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTruVoiceConsentChangeDate)],k.prototype,"getCallTranslatorTruVoiceConsentChangeDate",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTranslationEnabled)],k.prototype,"getCallTranslatorTruVoiceEnabled",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorTruVoiceOffered)],k.prototype,"getCallTranslatorTruVoiceOffered",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorBotSubtitleLanguageLocale)],k.prototype,"getCallTranslatorBotSubtitleLanguageLocale",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.CallTranslatorPrivacyConsent)],k.prototype,"getCallTranslatorPrivacyConsent",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.BingBackgroundsEffectDismissed)],k.prototype,"getBingBackgroundsEffectDismissed",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.UserAppearancePreferences)],k.prototype,"getUserAppearancePreferencesForCurrentPlatform",null),n.__decorate([s.disableWarnings],k.prototype,"getUserAppearancePreferencesForCurrentPlatformNoSubscription",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.MessageHintsData)],k.prototype,"getMessageHintsUserData",null),n.__decorate([(0,s.autoSubscribeWithKey)(t.TriggerKeys.ToneRewriteSuggestionsEnabled)],k.prototype,"getToneRewriteSuggestionsEnabled",null),n.__decorate([s.disableWarnings],k.prototype,"getToneRewriteSuggestionsEnabledNoSubscription",null),k=n.__decorate([s.AutoSubscribeStore],k),t.default=new k},330124:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerKeys=void 0;const n=i(570655),o=i(809206),s=i(217041),a=i(397691),r=i(746096),l=i(436237),c=i(178735),d=i(865515),u=i(29130),g=i(422538);var h;!function(e){e[e.NavContextType=0]="NavContextType"}(h=t.TriggerKeys||(t.TriggerKeys={}));let p=class extends s.StoreBase{constructor(){super(),this._usingStackNavContext=!1,this._maybeUseStackNavigation=()=>{this._shouldUseStackNavigation().then((e=>{this._usingStackNavContext!==e&&(this._usingStackNavContext=e,l.log(r.LogTraceArea.Navigation,"NavigationContextStore: updating use stack navigation: "+this._usingStackNavContext),this.trigger(h.NavContextType))}))},g.RegisterStartupable(this,"NavigationContextStore",[u.default,c.default])}startup(){return l.log(r.LogTraceArea.Navigation,"NavigationContextStore start"),this._shouldUseStackNavigation().then((e=>{const t=this._usingStackNavContext!==e;this._usingStackNavContext=e,l.log(r.LogTraceArea.Navigation,"NavigationContextStore: At startup, use stack navigation: "+this._usingStackNavContext),c.default.subscribe(this._maybeUseStackNavigation),u.default.subscribe(this._maybeUseStackNavigation),t&&this.trigger(h.NavContextType),l.log(r.LogTraceArea.Navigation,"NavigationContextStore: finished startup")}))}isUsingStackNavigationContext(){return this._usingStackNavContext}isUsingStackNavigationContextNoSubscription(){return this._usingStackNavContext}isMobileEnvironmentWithStackNavigation(){return o.default.isMobile()&&this.isUsingStackNavigationContextNoSubscription()}_shouldUseStackNavigation(){return c.default.getUserPreferencesLocal().useStackNavOnNarrowDesktop||o.default.isMobile()?d.default.shouldUseStackNavigationFromScreenSize():(l.log(r.LogTraceArea.Navigation,"NavigationContextStore._shouldUseStackNavigation: Using non-RN shell, returning false"),a.Resolved(!1))}};n.__decorate([(0,s.autoSubscribeWithKey)(h.NavContextType)],p.prototype,"isUsingStackNavigationContext",null),n.__decorate([s.disableWarnings],p.prototype,"isUsingStackNavigationContextNoSubscription",null),n.__decorate([s.disableWarnings],p.prototype,"isMobileEnvironmentWithStackNavigation",null),p=n.__decorate([s.AutoSubscribeStore],p);const S=new p;t.default=S},20506:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationEventStore=void 0;const n=i(570655),o=i(217041),s=i(397691),a=i(400984),r=i(746096),l=i(436237),c=i(104735),d=i(583181),u=i(422538),g=i(853374);let h=class extends o.StoreBase{constructor(){super(),this._contactStoreCallback=e=>{if(d.default.isUIDisplayed()){const t=g.default.newCauseId();l.log(r.LogTraceArea.Contacts,"processContactBlockChangeNotificationPotentiallyBeforeStartup causeId: "+t),c.default.navigateAfterBlock(e,t,void 0)}},u.RegisterStartupable(this,"NavigationEventStore",[a.default])}startup(){return a.default.contactBlockedEventReceived.subscribe(this._contactStoreCallback),s.Resolved()}};h=n.__decorate([o.AutoSubscribeStore],h),t.NavigationEventStore=h,t.default=new h},827357:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(174958),s=i(496486),a=i(269521),r=i(516778),l=i(217041),c=i(397691),d=i(362807),u=i(554679),g=i(795691),h=i(861253),p=i(853374),S=i(70665),m=i(217093),C=i(436237),y=i(422538),f=i(746096),b=i(316392),_=i(921090),v=i(657347),T=i(178735),P=i(330124),k=i(800292),A={key:m.MobileHubNavigationId+"+initial",name:m.MobileHubNavigationId,params:{hubTab:m.HubTab.Recents,screen:m.HubTab.Recents}};let I=class extends l.StoreBase{constructor(){super(),this._usingStackNavContext=!1,this._skipCompositeNavigation=!1,this._numberOfTrackedRejoinCallOperations=0,this._stackNavigationContexts={},this._navigation=void 0,this._reduceKeepTop=!1,this._reactNavigationState={index:0,routes:[],routeNames:[]},this._reduceNavRoutes=(e,t,i)=>{const n=[m.ConversationMediaViewerPanelNavigationId,m.SearchNavigationId,m.AlertsHubNavigationId,m.TodayTabNavigationId,m.PurchaseContinuationId+"credit",m.PurchaseContinuationId+"calling",m.MobileHubNavigationId,m.JoiningGuestNavigatorId,m.AddContactPanelId,m.PromptPermissionsNavigatorId,u.PollCreationPanelNavigationId,u.PollSummaryPanelNavigationId,u.PollVotersListPanelNavigationId,m.PSTNDialerPanelId,m.CallFailurePromptId,m.SmsFailurePromptId,m.TasterPostCallPanelId,m.SkypeNumberListNavigationId,m.SkypeNumberInfoScreenNavigationId,m.SkypeNumberFormsNavigationId,m.SkypeNumberPanelPurchaseFlowNavigationId,m.CallerIdCallingSettingsPanelNavigationId,m.CallerIdNumberCallingSettingsPanelNavigationId,m.CallingSettingsPanelNavigationId,m.NewSettingsPanelNavigationId,m.E911AcknowledgementPanelId,m.PurchaseConfirmationDialogWrapperNavigationId,d.MeetNowLobbyNavigationId],o=e.filter((e=>!(n.includes(e.name)&&t.includes(e.name))));return i&&e.length>0&&o.length>0&&e[e.length-1].name!==o[o.length-1].name&&o.push(e[e.length-1]),o},y.RegisterStartupable(this,"NavigationStateStore",[T.default,P.default])}startup(){return C.log(f.LogTraceArea.Navigation,"NavigationStateStore start"),this._usingStackNavContext=P.default.isUsingStackNavigationContext(),this._stackNavigationContexts[b.StackNavigatorId.Mobile]=new m.SimpleSplitNavigationContext({}),P.default.subscribe((()=>{const e=P.default.isUsingStackNavigationContext();this._usingStackNavContext!==e&&(this._usingStackNavContext=e,this._convertNavContext())}),P.TriggerKeys.NavContextType),c.Resolved()}performAfterNavigationInitialized(e){if(this._navigation)e();else{const t=this.subscribe((()=>{e(),this.unsubscribe(t)}),g.TriggerKeys.ReactNavigation)}}navigateToView(e,t,i){var n;if(C.log(f.LogTraceArea.Navigation,"NavigationStateStore.navigateToView, causeId: "+t),!(e instanceof m.CallNavigationContext)){const e=null===(n=this._navigation)||void 0===n?void 0:n.getRootState().routeNames,i=this.getCurrentNavigationStack();(-1!==s.findIndex(i,(e=>e instanceof m.CallNavigationContext))||(null==e?void 0:e.includes(m.CallNavigationId)))&&(C.log(f.LogTraceArea.Navigation,"NavigationStateStore.navigateToView, StackNavigatorId.Mobile navigating while in a call, causeId: "+t),a.PushNotifications.onCallScreenClose())}const o=i||b.StackNavigationType.Push;this.stackNavigateToView(e,void 0,b.StackNavigatorId.Mobile,o,!0,t)}compositeCommitNavigationUpdates(e,t=[g.CompositeNavigationType.Default],i,n){if(S.dismissAll(n),this._skipCompositeNavigation)return;i&&(C.log(f.LogTraceArea.Navigation,"NavigationStateStore.compositeCommitNavigationUpdates, navigating while in a call, causeId: "+e),a.PushNotifications.onCallScreenClose()),this._skipCompositeNavigation=this._shouldSkipNextCompositeNavigation(),v.default.indicateBusyOperation();const o=_.navigationTypesToTriggerKeys(t);C.log(f.LogTraceArea.Navigation,"NavigationStateStore.compositeCommitNavigationUpdates  triggerKeys: "+o+" causeId: "+e),this.trigger(o)}modalNavigateToView(e,t,i,n,s,r){const l=this.getCompositeCallVisible();C.log(f.LogTraceArea.Navigation,"NavigationStateStore.modalNavigateToView: navigator: "+o.pii.Omit(i)+" isCallVisible: "+l+" causeId: "+r),l&&(C.log(f.LogTraceArea.Navigation,"NavigationStateStore.modalNavigateToView, navigating while in a call, causeId: "+r),a.PushNotifications.onCallScreenClose()),this.stackNavigateToView(e,t,i,n,!1,r),s&&this.trigger(g.TriggerKeys.ModalNavigation)}desktopSidebarNavigateToView(e,t,i,n,s,a){C.log(f.LogTraceArea.Navigation,"NavigationStateStore.desktopSidebarNavigateToView: navigator: "+o.pii.Omit(i)+" causeId: "+a),this.stackNavigateToView(e,t,i,n,!1,a),s&&this.trigger(g.TriggerKeys.DesktopSidebar)}setStackReactNavigation(e){if(this._navigation=e,this._navigation){{const e=this._reactNavigationState.routes.length;_.addFakeBrowserHistory(e)}const e=this._navigation.getState();!(this._reactNavigationState.routes.length>0)||e&&(0,h.default)(e.routes,this._reactNavigationState.routes)||this._navigation.reset(this._reactNavigationState)}this.trigger(g.TriggerKeys.ReactNavigation)}onStackReactNavigationStateChange(e){if(this._reactNavigationState=e,this._navigation&&this._reduceNavigationIds){const t=this._reduceNavRoutes(e.routes,this._reduceNavigationIds,this._reduceKeepTop);if(this._reduceNavigationIds=void 0,t.length!==e.routes.length){const i=e.index>=t.length?Math.max(t.length-1,0):e.index;this._navigation.reset({index:i,routes:t}),this.trigger(g.TriggerKeys.NavigationAndTabs)}}}stackNavigateToView(e,t,i,n,a,r){if(S.dismissAll(),!(e instanceof m.DesktopContentPanelNavigationContext)){if(this._navigation)return void _.navigateWithReactNavigation(this._navigation,n,e);if(e){const[t,i]=_.getNavigationParams(e),n={name:t,params:i},o=this._reactNavigationState.routes.findIndex((e=>e.name===n.name));o>=0?(this._reactNavigationState.routes.length=o,this._reactNavigationState.routeNames.length=o):0===this._reactNavigationState.routes.length&&(this._reactNavigationState.routes.push(A),this._reactNavigationState.routeNames.push(A.name)),this._reactNavigationState.routes.push(n),this._reactNavigationState.routeNames.push(n.name),this._reactNavigationState.index=this._reactNavigationState.routes.length-1}}if(e)if(n===b.StackNavigationType.PopToRoot)t===e?this._stackNavContext(i).setNavStack([]):this._stackNavContext(i).setNavStack([e]);else{const t=this.getCurrentNavigationStack(i,!0).slice(0);let o=!1;for(let n=t.length-1;n>=0;n--)if(_.considerNavContextsEqual(e,t[n])){this._stackNavContext(i).setNavStack(t.slice(0,n+1)),o=!0;break}if(!o){const o=s.last(t);n===b.StackNavigationType.Replace||o&&_.shouldNavigationContextPartReplaceExisting(o,e)?(t[t.length-1]=e,this._stackNavContext(i).setNavStack(t)):t.length>=1&&o&&_.shouldResetToHubAndConversation(o,e)?this._stackNavContext(i).setNavStack([t[0],e]):(t.push(e),this._stackNavContext(i).setNavStack(t))}}t&&this._stackNavContext(i).setMasterContext(t),v.default.indicateBusyOperation(),C.log(f.LogTraceArea.Navigation,"NavigationStateStore.stackNavigateToView: navigator: "+o.pii.Omit(i)+" navigationType: "+n+" navContext: "+(e?e.id:"none")+" shouldTrigger: "+a+" causeId: "+r),a&&this.trigger(g.TriggerKeys.NavigationAndTabs)}stackNavNavigateBack(e,t,i=b.StackNavigatorId.Mobile,n=g.CompositeNavigationType.Default){if(C.log(f.LogTraceArea.Navigation,"NavigationStateStore.stackNavNavigateBack navigator: "+o.pii.Omit(i)+" causeId: "+t),this._navigation){if(this._navigation.getState().routes.length<=1)return C.log(f.LogTraceArea.Navigation,`NavigationStateStore: returning (stackNavNavigateBack already at the root of react-navigation) causeId: ${t}`),!1;this._navigation.goBack()}else{const e=this._stackNavContext(i);if(e.getBackStack().length<=1)return C.log(f.LogTraceArea.Navigation,`NavigationStateStore: returning (stackNavNavigateBack already at the root) causeId: ${t}`),!1;e.navigateBack()}if(!e){C.log(f.LogTraceArea.Navigation,"NavigationStateStore.stackNavNavigateBack triggering update. causeId: "+t);const e=_.navigationTypesToTriggerKeys([n]);this.trigger(e)}return!0}clearModalNavStack(e=b.StackNavigatorId.DesktopModal,t,i,n){C.log(f.LogTraceArea.Navigation,"NavigationStateStore.clearModalNavStack navigator: "+o.pii.Omit(e)+" shouldTrigger: "+t+" causeId: "+n),this.clearNavStack(e,!1,i,n),t&&this.trigger(g.TriggerKeys.ModalNavigation)}clearDesktopSidebarNavStack(e=b.StackNavigatorId.DesktopSidebar,t,i,n){C.log(f.LogTraceArea.Navigation,"NavigationStateStore.clearDesktopSidebarNavStack navigator: "+o.pii.Omit(e)+" shouldTrigger: "+t+" causeId: "+n),this.clearNavStack(e,!1,i,n),t&&this.trigger(g.TriggerKeys.DesktopSidebar)}clearNavStack(e=b.StackNavigatorId.Mobile,t,i,n){C.log(f.LogTraceArea.Navigation,"NavigationStateStore.clearNavStack navigator: "+o.pii.Omit(e)+" shouldTrigger: "+t+" causeId: "+n),this._stackNavContext(e).clearNavStack(),i&&this._stackNavContext(e).clearMasterContext(),t&&this.trigger(g.TriggerKeys.NavigationAndTabs)}flattenNavStack(e=b.StackNavigatorId.Mobile){if(C.log(f.LogTraceArea.Navigation,"NavigationStateStore.flattenNavStack, navigator: "+o.pii.Omit(e)),this._usingStackNavContext){const t=this.getCurrentNavigationStack(e,!0);t.length>2&&(this._stackNavContext(e).setNavStack([t[0],t[t.length-1]]),C.log(f.LogTraceArea.Navigation,"NavigationStateStore.flattenNavStack"),this.trigger(g.TriggerKeys.NavigationAndTabs))}}reduceNavStack(e,t=b.StackNavigatorId.Mobile,i=!1){if(C.log(f.LogTraceArea.Navigation,"NavigationStateStore.reduceNavStack, navigator: "+o.pii.Omit(t)),this._navigation)return this._reduceNavigationIds=e,void(this._reduceKeepTop=i);{const t=this._reduceNavRoutes(this._reactNavigationState.routes,e,i);this._reactNavigationState.routes.length=0,this._reactNavigationState.routes.push(...t),this._reactNavigationState.index=this._reactNavigationState.routes.length-1,this._reactNavigationState.routeNames.length=0,this._reactNavigationState.routeNames.push(...t.map((e=>e.name)))}let n=!1;const a=this.getCurrentNavigationStack(t,!0),r=a.length,l=s.filter(a,((t,o)=>{let a=!0;return s.each(e,(e=>{if(!i||o!==r-1)switch(e){case m.ConversationMediaViewerPanelNavigationId:t instanceof m.ConversationMediaViewerPanelContext&&(n=!0,a=!1);break;case m.SearchNavigationId:t instanceof m.SearchNavigationContext&&(n=!0,a=!1);break;case m.AlertsHubNavigationId:t instanceof m.AlertsHubNavigationContext&&(n=!0,a=!1);break;case m.PurchaseContinuationId+"credit":case m.PurchaseContinuationId+"calling":t instanceof m.PurchaseContinuationNavigationContext&&(n=!0,a=!1);break;case m.MobileHubNavigationId:t instanceof m.MobileHubNavigationContext&&(n=!0,a=!1);break;case m.JoiningGuestNavigatorId:t instanceof m.JoiningGuestScreenContext&&(n=!0,a=!1);break;case m.AddContactPanelId:t instanceof m.AddContactPanelNavigationContext&&(n=!0,a=!1);break;case m.PromptPermissionsNavigatorId:t instanceof m.PromptPermissionContext&&(n=!0,a=!1);break;case u.PollCreationPanelNavigationId:t instanceof u.PollCreationPanelNavigationContext&&(n=!0,a=!1);break;case u.PollSummaryPanelNavigationId:t instanceof u.PollSummaryPanelNavigationContext&&(n=!0,a=!1);break;case u.PollVotersListPanelNavigationId:t instanceof u.PollVotersListPanelNavigationContext&&(n=!0,a=!1);break;case m.PSTNDialerPanelId:t instanceof m.PSTNDialerNavigationContext&&(n=!0,a=!1);break;case m.CallFailurePromptId:t instanceof m.CallFailurePromptContext&&(n=!0,a=!1);break;case m.SmsFailurePromptId:t instanceof m.SmsFailurePromptContext&&(n=!0,a=!1);break;case m.TasterPostCallPanelId:t instanceof m.TasterPostCallPanelContext&&(n=!0,a=!1);break;case m.SkypeNumberListNavigationId:t instanceof m.SkypeNumberListNavigationContext&&(n=!0,a=!1);break;case m.SkypeNumberInfoScreenNavigationId:t instanceof m.SkypeNumberInfoScreenNavigationContext&&(n=!0,a=!1);break;case m.SkypeNumberFormsNavigationId:t instanceof m.SkypeNumberFormsNavigationContext&&(n=!0,a=!1);break;case m.SkypeNumberPanelPurchaseFlowNavigationId:t instanceof m.SkypeNumberPanelPurchaseFlowNavigationContext&&(n=!0,a=!1);break;case m.CallerIdCallingSettingsPanelNavigationId:t instanceof m.CallerIdCallingSettingsPanelNavigationContext&&(n=!0,a=!1);break;case m.CallerIdNumberCallingSettingsPanelNavigationId:t instanceof m.CallerIdNumberCallingSettingsPanelNavigationContext&&(n=!0,a=!1);break;case m.CallingSettingsPanelNavigationId:t instanceof m.CallingSettingsPanelNavigationContext&&(n=!0,a=!1);break;case m.NewSettingsPanelNavigationId:t instanceof m.NewSettingsPanelNavigationContext&&(n=!0,a=!1);break;case m.E911AcknowledgementPanelId:t instanceof m.E911AcknowledgementPanelNavigationContext&&(n=!0,a=!1);break;case m.PurchaseConfirmationDialogWrapperNavigationId:t instanceof m.PurchaseConfirmationDialogWrapperNavigationContext&&(n=!0,a=!1);break;case d.MeetNowLobbyNavigationId:t instanceof d.MeetNowNavigationContext&&(n=!0,a=!1);break;default:C.warn(f.LogTraceArea.Navigation,"NavigationStateStore: navigationId not handled "+e)}})),a}));C.log(f.LogTraceArea.Navigation,"NavigationStateStore: reduceNavStack: "+n),n&&(this._stackNavContext(t).setNavStack(l),this.trigger(g.TriggerKeys.NavigationAndTabs))}collapseSplitNavContext(e=b.StackNavigatorId.Mobile,t,i){C.log(f.LogTraceArea.Navigation,"NavigationStateStore.collapseSplitNavContext collapsed: "+t+" navigator: "+o.pii.Omit(e)+" causeId: "+i);const n=this._stackNavContext(e);n.isCollapsed()!==t&&(n.collapse(t),this.trigger(g.TriggerKeys.NavigationAndTabs))}isSplitNavStackCollapsed(e=b.StackNavigatorId.Mobile){return this._stackNavContext(e).isCollapsed()}isDesktopSplitNavStackCollapsed(){return this.isSplitNavStackCollapsed(_.mainContentNavigatorId)}isDesktopSplitNavStackCollapsedNoSubscription(){return this.isSplitNavStackCollapsed(_.mainContentNavigatorId)}getCurrentNavigationStackRoute(e=b.StackNavigatorId.Mobile){if(this._navigation)return this._navigation.getCurrentRoute();{const t=s.last(this.getCurrentNavigationStack(e));if(t){if(t instanceof m.MobileContentPanelNavigationContext||t instanceof m.DesktopContentPanelNavigationContext){const e=t.getConversationContext();if(e)return{key:"old-stack"+e.id,name:t.stateId,params:e.state}}return{key:"old-stack"+(null==t?void 0:t.id),name:t.stateId,params:t.state}}}}getCurrentNavigationStack(e=b.StackNavigatorId.Mobile,t=!1){C.log(f.LogTraceArea.Navigation,"NavigationStateStore.getCurrentNavigationStack navigator: "+o.pii.Omit(e));const i=this._stackNavContext(e).getNavStack();return i.length||e!==b.StackNavigatorId.Mobile||(C.log(f.LogTraceArea.Navigation,"NavigationStateStore: No stack navigation context yet. Returning default."),i.push(new m.MobileHubNavigationContext({hubTab:m.HubTab.Recents,screen:m.HubTab.Recents})),this._stackNavContext(e).setNavStack(i)),this._stackNavContext(e).getNavStack(t).slice(0)}getNavigationStackSize(e=b.StackNavigatorId.Mobile){var t;return this._navigation?(null===(t=this._navigation.getState())||void 0===t?void 0:t.routes.length)||0:this.getCurrentNavigationStack(e).length}isOnTopOfNavigationStack(e,t=b.StackNavigatorId.Mobile){const i=this.getCurrentNavigationStackRoute(t);return e===m.MobileHubNavigationId?!!i&&(i.name===e||Object.values(m.HubTab).includes(i.name)):!!i&&i.name===e}getCurrentNavigationBackStack(e=b.StackNavigatorId.Mobile,t=!1){return C.log(f.LogTraceArea.Navigation,"NavigationStateStore.getCurrentNavigationBackStack navigator: "+o.pii.Omit(e)),this._stackNavContext(e).getBackStack(t).slice(0)}getCurrentStackNavigationContext(e=b.StackNavigatorId.Mobile,t=!0){C.log(f.LogTraceArea.Navigation,"NavigationStateStore.getCurrentStackNavigationContext navigator: "+o.pii.Omit(e));const i=this._stackNavContext(e);return t?i.clone(!0):i}getCurrentModalStackNavigationContext(e=b.StackNavigatorId.DesktopModal,t=!0){C.log(f.LogTraceArea.Navigation,"NavigationStateStore.getCurrentModalStackNavigationContext navigator: "+o.pii.Omit(e));const i=this._stackNavContext(e);return t?i.clone(!0):i}getCurrentSidebarStackNavigationContext(e=b.StackNavigatorId.DesktopSidebar,t=!0){return this._getCurrentStackNavigationContextNoSubscription(e,t)}getCurrentStackNavigationContextNoSubscription(e=b.StackNavigatorId.Mobile,t=!0){const i=this._stackNavContext(e);return t?i.clone(!0):i}_getCurrentStackNavigationContextNoSubscription(e=b.StackNavigatorId.Mobile,t=!0){C.log(f.LogTraceArea.Navigation,"NavigationStateStore.getCurrentStackNavigationContextNoSubscription navigator: "+o.pii.Omit(e));const i=this._stackNavContext(e);return t?i.clone(!0):i}isConversationOnTopOfNavStack(e){if(this._navigation){const t=this._navigation.getCurrentRoute();return(null==t?void 0:t.name)===m.MobileContentPanelId&&(null==t?void 0:t.params).conversationId===e}const t=s.last(this.getCurrentNavigationStack());if(t&&(t instanceof m.MobileContentPanelNavigationContext||t instanceof m.DesktopContentPanelNavigationContext)){const i=t.getConversationContext();return!!i&&e===i.state.conversationId}return!1}isHubOnTopOfNavStackNoSubscription(){if(this._navigation){const e=this._navigation.getCurrentRoute();return!(!e||e.name!==m.MobileHubNavigationId)}const e=s.last(this._stackNavContext(b.StackNavigatorId.Mobile).getNavStack());return!!e&&e instanceof m.MobileHubNavigationContext}getCurrentHubTab(){var e;if(this._navigation){const t=this._navigation.getCurrentRoute();if(t&&t.name===m.MobileHubNavigationId&&t.params){return null!==(e=t.params.hubTab)&&void 0!==e?e:m.HubTab.Recents}return m.HubTab.Recents}const t=s.find(this._stackNavContext(b.StackNavigatorId.Mobile).getNavStack(),(e=>e instanceof m.MobileHubNavigationContext));return t?t.state.hubTab:m.HubTab.Recents}navigateToHubTab(e,t){if(this._usingStackNavContext,this._navigation)this._navigation.navigate(m.MobileHubNavigationId,{hubTab:e,screen:e,params:t});else{let i,n=this._stackNavContext(b.StackNavigatorId.Mobile).getNavStack();const o=s.findLastIndex(n,(e=>e instanceof m.MobileHubNavigationContext));-1!==o?(i=n[o],i.state.hubTab!==e&&(i=i.clone(!1),i.state.hubTab=e),n=n.slice(0,o)):i=new m.MobileHubNavigationContext({hubTab:e,screen:e,params:t}),n.push(i),this._stackNavContext(b.StackNavigatorId.Mobile).setNavStack(n)}C.log(f.LogTraceArea.Navigation,"NavigationStateStore: navigateToHubTab: "+e+"usingStackNavContext: "+this._usingStackNavContext),this.trigger([g.TriggerKeys.NavigationAndTabs,g.TriggerKeys.HubTab])}getCompositeMainStageNavViewMode(){const e=this.getCurrentStackNavigationContext(_.mainContentNavigatorId,!1).getNavStack();return _.mainStageViewModeForNavContext(s.last(e))}getCompositeMainStageNavViewModeNoSubscription(){const e=this._getCurrentStackNavigationContextNoSubscription(_.mainContentNavigatorId,!1).getNavStack();return _.mainStageViewModeForNavContext(s.last(e))}getCompositeCallVisible(){return this._getCompositeCallVisible()}getCompositeCallVisibleNoSubscription(){return this._getCompositeCallVisible()}shouldDisplayRightNavigation(){return this._shouldDisplayRightNavigation()}shouldDisplayRightNavigationNoSubscription(){return this._shouldDisplayRightNavigation()}isFindPanelShowing(e){const t=this._getRightBarNavigationContext();return t instanceof m.FindPanelNavigationContext||t instanceof m.InAppBrowserNavigationContext}isInAppBrowserShowingNoSubscription(){return this._getRightBarNavigationContext()instanceof m.InAppBrowserNavigationContext}isGalleryShowing(){return this._getRightBarNavigationContext()instanceof m.GalleryNavigationContext}isSubtitlesShowing(){return this._getRightBarNavigationContext()instanceof m.SubtitlesNavigationContext}isRightSideBarShowing(){return this._stackNavContext(_.rightSideBarNavigatorId).getNavStack().length>0}isSearchShowing(){return this._leftNavViewMode()===m.LeftNavViewMode.Search}isCallChatShowing(){if(this._leftNavViewMode()===m.LeftNavViewMode.ConversationInCall)return!0;const e=this._stackNavContext(_.rightSideBarNavigatorId);return s.last(e.getNavStack())instanceof m.ConversationInCallNavigationContext}isLeftPanelShowing(){return this._leftNavViewMode()!==m.LeftNavViewMode.None}initialNavigationState(){if(this._reactNavigationState.routes.length>0)return this._reactNavigationState}isUsingStackReactNavigationNoSubscription(){return!!this._navigation}setNewStartingNavigationContext(e){const t=p.default.newCauseId();C.log(f.LogTraceArea.Navigation,"NavigationActions.setNewStartingNavigationContext, causeId: "+t);{const i=_.maybeUpdateDesktopNavContext(e(),t);this._stackNavContext(_.mainContentNavigatorId).setNavStack([i])}}updateMobileHubContextForStackNavContext(e,t){var i;if(this._navigation)return void((null===(i=this._navigation.getCurrentRoute())||void 0===i?void 0:i.name)===m.MobileHubNavigationId&&(this._navigation.setParams({hubTab:e}),t&&this.trigger(g.TriggerKeys.NavigationAndTabs),this.trigger(g.TriggerKeys.HubTab)));const n=this._stackNavContext(b.StackNavigatorId.Mobile).getNavStack();if(n.length){const i=s.findLastIndex(n,(e=>e instanceof m.MobileHubNavigationContext));if(-1!==i){const o=n[i].clone(!0);o.state.hubTab=e,n[i]=o,this._stackNavContext(b.StackNavigatorId.Mobile).setNavStack(n),C.log(f.LogTraceArea.Navigation,"NavigationStateStore: updateMobileHubContextForStackNavContext, hubTab: "+e),t&&this.trigger(g.TriggerKeys.NavigationAndTabs),this.trigger(g.TriggerKeys.HubTab)}}}dangerouslyGetActiveConversationContextOrigin(e){var t;return(null===(t=this.getActiveConversationState())||void 0===t?void 0:t.origin)||f.NavigationConversationOrigin.Unknown}getActiveContextConversationIdNoSubsription(e){var t;return null===(t=this.getActiveConversationState())||void 0===t?void 0:t.conversationId}getActiveConversationId(e){var t;return null===(t=this.getActiveConversationState())||void 0===t?void 0:t.conversationId}getActiveCallConversationId(){return this.getActiveCallConversationIdNoSubscription()}getActiveCallConversationIdNoSubscription(){if(this._usingStackNavContext)if(this._navigation){const e=this._navigation.getCurrentRoute();if(e&&e.name===m.CallNavigationId)return e.params.initialConversationMri}else{const e=s.last(this._stackNavContext(b.StackNavigatorId.Mobile).getNavStack());if(e instanceof m.CallNavigationContext)return e.state.initialConversationMri}else{const e=this._getCurrentStackNavigationContextNoSubscription(_.mainContentNavigatorId,!1).getNavStack(),t=s.last(e);if(t instanceof m.CallNavigationContext)return t.state.initialConversationMri}}getActiveConversationState(){var e,t;if(!this._usingStackNavContext)return null===(t=this._getCompositeConversationContext())||void 0===t?void 0:t.state;if(!this._navigation)return null===(e=this._getStackConversationContext(this._stackNavContext(b.StackNavigatorId.Mobile)))||void 0===e?void 0:e.state;{const e=this._navigation.getCurrentRoute();if(e&&e.name===m.MobileContentPanelId)return null==e?void 0:e.params}}wrapWithTrackingForRejoinCallOperation(e){return++this._numberOfTrackedRejoinCallOperations,1===this._numberOfTrackedRejoinCallOperations&&this.trigger(g.TriggerKeys.RejoinCallOperation),e.finally((()=>{--this._numberOfTrackedRejoinCallOperations,0===this._numberOfTrackedRejoinCallOperations&&this.trigger(g.TriggerKeys.RejoinCallOperation)}))}isTrackingRejoinCallOperation(){return this._numberOfTrackedRejoinCallOperations>0}isContactPanelVisible(){const e=this.getCurrentStackNavigationContext(b.StackNavigatorId.DesktopContent,!1);if(e instanceof m.RootCompositeSplitViewContext){const t=e.getLeftNavigationContext();if(t)return t.state.viewMode===m.LeftNavViewMode.Contacts}return!1}getActiveTodayTabFeedType(){const e=this.getCurrentStackNavigationContext(_.mainContentNavigatorId,!1).getNavStack(),t=null==e?void 0:e[0];if(t instanceof m.TodayTabNavigationContext)return t.state.feedType}getActiveContentChannelsPreviewId(){var e;const t=this.getCurrentStackNavigationContext(_.mainContentNavigatorId,!1).getNavStack();return null===(e=(null==t?void 0:t[0]).state)||void 0===e?void 0:e.channelId}getActiveTodayTabFeedTypeNoSubscription(){const e=this.getCurrentStackNavigationContext(_.mainContentNavigatorId,!1).getNavStack(),t=null==e?void 0:e[0];if(t instanceof m.TodayTabNavigationContext)return t.state.feedType}getInterestPageAvailability(){const e=this.getCurrentStackNavigationContext(_.mainContentNavigatorId,!1).getNavStack(),t=null==e?void 0:e[0];if(t instanceof m.TodayTabNavigationContext)return t.state.interestPageEnabled}_leftNavViewMode(){const e=_.mainContentNavigatorId;C.log(f.LogTraceArea.Navigation,"NavigationStateStore._leftNavViewMode navigator: "+o.pii.Omit(e));const t=this._stackNavContext(e);if(t instanceof m.RootCompositeSplitViewContext){const e=t.getLeftNavigationContext();return e?e.state.viewMode:void 0}if(t.getMasterContext()instanceof m.ConversationInCallNavigationContext)return m.LeftNavViewMode.ConversationInCall}_shouldSkipNextCompositeNavigation(){const e=this.getCurrentStackNavigationContext(b.StackNavigatorId.DesktopContent,!1).getNavStack();return s.last(e)instanceof m.ForcedUpgradeContext}_convertCompositeNavContextToStackNavContextStack(){return C.log(f.LogTraceArea.Navigation,"NavigationStateStore._convertCompositeNavContextToStackNavContextStack"),r.Modal.dismissAll(),r.Popup.dismissAll(),_.convertCompositeNavContextToStackNavContextStack(this._stackNavContext(b.StackNavigatorId.DesktopContent))}_convertStackNavContextToCompositeSplitNavContext(){return C.log(f.LogTraceArea.Navigation,"NavigationStateStore._convertStackNavContextToCompositeSplitNavContext"),r.Modal.dismissAll(),r.Popup.dismissAll(),_.convertStackNavContextToCompositeSplitNavContext(this._stackNavContext(b.StackNavigatorId.Mobile))}_convertNavContext(){C.log(f.LogTraceArea.Navigation,"NavigationStateStore._convertNavContext, usingStackNavContext: "+this._usingStackNavContext),this._usingStackNavContext?(this._stackNavigationContexts[b.StackNavigatorId.Mobile]=this._convertCompositeNavContextToStackNavContextStack(),delete this._stackNavigationContexts[b.StackNavigatorId.DesktopContent],delete this._stackNavigationContexts[b.StackNavigatorId.DesktopSidebar]):(this._stackNavigationContexts[b.StackNavigatorId.DesktopContent]=this._convertStackNavContextToCompositeSplitNavContext(),this._stackNavigationContexts[b.StackNavigatorId.Mobile]=new m.SimpleSplitNavigationContext({})),this.trigger()}_stackNavContext(e){if(!this._stackNavigationContexts[e]){const t=p.default.newCauseId();C.log(f.LogTraceArea.Navigation,"NavigationActions._stackNavContext, creating new context, causeId: "+t),e===b.StackNavigatorId.DesktopContent?this._stackNavigationContexts[e]=_.createRootCompositeSplitViewContext(t):this._stackNavigationContexts[e]=new m.SimpleSplitNavigationContext({})}return this._stackNavigationContexts[e]}_getCompositeCallVisible(){return this._getCompositeCallVisibleWithNavigatorId(_.mainContentNavigatorId)}_getCompositeCallVisibleWithNavigatorId(e){const t=this.getCurrentStackNavigationContext(e,!1).getNavStack();return s.last(t)instanceof m.CallNavigationContext}_shouldDisplayRightNavigation(){const e=this.getCurrentStackNavigationContext(_.mainContentNavigatorId,!1).getNavStack(),t=s.last(e);return t instanceof m.CallNavigationContext||t instanceof m.DesktopContentPanelNavigationContext||t instanceof m.WelcomeScreenContext||t instanceof m.CallingDebugPanelNavigationContext||t instanceof m.TodayTabNavigationContext||t instanceof k.PreviewNavigationContext}_getStackConversationContext(e){const t=s.last(e.getNavStack());if(t instanceof m.MobileContentPanelNavigationContext)return t.getConversationContext()}_getCompositeConversationContext(){const e=this.getCurrentStackNavigationContext(_.mainContentNavigatorId,!1).getNavStack(),t=s.last(e);if(t instanceof m.DesktopContentPanelNavigationContext)return t.getConversationContext()}_getRightBarNavigationContext(){const e=this._stackNavContext(_.rightSideBarNavigatorId);return s.last(e.getNavStack())}};n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"isSplitNavStackCollapsed",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"isDesktopSplitNavStackCollapsed",null),n.__decorate([l.disableWarnings],I.prototype,"isDesktopSplitNavStackCollapsedNoSubscription",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"getCurrentNavigationStackRoute",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"getCurrentNavigationStack",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"getNavigationStackSize",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"isOnTopOfNavigationStack",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"getCurrentNavigationBackStack",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"getCurrentStackNavigationContext",null),n.__decorate([(0,l.autoSubscribeWithKey)([g.TriggerKeys.ModalNavigation,g.TriggerKeys.NavigationAndTabs])],I.prototype,"getCurrentModalStackNavigationContext",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.DesktopSidebar)],I.prototype,"getCurrentSidebarStackNavigationContext",null),n.__decorate([l.disableWarnings],I.prototype,"getCurrentStackNavigationContextNoSubscription",null),n.__decorate([l.disableWarnings],I.prototype,"_getCurrentStackNavigationContextNoSubscription",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"isConversationOnTopOfNavStack",null),n.__decorate([l.disableWarnings],I.prototype,"isHubOnTopOfNavStackNoSubscription",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.HubTab)],I.prototype,"getCurrentHubTab",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"getCompositeMainStageNavViewMode",null),n.__decorate([l.disableWarnings],I.prototype,"getCompositeMainStageNavViewModeNoSubscription",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"getCompositeCallVisible",null),n.__decorate([l.disableWarnings],I.prototype,"getCompositeCallVisibleNoSubscription",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"shouldDisplayRightNavigation",null),n.__decorate([l.disableWarnings],I.prototype,"shouldDisplayRightNavigationNoSubscription",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.DesktopSidebar)],I.prototype,"isFindPanelShowing",null),n.__decorate([l.disableWarnings],I.prototype,"isInAppBrowserShowingNoSubscription",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.DesktopSidebar)],I.prototype,"isGalleryShowing",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.DesktopSidebar)],I.prototype,"isSubtitlesShowing",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.DesktopSidebar)],I.prototype,"isRightSideBarShowing",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"isSearchShowing",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"isCallChatShowing",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"isLeftPanelShowing",null),n.__decorate([l.disableWarnings],I.prototype,"isUsingStackReactNavigationNoSubscription",null),n.__decorate([l.disableWarnings],I.prototype,"dangerouslyGetActiveConversationContextOrigin",null),n.__decorate([l.disableWarnings],I.prototype,"getActiveContextConversationIdNoSubsription",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"getActiveConversationId",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"getActiveCallConversationId",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.RejoinCallOperation)],I.prototype,"isTrackingRejoinCallOperation",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"getActiveTodayTabFeedType",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"getActiveContentChannelsPreviewId",null),n.__decorate([l.disableWarnings],I.prototype,"getActiveTodayTabFeedTypeNoSubscription",null),n.__decorate([(0,l.autoSubscribeWithKey)(g.TriggerKeys.NavigationAndTabs)],I.prototype,"getInterestPageAvailability",null),I=n.__decorate([l.AutoSubscribeStore],I);const w=new I;t.default=w},932226:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionStatus=void 0;const n=i(570655),o=(i(516778),i(217041)),s=i(397691),a=(i(300060),i(422801)),r=i(890239),l=i(746096),c=i(436237),d=i(17791),u=i(422538),g=i(912770),h=i(449682),p=i(889391);var S;!function(e){e[e.DisconnectedNoNetworkingReported=1]="DisconnectedNoNetworkingReported",e[e.DisconnectedButNetworkingPossible=2]="DisconnectedButNetworkingPossible",e[e.Connected=3]="Connected",e[e.PossibleCaptivePortal=4]="PossibleCaptivePortal"}(S=t.ConnectionStatus||(t.ConnectionStatus={}));let m=class extends o.StoreBase{constructor(){super(),this._actualStatus=S.DisconnectedButNetworkingPossible,this._reportedStatus=S.Connected,this._appActive=!1,u.RegisterStartupable(this,"NetworkConnectionStore",[d.default,h.default])}startup(){return d.default.subscribe((()=>{this._recalc()})),a.default.subscriptionStateChanged.subscribe((()=>{u.HasStarted(this)&&this._recalc()})),h.default.trouterChanged.subscribe((()=>{u.HasStarted(this)&&this._recalc()})),this._appActive=!0,this._recalc(),s.Resolved()}getConnectionStatus(){return this.getConnectionStatusNoSubsription()}getConnectionStatusNoSubsription(){return this._reportedStatus}isConnected(){return this._reportedStatus===S.Connected}_getChatServiceConnectionStatus(){const e=a.default.getSubscriptionState(),t=a.default.getLongPollResult();c.log(l.LogTraceArea.NetworkConnectionStore,"Chat Service subscription state: "+r.SubscriptionState[e]+"; Long poll result: "+r.LongPollResult[t]);const i=e===r.SubscriptionState.CreatedActive,n=t===r.LongPollResult.FailureErrorCode||d.default.isNetworkConnected();return this._getConnectionStatus(i,n)}_getTrouterConnectionStatus(){const e=h.default.isConnected(),t=d.default.isNetworkConnected();return c.log(l.LogTraceArea.NetworkConnectionStore,`Is trouter connected: ${e}, is network connected: ${t}`),this._getConnectionStatus(e,t)}_getConnectionStatus(e,t){return e?S.Connected:t?d.default.getPassedConnectivityCheck()?S.DisconnectedButNetworkingPossible:S.PossibleCaptivePortal:S.DisconnectedNoNetworkingReported}_recalc(){const e=p.default.getS4LMessagingFeaturesNoSubscription().ued.isExclusive,t=e?this._getTrouterConnectionStatus():this._getChatServiceConnectionStatus();c.log(l.LogTraceArea.NetworkConnectionStore,`Connection status: ${S[t]}, isUedExclusive: ${e}`),t===S.Connected&&(d.default.getPassedConnectivityCheck()||d.default.forcePassedConnectivityCheck()),t!==this._actualStatus&&(c.log(l.LogTraceArea.NetworkConnectionStore,`Status changed from ${S[this._actualStatus]} to ${S[t]}`),this._actualStatus=t,this._cancelDebounceCatchup(),this._appActive?this._checkCatchup():c.log(l.LogTraceArea.NetworkConnectionStore,"The app is not active, we do not need to report the status change"))}_checkCatchup(){this._reportedStatus===S.Connected&&this._actualStatus===S.DisconnectedButNetworkingPossible?this._debounceCatchup(5e3):this._reportedStatus===S.DisconnectedButNetworkingPossible&&this._actualStatus===S.Connected||this._actualStatus===S.DisconnectedNoNetworkingReported?this._debounceCatchup(1e3):this._catchUp()}_cancelDebounceCatchup(){this._disconnectedDebounceTimer&&(g.default.clearTimeout(this._disconnectedDebounceTimer),this._disconnectedDebounceTimer=void 0,c.log(l.LogTraceArea.NetworkConnectionStore,"_cancelDebounceCatchup"))}_debounceCatchup(e){this._cancelDebounceCatchup(),c.log(l.LogTraceArea.NetworkConnectionStore,"_debounceCatchup Scheduled: Last Status = "+S[this._reportedStatus]+", New status = "+S[this._actualStatus]),this._disconnectedDebounceTimer=g.default.setTimeout((()=>{this._disconnectedDebounceTimer=void 0,c.log(l.LogTraceArea.NetworkConnectionStore,"_debounceCatchup Fulfilled: Last Status = "+S[this._reportedStatus]+", New Status = "+S[this._actualStatus]),this._catchUp()}),e)}_catchUp(){this._reportedStatus!==this._actualStatus&&(this._reportedStatus=this._actualStatus,this._actualStatus===S.DisconnectedButNetworkingPossible&&d.default.getPassedConnectivityCheck()&&d.default.runConnectivityCheck(),this.trigger(),c.log(l.LogTraceArea.NetworkConnectionStore,"Catching up and setting state to "+S[this._actualStatus]))}test_reset(){this._cancelDebounceCatchup(),this._actualStatus=S.DisconnectedButNetworkingPossible,this._reportedStatus=S.Connected}};n.__decorate([o.autoSubscribe],m.prototype,"getConnectionStatus",null),n.__decorate([o.disableWarnings],m.prototype,"getConnectionStatusNoSubsription",null),n.__decorate([o.autoSubscribe],m.prototype,"isConnected",null),m=n.__decorate([o.AutoSubscribeStore],m),t.default=new m},306819:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(174958),s=i(583367),a=i(217041),r=i(148540),l=i(397691),c=i(889391),d=i(746096),u=i(436237),g=i(17791),h=i(422538),p=i(404057),S=i(640363);let m=class extends a.StoreBase{constructor(){super(),this._isStoreInitialized=!1,h.RegisterStartupable(this,"NetworkOperatorStore",[])}startup(){return g.default.subscribe((()=>{g.default.isNetworkingAvailable()&&(u.log(d.LogTraceArea.NetworkOperator,"ReportedConnectivityStore available, fetching codes"),this._getNetworkOperatorInfo())})),l.Resolved()}_getNetworkOperatorInfo(){return s.default.getMncMccCode().then((e=>{this._networkOperatorInfo=e,u.log(d.LogTraceArea.NetworkOperator,"MCC/MNC code: "+o.pii.Omit(JSON.stringify(e))),this.trigger()})).catch((e=>{u.warn(d.LogTraceArea.NetworkOperator,"MCC/MNC code is not available: "+p.default.errorAsString(e))})).finally((()=>{this._isStoreInitialized=!0}))}_getOperatorCode(){const e=this.getMccCode(),t=this.getMncCode();if(e&&t)return e+"-"+t}getMccCode(){const e=this._networkOperatorInfo;return e?e.mccCode:this._isStoreInitialized?void 0:S.default.getMccCode()}getMncCode(){const e=this._networkOperatorInfo;return e?e.mncCode:this._isStoreInitialized?void 0:S.default.getMncCode()}getCallConnectionType(){const e=c.default.getOEMConfig().zeroRating.mccMncList;if(!e||0===e.length)return u.log(d.LogTraceArea.NetworkOperator,"getCallConnectionType: MCC/MNC list is empty -> AllSupported"),r.ConnectionType.AllSupported;const t=this._getOperatorCode();return u.log(d.LogTraceArea.NetworkOperator,"getCallConnectionType: MCC/MNC code: "+(t?o.pii.Omit(t):"none")),t?e.indexOf(t)>=0?(u.log(d.LogTraceArea.NetworkOperator,"getCallConnectionType: MCC/MNC code: "+o.pii.Omit(t)+" in list -> NoDirectConnection"),r.ConnectionType.NoDirectConnection):(u.log(d.LogTraceArea.NetworkOperator,"getCallConnectionType: No conditions satisfied -> AllSupported"),r.ConnectionType.AllSupported):(u.log(d.LogTraceArea.NetworkOperator,"getCallConnectionType: Cannot fetch MCC/MNC code -> AllSupported"),r.ConnectionType.AllSupported)}};n.__decorate([a.autoSubscribe],m.prototype,"getMccCode",null),n.__decorate([a.autoSubscribe],m.prototype,"getMncCode",null),n.__decorate([a.autoSubscribe],m.prototype,"getCallConnectionType",null),m=n.__decorate([a.AutoSubscribeStore],m),t.default=new m},833348:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(496486),s=i(217041);let a=class extends s.StoreBase{constructor(){super(...arguments),this._lastPendingAnimationHandle=1,this._pendingAnimations=[]}isAnimationPending(){return this._pendingAnimations.length>0}createPendingAnimation(){const e=this._lastPendingAnimationHandle++,t={handle:e,startTime:Date.now()};this._pendingAnimations.push(t),1===this._pendingAnimations.length&&(s.StoreBase.pushTriggerBlock(),this.trigger());o.head(this._pendingAnimations);return e}clearPendingAnimation(e){this._pendingAnimations=o.filter(this._pendingAnimations,(t=>t.handle!==e)),0===this._pendingAnimations.length&&(s.StoreBase.popTriggerBlock(),this.trigger())}};n.__decorate([s.autoSubscribe],a.prototype,"isAnimationPending",null),a=n.__decorate([s.AutoSubscribeStore],a),t.default=new a},581736:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerKeys=void 0;const n=i(570655),o=i(496486),s=i(823113),a=i(516778),r=i(217041),l=i(397691),c=i(300060),d=i(889391),u=i(746096),g=i(436237),h=i(733754),p=i(178735),S=i(670812),m=i(422538),C=i(404057),y=i(640363),f=i(478262),b=i(853374);t.TriggerKeys={NotificationsPrompt:"NotificationsPrompt"};let _=class extends r.StoreBase{constructor(){super(),this._shouldShowLimitedPhotosPrompt=!0,this._systemPermissionStatus={},this._prePermissionStatus={},m.RegisterStartupable(this,"PermissionsStore",[p.default])}startup(){const e=p.default.getUserPreferencesLocal();this._updatePrePermissionStatus(e.cameraPrePromptStatus,f.PermissionType.Camera,!1),this._updatePrePermissionStatus(e.cameraRollPrePromptStatus,f.PermissionType.CameraRoll,!1),this._updatePrePermissionStatus(e.writeCameraRollPrePromptStatus,f.PermissionType.WriteCameraRoll,!1),this._updatePrePermissionStatus(e.microphonePrePromptStatus,f.PermissionType.Microphone,!1),this._updatePrePermissionStatus(e.contactsPrePromptStatus,f.PermissionType.Contacts,!1),this._updatePrePermissionStatus(e.notificationsPrePromptStatus,f.PermissionType.Notifications,!1),this._updatePrePermissionStatus(e.locationPrePromptStatus,f.PermissionType.Location,!1),this._updatePrePermissionStatus(e.locationAlwaysPrePromptStatus,f.PermissionType.LocationAlways,!1),this._updatePrePermissionStatus(e.readPhoneStatePrePromptStatus,f.PermissionType.ReadPhoneState,!1),this._updatePrePermissionStatus(e.drawOverPermissionPrePromptStatus,f.PermissionType.DrawOver,!1),this._updatePrePermissionStatus(e.calendarPrePromptPermissionPrePromptStatus,f.PermissionType.Calendar,!1),this._updatePrePermissionStatus(e.screenRecordingPrePromptStatus,f.PermissionType.ScreenRecording,!1);const t=s.default.notificationsPermissionStatus().then((e=>{const t=(s.PermissionStatus.Denied,e);this._updateAndTriggerPermissionStatusForType(f.PermissionType.Notifications,t)})).then(o.noop);if(this._checkSystemPermissionStatus(),this._activationSubToken=c.default.subscribeForChanges("PermissionsStore",(e=>{e===a.Types.AppActivationState.Active&&this._checkSystemPermissionStatus()})),this._shouldShowNotificationsPrompt=true,this._shouldShowNotificationsPrompt){const t=e.promptClosedForVersion;if(t){const e=C.default.parseVersion(t),i=C.default.parseVersion(y.default.getAppVersion());i&&e&&i.major===e.major&&i.minor<=e.minor&&(this._shouldShowNotificationsPrompt=!1)}}return t}destroy(){this._activationSubToken&&(this._activationSubToken.unsubscribe(),this._activationSubToken=void 0)}isNotificationsPromptDismissed(){return!this._shouldShowNotificationsPrompt}shouldShowNotificationsPrompt(){return this._shouldShowNotificationsPrompt&&this.permissionStatus(f.PermissionType.Notifications)!==s.PermissionStatus.Granted}closeNotificationsPrompt(){this._shouldShowNotificationsPrompt=!1,this.trigger(t.TriggerKeys.NotificationsPrompt),p.default.setUserPreferencesLocal({promptClosedForVersion:y.default.getAppVersion()})}closeLimitedPhotoSelectionPrompt(){this._shouldShowLimitedPhotosPrompt=!1}shouldShowLimitedPhotoSelectionPrompt(){return this._shouldShowLimitedPhotosPrompt&&this._systemPermissionStatus[f.PermissionType.CameraRoll]===s.PermissionStatus.Limited}systemPromptHasNotBeenDisplayed(e){return this.permissionStatus(e)===s.PermissionStatus.Unknown}permissionStatus(e){return e===f.PermissionType.CameraRoll&&this._systemPermissionStatus[e]===s.PermissionStatus.Limited?s.PermissionStatus.Granted:this._systemPermissionStatus[e]||s.PermissionStatus.Unknown}getPermissionStatusFetchIfUnavailable(e,t){const i=this._systemPermissionStatus[e];return(o.isUndefined(i)||i===s.PermissionStatus.Unknown||t)&&(e===f.PermissionType.MicrophoneAndCamera?s.default.microphoneAndCameraPermissionStatus().then((t=>(this.setPermissionStatus(e,t),l.Resolved(t)))):e===f.PermissionType.Microphone?s.default.microphonePermissionStatus().then((t=>(this.setPermissionStatus(e,t),l.Resolved(t)))):e===f.PermissionType.Camera&&s.default.cameraPermissionStatus().then((t=>(this.setPermissionStatus(e,t),l.Resolved(t))))),l.Resolved(this.permissionStatus(e))}requestPermission(e,t,i){const n=`requestPermission - ${f.PermissionType[e]}`,o=this._systemPermissionStatus[e]||s.PermissionStatus.Unknown;if(!(t&&!!(t&f.PermissionPromptOptions.DontPrompt))){const a=this._prePermissionStatus[e]||s.PermissionStatus.Unknown;t&&f.PermissionPromptOptions.PromptAgainIfDenied;{const r=!!(t&&t&f.PermissionPromptOptions.SkipAugmentedWebPanel),l=!!(t&&t&f.PermissionPromptOptions.SkipPrePrompt)&&o!==s.PermissionStatus.Denied;return g.log(u.LogTraceArea.Permissions,`${n}: shouldNotPrePrompt: ${l}, preStatus: ${s.PermissionStatus[a]}, systemStatus: ${s.PermissionStatus[o]}`),this._intPromptForPermissionType(e,!l,r).then((t=>(this.setPermissionStatus(e,t.systemPermissionStatus,t.prePermissionStatus,i),t.systemPermissionStatus)))}}return g.log(u.LogTraceArea.Permissions,`${n}: dontPrompt`),l.Resolved(o)}setPermissionStatus(e,t,i,n){let o=!1;const a=[e];if(g.log(u.LogTraceArea.Permissions,`setPermissionStatus - type: ${f.PermissionType[e]}, newStatus: ${s.PermissionStatus[t]}, prevStatus: ${s.PermissionStatus[this._systemPermissionStatus[e]]}, origin: ${n&&s.PermissionOrigin[n]||"undefined"}`),this._systemPermissionStatus[e]!==t){if(this._systemPermissionStatus[e]=t,e===f.PermissionType.MicrophoneAndCamera){let e=s.PermissionStatus.Denied,i=s.PermissionStatus.Denied;t===s.PermissionStatus.Granted?(e=s.PermissionStatus.Granted,i=s.PermissionStatus.Granted):t===s.PermissionStatus.MicGrantedAndCameraDenied?e=s.PermissionStatus.Granted:t===s.PermissionStatus.MicDeniedAndCameraGranted&&(i=s.PermissionStatus.Granted),this._systemPermissionStatus[f.PermissionType.Microphone]=e,this._systemPermissionStatus[f.PermissionType.Camera]=i,a.push(f.PermissionType.Microphone),a.push(f.PermissionType.Camera),g.track(new S.PermissionsStatusChange(f.PermissionType.Microphone,e,n)),g.track(new S.PermissionsStatusChange(f.PermissionType.Camera,i,n))}else g.track(new S.PermissionsStatusChange(e,t,n));o=!0}this._updatePrePermissionStatus(i||t,e)&&(o=!0),o&&this.trigger(a)}setPrePermissionStatus(e,t){this._updatePrePermissionStatus(t,e)}updateDrawOverPrePermissionStatus(e){this._updatePrePermissionStatus(e,f.PermissionType.DrawOver);const t=p.default.getUserPreferencesLocal().drawOverPermissionPromptDisplayCount||0;p.default.setUserPreferencesLocal({drawOverPermissionPromptDisplayCount:t+1,drawOverPermissionPromptLastDisplayDate:Date.now()})}updateScreenRecordingPrePermissionStatus(){return y.default.isElectronOsx()?s.default.requestScreenRecordingPermission().then((e=>(this._updateAndTriggerPermissionStatusForType(f.PermissionType.ScreenRecording,e),e))):l.Resolved(s.PermissionStatus.Granted)}showDrawOverPermissionPrompt(){const e=d.default.getS4LCMCFeatures().androidCallMonitorConfig.permissionPromptMaxDisplayCount,t=d.default.getS4LCMCFeatures().androidCallMonitorConfig.permissionPromptResetIntervalSeconds,i=p.default.getUserPreferencesLocal().drawOverPermissionPromptLastDisplayDate||0;let n=p.default.getUserPreferencesLocal().drawOverPermissionPromptDisplayCount||0;return t>0&&Date.now()>i+1e3*t&&(g.log(u.LogTraceArea.Permissions,"Reseting drawOverPermissionPromptDisplayCount to 0"),n=0,p.default.setUserPreferencesLocal({drawOverPermissionPromptDisplayCount:n})),this._systemPermissionStatus[f.PermissionType.DrawOver]!==s.PermissionStatus.Granted&&n<e}_checkSystemPermissionStatus(){s.default.cameraRollPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(f.PermissionType.CameraRoll,e)})),s.default.writeCameraRollPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(f.PermissionType.WriteCameraRoll,e)})),s.default.contactsPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(f.PermissionType.Contacts,e)})),s.default.locationPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(f.PermissionType.Location,e)})),s.default.locationAlwaysPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(f.PermissionType.LocationAlways,e)})),s.default.drawOverPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(f.PermissionType.DrawOver,e,!1)})),s.default.readPhoneStatePermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(f.PermissionType.ReadPhoneState,e)})),s.default.backgroundExecutionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(f.PermissionType.BackgroundExecution,e)})),s.default.calendarPermissionStatus().then((e=>{this._updateAndTriggerPermissionStatusForType(f.PermissionType.Calendar,e)}))}_updateAndTriggerPermissionStatusForType(e,t,i=!0){this._systemPermissionStatus[e]!==t&&(this._systemPermissionStatus[e]=t,t===s.PermissionStatus.Granted&&this._prePermissionStatus[e]!==s.PermissionStatus.Granted&&i&&this._updatePrePermissionStatus(s.PermissionStatus.Granted,e),this.trigger(e))}_intPromptForPermissionType(e,t,i){return(t?this._inducePrePromptForType(e):l.Resolved(s.PermissionStatus.Granted)).then((t=>t===s.PermissionStatus.Denied?{prePermissionStatus:t,systemPermissionStatus:s.PermissionStatus.Unknown}:this._induceSystemPromptForType(e,i).then((e=>({prePermissionStatus:t,systemPermissionStatus:e})))))}_inducePrePromptForType(e){let t,i;switch(g.log(u.LogTraceArea.Permissions,"PermissionsStore._inducePrePromptForType "+e),e){case f.PermissionType.Camera:t=h.getString("CapturePermissions.PermissionCamera"),i=h.getString("CapturePermissions.PermissionCameraPrePrompt");break;case f.PermissionType.CameraRoll:case f.PermissionType.WriteCameraRoll:t=h.getString("CapturePermissions.PermissionCameraRoll"),i=h.getString("CapturePermissions.PermissionCameraRollPrePrompt");break;case f.PermissionType.Microphone:t=h.getString("CapturePermissions.PermissionMicrophone"),i=h.getString("CapturePermissions.PermissionMicrophonePrePrompt");break;case f.PermissionType.Contacts:t=h.getString("CapturePermissions.PermissionContacts"),i=h.getString("CapturePermissions.PermissionContactsPrePrompt");break;case f.PermissionType.Notifications:t=h.getString("CapturePermissions.PermissionNotifications"),i=h.getString("CapturePermissions.PermissionNotificationsPrePrompt");break;case f.PermissionType.Location:case f.PermissionType.LocationAlways:t=h.getString("CapturePermissions.PermissionLocation"),i=h.getString("CapturePermissions.PermissionLocationPrePrompt");break;case f.PermissionType.Calendar:t=h.getString("CapturePermissions.PermissionCalendar"),i=h.getString("CapturePermissions.PermissionCalendarPrePrompt");break;case f.PermissionType.ReadPhoneState:t=h.getString("CapturePermissions.PermissionPhone"),i=h.getString("CapturePermissions.PermissionPhonePrePrompt")}return i?s.default.prePromptWithMessageAndTitle(i,t||""):(g.warn(u.LogTraceArea.Permissions,"PermissionsStore._inducePrePromptForType, no message found for "+e),l.Resolved(s.PermissionStatus.Granted))}_induceSystemPromptForType(e,t){let i="";if(e===f.PermissionType.MicrophoneAndCamera){i=`before prompting - Mic: ${s.PermissionStatus[this._systemPermissionStatus[f.PermissionType.Microphone]]||"Unknown"}, Cam: ${s.PermissionStatus[this._systemPermissionStatus[f.PermissionType.Microphone]]||"Unknown"}`}g.log(u.LogTraceArea.Permissions,`_induceSystemPromptForType - ${f.PermissionType[e]}, ${i}`);const n=!!p.default.getUserPreferencesLocal().wasInstructedAboutMicrophoneWebPermissions,o=!!p.default.getUserPreferencesLocal().wasInstructedAboutCameraWebPermissions,a=e=>t?s.SkipAugmentedWebPanelConfig.All:e&&!s.default.supportsGetPermissionState()?s.SkipAugmentedWebPanelConfig.InitialOnly:void 0,r=e=>{g.log(u.LogTraceArea.Permissions,`_induceSystemPromptForType - SkipAugmentedWebPanelConfig: ${void 0!==e?s.SkipAugmentedWebPanelConfig[e]:"undefined"}`)};let c;switch(e){case f.PermissionType.Camera:return c=a(o),r(c),s.default.requestCameraPermission(c);case f.PermissionType.CameraRoll:return s.default.requestCameraRollPermission();case f.PermissionType.WriteCameraRoll:return s.default.requestWriteCameraRollPermission();case f.PermissionType.Microphone:return c=a(n),r(c),s.default.requestMicrophonePermission(c);case f.PermissionType.Contacts:return s.default.requestContactsPermission();case f.PermissionType.Location:return s.default.requestLocationPermission();case f.PermissionType.LocationAlways:return s.default.requestLocationAlwaysPermission();case f.PermissionType.ReadPhoneState:return s.default.requestReadPhoneStatePermission();case f.PermissionType.Calendar:return s.default.requestCalendarPermission();case f.PermissionType.Notifications:return l.Rejected("Notifications prompting is not supported yet.");case f.PermissionType.MicrophoneAndCamera:return c=a(n&&o),r(c),s.default.requestMicrophoneAndCameraPermission(c);case f.PermissionType.DrawOver:return l.Resolved(s.PermissionStatus.Unknown);case f.PermissionType.BackgroundExecution:const t=h.getString("BatterySavePrompt.PromptText");return s.default.requestBackgroundExecutionPermission(t);case f.PermissionType.ScreenRecording:return s.default.requestScreenRecordingPermission();default:return b.default.switchStatementExhaustiveChecking(e),l.Resolved(s.PermissionStatus.Unknown)}}_updatePrePermissionStatus(e,t,i=!0){if(this._prePermissionStatus[t]===e||!m.HasStarted(p.default))return!1;if(this._prePermissionStatus[t]=e,i)switch(t){case f.PermissionType.Camera:p.default.setUserPreferencesLocal({cameraPrePromptStatus:e});break;case f.PermissionType.CameraRoll:p.default.setUserPreferencesLocal({cameraRollPrePromptStatus:e});break;case f.PermissionType.WriteCameraRoll:p.default.setUserPreferencesLocal({writeCameraRollPrePromptStatus:e});break;case f.PermissionType.Microphone:p.default.setUserPreferencesLocal({microphonePrePromptStatus:e});break;case f.PermissionType.MicrophoneAndCamera:p.default.setUserPreferencesLocal({microphonePrePromptStatus:e}),p.default.setUserPreferencesLocal({cameraPrePromptStatus:e});break;case f.PermissionType.Contacts:p.default.setUserPreferencesLocal({contactsPrePromptStatus:e});break;case f.PermissionType.Notifications:p.default.setUserPreferencesLocal({notificationsPrePromptStatus:e});break;case f.PermissionType.Location:p.default.setUserPreferencesLocal({locationPrePromptStatus:e});break;case f.PermissionType.LocationAlways:p.default.setUserPreferencesLocal({locationAlwaysPrePromptStatus:e});break;case f.PermissionType.ReadPhoneState:p.default.setUserPreferencesLocal({readPhoneStatePrePromptStatus:e});break;case f.PermissionType.DrawOver:p.default.setUserPreferencesLocal({drawOverPermissionPrePromptStatus:e});break;case f.PermissionType.BackgroundExecution:p.default.setUserPreferencesLocal({backgroundExecutionPrePromptStatus:e});break;case f.PermissionType.Calendar:p.default.setUserPreferencesLocal({calendarPrePromptPermissionPrePromptStatus:e});break;case f.PermissionType.ScreenRecording:p.default.setUserPreferencesLocal({screenRecordingPrePromptStatus:e});break;default:b.default.switchStatementExhaustiveChecking(t)}return!0}};n.__decorate([(0,r.autoSubscribeWithKey)(t.TriggerKeys.NotificationsPrompt)],_.prototype,"isNotificationsPromptDismissed",null),n.__decorate([(0,r.autoSubscribeWithKey)([t.TriggerKeys.NotificationsPrompt,f.PermissionType.Notifications])],_.prototype,"shouldShowNotificationsPrompt",null),n.__decorate([r.autoSubscribe],_.prototype,"systemPromptHasNotBeenDisplayed",null),n.__decorate([r.autoSubscribe,n.__param(0,r.key)],_.prototype,"permissionStatus",null),n.__decorate([r.autoSubscribe,n.__param(0,r.key)],_.prototype,"getPermissionStatusFetchIfUnavailable",null),_=n.__decorate([r.AutoSubscribeStore],_),t.default=new _},882167:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(496486),s=i(516778),a=i(195121),r=i(217041),l=i(397691),c=i(889391),d=i(841190),u=i(562141),g=i(440276),h=i(775893),p=i(732183),S=i(746096),m=i(657347),C=i(436237),y=i(295527),f=i(914976),b=i(422538),_=i(404057),v=i(912770),T=i(626712),P=864e5,k=30*P;let A=class extends r.StoreBase{constructor(){super(),this._prefetchState={},this._ongoingRequests={},this._attemptedTokenRefresh={},this._dbPersistQueue=[],this._started=!1,this._debouncedFlushDbQueue=o.debounce((()=>{if(!this._started)return;if(this._dbPersistQueue.length<=0)return;const e=this._dbPersistQueue;this._dbPersistQueue=[],u.default.putImagePrefetchRecords(e)}),2e3),b.RegisterStartupable(this,"PrefetchedImagesStore")}startup(){return m.default.queueIdleTask("PrefetchedImagesStore",m.TaskTypeFlags.CpuIntensive,(()=>u.default.getAllImagePrefetchInfo().then((e=>{const t=Date.now(),i=o.partition(e,(e=>e.expiration>t));o.each(i[0],(e=>{e.state===h.ImagePrefetchState.Prefetched&&(this._prefetchState[e.url]=e)})),u.default.removeImagePrefetchInfo(o.map(i[1],(e=>e.url))),this._started=!0,this._debouncedFlushDbQueue()})))),l.Resolved()}isImagePrefetched(e,t=!0,i=!0){return this.getImagePrefetchState(e,t,i)===h.ImagePrefetchState.Prefetched}getImagePrefetchState(e,t=!0,i=!0){const n=this._prefetchState[e],s=n?n.state:h.ImagePrefetchState.None;if(s!==h.ImagePrefetchState.Prefetched){const i=this._stringifyState(s);C.log(S.LogTraceArea.PrefetchedImagesStore,`Image not prefetched, state: ${i}, trigger prefetch: ${t}, url: ${f.dev_unknownOmit(e)}`)}const r=c.default.getS4LMessagingFeaturesNoSubscription().nativeEmoticonCacheLoggingSampleRate,l=c.default.getS4LMessagingFeaturesNoSubscription().nativeEmoticonCacheTelemetrySampleRate,d=g.random(),u=r&&0===Math.floor(d*r),m=i&&l&&0===Math.floor(d*l);if(u||m){const t=s===h.ImagePrefetchState.Prefetched;a.default.isImageCached(e).then((i=>{if(u&&C.log(S.LogTraceArea.PrefetchedImagesStore,`Image present in native cache: ${i}, prefetched: ${t}, url: ${f.dev_unknownOmit(e)}`),m){const t=p.getBaseUrl(),n=t&&o.startsWith(e,t)?new y.QueryPrefetchedEmoticonImage(s,i,e):new y.QueryPrefetchedImage(s,i);C.track(n)}}))}return this._getImagePrefetchStateImpl(e,t)}_getImagePrefetchStateImpl(e,t){if(!this._prefetchState[e])return t&&this.prefetch(e),h.ImagePrefetchState.None;if(t){const t=this._prefetchState[e];if(Date.now()+k-t.expiration>P&&(t.expiration=Date.now()+k,this._dbPut(t)),t.state===h.ImagePrefetchState.Failed&&Date.now()-t.lastUpdate>3e5)return t.retryCount=0,this.prefetch(e),h.ImagePrefetchState.Prefetching}return this._prefetchState[e].state}_dbPut(e){o.remove(this._dbPersistQueue,(t=>t.url===e.url)),this._dbPersistQueue.push(e),this._debouncedFlushDbQueue()}_delayRetry(e){v.default.setTimeout((()=>{this.prefetch(e)}),1e3)}_stringifyState(e){return h.ImagePrefetchState[e]||e.toString()}_setRecordState(e,t){if(t!==e.state){const i=this._stringifyState(e.state),n=this._stringifyState(t);C.log(S.LogTraceArea.PrefetchedImagesStore,`Image prefetch state updated ${i}->${n}, url: ${f.dev_unknownOmit(e.url)}`),e.state=t}}prefetch(e){if(!T.default.isUrlValid(e))return C.warn(S.LogTraceArea.PrefetchedImagesStore,`${f.dev_unknownOmit(e)} is not a valid url`),l.Resolved(!1);if(this._ongoingRequests[e])return this._ongoingRequests[e];let t;return this._prefetchState[e]?(t=Object.assign({},this._prefetchState[e]),this._setRecordState(t,h.ImagePrefetchState.Prefetching),t.expiration=Date.now()+k):(t={url:e,state:h.ImagePrefetchState.None,retryCount:0,expiration:Date.now()+k},this._setRecordState(t,h.ImagePrefetchState.Prefetching),this._prefetchState[e]=t),this._dbPut(t),this._ongoingRequests[e]=s.Image.prefetch(e).then((()=>(this._setRecordState(t,h.ImagePrefetchState.Prefetched),t.lastUpdate=Date.now(),this._prefetchState[e]=t,this._dbPut(t),this.trigger(e),delete this._ongoingRequests[e],!0))).fail((i=>{this._prefetchState[e].retryCount<3?(this._setRecordState(t,h.ImagePrefetchState.Failed),++t.retryCount,t.lastUpdate=Date.now(),this._prefetchState[e]=t,this._dbPut(t),C.log(S.LogTraceArea.PrefetchedImagesStore,`Image failed (err: ${_.default.errorAsString(i)}) to load: ${f.dev_unknownOmit(e)}, nth try: ${this._prefetchState[e].retryCount}`),this._attemptedTokenRefresh[e]?(C.log(S.LogTraceArea.PrefetchedImagesStore,"Image already attempted to refresh the token before this error response.",f.dev_unknownOmit(e)),this._delayRetry(e)):(this._attemptedTokenRefresh[e]=!0,d.attemptTokenRefresh(e).always((()=>{this._delayRetry(e)})))):C.log(S.LogTraceArea.PrefetchedImagesStore,`Image failed to load: ${f.dev_unknownOmit(e)}`),this.trigger(e),delete this._ongoingRequests[e]})),this._ongoingRequests[e]}test_reset(){this._prefetchState={},this._ongoingRequests={},this._attemptedTokenRefresh={},this._dbPersistQueue=[],this._started=!1}};n.__decorate([r.autoSubscribe,n.__param(0,r.key)],A.prototype,"isImagePrefetched",null),n.__decorate([r.autoSubscribe,n.__param(0,r.key)],A.prototype,"getImagePrefetchState",null),A=n.__decorate([r.AutoSubscribeStore],A),t.default=new A},328377:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(496486),s=i(823113),a=i(217041),r=i(397691),l=i(562141),c=i(746096),d=i(172685),u=i(436237),g=i(998754),h=i(861253),p=i(178735),S=i(372816),m=i(169156),C=i(581736),y=i(393818),f=i(422538),b=i(478262),_="IncludeInSearch",v="SyncAddressBook",T="AvatarVisibility",P="PrivacyOptionsStore";let k=class extends a.StoreBase{constructor(){super(),this._needToFetchIncludeMeInSearchOption=!0,this._needToFetchAvatarPolicy=!0,this.SyncAddressBookPrivacySettingKey="SyncAddressBook",this._refreshOptions=()=>r.all([this._fetchAvatarPolicy(),this._fetchIncludeMeInSearchPrivacyOption()]).then(o.noop),f.RegisterStartupable(this,"PrivacyOptionsStore",[g.default,p.default,C.default])}startup(){const e=!!g.default.getData(l.InternalKeys.SyncAddressBookEnabled);this._syncAddressBookEnabled=e;const t=p.default.getUserPreferencesLocal();return t.forceAddressBookSyncNextStartup&&C.default.permissionStatus(b.PermissionType.Contacts)!==s.PermissionStatus.Granted&&p.default.setUserPreferencesLocal({forceAddressBookSyncNextStartup:!1}),this._includeMeInSearchEnabled=t.includeMeInSearchEnabled,this._searchPrivacyOptions=t.searchPrivacyOptions||{searchable:!1,recommendable:!1},this._avatarPolicy=t.avatarPolicy,d.default.setRefreshOptions(P,{interval:864e5,taskTypeFlags:d.TaskTypeFlags.UsesNetworking,callback:this._refreshOptions}),r.Resolved()}refreshNow(){f.EnsureStarted(this).then((()=>{d.default.fireEarly(P)}))}_fetchIncludeMeInSearchPrivacyOption(){return this._needToFetchIncludeMeInSearchOption=!1,S.default.getIncludeMeInSearchPrivacyOption().then((e=>{e.searchable===this._includeMeInSearchEnabled&&(0,h.default)(this._searchPrivacyOptions,e)||(p.default.setUserPreferencesLocal({includeMeInSearchEnabled:e.searchable,searchPrivacyOptions:e}),this._searchPrivacyOptions=e,this._includeMeInSearchEnabled=e.searchable,this.trigger(_))})).catch((e=>{this._needToFetchIncludeMeInSearchOption=!0}))}getIncludeMeInSearchPrivacyOption(e){return e||this._needToFetchIncludeMeInSearchOption?(this._fetchIncludeMeInSearchPrivacyOption(),this._searchPrivacyOptions):this._searchPrivacyOptions}setIncludeMeInSearchPrivacyOption(e){if((0,h.default)(this._searchPrivacyOptions,e))return;const{searchable:t,recommendable:i}=e;p.default.setUserPreferencesLocal({includeMeInSearchEnabled:t,searchPrivacyOptions:e}),this._includeMeInSearchEnabled=t,this._searchPrivacyOptions=e,this.trigger(_),S.default.setIncludeMeInSearchPrivacyOption(e).catch((e=>{u.log(c.LogTraceArea.GenericUnsafe,"Failed to set IncludeMeInSearch privacy option",e),this._searchPrivacyOptions={searchable:!t,recommendable:!i},this._includeMeInSearchEnabled=!t,this.trigger(_)}))}getSyncAddressBookPrivacySetting(){return C.default.permissionStatus(b.PermissionType.Contacts)===s.PermissionStatus.Granted&&this._syncAddressBookEnabled}setSyncAddressBookPrivacySetting(e){const t=this._syncAddressBookEnabled;this._syncAddressBookEnabled=e,g.default.putData(l.InternalKeys.SyncAddressBookEnabled,e),t!==e&&this.trigger(v)}_fetchAvatarPolicy(){return this._needToFetchAvatarPolicy=!1,S.default.getAvatarPolicy().then((e=>{this._avatarPolicy!==e&&(p.default.setUserPreferencesLocal({avatarPolicy:e}),this._avatarPolicy=e,this.trigger(T))})).catch((e=>{this._needToFetchAvatarPolicy=!0}))}getAvatarPolicy(e){return e||this._needToFetchAvatarPolicy?(this._fetchAvatarPolicy(),this._avatarPolicy):this._avatarPolicy}setAvatarPolicy(e,t){if(this._avatarPolicy===e)return;const i=this._avatarPolicy;this._avatarPolicy=e,this.trigger(T),S.default.setAvatarPolicy(e).then((i=>{p.default.setUserPreferencesLocal({avatarPolicy:e}),u.track(new y.AvatarPolicyChanged(e,t,!0))})).catch((n=>{u.track(new y.AvatarPolicyChanged(e,t,!1,n.statusCode)),u.log(c.LogTraceArea.GenericUnsafe,"Failed to set AvatarPolicy privacy option",n),this._avatarPolicy=i,this.trigger(T)}))}test_reset(){this._avatarPolicy=m.OptionsServiceAvatarPolicyValueType.BUDDIES_OR_AUTHORIZED_CAN_SEE,this._needToFetchAvatarPolicy=!0,this._includeMeInSearchEnabled=!1,this._needToFetchIncludeMeInSearchOption=!0}};n.__decorate([(0,a.autoSubscribeWithKey)(_)],k.prototype,"getIncludeMeInSearchPrivacyOption",null),n.__decorate([(0,a.autoSubscribeWithKey)(v)],k.prototype,"getSyncAddressBookPrivacySetting",null),n.__decorate([(0,a.autoSubscribeWithKey)(T)],k.prototype,"getAvatarPolicy",null),k=n.__decorate([a.AutoSubscribeStore],k),t.default=new k},219316:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(217041),s=i(397691),a=i(422538);let r=class extends o.StoreBase{constructor(){super(),this._reportProblemStatus={},a.RegisterStartupable(this,"ReportProblemStore")}startup(){return s.Resolved()}getReportProblemStore(){return this._reportProblemStatus}setReportProblemStatus(e,t,i){this._reportProblemStatus={screenshotUri:e,vsoTags:t,reportId:i}}};n.__decorate([o.autoSubscribe],r.prototype,"getReportProblemStore",null),r=n.__decorate([o.AutoSubscribeStore],r),t.default=new r},17791:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(174958),s=i(881147),a=i(516778),r=i(217041),l=i(974634),c=i(397691),d=i(889391),u=i(746096),g=i(657347),h=i(436237),p=i(476192),S=i(422538),m=i(500349),C=i(327795),y={[a.Types.DeviceNetworkType.Unknown]:!0,[a.Types.DeviceNetworkType.Wifi]:!0};let f=class extends r.StoreBase{constructor(){super(),this.connectivityChangedEvent=new l.default,this._reportedConnected=!0,this._reportedNetworkType=a.Types.DeviceNetworkType.Unknown,this._passedConnectivityCheck=!0,this._connectivityCheckInProgress=!1,this._canBypassNetworkAvailability=!1,S.RegisterStartupable(this,"ReportedConnectivityStore")}startup(){let e=!1;return a.Network.connectivityChangedEvent.subscribe((t=>{e=!0,this._passedConnectivityCheck=!0,this._connectivityCheckInProgress=!1,this._fetchNetworkType(),this._reportedConnectivityChanged(t)})),this._fetchNetworkType(),a.Network.isConnected().then((t=>{e||(e=!0,this._reportedConnectivityChanged(t),t&&this._performConnectivityCheck(),g.default.updateAppState({networkingAvailable:this.isNetworkingAvailable()}))})),this.subscribe((()=>{g.default.updateAppState({networkingAvailable:this.isNetworkingAvailable()})})),c.Resolved()}isNetworkConnected(){return this._reportedConnected||this._canBypassNetworkAvailability}isNetworkingAvailable(){return this.isNetworkConnected()&&this._passedConnectivityCheck}isNetworkingAvailableNoSubscription(){return(this._reportedConnected||this._canBypassNetworkAvailability)&&this._passedConnectivityCheck}getNetworkType(){return this._reportedNetworkType}getPassedConnectivityCheck(){return this._passedConnectivityCheck}runConnectivityCheck(){this._performConnectivityCheck()}forcePassedConnectivityCheck(){this._connectivityCheckInProgress=!1,this._passedConnectivityCheck||(this._passedConnectivityCheck=!0,this.trigger())}_performConnectivityCheck(){if(this._connectivityCheckInProgress)return void h.log(u.LogTraceArea.ReportedConnectivityStore,"Captive portal check already in progress");if(!s.default.isDetectionSupported())return void h.log(u.LogTraceArea.ReportedConnectivityStore,"Captive portal check not supported");let e;this._connectivityCheckInProgress=!0,void 0!==this._fetchNetworkDefer?(h.log(u.LogTraceArea.ReportedConnectivityStore,"Captive portal waiting for network type"),e=this._fetchNetworkDefer.promise()):e=c.Resolved(this._reportedNetworkType),e.then((e=>{if(!y[e])return h.log(u.LogTraceArea.ReportedConnectivityStore,"Network does not support captive portal"),void this.forcePassedConnectivityCheck();const t=d.default.getConfigSettingsNoSubscription().captivePortalDetection;if(!t.enabled)return void this.forcePassedConnectivityCheck();h.log(u.LogTraceArea.ReportedConnectivityStore,"Performing connectivity/captive portal check with fetch");s.default.getClient(t).checkConnectivity().then((e=>{if(!this._connectivityCheckInProgress)return;h.log(u.LogTraceArea.ReportedConnectivityStore,"Captive portal check finished; connected: "+(e.connected?"Yes":"No")+"; Status code: "+e.statusCode+"; Response length: "+e.responseLength);const t=this._reportedConnected,i=this._passedConnectivityCheck;this._passedConnectivityCheck!==e.connected&&(this._passedConnectivityCheck=e.connected,e.connected&&!this._reportedConnected?this._reportedConnectivityChanged(!0):this.trigger());const n=new p.CaptivePortalCheckEvent(e.connected,t,i);h.track(n)})).catch((e=>{if(!this._connectivityCheckInProgress)return;h.log(u.LogTraceArea.ReportedConnectivityStore,"Captive portal check failed, defaulting to success",o.pii.Omit(e));const t=this._reportedConnected,i=this._passedConnectivityCheck;this.forcePassedConnectivityCheck();const n=new p.CaptivePortalCheckFailureEvent(t,i,e&&e.statusText,!(!e||!e.timedOut));h.track(n);const s=new C.DevDebug("CaptivePortalCheck",o.pii.Omit(e).toString());h.track(s)})).finally((()=>{this._connectivityCheckInProgress=!1}))})).catch((e=>{h.error(u.LogTraceArea.ReportedConnectivityStore,"Captive portal waited for network type, got error"),this._connectivityCheckInProgress=!1}))}_reportedConnectivityChanged(e){this._reportedConnected!==e&&(h.log(u.LogTraceArea.ReportedConnectivityStore,"connectivity has changed: Connected = "+e),e&&this._performConnectivityCheck(),this._reportedConnected=e,this.connectivityChangedEvent.fire(this._reportedConnected),this.trigger())}_fetchNetworkType(){const e=Date.now();this._fetchNetworkLastStartedAt=e,void 0===this._fetchNetworkDefer&&(this._fetchNetworkDefer=c.Defer()),c.all([a.Network.getType(),s.default.canBypassNetworkAvailability()]).then((([e,t])=>{this._reportedNetworkType=e,this._canBypassNetworkAvailability=t,m.setReportedNetworkType(e),h.log(u.LogTraceArea.ReportedConnectivityStore," _fetchNetworkType() type: "+a.Types.DeviceNetworkType[e])})).catch((()=>{h.log(u.LogTraceArea.ReportedConnectivityStore,"Failed to get Network type"),this._reportedNetworkType=a.Types.DeviceNetworkType.Unknown,m.setReportedNetworkType(a.Types.DeviceNetworkType.Unknown)})).finally((()=>{void 0!==this._fetchNetworkDefer&&e>=this._fetchNetworkLastStartedAt&&(this._fetchNetworkDefer.resolve(this._reportedNetworkType),this._fetchNetworkDefer=void 0)}))}test_reset(){this._reportedConnected=!0,this._reportedNetworkType=a.Types.DeviceNetworkType.Unknown,this._passedConnectivityCheck=!0,this._connectivityCheckInProgress=!1}};n.__decorate([r.autoSubscribe],f.prototype,"isNetworkConnected",null),n.__decorate([r.autoSubscribe],f.prototype,"isNetworkingAvailable",null),n.__decorate([r.autoSubscribe],f.prototype,"getNetworkType",null),n.__decorate([r.autoSubscribe],f.prototype,"getPassedConnectivityCheck",null),f=n.__decorate([r.AutoSubscribeStore],f),t.default=new f},29130:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceSize=t.TriggerKeys=void 0;const n=i(570655),o=i(496486),s=i(583367),a=i(809206),r=i(516778),l=i(217041),c=i(397691),d=i(300060),u=i(898278),g=i(746096),h=i(436237),p=i(672997),S=i(914976),m=i(422538),C=i(404057),y=i(640363),f=i(478262),b=i(853374);var _,v;!function(e){e[e.Orientation=0]="Orientation",e[e.ResponsiveWidth=1]="ResponsiveWidth",e[e.Width=2]="Width",e[e.Height=3]="Height",e[e.ContentSizeMultiplier=4]="ContentSizeMultiplier",e[e.SplitScreenIPad=5]="SplitScreenIPad"}(_=t.TriggerKeys||(t.TriggerKeys={})),function(e){e.Small="Small",e.Medium="Medium",e.Large="Large"}(v=t.DeviceSize||(t.DeviceSize={}));const T=320,P="splitScreenSubscriptionKey";let k=class extends l.StoreBase{constructor(){super(),this._rawWidth={[u.MainRootViewId]:0},this._rawHeight={[u.MainRootViewId]:0},this._responsiveWidth={[u.MainRootViewId]:f.ResponsiveWidth.Medium},this._deviceOrientation={[u.MainRootViewId]:s.DeviceOrientation.Landscape},this._contentSizeMultiplier=1,this._isSplitScreenIPad=!1,this._updateSplitScreen=e=>{this._isSplitScreenIPad!==e&&(h.log(g.LogTraceArea.ResponsiveWidthStore,"iPad split screen updated: "+e),this._isSplitScreenIPad=e,this.trigger(_.SplitScreenIPad))},m.RegisterStartupable(this,"ResponsiveWidthStore")}startup(){if(r.UserInterface.getContentSizeMultiplier().then((e=>{e&&(this._contentSizeMultiplier=e)})),r.UserInterface.contentSizeMultiplierChangedEvent.subscribe((e=>{e&&e!==this._contentSizeMultiplier&&(this._contentSizeMultiplier=e,this.trigger(_.ContentSizeMultiplier))})),y.default.getIOSModel()===g.IOSModel.iPad&&(s.default.isSplitScreen().then((e=>{h.log(g.LogTraceArea.ResponsiveWidthStore,"Split screen initial value: "+e),this._updateSplitScreen(e)})),s.default.addSplitScreenEventListener(P,this._updateSplitScreen)),!this._rawWidth[u.MainRootViewId]||!this._rawHeight[u.MainRootViewId]||y.default.getPlatformType()!==g.PlatformType.iOS){const{width:e,height:t}=r.UserInterface.measureWindow();this.putWindowSize(e,t,u.MainRootViewId)}return this._activationSubToken=d.default.subscribeForChanges("ResponsiveWidthStore",(e=>{if(e===r.Types.AppActivationState.Active){const e=b.default.newCauseId();h.log(g.LogTraceArea.ResponsiveWidthStore,"App state changed, causeId: "+e),this._checkDeviceOrientation(e)}})),c.Resolved()}putWindowSize(e,t,i){const n=[],o=b.default.newCauseId(),r=this._rawWidth[i]!==e;if(r){this._rawWidth[i]=e,h.log(g.LogTraceArea.ResponsiveWidthStore,"New width: "+e+" rootViewId: "+S.mriOrId(i)+" causeId: "+o),n.push((0,l.formCompoundKey)(i,_.Width));const t=p.default.responsiveWidthForSize(e);this._responsiveWidth[i]!==t&&(this._responsiveWidth[i]=t,h.log(g.LogTraceArea.ResponsiveWidthStore,"New Responsive Width: "+t+" rootViewId: "+S.mriOrId(i)+" causeId: "+o),n.push((0,l.formCompoundKey)(i,_.ResponsiveWidth)))}this._rawHeight[i]!==t&&(this._rawHeight[i]=t,h.log(g.LogTraceArea.ResponsiveWidthStore,"New height: "+t+" rootViewId: "+S.mriOrId(i)+" causeId: "+o),n.push((0,l.formCompoundKey)(i,_.Height)));const c=this.windowDimensionsNoSubscription(i);let d=c.width>c.height?s.DeviceOrientation.Landscape:s.DeviceOrientation.Portrait;a.default.isMobile()&&window.screen.orientation&&window.screen.width===window.outerWidth&&(d=window.screen.orientation.type.startsWith("portrait")?s.DeviceOrientation.Portrait:s.DeviceOrientation.Landscape),d!==this._deviceOrientation[i]&&(this._deviceOrientation[i]=d,h.log(g.LogTraceArea.ResponsiveWidthStore,"New orientation from width update: "+d+" window dimensions, w: "+c.width+" h: "+c.height+" rootViewId: "+S.mriOrId(i)+" causeId: "+o),n.push((0,l.formCompoundKey)(i,_.Orientation))),this.trigger(n),r&&y.default.getPlatformType()===g.PlatformType.Android&&this._checkDeviceOrientation(o)}destroy(){this._activationSubToken&&(this._activationSubToken.unsubscribe(),this._activationSubToken=void 0),s.default.removeSplitScreenEventListener(P)}getWidth(e){return this._rawWidth[e]||0}getWidthNoSubscription(e){return this._rawWidth[e]||0}getHeight(e){return this._rawHeight[e]||0}getHeightNoSubscription(e){return this._rawHeight[e]||0}getResponsiveWidth(e){return this._responsiveWidthForRootViewId(e)}isMobileScreenSize(e){return this._responsiveWidthForRootViewId(e)<=f.ResponsiveWidth.Tiny}getDeviceOrientation(e){return this._deviceOrientation[e]}isTinyScreenSizeNoSubscription(e){return this._responsiveWidthForRootViewId(e)<=f.ResponsiveWidth.Tiny}isSmallOrTinyScreenSize(e){return this._responsiveWidthForRootViewId(e)<=f.ResponsiveWidth.Small}isMinDesktopWidth(e){return this._responsiveWidthForRootViewId(e)<=f.ResponsiveWidth.MinDesktop}getContentSizeMultiplier(){return this._contentSizeMultiplier}isSmallDevice(e){return this.isSmallDeviceNoSubscription(e)}deviceSize(e){return this.isSmallDeviceNoSubscription(e)?v.Small:this.isMediumPhoneDeviceNoSubscription(e)?v.Medium:v.Large}isSplitScreenIPad(){return this._isSplitScreenIPad}isSmallDesktopHeightView(e){return this.isHeightSmallerThanThresholdNoSubscription(637,e)}isHeightSmallerThanThreshold(e,t){const i=this.getHeight(t);return i||h.log(g.LogTraceArea.ResponsiveWidthStore,"No window height dimension for rootViewId:"+S.mriOrId(t)),i<=e}isWidthSmallerThanThreshold(e,t){const i=this.getWidth(t);return i||h.log(g.LogTraceArea.ResponsiveWidthStore,"No window width dimension for rootViewId:"+S.mriOrId(t)),i<=e}isSplitScreenIPadNoSubscription(){return this._isSplitScreenIPad}isSmallDeviceNoSubscription(e){return this.isWidthSmallerThanThresholdNoSubscription(T,e)||this.isHeightSmallerThanThresholdNoSubscription(T,e)}isMediumPhoneDeviceNoSubscription(e){const t=this.windowDimensionsNoSubscription(e);return t.width&&t.height||h.log(g.LogTraceArea.ResponsiveWidthStore,"No window width or height dimension for rootViewId:"+S.mriOrId(e)),t.width>T&&t.width<=400||t.height>T&&t.height<=400}isHeightSmallerThanThresholdNoSubscription(e,t){const i=this.windowDimensionsNoSubscription(t);return i.height||h.log(g.LogTraceArea.ResponsiveWidthStore,"No window height dimension for rootViewId:"+S.mriOrId(t)),i.height<=e}isWidthSmallerThanThresholdNoSubscription(e,t){const i=this.windowDimensionsNoSubscription(t);return i.width||h.log(g.LogTraceArea.ResponsiveWidthStore,"No window width dimension for rootViewId:"+S.mriOrId(t)),i.width<=e}windowDimensionsNoSubscription(e){return e===u.MainRootViewId?r.UserInterface.measureWindow():r.UserInterface.measureWindow(e)}_checkDeviceOrientation(e){s.default.currentOrientation().then((t=>{h.log(g.LogTraceArea.ResponsiveWidthStore,`DeviceUtilities.currentOrientation: ${s.DeviceOrientation[t]}  causeId: ${e}`),t!==this._deviceOrientation[u.MainRootViewId]&&(this._deviceOrientation[u.MainRootViewId]=t,h.log(g.LogTraceArea.ResponsiveWidthStore,`New orientation from DeviceUtilities: ${s.DeviceOrientation[t]}  causeId: ${e}`),this.trigger(_.Orientation))})).catch((t=>{h.warn(g.LogTraceArea.ResponsiveWidthStore,`DeviceUtilities.currentOrientation failed: ${C.default.errorAsString(t)}  causeId: ${e}`)}))}_responsiveWidthForRootViewId(e){let t=this._responsiveWidth[e];return o.isUndefined(t)&&(t=f.ResponsiveWidth.Medium),t}};n.__decorate([(0,l.autoSubscribeWithKey)(_.Width),n.__param(0,l.key)],k.prototype,"getWidth",null),n.__decorate([l.disableWarnings],k.prototype,"getWidthNoSubscription",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.Height),n.__param(0,l.key)],k.prototype,"getHeight",null),n.__decorate([l.disableWarnings],k.prototype,"getHeightNoSubscription",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.ResponsiveWidth),n.__param(0,l.key)],k.prototype,"getResponsiveWidth",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.ResponsiveWidth),n.__param(0,l.key)],k.prototype,"isMobileScreenSize",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.Orientation),n.__param(0,l.key)],k.prototype,"getDeviceOrientation",null),n.__decorate([l.disableWarnings],k.prototype,"isTinyScreenSizeNoSubscription",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.ResponsiveWidth),n.__param(0,l.key)],k.prototype,"isSmallOrTinyScreenSize",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.ResponsiveWidth),n.__param(0,l.key)],k.prototype,"isMinDesktopWidth",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.ContentSizeMultiplier)],k.prototype,"getContentSizeMultiplier",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.Width),n.__param(0,l.key)],k.prototype,"isSmallDevice",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.Width),n.__param(0,l.key)],k.prototype,"deviceSize",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.SplitScreenIPad)],k.prototype,"isSplitScreenIPad",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.Height),n.__param(0,l.key)],k.prototype,"isSmallDesktopHeightView",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.Height),n.__param(1,l.key)],k.prototype,"isHeightSmallerThanThreshold",null),n.__decorate([(0,l.autoSubscribeWithKey)(_.Width),n.__param(1,l.key)],k.prototype,"isWidthSmallerThanThreshold",null),n.__decorate([l.disableWarnings],k.prototype,"isSplitScreenIPadNoSubscription",null),n.__decorate([l.disableWarnings],k.prototype,"isSmallDeviceNoSubscription",null),n.__decorate([l.disableWarnings],k.prototype,"isMediumPhoneDeviceNoSubscription",null),n.__decorate([l.disableWarnings],k.prototype,"isHeightSmallerThanThresholdNoSubscription",null),n.__decorate([l.disableWarnings],k.prototype,"isWidthSmallerThanThresholdNoSubscription",null),n.__decorate([l.disableWarnings],k.prototype,"windowDimensionsNoSubscription",null),k=n.__decorate([l.AutoSubscribeStore],k);const A=new k;t.default=A},451070:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(583367),s=i(516778),a=i(217041),r=i(397691),l=i(583367),c=(i(300060),i(898278)),d=i(746096),u=i(436237),g=(i(861253),i(330124)),h=i(29130),p=i(681115),S=i(422538),m=i(404057);var C;!function(e){e[e.StatusBarVisibility=0]="StatusBarVisibility",e[e.StatusBarHeight=1]="StatusBarHeight",e[e.SafeAreaInsets=2]="SafeAreaInsets"}(C||(C={}));let y=class extends a.StoreBase{constructor(){super(),S.RegisterStartupable(this,"SafeAreaStore",[h.default])}startup(){return this._setLeavePaddingForStatusBar(),h.default.subscribe((()=>{this._setLeavePaddingForStatusBar()}),h.TriggerKeys.Orientation),g.default.subscribe((()=>{this._setLeavePaddingForStatusBar()}),g.TriggerKeys.NavContextType),this._statusBarHeight=0,this._keepStatusBarVisible=this._shouldKeepStatusBarVisible(),r.Resolved()}_setLeavePaddingForStatusBar(){this._leavePaddingForStatusBar=s.StatusBar.isOverlay()&&!(h.default.getDeviceOrientation(c.MainRootViewId)===l.DeviceOrientation.Landscape&&g.default.isUsingStackNavigationContext()),this.trigger(C.StatusBarVisibility)}leavePaddingForStatusBar(){return this._leavePaddingForStatusBar}statusBarHeight(){return this._topInset()}statusBarPadding(){return this._leavePaddingForStatusBar?this._topInset():0}statusBarPaddingNoSubscription(){return this._leavePaddingForStatusBar?this._topInset():0}bottomSafeAreaInset(e){return this._safeAreaInsets?Math.max(0,this._safeAreaInsets.bottom-(e||0)):0}horizontalPaddingStyle(e){const t=this.horizontalInsets(e);if(t!==c.HorizontalInsetZero)return p.default.horizontalPaddingStyle(t)}horizontalInsets(e){if(!this._safeAreaInsets||!this._safeAreaInsets.left&&!this._safeAreaInsets.right)return c.HorizontalInsetZero;if(e){const t=Math.max(0,this._safeAreaInsets.left-e.left),i=Math.max(0,this._safeAreaInsets.right-e.right);return t||i?{left:t,right:i}:c.HorizontalInsetZero}return this._safeAreaInsets}keepStatusBarVisible(){return this._keepStatusBarVisible}keepStatusBarVisibleNoSubscription(){return this._keepStatusBarVisible}hasNonZeroSafeAreaInsets(){return this._hasNonZeroSafeAreaInsets()}hasNonZeroSafeAreaInsetsNoSubscription(){return this._hasNonZeroSafeAreaInsets()}_refreshSafeAreaInsets(){u.log(d.LogTraceArea.GenericUnsafe,"SafeAreaStore _refreshSafeAreaInsets"),o.default.safeAreaInsets().then((e=>{e&&(u.log(d.LogTraceArea.GenericUnsafe,"SafeAreaStore safeAreaInsets: "+m.default.asString(e)),this._safeAreaInsets=e,this._keepStatusBarVisible=this._shouldKeepStatusBarVisible(),this.trigger(C.SafeAreaInsets))})).catch((e=>{u.warn(d.LogTraceArea.GenericUnsafe,"SafeAreaStore safeAreaInsets failed: "+m.default.errorAsString(e))}))}_topInset(){return(this._safeAreaInsets?this._safeAreaInsets.top:0)||this._statusBarHeight}_shouldKeepStatusBarVisible(){return!s.StatusBar.isOverlay()||this._hasNonZeroSafeAreaInsets()&&this._topInset()>this._defaultStatusBarHeight()+10}_hasNonZeroSafeAreaInsets(){return!!this._safeAreaInsets&&!!(this._safeAreaInsets.left||this._safeAreaInsets.top||this._safeAreaInsets.right||this._safeAreaInsets.bottom)}_defaultStatusBarHeight(){return 0}};n.__decorate([(0,a.autoSubscribeWithKey)(C.StatusBarVisibility)],y.prototype,"leavePaddingForStatusBar",null),n.__decorate([(0,a.autoSubscribeWithKey)([C.StatusBarHeight,C.SafeAreaInsets])],y.prototype,"statusBarHeight",null),n.__decorate([(0,a.autoSubscribeWithKey)([C.StatusBarVisibility,C.StatusBarHeight,C.SafeAreaInsets])],y.prototype,"statusBarPadding",null),n.__decorate([a.disableWarnings],y.prototype,"statusBarPaddingNoSubscription",null),n.__decorate([(0,a.autoSubscribeWithKey)(C.SafeAreaInsets)],y.prototype,"bottomSafeAreaInset",null),n.__decorate([(0,a.autoSubscribeWithKey)(C.SafeAreaInsets)],y.prototype,"horizontalPaddingStyle",null),n.__decorate([(0,a.autoSubscribeWithKey)(C.SafeAreaInsets)],y.prototype,"horizontalInsets",null),n.__decorate([(0,a.autoSubscribeWithKey)(C.StatusBarHeight)],y.prototype,"keepStatusBarVisible",null),n.__decorate([a.disableWarnings],y.prototype,"keepStatusBarVisibleNoSubscription",null),n.__decorate([(0,a.autoSubscribeWithKey)(C.SafeAreaInsets)],y.prototype,"hasNonZeroSafeAreaInsets",null),n.__decorate([a.disableWarnings],y.prototype,"hasNonZeroSafeAreaInsetsNoSubscription",null),y=n.__decorate([a.AutoSubscribeStore],y),t.default=new y},536150:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=(i(516778),i(217041)),s=i(397691),a=i(746096),r=i(436237),l=i(422538);let c=class extends o.StoreBase{constructor(){super(),this._screenReaderEnabled=!1,l.RegisterStartupable(this,"ScreenReaderStatusStore")}startup(){return this._screenReaderEnabled=!1,s.Resolved()}isMobileScreenReaderEnabled(){return this._screenReaderEnabled}_reportScreenReaderStatus(e){this._screenReaderEnabled!==e&&(r.log(a.LogTraceArea.GenericUnsafe,"ScreenReaderDetectionStore Change: isEnabled = "+e),this._screenReaderEnabled=e,this.trigger())}};n.__decorate([o.autoSubscribe],c.prototype,"isMobileScreenReaderEnabled",null),c=n.__decorate([o.AutoSubscribeStore],c),t.default=new c},583181:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SecondaryWindowLoginType=t.TriggerKeys=t.StartupUIState=void 0;const n=i(570655),o=i(496486),s=i(217041),a=i(397691),r=i(889391),l=i(746096),c=i(617379),d=i(436237),u=i(861253),g=i(422538),h=i(235478);var p,S;!function(e){e[e.SplashDisplayed=0]="SplashDisplayed",e[e.LoginDisplayed=1]="LoginDisplayed",e[e.StartupComplete=2]="StartupComplete"}(p=t.StartupUIState||(t.StartupUIState={})),function(e){e[e.CallingStatusKey=0]="CallingStatusKey",e[e.UIDisplayedKey=1]="UIDisplayedKey",e[e.LoginSessionKey=2]="LoginSessionKey",e[e.StartupUIStateKey=3]="StartupUIStateKey",e[e.SecondaryWindowLoginStateKey=4]="SecondaryWindowLoginStateKey"}(S=t.TriggerKeys||(t.TriggerKeys={})),function(e){e[e.MSALogin=0]="MSALogin",e[e.QuickSignOn=1]="QuickSignOn"}(t.SecondaryWindowLoginType||(t.SecondaryWindowLoginType={}));let m=class extends s.StoreBase{constructor(){super(),this._isUIDisplayed=!1,this._telemetryServiceResumed=!1,this._telemetryServiceDebounce=o.debounce((()=>{this._telemetryServiceResumed=!0,h.default.resume()}),r.default.getS4LFeatures().scheduler.telemetryServiceResumeTimeout),this._inCall=!1,this._inCallEstablishment=!1,this._loggedInThisSession=!1,this._startupUIState=p.SplashDisplayed,this.subscribe((()=>{c.default.updateAppState({uiDisplayed:this._isUIDisplayed})}),S.UIDisplayedKey),this.subscribe((()=>{c.default.updateAppState({inCall:this._inCall,inCallEstablishment:this._inCallEstablishment})}),S.CallingStatusKey)}test_reset(){this._isUIDisplayed=!1,this._inCall=!1,this._inCallEstablishment=!1,this._loggedInThisSession=!1}internal_uiIsDisplayed(){this._isUIDisplayed=!0,this.trigger(S.UIDisplayedKey)}internal_userLoggedIn(){this._loggedInThisSession=!0,this.trigger(S.LoginSessionKey)}internal_getLoginDisplayedParameters(){return this._loginDisplayedParameters}isUIDisplayed(){return this._isUIDisplayed}isLoginSession(){return this._loggedInThisSession}isInCallEstablishment(){return this._isInCallEstablishmentNoSubscription()}_isInCallEstablishmentNoSubscription(){return this._inCallEstablishment}isInCall(){return this._isInCallNoSubscription()}_isInCallNoSubscription(){return this._inCall||this._inCallEstablishment}internal_setCallStatus(e){const t=e!==this._inCall;e!==this._inCall&&(d.log(l.LogTraceArea.Startup,"ServiceStateStore: Setting inCall to "+e),this._inCall=e,this._maybeResolveCallingPromises()),t&&this.trigger(S.CallingStatusKey)}internal_setCallEstablishmentStatus(e,t){e!==this._inCallEstablishment&&(d.log(l.LogTraceArea.Startup,"ServiceStateStore: Set inCallEstablishment to "+e+" reason: "+t),this._inCallEstablishment=e,r.default.getS4LFeatures().scheduler.enableTelemetryServiceThrottling&&(e?(this._telemetryServiceResumed=!1,h.default.pause(),this._telemetryServiceDebounce()):(this._telemetryServiceDebounce.cancel(),this._telemetryServiceResumed||(this._telemetryServiceResumed=!0,h.default.resume()))),this._maybeResolveCallingPromises(),this.trigger(S.CallingStatusKey))}_maybeResolveCallingPromises(){if(this._whenNotInCall&&!this._isInCallNoSubscription()){const e=this._whenNotInCall;this._whenNotInCall=void 0,e.resolve(void 0)}if(this._whenNotInCallEstablishment&&!this._isInCallEstablishmentNoSubscription()){const e=this._whenNotInCallEstablishment;this._whenNotInCallEstablishment=void 0,e.resolve(void 0)}}performWhenNotInCallEstablishment(){return this._isInCallEstablishmentNoSubscription()?(this._whenNotInCallEstablishment||(this._whenNotInCallEstablishment=a.Defer()),this._whenNotInCallEstablishment.promise()):a.Resolved()}performWhenNotInCall(){return this._isInCallNoSubscription()?(this._whenNotInCall||(this._whenNotInCall=a.Defer()),this._whenNotInCall.promise()):a.Resolved()}startupAfterUIStarted(e){this.performAfterUIStarted((()=>{g.EnsureStarted(e)}))}performAfterUIStarted(e){if(this.isUIDisplayed())e();else{const t=this.subscribe((()=>{e(),this.unsubscribe(t)}),S.UIDisplayedKey)}}getStartupUIState(){return this._startupUIState}internal_setStartupUIState(e,t){e===this._startupUIState&&(0,u.default)(t,this._loginDisplayedParameters)||(d.log(l.LogTraceArea.Startup,"ServiceStateStore: Setting statup UI state to "+e),this._startupUIState=e,this._loginDisplayedParameters=t,this.trigger(S.StartupUIStateKey))}getSecondaryWindowLoginState(){return this._secondaryWindowLoginState}internal_setSecondaryWindowLoginState(e,t){d.log(l.LogTraceArea.Startup,"ServiceStateStore: Setting secondary window login by "+e),this._secondaryWindowLoginState={loginType:e,state:t},this.trigger(S.SecondaryWindowLoginStateKey)}internal_resetSecondaryWindowLoginState(){this._secondaryWindowLoginState=void 0}};n.__decorate([(0,s.autoSubscribeWithKey)(S.UIDisplayedKey)],m.prototype,"isUIDisplayed",null),n.__decorate([(0,s.autoSubscribeWithKey)(S.LoginSessionKey)],m.prototype,"isLoginSession",null),n.__decorate([(0,s.autoSubscribeWithKey)(S.CallingStatusKey)],m.prototype,"isInCallEstablishment",null),n.__decorate([(0,s.autoSubscribeWithKey)(S.CallingStatusKey)],m.prototype,"isInCall",null),n.__decorate([s.disableWarnings],m.prototype,"internal_setCallStatus",null),n.__decorate([s.disableWarnings],m.prototype,"internal_setCallEstablishmentStatus",null),n.__decorate([(0,s.autoSubscribeWithKey)(S.StartupUIStateKey)],m.prototype,"getStartupUIState",null),n.__decorate([s.disableWarnings],m.prototype,"internal_setStartupUIState",null),n.__decorate([(0,s.autoSubscribeWithKey)(S.SecondaryWindowLoginStateKey)],m.prototype,"getSecondaryWindowLoginState",null),n.__decorate([s.disableWarnings],m.prototype,"internal_setSecondaryWindowLoginState",null),m=n.__decorate([s.AutoSubscribeStore],m);const C=new m;if("undefined"!=typeof window){window.ServiceStateStore=C}t.default=C},126978:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SideBar=void 0;const n=i(570655),o=i(217041),s=i(397691),a=i(889391),r=i(898278),l=i(956280),c=i(178735),d=i(422538);var u;!function(e){e[e.Left=0]="Left",e[e.Right=1]="Right"}(u=t.SideBar||(t.SideBar={}));let g=class extends o.StoreBase{constructor(){super(),this._leftSideBarWidth=r.SideBarWidths.base,this._rightSideBarWidth=r.SideBarWidths.base,this._rightSideBarFloating=!1,d.RegisterStartupable(this,"SideBarWidthStore",[c.default])}startup(){return this._leftEnabled=this._resizingEnabled(u.Left),this._leftSideBarWidth=this._currentSideBarWidth(u.Left),this._rightEnabled=this._resizingEnabled(u.Right),this._rightSideBarWidth=this._currentSideBarWidth(u.Right),a.default.subscribe((()=>{const e=this._resizingEnabled(u.Left),t=this._resizingEnabled(u.Right);e===this._leftEnabled&&t===this._rightEnabled||(this._leftEnabled=e,this.putWidth(u.Left,this._currentSideBarWidth(u.Left),!1),this._rightEnabled=t,this.putWidth(u.Right,this._currentSideBarWidth(u.Right),!1),this.trigger())})),s.Resolved()}putWidth(e,t,i=!0){let n=!1;e===u.Left?this._leftSideBarWidth!==t&&(this._leftSideBarWidth=t,n=i,c.default.setUserPreferencesLocal({leftPanelExpandedWidth:t})):e===u.Right&&this._rightSideBarWidth!==t&&(this._rightSideBarWidth=t,n=i,c.default.setUserPreferencesLocal({rightPanelExpandedWidth:t})),n&&this.trigger()}putRightSideBarFloating(e){this._rightSideBarFloating!==e&&(this._rightSideBarFloating=e,this.trigger())}getWidth(e=u.Left,t=!0){return this._intGetWidth(e,t)}getWidthNoSubscription(e=u.Left,t=!0){return this._intGetWidth(e,t)}resizingEnabled(e){return e===u.Left?this._leftEnabled:e===u.Right&&this._rightEnabled}rightSideBarFloating(){return this._rightSideBarFloating}rightSideBarFloatingNoSubscription(){return this._rightSideBarFloating}_intGetWidth(e,t=!0){switch(e){case u.Left:return this._leftSideBarWidth;case u.Right:return t||!this._rightSideBarFloating?this._rightSideBarWidth:0}return r.SideBarWidths.base}_resizingEnabled(e){return e===u.Left?a.default.getS4LUiFeatures().leftSideBarResizeMode>l.SideBarResizeMode.None:!!u.Right}_currentSideBarWidth(e){return e===u.Left?this._leftEnabled&&c.default.getUserPreferencesLocal().leftPanelExpandedWidth||r.SideBarWidths.base:e===u.Right&&this._rightEnabled&&c.default.getUserPreferencesLocal().rightPanelExpandedWidth||r.SideBarWidths.base}};n.__decorate([o.autoSubscribe],g.prototype,"getWidth",null),n.__decorate([o.disableWarnings],g.prototype,"getWidthNoSubscription",null),n.__decorate([o.autoSubscribe],g.prototype,"resizingEnabled",null),n.__decorate([o.autoSubscribe],g.prototype,"rightSideBarFloating",null),n.__decorate([o.disableWarnings],g.prototype,"rightSideBarFloatingNoSubscription",null),g=n.__decorate([o.AutoSubscribeStore],g);const h=new g;t.default=h},55585:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(496486),s=i(217041),a=i(397691),r=i(889391),l=i(905531),c=i(746096),d=i(436237),u=i(178735),g=i(593486),h=i(422538);let p=class extends s.StoreBase{constructor(){super(),this._didUserDismiss=!1,this._updateConfigValueIfRequired=()=>{const e=r.default.getS4LCMCFeaturesNoSubscription().speechConsentFlowConfig;if(!e)return this._maxSuggestionShownCount=void 0,void(this._maxCallsBetweenConsentSuggestion=void 0);this._maxSuggestionShownCount=e.maxSuggestionsShownCount,this._maxCallsBetweenConsentSuggestion=e.callsBetweenConsentSuggestion,d.log(c.LogTraceArea.InCallBotService,"Config value for max suggestion count: "+this._maxSuggestionShownCount+" and for calls between consent suggestion: "+this._maxCallsBetweenConsentSuggestion)},this._updateCallCountWithTranslator=()=>{const e=u.default.getUserPreferencesLocal();this._didUserDismiss=!!e.speechSuggestionDismissed,this._currentConsent=u.default.getSpeechConsentForTranslator()},h.RegisterStartupable(this,"SpeechConsentStatusStore",[u.default])}startup(){return this._currentCallCountWithTranslator=void 0,this._updateConfigValueIfRequired(),this._updateCallCountWithTranslator(),this._appConfigStoreSub||(this._appConfigStoreSub=r.default.subscribe(this._updateConfigValueIfRequired)),this._userPrefStoreSub||(this._userPrefStoreSub=u.default.subscribe(this._updateCallCountWithTranslator,u.LocalPreferencesTriggerKeys.speechConsentSuggestion)),a.Resolved()}showSpeechConsentSuggestingInConversation(){if(!this._speechConsentFlowSuggestionEnabled()||void 0!==this._currentConsent||this._didUserDismiss||o.isUndefined(this._maxSuggestionShownCount)||o.isUndefined(this._maxCallsBetweenConsentSuggestion)||o.isUndefined(this._currentCallCountWithTranslator))return!1;const e=this._maxCallsBetweenConsentSuggestion*this._maxSuggestionShownCount;if(0===this._currentCallCountWithTranslator||this._currentCallCountWithTranslator>e)return!1;if(1===this._currentCallCountWithTranslator)return d.log(c.LogTraceArea.InCallBotService,"Showing speech consent suggestion after first translated call"+this._currentCallCountWithTranslator),!0;const t=this._currentCallCountWithTranslator%this._maxCallsBetweenConsentSuggestion==1;return d.log(c.LogTraceArea.InCallBotService,"Showing speech consent suggestion: "+t+" for translated calls count: "+this._currentCallCountWithTranslator),t}hideSpeechConsentSuggestion(){d.log(c.LogTraceArea.InCallBotService,"Hide speech consent suggestion"),this._didUserDismiss=!0,u.default.setUserPreferencesLocal({speechSuggestionDismissed:!0}),this.trigger()}setSpeechConsentValue(e){d.log(c.LogTraceArea.InCallBotService,"Setting consent for speech for translation to "+e),u.default.setSpeechConsentForTranslator(e),this.hideSpeechConsentSuggestion()}getSpeechConsentValue(){return!!this._currentConsent}incrementCountForTranslatedCalls(){this._speechConsentFlowSuggestionEnabled()&&o.isUndefined(this._currentConsent)&&(this._currentCallCountWithTranslator=u.default.getUserPreferencesLocalNoSubscription().callsWithTranslatorCount||0,this._currentCallCountWithTranslator++,u.default.setUserPreferencesLocal({callsWithTranslatorCount:this._currentCallCountWithTranslator}),d.log(c.LogTraceArea.InCallBotService,"Calls with translator: "+this._currentCallCountWithTranslator),this._enableSpeechSuggestionToBeShown(),this.trigger())}lastTimeShowingSuggestion(){return!o.isUndefined(this._maxCallsBetweenConsentSuggestion)&&!o.isUndefined(this._maxSuggestionShownCount)&&(this._currentCallCountWithTranslator=u.default.getUserPreferencesLocalNoSubscription().callsWithTranslatorCount||0,Math.floor(this._currentCallCountWithTranslator/this._maxCallsBetweenConsentSuggestion)===this._maxSuggestionShownCount-1&&this._currentCallCountWithTranslator%this._maxCallsBetweenConsentSuggestion==1)}_enableSpeechSuggestionToBeShown(){this._didUserDismiss=!1,u.default.setUserPreferencesLocal({speechSuggestionDismissed:!1})}_speechConsentFlowSuggestionEnabled(){return r.default.getS4LCMCFeaturesNoSubscription().enableSpeechConsentFlow&&l.default.call().canProvideSpeechConsent&&!g.default.isChild()}test_resetState(){u.default.setCallsWithTranslatorCount(void 0),u.default.setSpeechConsentForTranslator(void 0),u.default.setUserPreferencesLocal({speechSuggestionDismissed:void 0}),this._userPrefStoreSub&&(u.default.unsubscribe(this._userPrefStoreSub),this._userPrefStoreSub=void 0),this._appConfigStoreSub&&(r.default.unsubscribe(this._appConfigStoreSub),this._appConfigStoreSub=void 0),this.startup(),this.trigger()}test_setCallCountWithTranslatror(e){this._currentCallCountWithTranslator=e}};n.__decorate([s.autoSubscribe],p.prototype,"showSpeechConsentSuggestingInConversation",null),n.__decorate([s.autoSubscribe],p.prototype,"getSpeechConsentValue",null),p=n.__decorate([s.AutoSubscribeStore],p),t.default=new p},344352:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PillStatus=void 0;const n=i(570655),o=i(217041),s=i(671830),a=i(816402),r=i(889391),l=i(746096),c=i(436237),d=i(733754),u=i(932226),g=i(717640),h=e=>{c.log(l.LogTraceArea.ConnectivityStatusBar,e)};var p;!function(e){e[e.NO_CONNECTION=0]="NO_CONNECTION",e[e.CONNECTING=1]="CONNECTING",e[e.UPDATING=2]="UPDATING",e[e.INFO=3]="INFO",e[e.CAPTIVE_PORTAL=4]="CAPTIVE_PORTAL",e[e.SEARCH=5]="SEARCH"}(p=t.PillStatus||(t.PillStatus={}));let S=class extends o.StoreBase{constructor(){super(),this._isMsgStoreLoading=!1,this._isUnread=!1,this._updateConvSyncStatus=e=>()=>{const t=g.default.isConversationSyncing(e);this._isConversationSyncing!==t&&(this._isConversationSyncing=t,this.trigger())},this._updateLoadingState=()=>{const e=this._isMsgStoreLoading,t=!!this._messageStreamStore&&this._messageStreamStore.isLoadingItemsFromNetwork();this._isMsgStoreLoading=!!t,e!==t&&this.trigger()},this._updateConnectionStatus=()=>{const e=u.default.getConnectionStatusNoSubsription();e!==this._connectionStatus&&(this._connectionStatus=e,this.trigger())},this._updateConvListSyncingStatus=()=>{const e=g.default.isSyncingConversationListNoSubscription();this._isConversationListSyncing!==e&&(this._isConversationListSyncing=e,this.trigger())},this._networkConnectionStoreSubscriptionToken=u.default.subscribe(this._updateConnectionStatus),this._updateConnectionStatus(),this._syncStatusStoreSubscriptionToken=g.default.subscribe(this._updateConvListSyncingStatus,g.TriggerKeys.ConversationList),this._updateConvListSyncingStatus()}destroy(){this._syncStatusStoreSubscriptionToken&&(g.default.unsubscribe(this._syncStatusStoreSubscriptionToken),this._syncStatusStoreSubscriptionToken=void 0),this._networkConnectionStoreSubscriptionToken&&(u.default.unsubscribe(this._networkConnectionStoreSubscriptionToken),this._networkConnectionStoreSubscriptionToken=void 0)}showAsUnread(){return this._isUnread}enableSearchPill(e){r.default.getS4LMessagingFeatures().enableRevealHistoryInConversation&&(this._enabledforEnhancedSearch=e),this.trigger()}getContent(e,t){return(()=>{const i=this.getPillStatus();if(e){switch(i){case p.CAPTIVE_PORTAL:case p.NO_CONNECTION:return d.getString("ConnectivityStatusBar.NoInternetConnection");case p.CONNECTING:return d.getString("ConnectivityStatusBar.Connecting");case p.UPDATING:return d.getString("Global.LoadingStatus")}return d.getString("ConnectivityStatusBar.Connected")}switch(i){case p.CAPTIVE_PORTAL:case p.NO_CONNECTION:return d.getString("ConnectivityStatusBar.NoInternetConnection");case p.CONNECTING:return d.getString("ConnectivityStatusBar.Connecting");case p.UPDATING:return d.getString("ConnectivityStatusBar.UpdatingConversation")}return this._getTextForInfo(t)})()}getPillStatus(){return this._connectionStatus===u.ConnectionStatus.PossibleCaptivePortal?p.CAPTIVE_PORTAL:this._isConnected()?this._isMsgStoreLoading||this._isConversationListSyncing||this._isConversationSyncing?p.UPDATING:r.default.getS4LMessagingFeatures().enableRevealHistoryInConversation&&this._enabledforEnhancedSearch?p.SEARCH:p.INFO:this._connectionStatus===u.ConnectionStatus.DisconnectedNoNetworkingReported?p.NO_CONNECTION:p.CONNECTING}setMessageStreamStore(e){e!==this._messageStreamStore?(this._msgStoreSubscription&&this._messageStreamStore&&(h("setMessageStreamStore: clearing subscription"),this._messageStreamStore.unsubscribe(this._msgStoreSubscription),this._msgStoreSubscription=void 0),this._messageStreamStore=e,this._messageStreamStore&&(h("setMessageStreamStore: creating new subscription"),this._msgStoreSubscription=this._messageStreamStore.subscribe(this._updateLoadingState)),this._updateLoadingState()):h("setMessageStreamStore: The store instance is the same, returning")}setTopPartiallyVisibleMessage(e){e&&this._topVisibleMessage!==e&&(this._topVisibleMessage=e,void 0===this._isConversationSyncing&&(g.default.subscribe(this._updateConvSyncStatus(e.conversationId)),this._updateConvSyncStatus(e.conversationId)()),this.trigger())}setUnread(e){e!==this._isUnread&&(this._isUnread=e,this.trigger())}_getTextForInfo(e){let t="";return this._topVisibleMessage&&(t=a.default.getDisplayDateString(this._topVisibleMessage.createdTime)),this._isUnread&&(t=e&&s.isPhoneMri(e)?d.getString("MessageStream.UnreadSmsMarkerStickerTemplated",{timestamp:t}):d.getString("MessageStream.UnreadMarkerStickerTemplated",{timestamp:t})),t}_isConnected(){return this._connectionStatus===u.ConnectionStatus.Connected}};n.__decorate([o.autoSubscribe],S.prototype,"showAsUnread",null),n.__decorate([o.autoSubscribe],S.prototype,"getContent",null),n.__decorate([o.autoSubscribe],S.prototype,"getPillStatus",null),S=n.__decorate([o.AutoSubscribeStore],S),t.default=S},717640:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TriggerKeys=void 0;const n=i(570655),o=i(174958),s=i(217041),a=i(397691),r=i(422801),l=i(581697),c=i(746096),d=i(436237),u=i(422538),g=i(640363),h=i(912770);var p;!function(e){e[e.AnySync=0]="AnySync",e[e.AnyMessages=1]="AnyMessages",e[e.ConversationList=2]="ConversationList"}(p=t.TriggerKeys||(t.TriggerKeys={}));let S=class extends s.StoreBase{constructor(){super(250),this._isSyncingConversationList=!1,this._isSyncingMessages=!1,this._pendingConversationTriggers={},u.RegisterStartupable(this,"SyncStatusStore",[r.default])}startup(){return r.default.disconnected.subscribe((()=>{this.trigger(),this._checkSyncingMessages(),this._checkSyncingConversationList()})),r.default.reconnected.subscribe((()=>{this.trigger(),this._checkSyncingMessages(),this._checkSyncingConversationList()})),l.default.syncStarted.subscribe((()=>{this.trigger(p.AnySync)})),l.default.syncComplete.subscribe((()=>{const e=Date.now().valueOf()-g.default.getAppInitTime();d.log(c.LogTraceArea.LowBandwidth,"<NFR> || Warm_Startup || Latency || "+e),this.trigger(p.AnySync),this._checkSyncingMessages(),this._checkSyncingConversationList()})),l.default.conversationListSyncStarted.subscribe((()=>{this._checkSyncingConversationList()})),l.default.conversationListSyncComplete.subscribe((()=>{this._checkSyncingConversationList()})),l.default.startedSyncingConversation.subscribe((e=>{this._ensureRemovedTimeout(e),d.log(c.LogTraceArea.SyncStatus,"SyncStatusStore startedSyncingConversation Scheduled: conversationId = "+o.pii.Mri(e)),this._pendingConversationTriggers[e]=h.default.setTimeout((()=>{this._ensureRemovedTimeout(e),d.log(c.LogTraceArea.SyncStatus,"SyncStatusStore startedSyncingConversation Fulfilled: conversationId = "+o.pii.Mri(e)),this.trigger(e),this._checkSyncingMessages()}),3e3)})),l.default.finishedSyncingConversation.subscribe((e=>{this._pendingConversationTriggers[e]?d.log(c.LogTraceArea.SyncStatus,"SyncStatusStore finishedSyncingConversation Dropped: conversationId = "+o.pii.Mri(e)):(d.log(c.LogTraceArea.SyncStatus,"SyncStatusStore finishedSyncingConversation Fulfilled: conversationId = "+o.pii.Mri(e)),this.trigger(e),this._checkSyncingMessages())})),a.Resolved()}_ensureRemovedTimeout(e){return!!this._pendingConversationTriggers[e]&&(h.default.clearTimeout(this._pendingConversationTriggers[e]),delete this._pendingConversationTriggers[e],!0)}_checkSyncingConversationList(){const e=this._isSyncingConversationList;this._isSyncingConversationList=r.default.isConnected()&&l.default.isConversationListDirty(),e!==this._isSyncingConversationList&&this.trigger(p.ConversationList)}_checkSyncingMessages(){const e=this._isSyncingMessages;this._isSyncingMessages=r.default.isConnected()&&l.default.isSyncingMessages(),e!==this._isSyncingMessages&&this.trigger(p.AnyMessages)}_isConversationSyncingFromService(e){return r.default.isConnected()&&(l.default.isSyncingMessagesForConversation(e)||l.default.isSyncingThreadDetailsForConversation(e))}isSyncingAnything(){return r.default.isConnected()&&l.default.isCurrentlySyncing()}isSyncingMessages(){return this._isSyncingMessages}isSyncingConversationList(){return this.isSyncingConversationListNoSubscription()}isSyncingConversationListNoSubscription(){return this._isSyncingConversationList}isConversationSyncing(e){return!this._pendingConversationTriggers[e]&&this._isConversationSyncingFromService(e)}};n.__decorate([(0,s.autoSubscribeWithKey)(p.AnySync)],S.prototype,"isSyncingAnything",null),n.__decorate([(0,s.autoSubscribeWithKey)(p.AnyMessages)],S.prototype,"isSyncingMessages",null),n.__decorate([(0,s.autoSubscribeWithKey)(p.ConversationList)],S.prototype,"isSyncingConversationList",null),n.__decorate([s.disableWarnings],S.prototype,"isSyncingConversationListNoSubscription",null),n.__decorate([s.autoSubscribe,n.__param(0,s.key)],S.prototype,"isConversationSyncing",null),S=n.__decorate([s.AutoSubscribeStore],S),t.default=new S},418037:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(496486),s=i(583367),a=i(516778),r=i(217041),l=i(397691),c=i(300060),d=i(889391),u=i(746096),g=i(172146),h=i(436237),p=i(178735),S=i(46929),m=i(18078),C=i(422538),y=i(600212),f=i(163841),b=i(897634),_=i(818882),v=i(157452);let T=class extends r.StoreBase{constructor(){super(),this._colorTheme=f.Theme.Delphi,this._evaluatePreferencesUpdates=()=>{let e=this._getUserPreferredTheme();this.isHighContrastEnabled()&&!b.isAccessibleTheme(e)&&(e=b.matchingAccessibleTheme(e));const t=this._setThemeNoDB(e,!1),i=this._setUseSystemTheme(this._getUseSystemTheme()),n=this._setFlipBubbleColors(this._getUserFlipBubblesColorPreference());(t||i||n)&&this.trigger()},this._handleHighContrastChange=e=>{h.log(u.LogTraceArea.Theme,"ThemeStore._handleHighContrastChange isEnabled: "+e),this._isHighContrastEnabled=e;const t=this._getUserPreferredTheme();b.isAccessibleTheme(t)||(e?this._setThemeNoDB(this._highContrastThemeForCurrentOSTheme()):this._setThemeNoDB(t))},this._osThemeChangeCallback=e=>{h.log(u.LogTraceArea.Theme,"ThemeStore._osThemeChangeCallback osTheme: "+e);const t=this._useSystemTheme?b.convertThemeToDelphiTheme(this._colorTheme):this._colorTheme;if(this._osTheme!==e&&(this._osTheme=e),this.isHighContrastEnabled()&&!b.isAccessibleTheme(t))this._setThemeNoDB(this._highContrastThemeForCurrentOSTheme());else if(this._useSystemTheme){const e=b.convertOSThemeToTheme(t,this._osTheme);e&&this._setUserAppearancePreferences({colorTheme:this.convertThemeEnumToString(e),useSystemTheme:!0})}this.trigger()},C.RegisterStartupable(this,"ThemeStore",[g.default,p.default,S.default])}startup(){this._isHighContrastEnabled=a.Accessibility.isHighContrastEnabled(),this._useSystemTheme=this._getUseSystemTheme(),this._flipBubbleColors=this._getUserFlipBubblesColorPreference();const e=this._getUserPreferencesRemote();this._themeSetFromRemotePrefs=e&&void 0!==e.colorTheme;let t=this._getUserPreferredTheme();if(this.isHighContrastEnabled()&&!b.isAccessibleTheme(t)&&(t=f.Theme.Accessible),this._colorTheme=t,b.isColorfulTheme(this._colorTheme)){const e=b.isDarkTheme(this._colorTheme)?f.Theme.MonoDark:f.Theme.Mono;this._colorTheme=e,o.defer((()=>this.setTheme(e)))}h.log(u.LogTraceArea.Theme,"ThemeStore.startup theme: "+t+" useSystemTheme: "+this._useSystemTheme+" flipBubbleColors: "+this._flipBubbleColors);const i=y.default.themeColorsForTheme(this._colorTheme);this._useCompactLayout=!!i.useCompactLayout,this._useInitialsForConversationIcon=!!i.useInitialsForConversationIcon,S.default.subscribe(this._evaluatePreferencesUpdates),p.default.subscribe(this._evaluatePreferencesUpdates),g.default.isSetupWizardCompleted()||(this._firstRunStoreSubscriptionToken=g.default.subscribe((()=>{g.default.isSetupWizardCompleted()&&(this._evaluatePreferencesUpdates(),this._firstRunStoreSubscriptionToken&&g.default.unsubscribe(this._firstRunStoreSubscriptionToken))}),g.TriggerKeys.SetupWizard)),this._updateAppTheme(this._colorTheme),this._subscribeHighContrastChanged(),o.defer((()=>{this.trigger()}));let n=!1;v.osThemeStore.subscribe((()=>{n=!0;const e=v.osThemeStore.getOSTheme();this._osThemeChangeCallback(e)}));const r=v.osThemeStore.getOSTheme();return n||(n=!0,this._osThemeChangeCallback(r)),c.default.subscribeForChanges("ThemeStore",(e=>{if(!m.default.isGuestUser()&&e===a.Types.AppActivationState.Background){let e;e=this._useSystemTheme?s.AppThemeType.System:this.isDarkThemeNoSubscription()?s.AppThemeType.Dark:s.AppThemeType.Light,s.default.storeAppThemeInfo(e),_.LocalStorage.setItem(_.StorageKeys.IsDarkThemeActiveKey,JSON.stringify(b.isDarkTheme(this._colorTheme)))}})),l.Resolved()}toggleLightOrDarkTheme(){const e=b.matchingLightOrDarkTheme(this._colorTheme);this.setTheme(e,!1)}setTheme(e,t){const i=!!t&&b.systemThemeEnabled();this._setUseSystemTheme(i);this._setUserAppearancePreferences({colorTheme:this.convertThemeEnumToString(e),useSystemTheme:!!this._useSystemTheme}),this._updateAppTheme(e)}setPreviewTheme(e){e!==this._previewTheme&&(this._previewTheme=e,this.trigger())}colorTheme(){return this.colorThemeNoSubscription()}previewTheme(){return this._previewTheme}previewThemeNoSubscription(){return this._previewTheme}themeForOSTheme(e){return b.convertOSThemeToTheme(e||this._colorTheme,this._osTheme)}themeForOSThemeNoSubscription(e){return b.convertOSThemeToTheme(e||this._colorTheme,this._osTheme)}colorThemeNoSubscription(){return this._colorTheme}wasThemeChanged(){const e=p.default.getUserPreferencesLocal().colorTheme;return!o.isUndefined(e)&&!o.isEmpty(e)}isAccessibleTheme(){return this.isAccessibleThemeNoSubscription()}isAccessibleThemeNoSubscription(){return b.isAccessibleTheme(this._colorTheme)}isDelphiTheme(){return this.isDelphiThemeNoSubscription()}isDelphiThemeNoSubscription(){return b.isDelphiTheme(this._colorTheme)}shouldOverrideColors(){return this.shouldOverrideColorsNoSubscription()}shouldOverrideColorsNoSubscription(){return this._colorTheme===f.Theme.Mono||this._colorTheme===f.Theme.MonoDark||this._colorTheme===f.Theme.Delphi||this._colorTheme===f.Theme.DelphiDark}isDarkTheme(){return this.isDarkThemeNoSubscription()}isDarkThemeNoSubscription(){return b.isDarkTheme(this._colorTheme)}isHighContrastEnabled(){return this._isHighContrastEnabled}isCompactLayout(){return this._useCompactLayout}shouldUseInitialsForConversationIcon(){return this._useInitialsForConversationIcon}themeStyles(){return y.default.themeStylesForTheme(this._colorTheme)}themeStylesNoSubscription(){return y.default.themeStylesForTheme(this._colorTheme)}themeColors(){return y.default.themeColorsForTheme(this._colorTheme)}themeColorsNoSubscription(){return y.default.themeColorsForTheme(this._colorTheme)}shouldUseSystemTheme(){return this._useSystemTheme}shouldUseSystemThemeNoSubscription(){return this._useSystemTheme}getSystemTheme(){return this._osTheme===s.OSTheme.Dark?f.Theme.DelphiDark:f.Theme.Delphi}getSystemThemeNoSubscription(){return this._osTheme===s.OSTheme.Dark?f.Theme.DelphiDark:f.Theme.Delphi}setFlipBubbleColors(e){e!==this._flipBubbleColors&&(d.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences&&S.default.setUserAppearancePreferencesForCurrentPlatform({flipBubbleColors:e}),p.default.setUserPreferencesLocal({flipBubbleColors:e}))}flipBubbleColors(){return this._flipBubbleColors}convertStringToThemeEnum(e){switch(e){case"accessible":return f.Theme.Accessible;case"mono":return f.Theme.Mono;case"dark":return f.Theme.AccessibleDark;case"colorfuldark":return f.Theme.ColorfulDark;case"monodark":return f.Theme.MonoDark;case"delphiDark":case"classicDark":return f.Theme.DelphiDark;case"default":return f.Theme.Colorful;default:return f.Theme.Delphi}}convertThemeEnumToString(e){switch(e){case f.Theme.Accessible:return"accessible";case f.Theme.Mono:return"mono";case f.Theme.AccessibleDark:return"dark";case f.Theme.ColorfulDark:return"colorfuldark";case f.Theme.MonoDark:return"monodark";case f.Theme.ClassicDarkDeprecated:case f.Theme.DelphiDark:return"delphiDark";case f.Theme.Colorful:return"default";default:case f.Theme.ClassicDeprecated:case f.Theme.Delphi:return"delphi"}}shouldSetSystemThemeInOnboarding(){const e=!this._themeSetFromRemotePrefs&&b.systemThemeEnabled()&&void 0!==this._osTheme&&this._osTheme!==s.OSTheme.Unknown;return h.log(u.LogTraceArea.Theme,`shouldSetSystemThemeInOnboarding(): ${e}`),e}_updateAppTheme(e){this._useSystemTheme?s.default.setAppTheme("system"):b.isDarkTheme(e)?s.default.setAppTheme("dark"):s.default.setAppTheme("light")}_setUserAppearancePreferences(e){o.isUndefined(e.useSystemTheme)||e.useSystemTheme===this._useSystemTheme||s.default.setUseSystemTheme(e.useSystemTheme),d.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences&&S.default.setUserAppearancePreferencesForCurrentPlatform(e),p.default.setUserPreferencesLocal(e)}_getUserPreferredTheme(){const e=p.default.getUserPreferencesLocal(),t=this._getUserPreferencesRemote();let i=this.convertStringToThemeEnum(e.colorTheme),n=e.useSystemTheme;return t&&t.colorTheme&&(i=this.convertStringToThemeEnum(t.colorTheme),n=t.useSystemTheme),n&&(i=b.convertOSThemeToTheme(i,this._osTheme)||i),i}_getUserFlipBubblesColorPreference(){const e=p.default.getUserPreferencesLocal(),t=this._getUserPreferencesRemote();return t&&!o.isUndefined(t.flipBubbleColors)?t.flipBubbleColors:!!e.flipBubbleColors}_getUserPreferencesRemote(){return d.default.getS4LNativePlatformsEcsConfig().enableRemoteClientAppearancePreferences?S.default.getUserAppearancePreferencesForCurrentPlatform():{}}_getUseSystemTheme(){if(!b.systemThemeEnabled())return!1;const e=p.default.getUserPreferencesLocal(),t=this._getUserPreferencesRemote();return t&&!o.isUndefined(t.useSystemTheme)?t.useSystemTheme:!!e.useSystemTheme}_setUseSystemTheme(e){return this._useSystemTheme!==e&&(this._useSystemTheme=e,this.trigger(),!0)}_setFlipBubbleColors(e){return this._flipBubbleColors!==e&&(this._flipBubbleColors=e,!0)}_setThemeNoDB(e,t=!0){if(h.log(u.LogTraceArea.Theme,"ThemeStore.setThemeNoDB theme: "+e),this._colorTheme!==e){this._colorTheme=e,this._getUseSystemTheme()&&this._useSystemTheme&&this._previewTheme||(this._previewTheme=void 0);const i=y.default.themeColorsForTheme(e);return this._useCompactLayout=!!i.useCompactLayout,this._useInitialsForConversationIcon=!!i.useInitialsForConversationIcon,t&&this.trigger(),!0}return!1}_subscribeHighContrastChanged(){a.Accessibility.highContrastChangedEvent.subscribe(this._handleHighContrastChange)}_highContrastThemeForCurrentOSTheme(){return this._osTheme===s.OSTheme.Dark?f.Theme.AccessibleDark:f.Theme.Accessible}};n.__decorate([r.disableWarnings],T.prototype,"setPreviewTheme",null),n.__decorate([r.autoSubscribe],T.prototype,"colorTheme",null),n.__decorate([r.autoSubscribe],T.prototype,"previewTheme",null),n.__decorate([r.disableWarnings],T.prototype,"previewThemeNoSubscription",null),n.__decorate([r.autoSubscribe],T.prototype,"themeForOSTheme",null),n.__decorate([r.disableWarnings],T.prototype,"themeForOSThemeNoSubscription",null),n.__decorate([r.disableWarnings],T.prototype,"colorThemeNoSubscription",null),n.__decorate([r.autoSubscribe],T.prototype,"wasThemeChanged",null),n.__decorate([r.autoSubscribe],T.prototype,"isAccessibleTheme",null),n.__decorate([r.autoSubscribe],T.prototype,"isDelphiTheme",null),n.__decorate([r.autoSubscribe],T.prototype,"shouldOverrideColors",null),n.__decorate([r.autoSubscribe],T.prototype,"isDarkTheme",null),n.__decorate([r.disableWarnings],T.prototype,"isDarkThemeNoSubscription",null),n.__decorate([r.autoSubscribe],T.prototype,"isHighContrastEnabled",null),n.__decorate([r.autoSubscribe],T.prototype,"isCompactLayout",null),n.__decorate([r.autoSubscribe],T.prototype,"shouldUseInitialsForConversationIcon",null),n.__decorate([r.autoSubscribe],T.prototype,"themeStyles",null),n.__decorate([r.disableWarnings],T.prototype,"themeStylesNoSubscription",null),n.__decorate([r.autoSubscribe],T.prototype,"themeColors",null),n.__decorate([r.disableWarnings],T.prototype,"themeColorsNoSubscription",null),n.__decorate([r.autoSubscribe],T.prototype,"shouldUseSystemTheme",null),n.__decorate([r.disableWarnings],T.prototype,"shouldUseSystemThemeNoSubscription",null),n.__decorate([r.autoSubscribe],T.prototype,"getSystemTheme",null),n.__decorate([r.disableWarnings],T.prototype,"getSystemThemeNoSubscription",null),n.__decorate([r.autoSubscribe],T.prototype,"flipBubbleColors",null),T=n.__decorate([r.AutoSubscribeStore],T),t.default=new T},18775:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OSThemeStore=void 0;const n=i(570655),o=i(217041),s=i(583367);let a=class extends o.StoreBase{constructor(){super(),this._osTheme=s.OSTheme.Light,this._applyOSTheme=e=>{this._osTheme=e,this.trigger()},s.default.osThemeChanged.subscribe(this._applyOSTheme),s.default.getOSTheme().then(this._applyOSTheme)}getOSTheme(){return this._osTheme}};n.__decorate([o.autoSubscribe],a.prototype,"getOSTheme",null),a=n.__decorate([o.AutoSubscribeStore],a),t.OSThemeStore=a},157452:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.osThemeStore=void 0;const n=new(i(18775).OSThemeStore);t.osThemeStore=n},994214:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isTokenReasonableAsHeader=t.TokenStore=t.TriggerKeys=void 0;const n=i(570655),o=i(496486),s=i(217041),a=i(397691),r=i(889391),l=i(562141),c=i(746096),d=i(436237),u=i(998754),g=i(710962),h=i(704329),p=i(352914),S=i(119508),m=i(178735),C=i(18078),y=i(422538),f=i(395588),b=i(404057),_=i(818882),v=i(629214),T=i(40907),P=i(794050),k=i(539370),A=i(613403);var I;!function(e){e[e.SkypeTokenKey=0]="SkypeTokenKey",e[e.MSARefreshTokenKey=1]="MSARefreshTokenKey",e[e.CdnTokenKey=2]="CdnTokenKey",e[e.AmsTokenKey=3]="AmsTokenKey",e[e.MsaUserInternalKey=4]="MsaUserInternalKey",e[e.MSAAccessToken=5]="MSAAccessToken",e[e.OneServiceAccessTokenKey=6]="OneServiceAccessTokenKey"}(I=t.TriggerKeys||(t.TriggerKeys={}));const w=/^[\x20-\xFF]+$/;let x=class extends s.StoreBase{constructor(){super(),this._cdnCookieSet=!1,this._msaUserInternalTokenRequestOngoing=!1,this._canGetMsaUserInternalToken=!0,this._amsCookieSet=!1,this._fetchAuthToken=()=>{if(this._isOneAuthStackUsed)return void d.log(c.LogTraceArea.TokenStore,"Not fetching Integration token when using OneAuth, as Substrate communication will be done through OneAuth!","Should never get here!");const e=this.getMSARefreshToken();e?this._canGetMsaUserInternalToken?this._msaUserInternalTokenRequestOngoing||(this._msaUserInternalTokenRequestOngoing=!0,S.default.fetch(e,C.default.getUserCidHex()).then((e=>{this._msaUserInternalTokenRequestOngoing=!1,this.useMsaUserInternalToken(e)}),(e=>{this._msaUserInternalTokenRequestOngoing=!1,!1===e&&(this._canGetMsaUserInternalToken=!1)}))):d.log(c.LogTraceArea.TokenStore,"Fetching MSA User Internal token for this user is not possible"):d.log(c.LogTraceArea.TokenStore,"MSAToken is not present. Can not fetch MSA User Internal Auth token")},y.RegisterStartupable(this,"TokenStore",[u.default,m.default]),h.default.registerForLogout(this,"TokenStore"),r.default.subscribe((()=>{const e=A.default.isCoBaSiEnabled(),t=A.default.getNoPaVersion();v.updateMsaConfigInformation(t,e)}))}shouldForceLogoutOnStartup(){return this._forceLogoutAfterStartup}feedStartupInfoWithOneAuthInfo(e,t){e&&(this._startupSkypeToken=e),this._startupOneAuthInformation=t,d.log(c.LogTraceArea.TokenStore,`TokenStore startup info with OneAuth:\n            hasStartupSkypeToken: ${!!this._startupSkypeToken},\n            hasOneAuthAccountInfo: ${!!t}`)}feedStartupInfoWithRefreshToken(e,t,i){e&&(this._startupSkypeToken=e),t&&(this._startupMSARefreshToken=t,this._storeMsaRefreshTokenExpiration()),i&&(this._startupMSARefreshTokenPath=i),d.log(c.LogTraceArea.TokenStore,`TokenStore startup info:\n            hasStartupSkypeToken: ${!!this._startupSkypeToken}, hasMsaRefreshToken: ${!!t}, tokenPath: ${i}`)}startup(){return this._startUpScenario=new P.default(P.ScenarioName.TokenStoreInitialization),this._startUpScenario.start(),d.log(c.LogTraceArea.TokenStore,"startup started"),this._initializeTokenStore().finally((()=>{d.log(c.LogTraceArea.TokenStore,"startup finished"),this._startUpScenario.finish()}))}_initializeTokenStore(){var e;const{isOneAuthStage1Enabled:t,isOneAuthStage2Enabled:i}=v.isOneAuthAvailable(),n=null===(e=this._startupOneAuthInformation)||void 0===e?void 0:e.accountInformation.accountId;return(n?a.Resolved(n):v.getCurrentLoggedInAccountIdFromCache()).always((e=>{if(d.log(c.LogTraceArea.TokenStore,`OneAuth isOneAuthStage1Enabled: ${t},\n                isOneAuthStage2Enabled: ${i},\n                oneAuthLoggedInAccountId: ${e}`),e){const n=this._getSkypeTokenPutPromise(this._startupSkypeToken,!1),s=f.default.getLoginMethod().then((e=>this._setLoginMethod(e)));return t?(d.log(c.LogTraceArea.TokenStore,"OneAuth enabled and user signed in with OneAuth"),a.all([s,n]).then((()=>this._initializeWithOneAuthState(e,i)))):(d.log(c.LogTraceArea.TokenStore,"OneAuth not enabled but user signed in with OneAuth - migrate back!"),a.all([s,n,this._initializeWithLegacyAuthStateFromOneAuth()]).then(o.noop))}return f.default.getLoginMethod().then((t=>a.all([this._startupSkypeToken||f.default.getInitialSkypeToken(),e?void 0:this._startupMSARefreshToken||f.default.getInitialMSAToken(t),a.Resolved(t)]))).then((([e,n,o])=>{const{mobileKeychainSkypeTokenMigrated:s,mobileKeychainMSATokenMigrated:r}=m.default.getUserPreferencesLocal(),l=this._getSkypeTokenPutPromise(e,!1),u=this._getMsaRefreshTokenPutPromise(o,n,!1);return a.all([u,l]).then((()=>{d.log(c.LogTraceArea.TokenStore,`OneAuth isOneAuthStage1Enabled: ${t},\n                            isOneAuthStage2Enabled: ${i},\n                            hasMsaRefreshToken: ${!!n}`);return t&&n?this._migrateLegacyAuthAccountToOneAuth(n,e,o,i):this._initializeWithLegacyAuthState(n,e,o)}))})).fail((e=>d.error(c.LogTraceArea.TokenStore,"Failure during startup: "+b.default.errorAsString(e))))}))}getAccountId(){var e;return(null===(e=this.getAccountInformation())||void 0===e?void 0:e.accountId)||this._fallbackAccountId}_initializeWithOneAuthState(e,t){this._fallbackAccountId=e,d.log(c.LogTraceArea.TokenStore,`oneAuth _initializeWithOneAuthState - accountId: ${e}, _startupOneAuthInformation: ${!!this._startupOneAuthInformation}`),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.InitializedWithOneAuthStarted);const i=t?void 0:f.default.getInitialMSAToken(this._loginMethod);return a.all([this._startupOneAuthInformation||v.acquireCredentialsSilently(e),this._startupSkypeToken||f.default.getInitialSkypeToken(),i]).then((([e,t,i])=>{if(d.log(c.LogTraceArea.TokenStore,`oneAuth - hasSkypeToken: ${!!t}, hasOneAuthAccountInfo: ${!!e}`),e){const{accountInformation:n,credentials:o}=e;return this._setOneAuthStackAsActive(n),i&&(this._msaRefreshToken=i,f.default.provideSsoToken(this._msaRefreshToken)),this.useMSAAccessToken(o.accessToken,o.expiration),this._useCDNTokenFromDB(t),this.useSkypeToken(t,!1),this._postStartupLogging(),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.InitializedWithOneAuthFinished),a.Resolved()}return d.error(c.LogTraceArea.TokenStore,"oneAuth _initializeWithOneAuthState error. Account info not returned from OneAuth!"),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.InitializedWithOneAuthFailed),this._initializeWithLegacyAuthStateFromOneAuth()})).catch((e=>p.OneAuthTransientErrorStatuses.includes(e.status)?(d.warn(c.LogTraceArea.TokenStore,"oneAuth _initializeWithOneAuthState error. Issue is transient! Initializing TokenStore without MSA token!"),this._initializeWithOneAuthWithoutMsaToken()):(d.error(c.LogTraceArea.TokenStore,"oneAuth _initializeWithOneAuthState error. Falling back to legacy auth stack if possible!"),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.InitializedWithOneAuthFailed),this._initializeWithLegacyAuthStateFromOneAuth())))}_initializeWithOneAuthWithoutMsaToken(){return(this._startupSkypeToken?a.Resolved(this._startupSkypeToken):f.default.getInitialSkypeToken()).then((e=>{this._useCDNTokenFromDB(e),this.useSkypeToken(e,!1)})).always((()=>{this._setOneAuthStackAsActive()}))}_initializeWithOneAuthFromLegacyAuthState(e,t,i,n,o,s){d.log(c.LogTraceArea.TokenStore,`oneAuth _initializeOneAuthLoggedInState -\n            hasAccountCredentials: ${!!t},\n            hasSkypeToken: ${!!i},\n            hasAccountInformation: ${!!e},\n            hasMsaRefreshToken: ${!!o}\n            isOneAuthStage2Enabled: ${s}`),this._setOneAuthStackAsActive(e),s||(this._msaRefreshToken=o,f.default.provideSsoToken(this._msaRefreshToken)),this.useMSAAccessToken(t.accessToken,t.expiration),this._useCDNTokenFromDB(i),this.useSkypeToken(i,!1),this._setLoginMethod(n),u.default.deleteKeys([l.InternalKeys.MsaUserInternalToken]),this._postStartupLogging(),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.InitializedWithOneAuthFromLegacyAuthStack)}_initializeWithLegacyAuthStateFromOneAuth(){return d.log(c.LogTraceArea.TokenStore,"oneAuth _initializeWithLegacyAuthStateFromOneAuth"),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.MigrateBackToLegacyAuthStackStarted),this._loginMethod===c.LoginMethods[c.LoginMethods.OneAuth]?(d.warn(c.LogTraceArea.TokenStore,"App entry is with OneAuth, cant initialize with legacy auth stack!"),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.MigrateBackToLegacyAuthStackFailed),this._setForceLogout(),a.Resolved()):f.default.getLoginMethod().then((e=>a.all([this._startupSkypeToken||f.default.getInitialSkypeToken(),f.default.getInitialMSAToken(e),a.Resolved(e)]).then((([e,t,i])=>{if(t)return d.log(c.LogTraceArea.TokenStore,"MSA token found, back migration successful"),this._clearOneAuthState(),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.MigrateBackToLegacyAuthStackFinished),this._initializeWithLegacyAuthState(t,e,i);d.log(c.LogTraceArea.TokenStore,"No MSA token found, back migration successful"),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.MigrateBackToLegacyAuthStackFailed),this._setForceLogout()})).catch((e=>{d.log(c.LogTraceArea.TokenStore,"Something went wrong in back migration - logging out"),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.MigrateBackToLegacyAuthStackFailed),this._setForceLogout()}))))}_initializeWithLegacyAuthState(e,t,i){d.log(c.LogTraceArea.TokenStore,"oneAuth _initializeWithLegacyAuthState"),this._isOneAuthStackUsed=!1,this._msaRefreshToken=e,f.default.provideSsoToken(this._msaRefreshToken),this._useCDNTokenFromDB(t),this._msaUserInternalToken=u.default.getData(l.InternalKeys.MsaUserInternalToken),this.useSkypeToken(t,!1),this._setMsaCookiePartition(),this._setLoginMethod(i),this._setAccountQsoCookies(),this._postStartupLogging(),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.InitializedWithLegacyAuthStack)}_setOneAuthStackAsActive(e){this._isOneAuthStackUsed=!0,e&&(this._oneAuthAccountInformation=e,v.setCurrentLoggedInAccountIdToCache(e.accountId))}_migrateLegacyAuthAccountToOneAuth(e,t,i,n){d.log(c.LogTraceArea.TokenStore,`oneAuth _migrateLegacyAuthAccountToOneAuth - hasSkypeToken: ${!!t}, loginMethod: ${i}`),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.MigrationToOneAuthStarted);const o=this._startupMSARefreshTokenPath===p.MsaWebViewTokenPath.QrSignIn;return v.migrateAccountToOneAuth(e,o).then((o=>(d.log(c.LogTraceArea.TokenStore,"OneAuth migration successful"),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.MigrationToOneAuthFinished),this._initializeWithOneAuthFromLegacyAuthState(o.accountInformation,o.credentials,t,i,e,n)))).catch((n=>(d.log(c.LogTraceArea.TokenStore,"OneAuth migration error",n),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.MigrationToOneAuthFailed),this._initializeWithLegacyAuthState(e,t,i))))}_setForceLogout(){d.log(c.LogTraceArea.SISU,"OneAuth setting force logout to true"),this._startUpScenario.markStepCompleted(k.TokenStoreInitializationSteps.ForceLogoutSet),this._forceLogoutAfterStartup=!0}_clearOneAuthState(){d.log(c.LogTraceArea.TokenStore,"Clearing OneAuth data from TokenStore"),this._msaAccessToken=void 0,this._oneAuthAccountInformation=void 0,v.clearOneAuthCache()}_postStartupLogging(){if(d.log(c.LogTraceArea.TokenStore,"TokenStore Started - "+(this.hasUsableSkypeToken()?"Usable Skypetoken":"Non-usable Skypetoken")+" - "+(this._skypeToken?"expiration: "+new Date(this._skypeToken.expiration):"no token")),this._msaAccessToken){const e=this._msaAccessToken?`Access token expiration - ${this._msaAccessToken.expiration} ms`:"Access token expiration unknown!";d.log(c.LogTraceArea.TokenStore,e)}else _.LocalStorage.getItem(_.StorageKeys.RefreshTokenExpiration).then((e=>{const t=e?`Refresh token expiration - ${e} ms`:"Refresh token expiration unknown!";d.log(c.LogTraceArea.TokenStore,t)}))}_useCDNTokenFromDB(e){const t=u.default.getData(l.InternalKeys.CdnToken);e&&!e.isTokenExpired()&&t&&(this._cdnToken=t,this._cdnCookieSet=!0)}_getSkypeTokenPutPromise(e,t){return this._startupSkypeToken||t?(d.log(c.LogTraceArea.TokenStore,"Setting SkypeToken to Keychain..."),f.default.setSkypeToken(e)):(d.log(c.LogTraceArea.TokenStore,`Not setting SkypeToken to Keychain, hasSkypeToken: ${!!e}, moveInternalSkypeTokenIntoKeychain: ${!!t}`),a.Resolved())}_getMsaRefreshTokenPutPromise(e,t,i){}getAccountInformation(){return this._oneAuthAccountInformation}logout(e,t,i){return f.default.provideSsoToken(void 0),f.default.clearTokensFromKeychain()}performWhenValidSkypeTokenArrives(){if(this.hasUsableSkypeTokenNoSubscription())return d.log(c.LogTraceArea.TokenStore,"Valid Skype Token available"),a.Resolved();this._waitingForValidSkypeToken||(this._waitingForValidSkypeToken=a.Defer());const e=a.Defer();return this._waitingForValidSkypeToken.promise().then((()=>{e.resolve(void 0)})),d.log(c.LogTraceArea.TokenStore,"Awaiting a valid Skype Token..."),e.promise()}performWhenCdnTokenArrives(){if(this._cdnToken)return a.Resolved();this._waitingForCdnToken||(this._waitingForCdnToken=a.Defer());const e=a.Defer();return this._waitingForCdnToken.promise().then((()=>{e.resolve(void 0)})),e.promise()}useCdnToken(e){if((this._cdnCookieSet!==e.cookie||this._cdnToken!==e.token)&&(this._cdnToken=e.token,this._cdnCookieSet=e.cookie,u.default.putData(l.InternalKeys.CdnToken,e.token),this.trigger(I.CdnTokenKey),this._waitingForCdnToken)){const e=this._waitingForCdnToken;this._waitingForCdnToken=void 0,e.resolve(void 0)}}usingCdnCookie(){return this._cdnCookieSet}getCdnToken(){return this._cdnToken}skypeTokenInvalid(e,t=!1){if(d.log(c.LogTraceArea.TokenStore,"Invalidating SkypeToken!"),t)return d.log(c.LogTraceArea.TokenStore,"Skypetoken force refresh requested!"),void this.useSkypeToken(void 0);this._skypeToken?this._skypeToken.rawToken===e?this.useSkypeToken(void 0):d.log(c.LogTraceArea.TokenStore,"Skypetoken reported invalid, but it doesn't match our stored one -- ignoring!"):d.log(c.LogTraceArea.TokenStore,"Skypetoken reported invalid, but we already knew that -- ignoring!")}useSkypeToken(e,t=!0){var i;if(this._skypeToken&&e&&this._skypeToken.rawToken===e.rawToken)return void d.warn(c.LogTraceArea.TokenStore,"Current stored SkypeToken is the same as the new one. Not storing!");this._skypeToken=e,this._skypeToken&&t&&f.default.setSkypeToken(e);const n=null===(i=this._skypeToken)||void 0===i?void 0:i.getCidFromSkypeToken();if(n){const e=parseInt(n,16).toString();d.log(c.LogTraceArea.TokenStore,`Setting MSACID and MSACIDHEX from Skypetoken - ${e} ${n}`),C.default.internal_feedInfo(void 0,void 0,e,n)}document.cookie="skypeToken="+(this._skypeToken?this._skypeToken.rawToken:"")+";secure",this.trigger(I.SkypeTokenKey),this.hasUsableSkypeToken()&&this._waitingForValidSkypeToken&&(d.log(c.LogTraceArea.TokenStore,"Got a valid Skype Token"),this._waitingForValidSkypeToken.resolve(void 0),this._waitingForValidSkypeToken=void 0)}updateAccountAndCredentialInformation(e,t){d.log(c.LogTraceArea.TokenStore,"updateAccountAndCredentialInformation - Updating OneAuth account information"),this._oneAuthAccountInformation=e,this.useMSAAccessToken(t.accessToken,t.expiration)}useMSAAccessToken(e,t){this._msaAccessToken!==e?e?(d.log(c.LogTraceArea.TokenStore,"Creating and setting new MSA access token"),this._msaAccessToken=new T.default(e,t),this.trigger(I.MSAAccessToken)):d.error(c.LogTraceArea.TokenStore,"Tried to set an empty token"):d.warn(c.LogTraceArea.TokenStore,"Tried to set the same MSA token that was already used")}useMSARefreshToken(e,t){if(this._msaRefreshToken!==e){if(e){const i="TokenStore got a bad MSA Refresh Token";N(e)||(d.log(c.LogTraceArea.TokenStore,i),d.track(new g.TokenIssueEvent(c.KeychainTokenType.MSARefresh,g.TokenIssueType.InvalidToken,t)))}else{const i="Empty MSA refresh token passed to TokenStore.useMSARefreshToken()";f.default.isValidMSARefreshToken(e)||(d.log(c.LogTraceArea.TokenStore,i),d.track(new g.TokenIssueEvent(c.KeychainTokenType.MSARefresh,g.TokenIssueType.EmptyToken,t)))}this._msaRefreshToken=e,this._storeMsaRefreshTokenExpiration(),f.default.setMSAToken(e),f.default.provideSsoToken(e),this.trigger(I.MSARefreshTokenKey)}}useOneServiceAccessToken(e,t){this._oneServiceAccessToken=e,this._oneServiceTokenExpiration=t,this.trigger(I.OneServiceAccessTokenKey)}getOneServiceAccessToken(){return this._oneServiceAccessToken}getOneServiceAccessTokenExpiration(){return this._oneServiceTokenExpiration}hasUsableSkypeToken(){return!!this._skypeToken&&!this._skypeToken.isTokenExpired()}hasUsableSkypeTokenNoSubscription(){return!!this._skypeToken&&!this._skypeToken.isTokenExpired()}getSkypeToken(){return this._skypeToken?this._skypeToken.clone():void 0}getRawSkypeToken(){return this._skypeToken?this._skypeToken.rawToken:void 0}getRawSkypeTokenNoSubscription(){return this._skypeToken?this._skypeToken.rawToken:void 0}getMSARefreshToken(){return this._msaRefreshToken}getMsaAccessToken(){var e;return null===(e=this._msaAccessToken)||void 0===e?void 0:e.rawToken}getMsaUserInternalToken(){if(!this._canGetMsaUserInternalToken)return;const e=this._getAuthToken();return e||this._fetchAuthToken(),e}msaUserInternalTokenInvalid(e){this._msaUserInternalToken&&this._msaUserInternalToken.accessToken===e.accessToken&&this.useMsaUserInternalToken(void 0)}useMsaUserInternalToken(e){if(this._msaUserInternalToken&&e&&this._msaUserInternalToken.accessToken===e.accessToken)return;u.default.putData(l.InternalKeys.MsaUserInternalToken,e?{accessToken:e.accessToken,expiryDateTimeMs:e.expiryDateTimeMs,idHash:e.idHash}:void 0),this._msaUserInternalToken=e,this._canGetMsaUserInternalToken=!0;const t=this._waitingForMsaUserInternalToken;t&&(this._waitingForMsaUserInternalToken=void 0,t.resolve(void 0)),this.trigger(I.MsaUserInternalKey)}getCanGetMsaUserInternalToken(){return this._canGetMsaUserInternalToken}_getAuthToken(){if(void 0!==this._msaUserInternalToken)return this._msaUserInternalToken.expiryDateTimeMs>Date.now()+6e5?this._msaUserInternalToken:void 0}performWhenMsaInternalUserTokenArrives(){if(this._getAuthToken())return a.Resolved();let e=this._waitingForMsaUserInternalToken;return e||(e=a.Defer(),this._waitingForMsaUserInternalToken=e),this._fetchAuthToken(),e.promise()}setAMSCookieSet(e){this._amsCookieSet!==e&&(this._amsCookieSet=e,this.trigger(I.AmsTokenKey))}getAmsCookieSet(){return this._amsCookieSet}_setMsaCookiePartition(){0}getMsaCookiePartition(){return this._msaCookiePartition}_setLoginMethod(e){this._loginMethod=e}getLoginMethod(){return this._loginMethod}checkIfSignedInWithWAM(){return!!this._loginMethod&&this._loginMethod===c.LoginMethods[c.LoginMethods.WAM]}isSignedInWithOneAuth(){return d.log(c.LogTraceArea.TokenStore,`Getting login method ${this._loginMethod}`),this._loginMethod===c.LoginMethods[c.LoginMethods.OneAuth]}isOneAuthStackUsed(){return d.log(c.LogTraceArea.TokenStore,`Getting info on if OneAuth auth stack is used ${!!this._isOneAuthStackUsed}`),!!this._isOneAuthStackUsed}_setAccountQsoCookies(){0}checkAreMsaDATicketsAvailable(){return!0}checkAccountQsoCookies(){return!0}_storeMsaRefreshTokenExpiration(){const e=new Date(Date.now()+7776e6).getTime();_.LocalStorage.setItem(_.StorageKeys.RefreshTokenExpiration,JSON.stringify(e))}};function N(e){return w.test(e)}n.__decorate([s.disableWarnings],x.prototype,"performWhenValidSkypeTokenArrives",null),n.__decorate([(0,s.autoSubscribeWithKey)(I.CdnTokenKey)],x.prototype,"usingCdnCookie",null),n.__decorate([(0,s.autoSubscribeWithKey)(I.CdnTokenKey)],x.prototype,"getCdnToken",null),n.__decorate([(0,s.autoSubscribeWithKey)(I.OneServiceAccessTokenKey)],x.prototype,"getOneServiceAccessToken",null),n.__decorate([(0,s.autoSubscribeWithKey)(I.OneServiceAccessTokenKey)],x.prototype,"getOneServiceAccessTokenExpiration",null),n.__decorate([(0,s.autoSubscribeWithKey)(I.SkypeTokenKey)],x.prototype,"hasUsableSkypeToken",null),n.__decorate([s.disableWarnings],x.prototype,"hasUsableSkypeTokenNoSubscription",null),n.__decorate([(0,s.autoSubscribeWithKey)(I.SkypeTokenKey)],x.prototype,"getSkypeToken",null),n.__decorate([(0,s.autoSubscribeWithKey)(I.SkypeTokenKey)],x.prototype,"getRawSkypeToken",null),n.__decorate([s.disableWarnings],x.prototype,"getRawSkypeTokenNoSubscription",null),n.__decorate([(0,s.autoSubscribeWithKey)(I.MSARefreshTokenKey)],x.prototype,"getMSARefreshToken",null),n.__decorate([(0,s.autoSubscribeWithKey)(I.MsaUserInternalKey)],x.prototype,"getCanGetMsaUserInternalToken",null),n.__decorate([(0,s.autoSubscribeWithKey)(I.AmsTokenKey)],x.prototype,"getAmsCookieSet",null),x=n.__decorate([s.AutoSubscribeStore],x),t.TokenStore=x,t.isTokenReasonableAsHeader=N,t.default=new x},871499:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(217041),s=i(898278),a=i(861253),r={displayText:"",rect:{x:0,y:0,height:0,width:0},rootViewId:s.MainRootViewId};let l=class extends o.StoreBase{constructor(){super(...arguments),this._toolTipConfig=r}getToolTipConfig(e){return this._toolTipConfig.rootViewId===e?this._toolTipConfig:r}setToolTipConfig(e){(0,a.default)(this._toolTipConfig,e)||(this._toolTipConfig=e,this.trigger())}clearToolTipConfig(){this.setToolTipConfig(r)}};n.__decorate([o.autoSubscribe],l.prototype,"getToolTipConfig",null),l=n.__decorate([o.AutoSubscribeStore],l),t.default=new l},300060:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppActivationStateListener=void 0;const n=i(168950),o=i(516778),s=i(889391),a=i(746096),r=i(436237);class l{constructor(){this._debounceTimeoutIdHashMap={}}subscribeForChanges(e,t){const i=i=>{if(t){let n=`App activation state changed to: ${o.Types.AppActivationState[i.newState]} - notify: ${e}`;i.shouldDebounce&&(n+=`, debounced by ${i.debounceTime} ms`),r.log(a.LogTraceArea.Lifecycle,n),t(i.newState)}};return o.App.activationStateChangedEvent.subscribe((t=>{const o={newState:t,shouldDebounce:s.default.getS4LNativePlatformsEcsConfigNoSubscription().enableAppActivationStateEventsDebouncing,debounceTime:s.default.getS4LNativePlatformsEcsConfigNoSubscription().appActivationStateChangeDebounceTime};if(o.shouldDebounce&&o.debounceTime&&o.debounceTime>0){if(!e||""===e)return void i({newState:t,shouldDebounce:!1});this._debounceTimeoutIdHashMap[e]&&(n.default.clearTimeout(this._debounceTimeoutIdHashMap[e]),delete this._debounceTimeoutIdHashMap[e]),this._debounceTimeoutIdHashMap[e]=n.default.setTimeout((()=>{delete this._debounceTimeoutIdHashMap[e],i(o)}),o.debounceTime)}else i({newState:t,shouldDebounce:!1})}))}}t.AppActivationStateListener=l,t.default=new l},633951:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CalledBeforeStartupError=t.test_setTestOverride=t.beforeStartup=t.makeStartupable=t.Startupable=void 0;const n=i(496486),o=i(516778),s=i(570655),a=i(889391),r=i(422538),l="startup";let c,d=!1,u=!1,g=!0;function h(){return a.default.getS4LFeatures().beforeStartupDecorator.enabled&&!0}function p(e,t){try{return e()}finally{t()}}function S(e){const t=e;return t.__beforeStartupMetadata=t.__beforeStartupMetadata||{},t}function m(e,t){return e.__beforeStartupMetadata[t]||(e.__beforeStartupMetadata[t]={}),e.__beforeStartupMetadata[t]}function C(e){return t=>{const i=S(t.prototype);return i.__beforeStartupMetadata.__decorated=!0,h()&&n.each(Object.getOwnPropertyNames(i),(o=>{if(n.isFunction(t.prototype[o])&&"constructor"!==o&&o!==l){const t=i.__beforeStartupMetadata[o];t&&t.hasbeforeStartupDecorator||(0,s.__decorate)([f(e)],i,o,null)}else if(n.isFunction(t.prototype[o])&&o===l){const e=i.__beforeStartupMetadata[o];e&&e.isStartup||(0,s.__decorate)([y],i,o,null)}})),t}}function y(e,t,i){if(!h())return i;m(S(e),t).isStartup=!0;const n=i.value;return i.value=function(...e){if(!h())return n.apply(this,e);const t=d;d=!0;return p((()=>n.apply(this,e)),(()=>{d=t}))},i}function f(e){return(e,t,i)=>{if(!h())return i;S(e);const n=i.value;return i.value=function(...e){if(h()){r.HasStarted(this),o.App.getActivationState(),o.Types.AppActivationState.Active}return n.apply(this,e)},i}}t.Startupable=C(!0),t.makeStartupable=C;t.beforeStartup=(e,t,i)=>{if(!h())return i;const n=S(e);m(n,t).hasbeforeStartupDecorator=!0;const o=i.value;return i.value=function(...e){if(!h())return o.apply(this,e);const t=u,i=c;u=!0,c=n;return p((()=>o.apply(this,e)),(()=>{u=t,c=i}))},i},t.test_setTestOverride=function(e){g=e};class b extends Error{constructor(e,t,i){super(`Trying to call ${t} on ${e} before started with ${i||"[no context]"}.`)}}t.CalledBeforeStartupError=b},629951:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedRate=t.getCurrencySymbol=void 0;i(749679);const n=i(733754),o={AED:"د.إ",AFN:"؋",ALL:"L",ANG:"ƒ",AOA:"Kz",ARS:"$",AUD:"$",AWG:"ƒ",AZN:"₼",BAM:"KM",BBD:"$",BDT:"৳",BGN:"лв",BHD:".د.ب",BIF:"FBu",BMD:"$",BND:"$",BOB:"Bs.",BRL:"R$",BSD:"$",BTC:"฿",BTN:"Nu.",BWP:"P",BYR:"p.",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"Fr.",CLP:"$",CNY:"¥",COP:"$",CRC:"₡",CUC:"$",CUP:"₱",CVE:"$",CZK:"Kč",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"دج",EEK:"kr",EGP:"£",ERN:"Nfk",ETB:"Br",ETH:"Ξ",EUR:"€",FJD:"$",FKP:"£",GBP:"£",GEL:"₾",GGP:"£",GHC:"₵",GHS:"GH₵",GIP:"£",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"₪",IMP:"£",INR:"₹",IQD:"ع.د",IRR:"﷼",ISK:"kr",JEP:"£",JMD:"J$",JPY:"¥",KES:"KSh",KGS:"лв",KHR:"៛",KMF:"CF",KPW:"₩",KRW:"₩",KYD:"$",KZT:"₸",LAK:"₭",LBP:"£",LKR:"₨",LRD:"$",LSL:"M",LTC:"Ł",LTL:"Lt",LVL:"Ls",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"ден",MMK:"K",MNT:"₮",MOP:"MOP$",MUR:"₨",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"₦",NIO:"C$",NOK:"kr",NPR:"₨",NZD:"$",OMR:"﷼",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"₱",PKR:"₨",PLN:"zł",PYG:"Gs",QAR:"﷼",RMB:"￥",RON:"lei",RSD:"Дин.",RUB:"₽",RWF:"R₣",SAR:"﷼",SBD:"$",SCR:"₨",SDG:"ج.س.",SEK:"kr",SGD:"$",SHP:"£",SLL:"Le",SOS:"S",SRD:"$",SSP:"£",STD:"Db",SVC:"$",SYP:"£",SZL:"E",THB:"฿",TJS:"SM",TMT:"T",TND:"د.ت",TOP:"T$",TRL:"₤",TRY:"₺",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"₴",UGX:"USh",USD:"$",UYU:"$U",UZS:"лв",VEF:"Bs",VND:"₫",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"Ƀ",XCD:"$",XOF:"CFA",XPF:"₣",YER:"﷼",ZAR:"R",ZWD:"Z$"};t.getCurrencySymbol=function(e){return o[e]||e},t.getFormattedRate=function(e,t,i,o=0){const s=Math.max(i,o),a=Math.min(i,o);{const i=n.getLocale();return e.toLocaleString(i,{style:"currency",currency:t,maximumFractionDigits:s,minimumFractionDigits:a})}}},344110:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(397691),s=i(562141),a=i(172685),r=i(998754),l=i(422538),c=i(640363);t.default=new class{constructor(){this._doCleanup=()=>{if(r.default.getData(s.InternalKeys.LastDBCleanupVersion)===c.default.getAppVersion())return;const e=[],t=n.map(s.InternalKeys,(e=>e)),i=r.default.getKeys();let a;return n.each(i,(i=>{n.includes(t,i)||e.push(i)})),a=e.length>0?r.default.deleteKeys(e):o.Resolved(),a.then((()=>r.default.putData(s.InternalKeys.LastDBCleanupVersion,c.default.getAppVersion())))},l.RegisterStartupable(this,"DatabaseCleanupService",[a.default,r.default])}startup(){return a.default.setRefreshOptions("DBCleanup",{interval:6048e5,callback:this._doCleanup,taskTypeFlags:a.TaskTypeFlags.CpuIntensive}),o.Resolved()}}},816402:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(727484),o=i(294712),s=i(510285),a=i(884110),r=i(570660),l=i(496486),c=i(749679),d=i(733754);n.extend(o),n.extend(r),n.extend(a),n.extend(s);class u{static add(e,t=0,i=0,n=0,o=0,s=0){return e+1e3*(t*u._secondsPerYear+i*u._secondsPerDay+n*u._secondsPerHour+o*u._secondsPerMinute+s)}static fromUnixMilliseconds(e){return new Date(e)}static getMidnight(e){const t=u.fromUnixMilliseconds(e);return t.setHours(0,0,0,0),t.getTime()}static isSameDay(e,t){const i=u.fromUnixMilliseconds(e),n=u.fromUnixMilliseconds(t);return i.getDate()===n.getDate()&&i.getMonth()===n.getMonth()&&i.getFullYear()===n.getFullYear()}static getDisplayDateStringShort(e){const t=c.getDateShort(u.fromUnixMilliseconds(e));return n.unix(e/1e3).calendar(null,{sameDay:"["+d.getString("DateTimeRelative.Today")+"]",nextDay:"["+d.getString("DateTimeRelative.Tomorrow")+"]",nextWeek:"["+t+"]",lastDay:"["+d.getString("DateTimeRelative.Yesterday")+"]",lastWeek:"["+t+"]",sameElse:"["+t+"]"})}static getDisplayDateString(e){const t=u.fromUnixMilliseconds(e),i=c.getDayName(t),o=c.getDateLong(t);return n.unix(e/1e3).calendar(null,{sameDay:"["+d.getString("DateTimeRelative.Today")+"]",nextDay:"["+d.getString("DateTimeRelative.Tomorrow")+"]",nextWeek:"["+i+"]",lastDay:"["+d.getString("DateTimeRelative.Yesterday")+"]",lastWeek:"["+i+"]",sameElse:"["+o+"]"})}static getDisplayDateStringFull(e){return c.getDateLong(u.fromUnixMilliseconds(e))}static getDisplayDateStringDayMonthYearFormat(e){return c.getDateShort(u.fromUnixMilliseconds(e))}static getDisplayDateTimeString(e){const t=u.fromUnixMilliseconds(e),i=c.getTimeShort(t),o=c.getDateShort(t),s=c.getDayName(t);return n.unix(e/1e3).calendar(null,{sameDay:"["+d.getString("DateTimeRelative.TodayAt",{time:i})+"]",nextDay:"["+d.getString("DateTimeRelative.TomorrowAt",{time:i})+"]",nextWeek:"["+d.getString("DateTimeRelative.DayAtTime",{day:s,time:i})+"]",lastDay:"["+d.getString("DateTimeRelative.YesterdayAt",{time:i})+"]",lastWeek:"["+d.getString("DateTimeRelative.DayAtTime",{day:s,time:i})+"]",sameElse:"["+o+"]"})}static getAbsoluteDisplayDateTimeString(e){const t=u.fromUnixMilliseconds(e),i=c.getTimeShort(t),n=c.getDateShort(t);return"["+d.getString("DateTimeRelative.DayAtTime",{day:n,time:i})+"]"}static getDisplayDateTimeMixedString(e,t=!1){const i=u.fromUnixMilliseconds(e),o=c.getTimeShort(i),s=c.getDateShort(i),a=c.getDayName(i),r=t?a:c.getDayAbbreviatedName(i);return n.unix(e/1e3).calendar(null,{sameDay:"["+o+"]",nextDay:"["+d.getString("DateTimeRelative.TomorrowAt",{time:o})+"]",nextWeek:"["+d.getString("DateTimeRelative.DayAtTime",{day:a,time:o})+"]",lastDay:"["+r+"]",lastWeek:"["+r+"]",sameElse:"["+s+"]"})}static getDisplayTimeString(e){return c.getTimeShort(u.fromUnixMilliseconds(e))}static getRelativeDisplayDateTimeString(e){return n.updateLocale("en",{relativeTime:{future:d.getString("DateTimeRelative.Future",{time:"%s"}),past:d.getString("DateTimeRelative.Past",{time:"%s"}),s:d.getString("DateTimeRelative.Seconds"),ss:d.getString("DateTimeRelative.Seconds"),m:d.getString("DateTimeRelative.Minute"),mm:d.getString("DateTimeRelative.Minutes",{count:"%d"}),h:d.getString("DateTimeRelative.Hour"),hh:d.getString("DateTimeRelative.Hours",{count:"%d"}),d:d.getString("DateTimeRelative.Day"),dd:d.getString("DateTimeRelative.Days",{count:"%d"}),M:d.getString("DateTimeRelative.Month"),MM:d.getString("DateTimeRelative.Months",{count:"%d"}),y:d.getString("DateTimeRelative.OverAYear"),yy:d.getString("DateTimeRelative.OverAYear")}}),n.unix(e/1e3).fromNow()}static getLongMonthAndYearString(e){return c.getMonthAndYear(u.fromUnixMilliseconds(e))}static getElapsedTimePartsFromS(e){if(!isFinite(e))return{hours:0,minutes:0,seconds:0};const t=e%3600,i=t%60;return{hours:Math.floor(e/3600),minutes:Math.floor(t/60),seconds:Math.floor(i)}}static getElapsedTimeStringFromS(e){const t=this.getElapsedTimePartsFromS(e),i=(t.seconds>9?"":"0")+t.seconds;if(t.hours>0){const e=(t.minutes>9?"":"0")+t.minutes;return t.hours+":"+e+":"+i}return t.minutes+":"+i}static getElapsedTimeStringFromMs(e){const t=Math.round(e/1e3);return this.getElapsedTimeStringFromS(t)}static getElapsedTimeStringInMsFromMs(e){const t=e%1e3,i=Math.floor(e/1e3);return this.getElapsedTimeStringFromS(i)+"."+t}static getUnixMillisecondsTimestamp(e){return new Date(e).getTime()}static getFormattedDuration(e,t=!1){let i="";const n=Math.floor(e/86400),o=86400*n,s=Math.floor((e-o)/3600),a=3600*s,r=Math.floor((e-o-a)/60),l=e-o-a-60*r,c=s>=1,u=r>=1,g=l>=0;return n>=1?i=d.getString(t?"DateTimeDuration.AccessibleDays":"DateTimeDuration.Days",{days:n}):c&&u&&g?i=d.getString(t?"DateTimeDuration.AccessibleHoursMinutesSeconds":"DateTimeDuration.HoursMinutesSeconds",{hours:s,minutes:r,seconds:l}):c&&u?i=d.getString(t?"DateTimeDuration.AccessibleHoursMinutes":"DateTimeDuration.HoursMinutes",{hours:s,minutes:r}):c&&g?i=d.getString(t?"DateTimeDuration.AccessibleHoursSeconds":"DateTimeDuration.HoursSeconds",{hours:s,seconds:l}):u&&g?i=d.getString(t?"DateTimeDuration.AccessibleMinutesSeconds":"DateTimeDuration.MinutesSeconds",{minutes:r,seconds:l}):u?i=d.getString(t?"DateTimeDuration.AccessibleMinutes":"DateTimeDuration.Minutes",{minutes:r}):g?i=d.getString(t?"DateTimeDuration.AccessibleSeconds":"DateTimeDuration.Seconds",{seconds:l}):c&&(i=d.getString(t?"DateTimeDuration.AccessibleHours":"DateTimeDuration.Hours",{hours:s})),i}static isTimestampValid(e){return n(e,["YYYY-MM-DD","YYYY-MM-DDTHH:mm:ssSSSZ"],!1).isValid()}static isTimestampPassed(e,t=!0){const i=l.attempt((()=>this.getUnixMillisecondsTimestamp(e)));if(l.isError(i))return t;return Date.now()>i}static isDateTimePassed(e){return Date.now()>e}static isNowWithinDateTimes(e,t){const i=Date.now();return e<i&&i<t}static getPostedTime(e,t=!1){const i=Math.floor((Date.now()-e)/1e3);if(i<60)return t?d.getString("HighlightsItemView.MediaPostedJustNowLowerCase"):d.getString("HighlightsItemView.MediaPostedJustNow");const n=Math.floor(i/60);if(n<60)return d.getString("HighlightsItemView.MediaPostedMinutes",{count:n});const o=Math.floor(i/3600);if(o<24)return d.getString("HighlightsItemView.MediaPostedHours",{count:o});const s=Math.floor(i/86400);return d.getString("HighlightsItemView.MediaPostedDays",{count:s})}static getDaysDifferenceToNow(e){const t=Math.floor((Date.now()-e)/1e3);return Math.floor(t/86400)}static roundToNextHour(e){const t=u.fromUnixMilliseconds(e);return t.setHours(t.getHours()+1),t.setMinutes(0),t.setSeconds(0),t.getTime()}static convertDateToUTC(e){return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}static getAbbreviatedDatetimeString(e){const t=u.fromUnixMilliseconds(e);return d.getString("DateTimeRelative.AbbreviatedDateTime",{day:c.getDayAbbreviatedName(t),monthDate:c.getMonthAndDateAbbreviatedName(t),year:c.getYear(t),time:u.getDisplayTimeString(e)})}static getConditionalDateTimeString(e){const t=-1*u.getDaysDifferenceToNow(e);return t<=2&&t>=0?u.getDisplayDateTimeString(e):u.getAbbreviatedDatetimeString(e)}static getLastSyncTime(e){const t=Math.floor((Date.now()-e)/1e3);if(t<60)return d.getString("UserSettingsPanel.SyncedJustNow");const i=Math.floor(t/60);if(i<60)return d.getString("UserSettingsPanel.SyncedMinutesAgo",{count:i});const n=Math.floor(t/3600);if(n<24)return d.getString("UserSettingsPanel.SyncedHoursAgo",{count:n});const o=Math.floor(t/86400);return 1===o?d.getString("UserSettingsPanel.SyncedYesterday"):o<31?d.getString("UserSettingsPanel.SyncedDaysAgo",{count:o}):u.getDisplayDateStringShort(e)}static convertPeriodToMiliseconds(e){if(!e)return;const[t,i]=l.split(e,"."),o=Number(t);return l.includes(this.getSupportedDayJsPeriods(),i)&&l.isInteger(o)?n(0).add(o,i).valueOf():void 0}static getSupportedDayJsPeriods(){return["years","quarters","months","weeks","days","hours","minutes","seconds"]}}u._secondsPerMinute=60,u._secondsPerHour=60*u._secondsPerMinute,u._secondsPerDay=24*u._secondsPerHour,u._secondsPerYear=365*u._secondsPerDay,u.getFullDateTimeString=e=>{const t=u.fromUnixMilliseconds(e);return d.getString("DateTimeRelative.DayAtTime",{day:c.getDateLong(t),time:c.getTimeShort(t)})},t.default=u},579041:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(672654),o=i(775463),s=(i(397691),i(422538));t.default=new class{constructor(){s.RegisterStartupable(this,"EntropyService")}startup(){return n.Entropy.getCryptoStrongRandomValues(48).then((e=>{o.initPrng(e)}))}}},175235:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExceptionReporter=void 0;const n=i(516283),o=i(436237),s=i(404057);let a;t.ExceptionReporter=class{constructor(){this._handlers=[],window.onerror=(e,t,i,a,...r)=>{let l="",c="";r&&r[0]&&(l=r[0].stack||l,c=r[0].name||c);const d={errorMessage:e.toString(),source:t,fileNumber:i,columnNumber:a,errorName:c,stackTrace:l};let u=!1;if(this._handlers.forEach((e=>{try{null!==e&&e(d)}catch(e){o.error(n.LogTraceArea.ExceptionHandling,"Error handling Exception: "+s.default.errorAsString(e))}})),null!==this._primaryHandler)try{this._primaryHandler(d),u=!0}catch(e){o.error(n.LogTraceArea.ExceptionHandling,"Error handling Exception: "+s.default.errorAsString(e))}return u}}_wrapGlobalHandler(e,t){let i="";e.stack&&(i=e.stack||i);const r={errorMessage:e.message,source:"",fileNumber:-1,columnNumber:-1,errorName:e.name,stackTrace:i};this._handlers.forEach((e=>{try{null!==e&&e(r)}catch(e){o.error(n.LogTraceArea.ExceptionHandling,"Error handling Exception: "+s.default.errorAsString(e))}})),null!==this._primaryHandler&&this._primaryHandler(r).then((()=>{a})).catch((e=>{o.error(n.LogTraceArea.ExceptionHandling,"Error handling Exception: "+s.default.errorAsString(e))}))}setPrimaryHandler(e){null!==e&&(this._primaryHandler=e)}registerAlertView(e){this._handlers.push((t=>{e()&&window.alert("DEBUG ALERT: Uncaught Exception\n"+t.errorMessage+"\n"+t.source+" ("+t.fileNumber+","+t.columnNumber+")")}))}registerConsoleView(){this._handlers.push((e=>{o.error(n.LogTraceArea.ExceptionHandling,"DEBUG ALERT: Uncaught Exception\n"+e.errorMessage+"\n"+e.source+" ("+e.fileNumber+","+e.columnNumber+")\nStack:\n"+e.stackTrace)}))}unregister(){this._handlers=[]}}},749679:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getISO8601Time=t.getISO8601Date=t.toStringWithFormattedDecimalSeparator=t.getDayAndMonthLong=t.getYear=t.getMonthAndDateAbbreviatedName=t.getMonthAndYear=t.getDayAndMonth=t.getDayAbbreviatedName=t.getDayName=t.getTimeShort=t.getTimeLong=t.getDateShort=t.getDateLong=t.setLocale=void 0;const n=i(496486),o=i(226554),s=i(647662),a=i(733754);let r="en-us",l=i(281318),c=new o("en-us"),d={};const u=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function h(e,t){return d[t]||(d[t]=c.compile(t)),d[t]({d:e.getDate(),dd:n.padStart(e.getDate().toString(),2,"0"),ddd:a.getStringUnsafe("DayAbbreviatedName."+u[e.getDay()]),dddd:a.getStringUnsafe("DayLongName."+u[e.getDay()]),h:p(e),hh:n.padStart(p(e).toString(),2,"0"),H:e.getHours(),HH:n.padStart(e.getHours().toString(),2,"0"),m:e.getMinutes(),mm:n.padStart(e.getMinutes().toString(),2,"0"),M:e.getMonth()+1,MM:n.padStart((e.getMonth()+1).toString(),2,"0"),MMM:a.getStringUnsafe("MonthAbbreviatedName."+g[e.getMonth()]),MMMM:a.getStringUnsafe("MonthLongName."+g[e.getMonth()]),s:e.getSeconds(),ss:n.padStart(e.getSeconds().toString(),2,"0"),tt:e.getHours()/12>=1?l.Time.PMFormat:l.Time.AMFormat,yy:n.padStart(e.getFullYear().toString(),4,"0").substring(2),yyyy:n.padStart(e.getFullYear().toString(),4,"0")})}function p(e){const t=e.getHours()%12;return 0===t?12:t}t.setLocale=function(e){let t=s.normalizeLocale(e);if(t===r)return;let n=function(e){let t;switch(e){case"ar-ae":t=i(914779);break;case"ar-eg":t=i(724922);break;case"ar-iq":t=i(241602);break;case"ar-kw":t=i(78449);break;case"ar-sa":t=i(317019);break;case"ar-us":t=i(904245);break;case"az-az":t=i(423584);break;case"bg-bg":t=i(198038);break;case"ca-es":t=i(456521);break;case"cs-cz":t=i(407504);break;case"da-dk":t=i(525005);break;case"de-at":t=i(117160);break;case"de-ch":t=i(996947);break;case"de-de":t=i(163254);break;case"el-gr":t=i(517110);break;case"en-ae":t=i(370754);break;case"en-af":t=i(539954);break;case"en-al":t=i(548675);break;case"en-at":t=i(942089);break;case"en-au":t=i(759720);break;case"en-bd":t=i(509612);break;case"en-be":t=i(101721);break;case"en-bg":t=i(878933);break;case"en-bh":t=i(284306);break;case"en-br":t=i(609327);break;case"en-ca":t=i(924269);break;case"en-ch":t=i(596608);break;case"en-cn":t=i(41475);break;case"en-co":t=i(256942);break;case"en-de":t=i(641544);break;case"en-dk":t=i(434126);break;case"en-ee":t=i(448730);break;case"en-eg":t=i(75131);break;case"en-es":t=i(925709);break;case"en-fi":t=i(501943);break;case"en-fr":t=i(883708);break;case"en-gb":t=i(520711);break;case"en-ge":t=i(19537);break;case"en-gr":t=i(233982);break;case"en-hk":t=i(382722);break;case"en-id":t=i(262248);break;case"en-ie":t=i(510174);break;case"en-il":t=i(850425);break;case"en-in":t=i(48496);break;case"en-iq":t=i(370295);break;case"en-it":t=i(309454);break;case"en-jo":t=i(448229);break;case"en-jp":t=i(980509);break;case"en-kh":t=i(436922);break;case"en-kr":t=i(72709);break;case"en-kw":t=i(653766);break;case"en-lb":t=i(479053);break;case"en-lk":t=i(101004);break;case"en-lt":t=i(315520);break;case"en-lv":t=i(717695);break;case"en-mx":t=i(790403);break;case"en-my":t=i(923916);break;case"en-ng":t=i(311809);break;case"en-nl":t=i(826016);break;case"en-no":t=i(94708);break;case"en-nz":t=i(308281);break;case"en-ph":t=i(883434);break;case"en-pk":t=i(280733);break;case"en-pl":t=i(802623);break;case"en-pt":t=i(429284);break;case"en-qa":t=i(331351);break;case"en-ro":t=i(527472);break;case"en-rs":t=i(228716);break;case"en-ru":t=i(400422);break;case"en-sa":t=i(587535);break;case"en-se":t=i(368771);break;case"en-sg":t=i(498184);break;case"en-si":t=i(729508);break;case"en-th":t=i(462256);break;case"en-u":t=i(455741);break;case"en-vn":t=i(261906);break;case"en-za":t=i(196759);break;case"es-ar":t=i(435724);break;case"es-cl":t=i(670179);break;case"es-co":t=i(254367);break;case"es-cr":t=i(841692);break;case"es-ec":t=i(346008);break;case"es-es":t=i(412927);break;case"es-gt":t=i(744636);break;case"es-mx":t=i(977827);break;case"es-pe":t=i(384234);break;case"es-us":t=i(377918);break;case"es-uy":t=i(848345);break;case"es-ve":t=i(10552);break;case"et-ee":t=i(604152);break;case"fa-ir":t=i(12090);break;case"fi-fi":t=i(337537);break;case"fr-be":t=i(241234);break;case"fr-ca":t=i(701376);break;case"fr-ch":t=i(454735);break;case"fr-dz":t=i(867156);break;case"fr-fr":t=i(574027);break;case"fr-us":t=i(468249);break;case"he-il":t=i(914136);break;case"hi-in":t=i(196802);break;case"hr-hr":t=i(919569);break;case"hu-hu":t=i(234381);break;case"id-id":t=i(449745);break;case"it-ch":t=i(470161);break;case"it-it":t=i(980927);break;case"ja-jp":t=i(971133);break;case"ja-us":t=i(692282);break;case"ka-ge":t=i(46617);break;case"ko-kr":t=i(404089);break;case"lt-lt":t=i(635581);break;case"lv-lv":t=i(367193);break;case"mk-mk":t=i(166884);break;case"ms-my":t=i(39893);break;case"nb-no":t=i(646718);break;case"nl-be":t=i(935184);break;case"nl-nl":t=i(736094);break;case"pl-gb":t=i(611400);break;case"pl-pl":t=i(839964);break;case"pt-br":t=i(968558);break;case"pt-pt":t=i(703263);break;case"ro-md":t=i(474916);break;case"ro-ro":t=i(836670);break;case"ru-am":t=i(698277);break;case"ru-az":t=i(877934);break;case"ru-by":t=i(937462);break;case"ru-gb":t=i(666924);break;case"ru-ge":t=i(270382);break;case"ru-il":t=i(958761);break;case"ru-kz":t=i(708595);break;case"ru-lv":t=i(136200);break;case"ru-md":t=i(565821);break;case"ru-ru":t=i(214001);break;case"ru-ua":t=i(217519);break;case"ru-us":t=i(621450);break;case"sk-sk":t=i(917743);break;case"sl-si":t=i(805947);break;case"sr-latn-rs":t=i(663076);break;case"sv-se":t=i(489893);break;case"th-th":t=i(98585);break;case"tr-az":t=i(476858);break;case"tr-tr":t=i(620844);break;case"uk-ua":t=i(736501);break;case"uk-us":t=i(293091);break;case"vi-jp":t=i(477970);break;case"vi-us":t=i(484169);break;case"vi-vn":t=i(660831);break;case"zh-cn":t=i(273883);break;case"zh-hk":t=i(621832);break;case"zh-tw":t=i(456163)}return t}(t);n||("zh-hant"===t.substring(0,7)?n=i(456163):(n=function(e){switch(e){case"sa":return i(317019);case"de":return i(163254);case"us":return i(281318);case"es":return i(412927);case"ee":return i(604152);case"fr":return i(574027);case"il":return i(914136);case"in":return i(196802);case"it":return i(980927);case"jp":return i(971133);case"nl":return i(736094);case"br":return i(968558);case"tr":return i(620844);case"ru":return i(214001);case"cn":return i(273883);case"bg":return i(198038);case"hr":return i(919569);case"cz":return i(407504);case"dk":return i(525005);case"fi":return i(337537);case"gr":return i(517110);case"hu":return i(234381);case"id":return i(449745);case"kr":return i(404089);case"lv":return i(367193);case"lt":return i(635581);case"my":return i(39893);case"no":return i(646718);case"pl":return i(839964);case"ro":return i(836670);case"rs":return i(663076);case"sk":return i(917743);case"si":return i(805947);case"se":return i(489893);case"th":return i(98585);case"ua":return i(736501);case"vn":return i(660831)}return}(t.substring(3,5)),n||(n=function(e){let t;switch(e){case"ar":t=i(317019);break;case"de":t=i(163254);break;case"en":t=i(281318);break;case"es":case"gl":case"eu":t=i(412927);break;case"et":t=i(604152);break;case"fr":t=i(574027);break;case"he":case"iw":t=i(914136);break;case"hi":t=i(196802);break;case"it":t=i(980927);break;case"ja":t=i(971133);break;case"nl":t=i(736094);break;case"pt":t=i(968558);break;case"tr":t=i(620844);break;case"ru":t=i(214001);break;case"zh":t=i(273883);break;case"bg":t=i(198038);break;case"ca":t=i(456521);break;case"hr":t=i(919569);break;case"cs":t=i(407504);break;case"da":t=i(525005);break;case"fi":t=i(337537);break;case"el":t=i(517110);break;case"hu":t=i(234381);break;case"id":t=i(449745);break;case"ko":t=i(404089);break;case"lv":t=i(367193);break;case"lt":t=i(635581);break;case"ms":t=i(39893);break;case"nb":t=i(646718);break;case"pl":t=i(839964);break;case"ro":t=i(836670);break;case"sr":t=i(663076);break;case"sk":t=i(917743);break;case"sl":t=i(805947);break;case"sv":t=i(489893);break;case"th":t=i(98585);break;case"uk":t=i(736501);break;case"vi":t=i(660831)}return t}(t.substring(0,2))))),n?l=n:(t="en-us",l=i(281318)),d={},c=new o(t),r=t},t.getDateLong=function(e){return h(e,l.Date.LongDateFormat)},t.getDateShort=function(e){return h(e,l.Date.ShortDateFormat)},t.getTimeLong=function(e){return h(e,l.Time.LongTimeFormat)},t.getTimeShort=function(e){return h(e,l.Time.ShortTimeFormat)},t.getDayName=function(e){return h(e,"{dddd}")},t.getDayAbbreviatedName=function(e){return h(e,"{ddd}")},t.getDayAndMonth=function(e){return h(e,l.Date.DayAndMonthFormat)},t.getMonthAndYear=function(e){return h(e,"{MMMM} {yyyy}")},t.getMonthAndDateAbbreviatedName=function(e){return h(e,"{MMM} {d}")},t.getYear=function(e){return h(e,"{yyyy}")},t.getDayAndMonthLong=function(e){return h(e,"{MMMM} {d}")},t.toStringWithFormattedDecimalSeparator=function(e,t,i){let o=e.toString();if(i&&(o=n.round(e,i).toString()),t){const e=o.split(".");e[1]=function(e,t){let i=e;for(let n=e.length;n<t;n+=1)i+="0";return i}(e[1]||"",t),o=e.join(".")}return o.replace(".",l.Number.DecimalSeparator)},t.getISO8601Date=function(e){return h(e,"{yyyy}{MM}{dd}")},t.getISO8601Time=function(e){return h(e,"{HH}{mm}{ss}")}},617379:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Priority=t.TaskTypeFlags=void 0;const n=i(496486),o=i(516283),s=i(516283),a=i(397691),r=i(422538),l=i(912770);var c,d;!function(e){e[e.CpuIntensive=1]="CpuIntensive",e[e.UsesNetworking=2]="UsesNetworking"}(c=t.TaskTypeFlags||(t.TaskTypeFlags={})),function(e){e[e.Low=1]="Low",e[e.Normal=2]="Normal",e[e.High=3]="High",e[e.Critical=4]="Critical"}(d=t.Priority||(t.Priority={}));const u={uiDisplayed:!1,inCall:!1,inCallEstablishment:!1,networkingAvailable:!1,busyTaskDelay:250,afterUiShownDelay:2500};t.default=new class{constructor(){this._tasks=[],this._issState=u,this._nextTaskExecutionTime=Number.MAX_VALUE,this._checkState=()=>{if(this.test_isInExternalUnitTest()){const e=this._tasks;return this._tasks=[],void n.each(e,(e=>e.callback()))}this._idleScheduler&&(l.default.clearTimeout(this._idleScheduler),this._idleScheduler=void 0),this._issState.uiDisplayed&&0!==this._tasks.length&&(this._checkStateTimer&&(l.default.clearExpiration(this._checkStateTimer),this._checkStateTimer=void 0),this._idleScheduler=l.default.setTimeout((()=>{const e=Date.now();let t=!1,i=!1;n.each(this._tasks,(a=>{if(e<this._nextTaskExecutionTime&&a.flags&c.CpuIntensive)return i=!0,!0;const r=a.flags&(c.UsesNetworking|c.CpuIntensive);return!!(this._issState.inCallEstablishment&&a.priority<d.Critical)||(!!(this._issState.inCall&&r&&a.priority<d.High)||(!(this._issState.networkingAvailable||!(a.flags&c.UsesNetworking))||(n.pull(this._tasks,a),o.log(s.LogTraceArea.IdleSchedulingService,"Executing Idle Task: "+a.name+", was queued for: "+(Date.now()-a.queuedAt)+"ms priority: "+d[a.priority]),a.callback(),t=!0,a.flags&c.CpuIntensive&&this._bumpBusyTimer(),!1)))})),this._idleScheduler=void 0,t?n.defer(this._checkState):i&&(this._checkStateTimer=l.default.setExpiration(this._checkState,this._nextTaskExecutionTime))}),0))},r.RegisterStartupable(this,"IdleSchedulingService")}test_resetParams(){this._tasks=[],this._nextTaskExecutionTime=Number.MAX_VALUE,this._issState=u}startup(){return this._checkState(),a.Resolved()}updateAppState(e){return!!this._update(e)}updateOptions(e){return!!this._update(e)}test_update(e){const t=this._update(e),i=n.fromPairs(n.intersectionWith(n.toPairs(e),n.toPairs(t),n.isEqual));return n.isEmpty(i)?void 0:i}_update(e){const t=n.fromPairs(n.differenceWith(n.toPairs(e),n.toPairs(this._issState),n.isEqual)),i=n.extend({},this._issState,e);if(o.log(s.LogTraceArea.IdleSchedulingService,`oldState: ${JSON.stringify(this._issState)} partialState: ${JSON.stringify(e)} diffState: ${JSON.stringify(t)}`),!n.isEmpty(t))return this._issState=i,n.each(t,((e,t)=>{if("uiDisplayed"===t)this._nextTaskExecutionTime=Date.now()+this._issState.afterUiShownDelay})),this._checkState(),t}indicateBusyOperation(){this._bumpBusyTimer(),this._checkState()}_bumpBusyTimer(){this._nextTaskExecutionTime=Math.max(this._nextTaskExecutionTime,Date.now()+this._issState.busyTaskDelay)}queueIdleTask(e,t,i,o=d.Normal){const s={name:e,flags:t,callback:i,queuedAt:Date.now(),priority:o},a=n.sortedLastIndexBy(this._tasks,s,(e=>-e.priority));this._tasks.splice(a,0,s),this._checkState()}test_isInExternalUnitTest(){return!1}}},436237:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isTraceEnabled=t.piiTrustMeThisIsSafe=t.setShouldFindPotentialPii=t.setEcsOptions=t.setLocalTracingMasks=t.throttleTrack=t.flush=t.track=t.warn=t.log=t.error=t.debug=t.getLogHistory=t.output=t.devWarningEvent=t.devErrorEvent=void 0;i(174958);const n=i(496486),o=i(516283),s=i(397691),a=i(640363),r=i(235478);var l=i(516283);function c(e){r.default.addEvent(e)}Object.defineProperty(t,"devErrorEvent",{enumerable:!0,get:function(){return l.devErrorEvent}}),Object.defineProperty(t,"devWarningEvent",{enumerable:!0,get:function(){return l.devWarningEvent}}),Object.defineProperty(t,"output",{enumerable:!0,get:function(){return l.output}}),t.getLogHistory=function(){return(0,o.getLogHistory)()},t.debug=o.debug,t.error=o.error,t.log=o.log,t.warn=o.warn,t.track=c,t.flush=function(){let e=s.Resolved();return r.default.isInitialized()&&(e=r.default.flush()),e};const d=e=>{c(e)};t.throttleTrack=function(e){return n.throttle(d,e)},t.setLocalTracingMasks=function(e){(0,o.setLocalTracingMasks)(e)},t.setEcsOptions=function(e,t){(0,o.setEcsOptions)(e,t)},t.setShouldFindPotentialPii=function(e){(0,o.setShouldFindPotentialPii)(e)},t.piiTrustMeThisIsSafe=function(e){return(0,o.piiTrustMeThisIsSafe)(e)},t.isTraceEnabled=function(e){return(0,o.isTraceEnabled)(e)},(0,o.setEnableDebug)((()=>a.default.isDebug()));console.log=function(...e){(0,o.log)(o.LogTraceArea.GenericUnsafe,...e)},console.warn=function(...e){(0,o.warn)(o.LogTraceArea.GenericUnsafe,...e)},console.debug=function(...e){(0,o.debug)((()=>e))},console.error=function(...e){(0,o.error)(o.LogTraceArea.GenericUnsafe,...e)},(0,o.updateLogLevels)()},647662:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeLocale=t.getLocalizeParamForGender=void 0;i(496486);const n=i(478262);t.getLocalizeParamForGender=function(e){return e===n.eGender.Male?"male":e===n.eGender.Female?"female":"other"},t.normalizeLocale=function(e){return e.toLowerCase()}},733754:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forceRTL=t.isRTLLanguage=t.isEnglishLanguage=t.isLocaleSupported=t.getParts=t.getString=t.getStringUnsafe=t.setLocale=t.resetLocaleToSystem=t.setSystemLocale=t.tests_getRawString=t.localeChangedEvent=t.languageChangedEvent=t.getLocale=t.getLanguageFromLocale=t.clearStringCache=t.getResetLanguageOptionString=t.cacheLanguage=void 0;const n=i(516778),o=i(277590),s=i(496486),a=i(667775),r=i(397691),l=i(974634),c=i(705465),d=i(647662),u=i(404057),g=i(640363),h=i(596588),p=new o.default({normalizeLocale:d.normalizeLocale,getLocaleInfoFromLocale:function(e){const t=o.default.fallbackLocale(e,Object.keys(S),"en-US");if("en-US"===t)return r.Resolved({newLocale:t,localizedStringTable:h});if(t in m)return r.Resolved({newLocale:t,localizedStringTable:m[t]});const i=S[t],n="resources/strings/";return a.default.readAssetFile(n+i).catch((()=>a.default.readAssetFile("strings/"+i))).then((e=>{const i=u.default.parseJsonErrorable(e);return s.isError(i)?r.Rejected(i):(C(t,i),{newLocale:t,localizedStringTable:i})}))},defaultStringTable:h}),S={"ar-SA":"LocalizedStrings_ar.json","bg-BG":"LocalizedStrings_bg.json","ca-ES":"LocalizedStrings_ca.json","cs-CZ":"LocalizedStrings_cs.json","da-DK":"LocalizedStrings_da.json","de-DE":"LocalizedStrings_de.json","el-GR":"LocalizedStrings_el.json","en-GB":"LocalizedStrings_en-GB.json","en-US":"LocalizedStrings_en.json","es-ES":"LocalizedStrings_es.json","es-MX":"LocalizedStrings_es-MX.json","et-EE":"LocalizedStrings_et.json","fi-FI":"LocalizedStrings_fi.json","fr-CA":"LocalizedStrings_fr-CA.json","fr-FR":"LocalizedStrings_fr.json","he-IL":"LocalizedStrings_he.json","hi-IN":"LocalizedStrings_hi.json","hr-HR":"LocalizedStrings_hr.json","hu-HU":"LocalizedStrings_hu.json","id-ID":"LocalizedStrings_id.json","it-IT":"LocalizedStrings_it.json","ja-JP":"LocalizedStrings_ja.json","ko-KR":"LocalizedStrings_ko.json","lt-LT":"LocalizedStrings_lt.json","lv-LV":"LocalizedStrings_lv.json","ms-MY":"LocalizedStrings_ms.json","nb-NO":"LocalizedStrings_nb.json","nl-NL":"LocalizedStrings_nl.json","pl-PL":"LocalizedStrings_pl.json","pt-BR":"LocalizedStrings_pt-BR.json","pt-PT":"LocalizedStrings_pt.json","qps-ploc":"LocalizedStrings_qps-ploc.json","qps-ploca":"LocalizedStrings_qps-ploca.json","qps-plocm":"LocalizedStrings_qps-plocm.json","ro-RO":"LocalizedStrings_ro.json","ru-RU":"LocalizedStrings_ru.json","sk-SK":"LocalizedStrings_sk.json","sl-SI":"LocalizedStrings_sl.json","sr-Latn-RS":"LocalizedStrings_sr-Latn.json","sv-SE":"LocalizedStrings_sv.json","th-TH":"LocalizedStrings_th.json","tr-TR":"LocalizedStrings_tr.json","uk-UA":"LocalizedStrings_uk.json","vi-VN":"LocalizedStrings_vi.json","zh-CN":"LocalizedStrings_zh-CN.json","zh-TW":"LocalizedStrings_zh-TW.json"};const m={en:h,"en-US":h};function C(e,t){m[e]=t}function y(e){const t=e.substring(0,2);switch(t){case"es":case"gl":case"eu":return"es";case"he":case"iw":return"he";case"ar":case"bg":case"ca":case"cs":case"da":case"de":case"el":case"en":case"et":case"fi":case"fr":case"hi":case"hr":case"hu":case"id":case"it":case"ja":case"ko":case"lt":case"lv":case"ms":case"nb":case"nl":case"pl":case"pt":case"qp":case"ro":case"ru":case"sk":case"sl":case"sr":case"sv":case"th":case"tr":case"uk":case"vi":return t;default:return""}}function f(e,t){return"auto-auto"===p.getLocale()?e+"^"+JSON.stringify(t):p.getString(e,t)}function b(e){let t;return e?(t=e.toLowerCase().trim(),0===t.indexOf("he")||0===t.indexOf("ar")):(t=p.getLanguageFromLocale().toLowerCase().trim(),"he"===t||"ar"===t)}t.cacheLanguage=C,t.getResetLanguageOptionString=function(){const e=y(p.getLocale()),t=y(g.default.getSystemLanguage()),i=p.getString("SettingsLanguages.ResetLanguageOption");return t&&t===e||!t&&"en"===e?i:t?`${i} - ${p.getString("ResetLanguageOption."+t)}`:`${i} - ${h.SettingsLanguages.ResetLanguageOption}`},t.clearStringCache=p.clearStringCache,t.getLanguageFromLocale=p.getLanguageFromLocale,t.getLocale=p.getLocale,t.languageChangedEvent=new l.default,t.localeChangedEvent=new l.default,t.tests_getRawString=p.tests_getRawString,t.setSystemLocale=function(e){undefined!==e&&p.setSystemLocale(e).then((()=>v()))},t.resetLocaleToSystem=function(){return p.resetLocaleToSystem().then((()=>v()))},t.setLocale=function(e){return p.setLocale(e,b(e)).then((()=>v()))},t.getStringUnsafe=f,t.getString=function(e,t){return f(e,t)},t.getParts=function(e,t,i){return"auto-auto"===p.getLocale()?[e+"^"+JSON.stringify(t)]:p.getParts(e,t,i)},t.isLocaleSupported=function(e){return-1!==s.indexOf(Object.keys(S),e)},t.isEnglishLanguage=function(){return"en"===p.getLanguageFromLocale().toLowerCase().trim()},t.isRTLLanguage=b;const _=!0;function v(){if(_){const e=b();c.I18nManager.allowRTL(e),c.I18nManager.forceRTL(e),n.International.allowRTL(e),n.International.forceRTL(e)}else c.I18nManager.allowRTL(!0),n.International.allowRTL(!0);t.languageChangedEvent.fire(p.getLanguageFromLocale()),t.localeChangedEvent.fire(p.getLocale())}t.forceRTL=function(e){n.International.forceRTL(e),_&&n.International.allowRTL(e),c.I18nManager.forceRTL(e),_&&c.I18nManager.allowRTL(e)}},10909:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MiniToastMessage=void 0;const n=i(496486),o=i(516283),s=i(516778),a=i(974634),r=i(436237);class l{constructor(e){this.params=e}}t.MiniToastMessage=l;t.default=new class{constructor(){this._bottomMarginEntries=[],this.showToastEvent=new a.default,this._currentMessages=[],this._keyCount=0,this._bottomMargin=0,this._defaultBottomMargin=0,this._baseBottomMargin=0}scheduleMessage(e){this._currentMessages.push(new l(e)),this._showToastMessage()}scheduleTextMessage(e,t,i){const n=t||"key"+this._keyCount++;this.scheduleMessage({key:n,textMessage:e,rootViewId:i})}removeToastMessage(e){this._displayedMessage&&this._displayedMessage.params.key===e?this.toastDismissed(e,!0):n.remove(this._currentMessages,(t=>t.params.key===e))}toastDismissed(e,t=!1){(!e||this._displayedMessage&&this._displayedMessage.params.key===e)&&(this._displayedMessage=void 0),this._showToastMessage(t)}setBottomMarginDefault(e){r.log(o.LogTraceArea.GenericUnsafe,"MiniToastService:setBottomMarginDefault - "+e),this._defaultBottomMargin=e,this._updateBottomMargin()}addOrUpdateBottomMargin(e,t){r.log(o.LogTraceArea.GenericUnsafe,"MiniToastService:addOrUpdateBottomMargin - "+e),this._addMarginListEntry({key:e,bottomMargin:t}),this._updateBottomMargin()}removeBottomMargin(e){const t=n.findIndex(this._bottomMarginEntries,(t=>t.key===e));-1!==t&&(r.log(o.LogTraceArea.GenericUnsafe,"MiniToastService:removeBottomMargin - "+e),this._bottomMarginEntries.splice(t,1),this._updateBottomMargin())}setBottomMarginBase(e){this._baseBottomMargin=e}_addMarginListEntry(e){const t=n.findIndex(this._bottomMarginEntries,(t=>t.key===e.key));-1!==t?(r.log(o.LogTraceArea.GenericUnsafe,"MiniToastService: Modified old entry - "+e.key),this._bottomMarginEntries[t]=e):(r.log(o.LogTraceArea.GenericUnsafe,"MiniToastService: Pushed new entry - "+e.key),this._bottomMarginEntries.push(e))}_updateBottomMargin(){const e=n.last(this._bottomMarginEntries),t=e?e.bottomMargin:this._defaultBottomMargin;this._bottomMargin!==t&&(r.log(o.LogTraceArea.GenericUnsafe,"MiniToastService: updating bottom margin "+t),this._bottomMargin=t,this._displayedMessage&&this.showToastEvent.fire(this._displayedMessage,this._totalBottomInset()))}_showToastMessage(e=!1){const t=n.head(this._currentMessages),i=s.App.getActivationState()===s.Types.AppActivationState.Active;(this._displayedMessage||t||e)&&i&&!this._displayedMessage&&(this.showToastEvent.fire(t,this._totalBottomInset()),this._currentMessages.shift(),this._displayedMessage=t)}_totalBottomInset(){return this._baseBottomMargin+this._bottomMargin}}},894135:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691),o=i(516283),s=i(889391),a=i(188208),r=i(361849),l=i(436237),c=i(746096),d=i(422538),u=i(404057),g=i(818882);t.default=new class{constructor(){this._msixBackgroundTasksEnabled=!1,this._appConfigStoreSubscribeCallback=()=>{const{enableMsixBackgroundTasks:e}=s.default.dangerouslyGetS4LSisuFeatures();!e&&this._msixBackgroundTasksEnabled?(this.maybeUnregisterAllMsixBackgroundTasks(),this._msixBackgroundTasksEnabled=e):e&&!this._msixBackgroundTasksEnabled&&(this._msixBackgroundTasksEnabled=e,this.maybeRegisterMsixBackgroundTasks(r.allMsixBackgroundTasks.filter((e=>e.backgroundTaskTriggerType===r.BackgroundTaskTriggerType.TimeTrigger))).catch((e=>{l.warn(o.LogTraceArea.Startup,"Something went wrong when trying to register MSIX background tasks",e)})))},d.RegisterStartupable(this,"MsixBackgroundTasksLifecycleManager")}startup(){this._msixBackgroundTasksEnabled=s.default.dangerouslyGetS4LSisuFeatures().enableMsixBackgroundTasks;s.default.dangerouslyGetS4LSisuFeatures().tokenRefreshRefreshThresholdInDays;return n.Resolved()}maybeRegisterMsixBackgroundTasks(e){return n.Resolved()}maybeUnregisterAllMsixBackgroundTasks(){return n.Resolved()}_registerTimeTriggeredTokenRefreshBackgroundTask(e,t){return n.all([g.LocalStorage.getItem(g.StorageKeys.RefreshTokenExpiration),g.LocalStorage.getItem(g.StorageKeys.LoginMethod)]).toEs6Promise().then((([i,n])=>{const s=u.default.parseJsonWithDefault(i,void 0);if(n===c.LoginMethods[c.LoginMethods.Guest]||n===c.LoginMethods[c.LoginMethods.WAM])return l.log(o.LogTraceArea.Startup,`Skipping time triggered token refresh background task registration because of login method (login method: ${n})`),Promise.resolve();l.log(o.LogTraceArea.Startup,`Will compute token refresh background task payload based on Skype Token time to expiration:(${s} ms).`);const d={intervalInMins:r.BackgroundTaskUtils.computeTimeTriggeredTokenRefreshTaskInterval(s)};return e.find((e=>e===t.backgroundTaskName))?g.LocalStorage.getItem(g.StorageKeys.TokenRefreshBackgroundTaskTimeTriggerInfo).toEs6Promise().then((e=>{const i=u.default.parseJsonWithDefault(e,-1);return-1!==i&&d.intervalInMins===i?(l.warn(o.LogTraceArea.Startup,`Background task with name ${t.backgroundTaskName} already registered with same payload (payload: ${d.intervalInMins}). Skipping registration...`),Promise.resolve()):(l.warn(o.LogTraceArea.Startup,`Background task with name ${t.backgroundTaskName} already registered but need to update payload! `+(-1!==i?`(old payload: ${i}, new payload: ${d.intervalInMins}). `:`(no previous known payload, new payload: ${d.intervalInMins})`)+"Updating registration..."),window.electronApi.ipcProvider.backgroundTasks.unregisterBackgroundTaskWithName.invoke(t.backgroundTaskName).then((e=>(l.track(new a.MSIXBackgroundTaskEvent(!!e,a.BackgroundTaskAction.Unregister,t.backgroundTaskName,r.BackgroundTaskTriggerType[t.backgroundTaskTriggerType],d.intervalInMins)),e?(g.LocalStorage.removeItem(g.StorageKeys.TokenRefreshBackgroundTaskTimeTriggerInfo),this._registerTask(t,d)):(l.warn(o.LogTraceArea.Startup,`Failed to update registration for task with name ${t.backgroundTaskName} (could not unregister old task)`),Promise.resolve())))))})):this._registerTask(t,d)}))}_registerTask(e,t){return window.electronApi.ipcProvider.backgroundTasks.registerBackgroundTask.invoke({backgroundTaskName:e.backgroundTaskName,backgroundTaskEntryPoint:e.backgroundTaskEntryPoint,backgroundTaskTrigger:{triggerType:e.backgroundTaskTriggerType,timeTriggerInterval:t.intervalInMins}}).then((i=>(l.track(new a.MSIXBackgroundTaskEvent(!!i,a.BackgroundTaskAction.Register,e.backgroundTaskName,r.BackgroundTaskTriggerType[e.backgroundTaskTriggerType],t.intervalInMins)),i?(l.log(o.LogTraceArea.Startup,`Successfully registered MSIX background task with name: ${e.backgroundTaskName} & type: ${r.BackgroundTaskTriggerType[e.backgroundTaskTriggerType]} & payload: ${t.intervalInMins}`),g.LocalStorage.setItem(g.StorageKeys.TokenRefreshBackgroundTaskTimeTriggerInfo,JSON.stringify(t.intervalInMins)).toEs6Promise()):(l.warn(o.LogTraceArea.Startup,`Failed to register MSIX background task with name: ${e.backgroundTaskName} & type: ${r.BackgroundTaskTriggerType[e.backgroundTaskTriggerType]} & payload: ${t.intervalInMins}`),Promise.resolve()))))}}},667024:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setSampledScenarios=t.SampledScenarios=void 0;const n=i(516283),o=(i(809206),i(496486)),s=(i(889391),i(436237)),a=i(415963),r=i(356796);i(640363);t.SampledScenarios={},t.setSampledScenarios=function(e){t.SampledScenarios=e};t.default=new class{constructor(){this._perfTrackerList=new Map}createTracker(e,t,i,o=!1,l=!1){if(!this._isScenarioTrackingEnabled(t))return;const c=new r.PerfTracker(t,i,e,o);if(l&&this._perfTrackerList.size>0){let i=!1;if(this._perfTrackerList.forEach((e=>{e.getScenarioName()!==t||(i=!0)})),i)return void s.warn(n.LogTraceArea.Responsiveness,"createTracker "+a.ScenarioName[t]+" | Tracker ["+e+"]  for tracking "+a.ScenarioName+" already exists.")}this._perfTrackerList.set(e,c),s.log(n.LogTraceArea.Responsiveness,"createTracker "+a.ScenarioName[t]+" | Tracker ["+e+"] created.")}removeTracker(e){if(!this._isGlobalTrackingEnabled())return;const t=this._perfTrackerList.get(e);t?t.cancelTimeout():s.log(n.LogTraceArea.Responsiveness,"removeTracker | Tracker ["+e+"] not found.");const i=this._perfTrackerList.delete(e);s.log(n.LogTraceArea.Responsiveness,"removeTracker | Tracker ["+e+"] was "+(i?"deleted":"not deleted"))}markPress(e,t,i=!1){if(!this._isGlobalTrackingEnabled())return;const o=this._perfTrackerList.get(e);o?o.markPress(t,i).then((t=>{s.log(n.LogTraceArea.Responsiveness,"markPress | Tracker ["+e+"]  - last press delay : "+t)})):s.log(n.LogTraceArea.Responsiveness,"markPress | Tracker ["+e+"] not found.")}markActionDone(e){if(!this._isGlobalTrackingEnabled())return;const t=this._perfTrackerList.get(e);t?t.markActionDone():s.log(n.LogTraceArea.Responsiveness,"markActionDone | Tracker ["+e+"] not found.")}cancelTimeout(e){if(!this._isGlobalTrackingEnabled())return;const t=this._perfTrackerList.get(e);t?t.cancelTimeout():s.log(n.LogTraceArea.Responsiveness,"cancelTimeout | Tracker ["+e+"] not found.")}createTrackerAndMarkPressTime(e,t,i,o,a=!1){this.createTracker(e,t,o,a),s.log(n.LogTraceArea.Responsiveness,"createTracker <-> markPress"),this.markPress(e,i)}markActionDoneAndRemoveTracker(e){this.markActionDone(e),this.removeTracker(e)}createOneShotTrackerAndMarkPressTime(e,t,i,n,o=!1){this.createTracker(e,t,n,o),this.markPress(e,i,!0),this.removeTracker(e)}_isSampleRatePositive(e){if(o.isEmpty(t.SampledScenarios))return s.debug((()=>"SampledScenarios not populated. Disable now.")),!1;const i=a.ScenarioName[e],r=t.SampledScenarios[i];return s.debug((()=>"Scenario "+i+" sample rate : "+r)),!!(o.isNumber(r)&&r>0)&&(s.log(n.LogTraceArea.Responsiveness,"Scenario sample rate available and enabled for some percentage. Enable now"),!0)}_isGlobalTrackingEnabled(){return!1}_isScenarioTrackingEnabled(e){return this._isGlobalTrackingEnabled()&&this._isSampleRatePositive(e)}}},356796:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PerfTracker=void 0;const n=i(583367),o=i(397691),s=i(415963),a=i(612324),r=i(853374),l=(i(889391),i(436237)),c=i(366355),d=i(640363),u=i(860234);t.PerfTracker=class{constructor(e,t,i=r.default.newCauseId(),n=!1){this._pressTimeMarked=!1,this._scenarioName=e,this._trackerId=i,this._telemetryScenario=new a.ResponsivenessTelemetryScenario(e,t,n)}markPress(e,t=!1){if(!this._isScenarioTrackingEnabled())return o.Rejected();l.debug((()=>"markPress "+s.ScenarioName[this._scenarioName]+" ["+this._trackerId+"]")),this._pressTimeMarked=!0;const i=Math.floor(e.nativeEvent.timestamp);this._telemetryScenario.startResponsivenessScenario(),d.default.getUITestsConfigOption(u.UITestsConfigOptions.IsUiResponsivenessModeOn)?l.log(c.LogTraceArea.Responsiveness,"UI Responsiveness CiFx mode ON"):l.log(c.LogTraceArea.Responsiveness,"UI Responsiveness CiFx mode OFF");const r=Date.now();this._pressTimestamp=r;return(e.nativeEvent.timestamp?n.default.getUptimeMillis().then((e=>{if(e<i)return this._closeScenarioWithError(a.ResponsivenessScenarioStep.DelayComputationError),o.Rejected();return e-i})):o.Resolved(r-e.timeStamp)).then((e=>(l.log(c.LogTraceArea.Responsiveness,s.ScenarioName[this._scenarioName]+" ["+this._trackerId+"] Native Press: "+i+" | JS Press: "+r+" | PressDelay: "+e),this._telemetryScenario.markStep(a.ResponsivenessScenarioStep.OnJsPress,e),t&&this._closeScenario(),e)))}markActionDone(){if(!this._isScenarioTrackingEnabled())return;l.debug((()=>"markActionDone "+s.ScenarioName[this._scenarioName]+" ["+this._trackerId+"]"));const e=Date.now();if(e<this._pressTimestamp)return void this._closeScenarioWithError(a.ResponsivenessScenarioStep.DelayComputationError);const t=e-this._pressTimestamp;l.log(c.LogTraceArea.Responsiveness,s.ScenarioName[this._scenarioName]+" ["+this._trackerId+"] ActionDoneDelay: "+t),this._telemetryScenario.markStep(a.ResponsivenessScenarioStep.ActionDone,t),this._closeScenario()}setTraceOnly(e){this._telemetryScenario.traceOnly(e)}getScenarioName(){return this._scenarioName}cancelTimeout(){this._telemetryScenario.cancelTimeoutTimer()}_closeScenario(){this._isScenarioTrackingEnabled()&&(l.debug((()=>"close scenario "+s.ScenarioName[this._scenarioName]+" ["+this._trackerId+"]")),this._telemetryScenario.markStep(a.ResponsivenessScenarioStep.ActionClosed),this._telemetryScenario.cancelTimeoutTimer())}_closeScenarioWithError(e){this._isScenarioTrackingEnabled()&&(l.debug((()=>"close scenario with error"+s.ScenarioName[this._scenarioName]+" ["+this._trackerId+"]")),this._telemetryScenario.markStep(e),this._telemetryScenario.cancelTimeoutTimer())}_isScenarioTrackingEnabled(){return!1}}},350325:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.reloadApp=void 0;const n=i(34868),o=i(516283),s=i(516283);t.reloadApp=function(e){s.log(o.LogTraceArea.Startup,`Reloading app (causeId ${e})`),n.default.reload()}},914976:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dev_unknownOmit=t.trustMeThisJsonIsSafe=t.mriOrId=void 0;const n=i(174958),o=i(516283);t.mriOrId=function(e){return e&&n.pii.Mri(e)},t.trustMeThisJsonIsSafe=function(e){return(0,o.piiTrustMeThisIsSafe)(JSON.stringify(e))},t.dev_unknownOmit=function(e){return e?n.pii.Omit(e):""}},973055:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.setupEnvironment=void 0;const n=i(496486),o=(i(168950),i(203422)),s=i(516283),a=(i(775463),i(516778),i(217041)),r=i(662783),l=i(397691),c=i(63060),d=i(175235),u=i(436237),g=i(404057),h=i(912770);t.setupEnvironment=function(e){h.default.initialize(),a.Options.development=!1,a.Options.preventTryCatchInRender=!0,l.config.catchExceptions=!1,l.config.exceptionHandler=e=>{if(e)throw u.error(s.LogTraceArea.ExceptionHandling,g.default.errorAsString(e)),e},l.config.unhandledErrorHandler=e=>{u.warn(s.LogTraceArea.ExceptionHandling,"Unhandled rejected SyncTask. Error: ",g.default.errorAsString(e))},h.default.debugLog=u.debug;const t=new d.ExceptionReporter;t.registerAlertView(e),t.registerConsoleView(),t.setPrimaryHandler(o.default.handleException);const i=h.default;a.Options.setTimeout=n.bind(i.setTimeout,i),a.Options.clearTimeout=n.bind(i.clearTimeout,i),a.Options.shouldComponentUpdateComparator=n.bind(c.default.comparator,c.default),r.SimpleWebRequestOptions.MaxSimultaneousRequests=5,r.SimpleWebRequestOptions.setTimeout=n.bind(h.default.setTimeout,h.default),r.SimpleWebRequestOptions.clearTimeout=n.bind(h.default.clearTimeout,h.default)}},422538:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.test_reset=t.EnsureStarted=t.EnsureStartedOnly=t.EnsureStartedExclusive=t.HasStarted=t.RegisterStartupable=t.setDetailedInstrumentationSink=t.setNormalInstrumentationSink=t.DetailedInstrumentationSink=t.NormalInstrumentationSink=void 0;const n=i(496486),o=i(217041),s=i(397691),a=i(404057);function r(e){return"function"==typeof e?e():e}const l=[];let c=[];const d=!1;function u(e){e=r(e);return n.find(l,(t=>t.startupable===e)).isComplete}function g(e,t){if(n.isArrayLike(e)&&"function"!=typeof e){const i=e.map(r);if(d){if(0===i.length)return s.Resolved();if(1===i.length)return g(i[0],t);return g(i.pop(),t).then((()=>g(i,t)))}return s.all(n.map(i,(e=>p(e,t)))).then(n.noop)}return p(r(e),t)}function h(e){const t=n.find(l,(t=>t.startupable===e));return t}function p(e,i){const r=h(e);if(!r)return s.Rejected("Object not registered for startup: "+C(e));if(r.isComplete)return s.Resolved();if(r.startupPromise)return r.startupPromise;const u=s.Defer();r.startupPromise=u.promise();const p=Date.now();let y;return function(){0===m&&(S=setInterval((()=>{const e=n.map(n.filter(l,(e=>!e.isComplete&&!!e.startupPromise)),(e=>e.name));t.NormalInstrumentationSink&&e.length>0&&(0,t.NormalInstrumentationSink)("Still Starting Up: "+e.join(", "))}),2e3));m++}(),g(r.dependencies,i).then((()=>{t.DetailedInstrumentationSink&&(y=Date.now(),d||(0,t.DetailedInstrumentationSink)("Starting: "+r.name+(r.dependencies.length>0?", Deps Finish: "+(y-p)+"ms":"")));const i=n.attempt((()=>e.startup()));return n.isError(i)?s.Rejected(i):i})).finally((()=>{m--,0===m&&(clearInterval(S),S=void 0)})).then((()=>{if(r.isComplete=!0,r.startupPromise=void 0,t.DetailedInstrumentationSink){const e=Date.now()-y;(0,t.DetailedInstrumentationSink)("Finish: "+r.name+": "+e+"ms")}i&&e instanceof o.StoreBase&&c.push(e),function(){if(0===m&&c.length>0){o.StoreBase.pushTriggerBlock();const e=c;c=[],n.each(e,(e=>{const t=e;n.isFunction(t.trigger)&&t.trigger()})),o.StoreBase.popTriggerBlock()}}(),u.resolve(void 0)}),(e=>{t.DetailedInstrumentationSink&&(0,t.DetailedInstrumentationSink)("Startup Error: "+r.name+": "+a.default.errorAsString(e)),u.reject(e)})),u.promise()}t.setNormalInstrumentationSink=function(e){t.NormalInstrumentationSink=e},t.setDetailedInstrumentationSink=function(e){t.DetailedInstrumentationSink=e},t.RegisterStartupable=function(e,t,i=[]){if(n.find(l,(t=>t.startupable===e)))return;const o={startupable:e,name:t,dependencies:i.map(r),startupPromise:void 0,isComplete:!1};l.push(o)},t.HasStarted=u,t.EnsureStartedExclusive=function(e,t=!1){const i=n.map(e,(i=>{const o=h(i);if(!o)return s.Rejected("Object not registered for startup: "+C(i));const a=n.find(o.dependencies,(t=>!n.includes(e,t)));return a?s.Rejected("Missing startup dependency: "+C(a)):p(i,t)}));return s.all(i).then(n.noop)},t.EnsureStartedOnly=function(e,t,i=!1){const o=h(e=r(e));if(!o)return s.Rejected("Object not registered for startup: "+C(e));const a=n.find(o.dependencies,(e=>!n.includes(t,e)||!u(e)));return a?s.Rejected("Missing startup dependency: "+C(a)):p(e,i)},t.EnsureStarted=function(e){return g(e,!1)};let S,m=0;function C(e){const t=n.find(l,(t=>t.startupable===e));if(t)return t.name;const i=/function (.{1,})\(/.exec(e.constructor.toString());return i&&i.length>1?i[1]:""}t.test_reset=function(){n.each(l,(e=>{e.isComplete=!1,e.startupPromise=void 0}))}},404057:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(174958),o=i(496486),s=i(516283),a=i(436237),r=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,l=/[A-Za-z\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,c=RegExp("(?:[✀-➿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[︎️]?(?:[̀-ͯ︠-︣⃐-⃰]|\ud83c[\udffb-\udfff])?(?:‍(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[︎️]?(?:[̀-ͯ︠-︣⃐-⃰]|\ud83c[\udffb-\udfff])?)*");class d{static deburrLocaleUpperCase(e){return e?d.deburr(e.toLocaleUpperCase()).toLocaleUpperCase():e}static deburrUpperCase(e){return e?d.toUpper(d.deburr(d.toUpper(e))):e}static deburrLocaleLowerCase(e){return e?d.deburr(e.toLocaleLowerCase()):e}static deburrLowerCase(e,t=!1){return e?d.deburr(e.toLowerCase(),t):e}static deburr(e,t=!1){return e?t?d.normalizeGreekFast(o.deburr(e)):d.normalizeGreek(o.deburr(e)):e}static normalizeGreek(e){return e=e.replace(/ά/g,"α").replace(/Ά/g,"Α").replace(/έ/g,"ε").replace(/Έ/g,"Ε").replace(/ή/g,"η").replace(/Ή/g,"Η").replace(/ί|ΐ|ϊ/g,"ι").replace(/Ί|Ϊ/g,"Ι").replace(/ό/g,"ο").replace(/Ό/g,"Ο").replace(/ύ|ΰ|ϋ/g,"υ").replace(/Ύ|Ϋ/g,"Υ").replace(/ώ/g,"ω").replace(/Ώ/g,"Ω").replace(/ς/g,"σ")}static normalizeGreekFast(e){const t=[];for(let i=0;i<e.length;i++){let n=e[i];switch(n){case"ά":n="α";break;case"Ά":n="Α";break;case"έ":n="ε";break;case"Έ":n="Ε";break;case"ή":n="η";break;case"Ή":n="Η";break;case"ί":case"ΐ":case"ϊ":n="ι";break;case"Ί":case"Ϊ":n="Ι";break;case"ό":n="ο";break;case"Ό":n="Ο";break;case"ύ":case"ΰ":case"ϋ":n="υ";break;case"Ύ":case"Ϋ":n="Υ";break;case"ώ":n="ω";break;case"Ώ":n="Ω";break;case"ς":n="σ"}t.push(n)}return t.join("")}static escapeReservedRegexCharacters(e){return e.replace(r,"\\$&")}static formatV(e,t,i){return i=i||this.asString,e=this._formatInternal(e,t,i),1===t.length&&"object"==typeof t[0]&&(e=this._formatInternal(e,t[0],i)),e}static format(e,...t){return this.formatV(e,t)}static formatUri(e,...t){return this.formatV(e,t,(e=>encodeURIComponent(this.asString(e))))}static _isSurogate(e){return e>=55296&&e<=57343}static _assertMissingPairSurrogate(e,t){}static _symbolsOffset(e,t,i){const n=e.length;let o=0,s=t;for(;!(o===i||s>n);){const t=e.charCodeAt(s);d._isSurogate(t)&&(++s>=n||!d._isSurogate(e.charCodeAt(s)))&&d._assertMissingPairSurrogate(e,s-1),s++,o++}return s}static countSymbols(e){let t=e.length;const i=e.length;for(let n=0;n<i;n++)d._isSurogate(e.charCodeAt(n))&&(++n>=i&&!d._isSurogate(e.charCodeAt(n))&&d._assertMissingPairSurrogate(e,n-1),t--);return t}static getFirstEmoji(e){const t=e.match(c);return t?t[0]:null}static substr(e,t,i){const n=d._symbolsOffset(e,0,t),o=d._symbolsOffset(e,n,i);return e.substring(n,o)}static _formatInternal(e,t,i){for(const n in t)t.hasOwnProperty(n)&&(e=e.replace("{"+n+"}",i(t[n])));return e}static asString(e){if(null===e)return"null";if(void 0===e)return"undefined";const t=typeof e;return"string"===t?e:"number"===t||"boolean"===t?String(e):"function"===t?"":JSON.stringify(e)}static errorAsString(e,t=!1){let i;return i=e&&e.code&&e.message?e.code+":"+e.message:e instanceof Error?e.toString():e&&e.errorMessage?e.errorMessage:d.asString(e),t?i:n.pii.Omit(i)}static shorten(e,t=0){if(!e||0===t)return e;let i=e;return i.length>t&&(i=d.substr(i,0,t-3)+"…"),i}static parseVersion(e){if(!e)return;const t=e.split(".");return{major:parseInt(t[0],10)||0,minor:parseInt(t[1],10)||0,build:parseInt(t[2],10)||0,revision:parseInt(t[3],10)||0}}static compareVersions(e,t){if(e===t)return 0;if(!e)return-1;if(!t)return 1;const i=d.parseVersion(e),n=d.parseVersion(t);return i.major>n.major?1:i.major<n.major?-1:i.minor>n.minor?1:i.minor<n.minor?-1:i.build>n.build?1:i.build<n.build?-1:i.revision>n.revision?1:i.revision<n.revision?-1:0}static startsWithUnicodeLetter(e){return!!e&&l.test(e[0])}static getFirstCharFromDeburredString(e){if(!this.startsWithUnicodeLetter(e))return;const t=this.deburrLocaleUpperCase(e[0]);return t?t[0]:void 0}static parseJsonErrorable(e){return o.attempt((()=>JSON.parse(e)))}static parseJsonWithDefault(e,t){if(!e)return t;const i=this.parseJsonErrorable(e);return o.isError(i)?(a.error(s.LogTraceArea.GenericUnsafe,"Error parsing JSON: "+this.errorAsString(i)+" , Content: "+n.pii.Omit(e)),t):i}static parseJsonErrorToUndefined(e){return this.parseJsonWithDefault(e,void 0)}static toUpper(e){return o.toUpper(e)}static _replacePlaceholder(e,t,i){const n=[];return o.each(e,(e=>{if("string"==typeof e){const o=e.split("{"+t+"}");2===o.length?(n.push(o[0]),n.push(i),n.push(o[1])):n.push(e)}else n.push(e)})),n}static getParts(e,t){let i=[e];return o.each(t,((e,t)=>{i=this._replacePlaceholder(i,t,e)})),i}static safeDecodeURIComponent(e){const t=o.attempt((()=>decodeURIComponent(e)));if(!o.isError(t))return t;a.error(s.LogTraceArea.GenericUnsafe,`${t.message}: ${e}`)}static parseArguments(e){const t=[];let i,n,s=!1;for(let a=0;a<e.length;a++){const r=e.charAt(a);o.isUndefined(i)?r===r.trim()&&("'"===r||'"'===r?(n=r,i=a+1):i=a):s||"\\"!==r?!s&&(r!==r.trim()&&o.isUndefined(n)||r===n)?(t.push(e.substring(i,a)),i=void 0,n=void 0):s=!1:s=!0}return!o.isUndefined(i)&&o.isUndefined(n)&&t.push(e.substring(i)),o.map(t,(e=>e.replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\(.)/g,"$1")))}static stringToBuffer(e){const t=new ArrayBuffer(e.length),i=new Uint8Array(t);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);return i}static bufferToString(e){return String.fromCharCode.apply(null,e)}}t.default=d},919358:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(397691),s=i(562141),a=i(998754),r=i(422538);t.default=new class{constructor(){this._currentSkewMs=0,r.RegisterStartupable(this,"TimeService",[a.default])}startup(){if(0===this._currentSkewMs){const e=a.default.getDataExclusive(s.InternalKeys.ClockSkew);e&&(this._currentSkewMs=e)}return o.Resolved()}getRawClientTimeMs(){return Date.now()}getServerTimeMs(){return Date.now()+this._currentSkewMs}putCurrentServiceTime(e,t){if(n.isNaN(e)||n.isUndefined(e))return;const i=Math.round(e-t/2-Date.now());Math.abs(i-this._currentSkewMs)>6e4&&(this._currentSkewMs=i,a.default.putData(s.InternalKeys.ClockSkew,this._currentSkewMs))}}},758811:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(667294),s=i(217041);t.default=function(e,t){class i extends s.ComponentBase{_buildState(e,i){return t(e,i)}render(){return o.createElement(e,Object.assign(Object.assign({},this.state),{ref:this.props.forwardedRef}),this.props.children)}}return o.forwardRef(((e,t)=>(0,n.jsx)(i,Object.assign({},e,{forwardedRef:t}))))}},660198:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WithResub=void 0;var n=i(758811);Object.defineProperty(t,"WithResub",{enumerable:!0,get:function(){return n.default}})},234736:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDbSchema=t.SqlSchema=t.Indexes=t.SchemaVersion=t.QuerySortOrder=void 0,function(e){e[e.None=0]="None",e[e.Forward=1]="Forward",e[e.Reverse=2]="Reverse"}(t.QuerySortOrder||(t.QuerySortOrder={})),t.SchemaVersion=90,t.Indexes={Profiles_PhoneNumber:{name:"phoneNumbersIndex",keyPath:"_phoneNumbersForDbIndex"},Telemetry_Priority_Timestamp:{name:"prioritytimestamp",keyPath:["priority","timestamp"],unique:!1}},t.SqlSchema={Telemetry:{name:"Telemetry",primaryKeyPath:"telemetry",indexes:[t.Indexes.Telemetry_Priority_Timestamp]},Profiles:{name:"profilecachev8",primaryKeyPath:"mri",indexes:[t.Indexes.Profiles_PhoneNumber]},Messages:{name:"messagesv12",primaryKeyPath:["conversationId","cuid"],indexes:[]}},t.IndexedDbSchema={Telemetry:{name:"Telemetry",primaryKeyPath:"telemetry",indexes:[t.Indexes.Telemetry_Priority_Timestamp]},Profiles:{name:"profilecachev8",primaryKeyPath:"mri",indexes:[t.Indexes.Profiles_PhoneNumber]},Messages:{name:"messagesv12",primaryKeyPath:["conversationId","cuid"],indexes:[]}}},624455:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDbAdapter=void 0;const n=i(496486),o=i(436237),s=i(746096),a=i(816265),r=i(234736),l=i(670231);t.IndexedDbAdapter=class{constructor(e){if(e)this._dbFactory=e;else{const e=(0,a.getWindow)();this._dbFactory=e._indexedDB||e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,(0,a.checkSupport)(this._dbFactory)}}initialize(e){if(this._db)throw new Error("IndexedDB is already open");const t=this._dbFactory.open(e,r.SchemaVersion);return t.onupgradeneeded=e=>{},(0,a.requestToPromise)(t).then((e=>{this._db=e,(0,o.log)(s.LogTraceArea.GenericUnsafe,"open() IndexedDB successfully")})).catch((e=>{(0,o.error)(s.LogTraceArea.GenericUnsafe,"open() IndexedDB failed",e)}))}close(){this._db&&(this._db.close(),this._db=void 0)}openTransaction(e,t){var i;if(!this._db)throw new Error("Can't openTransaction, database is closed");return null===(i=this._db)||void 0===i?void 0:i.transaction(e,t)}openIndex(e,t,i){const n=e.objectStore(t).index(i.name);if(!n)throw new Error("Index not found: "+i.name);return n}get(e,t){const i=this.openTransaction([e.name],"readonly");if(!i||(0,n.isError)(i))return Promise.reject(i);const o=i.objectStore(e.name);return(0,a.requestToPromise)(o.get(t)).then((e=>e))}getMany(e,t,i){const o=this.openTransaction([e.name],"readonly");if(!o||(0,n.isError)(o))return Promise.reject(o);const s=(null==i?void 0:i.index)&&this.openIndex(o,e.name,null==i?void 0:i.index),c=o.objectStore(e.name),d=s||c;if(!(null==i?void 0:i.offset)&&!(null==i?void 0:i.reverseOrSortOrder))return(0,a.requestToPromise)(d.getAll(t,null==i?void 0:i.limit)).then((e=>e));const u=!0===(null==i?void 0:i.reverseOrSortOrder)||(null==i?void 0:i.reverseOrSortOrder)===r.QuerySortOrder.Reverse,g=d.openCursor(t,u?"prev":"next");return(0,l.getFromCursorRequest)(g,i.limit,i.offset)}put(e,t){const i=this.openTransaction([e.name],"readwrite");if(!i||(0,n.isError)(i))return Promise.reject(i);const o=[],s=(0,n.attempt)((()=>{const n=i.objectStore(e.name);(Array.isArray(t)?t:[t]).forEach((e=>{o.push((0,a.requestToPromise)(n.put(e)))}))}));return s?Promise.reject(s):Promise.all(o).then(n.noop)}remove(e,t){const i=(0,n.attempt)((()=>(0,a.formListOfKeys)(t,e.primaryKeyPath)));if((0,n.isError)(i))return Promise.reject(i);const o=this.openTransaction([e.name],"readwrite");if(!o||(0,n.isError)(o))return Promise.reject(o);const s=o.objectStore(e.name);return Promise.all(i.map((e=>(0,a.requestToPromise)(s.delete(e))))).then(n.noop)}count(e,t){const i=this.openTransaction([e.name],"readonly");if(!i||(0,n.isError)(i))return Promise.reject(i);const o=i.objectStore(e.name);return(0,a.requestToPromise)(o.count(t))}}},670231:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.onUpgradeNeeded=t.getFromCursorRequest=t.iterateOverCursorRequest=void 0;const n=i(496486),o=i(234736),s=i(816265),a=i(436237),r=i(746096);function l(e,t,i,n){return new Promise(((o,s)=>{let a=0;e.onsuccess=e=>{const s=e.target.result;if(s)if(n)s.advance(n),n=0;else{if(t(s),a++,i&&a===i)return void o();s.continue()}else o()},e.onerror=e=>{s(e)}}))}t.iterateOverCursorRequest=l,t.getFromCursorRequest=function(e,t,i){const n=[];return l(e,(e=>{n.push(e.value)}),t,i).then((()=>n))},t.onUpgradeNeeded=function(e,t){const i=(e.currentTarget||e.target).transaction;if(!i)throw new Error("onupgradeneeded: target transaction is null!");if(e.oldVersion<o.SchemaVersion){(0,a.log)(r.LogTraceArea.GenericUnsafe,"onUpgradeNeeded() IndexedDB Old version detected ("+e.oldVersion+"), clearing all data");for(let e=0;e<t.objectStoreNames.length;e++){const i=t.objectStoreNames.item(e);i&&t.deleteObjectStore(i)}}else for(let e=0;e<t.objectStoreNames.length;e++){const i=t.objectStoreNames.item(e);i&&!o.IndexedDbSchema[i]&&((0,a.log)(r.LogTraceArea.GenericUnsafe,"onUpgradeNeeded() IndexedDB Delete dead store ("+i+")"),t.deleteObjectStore(i))}Object.keys(o.IndexedDbSchema).forEach((e=>{let a;const r=o.IndexedDbSchema[e];if((0,n.includes)(t.objectStoreNames,r.name))a=i.objectStore(r.name),(0,n.each)(a.indexNames,(e=>{const t=a.index(e);let i=!1;const o=(0,n.find)(r.indexes,(t=>t.name===e));if(o&&(0,n.isObject)(o)){if(typeof t.keyPath!=typeof o.keyPath)i=!0;else if("string"==typeof t.keyPath)t.keyPath!==o.keyPath&&(i=!0);else if(t.keyPath.length!==o.keyPath.length)i=!0;else for(let e=0;e<t.keyPath.length;e++)if(t.keyPath[e]!==o.keyPath[e]){i=!0;break}}else i=!0;i&&a.deleteIndex(e)}));else{let e=r.primaryKeyPath;(0,s.isCompoundKeyPath)(e)&&(e="nsp_pk"),a=t.createObjectStore(r.name,{keyPath:e})}if(r.indexes)for(const e of r.indexes)if(!(0,n.includes)(a.indexNames,e.name)){const t=e.keyPath;a.createIndex(e.name,t,{unique:e.unique})}}))}},816265:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.formListOfKeys=t.arrayfy=t.isCompoundKeyPath=t.requestToPromise=t.checkSupport=t.getBrowserInfo=t.getWindow=void 0;const n=i(496486),o=i(436237),s=i(746096);function a(){const e=navigator.userAgent;let t,i=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],{name:"IE",version:t[1]||""}):"Chrome"===i[1]&&(t=e.match(/\b(OPR|Edge)\/(\d+)/i),null!==t)?{name:"OPR"===t[1]?"Opera":t[1],version:t[2]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(t=e.match(/version\/(\d+)/i))&&i.splice(1,1,t[1]),{name:i[0],version:i[1]})}function r(e){return(0,n.isArray)(e)&&e.length>1}t.getWindow=function(){if("object"==typeof window&&window.document)return window;if(self&&void 0===self.document)return self;throw(0,o.error)(s.LogTraceArea.GenericUnsafe,"getWindow() The window is undefined."),new Error("The window is undefined.")},t.getBrowserInfo=a,t.checkSupport=function(e){if(!e)throw(0,o.error)(s.LogTraceArea.GenericUnsafe,"constructor() No support for IndexedDB in this browser"),new Error("No support for IndexedDB in this browser");if("undefined"!=typeof navigator){const e=a();if("Safari"===e.name&&Number(e.version)<10)throw(0,o.error)(s.LogTraceArea.GenericUnsafe,"checkSupport() Safari versions before 10.0 don't properly implement IndexedDB"),new Error("Safari versions before 10.0 don't properly implement IndexedDB");if(-1!==navigator.userAgent.indexOf("Mobile Crosswalk"))throw(0,o.error)(s.LogTraceArea.GenericUnsafe,"checkSupport() Android Crosswalk's IndexedDB implementation is very slow"),new Error("Android Crosswalk's IndexedDB implementation is very slow")}},t.requestToPromise=function(e){return new Promise(((t,i)=>{e.onsuccess=()=>{t(e.result)},e.onerror=e=>{i(e)}}))},t.isCompoundKeyPath=r,t.arrayfy=function(e){return(0,n.isArray)(e)?e:[e]},t.formListOfKeys=function(e,t){if(r(t)){if(!(0,n.isArray)(e))throw new Error("formListOfKeys called with a compound keypath ("+JSON.stringify(t)+") but a non-compound keyOrKeys ("+JSON.stringify(e)+")");return(0,n.isArray)(e[0])?e:[e]}return(0,n.isArray)(e)?e:[e]}},760051:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContactsRepository=t.initializeKeyValueStorage=t.initializeStructuredStorage=void 0;const n=i(570655),o=i(410395),s=i(695016);let a,r;t.initializeStructuredStorage=function(e,t={verbose:!1}){return n.__awaiter(this,void 0,void 0,(function*(){if(a)throw new Error("Structured storage is already initialized");a=yield(0,o.resolveStructuredStorage)(e,t)}))},t.initializeKeyValueStorage=function(){return n.__awaiter(this,void 0,void 0,(function*(){if(r)throw new Error("KeyValue storage is already initialized");r=yield(0,o.resolveKeyValueStorage)()}))},t.ContactsRepository=new s.ContactsRepositoryProxy((function(){if(!a)throw new Error("DAL not initialized");return a}))},695016:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContactsRepositoryProxy=t.ContactsRepository=void 0;const n=i(570655),o=i(496486),s=i(794050),a=i(136402),r=i(192210),l=i(889391),c=i(562141),d=i(234736);class u{constructor(e,t){this._storageGetter=e,this._name=t}getUserProfileByMri(e){return this._storageGetter().findById(this._name,e).then((e=>a.default.fromDatabaseObject(e)))}getUserProfilesByMris(e){return this._storageGetter().findMultiple(this._name,e).then((e=>e.map((e=>a.default.fromDatabaseObject(e)))))}getUserProfilesByPhoneNumber(e){return this._storageGetter().findRange(this._name,e,e,{index:d.Indexes.Profiles_PhoneNumber}).then((e=>e.map((e=>a.default.fromDatabaseObject(e)))))}getAllUserProfiles(){return this._storageGetter().findMultiple(this._name).then((e=>e.map((e=>a.default.fromDatabaseObject(e)))))}putUserProfiles(e){return this._storageGetter().createOrUpdate(this._name,e)}}t.ContactsRepository=u;t.ContactsRepositoryProxy=class{constructor(e){this._storageGetter=e,this._name="Profiles",this._getRecordsCountOnce=(0,o.once)((e=>this._getRecordsCount(e))),this._contactsRepo=new u(e,this._name)}_isLegacyFlow(){return!l.default.getConfigSettingsNoSubscription().enableDALContactsRepo}getUserProfileByMri(e){return n.__awaiter(this,void 0,void 0,(function*(){const t=this._isLegacyFlow(),i=yield this._createTelemetryTracker(t,r.ScenarioName.GetUserProfilesByMris);return i.start(),t?c.default.getUserProfileByMri(e).toEs6Promise().then((e=>(i.finish(),e))):this._contactsRepo.getUserProfileByMri(e).then((e=>(i.finish(),e)))}))}getUserProfilesByMris(e){return n.__awaiter(this,void 0,void 0,(function*(){const t=this._isLegacyFlow(),i=yield this._createTelemetryTracker(t,r.ScenarioName.GetUserProfilesByMris);return i.start(),t?c.default.getUserProfilesByMris(e).toEs6Promise().then((e=>(i.finish(),e))):this._contactsRepo.getUserProfilesByMris(e).then((e=>(i.finish(),e)))}))}getUserProfilesByPhoneNumber(e){return this._isLegacyFlow()?c.default.getUserProfilesByPhoneNumber(e).toEs6Promise():this._contactsRepo.getUserProfilesByPhoneNumber(e)}getAllUserProfiles(){return n.__awaiter(this,void 0,void 0,(function*(){const e=this._isLegacyFlow(),t=yield this._createTelemetryTracker(e,r.ScenarioName.GetAllUserProfiles);return t.start(),e?c.default.getAllUserProfiles().toEs6Promise().then((e=>(t.finish(),e))):this._contactsRepo.getAllUserProfiles().then((e=>(t.finish(),e)))}))}putUserProfiles(e){return n.__awaiter(this,void 0,void 0,(function*(){const t=this._isLegacyFlow(),i=yield this._createTelemetryTracker(t,r.ScenarioName.GetUserProfilesByMris);return i.start(),t?c.default.putUserProfiles(e).toEs6Promise().then((()=>{i.finish()})):this._contactsRepo.putUserProfiles(e).then((()=>{i.finish()}))}))}_getRecordsCount(e){return()=>e?c.default.getAll().toEs6Promise():this._storageGetter().count(this._name)}_createTelemetryTracker(e,t){return n.__awaiter(this,void 0,void 0,(function*(){const i=yield this._getRecordsCountOnce(e),n=e?"ClientDatabase":"ContactsRepository",o={count:yield i()};return new s.default(t,n,o)}))}}},410395:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveKeyValueStorage=t.resolveStructuredStorage=void 0;const n=i(570655),o=i(624455),s=i(533215);t.resolveStructuredStorage=function(e,{verbose:t}){return n.__awaiter(this,void 0,void 0,(function*(){const i=new o.IndexedDbAdapter;return yield i.initialize(e),new s.IndexedDbStorage(i,t)}))},t.resolveKeyValueStorage=function(){return n.__awaiter(this,void 0,void 0,(function*(){throw new Error("Not implemented")}))}},533215:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IndexedDbStorage=void 0;const n=i(746096),o=i(436237),s=i(234736);t.IndexedDbStorage=class{constructor(e,t=!1){this._adapter=e,this._verbose=t}findById(e,t){const i=Date.now(),a=s.IndexedDbSchema[e];return this._adapter.get(a,t).finally((()=>{this._verbose&&(0,o.log)(n.LogTraceArea.GenericUnsafe,"findById() store "+a.name+" - "+(Date.now()-i)+" ms")}))}findMultiple(e,t,i){const a=Date.now(),r=s.IndexedDbSchema[e];return this._adapter.getMany(r,t,i).finally((()=>{this._verbose&&(0,o.log)(n.LogTraceArea.GenericUnsafe,"findAll() store  "+r.name+" - "+(Date.now()-a)+" ms")}))}findRange(e,t,i,a){const r=Date.now(),l=s.IndexedDbSchema[e],c=IDBKeyRange.bound(t,i,null==a?void 0:a.lowRangeExclusive,null==a?void 0:a.highRangeExclusive);return this._adapter.getMany(l,c,a).finally((()=>{this._verbose&&(0,o.log)(n.LogTraceArea.GenericUnsafe,"findRange() store  "+l.name+" - "+(Date.now()-r)+" ms")}))}createOrUpdate(e,t){const i=Date.now(),a=s.IndexedDbSchema[e];return this._adapter.put(a,t).finally((()=>{this._verbose&&(0,o.log)(n.LogTraceArea.GenericUnsafe,"createOrUpdate() store  "+a.name+" - "+(Date.now()-i)+" ms")}))}remove(e,t){const i=Date.now(),a=s.IndexedDbSchema[e];return this._adapter.remove(a,t).finally((()=>{this._verbose&&(0,o.log)(n.LogTraceArea.GenericUnsafe,"remove() store  "+a.name+" - "+(Date.now()-i)+" ms")}))}count(e){const t=Date.now(),i=s.IndexedDbSchema[e];return this._adapter.count(i).finally((()=>{this._verbose&&(0,o.log)(n.LogTraceArea.GenericUnsafe,"count() store  "+i.name+" - "+(Date.now()-t)+" ms")}))}}},491632:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Instrumentation=void 0;const n=i(436237);t.Instrumentation=n},670381:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691);t.default=class{constructor(){this._storage=new Map,this.set=(e,t)=>(this._storage.set(e,t),n.Resolved()),this.read=e=>{const t=this._storage.get(e);return n.Resolved("string"==typeof t?t:void 0)},this.clearAll=()=>(this._storage.clear(),n.Resolved()),this.delete=e=>(this._storage.delete(e),n.Resolved())}}},973019:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691);t.default=class{constructor(e,t){this.init=()=>{if(this._initPromise)return this._initPromise;const e=indexedDB.open(this._dbName);e.onupgradeneeded=e=>{e.target.result.createObjectStore(this._storeName)};const t=new Promise(((t,i)=>{e.onsuccess=e=>{this._db=e.target.result,t(this._db?this._db:null)},e.onerror=e=>{i(e)}}));return this._initPromise=(0,n.fromThenable)(t),this._initPromise},this.set=(e,t)=>this.init().then((i=>i?this.writeToIndexDB(i,e,t):(0,n.Rejected)("db not initialized"))),this.read=e=>this.init().then((t=>t?this.readFromIndexedDB(t,e):(0,n.Rejected)("db not initialized"))),this.clearAll=()=>this.init().then((e=>e?this.clearFromIndexedDB(e):(0,n.Rejected)("db not initialized"))),this.delete=e=>this.init().then((t=>t?this.removeFromIndexedDB(t,e):(0,n.Rejected)("db not initialized"))),this.writeToIndexDB=(e,t,i)=>{const o=e.transaction(this._storeName,"readwrite");o.objectStore(this._storeName).put(i,t);const s=new Promise(((e,t)=>{o.oncomplete=()=>{e(void 0)},o.onerror=()=>{t("Error writing to db")}}));return(0,n.fromThenable)(s)},this.readFromIndexedDB=(e,t)=>{const i=e.transaction(this._storeName,"readonly").objectStore(this._storeName).get(t),o=new Promise(((e,t)=>{i.onsuccess=()=>{e(i.result?i.result:void 0)},i.onerror=()=>{t(i.error)}}));return(0,n.fromThenable)(o)},this.clearFromIndexedDB=e=>{const t=e.transaction(this._storeName,"readwrite");t.objectStore(this._storeName).clear();const i=new Promise(((e,i)=>{t.oncomplete=()=>{e(void 0)},t.onerror=()=>{i("Error clearing db")}}));return(0,n.fromThenable)(i)},this.removeFromIndexedDB=(e,t)=>{const i=e.transaction(this._storeName,"readwrite");i.objectStore(this._storeName).delete(t);const o=new Promise(((e,t)=>{i.oncomplete=()=>{e(void 0)},i.onerror=()=>{t("Error removing from db")}}));return(0,n.fromThenable)(o)},this._dbName=e,this._storeName=t,this._db=null}}},744585:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StorageKeys=t.storage=t.LocalStorage=t.constructStorageKey=void 0;const n=i(516778),o=i(516283),s=i(496486),a=i(284464);Object.defineProperty(t,"StorageKeys",{enumerable:!0,get:function(){return a.StorageKeys}});const r=i(436237),l=i(692352),c=(i(670381),i(973019));t.constructStorageKey=function(e){return e};class d{constructor(){this._signalUseOnce=(0,s.once)((()=>(0,r.track)(new l.LocalStorageUsageSignal))),(0,r.log)(o.LogTraceArea.GenericUnsafe,"LocalStorage","LocalStorage initialized"),this._storage=new c.default(a.IndexedDBKeys.DbName,a.IndexedDBKeys.StoreName)}getItem(e){this._signalUseOnce();const t=()=>n.Storage.getItem(e).then((t=>(void 0!==t&&this._storage.set(e,t),t)));return this._storage.read(e).then((e=>void 0!==e?e:t()))}setItem(e,t){return this._signalUseOnce(),this._storage.set(e,t),n.Storage.setItem(e,t)}removeItem(e){return this._signalUseOnce(),this._storage.delete(e),n.Storage.removeItem(e)}clear(){return this._signalUseOnce(),this._storage.clearAll(),n.Storage.clear()}}t.LocalStorage=d;const u=new d;t.storage=u},818882:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StorageKeys=t.constructStorageKey=t.LocalStorage=void 0;var n=i(744585);Object.defineProperty(t,"LocalStorage",{enumerable:!0,get:function(){return n.storage}}),Object.defineProperty(t,"constructStorageKey",{enumerable:!0,get:function(){return n.constructStorageKey}});var o=i(284464);Object.defineProperty(t,"StorageKeys",{enumerable:!0,get:function(){return o.StorageKeys}})},284464:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StorageKeys=t.IndexedDBKeys=void 0,function(e){e.DbName="skypexDb",e.StoreName="skypexStore"}(t.IndexedDBKeys||(t.IndexedDBKeys={})),function(e){e.AppUpdateStatus="AppUpdateStatus",e.CampaignReferrer="CampaignReferrer",e.EcsDefaultConfig="ecsDefaultConfig",e.FirstTimeSignIn="FirstTimeSignIn",e.ForgottenAccounts="ForgottenAccounts",e.GuestLogoutInformation="GuestLogoutInformation",e.GuestSessionInformation="GuestSessionInformation",e.IsDarkThemeActiveKey="IsDarkThemeActive",e.LastAppActiveTimeKeyId="skypexLastAppActiveTimeKeyId",e.LocalStorageDbNukeValueKey="dbNukeNames",e.LocalStorageQuickSignOnDisplayNameKey="qsoDisplayName",e.LocalStorageQuickSignOnErrorKey="qsoError",e.LocalStorageQuickSignOnSkypeIdKey="qsoSkypeId",e.LocalStorageQuickSignOnUserCidKey="qsoUserCid",e.LoginMethod="LoginMethod",e.LogoutToken="LogoutToken",e.RXStorageMigrationCompleted="RXStorageMigrationCompleted",e.MsaPartition="MsaPartition",e.QsoAccountHasCookies="QsoAccountHasCookies",e.RecentAssetTimestampKeyId="skypexRecentAssetTimestampKeyId",e.RefreshTokenExpiration="RefreshTokenExpiration",e.SigninName="SigninName",e.SignInReminderLastShownTimeKey="SignInReminderLastShownTime",e.SignOutReminderLastShownTimeKey="SignOutReminderLastShownTime",e.OneAuthAccountId="OneAuthAccountId",e.QsoAccountAvatarUrls="QsoAccountAvatarUrls",e.SkypeId="skypexSkypeId",e.StartupUrl="StartupUrl",e.TokenRefreshBackgroundTaskTimeTriggerInfo="TokenRefreshBackgroundTaskTimeTriggerInfo",e.TokenRefreshExpirationThresholdInDays="TokenRefreshExpirationThresholdInDays",e.UpgradeAlertLastDisplayDateKey="UpgradeAlertLastDisplayDate",e.UserActivityClientVersion="skypexUserActivityClientVersion",e.UserActivityElapsedTime="skypexUserActivityElapsedTime",e.UserActivityWhatsNewRedDotClicked="skypexUserActivityWhatsNewRedDotClicked",e.UserActivityWhatsNewShowedTimes="skypexUserActivityWhatsNewShowedTimes",e.UserActivityWhatsNewTooltipDiscarded="skypexUserActivityWhatsNewTooltipDiscarded",e.VerboseDB="VerboseDBFlag",e.FreBuildVersion="FreBuildVersion",e.LocalStorageUserCorrelationIdKey="userCorrelationId",e.MyBotTooltipFlag="MyBotToolToolFlag",e.ServiceWorkerParameter="ServiceWorkerParameter"}(t.StorageKeys||(t.StorageKeys={}))},398199:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(570655).__exportStar(i(630857),t);var n=i(630857);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.default}})},630857:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(436237),o=i(9367);t.default=new class{constructor(){this._serviceWorkerInited=!1}shouldRegisterServiceWorker(e){e?this._tryInitServiceWorker():this._tryUnregisterServiceWorer()}_tryInitServiceWorker(){this._serviceWorkerInited||("serviceWorker"in navigator&&(navigator.serviceWorker.register(`${window.location.origin}/sw.js`,{scope:`${window.location.origin}/`}).then((e=>{n.track(new o.default("RegistrationSucceeded"))}),(e=>{n.track(new o.default("RegistrationFailed"))})),navigator.serviceWorker.ready.then((e=>{n.track(new o.default("RegistrationReady"))}))),this._serviceWorkerInited=!0)}_tryUnregisterServiceWorer(){"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.getRegistrations().then((e=>{e.forEach((e=>{e.unregister().then((e=>{e?n.track(new o.default("UnregistrationSucceeded")):n.track(new o.default("UnregistrationFaild"))}))}))}))}}},313419:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691),o=i(853374),s=i(818882),a=i(436237),r=i(746096),l=i(404057);t.default=class{static getCorrelationId(){return s.LocalStorage.getItem(s.StorageKeys.LocalStorageUserCorrelationIdKey).then((e=>(e||(e=o.default.newGuid(),s.LocalStorage.setItem(s.StorageKeys.LocalStorageUserCorrelationIdKey,e)),n.Resolved(e))),(e=>(a.error(r.LogTraceArea.Startup,"DB error fetching userCorrelationId: "+l.default.errorAsString(e)),n.Rejected(e))))}}},113319:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NativeTelemetryEvent=void 0;const n=i(500349);class o extends n.TelemetryEventBase{constructor(e){super(),this._event=e}getEventName(){return this._event.name}getAttributes(){const e=super.getAttributes();for(const t in this._event.actions)if(this._event.actions.hasOwnProperty(t)){const i=this._event.actions[t];e[t]=i}return e}}t.NativeTelemetryEvent=o},500349:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryEventBase=t.TelemetryEventLoggedOutPolicy=t.TelemetryTraceMode=t.setEngagementUserTaggingConfig=t.EngagementUserTaggingConfig=t.setReportedNetworkType=t.ReportedNetworkType=t.setExperimentMappings=t.ExperimentMappings=t.setTelemetryFilteringEnabled=t.TelemetryFilteringEnabled=t.setShouldSendOptionalData=t.ShouldSendOptionalData=t.setSampledPerfEvents=t.SampledPerfEvents=t.setSampledEvents=t.SampledEvents=t.setTelemetryIsAnonymous=t.TelemetryIsAnonymous=t.setTelemetryConfigExpiration=t.TelemetryConfigExpiration=t.setTelemetryETag=t.TelemetryETag=t.setTelemetryConfig=t.TelemetryConfig=void 0;const n=i(636076),o=i(496486),s=i(809206),a=i(516778),r=i(18078),l=i(640363),c=i(853374);var d,u,g;t.TelemetryConfig={},t.setTelemetryConfig=function(e){t.TelemetryConfig=e},t.TelemetryETag="",t.setTelemetryETag=function(e){t.TelemetryETag=e},t.TelemetryConfigExpiration=0,t.setTelemetryConfigExpiration=function(e){t.TelemetryConfigExpiration=e},t.TelemetryIsAnonymous=!1,t.setTelemetryIsAnonymous=function(e){t.TelemetryIsAnonymous=e},t.SampledEvents={},t.setSampledEvents=function(e){t.SampledEvents=e},t.SampledPerfEvents={},t.setSampledPerfEvents=function(e){t.SampledPerfEvents=e},t.ShouldSendOptionalData=!1,t.setShouldSendOptionalData=function(e){t.ShouldSendOptionalData=e},t.TelemetryFilteringEnabled=!1,t.setTelemetryFilteringEnabled=function(e){t.TelemetryFilteringEnabled=e},t.setExperimentMappings=function(e){t.ExperimentMappings=e},t.ReportedNetworkType=a.Types.DeviceNetworkType.Unknown,t.setReportedNetworkType=function(e){t.ReportedNetworkType=e},t.setEngagementUserTaggingConfig=function(e){t.EngagementUserTaggingConfig=e},function(e){e[e.None=0]="None",e[e.EventName=1]="EventName",e[e.Full=2]="Full"}(d=t.TelemetryTraceMode||(t.TelemetryTraceMode={})),function(e){e[e.SendNow=0]="SendNow",e[e.WaitForUserId=1]="WaitForUserId"}(u=t.TelemetryEventLoggedOutPolicy||(t.TelemetryEventLoggedOutPolicy={})),function(e){e[e.MSA=0]="MSA",e[e.Unknown=1]="Unknown"}(g||(g={}));t.TelemetryEventBase=class{constructor(e){this._experimentConfigIds=e,this._eventCreationTime=Date.now(),this._activationState=a.App.getActivationState()}getAriaTenantTokenOverride(){}shouldSend(){const e=t.SampledEvents[this.getEventName()];return!o.isNumber(e)||c.default.sampleForPercentage(e)}getCorrelationAttributes(){return{}}getAttributes(){return this._getBaseAttributes()}_getBaseAttributes(){const e=a.Types.DeviceNetworkType[t.ReportedNetworkType];let i;void 0!==t.ExperimentMappings&&(i=t.ExperimentMappings.getExperimentIdsForEventName(this.getEventName().toLowerCase()));const n={Skype_InitiatingUser_IsGuest:r.default.isGuestUser(),Skype_InitiatingUser_Username:t.TelemetryIsAnonymous?"":r.default.getSkypeId(),ShellType:l.default.getAppShellTypeName(),PlatformType:s.PlatformType[l.default.getPlatformType()],Version:l.default.getAppVersion(),Platform_Uiversion:l.default.getUIVersionWithPartnerID(),Platform_Id:l.default.getSkypePlatformId(),"DeviceInfo.Make":l.default.getSystemManufacturer()||"","DeviceInfo.Model":l.default.getSystemModel(),ecs_etag:t.TelemetryETag,NetworkType:e,session_id:l.default.getSessionId(),"AppInfo.ExperimentIds":i||"",ActivationState:a.Types.AppActivationState[this._activationState],UserType:this._getUserType(),ChatEndpointId:l.default.getChatEndpointId()||""};return this._experimentConfigIds&&(n.ExperimentConfigIds=this._experimentConfigIds),void 0!==t.TelemetryConfigExpiration&&(n.ecs_expiration=t.TelemetryConfigExpiration),this.shouldExcludeUserIdentificationInfo()&&(n.Skype_InitiatingUser_Username=""),t.TelemetryFilteringEnabled&&t.ShouldSendOptionalData&&(n.Telemetry_Consent=!0),t.EngagementUserTaggingConfig&&(this._eventCreationTime<=t.EngagementUserTaggingConfig.durationAbsoluteTimestamp?n.EngagementTag=t.EngagementUserTaggingConfig.engagementTag:t.EngagementUserTaggingConfig=void 0),l.default.isCorporateInstallation()&&(n.CorpInstallTag=l.default.getCorporateInstallationTag()),n}shouldExcludeUserIdentificationInfo(){return!1}shouldExcludeDeviceIdentificationInfo(){return!1}getPiiAttributes(){return{}}getEventPriority(){return n.AWTEventPriority.Normal}getEventTraceMode(){return d.None}getLoggedOutSendingPolicy(){return u.WaitForUserId}_getUserType(){return r.default.hasSkypeId()?g[g.MSA]:g[g.Unknown]}}},299679:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryFilteringService=void 0;const n=i(496486),o=i(436237),s=i(500127),a=i(500349);class r{constructor(){this._initialized=!1}initialize(){this._initialized||(this._initTelemetryMetadata(),this._initialized=!0)}filterOptionalTelemetry(e){var t;if(a.ShouldSendOptionalData)return e;const i=this._telemetryMetadata.get(e.getEventName().toLowerCase());if(!i)return o.debug((()=>`[TelemetryFilteringService] Filtered out event '${e.getEventName()}' because it does not have metadata`)),null;const s=n.clone(e),r=s.getAttributes();let l;if(i.variation){const e=r[i.variation.key];e&&(l=i.variation.variants.get(String(e)))}if(!(l?l.required:i.required))return o.debug((()=>{let e=`[TelemetryFilteringService] Filtered out event '${s.getEventName()}' because it is not required;`;if(i.variation){e+=` variant=${r[i.variation.key]}`}return e})),null;const c=this._createOptionalAttributeFilter(i,l,null===(t=i.variation)||void 0===t?void 0:t.variants),d=c(r),u=c(s.getPiiAttributes()),g=c(s.getCorrelationAttributes());return s.getAttributes=()=>d,s.getPiiAttributes=()=>u,s.getCorrelationAttributes=()=>g,s}_createOptionalAttributeFilter(e,t,i){return n=>(Object.keys(n).forEach((o=>{t&&i&&this._isAttributeRequired(o,t,i,!0)||this._isAttributeRequired(o,e,this._telemetryMetadata,!1)||delete n[o]})),n)}_isAttributeRequired(e,t,i,n){if(null==t?void 0:t.requiredFields.has(e))return!0;if(null==t?void 0:t.optionalFields.has(e))return!1;const o=!!(null==t?void 0:t.extends)&&i.get(n?t.extends:t.extends.toLowerCase());return!!o&&this._isAttributeRequired(e,o,i,n)}_initTelemetryMetadata(e=s){this._telemetryMetadata=new Map,e.forEach((e=>{var t,i,n;const o={requiredFields:new Set(null!==(t=e.fields)&&void 0!==t?t:[]),optionalFields:new Set(null!==(i=e.optionalFields)&&void 0!==i?i:[]),required:e.required,extends:e.extends};if(e.variation){o.variation={key:e.variation.key,variants:new Map};(null!==(n=e.variation.variants)&&void 0!==n?n:[]).forEach((e=>{var t,i,n;const s={requiredFields:new Set(null!==(t=e.fields)&&void 0!==t?t:[]),optionalFields:new Set(null!==(i=e.optionalFields)&&void 0!==i?i:[]),extends:e.extends,required:e.required};null===(n=o.variation)||void 0===n||n.variants.set(e.name,s)}))}this._telemetryMetadata.set(e.name.toLowerCase(),o)}))}}t.TelemetryFilteringService=r,t.default=new r},235478:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(689483),s=i(397691),a=i(75776),r=i(113319),l=i(500349),c=i(299679);t.default=new class{constructor(){this._initialized=!1,this._initializeDeferral=s.Defer(),this._preStartupEventQueue=[],this._userIdPopulatedDefer=s.Defer()}isInitialized(){return this._initialized}initialize(e,t){this._sinks=e,s.all(n.map(this._sinks,(e=>e.initializeAndPause(t)))).always((()=>{if(this._initialized=!0,this._initializeDeferral.resolve(void 0),l.TelemetryConfig){const e=this._preStartupEventQueue;this._preStartupEventQueue=[],n.each(e,(e=>this.addEvent(e)))}})),o.default.onTelemetryEvent((e=>{this.addEvent(new r.NativeTelemetryEvent(e))}))}startUsingUserId(){if(this.isInitialized()){if(n.each(this._sinks,(e=>e.startUsingUserId())),this._userIdPopulatedDefer){const e=this._userIdPopulatedDefer;this._userIdPopulatedDefer=void 0,e.resolve(void 0)}}else this._initializeDeferral.promise().then((()=>{this.startUsingUserId()}))}waitUntilUserIdPopulated(){return this._userIdPopulatedDefer?this._userIdPopulatedDefer.promise():s.Resolved()}performWhenServiceInitialized(){return this.isInitialized()?s.Resolved():this._initializeDeferral.promise()}flush(){return this.isInitialized()?s.all(n.map(this._sinks,(e=>e.flush()))).then(n.noop):this._initializeDeferral.promise().then((()=>this.flush()))}pause(){this.isInitialized()?n.each(this._sinks,(e=>e.pause())):this._initializeDeferral.promise().then((()=>{this.pause()}))}resume(){this.isInitialized()?n.each(this._sinks,(e=>e.resume())):this._initializeDeferral.promise().then((()=>{this.resume()}))}setTelemetryConfig(e,t,i,o,s,r,c){if(l.setTelemetryConfig(e),l.setTelemetryETag(t),l.setTelemetryConfigExpiration(e.sendEcsExpirationTime?i:void 0),l.setTelemetryIsAnonymous(o),l.setSampledEvents(s),l.setSampledPerfEvents(r),l.setExperimentMappings(new a.default(c)),this.isInitialized()){const e=this._preStartupEventQueue;this._preStartupEventQueue=[],n.each(e,(e=>this.addEvent(e)))}}addEvent(e){if(!l.TelemetryConfig||!this.isInitialized())return void this._preStartupEventQueue.push(e);const t=e.shouldSend(),i=c.default.filterOptionalTelemetry(e);n.each(this._sinks,((n,o)=>{if(n.supportsEventSampling()&&!t)return;const s=n.supportsTelemetryFiltering()?i:e;s&&n.respondsTo(s)&&n.consumeEvent(s)}))}test_getInitializeDeferral(){return this._initializeDeferral}test_reset(){this._sinks=[],this._preStartupEventQueue=[],this._initialized=!1,this._initializeDeferral=s.Defer()}test_preStartupEventQueue(){return this._preStartupEventQueue}}},348104:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691),o=i(964376);i(816402),i(912770);t.default=class{constructor(){this._combinedEventDescription="",this._updateAppCenterTimerActive=!1,this._eventDate=Date.now()}initializeAndPause(e){return n.Resolved()}startUsingUserId(){return n.Resolved()}respondsTo(e){return!0}supportsEventSampling(){return!1}supportsTelemetryFiltering(){return!0}consumeEvent(e){this._addAppCenterMetaData(e)}flush(){return this._writeToAppCenterMetadata(),n.Resolved()}pause(){}resume(){}_addAppCenterMetaData(e){0}_writeToAppCenterMetadata(){""!==this._combinedEventDescription&&(o.default.addCrashMetaData({applicationTrace:this._combinedEventDescription}),this._combinedEventDescription=""),this._updateAppCenterTimerActive=!1}}},120009:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(791262),o=i(636076),s=i(496486),a=i(516283),r=i(516778),l=i(397691),c=i(300060),d=i(889391),u=i(588391),g=i(562141),h=i(296526),p=i(897811),S=i(733754),m=i(18078),C=i(404057),y=i(640363),f=i(500349),b=i(327795),_=i(359910),v=i(912770),T=i(853374),P="UserInfo.Id",k="MSACID",A="MSACIDHEX";t.default=class{constructor(){this._ariaLoggers={},this._ready=!1,this._pendingEvents=[],this._wasInitializedAnonymously=!1,this._isAnonymous=void 0,this._anonymousEventQueue=[],this._dbPutEventQueue=[],this._deviceIdContext={},this._userIdContext={},this._sendPost=(e,t,i,n,o,s)=>{this._ariaRestClient.sendTelemetryEvents(e,t,i,n,o)},this.consumeEvent=e=>{if(!this._ready)return void this._pendingEvents.push(e);if(this._isAnonymous&&e.getLoggedOutSendingPolicy()===f.TelemetryEventLoggedOutPolicy.WaitForUserId)return void this._pendingEvents.push(e);const t=this._ariaEventPropertiesForEvent(e);t&&this._logAriaEvent(t,e.getAriaTenantTokenOverride())},this._delayedDbPut=e=>{if(_.default.handleEvents(e),this._wasInitializedAnonymously){e=s.clone(e);const t=s.remove(e,(e=>this._isAnonymousEvent(e)));this._anonymousEventQueue.push(...t)}if(0===e.length)return l.Resolved();let t=!1;!t&&s.some(e,(e=>"awt_stats"!==e.name&&e.priority===o.AWTEventPriority.High))&&(t=!0),this._dbPutEventQueue.push(...e),this._dbPutDeferral||(this._dbPutDeferral=l.Defer(),t||v.default.setTimeout((()=>{this._writeToDb()}),500));const i=this._dbPutDeferral;return t&&this._writeToDb(),i.promise()},this._getTelemetryEvents=()=>{if(!g.default.isInitialized())return l.Resolved(this._anonymousEventQueue);const e=d.default.getS4LTelemetryFeaturesNoSubscription().ariaMaxEvents;return g.default.countTelemetryEvents().then((t=>{const i=t-(e||t);return g.default.getTelemetryEvents(e||void 0,i>0?i:void 0).then((e=>{a.log(a.LogTraceArea.GenericUnsafe,`Fetched ${e.length} events from DB`);const i=d.default.getS4LTelemetryFeaturesNoSubscription().ariaEventsReportIfGreater;if(i&&e.length>=i){const i=s.first(e);a.log(a.LogTraceArea.GenericUnsafe,`There's ${t} events in the DB!`),this.consumeEvent(new p.AriaGetEventsLimitReached(t,i?i.timestamp:0))}const n=[];return n.push(...this._anonymousEventQueue),n.push(...e),n}))}))},this._removeFromDb=e=>{const t=[];return s.each(e,(e=>{const i=s.remove(this._anonymousEventQueue,(t=>t.id===e.id));0===s.remove(this._dbPutEventQueue,(t=>t.id===e.id)).length&&0===i.length&&t.push(e.id)})),0===t.length?l.Resolved():g.default.isInitialized()?g.default.deleteTelemetryEvents(t):l.Resolved()},this._ariaRestClient=new u.default}initializeAndPause(e){const t=y.default.getAriaTenantToken(),i={httpXHROverride:{sendPOST:this._sendPost},canSendStatEvent:this._canSendStatEvent,clockSkewRefreshDurationInMins:d.default.getS4LTelemetryFeatures().clockSkewRefreshDurationInMins};o.AWTLogManager.initialize(t,i),o.AWTLogManager.setTransmitProfile(o.AWT_BEST_EFFORT),o.AWTLogManager.pauseTransmission();const s={getEvents:this._getTelemetryEvents,putEvents:this._delayedDbPut,deleteEvents:this._removeFromDb};n.AWTCustomStorage.initialize(s);const a=o.AWTLogManager.getLogger(t);return this._ariaLoggers[t]=a,this._defaultAriaLogger=a,S.localeChangedEvent.subscribe((e=>{o.AWTLogManager.getSemanticContext().setAppLanguage(e)})),c.default.subscribeForChanges("AriaSink",(e=>{e===r.Types.AppActivationState.Background&&this._writeToDb()})),this._wasInitializedAnonymously=e,this._setAnonymousMode(e)}_canSendStatEvent(e){const t=f.SampledEvents[e];return!s.isNumber(t)||T.default.sampleForPercentage(t)}startUsingUserId(){return this._setAnonymousMode(!1)}respondsTo(e){return!0}supportsEventSampling(){return!0}supportsTelemetryFiltering(){return!0}_logAriaEvent(e,t){if(t){let i=this._ariaLoggers[t];i||(i=o.AWTLogManager.getLogger(t),this._ariaLoggers[t]=i),i.logEvent(e)}else this._defaultAriaLogger.logEvent(e)}_ariaEventPropertiesForEvent(e){let t=!1;const i=new o.AWTEventProperties,n=e.getEventName();let s=e.getEventPriority();i.setName(n);d.default.getS4LTelemetryFeaturesNoSubscription().enableAndroidBackgroundTelemetry;if(i.setEventPriority(s),t=t||this._addTelemetryAttributes(i,e.getAttributes()),t=t||this._addTelemetryAttributes(i,e.getCorrelationAttributes()),t=t||this._addTelemetryPiiAttributes(i,e.getPiiAttributes()),e.shouldExcludeDeviceIdentificationInfo()||(t=t||this._addTelemetryPiiAttributes(i,this._deviceIdContext)),e.shouldExcludeUserIdentificationInfo()||(t=t||this._addTelemetryPiiAttributes(i,this._userIdContext)),!t)return i;this.consumeEvent(new b.DevDebug("BrokenTelemetry","Event Name: "+e.getEventName()+", Data: "+JSON.stringify(e)))}flush(){const e=l.Defer();return o.AWTLogManager.flush((()=>e.resolve(void 0))),e.promise()}pause(){o.AWTLogManager.pauseTransmission()}resume(){o.AWTLogManager.resumeTransmision()}_addTelemetryAttributes(e,t){let i=!1;return s.each(t,((t,n)=>{const o=this._convertTelemetryValueToString(t);h.isSerializable(o)||(i=!0),e.setProperty(n,o)})),i}_addTelemetryPiiAttributes(e,t){let i=!1;return s.each(t,((t,n)=>{const o=this._convertTelemetryValueToString(t.value);h.isSerializable({value:o,piiKind:t.piiKind})||(i=!0),e.setPropertyWithPii(n,o,t.piiKind)})),i}_convertTelemetryValueToString(e){return!0===e?"Y":!1===e?"N":s.isNumber(e)?e.toString():e}_isAnonymousEvent(e){const t=e.properties[P];return!t||(s.isNumber(t)||s.isBoolean(t)||s.isString(t)?!t:!t.value)}_writeToDb(){if(!this._dbPutDeferral)return;if(!g.default.isInitialized())return;const e=this._dbPutDeferral,t=this._dbPutEventQueue;this._dbPutDeferral=void 0,0!==this._dbPutEventQueue.length?(this._dbPutEventQueue=[],g.default.putTelemetryEvents(t).then((()=>{e.resolve(void 0)}),(()=>{e.reject()}))):e.resolve(void 0)}_setContextData(e){const t=o.AWTLogManager.getSemanticContext(),i=m.default.isGuestUser();t.setAppVersion(y.default.getAppVersion()),t.setAppLanguage(S.getLocale()),t.setUserLanguage(y.default.getSystemLocale()),t.setDeviceOsName(y.default.getPlatformTypeName()),t.setDeviceOsVersion(y.default.getOSVersion()),this._deviceIdContext["DeviceInfo.Id"]={value:y.default.getDeviceId(),piiKind:o.AWTPiiKind.NotSet};const n=y.default.getBrowserName();n&&(this._deviceIdContext["DeviceInfo.BrowserName"]={value:n,piiKind:o.AWTPiiKind.NotSet});const a=y.default.getBrowserVersion();return a&&(this._deviceIdContext["DeviceInfo.BrowserVersion"]={value:a,piiKind:o.AWTPiiKind.NotSet}),this._userIdContext[P]={value:e?"":m.default.getSkypeId(),piiKind:i?o.AWTPiiKind.NotSet:o.AWTPiiKind.Identity},e||i?(this._userIdContext[k]={value:"",piiKind:o.AWTPiiKind.NotSet},this._userIdContext[A]={value:"",piiKind:o.AWTPiiKind.NotSet},l.Resolved()):l.all([m.default.getUserCidAsync().then((e=>{this._userIdContext[k]={value:e,piiKind:o.AWTPiiKind.NotSet}})),m.default.getUserCidHexAsync().then((e=>{this._userIdContext[A]={value:C.default.toUpper(e),piiKind:o.AWTPiiKind.NotSet}}))]).then(s.noop)}_setAnonymousMode(e){return this._setContextPromise?this._setContextPromise.then((()=>{this._setAnonymousMode(e)})):e===this._isAnonymous?l.Resolved():(this._isAnonymous=e,this._ready=!1,this._setContextPromise=this._setContextData(this._isAnonymous).thenAsync((()=>{this._ready=!0,this._setContextPromise=void 0;const e=this._pendingEvents;this._pendingEvents=[],s.each(e,this.consumeEvent)})),this._setContextPromise)}}},650627:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(397691),o=i(889391),s=i(53819);t.default=class{constructor(){this._enabled=!1,this._appConfigStoreSubscribeCallback=()=>{this._enabled=o.default.getEngagementFeatures().clientTriggeredEngagement.enabled}}initializeAndPause(e){return o.default.subscribe(this._appConfigStoreSubscribeCallback),this._appConfigStoreSubscribeCallback(),n.Resolved(void 0)}respondsTo(e){if(!this._enabled)return!1;const t=e.getEventName();return s.default.isSubscribedToEventName(t)}supportsEventSampling(){return!1}supportsTelemetryFiltering(){return!1}consumeEvent(e){this._enabled&&s.default.processEvent({eventName:e.getEventName(),attributes:e.getAttributes()})}startUsingUserId(){return n.Resolved(void 0)}flush(){return n.Resolved(void 0)}pause(){}resume(){}}},653445:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.test_overrideEventTraceMode=void 0;const n=i(174958),o=i(516283),s=i(397691),a=i(436237),r=i(500349);let l;t.default=class{initializeAndPause(e){return a.log(o.LogTraceArea.ConsoleSink,"initialized and paused"),s.Resolved()}startUsingUserId(){return a.log(o.LogTraceArea.ConsoleSink,"start using user id"),s.Resolved()}respondsTo(e){return!0}supportsEventSampling(){return!1}supportsTelemetryFiltering(){return!1}consumeEvent(e){let t="";switch(l||e.getEventTraceMode()){case r.TelemetryTraceMode.None:break;case r.TelemetryTraceMode.EventName:t="consuming event "+e.getEventName();break;case r.TelemetryTraceMode.Full:t="consuming event "+e.getEventName()+"\nattributes "+n.pii.Omit(JSON.stringify(e.getAttributes()))+"\npiiAttributes "+n.pii.Omit(JSON.stringify(e.getPiiAttributes()))+"\ncorrelationAttributes "+n.pii.Omit(JSON.stringify(e.getCorrelationAttributes()));break;default:t="error: unsupported trace mode "+r.TelemetryTraceMode[e.getEventTraceMode()]}0!==t.length&&a.log(o.LogTraceArea.ConsoleSink,t)}flush(){return a.log(o.LogTraceArea.ConsoleSink,"flush"),s.Resolved()}pause(){a.log(o.LogTraceArea.ConsoleSink,"paused")}resume(){a.log(o.LogTraceArea.ConsoleSink,"resumed")}},t.test_overrideEventTraceMode=function(e){const t=e?r.TelemetryTraceMode.Full:r.TelemetryTraceMode.None;l=t}},486348:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655),o=i(516778),s=i(397691),a=i(206514),r=i(496486),l=i(121778),c=i(889391),d=i(313419),u=i(904604),g=i(46929),h=i(18078),p=i(640363),S=i(470942),m="32EE78B3360B43588BFCD9818E60BBED",C=["ActivationState","AppInfo.ExperimentIds","ChatEndpointId","DeviceInfo.Make","DeviceInfo.Model","ecs_etag","NetworkType","Platform_Id","Platform_Uiversion","PlatformType","session_id","ShellType","Skype_InitiatingUser_Username","UserType","Version"],y="MessageSentStatus";t.default=class{constructor(){this.consumeEvent=e=>{const t=e.getEventName(),i=e.getAttributes();"profile"===t&&"MeControlOpened"!==i.Action||"perf"===t&&"SearchPerformance"!==i.Scenario||"scenario"===t&&"Search_ClickOnResult"!==i.ScenarioAction_step_name||this._convertAndSendEvent(e)},this._isUserSignedIn=!1,this._isAppStartUpSent=!1,this._actionImmediatelySent=new Map([["calling_action",new Map([["StartRinging",!0],["StopRinging",!0]])]]),this._supportedTelemetryEventName=new Map([["app_open_status",{eventName:"AppOpenStatus",eventType:"AppLifeCycle",shouldSendImmediately:!0}],["calling_action",{eventName:"CallAction",eventType:"PageAction"}],["calling_call_entry_point",{eventName:"CallEntryPoint",eventType:"Diagnostic",shouldSendImmediately:!0}],["calling_call_intention",{eventName:"CallIntention",eventType:"PageAction"}],["calling_call",{eventName:"CallStatistic",eventType:"Diagnostic",shouldSendImmediately:!0,requiredAttributes:["CallDurationSeconds","CallId","CallReconnectDuration","ConversationId","IsCallCreator","IsGroupCall","IsPSTNCall","StartVideoCount"]}],["notification_received",{eventName:"NotificationReceived",eventType:"Notification",respondsTo:e=>e.getAttributes().hasOwnProperty("callId")}],["notification_handling",{eventName:"NotificationHandling",eventType:"Notification"}],["notification_slimcore_completed",{eventName:"NotificationSlimcoreComplete",eventType:"Notification"}],["engagement_banner",{eventName:"EngagementBanner",eventType:"Diagnostic",respondsTo:e=>e.getAttributes().hasOwnProperty("BannerType")&&("ContactPermission"===e.getAttributes().BannerType||"LinkYourPhone"===e.getAttributes().BannerType)}],["message_sent",{eventName:y,eventType:"Performance",requiredAttributes:["ClientMessageId","ConversationId","ConversationMembersCount","IsBotConversation","IsEncryptedConversation","IsGroupConversation","MessageRawType","MessageSentContentType","MessageType","PostSource","SendTimestamp","Stage"]}],["send_failure",{eventName:y,eventType:"Performance",requiredAttributes:["ClientMessageId","ConversationId","ConversationMembersCount","IsBotConversation","IsEncryptedConversation","IsGroupConversation","MessageRawType","MessageSentContentType","MessageType","PostSource","SendTimestamp","Stage"]}],["message_received_read",{eventName:"MessageReadStatus",eventType:"Performance",requiredAttributes:["Bot_Conversation","Conversation_Id","Conversation_Members_Number","ConversationId","Group_Conversation","IsEncryptedConversation","MessageCount"]}],["install_attribution",{eventName:"InstallAttribution",eventType:"Performance",shouldSendImmediately:!0,requiredAttributes:["Campaign","Adid","TrackerName","Network","AdjustCallbackPerf","AdjustInitPerf","Refresh"]}],["bing_auto_suggestion",{eventName:"BingAutoSuggestion",eventType:"Diagnostic"}],["bing_trending_search",{eventName:"BingTrendingSearch",eventType:"Diagnostic"}],["bing_iab_header",{eventName:"BingIABHeaderAction",eventType:"Diagnostic"}],["all_hub_plus_button",{eventName:"MainPageAction",eventType:"PageAction",requiredAttributes:["Action"]}],["profile",{eventName:"MainPageAction",eventType:"PageAction"}],["all_navigation",{eventName:"NavigationStatus",eventType:"PageAction",requiredAttributes:["NavigationTo","NavigationType","Origin","ConversationId","CallId","Reason"]}],["scenario",{eventName:"SearchStatus",eventType:"PageAction",requiredAttributes:["ScenarioAction_Origin","ScenarioAction_ResultType","ScenarioAction_SearchFilter","ScenarioName","ScenarioAction_step_name"]}],["perf",{eventName:"SearchStatus",eventType:"PageAction",requiredAttributes:["Scenario"]}],["press_action",{eventName:"MainPageAction",eventType:"PageAction"}],["say_hi_popup",{eventName:"SayHiPopup",eventType:"Diagnostic"}],["people_notify_my_friends",{eventName:"NotifyMyFriends",eventType:"Diagnostic"}],["engagement_push_notification_event",{eventName:"EngagementPushNotificationEvent",eventType:"Diagnostic",respondsTo:e=>e.getAttributes().hasOwnProperty("eventType")&&(e.getAttributes().eventType===S.EngagementTelemetryEventType.PushNotificationTap||e.getAttributes().eventType===S.EngagementTelemetryEventType.PushNotificationReceived)}]])}initializeAndPause(e){return this._isUserSignedIn=!e,this._isNestSinkEnabled=c.default.getS4LTelemetryFeaturesNoSubscription().enableNestSdkDataVizSink,this._nestDataViz=new a.NestDataViz({appId:m,dvId:"",app:"skype"},!1),d.default.getCorrelationId().then((e=>{if(this._nestDataViz.setDeviceId(e),!this._isAppStartUpSent){this._isAppStartUpSent=!0;const e=new l.AppLifeCycleEvent(l.LifeCycle.StartUp,p.default.getAppInitTime());this._convertAndSendEvent(e)}})),s.Resolved()}startUsingUserId(){return this._isUserSignedIn=!0,s.Resolved()}respondsTo(e){var t,i,n;return!!this._isNestSinkEnabled&&(this._supportedTelemetryEventName.has(e.getEventName())&&(null===(n=null===(i=null===(t=this._supportedTelemetryEventName.get(e.getEventName()))||void 0===t?void 0:t.respondsTo)||void 0===i?void 0:i.call(t,e))||void 0===n||n))}supportsEventSampling(){return!1}supportsTelemetryFiltering(){return!1}flush(){return s.Resolved()}pause(){return this._nestDataViz.pause(),s.Resolved()}resume(){return this._nestDataViz.resume(),s.Resolved()}_shouldSendEventImmediately(e){var t,i,n;const o=null===(t=e.getAttributes().Action)||void 0===t?void 0:t.toString();return!!o&&(null!==(n=null===(i=this._actionImmediatelySent.get(e.getEventName()))||void 0===i?void 0:i.get(o))&&void 0!==n&&n)}_convertAndSendEvent(e){this._convert(e).then((t=>{const i=this._buildEventData(e);i&&this._nestDataViz.sendEvent(t,i)}))}_convert(e){var t,i,o;return n.__awaiter(this,void 0,void 0,(function*(){const n=e.getAttributes(),s=c.default.getS4LTelemetryFeaturesNoSubscription().enableConfigIdsToViz;return{advertisingId:"",applicationId:m,build:n.Platform_Uiversion.toString(),clientVersion:null===(t=n.Version)||void 0===t?void 0:t.toString(),deviceModel:p.default.isEdgeShoreline()?p.default.getBrowserName():n["DeviceInfo.Model"].toString(),deviceType:n["DeviceInfo.Make"].toString(),installId:p.default.getDeviceId(),market:g.default.getLocale()||"",os:null===(i=n.PlatformType)||void 0===i?void 0:i.toString(),osVersion:p.default.getOSVersion(),timezone:g.default.getTimezone()||"",extSchema:{user:{userSignedIn:this._isUserSignedIn,signinAccount:u.default.userHasActiveEntitlements()?"S4LLiveTelephony":"S4LLive",skypeId:h.default.getUserCidHex()}},configuration:(null===(o=n.Platform_Id)||void 0===o?void 0:o.toString())||"",flights:s&&e instanceof l.AppLifeCycleEvent&&n.LifeCycle!==l.LifeCycle.StartUp?this._getMergedConfigIdsString():""}}))}_buildEventData(e){const t=this._supportedTelemetryEventName.get(e.getEventName()),i=null==t?void 0:t.eventName,n=!0===(null==t?void 0:t.shouldSendImmediately)||this._shouldSendEventImmediately(e),s=null==t?void 0:t.eventType,a=null==t?void 0:t.requiredAttributes,r=e.getAttributes();if(!i||!s)return;let c={shouldSendImediately:n,id:1,sid:r.session_id.toString(),name:i,type:s};if(e instanceof l.AppLifeCycleEvent){const e={Data:r.LifeCycle||"Unknown"};r.DwellTime&&(e.dwellTime=r.DwellTime),c=Object.assign(Object.assign({},c),{ts:Number(r.LifeCycleChangeTimestamp),data:e})}else y===i&&(r.Stage=Number(r.time_to_failure)>0?"send_failure":"message_sent"),c=Object.assign(Object.assign({},c),{ts:Date.now(),data:Object.assign(Object.assign({},this._deDupAttributes(r,a)),{ActivationState:o.App.getActivationState()})});return c}_deDupAttributes(e,t){return t?r.pick(e,t):r.omit(e,C)}_getMergedConfigIdsString(){var e;let t=[];return Object.values(null!==(e=c.default.getMergedEcsConfig().EventToConfigIdsMapping)&&void 0!==e?e:{}).forEach((e=>{Object.values(e).forEach((e=>{t=t.concat(e.split(","))}))})),t.filter((e=>e.startsWith("P-E")||e.startsWith("P-R"))).toString()}}},735440:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleDialogButtonAlignment=void 0,function(e){e[e.VerticalStack=0]="VerticalStack",e[e.HorizontalStack=1]="HorizontalStack"}(t.SimpleDialogButtonAlignment||(t.SimpleDialogButtonAlignment={}))},142826:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertTypeFilter=t.HighlightsFollowAlertState=t.AlertType=t.AlertMenuItemCommand=t.AlertsConstants=void 0,t.AlertsConstants={DaysOfAlertsToDisplay:7},t.AlertMenuItemCommand={all:"all",highPriority:"highpriority",reactions:"reactions",markAllRead:"markallread",settings:"settings"},function(e){e[e.HighPriorityMessage=1]="HighPriorityMessage",e[e.Reaction=2]="Reaction",e[e.AdditionalReaction=3]="AdditionalReaction",e[e.HighlightsFollowRequest=4]="HighlightsFollowRequest",e[e.HighlightComment=5]="HighlightComment",e[e.OnboardingX=6]="OnboardingX",e[e.Engagement=7]="Engagement",e[e.CoachMarks=8]="CoachMarks",e[e.Notice=9]="Notice",e[e.HighlightsSkypeChannel=10]="HighlightsSkypeChannel",e[e.HighlightsSkypeChannelSecondary=11]="HighlightsSkypeChannelSecondary",e[e.NotificationPermission=12]="NotificationPermission",e[e.ScheduledCall=13]="ScheduledCall",e[e.MissedCallbackReminder=14]="MissedCallbackReminder",e[e.OldFriendBack=15]="OldFriendBack"}(t.AlertType||(t.AlertType={})),function(e){e[e.Follow=1]="Follow",e[e.AcceptedByOther=2]="AcceptedByOther",e[e.Removed=3]="Removed",e[e.AcceptedByMe=4]="AcceptedByMe"}(t.HighlightsFollowAlertState||(t.HighlightsFollowAlertState={})),function(e){e[e.All=0]="All",e[e.HighPriorityMessages=1]="HighPriorityMessages",e[e.Reactions=2]="Reactions"}(t.AlertTypeFilter||(t.AlertTypeFilter={}))},301065:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BarcodeScanReason=t.MediaType=t.MediaPickerMode=t.BingEmotions=t.CaptureFirstRunLevel=t.MediaEditorFirstRunLevel=t.LensStyle=t.FlashMode=t.CameraMode=void 0,function(e){e[e.Front=1]="Front",e[e.Back=2]="Back",e[e.None=3]="None"}(t.CameraMode||(t.CameraMode={})),function(e){e[e.On=0]="On",e[e.Off=1]="Off"}(t.FlashMode||(t.FlashMode={})),function(e){e[e.None=0]="None",e[e.Sepia=1]="Sepia",e[e.Grayscale=2]="Grayscale",e[e.Red=3]="Red",e[e.Orange=4]="Orange",e[e.Yellow=5]="Yellow",e[e.Green=6]="Green",e[e.Blue=7]="Blue",e[e.Purple=8]="Purple"}(t.LensStyle||(t.LensStyle={})),function(e){e[e.None=0]="None",e[e.Conversation=1]="Conversation",e[e.Hub=2]="Hub"}(t.MediaEditorFirstRunLevel||(t.MediaEditorFirstRunLevel={})),function(e){e[e.None=0]="None",e[e.CaptureOnly=1]="CaptureOnly",e[e.All=2]="All"}(t.CaptureFirstRunLevel||(t.CaptureFirstRunLevel={})),function(e){e[e.Anger=0]="Anger",e[e.Disgust=1]="Disgust",e[e.Fear=2]="Fear",e[e.Happiness=3]="Happiness",e[e.Neutral=4]="Neutral",e[e.Sadness=5]="Sadness",e[e.Surprise=6]="Surprise"}(t.BingEmotions||(t.BingEmotions={})),function(e){e[e.Default=0]="Default",e[e.Inline=1]="Inline",e[e.InlinePeekaboo=2]="InlinePeekaboo"}(t.MediaPickerMode||(t.MediaPickerMode={})),function(e){e[e.PhotoOnly=0]="PhotoOnly",e[e.All=1]="All"}(t.MediaType||(t.MediaType={})),function(e){e[e.JoinLink=0]="JoinLink",e[e.QrSignIn=1]="QrSignIn"}(t.BarcodeScanReason||(t.BarcodeScanReason={}))},898278:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CompositeNotificationToastInfo=t.CustomActionSheetBorderRadius=t.BlueGradient=t.ListItemAccessibilityTrait=t.BottomInsetDefault=t.HorizontalInsetDefaultModernize=t.HorizontalInsetDefault=t.HorizontalInsetZero=t.InsetZero=t.SXMenuNavigationDirection=t.SXMenuItemSelectableType=t.SXMenuIcon=t.ListItem=t.SXActivityIndicatorSize=t.ImageResizeModeEnum=t.SXButtonStyle=t.SXButtonIconPosition=t.SXButtonSize=t.SXModalAnimationType=t.TabBarHeight=t.OverflowItemSizes=t.NewChatMenuItemSizes=t.RowPaddingModernize=t.RowPaddingClassic=t.SideBarScreenSplits=t.SideBarWidths=t.FontWeight=t.HeaderSize=t.TextThemeColor=t.TextEditTextStyle=t.LinkTextStyle=t.BodyTextSize=t.ClipsControlsViewId=t.FloatingCameraViewId=t.CallDebugRootViewId=t.CallMonitorViewId=t.CallNotificationViewId=t.ShareFileViewId=t.SettingsWindowRootViewId=t.ScreenShareViewId=t.MainRootViewId=t.RootViewType=t.MaxContentSizeMultiplier=void 0;const n=i(516778),o=i(915877),s=i(581760);t.MaxContentSizeMultiplier=1.353,function(e){e[e.Unknown=0]="Unknown",e[e.MainWindow=1]="MainWindow",e[e.SplitViewContent=2]="SplitViewContent",e[e.CallMonitor=3]="CallMonitor",e[e.ShareWith=4]="ShareWith",e[e.NativeWindow=5]="NativeWindow",e[e.ScreenSharingToolbar=6]="ScreenSharingToolbar",e[e.EmbeddedModal=7]="EmbeddedModal"}(t.RootViewType||(t.RootViewType={})),t.MainRootViewId="__MAIN_ROOT_VIEW_ID__",t.ScreenShareViewId="__SCREEN_SHARE_VIEW_ID__",t.SettingsWindowRootViewId="__SETTINGS_WINDOW_ROOT_VIEW_ID__",t.ShareFileViewId="__SHARE_FILE_VIEW_ID__",t.CallNotificationViewId="__CALL_NOTIFICATION_VIEW_ID__",t.CallMonitorViewId="__CALL_MONITOR_VIEW_ID__",t.CallDebugRootViewId="__CALL_DEBUG_VIEW_ID__",t.FloatingCameraViewId="__FLOATING_CAMERA_VIEW_ID__",t.ClipsControlsViewId="__CLIPS_CONTROLS_VIEW_ID__",function(e){e[e.Default=0]="Default",e[e.BigDeprecated=1]="BigDeprecated",e[e.SmallDeprecated=2]="SmallDeprecated"}(t.BodyTextSize||(t.BodyTextSize={})),function(e){e[e.BodyText=0]="BodyText",e[e.BodyTextSmall=1]="BodyTextSmall",e[e.BodyTextBold=2]="BodyTextBold",e[e.Caption=3]="Caption"}(t.LinkTextStyle||(t.LinkTextStyle={})),function(e){e[e.Caption=0]="Caption",e[e.BodyText=1]="BodyText",e[e.BodyTextBold=2]="BodyTextBold",e[e.MessagingHeader=3]="MessagingHeader",e[e.MessagingHeaderSmall=4]="MessagingHeaderSmall"}(t.TextEditTextStyle||(t.TextEditTextStyle={})),function(e){e[e.Default=0]="Default",e[e.Primary=1]="Primary",e[e.Secondary=2]="Secondary",e[e.Disabled=3]="Disabled",e[e.Destructive=4]="Destructive"}(t.TextThemeColor||(t.TextThemeColor={})),function(e){e[e.h0=0]="h0",e[e.h1=1]="h1",e[e.h2=2]="h2",e[e.h3=3]="h3",e[e.h4=4]="h4",e[e.h5=5]="h5"}(t.HeaderSize||(t.HeaderSize={})),function(e){e.thin="100",e.extraLight="200",e.light="300",e.regular="400",e.medium="500",e.semiBold="600",e.bold="700",e.heavy="800",e.black="900"}(t.FontWeight||(t.FontWeight={})),t.SideBarWidths={compact:300,base:322,max:380,maxRight:425,min:290,miniCanvasRight:440},t.SideBarScreenSplits={defaultSplitScreenWidth:1300,extendedSplitScreenWidth:1500,defaultSidebarWidth:500,extendedSidebarWidth:700,minScreenWidth:1150},t.RowPaddingClassic={left:10,leftDesktop:8,leftDesktopSearch:12,right:10,rightDesktop:15,rightSearch:10,rightDesktopSearch:10,top:1,bottom:1},t.RowPaddingModernize={left:16,leftDesktop:8,leftDesktopSearch:12,right:16,rightDesktop:8,rightSearch:10,rightDesktopSearch:10,top:1,bottom:1},t.NewChatMenuItemSizes={defaultWidth:105,height:52,paddingVertical:16},t.OverflowItemSizes={minHeight:110,iconSize:60,captionLineHeight:16,verticalPadding:10,numberOfLines:3},function(e){e[e.Default=0]="Default",e[e.Android=1]="Android",e[e.Tablet=2]="Tablet",e[e.iosLandscape=3]="iosLandscape",e[e.CompactDesktop=4]="CompactDesktop"}(t.TabBarHeight||(t.TabBarHeight={})),function(e){e[e.Default=0]="Default",e[e.Bottom=1]="Bottom",e[e.None=2]="None"}(t.SXModalAnimationType||(t.SXModalAnimationType={})),function(e){e[e.Large=0]="Large",e[e.Medium=1]="Medium",e[e.Small=2]="Small"}(t.SXButtonSize||(t.SXButtonSize={})),function(e){e[e.Start=0]="Start",e[e.End=1]="End",e[e.Top=2]="Top"}(t.SXButtonIconPosition||(t.SXButtonIconPosition={})),function(e){e[e.ColorFill=0]="ColorFill",e[e.ColorStroke=1]="ColorStroke",e[e.LightFill=2]="LightFill",e[e.DarkFill=3]="DarkFill",e[e.LightStroke=4]="LightStroke",e[e.DarkStroke=5]="DarkStroke",e[e.LightNoBackground=6]="LightNoBackground",e[e.DarkNoBackground=7]="DarkNoBackground",e[e.ThemeFill=8]="ThemeFill",e[e.ThemeStroke=9]="ThemeStroke",e[e.ThemeNoBackground=10]="ThemeNoBackground",e[e.GradientFill=11]="GradientFill",e[e.BlueFill=12]="BlueFill",e[e.Custom=13]="Custom",e[e.AgnosticGradientFill=14]="AgnosticGradientFill"}(t.SXButtonStyle||(t.SXButtonStyle={})),function(e){e.auto="auto",e.cover="cover",e.contain="contain",e.repeat="repeat",e.stretch="stretch"}(t.ImageResizeModeEnum||(t.ImageResizeModeEnum={})),function(e){e[e.ExtraSmall=0]="ExtraSmall",e[e.Small=1]="Small",e[e.Medium=2]="Medium",e[e.Large=3]="Large"}(t.SXActivityIndicatorSize||(t.SXActivityIndicatorSize={})),t.ListItem=(0,o.lazyProperties)({small:()=>({shortHeight:50,shortHeightStyle:n.Styles.createViewStyle({minHeight:50}),regularHeight:60,regularHeightStyle:n.Styles.createViewStyle({minHeight:60})})}),function(e){e.CopyLink="CopyLink",e.AddSkypeContacts="SkypeContacts",e.Outlook="Outlook",e.Gmail="Gmail",e.NewGmail="NewGmail",e.SMS="SMS",e.BlurBackground="BlurBackground",e.ScreenshareOff="ScreenshareOff",e.Screenshare="Screenshare",e.ScreenSharingRequestControl="ScreenSharingRequestControl",e.ScreenSharingStopControl="ScreenSharingStopControl",e.ViewSwitch="ViewSwitch",e.Snapshot="Snapshot",e.React="React",e.CustomReact="CustomReact",e.SkypeContacts="SkypeContacts",e.ContactGroupPair="ContactGroupPair",e.Settings="Settings",e.HoldCall="HoldCall",e.ResumeCall="ResumeCall",e.Record="Record",e.Subtitles="Subtitles",e.SubtitlesOff="SubtitlesOff",e.SubtitlesSettings="SubtitlesSettings",e.VideoEnable="VideoEnable",e.VideoOff="VideoOff",e.MicrophoneOff="MicrophoneOff",e.Facebook="Facebook",e.Mail="Mail",e.RaiseHand="RaiseHand",e.LowerHand="LowerHand",e.Skype="Skype",e.Picture="Picture",e.Bing="Bing",e.TwinCam="TwinCam",e.StopTwinCam="StopTwinCam",e.Block="Block",e.Bookmark="Bookmark",e.Calendar="Calendar",e.Checkmark="Checkmark",e.Clear="Clear",e.Copy="Copy",e.Delete="Delete",e.Dismiss="Dismiss",e.Edit="Edit",e.Favorite="Favorite",e.Forward="Forward",e.HideMark="HideMark",e.Leave="Leave",e.Open="Open",e.OpenFolder="OpenFolder",e.Profile="Profile",e.ReadMark="ReadMark",e.Reply="Reply",e.ReplySelection="ReplySelection",e.Save="Save",e.SaveTo="SaveTo",e.UnhideMark="UnhideMark",e.UnreadMark="UnreadMark",e.Quote="Quote",e.Warning="Warning",e.SearchSelection="Search",e.TranslatorNew="TranslatorNew",e.Pin="Pin",e.PinOff="PinOff",e.Notification="Notification",e.NotificationOff="NotificationOff",e.Unfollow="Unfollow"}(t.SXMenuIcon||(t.SXMenuIcon={})),function(e){e[e.Checkbox=1]="Checkbox",e[e.Toggle=2]="Toggle"}(t.SXMenuItemSelectableType||(t.SXMenuItemSelectableType={})),function(e){e[e.None=0]="None",e[e.Up=1]="Up",e[e.Down=2]="Down"}(t.SXMenuNavigationDirection||(t.SXMenuNavigationDirection={})),t.InsetZero={left:0,right:0,top:0,bottom:0},t.HorizontalInsetZero={left:0,right:0},t.HorizontalInsetDefault={left:t.RowPaddingClassic.left,right:t.RowPaddingClassic.right},t.HorizontalInsetDefaultModernize={left:t.RowPaddingModernize.left,right:t.RowPaddingModernize.right},t.BottomInsetDefault=10,t.ListItemAccessibilityTrait=n.Types.AccessibilityTrait.Group,t.BlueGradient=[s.Color.blueLight,s.Color.blueMedium,s.Color.blueDark,s.Color.blueDark],t.CustomActionSheetBorderRadius=3,t.CompositeNotificationToastInfo={horizontal:10,vertical:5,color:s.Color.gray400}},824490:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderType=t.PopupWidth=void 0,t.PopupWidth=350,function(e){e[e.Default=0]="Default",e[e.Slim=1]="Slim"}(t.HeaderType||(t.HeaderType={}))},775893:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImagePrefetchState=t.BACKGROUND_EFFECT_FILE_PREFIX=void 0,t.BACKGROUND_EFFECT_FILE_PREFIX="BACKGROUND_EFFECT_",function(e){e[e.Prefetching=0]="Prefetching",e[e.Prefetched=1]="Prefetched",e[e.Failed=2]="Failed",e[e.None=3]="None"}(t.ImagePrefetchState||(t.ImagePrefetchState={}))},404336:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultHeightForInviteShare=t.CompactHeight=t.CompactWidth=t.DefaultSplitViewWidthForNewProfile=t.DefaultSplitViewWidth=t.DefaultSplitSettingsWidth=t.DefaultSplitMasterWidth=t.DefaultMobileModalSizeForQRCodeSignIn=t.DefaultWidthForNewProfile=t.DefaultHeightForNewProfile=t.DefaultWidth=t.DefaultHeight=void 0,t.DefaultHeight=660,t.DefaultWidth=480,t.DefaultHeightForNewProfile=724,t.DefaultWidthForNewProfile=450,t.DefaultMobileModalSizeForQRCodeSignIn=t.DefaultWidth+100,t.DefaultSplitMasterWidth=250,t.DefaultSplitSettingsWidth=455,t.DefaultSplitViewWidth=700,t.DefaultSplitViewWidthForNewProfile=t.DefaultSplitMasterWidth+t.DefaultSplitSettingsWidth,t.CompactWidth=400,t.CompactHeight=500,t.DefaultHeightForInviteShare=751},866957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DetailsPanelHeaderSizes=t.DetailsPanelOrigin=t.DetailsPanelViewMode=void 0,function(e){e[e.None=0]="None",e[e.User=1]="User",e[e.Group=2]="Group",e[e.Bot=3]="Bot",e[e.Connector=4]="Connector"}(t.DetailsPanelViewMode||(t.DetailsPanelViewMode={})),function(e){e[e.Unknown=0]="Unknown",e[e.AddToContact=1]="AddToContact"}(t.DetailsPanelOrigin||(t.DetailsPanelOrigin={})),t.DetailsPanelHeaderSizes={scrollOffsetMobile:100,scrollOffsetDesktop:148,avatarOffsetPixels:20,headerReplacementPadding:65,headerReplacementPaddingModal:24,headerPadding:20}},72822:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DialogNavExit=t.DialogNavOrigin=void 0,function(e){e[e.Unknown=0]="Unknown",e[e.Settings=1]="Settings",e[e.KeyboardShortcut=2]="KeyboardShortcut",e[e.Onboarding=3]="Onboarding",e[e.PopCard=4]="PopCard",e[e.GroupConvSettings=5]="GroupConvSettings",e[e.ThemeDialogPage=6]="ThemeDialogPage",e[e.NoCallsItem=7]="NoCallsItem",e[e.SyncAddressBookSearchItem=8]="SyncAddressBookSearchItem",e[e.LocalContactsTab=9]="LocalContactsTab",e[e.ChatsEmptyState=10]="ChatsEmptyState",e[e.DeepLink=11]="DeepLink",e[e.ChatsFinishSetupPrompt=12]="ChatsFinishSetupPrompt",e[e.DesktopActionPicker=13]="DesktopActionPicker",e[e.UserProfilePage=14]="UserProfilePage",e[e.RecentChatsBanner=15]="RecentChatsBanner"}(t.DialogNavOrigin||(t.DialogNavOrigin={})),function(e){e[e.Unknown=0]="Unknown",e[e.CancelOrBack=1]="CancelOrBack",e[e.Submit=2]="Submit",e[e.Skip=3]="Skip",e[e.AllowAccessNextButton=4]="AllowAccessNextButton",e[e.Close=5]="Close"}(t.DialogNavExit||(t.DialogNavExit={}))},2519:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Checking=0]="Checking",e[e.Error=1]="Error",e[e.UpdateAvailable=2]="UpdateAvailable",e[e.NoUpdates=3]="NoUpdates",e[e.UpdateDownloaded=4]="UpdateDownloaded"}(i||(i={})),t.default=i},746096:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveWAMLoginKeys=t.LoginMethods=t.CoachMarkOrigin=t.KeyboardShortcut=t.ItemCommandActionCategory=t.PresenceChangeNotificationResult=t.MessageProcessResult=t.KeychainTokenType=t.KeychainFailureType=t.LogoutReason=t.RedirectToLoginReason=t.SkypeCdnTokenFailureOrigin=t.BrowserOrigin=t.ChatServiceConnectionType=t.WarmCallNotificationDisposition=t.ProfileType=t.AlertTypeForTelemetry=t.CaptureMode=t.ConversationStatus=t.NavigationConversationTelemetryMetric=t.NavigationConversationOrigin=t.CaptureNavFrom=t.SearchResultsListGroup=t.BotsOriginatingPanel=t.BotsInteraction=t.SearchResultsListOrigin=t.SearchPanelInitiator=t.ContactsLevel=t.SearchItemType=t.SearchType=t.SuggestionsAuthStep=t.BingPermissionsEntryPoint=t.BingEntryPoint=t.BrowserShareAction=t.ChatEventOrigin=t.MessageOrigin=t.DownloadTransferSource=t.PostingTransferSource=t.MessagingFailureReason=t.PostSource=t.ContactInviteOrigin=t.UnarchiveConversationOrigin=t.ArchiveConversationOrigin=t.ContactInviteType=t.AppEntryPoint=t.BackgroundCategories=t.BackgroundEffect=t.EdgeBrowserNameType=t.IOSModel=t.AppShellType=void 0,t.SearchAccessoryOrigin=t.SkypeNumberPurchaseModelFlow=t.AvatarPickerAction=t.ReportContextListOptions=t.ReportCategory=t.MyProfileFetchOrigin=t.LocationUpdateReason=t.TranslationAction=t.AudioPlayerOrigin=t.BalanceStatePanelSection=t.PaymentFlowStep=t.ConnectivityAlertType=t.MediaDownloadIntent=t.PersonAllowed=t.NotificationTypeAppLaunched=t.SharePanelEntryOrigin=t.ReencodeState=t.PlatformType=t.LogTraceArea=t.RSVersion=t.SettingsOrigin=t.AvatarChangeError=t.AvatarPolicyChangeOrigin=t.ProfileOpenOrigin=t.AvatarPickerOrigin=t.NavigationAddToCallOrigin=t.VSOTag=t.DialerNavigationSource=t.ContactNickNameUpdateOrigin=t.MoodMessageUpdateOrigin=t.NameUpdateLocation=t.AvatarUpdateLocation=t.NavigationMediaViewerOrigin=t.EmoticonAvatarsBackgrounds=t.NavigationCallOrigin=t.E2EERejectionReason=t.E2EEAcceptOrigin=t.E2EEInviteOrigin=t.FxSceneDeviceSupported=t.AvatarMenuButtons=t.AvatarChangeType=t.AvatarDataSource=t.StorageItemKeys=void 0,function(e){e[e.Browser=1]="Browser",e[e.ReactNative=2]="ReactNative",e[e.Electron=3]="Electron",e[e.Arc=4]="Arc",e[e.FireOS=5]="FireOS"}(t.AppShellType||(t.AppShellType={})),function(e){e[e.None=0]="None",e[e.iPad=1]="iPad",e[e.iPhone=2]="iPhone",e[e.iPodTouch=3]="iPodTouch"}(t.IOSModel||(t.IOSModel={})),function(e){e.edgeCanaryShoreline="EdgeCanary(Shoreline)",e.edgeDevShoreline="EdgeDev(Shoreline)",e.edgeBetaShoreline="EdgeBeta(Shoreline)",e.edgeStableShoreline="EdgeStable(Shoreline)"}(t.EdgeBrowserNameType||(t.EdgeBrowserNameType={})),function(e){e.Off="Off",e.Blur="Blur",e.BackgroundImage="BackgroundImage"}(t.BackgroundEffect||(t.BackgroundEffect={})),t.BackgroundCategories=["myBackgrounds","featured","new","holidays","fun","professional","colors","textures","nature","movies","cultural","pride","animated","bing","skypebackgroundimage"],function(e){e[e.Opened=1]="Opened",e[e.Foregrounded=2]="Foregrounded",e[e.QuickAction=3]="QuickAction",e[e.URI=4]="URI",e[e.PushNotification=5]="PushNotification",e[e.ChatNotification=6]="ChatNotification",e[e.CallNotification=7]="CallNotification"}(t.AppEntryPoint||(t.AppEntryPoint={})),function(e){e[e.SMS=0]="SMS",e[e.Email=1]="Email",e[e.ShareUrl=2]="ShareUrl",e[e.SearchPublicDirectory=3]="SearchPublicDirectory",e[e.Cancelled=4]="Cancelled"}(t.ContactInviteType||(t.ContactInviteType={})),function(e){e[e.ContextMenu=0]="ContextMenu",e[e.KeyboardShortcut=1]="KeyboardShortcut",e[e.ProfilePanel=2]="ProfilePanel",e[e.NotificationSettings=3]="NotificationSettings",e[e.ConversationHeader=4]="ConversationHeader"}(t.ArchiveConversationOrigin||(t.ArchiveConversationOrigin={})),function(e){e[e.ConversationUpdate=0]="ConversationUpdate",e[e.ContextMenu=1]="ContextMenu",e[e.NavigateToConversationFromProfile=2]="NavigateToConversationFromProfile",e[e.NavigateToConversationFromSearch=3]="NavigateToConversationFromSearch",e[e.ProfilePanel=4]="ProfilePanel",e[e.UndoPill=5]="UndoPill",e[e.Unknown=6]="Unknown",e[e.NotificationSettings=7]="NotificationSettings",e[e.ConversationHeader=8]="ConversationHeader"}(t.UnarchiveConversationOrigin||(t.UnarchiveConversationOrigin={})),function(e){e[e.Unknown=0]="Unknown",e[e.RecentsPlusButton=1]="RecentsPlusButton",e[e.AddressBookSearchResult=2]="AddressBookSearchResult",e[e.NoSearchResults=3]="NoSearchResults",e[e.ShareProfile=4]="ShareProfile",e[e.CallPanelSearch=5]="CallPanelSearch",e[e.CallCard=6]="CallCard",e[e.PeoplePanelLink=7]="PeoplePanelLink",e[e.InviteSharePanel=8]="InviteSharePanel",e[e.SearchItem=9]="SearchItem",e[e.ConversationHeader=10]="ConversationHeader",e[e.PublicDirectory=11]="PublicDirectory",e[e.ConnectWithPeople=12]="ConnectWithPeople",e[e.PstnChatWindow=13]="PstnChatWindow",e[e.CallFailurePrompt=14]="CallFailurePrompt",e[e.SmsFailurePrompt=15]="SmsFailurePrompt",e[e.EmptyRecentList=16]="EmptyRecentList"}(t.ContactInviteOrigin||(t.ContactInviteOrigin={})),function(e){e[e.Capture=1]="Capture",e[e.DragDrop=2]="DragDrop",e[e.DragDropFromConversationToRecentLists=3]="DragDropFromConversationToRecentLists",e[e.FilePicker=4]="FilePicker",e[e.MediaPicker=5]="MediaPicker",e[e.QuickCapture=6]="QuickCapture",e[e.ShareWith=7]="ShareWith",e[e.MessageComposer=8]="MessageComposer",e[e.AudioMessageComposer=9]="AudioMessageComposer",e[e.Screenshot=10]="Screenshot",e[e.Logs=11]="Logs",e[e.Gallery=12]="Gallery",e[e.ShareToSkype=13]="ShareToSkype",e[e.FeedbackString=14]="FeedbackString",e[e.CancelFailedPost=15]="CancelFailedPost",e[e.SlashCommand=16]="SlashCommand",e[e.MessagePanel=17]="MessagePanel",e[e.CallReactionPressed=18]="CallReactionPressed",e[e.CallStage=19]="CallStage",e[e.ReactionsMessageComposer=20]="ReactionsMessageComposer",e[e.MessageOptionsDelete=21]="MessageOptionsDelete",e[e.SwiftReply=22]="SwiftReply",e[e.SharePreview=23]="SharePreview",e[e.LocationPicker=24]="LocationPicker",e[e.MojiSearch=25]="MojiSearch",e[e.SwiftCardPicker=26]="SwiftCardPicker",e[e.PartListMessage=27]="PartListMessage",e[e.CallEmoticonReaction=28]="CallEmoticonReaction",e[e.P2PCallNotification=29]="P2PCallNotification",e[e.ReplyFromNotification=30]="ReplyFromNotification",e[e.InviteFakeMessage=31]="InviteFakeMessage",e[e.EphemeralMessage=32]="EphemeralMessage",e[e.ShareSwiftMessage=33]="ShareSwiftMessage",e[e.ForwardSwift=34]="ForwardSwift",e[e.ShareUrl=35]="ShareUrl",e[e.SwiftImBack=36]="SwiftImBack",e[e.UnansweredCallPanel=37]="UnansweredCallPanel",e[e.DeepLink=38]="DeepLink",e[e.CallMoments=39]="CallMoments",e[e.StartChattingCard=40]="StartChattingCard",e[e.CapturePreview=41]="CapturePreview",e[e.CallRecording=42]="CallRecording",e[e.StickerSearch=43]="StickerSearch",e[e.GifSearch=44]="GifSearch",e[e.SnapshotNotification=45]="SnapshotNotification",e[e.ScheduledCall=46]="ScheduledCall",e[e.CellularSmsMessageFromNative=47]="CellularSmsMessageFromNative",e[e.CellularSmsMessageFromMessagePanel=48]="CellularSmsMessageFromMessagePanel",e[e.CellularSmsMessageFromNativeDelete=49]="CellularSmsMessageFromNativeDelete",e[e.EngagementShareableContent=50]="EngagementShareableContent",e[e.Poll=51]="Poll",e[e.ScheduledCallFakeMessage=52]="ScheduledCallFakeMessage",e[e.MediaPreview=53]="MediaPreview",e[e.DeclineAndMessageMenu=54]="DeclineAndMessageMenu",e[e.Bookmarks=55]="Bookmarks",e[e.ForwardAlbum=56]="ForwardAlbum",e[e.DirectShare=57]="DirectShare",e[e.StreamItemCommand=58]="StreamItemCommand",e[e.Clipboard=59]="Clipboard",e[e.TooltipExpressionPicker=60]="TooltipExpressionPicker",e[e.TooltipReactionsCallBar=61]="TooltipReactionsCallBar",e[e.GuestNameUpdate=62]="GuestNameUpdate",e[e.SendCredit=63]="SendCredit",e[e.TwinCamSync=64]="TwinCamSync",e[e.SkypeClipsRecord=65]="SkypeClipsRecord",e[e.MagicBotSettings=66]="MagicBotSettings"}(t.PostSource||(t.PostSource={})),function(e){e[e.None=0]="None",e[e.AMSFailure=1]="AMSFailure",e[e.ChatServiceFailure=2]="ChatServiceFailure",e[e.Offline=3]="Offline",e[e.CacheFailure=4]="CacheFailure"}(t.MessagingFailureReason||(t.MessagingFailureReason={})),function(e){e[e.AMSCreate=0]="AMSCreate",e[e.AMSUploadThumbnail=1]="AMSUploadThumbnail",e[e.AMSUploadContent=2]="AMSUploadContent",e[e.AMSForward=3]="AMSForward",e[e.AMSGetStatus=4]="AMSGetStatus",e[e.ChatService=5]="ChatService",e[e.Azure=6]="Azure",e[e.URLPreview=7]="URLPreview",e[e.CreateConversation=8]="CreateConversation",e[e.ChatServiceUpdateProperties=9]="ChatServiceUpdateProperties"}(t.PostingTransferSource||(t.PostingTransferSource={})),function(e){e[e.AmsDownload=0]="AmsDownload",e[e.AMSGetStatus=1]="AMSGetStatus"}(t.DownloadTransferSource||(t.DownloadTransferSource={})),function(e){e[e.LongPoll=0]="LongPoll",e[e.ChatSync=1]="ChatSync",e[e.PushNotification=2]="PushNotification",e[e.LocalChange=3]="LocalChange",e[e.Trouter=4]="Trouter"}(t.MessageOrigin||(t.MessageOrigin={})),function(e){e[e.LongPoll=0]="LongPoll"}(t.ChatEventOrigin||(t.ChatEventOrigin={})),function(e){e[e.ShareCardFromPage=0]="ShareCardFromPage",e[e.ShareUrlFromPage=1]="ShareUrlFromPage",e[e.ShareCardFromBrowser=2]="ShareCardFromBrowser",e[e.ShareUrlFromBrowser=3]="ShareUrlFromBrowser",e[e.ShareCurrentUrlFromBrowser=4]="ShareCurrentUrlFromBrowser",e[e.ShareCardFromAddin=5]="ShareCardFromAddin",e[e.ShareUrlFromAddin=6]="ShareUrlFromAddin"}(t.BrowserShareAction||(t.BrowserShareAction={})),function(e){e[e.FindPanelCategory=0]="FindPanelCategory",e[e.FindPanelSearch=1]="FindPanelSearch",e[e.Url=2]="Url"}(t.BingEntryPoint||(t.BingEntryPoint={})),function(e){e[e.BingConsentDialog=0]="BingConsentDialog",e[e.BingSettings=1]="BingSettings"}(t.BingPermissionsEntryPoint||(t.BingPermissionsEntryPoint={})),function(e){e[e.ConsentDeferred=0]="ConsentDeferred",e[e.ConsentGranted=1]="ConsentGranted"}(t.SuggestionsAuthStep||(t.SuggestionsAuthStep={})),function(e){e[e.ZeroInput=0]="ZeroInput",e[e.ShortQuery=1]="ShortQuery",e[e.LongQuery=2]="LongQuery",e[e.ZeroInputWithMagicBot=3]="ZeroInputWithMagicBot"}(t.SearchType||(t.SearchType={})),function(e){e[e.History=0]="History",e[e.Suggest=1]="Suggest",e[e.Trending=2]="Trending"}(t.SearchItemType||(t.SearchItemType={})),function(e){e[e.Default=0]="Default",e[e.Few=1]="Few"}(t.ContactsLevel||(t.ContactsLevel={})),function(e){e[e.Unknown=0]="Unknown",e[e.RecentsListSearchButton=1]="RecentsListSearchButton",e[e.ContactsPanel=2]="ContactsPanel",e[e.ElectronMenu=3]="ElectronMenu",e[e.QuickCallPanel=4]="QuickCallPanel",e[e.CallsTabPanel=5]="CallsTabPanel",e[e.PhoneTabPanel=6]="PhoneTabPanel",e[e.KeyboardShortcut=7]="KeyboardShortcut",e[e.SuperComposer=8]="SuperComposer",e[e.LandingScreen=9]="LandingScreen",e[e.InAppBrowserHeader=10]="InAppBrowserHeader",e[e.ContentChannelsStore=11]="ContentChannelsStore"}(t.SearchPanelInitiator||(t.SearchPanelInitiator={})),function(e){e[e.AddContact=0]="AddContact",e[e.AddingParticipantsToGroup=1]="AddingParticipantsToGroup",e[e.ActiveNowPanel=2]="ActiveNowPanel",e[e.ContactsPanel=3]="ContactsPanel",e[e.ContactsPanelV2=4]="ContactsPanelV2",e[e.DiscoverPanel=5]="DiscoverPanel",e[e.FindBots=6]="FindBots",e[e.MoreContactsPanel=7]="MoreContactsPanel",e[e.NewChat=8]="NewChat",e[e.NewGroup=9]="NewGroup",e[e.NewPrivateChat=10]="NewPrivateChat",e[e.QuickCallPanel=11]="QuickCallPanel",e[e.SearchPanel=12]="SearchPanel",e[e.SendCreditSearchPeople=13]="SendCreditSearchPeople",e[e.ShareWithPanel=14]="ShareWithPanel",e[e.SuperComposer=15]="SuperComposer",e[e.NewCellularSmsConversation=16]="NewCellularSmsConversation",e[e.QuickCallPanelModal=17]="QuickCallPanelModal",e[e.ListSearchPickerPanel=18]="ListSearchPickerPanel",e[e.CallsTabPanel=19]="CallsTabPanel",e[e.PhoneTabPanel=20]="PhoneTabPanel",e[e.ContentChannels=21]="ContentChannels",e[e.SayHiPopup=22]="SayHiPopup"}(t.SearchResultsListOrigin||(t.SearchResultsListOrigin={})),function(e){e[e.ClickPlusMenu=0]="ClickPlusMenu",e[e.NavigateToBotStore=1]="NavigateToBotStore",e[e.CloseBotStore=2]="CloseBotStore",e[e.ViewBotProfile=3]="ViewBotProfile",e[e.CloseBotProfile=4]="CloseBotProfile",e[e.ClickChatWithBot=5]="ClickChatWithBot",e[e.ClickShareBot=6]="ClickShareBot",e[e.SearchBotInRecents=7]="SearchBotInRecents",e[e.ClickMoreForCategory=8]="ClickMoreForCategory",e[e.MessageBot=9]="MessageBot",e[e.BlockBot=10]="BlockBot",e[e.DeleteBot=11]="DeleteBot",e[e.AutoAddBot=12]="AutoAddBot",e[e.ShareMagicBotLink=13]="ShareMagicBotLink"}(t.BotsInteraction||(t.BotsInteraction={})),function(e){e[e.BotsDetailsPanel=0]="BotsDetailsPanel",e[e.GetStarted=1]="GetStarted",e[e.AddBotToContacts=2]="AddBotToContacts",e[e.SendMessage=3]="SendMessage"}(t.BotsOriginatingPanel||(t.BotsOriginatingPanel={})),function(e){e[e.AddressBook=0]="AddressBook",e[e.AddressBookWithAlphaHeaders=1]="AddressBookWithAlphaHeaders",e[e.AllPeople=2]="AllPeople",e[e.AllPeopleWithoutAddressBook=3]="AllPeopleWithoutAddressBook",e[e.Bots=4]="Bots",e[e.ContactsPrivacyNoticeBanner=5]="ContactsPrivacyNoticeBanner",e[e.FavoriteContacts=6]="FavoriteContacts",e[e.GroupChats=7]="GroupChats",e[e.InviteLink=8]="InviteLink",e[e.SyncAddressBookBanner=9]="SyncAddressBookBanner",e[e.SyncAddressBookLink=10]="SyncAddressBookLink",e[e.Messages=11]="Messages",e[e.PublicDirectory=12]="PublicDirectory",e[e.UpcomingCalls=13]="UpcomingCalls",e[e.RecentCalls=14]="RecentCalls",e[e.RecentCallsExtended=15]="RecentCallsExtended",e[e.SuggestedFrequentConversations=16]="SuggestedFrequentConversations",e[e.SuggestedRecentConversations=17]="SuggestedRecentConversations",e[e.SuggestedRecentConversationsWithEstablishedPrivateConversations=18]="SuggestedRecentConversationsWithEstablishedPrivateConversations",e[e.CombinedContacts=19]="CombinedContacts",e[e.CombinedContactsWithoutAlphaHeaders=20]="CombinedContactsWithoutAlphaHeaders",e[e.CombinedContactsWithoutAddressBookOrAlphaHeaders=21]="CombinedContactsWithoutAddressBookOrAlphaHeaders",e[e.CombinedContactsWithoutAddressBook=22]="CombinedContactsWithoutAddressBook",e[e.CombinedContactsWithoutShortCircuit=23]="CombinedContactsWithoutShortCircuit",e[e.SkypeContacts=24]="SkypeContacts",e[e.ShortCircuit=25]="ShortCircuit",e[e.PstnDialpad=26]="PstnDialpad",e[e.PhoneNumberVerificationLink=27]="PhoneNumberVerificationLink",e[e.ActiveNow=28]="ActiveNow",e[e.ShareGroup=29]="ShareGroup",e[e.AddContactLink=30]="AddContactLink",e[e.SearchFeedbackLink=31]="SearchFeedbackLink",e[e.AllPeopleWithPhoneNumbers=32]="AllPeopleWithPhoneNumbers",e[e.GroupMember=33]="GroupMember",e[e.ConnectWithPeople=34]="ConnectWithPeople",e[e.MagicBot=35]="MagicBot",e[e.BingSuggest=36]="BingSuggest",e[e.BingTrending=37]="BingTrending",e[e.ShareMagicBot=38]="ShareMagicBot",e[e.ContentChannels=39]="ContentChannels"}(t.SearchResultsListGroup||(t.SearchResultsListGroup={})),function(e){e[e.Home=0]="Home",e[e.Conversation=1]="Conversation"}(t.CaptureNavFrom||(t.CaptureNavFrom={})),function(e){e[e.Unknown=0]="Unknown",e[e.PlusButton=1]="PlusButton",e[e.Recents=2]="Recents",e[e.Search=3]="Search",e[e.PeoplePanel=4]="PeoplePanel",e[e.AppStart=5]="AppStart",e[e.BotDetails=6]="BotDetails",e[e.Call=7]="Call",e[e.CallComplete=8]="CallComplete",e[e.Gallery=9]="Gallery",e[e.GroupProfile=10]="GroupProfile",e[e.UserProfile=11]="UserProfile",e[e.AlertsPanel=12]="AlertsPanel",e[e.InAppNotification=13]="InAppNotification",e[e.SystemNotification=14]="SystemNotification",e[e.DeepLink=15]="DeepLink",e[e.ShareToSkype=16]="ShareToSkype",e[e.CompositeNavRedirectToRecentConv=17]="CompositeNavRedirectToRecentConv",e[e.CompositeNavCloseShareWithPanel=18]="CompositeNavCloseShareWithPanel",e[e.CompositeNavCloseLocationPicker=19]="CompositeNavCloseLocationPicker",e[e.CompositeNavCloseLocationViewer=20]="CompositeNavCloseLocationViewer",e[e.NavToDefaultConv=21]="NavToDefaultConv",e[e.CapturePanel=22]="CapturePanel",e[e.DesktopCloseCapturePanel=23]="DesktopCloseCapturePanel",e[e.DesktopCloseCapturePreviewPanel=24]="DesktopCloseCapturePreviewPanel",e[e.LinkForNewGroupWithBot=25]="LinkForNewGroupWithBot",e[e.LinkForNewGroupWithUser=26]="LinkForNewGroupWithUser",e[e.Announcement=27]="Announcement",e[e.MediaPicker=28]="MediaPicker",e[e.QuoteLink=29]="QuoteLink",e[e.SwiftCardLink=30]="SwiftCardLink",e[e.FeedbackMechanism=31]="FeedbackMechanism",e[e.SlashCommand=32]="SlashCommand",e[e.HeaderButtonNewGroupWithUser=33]="HeaderButtonNewGroupWithUser",e[e.KeyboardShortcutNewGroupWithUser=34]="KeyboardShortcutNewGroupWithUser",e[e.PopCards=35]="PopCards",e[e.AppMenu=36]="AppMenu",e[e.EngagementNotice=37]="EngagementNotice",e[e.PSTNDialer=38]="PSTNDialer",e[e.SmsControl=39]="SmsControl",e[e.SMSNumberSwitch=40]="SMSNumberSwitch",e[e.CallOrInvitePrompt=41]="CallOrInvitePrompt",e[e.NewPrivateConversation=42]="NewPrivateConversation",e[e.SwiftForwardComplete=43]="SwiftForwardComplete",e[e.Campaign=44]="Campaign",e[e.InviteLink=45]="InviteLink",e[e.ElectronUri=46]="ElectronUri",e[e.OnUrlChange=47]="OnUrlChange",e[e.LinkerUtil=48]="LinkerUtil",e[e.InitialUrl=49]="InitialUrl",e[e.NewChat=50]="NewChat",e[e.NewGroup=51]="NewGroup",e[e.NewModeratedGroup=52]="NewModeratedGroup",e[e.UserProfileNewGroupWithUser=53]="UserProfileNewGroupWithUser",e[e.BotProfileNewGroupWithBot=54]="BotProfileNewGroupWithBot",e[e.NewGroupWithUserAndBot=55]="NewGroupWithUserAndBot",e[e.KeyboardShortcutAddPeopleToGroup=56]="KeyboardShortcutAddPeopleToGroup",e[e.HeaderButtonAddUserToGroup=57]="HeaderButtonAddUserToGroup",e[e.NewPrivateChat=58]="NewPrivateChat",e[e.SuperComposer=59]="SuperComposer",e[e.InviteMorePeopleAfterJoinButton=60]="InviteMorePeopleAfterJoinButton",e[e.MediaBar=61]="MediaBar",e[e.MessageComposer=62]="MessageComposer",e[e.HomeScreen=63]="HomeScreen",e[e.TabSwitcher=64]="TabSwitcher",e[e.KeyboardShortcut=65]="KeyboardShortcut",e[e.SystemNotificationMissedCall=66]="SystemNotificationMissedCall",e[e.SystemNotificationMissedP2PCall=67]="SystemNotificationMissedP2PCall",e[e.SystemNotificationChatReply=68]="SystemNotificationChatReply",e[e.SystemNotificationScheduledCall=69]="SystemNotificationScheduledCall",e[e.GoLiveNotification=70]="GoLiveNotification",e[e.NativeContactIntent=71]="NativeContactIntent",e[e.SharedContactCard=72]="SharedContactCard",e[e.NewSms=73]="NewSms",e[e.ArchivedConversations=74]="ArchivedConversations",e[e.UpcomingCallsPanel=75]="UpcomingCallsPanel",e[e.PeopleRecommendationsDiscoverPanel=76]="PeopleRecommendationsDiscoverPanel",e[e.PeopleRecommendationsUserCard=77]="PeopleRecommendationsUserCard",e[e.CallParticipantActionMenu=78]="CallParticipantActionMenu",e[e.KeyboardShortcutRecents=79]="KeyboardShortcutRecents",e[e.PresenceChangeNotification=80]="PresenceChangeNotification",e[e.OldFriendBackNotification=81]="OldFriendBackNotification",e[e.BookmarkMessage=82]="BookmarkMessage",e[e.DragDropFromConversationToRecentLists=83]="DragDropFromConversationToRecentLists",e[e.CreateMeetNowConversation=84]="CreateMeetNowConversation",e[e.MeetNowChat=85]="MeetNowChat",e[e.MeetNowCall=86]="MeetNowCall",e[e.MeetNowJoinFlow=87]="MeetNowJoinFlow",e[e.OverflowMenu=88]="OverflowMenu",e[e.MeetNowJoinLobby=89]="MeetNowJoinLobby",e[e.MeetNowCreatorPanel=90]="MeetNowCreatorPanel",e[e.GuestUpsellPanel=91]="GuestUpsellPanel",e[e.MeetNowCreatorPopup=92]="MeetNowCreatorPopup",e[e.OfficeLens=93]="OfficeLens",e[e.EdgeWorkspace=94]="EdgeWorkspace",e[e.ContentChannels=95]="ContentChannels"}(t.NavigationConversationOrigin||(t.NavigationConversationOrigin={})),function(e){e[e.PreAnimation=0]="PreAnimation",e[e.Animation=1]="Animation",e[e.Rendered=2]="Rendered"}(t.NavigationConversationTelemetryMetric||(t.NavigationConversationTelemetryMetric={})),function(e){e[e.Invalid=0]="Invalid",e[e.Accepted=1]="Accepted",e[e.AcceptPendingSender=2]="AcceptPendingSender",e[e.AcceptPendingRecipient=3]="AcceptPendingRecipient"}(t.ConversationStatus||(t.ConversationStatus={})),function(e){e[e.Default=0]="Default",e[e.PhotoOnly=1]="PhotoOnly",e[e.VideoOnly=2]="VideoOnly",e[e.QR=3]="QR"}(t.CaptureMode||(t.CaptureMode={})),function(e){e[e.Quote=0]="Quote",e[e.Mention=1]="Mention",e[e.Reaction=2]="Reaction",e[e.Onboarding=3]="Onboarding",e[e.Engagement=4]="Engagement",e[e.CoachMarks=5]="CoachMarks",e[e.Notice=6]="Notice",e[e.Unknown=7]="Unknown",e[e.ScheduledCall=8]="ScheduledCall",e[e.OldFriendBack=9]="OldFriendBack"}(t.AlertTypeForTelemetry||(t.AlertTypeForTelemetry={})),function(e){e[e.My=0]="My",e[e.User=1]="User",e[e.Bot=2]="Bot",e[e.Group=3]="Group"}(t.ProfileType||(t.ProfileType={})),function(e){e[e.Wasted=-1]="Wasted",e[e.AlreadyRunning=0]="AlreadyRunning",e[e.FollowedByNonWarmPush=1]="FollowedByNonWarmPush",e[e.FollowedByForegrounding=10]="FollowedByForegrounding",e[e.FollowedByCall=100]="FollowedByCall"}(t.WarmCallNotificationDisposition||(t.WarmCallNotificationDisposition={})),function(e){e[e.Unknown=0]="Unknown",e[e.ChatServiceV1=1]="ChatServiceV1",e[e.MessagingApi=2]="MessagingApi"}(t.ChatServiceConnectionType||(t.ChatServiceConnectionType={})),function(e){e[e.AuthActionLink=0]="AuthActionLink",e[e.AudioVideoSettings=1]="AudioVideoSettings",e[e.EngagementNotice=2]="EngagementNotice",e[e.LinkNode=3]="LinkNode",e[e.AttributionNode=4]="AttributionNode",e[e.BotSettings=5]="BotSettings",e[e.ConsentModal=6]="ConsentModal",e[e.FindPanel=7]="FindPanel",e[e.SuggestionsLearnMore=8]="SuggestionsLearnMore",e[e.NotebookLink=9]="NotebookLink",e[e.DeepLinkRequest=10]="DeepLinkRequest",e[e.SyncAddressBookDialogPrivacyStatement=11]="SyncAddressBookDialogPrivacyStatement",e[e.PopCard=12]="PopCard",e[e.SwiftActionView=13]="SwiftActionView",e[e.SwiftQuickReplyView=14]="SwiftQuickReplyView",e[e.Moji=15]="Moji",e[e.LinkerUtil=16]="LinkerUtil",e[e.TPUMRequest=17]="TPUMRequest",e[e.CloseAccount=18]="CloseAccount",e[e.LocationNode=19]="LocationNode",e[e.AdaptiveCard=20]="AdaptiveCard",e[e.ConnectorProfile=21]="ConnectorProfile",e[e.CreditExpiration=22]="CreditExpiration",e[e.SuggestionsConsentLearnMore=23]="SuggestionsConsentLearnMore",e[e.JoinLink=24]="JoinLink",e[e.ReadReceiptsSettingsDescription=25]="ReadReceiptsSettingsDescription",e[e.SearchSuggestionsSettings=26]="SearchSuggestionsSettings",e[e.AddinMenu=27]="AddinMenu",e[e.Plugins=28]="Plugins",e[e.NetworkConnectionAlert=29]="NetworkConnectionAlert",e[e.FileSharingLimits=30]="FileSharingLimits",e[e.PrivacyProfile=31]="PrivacyProfile",e[e.PeopleYouMayKnowNoticeDialog=32]="PeopleYouMayKnowNoticeDialog",e[e.TelemetryConsentDialog=33]="TelemetryConsentDialog",e[e.SubscriptionDataSection=34]="SubscriptionDataSection",e[e.MeControl=35]="MeControl",e[e.WebLauncher=36]="WebLauncher",e[e.MeProfile=37]="MeProfile",e[e.HotkeysSettingsDescription=38]="HotkeysSettingsDescription",e[e.UserProfileOnboarding=39]="UserProfileOnboarding",e[e.GuestUpsellPanel=40]="GuestUpsellPanel",e[e.TelemetryConsentSettingsDescription=41]="TelemetryConsentSettingsDescription",e[e.CallPanel=42]="CallPanel",e[e.PurchaseRedirect=43]="PurchaseRedirect",e[e.EmptyStateCTA=44]="EmptyStateCTA",e[e.AgeGroupRestrictions=45]="AgeGroupRestrictions",e[e.BingBackgroundReplaceImage=46]="BingBackgroundReplaceImage",e[e.TodayTabNewsArticle=47]="TodayTabNewsArticle",e[e.MiniApp=48]="MiniApp"}(t.BrowserOrigin||(t.BrowserOrigin={})),function(e){e[e.CdnTokenFetching=0]="CdnTokenFetching",e[e.CdnCookieSetting=1]="CdnCookieSetting"}(t.SkypeCdnTokenFailureOrigin||(t.SkypeCdnTokenFailureOrigin={})),function(e){e[e.Unknown=0]="Unknown",e[e.SplashScreen=1]="SplashScreen",e[e.NoSkypeIdFound=2]="NoSkypeIdFound",e[e.SkypeIdDbError=3]="SkypeIdDbError",e[e.NoMSARefreshTokenFound=4]="NoMSARefreshTokenFound",e[e.NoMSAAccessTokenFound=5]="NoMSAAccessTokenFound",e[e.MSARefreshInvalidGrant=6]="MSARefreshInvalidGrant",e[e.SkypeTokenSilentLoginInvalidGrant=7]="SkypeTokenSilentLoginInvalidGrant",e[e.SkypeTokenSilentLoginFailed=8]="SkypeTokenSilentLoginFailed",e[e.QuickSignOnActive=9]="QuickSignOnActive",e[e.SingleSignOnActive=10]="SingleSignOnActive",e[e.GuestJoinUnavailable=11]="GuestJoinUnavailable",e[e.BackgroundSignIn=12]="BackgroundSignIn",e[e.NewMeetNowFlow=13]="NewMeetNowFlow",e[e.GuestUpsellSignIn=14]="GuestUpsellSignIn",e[e.AgeGroupRestrictions=15]="AgeGroupRestrictions",e[e.NoOneAuthMSAAccessTokenFound=16]="NoOneAuthMSAAccessTokenFound",e[e.UnableToFetchAccountInformationFromOneAuth=17]="UnableToFetchAccountInformationFromOneAuth",e[e.OneAuthInvalidGrant=18]="OneAuthInvalidGrant"}(t.RedirectToLoginReason||(t.RedirectToLoginReason={})),function(e){e[e.Unknown=0]="Unknown",e[e.DatabaseError=1]="DatabaseError",e[e.UrlRequested=2]="UrlRequested",e[e.CommandLineRequested=3]="CommandLineRequested",e[e.UnauthorizedMurphyUser=4]="UnauthorizedMurphyUser",e[e.LoginRestarted=5]="LoginRestarted",e[e.SkypeIdMismatch=6]="SkypeIdMismatch",e[e.DesktopMenu=7]="DesktopMenu",e[e.Settings=8]="Settings",e[e.AccountSettings=9]="AccountSettings",e[e.CloseAccount=10]="CloseAccount",e[e.LandingPageSwitchAccount=11]="LandingPageSwitchAccount",e[e.GuestSessionEnded=12]="GuestSessionEnded",e[e.MeControl=13]="MeControl",e[e.CompositeNavigationFooter=14]="CompositeNavigationFooter",e[e.Onboarding=15]="Onboarding",e[e.AgeGroupRestrictions=16]="AgeGroupRestrictions",e[e.DesktopOverflowMenu=17]="DesktopOverflowMenu",e[e.OneAuthForceLogout=18]="OneAuthForceLogout"}(t.LogoutReason||(t.LogoutReason={})),function(e){e[e.FailedToSave=0]="FailedToSave",e[e.FailedToRead=1]="FailedToRead",e[e.Retry=2]="Retry"}(t.KeychainFailureType||(t.KeychainFailureType={})),function(e){e[e.MSARefresh=0]="MSARefresh",e[e.Skype=1]="Skype"}(t.KeychainTokenType||(t.KeychainTokenType={})),function(e){e[e.DeletedMessage=0]="DeletedMessage",e[e.EditedMessage=1]="EditedMessage",e[e.MutatedMessage=2]="MutatedMessage",e[e.CallMessage=3]="CallMessage",e[e.MyMessage=4]="MyMessage",e[e.ChatNotificationsDisabled=5]="ChatNotificationsDisabled",e[e.InAppNotificationsDisabled=6]="InAppNotificationsDisabled",e[e.CameFromSyncOrLocal=7]="CameFromSyncOrLocal",e[e.RecentlyNotified=8]="RecentlyNotified",e[e.Filtered=9]="Filtered",e[e.FromBlockedUser=10]="FromBlockedUser",e[e.MandatoryElectronUpdate=11]="MandatoryElectronUpdate",e[e.EngagementNotificationSuppressed=12]="EngagementNotificationSuppressed",e[e.IsForegroundedInConversation=13]="IsForegroundedInConversation",e[e.SystemMessagePermissionsUnknown=14]="SystemMessagePermissionsUnknown",e[e.SystemMessagePermissionsDenied=15]="SystemMessagePermissionsDenied",e[e.SystemMessageFailure=16]="SystemMessageFailure",e[e.NotifiedInApp=17]="NotifiedInApp",e[e.NotifiedSystemMessage=18]="NotifiedSystemMessage",e[e.ThreadActivitySuppressed=19]="ThreadActivitySuppressed",e[e.DoNotDisturbEnabled=20]="DoNotDisturbEnabled",e[e.SiblingConversationInTabActive=21]="SiblingConversationInTabActive",e[e.LastReactionUserNotFound=22]="LastReactionUserNotFound",e[e.ChatNotificationsDisabledTemporarily=23]="ChatNotificationsDisabledTemporarily",e[e.ScheduledCallInvitationUnknown=24]="ScheduledCallInvitationUnknown",e[e.DoNotDisturbCallNotificationEnabled=25]="DoNotDisturbCallNotificationEnabled",e[e.ScheduleCallNotificationsDisabled=26]="ScheduleCallNotificationsDisabled",e[e.InAppScheduleCallNotificationsDisabled=27]="InAppScheduleCallNotificationsDisabled",e[e.UnknownConversation=28]="UnknownConversation",e[e.TranslationSettingsSuppressed=29]="TranslationSettingsSuppressed",e[e.OriginalForTranslatedConversationSuppressed=30]="OriginalForTranslatedConversationSuppressed",e[e.TrouterMessageWhileInBackground=31]="TrouterMessageWhileInBackground",e[e.BingControl=32]="BingControl"}(t.MessageProcessResult||(t.MessageProcessResult={})),function(e){e[e.DoNotDisturbEnabled=0]="DoNotDisturbEnabled",e[e.FromBlockedUser=1]="FromBlockedUser",e[e.IsForegroundedInConversation=2]="IsForegroundedInConversation",e[e.MandatoryElectronUpdate=3]="MandatoryElectronUpdate",e[e.NotifiedSystemMessage=4]="NotifiedSystemMessage",e[e.NotifyOnPresenceDisabled=5]="NotifyOnPresenceDisabled",e[e.SiblingConversationInTabActive=6]="SiblingConversationInTabActive",e[e.SystemMessageFailure=7]="SystemMessageFailure",e[e.SystemMessagePermissionsDenied=8]="SystemMessagePermissionsDenied",e[e.SystemMessagePermissionsUnknown=9]="SystemMessagePermissionsUnknown",e[e.UnknownConversation=10]="UnknownConversation"}(t.PresenceChangeNotificationResult||(t.PresenceChangeNotificationResult={})),function(e){e[e.Main=0]="Main",e[e.Secondary=1]="Secondary",e[e.Destructive=2]="Destructive",e[e.React=3]="React"}(t.ItemCommandActionCategory||(t.ItemCommandActionCategory={})),function(e){e[e.OpenNotificationPanel=0]="OpenNotificationPanel",e[e.OpenAppSettings=1]="OpenAppSettings",e[e.OpenHelpInABrowser=2]="OpenHelpInABrowser",e[e.OpenDialpad=3]="OpenDialpad",e[e.StartNewConversation=4]="StartNewConversation",e[e.NewGroup=5]="NewGroup",e[e.OpenContactsPanel=6]="OpenContactsPanel",e[e.SendFeedback=7]="SendFeedback",e[e.OpenThemePicker=8]="OpenThemePicker",e[e.NavigateToRecents=9]="NavigateToRecents",e[e.NavigateToHistory=10]="NavigateToHistory",e[e.ShowConversationProfile=11]="ShowConversationProfile",e[e.AddPeopleToConversation=12]="AddPeopleToConversation",e[e.SendFile=13]="SendFile",e[e.StartVideoCall=14]="StartVideoCall",e[e.StartAudioCall=15]="StartAudioCall",e[e.ToggleGallery=16]="ToggleGallery",e[e.MarkAsUnread=17]="MarkAsUnread",e[e.ToggleLeftPanel=18]="ToggleLeftPanel",e[e.HangupOrRejectCall=19]="HangupOrRejectCall",e[e.ToggleMicrophone=20]="ToggleMicrophone",e[e.ToggleCamera=21]="ToggleCamera",e[e.AcceptIncomingCall=22]="AcceptIncomingCall",e[e.AddPeopleToCall=23]="AddPeopleToCall",e[e.Search=24]="Search",e[e.SearchInConversation=25]="SearchInConversation",e[e.ToggleTheme=26]="ToggleTheme",e[e.EditMessage=27]="EditMessage",e[e.EnableMultipleSelectMessages=28]="EnableMultipleSelectMessages",e[e.TakeCallSnapshot=29]="TakeCallSnapshot",e[e.ArchiveConversation=30]="ArchiveConversation",e[e.OpenMainWindow=31]="OpenMainWindow",e[e.Refresh=32]="Refresh",e[e.ZoomIn=33]="ZoomIn",e[e.ZoomOut=34]="ZoomOut",e[e.ResetZoom=35]="ResetZoom",e[e.OpenKeyboardShortcuts=36]="OpenKeyboardShortcuts",e[e.FocusMessageComposer=37]="FocusMessageComposer",e[e.AnnounceMuteStatus=38]="AnnounceMuteStatus",e[e.AnnounceSelfVideoOnOffStatus=39]="AnnounceSelfVideoOnOffStatus",e[e.NavigateToPreviousConversation=40]="NavigateToPreviousConversation",e[e.NavigateToNextConversation=41]="NavigateToNextConversation",e[e.ResizeVideoPreview=42]="ResizeVideoPreview",e[e.FocusScreenSharingToolbar=43]="FocusScreenSharingToolbar",e[e.Quit=44]="Quit",e[e.CallDebugPanel=45]="CallDebugPanel",e[e.OpenSxPlayground=46]="OpenSxPlayground"}(t.KeyboardShortcut||(t.KeyboardShortcut={})),function(e){e[e.Unknown=1]="Unknown",e[e.LandingPage=2]="LandingPage",e[e.NotificationsPanel=3]="NotificationsPanel",e[e.TabletOnboardingWizard=4]="TabletOnboardingWizard",e[e.TabletInviteLink=5]="TabletInviteLink"}(t.CoachMarkOrigin||(t.CoachMarkOrigin={})),function(e){e[e.LiveLogin=0]="LiveLogin",e[e.WAM=1]="WAM",e[e.Guest=3]="Guest",e[e.QSO=4]="QSO",e[e.OneAuth=5]="OneAuth",e[e.PhoneAuth=6]="PhoneAuth"}(t.LoginMethods||(t.LoginMethods={})),function(e){e[e.MSA=0]="MSA"}(t.InteractiveWAMLoginKeys||(t.InteractiveWAMLoginKeys={})),function(e){e[e.SigninName=0]="SigninName",e[e.LogoutToken=1]="LogoutToken",e[e.FirstTimeSignIn=2]="FirstTimeSignIn",e[e.ForgottenAccounts=3]="ForgottenAccounts",e[e.RefreshTokenExpiration=4]="RefreshTokenExpiration",e[e.LoginMethod=5]="LoginMethod",e[e.VerboseDBFlag=6]="VerboseDBFlag",e[e.NukeSdkDbFlag=7]="NukeSdkDbFlag",e[e.GuestLogoutInformation=8]="GuestLogoutInformation",e[e.CampaignReferrer=9]="CampaignReferrer",e[e.UserCacheEnabled=10]="UserCacheEnabled",e[e.SignInReminderLastShownTimeKey=11]="SignInReminderLastShownTimeKey",e[e.SignOutReminderLastShownTimeKey=12]="SignOutReminderLastShownTimeKey",e[e.AppUpdateStatus=13]="AppUpdateStatus",e[e.StartupUrl=14]="StartupUrl",e[e.EngagementBannerLastShownTimeKey=15]="EngagementBannerLastShownTimeKey",e[e.GuestSessionInformation=16]="GuestSessionInformation",e[e.MsaPartition=17]="MsaPartition",e[e.QsoAccountHasCookies=18]="QsoAccountHasCookies",e[e.TokenRefreshBackgroundTaskTimeTriggerInfo=19]="TokenRefreshBackgroundTaskTimeTriggerInfo",e[e.TokenRefreshExpirationThresholdInDays=20]="TokenRefreshExpirationThresholdInDays",e[e.FreBuildVersion=21]="FreBuildVersion"}(t.StorageItemKeys||(t.StorageItemKeys={})),function(e){e[e.Unknown=0]="Unknown",e[e.FileUpload=1]="FileUpload",e[e.Camera=2]="Camera",e[e.CameraRoll=3]="CameraRoll",e[e.DragAndDrop=4]="DragAndDrop"}(t.AvatarDataSource||(t.AvatarDataSource={})),function(e){e[e.AddOrUpdate=0]="AddOrUpdate",e[e.Remove=1]="Remove"}(t.AvatarChangeType||(t.AvatarChangeType={})),function(e){e[e.TakePhoto=0]="TakePhoto",e[e.UploadPhoto=1]="UploadPhoto",e[e.ViewPhoto=2]="ViewPhoto",e[e.RemovePhoto=3]="RemovePhoto",e[e.Cancel=4]="Cancel"}(t.AvatarMenuButtons||(t.AvatarMenuButtons={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}(t.FxSceneDeviceSupported||(t.FxSceneDeviceSupported={})),function(e){e[e.UserProfile=0]="UserProfile",e[e.NewActionButton=1]="NewActionButton",e[e.ConversationEnd=2]="ConversationEnd",e[e.InvitationExpire=3]="InvitationExpire",e[e.DeviceSwitch=4]="DeviceSwitch"}(t.E2EEInviteOrigin||(t.E2EEInviteOrigin={})),function(e){e[e.Invitation=0]="Invitation",e[e.DeviceSwitch=1]="DeviceSwitch"}(t.E2EEAcceptOrigin||(t.E2EEAcceptOrigin={})),function(e){e[e.DecryptionFailed=0]="DecryptionFailed",e[e.ConversationEnding=1]="ConversationEnding",e[e.DeviceSwitchDeclining=2]="DeviceSwitchDeclining",e[e.InvitationDeclining=3]="InvitationDeclining",e[e.IdentityLost=4]="IdentityLost",e[e.EncryptionFailed=5]="EncryptionFailed"}(t.E2EERejectionReason||(t.E2EERejectionReason={})),function(e){e[e.Unknown=0]="Unknown",e[e.AddressBookContactListItem=1]="AddressBookContactListItem",e[e.AddressBookHelper=2]="AddressBookHelper",e[e.BotProfileContent=3]="BotProfileContent",e[e.CallCard=4]="CallCard",e[e.CallControls=5]="CallControls",e[e.CallingOptionsHelper=6]="CallingOptionsHelper",e[e.CallManager=7]="CallManager",e[e.CallOrInvitePrompt=8]="CallOrInvitePrompt",e[e.CallsTabCallIcon=9]="CallsTabCallIcon",e[e.CallsTabQuickCallPanel=10]="CallsTabQuickCallPanel",e[e.CallsTab=11]="CallsTab",e[e.PhoneTab=12]="PhoneTab",e[e.CommandInvokerService=13]="CommandInvokerService",e[e.ContactsPanel=14]="ContactsPanel",e[e.ConversationHeader=15]="ConversationHeader",e[e.DeepLink=16]="DeepLink",e[e.DesktopCallNotification=17]="DesktopCallNotification",e[e.DesktopContentPanel=18]="DesktopContentPanel",e[e.GoLive=19]="GoLive",e[e.GroupProfile=20]="GroupProfile",e[e.IncomingRing=21]="IncomingRing",e[e.JoinCall=22]="JoinCall",e[e.InviteLink=23]="InviteLink",e[e.LocalNotificationAction=24]="LocalNotificationAction",e[e.PhoneInviteListItem=25]="PhoneInviteListItem",e[e.Profile=26]="Profile",e[e.PstnDialpad=27]="PstnDialpad",e[e.PstnDialpadSearchResult=28]="PstnDialpadSearchResult",e[e.PstnDialpadPasted=29]="PstnDialpadPasted",e[e.PstnDialpadTyped=30]="PstnDialpadTyped",e[e.PstnDialpadPrefilled=31]="PstnDialpadPrefilled",e[e.PstnDialpadSaveContact=32]="PstnDialpadSaveContact",e[e.QuickCallPanelCall=33]="QuickCallPanelCall",e[e.QuickCallPanelNewCall=34]="QuickCallPanelNewCall",e[e.SearchItem=35]="SearchItem",e[e.SearchPanel=36]="SearchPanel",e[e.SettingsTestCall=37]="SettingsTestCall",e[e.SkypeUserListItem=38]="SkypeUserListItem",e[e.StartEmergencyCall=39]="StartEmergencyCall",e[e.StartNewGroupCallAndConv=40]="StartNewGroupCallAndConv",e[e.UserProfileContent=41]="UserProfileContent",e[e.ConversationListItem=42]="ConversationListItem",e[e.GoLiveSlashCommand=43]="GoLiveSlashCommand",e[e.CallMonitor=44]="CallMonitor",e[e.PipView=45]="PipView",e[e.NativeContactIntent=46]="NativeContactIntent",e[e.UnansweredCallPanel=47]="UnansweredCallPanel",e[e.UpcomingCallsPanel=48]="UpcomingCallsPanel",e[e.UWPSplitedViewEscalation=49]="UWPSplitedViewEscalation",e[e.MeetNow=50]="MeetNow",e[e.JoinLobby=51]="JoinLobby",e[e.CreateLobby=52]="CreateLobby",e[e.DeeplinkWithCallTrue=53]="DeeplinkWithCallTrue",e[e.LegacyJoinLobby=54]="LegacyJoinLobby",e[e.LegacyCreateLobby=55]="LegacyCreateLobby",e[e.TwinCamQr=56]="TwinCamQr",e[e.TwinCamJoin=57]="TwinCamJoin",e[e.EdgeTelLink=58]="EdgeTelLink"}(t.NavigationCallOrigin||(t.NavigationCallOrigin={})),function(e){e.Yellow="yellow",e.Orange="orange",e.Pink="pink",e.Blue="blue",e.Teal="teal",e.Indigo="indigo",e.Green="green"}(t.EmoticonAvatarsBackgrounds||(t.EmoticonAvatarsBackgrounds={})),function(e){e[e.Unknown=0]="Unknown",e[e.CallSharedPhoto=1]="CallSharedPhoto",e[e.CallCard=2]="CallCard",e[e.Gallery=3]="Gallery",e[e.MessageStream=4]="MessageStream"}(t.NavigationMediaViewerOrigin||(t.NavigationMediaViewerOrigin={})),function(e){e[e.UserCard=0]="UserCard",e[e.LandingScreen=1]="LandingScreen",e[e.UserProfileOnboarding=2]="UserProfileOnboarding"}(t.AvatarUpdateLocation||(t.AvatarUpdateLocation={})),function(e){e[e.UserCard=0]="UserCard",e[e.LandingScreen=1]="LandingScreen",e[e.UserProfileOnboarding=2]="UserProfileOnboarding"}(t.NameUpdateLocation||(t.NameUpdateLocation={})),function(e){e[e.UserCard=0]="UserCard",e[e.LandingScreen=1]="LandingScreen",e[e.MeControl=2]="MeControl",e[e.NavigationHeader=3]="NavigationHeader"}(t.MoodMessageUpdateOrigin||(t.MoodMessageUpdateOrigin={})),function(e){e[e.UserCard=0]="UserCard",e[e.LocalAddressBook=1]="LocalAddressBook",e[e.AddPSTNContact=2]="AddPSTNContact"}(t.ContactNickNameUpdateOrigin||(t.ContactNickNameUpdateOrigin={})),function(e){e[e.QuickCallPanel=0]="QuickCallPanel",e[e.QuickCallPanelAddToCall=1]="QuickCallPanelAddToCall",e[e.QuickCallPanelNewCall=2]="QuickCallPanelNewCall",e[e.QuickCallPanelFab=3]="QuickCallPanelFab",e[e.CallFailedInvalidNumber=4]="CallFailedInvalidNumber",e[e.DesktopNavigation=5]="DesktopNavigation",e[e.DesktopNavigationSearchBox=6]="DesktopNavigationSearchBox",e[e.RootCompositeNavigationView=7]="RootCompositeNavigationView",e[e.CreditExpiration=8]="CreditExpiration",e[e.DeepLink=9]="DeepLink",e[e.BrowseIntent=10]="BrowseIntent",e[e.CallIntent=11]="CallIntent",e[e.MobileHubHeader=12]="MobileHubHeader",e[e.NativeContactIntent=13]="NativeContactIntent",e[e.SavePhoneNumber=14]="SavePhoneNumber",e[e.LandingPage=15]="LandingPage",e[e.CallOrInviteMenu=16]="CallOrInviteMenu",e[e.EdgeTelLink=17]="EdgeTelLink"}(t.DialerNavigationSource||(t.DialerNavigationSource={})),function(e){e.S4LSearch="S4LSearch",e.S4LPainList="S4LPainList",e.S4LNoLogs="S4LNoLogs",e.S4LBugBash="bug_bash"}(t.VSOTag||(t.VSOTag={})),function(e){e[e.Unknown=0]="Unknown",e[e.KeyboardShortcut=1]="KeyboardShortcut",e[e.OverflowMenu=2]="OverflowMenu",e[e.Ribbon=3]="Ribbon",e[e.RosterView=4]="RosterView",e[e.GoLiveInformationView=5]="GoLiveInformationView",e[e.CallControls=6]="CallControls"}(t.NavigationAddToCallOrigin||(t.NavigationAddToCallOrigin={})),function(e){e[e.UserCard=0]="UserCard",e[e.ShareProfile=1]="ShareProfile",e[e.ProfilePicturePanel=2]="ProfilePicturePanel",e[e.LandingScreen=3]="LandingScreen",e[e.ConversationInfoPanel=4]="ConversationInfoPanel",e[e.GroupProfileHeader=5]="GroupProfileHeader",e[e.MeControl=6]="MeControl",e[e.Onboarding=7]="Onboarding",e[e.MeProfile=8]="MeProfile",e[e.UserProfileOnboarding=9]="UserProfileOnboarding",e[e.MeetNowLobby=10]="MeetNowLobby"}(t.AvatarPickerOrigin||(t.AvatarPickerOrigin={})),function(e){e[e.AddToContact=0]="AddToContact",e[e.AppSettings=1]="AppSettings",e[e.AvatarClick=2]="AvatarClick",e[e.BotChatSettingsPanel=3]="BotChatSettingsPanel",e[e.DeepLink=4]="DeepLink",e[e.GroupChatSettingsPanel=5]="GroupChatSettingsPanel",e[e.MeControl=6]="MeControl",e[e.Menu=7]="Menu",e[e.SignOut=8]="SignOut",e[e.LinkPhone=9]="LinkPhone",e[e.Unknown=10]="Unknown"}(t.ProfileOpenOrigin||(t.ProfileOpenOrigin={})),function(e){e[e.AvatarPicker=0]="AvatarPicker",e[e.ProfilePicturePanel=1]="ProfilePicturePanel"}(t.AvatarPolicyChangeOrigin||(t.AvatarPolicyChangeOrigin={})),function(e){e[e.NetworkError=0]="NetworkError",e[e.NoError=1]="NoError",e[e.SizeLimitReached=2]="SizeLimitReached",e[e.UnsupportedImageType=3]="UnsupportedImageType",e[e.ResizeReencodeError=4]="ResizeReencodeError",e[e.HttpError=5]="HttpError"}(t.AvatarChangeError||(t.AvatarChangeError={})),function(e){e[e.Profile=0]="Profile",e[e.DesktopOverflowMenu=1]="DesktopOverflowMenu",e[e.Mobile=2]="Mobile",e[e.Shortcut=3]="Shortcut",e[e.MeControl=4]="MeControl"}(t.SettingsOrigin||(t.SettingsOrigin={})),function(e){e[e.Redstone1=14393]="Redstone1",e[e.Redstone2=15063]="Redstone2",e[e.Redstone3=16299]="Redstone3",e[e.Redstone4=17134]="Redstone4",e[e.Redstone5WithCameraPermissionFix=17677]="Redstone5WithCameraPermissionFix",e[e.Redstone5=17763]="Redstone5",e[e.NineteenH1=18362]="NineteenH1",e[e.NineteenH2=18363]="NineteenH2",e[e.TwentyH1=19041]="TwentyH1",e[e.TwentyH2=19042]="TwentyH2",e[e.TwentyOneH1=19043]="TwentyOneH1",e[e.TwentyOneH2=22e3]="TwentyOneH2"}(t.RSVersion||(t.RSVersion={}));var n=i(516283);Object.defineProperty(t,"LogTraceArea",{enumerable:!0,get:function(){return n.LogTraceArea}});var o=i(809206);Object.defineProperty(t,"PlatformType",{enumerable:!0,get:function(){return o.PlatformType}}),function(e){e[e.Success=0]="Success",e[e.Fail=1]="Fail",e[e.Cancel=2]="Cancel"}(t.ReencodeState||(t.ReencodeState={})),function(e){e[e.MessageActionMenu=0]="MessageActionMenu",e[e.InAppBrowserActionMenu=1]="InAppBrowserActionMenu",e[e.LocationActionMenu=2]="LocationActionMenu",e[e.DocumentActionMenu=3]="DocumentActionMenu",e[e.CapturePhotoOrVideo=4]="CapturePhotoOrVideo",e[e.BotActionMenu=5]="BotActionMenu",e[e.AddInMenu=6]="AddInMenu",e[e.MultiSelect=7]="MultiSelect",e[e.External=8]="External",e[e.UserProfile=9]="UserProfile",e[e.MessageComposer=10]="MessageComposer",e[e.TodayTab=11]="TodayTab"}(t.SharePanelEntryOrigin||(t.SharePanelEntryOrigin={})),function(e){e[e.MissedCall=0]="MissedCall",e[e.GoLive=1]="GoLive",e[e.Photo=2]="Photo",e[e.Video=3]="Video",e[e.File=4]="File",e[e.Text=5]="Text",e[e.Mention=6]="Mention",e[e.Quote=7]="Quote",e[e.Reaction=8]="Reaction",e[e.Sticker=9]="Sticker",e[e.Moji=10]="Moji",e[e.Location=11]="Location",e[e.ScheduledCallInvite=12]="ScheduledCallInvite",e[e.Poll=13]="Poll",e[e.CallbackReminder=14]="CallbackReminder",e[e.PresenceChangeNotification=15]="PresenceChangeNotification",e[e.MediaAlbum=16]="MediaAlbum",e[e.OldFriendBackNotification=17]="OldFriendBackNotification"}(t.NotificationTypeAppLaunched||(t.NotificationTypeAppLaunched={})),function(e){e[e.Allowed=1]="Allowed",e[e.Blocked=2]="Blocked",e[e.NotContact=3]="NotContact"}(t.PersonAllowed||(t.PersonAllowed={})),function(e){e[e.PictureViewer=1]="PictureViewer",e[e.VideoViewer=2]="VideoViewer",e[e.Prefetch=3]="Prefetch",e[e.AutoDownload=4]="AutoDownload"}(t.MediaDownloadIntent||(t.MediaDownloadIntent={})),function(e){e[e.NoNetwork=1]="NoNetwork",e[e.CaptivePortal=2]="CaptivePortal"}(t.ConnectivityAlertType||(t.ConnectivityAlertType={})),function(e){e.TransactionStarted="transaction_started",e.CreateOrder="create_order",e.PaymentStatusChanged="payment_status_changed",e.PaymentApplicationUsernameMismatch="payment_application_username_mismatch",e.FailureProductDetailsEmpty="failure_product_details_empty",e.IosOrderCreateFailed="ios_order_create_failed",e.IosTransactionProcessingFailure="IOS_transaction_processing_failure",e.ProcessingIosOrderCompleted="processing_ios_order_completed",e.ProcessingIosOrderFailed="processing_ios_order_failed",e.CancellingIosOrderCompleted="cancelling_ios_order_completed",e.CancellingIosOrderFailed="cancelling_ios_order_failed",e.LegacyIosOrderNotHandled="legacy_ios_order_not_handled",e.TransactionFinished="transaction_finished",e.IosOrderCreated="ios_order_created",e.FinishTransactionFailed="finish_transaction_failed",e.StratusIosOrderAlreadyCreated="ios_order_already_created",e.StratusIosOrderRenewed="ios_order_renewed",e.StratusIosOrderAlreadyRenewed="ios_order_already_renewed",e.StratusIosOrderRefunded="ios_order_refunded",e.StratusIosOrderAlreadyRefunded="ios_order_already_refunded",e.StratusIosOrderCancelled="ios_order_cancelled",e.StratusIosReceiptProcessed="ios_receipt_processed",e.StratusIosInvalidSkypeNumberService="ios_invalid_skype_number_service",e.StratusIosRetrying="ios_order_retrying",e.StratusIosStoppedRetrying="ios_order_stopped_retrying",e.StratusIosMaxTriesStoppedRetrying="ios_order_maxtries_stopped_retrying",e.PurchaseIntentionGetEmpty="purchase_intention_get_empty",e.PurchaseIntentionPostFailed="purchase_intention_post_failed",e.PurchaseIntentionDeleteFailed="purchase_intention_delete_failed",e.SkypeOrderCreated="skype_order_created",e.SkypeOrderCreateFailed="skype_order_create_failed",e.SkypeOrderCreateLimitReachedRetry="skype_order_create_limit_reached_retry",e.SkypeOrderCreateLimitReachedError="skype_order_create_limit_reached_error",e.MisconfiguredProduct="misconfigured_product",e.ProductFetchFailed="product_fetch_failed",e.CreditOfferFetchFailed="offers_credit_fetch_failed",e.SubscriptionsOfferFetchFailed="offers_subscriptions_fetch_failed",e.BillingInformationFetchFailed="offers_billing_information_fetch_failed",e.OffersProcessingFailed="offers_processing_failed",e.RecommendationApiSuccess="recommendation_api_success",e.PromotionFetchFailed="promotions_fetch_failed",e.ProductFetchCountMismatch="product_fetch_count_mismatch",e.CurrencyConversionFailed="currency_conversion_failed",e.CallingDestinationsFailed="calling_destinations_failed",e.BillingPeriodsFetchFailed="billing_periods_fetch_failed",e.BillingInformationsFetchFailed="billing_informations_fetch_failed",e.OfferHrefNotFound="offer_href_not_found",e.ProductCheckFailed="product_check_failed",e.PurchaseOptionFetchFailed="purchase_option_fetch_failed",e.ProductMapCountMismatch="product_map_count_mismatch",e.ProductMapCount="product_map_count",e.ProductNotMapped="product_not_mapped",e.ProductFetchTimedOut="product_fetch_timed_out",e.WebflowRedirect="webflow_redirect",e.BuyClick="buy_click",e.BillingPeriodRendered="billing_period_block_rendered",e.BillingPeriodSelected="billing_period_selected",e.DialogPopup="dialog_popup",e.DialogPopupContinue="dialog_popup_continue",e.DialogPopupCancelClick="dialog_popup_cancel_click",e.OrderStatus="order_status",e.PaymentInstrumentFailed="payment_instrument_failed",e.PaymentInstrumentFixClick="payment_instrument_fix_click",e.Payment3dsNeeded="payment_3ds_needed",e.Payment3dsAuthOpening="payment_3ds_auth_opening",e.Payment3dsAuthOpened="payment_3ds_auth_opened",e.Payment3dsAuthClosed="payment_3ds_auth_closed",e.Payment3dsAuthError="payment_3ds_auth_error",e.Payment3dsAuthComplete="payment_3ds_auth_complete",e.Payment3dsAuthResultSuccess="payment_3ds_auth_result_success",e.Payment3dsAuthResultFail="payment_3ds_auth_result_fail",e.Payment3dsNoSkypetoken="payment_3ds_no_skypetoken",e.InitConnectionFailed="initialize_connection_failed",e.ReInitConnection="reinitialize_connection",e.TransactionStartFailed="transaction_started_failed",e.GPlayBillingError="gplay_billing_error",e.GPlayOrderCreateFailed="gplay_order_create_failed",e.GPlayOrderCreated="gplay_order_created",e.GPlayProductDetailsUnsupported="gplay_product_details_unsupported",e.StratusGPlayOrderAlreadyCreated="gplay_order_already_created",e.StratusGPlayOrderRenewed="gplay_order_renewed",e.StratusGPlayOrderAlreadyRenewed="gplay_order_already_renewed",e.StratusGPlayOrderRefunded="gplay_order_refunded",e.StratusGPlayOrderAlreadyRefunded="gplay_order_already_refunded",e.StratusGPlayOrderCancelled="gplay_order_cancelled",e.StratusGPlayReceiptProcessed="gplay_receipt_processed",e.StratusGPlayInvalidSkypeNumberService="gplay_invalid_skype_number_service",e.StratusGPlayTransactionProcessingFailure="gplay_transaction_processing_failure",e.StratusGPlayRetryingOld="gplay_transaction_retrying_old",e.StratusGPlayRetrying="gplay_transaction_retrying",e.StratusGPlayStoppedRetrying="gplay_transaction_stopped_retrying",e.StratusGPlayMaxTriesStoppedRetrying="gplay_transaction_maxtries_stopped_retrying"}(t.PaymentFlowStep||(t.PaymentFlowStep={})),function(e){e[e.Subscriptions=0]="Subscriptions"}(t.BalanceStatePanelSection||(t.BalanceStatePanelSection={})),function(e){e.SwiftCard="SwiftCard",e.AudioNode="AudioNode"}(t.AudioPlayerOrigin||(t.AudioPlayerOrigin={})),function(e){e[e.Requested=0]="Requested",e[e.Accepted=1]="Accepted",e[e.Declined=2]="Declined",e[e.Cancelled=3]="Cancelled",e[e.Disabled=4]="Disabled"}(t.TranslationAction||(t.TranslationAction={})),function(e){e[e.PermissionUpdate=0]="PermissionUpdate",e[e.BingConsentUpdate=1]="BingConsentUpdate",e[e.Bing=2]="Bing",e[e.LocationPicker=3]="LocationPicker",e[e.SlashCommand=4]="SlashCommand",e[e.E911Startup=5]="E911Startup",e[e.E911NetworkChange=6]="E911NetworkChange",e[e.E911ConsentUpdate=7]="E911ConsentUpdate",e[e.Startup=8]="Startup"}(t.LocationUpdateReason||(t.LocationUpdateReason={})),function(e){e[e.UsersStore=0]="UsersStore",e[e.ABCHStore=1]="ABCHStore"}(t.MyProfileFetchOrigin||(t.MyProfileFetchOrigin={})),function(e){e[e.Spam=0]="Spam",e[e.Fraud=1]="Fraud",e[e.ChildExploitation=2]="ChildExploitation",e[e.Pornography=3]="Pornography",e[e.Terrorism=4]="Terrorism",e[e.HateSpeech=5]="HateSpeech",e[e.Harm=6]="Harm",e[e.SelfHarm=7]="SelfHarm",e[e.Harassment=8]="Harassment",e[e.FalseInfo=9]="FalseInfo",e[e.Infringement=10]="Infringement",e[e.MalwareOrVirus=11]="MalwareOrVirus",e[e.NonConsensualIntimateImagery=12]="NonConsensualIntimateImagery",e[e.SexuallyInappropriate=13]="SexuallyInappropriate",e[e.FeedbackBotChat=14]="FeedbackBotChat",e[e.FeedbackBotImage=15]="FeedbackBotImage"}(t.ReportCategory||(t.ReportCategory={})),function(e){e[e.ContactRequest=0]="ContactRequest",e[e.DeleteContact=1]="DeleteContact",e[e.BlockContact=2]="BlockContact",e[e.Message=3]="Message",e[e.PictureMessage=4]="PictureMessage",e[e.VideoMessage=5]="VideoMessage",e[e.AudioMessage=6]="AudioMessage",e[e.FileMessage=7]="FileMessage",e[e.BingImage=8]="BingImage",e[e.Profile=9]="Profile",e[e.SearchReportContextListOptions=10]="SearchReportContextListOptions",e[e.ProfilePicture=11]="ProfilePicture"}(t.ReportContextListOptions||(t.ReportContextListOptions={})),function(e){e[e.EmoticonAvatarSelected=0]="EmoticonAvatarSelected",e[e.ImageAvatarSelected=1]="ImageAvatarSelected",e[e.MeetNowAvatarSelected=2]="MeetNowAvatarSelected",e[e.ImageUploadError=3]="ImageUploadError",e[e.StickerAvatarSelected=4]="StickerAvatarSelected"}(t.AvatarPickerAction||(t.AvatarPickerAction={})),function(e){e[e.SkypeNumberWebPanel=0]="SkypeNumberWebPanel",e[e.SkypeNumberList=1]="SkypeNumberList",e[e.StartNativePurchaseExperience=2]="StartNativePurchaseExperience"}(t.SkypeNumberPurchaseModelFlow||(t.SkypeNumberPurchaseModelFlow={})),function(e){e.ConversationList="ConversationList",e.DesktopNavigationSearchBox="DesktopNavigationSearchBox",e.Contacts="Contacts"}(t.SearchAccessoryOrigin||(t.SearchAccessoryOrigin={}))},881722:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentLocation=void 0,function(e){e[e.CallsPanel=0]="CallsPanel",e[e.CallsPanelBanner=1]="CallsPanelBanner",e[e.DialerPanel=2]="DialerPanel",e[e.CallsPanelTop=3]="CallsPanelTop"}(t.ExperimentLocation||(t.ExperimentLocation={}))},346195:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderButtonType=void 0,function(e){e[e.Action=0]="Action",e[e.Notifications=1]="Notifications",e[e.NotificationsSettings=2]="NotificationsSettings",e[e.Feedback=3]="Feedback",e[e.Contacts=4]="Contacts",e[e.Call=5]="Call",e[e.Profile=6]="Profile",e[e.MeetNow=7]="MeetNow",e[e.NameAndMoodText=8]="NameAndMoodText"}(t.HeaderButtonType||(t.HeaderButtonType={}))},579577:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.KeychainKeys=void 0,function(e){e.DesktopSkypeTokenKey="Skype for Desktop",e.DesktopMSATokenDefaultKey="Skype for Desktop MSA",e.MobileSkypeTokenKey="Skype4Life-SkypeToken",e.MobileMSATokenKey="Skype4Life-MSA"}(t.KeychainKeys||(t.KeychainKeys={}))},472731:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultLocale=void 0;const i={am:"et",ar:"sa",bg:"bg",bn:"in",ca:"es",cs:"cz",cy:"gb",da:"dk",de:"de",el:"gr",en:"us",es:"es",et:"ee",eu:"es",fa:"ir",fi:"fl",fil:"ph",fr:"fr",gl:"es",gu:"in",he:"il",hi:"in",hr:"hr",hu:"hu",id:"id",is:"is",it:"it",ja:"jp",kk:"kz",kn:"in",ko:"kr",ku:"arab-iq",lt:"lt",lv:"lv",ml:"in",mr:"in",ms:"my",nb:"no",nl:"nl",nn:"no",or:"in",pl:"pl",pt:"PT","pt-pt":"pt","pt-br":"br",ro:"ro",ru:"ru",sk:"sk",sl:"si",sr:"cyrl-rs","sr-cyrl":"cyrl-rs","sr-latn":"latn-rs",sv:"se",sw:"ke",ta:"in",te:"in",th:"th",tr:"tr",uk:"ua",ur:"pk",vi:"vn",zh:"cn","zh-hant":"tw","zh-cht":"tw","zh-hk":"tw","zh-mo":"tw"};t.getDefaultLocale=function(e){return i[e]||""}},276173:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EncryptedContent=t.UnblockContext=t.BlockContext=t.PNHEvents=void 0,function(e){e[e.IncomingUnknown=0]="IncomingUnknown",e[e.IncomingContactListChange=6]="IncomingContactListChange",e[e.IncomingProfileChange=20]="IncomingProfileChange",e[e.IncomingAvatarChange=21]="IncomingAvatarChange",e[e.IncomingS4BCall=105]="IncomingS4BCall",e[e.IncomingNGCCall=107]="IncomingNGCCall",e[e.IncomingP2PCall=108]="IncomingP2PCall",e[e.IncomingNGCGroupCall=109]="IncomingNGCGroupCall",e[e.IncomingNGCStopRinger=110]="IncomingNGCStopRinger",e[e.IncomingNGCPSTNCall=111]="IncomingNGCPSTNCall",e[e.IncomingGoLiveStart=112]="IncomingGoLiveStart",e[e.IncomingGoLiveStop=113]="IncomingGoLiveStop",e[e.IncomingWarmCall=117]="IncomingWarmCall",e[e.IncomingNGCEncryptedCall=118]="IncomingNGCEncryptedCall",e[e.IncomingChatMessage=200]="IncomingChatMessage",e[e.IncomingChatGroupMessage=201]="IncomingChatGroupMessage",e[e.IncomingChatMention=203]="IncomingChatMention",e[e.IncomingChatHearts=204]="IncomingChatHearts",e[e.ThreadActivity=222]="ThreadActivity",e[e.Ued=299]="Ued",e[e.IncomingChatVideo=301]="IncomingChatVideo",e[e.IncomingChatPhoto=302]="IncomingChatPhoto",e[e.IncomingChatAudio=303]="IncomingChatAudio",e[e.IncomingChatMoji=304]="IncomingChatMoji",e[e.IncomingChatVideoCloud=305]="IncomingChatVideoCloud",e[e.IncomingChatFile=306]="IncomingChatFile",e[e.IncomingConsumptionHorizonChange=308]="IncomingConsumptionHorizonChange",e[e.IncomingTPUMConciergeMessage=404]="IncomingTPUMConciergeMessage",e[e.EmergencyRestoreEndpoints=405]="EmergencyRestoreEndpoints",e[e.SceUserServicesChange=601]="SceUserServicesChange",e[e.IncomingContactRequest=801]="IncomingContactRequest",e[e.IncomingContactAccept=802]="IncomingContactAccept",e[e.IncomingContactInviteListChange=803]="IncomingContactInviteListChange",e[e.IncomingContactBlockChange=804]="IncomingContactBlockChange",e[e.IncomingUpsPresence=1200]="IncomingUpsPresence"}(t.PNHEvents||(t.PNHEvents={})),t.BlockContext="block",t.UnblockContext="unblock",t.EncryptedContent="(encrypted content)"},793003:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RowSize=t.RecentsSortBy=void 0,function(e){e[e.Time=0]="Time",e[e.Unread=1]="Unread",e[e.Active=2]="Active"}(t.RecentsSortBy||(t.RecentsSortBy={})),function(e){e[e.Default=0]="Default",e[e.Compact=1]="Compact",e[e.ExtraCompact=2]="ExtraCompact"}(t.RowSize||(t.RowSize={}))},581760:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ButtonAgnosticGradientFillColorsMappings=t.AgnosticGradientFillButtonColors=t.GradientStopColorsByMainColor=t.Color=void 0;const n=i(478135);var o;!function(e){e.transparent="rgba(0, 0, 0, 0)",e.whiteOverlay20="rgba(255, 255, 255, 0.2)",e.whiteOverlay30="rgba(255, 255, 255, 0.3)",e.whiteOverlay40="rgba(255, 255, 255, 0.4)",e.whiteOverlay50="rgba(255, 255, 255, 0.5)",e.whiteOverlay70="rgba(255, 255, 255, 0.7)",e.whiteOverlay80="rgba(255, 255, 255, 0.8)",e.whiteOverlay90="rgba(255, 255, 255, 0.9)",e.white="#FFFFFF",e.gray50Overlay50="rgba(241, 241, 244, 0.5)",e.gray50overlay95="rgba(241, 241, 244, 0.95)",e.gray50="#F1F1F4",e.gray550="#3B3A39",e.gray100Overlay30="rgba(229, 228, 232, 0.3)",e.gray100Overlay80="rgba(229, 228, 232, 0.8)",e.gray100="#E5E4E8",e.gray200Overlay10="rgba(213, 217, 222, 0.1)",e.gray200Overlay20="rgba(213, 217, 222, 0.2)",e.gray200Overlay60="rgba(213, 217, 222, 0.6)",e.gray200Overlay80="rgba(213, 217, 222, 0.8)",e.gray200="#D5D9DE",e.gray300Overlay10="rgba(138, 141, 145, 0.1)",e.gray300Overlay70="rgba(138, 141, 145, 0.7)",e.gray300Overlay80="rgba(138, 141, 145, 0.8)",e.gray300="#8A8D91",e.gray400Overlay10="rgba(43, 44, 51, 0.1)",e.gray400Overlay20="rgba(43, 44, 51, 0.2)",e.gray400Overlay40="rgba(43, 44, 51, 0.4)",e.gray400Overlay50="rgba(43, 44, 51, 0.5)",e.gray400Overlay70="rgba(43, 44, 51, 0.7)",e.gray400Overlay80="rgba(43, 44, 51, 0.8)",e.gray400overlay95="rgba(43, 44, 51, 0.95)",e.gray400="#2B2C33",e.gray500="#6E6E6E",e.gray600="#090909",e.blackOverlay10="rgba(0, 0, 0, 0.1)",e.blackOverlay20="rgba(0, 0, 0, 0.2)",e.blackOverlay35="rgba(0, 0, 0, 0.35)",e.blackOverlay40="rgba(0, 0, 0, 0.4)",e.blackOverlay50="rgba(0, 0, 0, 0.5)",e.blackOverlay60="rgba(0, 0, 0, 0.6)",e.blackOverlay65="rgba(0, 0, 0, 0.65)",e.blackOverlay70="rgba(0, 0, 0, 0.7)",e.blackOverlay80="rgba(0, 0, 0, 0.8)",e.black="#000000",e.blueOverlay10="rgba(22, 134, 217, 0.1)",e.blueOverlay30="rgba(22, 134, 217, 0.3)",e.blueOverlay50="rgba(22, 134, 217, 0.5)",e.blueOverlay70="rgba(22, 134, 217, 0.7)",e.blue="#1686D9",e.shadow="rgba(69, 72, 82, 0.2)",e.yellow="#F0C01E",e.orange="#EC7758",e.orangeAccessible="#CA5010",e.orangeGradient="#FF8C00",e.rose="#F7B7A6",e.fuschia="#E362A6",e.mint="#8FD3C5",e.pink="#E262A6",e.red="#F44336",e.redIOS="#ff3b30",e.greenIOS="#4cd964",e.greenOverlay10="rgba(76, 175, 80, 0.1)",e.green="#4CAF50",e.greenLight="#4DD965",e.raiseHandOrange="#FFAA44",e.swiftCardsImageOverlay="rgba(1, 1, 24, 0.05)",e.dialPadHoverDark="#3E3F45",e.markupRed="#D10000",e.markupRedOrange="#F00A00",e.markupOrange="#FB5D00",e.markupYellowOrange="#FFC200",e.markupYellow="#FFEC00",e.markupYellowGreen="#A0D200",e.markupGreen="#1B8014",e.markupBlueGreen="#00706A",e.markupBlue="#0000D8",e.markupBlueViolet="#4D2279",e.markupViolet="#3C0058",e.markupRedViolet="#A00054",e.hotTrendingBlue="#3D6CDC",e.callStageDark="#1F1F1F",e.callStageLight="#2B2B2B",e.sxStatusBarDefault="#1F1F1F",e.sxBlue="#00aff0",e.desktopUpgradeNotificationGreen="#F5F9EC",e.desktopUpgradeNotificationGreenHover="#DFE8CC",e.desktopMandatoryUpgradeNotificationRed="#FAD7D6",e.desktopMandatoryUpgradeNotificationRedHover="#F5B9B8",e.leftNavRowSelectionColor="#FFFFFF",e.leftNavRowHoverColor="#EAEAEA",e.rightCloseSeparator="#484644",e.darkThemeBackground="#19191B",e.darkThemeBackgroundOverlay85="rgba(25, 25, 27, 0.85)",e.darkThemeSecondaryTextColor="#ACACAC",e.darkThemeSecondaryBackground="#202023",e.classicDarkBubbleOther="#1E2224",e.classicDarkBubbleTextOther="#CCCCCC",e.classicDarkBubbleSelf="#2B333B",e.classicDarkBubbleTextSelf="#CCCCCC",e.classicDarkPrimaryBackground="#1F1F1F",e.classicDarkSecondaryBackground="#1F1F1F",e.classicDarkMessageStreamBackground="#000000",e.darkMessageComposerContentBackground="rgba(90, 92, 115, 0.3)",e.darkThemeSisuTextColor="#E5E4E8",e.defaultThemeSisuTextColor="#2B2C33",e.accessibleBackground="#606060",e.available="#4DD965",e.away="#FFBA00",e.coachMarkBackground="#1479c7",e.adaptiveCardDarkThemeBorder="#404040",e.adaptiveCardSubtleAccent="rgba(22, 134, 217, 0.5)",e.adaptiveCardSubtleGood="rgba(76, 175, 80, 0.8)",e.adaptiveCardSubtleWarning="rgba(240, 192, 30, 0.8)",e.adaptiveCardSubtleAttention="rgba(244, 67, 54, 0.8)",e.searchResultBackgroundColor="#0000FF",e.pesPickerBackgroundLight="#FBFBFB",e.pesPickerBackgroundDark="#242424",e.delphiBubbleColorOther="#F2F6F9",e.delphiBubbleColorSelf="#DBF4FD",e.delphiBubbleColorSelfModernize="#DBF1FF",e.delphiBubbleColorBot="#F2F6F9",e.delphiBubbleText="#252423",e.delphiSecondaryBackgroundColor="#F0F4F8",e.delphiSecondaryRowHighlightColor="#C7EDFC",e.delphiSecondaryRowHoverColor="rgba(199, 237, 252, 0.5)",e.delphiMessageComposerBackgroundColor="#F1F1F4",e.delphiPrimaryTextColor="#252423",e.delphiDarkBubbleColorOther="#1E2224",e.delphiDarkBubbleColorSelf="#2B333B",e.delphiDarkBubbleColorBot="#1E2224",e.delphiDarkBubbleText="#D5D9DE",e.delphiDarkPrimaryTextColor="#D5D9DE",e.delphiDarkSecondaryTextColor="#8A8D91",e.blueLight="#00BCF2",e.blueMedium="#009AE3",e.blueDark="#0078d4",e.blueDarker="#016BB3",e.blueDarkOverlay50="rgba(0, 120, 212, 0.5)",e.purpleLight="#C182D1",e.purpleDark="#C239B3",e.purpleDarkOverlay50="rgba(194, 57, 179, 0.5)",e.blurpleLight="#8378DE",e.blurpleDark="#49409A",e.blurpleDarkOverlay50="rgba(73, 64, 154, 0.5)",e.pinkLight="#EE9889",e.pinkDark="#FF6767",e.pinkDarkOverlay50="rgba(255, 103, 103, 0.5)",e.orangeLight="#FFAA44",e.orangeDark="#F7894A",e.orangeDarkOverlay50="rgba(247, 137, 74, 0.5)",e.todoTaskFolderIconColor="#465EFC",e.todoSharedFolderIconColor="rgb(138,141,145)",e.syncAddressBookHeader="#0284DC",e.docFile="#2b579a",e.xlsFile="#217346",e.pptFile="#d24726",e.oneNoteFile="#80397b",e.powerSavingCallingBG1="#05091C",e.powerSavingCallingBG2="#051B2D",e.teamsBackground="#5357AE",e.avatarRed="#CC0700",e.avatarRedLight="#FFBBB7",e.avatarRedLighter="#FFEBE6",e.avatarOrange="#D4380D",e.avatarOrangeLight="#FFC8A3",e.avatarOrangeLighter="#FFF7F0",e.avatarBrown="#BD6100",e.avatarBrownLight="#FFBF73",e.avatarBrownLighter="#FFFBF0",e.avatarOlive="#618C03",e.avatarOliveLight="#D3F261",e.avatarOliveLighter="#FEFFF0",e.avatarGreen="#00853E",e.avatarGreenLight="#C2F29D",e.avatarGreenLighter="#F8FFF0",e.avatarTeal="#157E82",e.avatarTealLight="#B5F5EC",e.avatarTealLighter="#F0FFFB",e.avatarCyan="#0090B8",e.avatarCyanLight="#C7EEFF",e.avatarCyanLighter="#F0FCFF",e.avatarBlue="#185ABD",e.avatarBlueLight="#B9D6F0",e.avatarBlueLighter="#F0F9FF",e.avatarBlueviolet="#585DC1",e.avatarBluevioletLight="#C3CAFA",e.avatarBluevioletLighter="#F0F3FF",e.avatarPurple="#7719AA",e.avatarPurpleLight="#E6D1F2",e.avatarPurpleLighter="#FBF0FF",e.avatarFuchsia="#C239B3",e.avatarFuchsiaLight="#EDCEE5",e.avatarFuchsiaLighter="#FFF0FA",e.avatarViolet="#C41D7F",e.avatarVioletLight="#FFDBEA",e.avatarVioletLighter="#FFF0F5"}(o=t.Color||(t.Color={}));const s={gradientcolor1:o.blueLight,gradientcolor2:o.blueDark},a={gradientcolor1:o.purpleLight,gradientcolor2:o.purpleDark},r={gradientcolor1:o.orangeLight,gradientcolor2:o.orangeDark},l={gradientcolor1:o.blurpleLight,gradientcolor2:o.blurpleDark},c={gradientcolor1:o.pinkLight,gradientcolor2:o.pinkDark},d={gradientcolor1:o.greenLight,gradientcolor2:o.green};var u;t.GradientStopColorsByMainColor={[o.blue]:s,[o.blueDark]:s,[o.mint]:s,[o.orange]:r,[o.orangeDark]:r,[o.yellow]:r,[o.fuschia]:a,[o.purpleLight]:a,[o.purpleDark]:a,[o.pink]:c,[o.pinkDark]:c,[o.rose]:c,[o.blurpleLight]:l,[o.blurpleDark]:l,[o.green]:d},function(e){e[e.blue=1]="blue",e[e.mediumBlue=2]="mediumBlue",e[e.darkBlue=3]="darkBlue",e[e.orange=4]="orange",e[e.green=5]="green",e[e.darkGreen=6]="darkGreen",e[e.darkPurple=7]="darkPurple"}(u=t.AgnosticGradientFillButtonColors||(t.AgnosticGradientFillButtonColors={})),t.ButtonAgnosticGradientFillColorsMappings={[u.blue]:[o.blueDark,o.blueLight],[u.darkBlue]:[o.blueDarker,o.blueDark],[u.orange]:[o.orangeDark,o.orangeLight],[u.green]:[o.greenLight,o.green],[u.darkGreen]:[n.SkypeColor.greenGradientLightPrimaryStop1,n.SkypeColor.greenGradientLightPrimaryStop0],[u.mediumBlue]:[n.SkypeColor.blueGradientLightPrimaryStop1,n.SkypeColor.blueGradientLightPrimaryStop0],[u.darkPurple]:[n.SkypeColor.purpleGradientLightPrimaryStop1,n.SkypeColor.purpleGradientLightPrimaryStop0]}},711828:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getIcon=t.IconSize=t.SkypeIcon=t.IconCollection=void 0;const n=i(581760);var o;!function(e){e[e.Skype=1]="Skype"}(t.IconCollection||(t.IconCollection={})),function(e){e[e.Blank=0]="Blank",e[e.SkypeIcon=1]="SkypeIcon",e[e.MSOutlook=2]="MSOutlook",e[e.MSXbox=3]="MSXbox",e[e.MSOneDrive=4]="MSOneDrive",e[e.MSOffice=5]="MSOffice",e[e.Bing=6]="Bing",e[e.BingFull=7]="BingFull",e[e.MSTeams=8]="MSTeams",e[e.CallStart=9]="CallStart",e[e.CallEnd=10]="CallEnd",e[e.Video=11]="Video",e[e.VideoFilled=12]="VideoFilled",e[e.VideoFilledInvertedGradient=13]="VideoFilledInvertedGradient",e[e.VideoOff=14]="VideoOff",e[e.Dialpad=15]="Dialpad",e[e.DialpadFilledInvertedGradient=16]="DialpadFilledInvertedGradient",e[e.Microphone=17]="Microphone",e[e.MicrophoneOff=18]="MicrophoneOff",e[e.More=19]="More",e[e.ScreenShare=20]="ScreenShare",e[e.ScreenShareGradient=21]="ScreenShareGradient",e[e.ScreenShareOff=22]="ScreenShareOff",e[e.ScreenShareStopGradient=23]="ScreenShareStopGradient",e[e.CallMissed=24]="CallMissed",e[e.CallIn=25]="CallIn",e[e.CallOut=26]="CallOut",e[e.CallError=27]="CallError",e[e.Favourite=28]="Favourite",e[e.FavouriteFilled=29]="FavouriteFilled",e[e.CallDisabled=30]="CallDisabled",e[e.Landline=31]="Landline",e[e.ShareiOS=32]="ShareiOS",e[e.Clippy=33]="Clippy",e[e.Mention=34]="Mention",e[e.Call=35]="Call",e[e.CallAdd=36]="CallAdd",e[e.CallAddGradient=37]="CallAddGradient",e[e.CallQualityIndicator=38]="CallQualityIndicator",e[e.Contact=39]="Contact",e[e.ContactAdd=40]="ContactAdd",e[e.PersonAddGradient=41]="PersonAddGradient",e[e.SkypeAddressbook=42]="SkypeAddressbook",e[e.ContactCard=43]="ContactCard",e[e.ContactGroupAdd=44]="ContactGroupAdd",e[e.ContactGroup=45]="ContactGroup",e[e.BlockNotification=46]="BlockNotification",e[e.ContactGroupCall=47]="ContactGroupCall",e[e.ContactGroupTwoPersonas=48]="ContactGroupTwoPersonas",e[e.ContactGroupTwoPersonasGradient=49]="ContactGroupTwoPersonasGradient",e[e.Bot=50]="Bot",e[e.BotAdd=51]="BotAdd",e[e.Message=52]="Message",e[e.MessageGradient=53]="MessageGradient",e[e.Videomail=54]="Videomail",e[e.File=55]="File",e[e.FileAudio=56]="FileAudio",e[e.Menu=57]="Menu",e[e.MenuList=58]="MenuList",e[e.Location=59]="Location",e[e.MyLocation=60]="MyLocation",e[e.EmoticonStroke=61]="EmoticonStroke",e[e.EmoticonNotPresent=62]="EmoticonNotPresent",e[e.Checkmark=63]="Checkmark",e[e.CheckmarkCircle=64]="CheckmarkCircle",e[e.UnreadMark=65]="UnreadMark",e[e.ForwardItem=66]="ForwardItem",e[e.SwitchCamera=67]="SwitchCamera",e[e.Badge=68]="Badge",e[e.MSWord=69]="MSWord",e[e.MSExcel=70]="MSExcel",e[e.MSPowerPoint=71]="MSPowerPoint",e[e.MSVisio=72]="MSVisio",e[e.MSOneNote=73]="MSOneNote",e[e.FileMultiple=74]="FileMultiple",e[e.QuoteClose=75]="QuoteClose",e[e.Media=76]="Media",e[e.Send=77]="Send",e[e.Share=78]="Share",e[e.MoreVertical=79]="MoreVertical",e[e.QuickLook=80]="QuickLook",e[e.Undo=81]="Undo",e[e.SkypeTranslator=82]="SkypeTranslator",e[e.SkypeTranslatorNew=83]="SkypeTranslatorNew",e[e.ShareAndroid=84]="ShareAndroid",e[e.QuoteOpen=85]="QuoteOpen",e[e.VolumeMax=86]="VolumeMax",e[e.VolumeMid=87]="VolumeMid",e[e.VolumeMin=88]="VolumeMin",e[e.VolumeOff=89]="VolumeOff",e[e.Search=90]="Search",e[e.Headset=91]="Headset",e[e.Bluetooth=92]="Bluetooth",e[e.Camera=93]="Camera",e[e.Topic=94]="Topic",e[e.Play=95]="Play",e[e.PauseOffCircle=96]="PauseOffCircle",e[e.PauseCircle=97]="PauseCircle",e[e.Pause=98]="Pause",e[e.PlayGradient=99]="PlayGradient",e[e.PauseGradient=100]="PauseGradient",e[e.Mail=101]="Mail",e[e.MailOff=102]="MailOff",e[e.Ok=103]="Ok",e[e.Cancel=104]="Cancel",e[e.Plus=105]="Plus",e[e.Down=106]="Down",e[e.Up=107]="Up",e[e.DownChevron=108]="DownChevron",e[e.UpChevron=109]="UpChevron",e[e.LeftChevron=110]="LeftChevron",e[e.RightChevron=111]="RightChevron",e[e.Picture=112]="Picture",e[e.Save=113]="Save",e[e.Backspace=114]="Backspace",e[e.NavigationBack=115]="NavigationBack",e[e.AddText=116]="AddText",e[e.NavigationForward=117]="NavigationForward",e[e.Move=118]="Move",e[e.HeartOutline=119]="HeartOutline",e[e.ScreenCapture=120]="ScreenCapture",e[e.FlashOn=121]="FlashOn",e[e.FlashOff=122]="FlashOff",e[e.SkypeCredit=123]="SkypeCredit",e[e.QR=124]="QR",e[e.Globe=125]="Globe",e[e.SubscriptionRegion=126]="SubscriptionRegion",e[e.SubscriptionWorld=127]="SubscriptionWorld",e[e.GlobeCredit=128]="GlobeCredit",e[e.CreditGlobe=129]="CreditGlobe",e[e.Money=130]="Money",e[e.Error=131]="Error",e[e.Warning=132]="Warning",e[e.Info=133]="Info",e[e.Question=134]="Question",e[e.Refresh=135]="Refresh",e[e.Privacy=136]="Privacy",e[e.Settings=137]="Settings",e[e.SkypeMobile=138]="SkypeMobile",e[e.Notification=139]="Notification",e[e.NotificationOff=140]="NotificationOff",e[e.InfoStroke=141]="InfoStroke",e[e.Link=142]="Link",e[e.LinkDismiss=143]="LinkDismiss",e[e.LocationPin=144]="LocationPin",e[e.Pinning=145]="Pinning",e[e.Pin=146]="Pin",e[e.PinOff=147]="PinOff",e[e.Reload=148]="Reload",e[e.MagicWand=149]="MagicWand",e[e.Alert=150]="Alert",e[e.AlertOn=151]="AlertOn",e[e.AlertOff=152]="AlertOff",e[e.CallAnimSmall1=153]="CallAnimSmall1",e[e.CallAnimSmall4=154]="CallAnimSmall4",e[e.PresenceOnline=155]="PresenceOnline",e[e.PresenceOnlineGradient=156]="PresenceOnlineGradient",e[e.PresenceBlocked=157]="PresenceBlocked",e[e.Moji=158]="Moji",e[e.MojiDeleted=159]="MojiDeleted",e[e.MojiMaskInverted=160]="MojiMaskInverted",e[e.Download=161]="Download",e[e.Card=162]="Card",e[e.Lightbulb=163]="Lightbulb",e[e.Filter=164]="Filter",e[e.FilterMenu=165]="FilterMenu",e[e.Clear=166]="Clear",e[e.Connecting=167]="Connecting",e[e.Sticker=168]="Sticker",e[e.StickerDeleted=169]="StickerDeleted",e[e.ClosePanel=170]="ClosePanel",e[e.Calendar=171]="Calendar",e[e.Bookmark=172]="Bookmark",e[e.Bookmarked=173]="Bookmarked",e[e.CallList=174]="CallList",e[e.PresenceDND=175]="PresenceDND",e[e.PresenceInvisible=176]="PresenceInvisible",e[e.PresenceAway=177]="PresenceAway",e[e.PresenceBusy=178]="PresenceBusy",e[e.Compose=179]="Compose",e[e.CallRecord=180]="CallRecord",e[e.CallRecordGradient=181]="CallRecordGradient",e[e.CallRecordStroke=182]="CallRecordStroke",e[e.CallRecordDot=183]="CallRecordDot",e[e.MobileOk=184]="MobileOk",e[e.MobileSending=185]="MobileSending",e[e.MobileSms=186]="MobileSms",e[e.MobileError=187]="MobileError",e[e.Gallery1=188]="Gallery1",e[e.SwitchVideoCamera=189]="SwitchVideoCamera",e[e.PrivateCallFill=190]="PrivateCallFill",e[e.PrivateSessionKey=191]="PrivateSessionKey",e[e.PrivateChatFill=192]="PrivateChatFill",e[e.Lock=193]="Lock",e[e.Delete=194]="Delete",e[e.SettingsAudio=195]="SettingsAudio",e[e.Birthday=196]="Birthday",e[e.Stop=197]="Stop",e[e.ContactsGroup=198]="ContactsGroup",e[e.PeopleAdd=199]="PeopleAdd",e[e.People=200]="People",e[e.PersonCircle=201]="PersonCircle",e[e.PersonVoice=202]="PersonVoice",e[e.PersonNote=203]="PersonNote",e[e.Copy=204]="Copy",e[e.Gif=205]="Gif",e[e.MobileSmsNew=206]="MobileSmsNew",e[e.MessageUnread=207]="MessageUnread",e[e.MessageRead=208]="MessageRead",e[e.SkypeInvite=209]="SkypeInvite",e[e.RotateOrientation=210]="RotateOrientation",e[e.CallInFilled=211]="CallInFilled",e[e.TV=212]="TV",e[e.CallOutFilled=213]="CallOutFilled",e[e.CallMissedFilled=214]="CallMissedFilled",e[e.CallBlockedFilled=215]="CallBlockedFilled",e[e.CallErrorFilled=216]="CallErrorFilled",e[e.Reply=217]="Reply",e[e.QuestionCircle=218]="QuestionCircle",e[e.SkypeNumber=219]="SkypeNumber",e[e.CameraTest=220]="CameraTest",e[e.ClosedCaption=221]="ClosedCaption",e[e.ClosedCaptionOff=222]="ClosedCaptionOff",e[e.ClosedCaptionFilled=223]="ClosedCaptionFilled",e[e.SwitchAccount=224]="SwitchAccount",e[e.SelectAll=225]="SelectAll",e[e.SkypeOut=226]="SkypeOut",e[e.CallOptions=227]="CallOptions",e[e.Expand=228]="Expand",e[e.Contract=229]="Contract",e[e.Office=230]="Office",e[e.Snapshot=231]="Snapshot",e[e.Recent=232]="Recent",e[e.Hide=233]="Hide",e[e.MissingPreview=234]="MissingPreview",e[e.Paste=235]="Paste",e[e.MeetNow=236]="MeetNow",e[e.MeetNowFilled=237]="MeetNowFilled",e[e.ModeratedChat=238]="ModeratedChat",e[e.SoundWave=239]="SoundWave",e[e.GPS=240]="GPS",e[e.LiveLocation=241]="LiveLocation",e[e.PanelBottomFilled=242]="PanelBottomFilled",e[e.PanelLeftFilled=243]="PanelLeftFilled",e[e.PanelFloatingFilled=244]="PanelFloatingFilled",e[e.Repeat=245]="Repeat",e[e.ListClock=246]="ListClock",e[e.CallWarning=247]="CallWarning",e[e.Robot=248]="Robot",e[e.Wand=249]="Wand",e[e.CallsInverted=250]="CallsInverted",e[e.CallsInvertedGradient=251]="CallsInvertedGradient",e[e.ChatsInverted=252]="ChatsInverted",e[e.ChatsInvertedGradient=253]="ChatsInvertedGradient",e[e.CameraInverted=254]="CameraInverted",e[e.ContactsGroupInverted=255]="ContactsGroupInverted",e[e.AlertFillNewFont=256]="AlertFillNewFont",e[e.AlertFillNewFontGradient=257]="AlertFillNewFontGradient",e[e.BookContacts=258]="BookContacts",e[e.BookContactsFill=259]="BookContactsFill",e[e.BookContactsFillInvertedGradient=260]="BookContactsFillInvertedGradient",e[e.StickersCamera=261]="StickersCamera",e[e.ReactionAdd=262]="ReactionAdd",e[e.AdMaskNeg=263]="AdMaskNeg",e[e.GuestAccountExpired=264]="GuestAccountExpired",e[e.GuestAccount=265]="GuestAccount",e[e.GridView=266]="GridView",e[e.FocusedView3=267]="FocusedView3",e[e.ContentView=268]="ContentView",e[e.Schedule=269]="Schedule",e[e.CircleBigNeg=270]="CircleBigNeg",e[e.PreviousNext=271]="PreviousNext",e[e.CallerID=272]="CallerID",e[e.Poll=273]="Poll",e[e.CategoryTrending=274]="CategoryTrending",e[e.CategoryHappy=275]="CategoryHappy",e[e.CategorySad=276]="CategorySad",e[e.CategoryYes=277]="CategoryYes",e[e.CategoryNo=278]="CategoryNo",e[e.CategoryCute=279]="CategoryCute",e[e.MessageVideo=280]="MessageVideo",e[e.ClosedCaptionSettings=281]="ClosedCaptionSettings",e[e.OpenOutside=282]="OpenOutside",e[e.Exclaimation=283]="Exclaimation",e[e.CallMerge=284]="CallMerge",e[e.ViewSwitcher=285]="ViewSwitcher",e[e.Presenter=286]="Presenter",e[e.Audience=287]="Audience",e[e.GalleryLarge=288]="GalleryLarge",e[e.Gallery=289]="Gallery",e[e.FitToWindow=290]="FitToWindow",e[e.OriginalSize=291]="OriginalSize",e[e.StartIncomingVideo=292]="StartIncomingVideo",e[e.LanguageSwitch=293]="LanguageSwitch",e[e.Left=294]="Left",e[e.Right=295]="Right",e[e.NavigationBackCentered=296]="NavigationBackCentered",e[e.NavigationForwardCentered=297]="NavigationForwardCentered",e[e.Nub=298]="Nub",e[e.ScreenSharingRequestControl=299]="ScreenSharingRequestControl",e[e.ScreenSharingStopControl=300]="ScreenSharingStopControl",e[e.GifPlay=301]="GifPlay",e[e.BackgroundReplacement=302]="BackgroundReplacement",e[e.RaiseHand=303]="RaiseHand",e[e.LowerHand=304]="LowerHand",e[e.LowerHandGradient=305]="LowerHandGradient",e[e.RaiseHandCrossed=306]="RaiseHandCrossed",e[e.Format=307]="Format",e[e.Bold=308]="Bold",e[e.Italic=309]="Italic",e[e.Strikethrough=310]="Strikethrough",e[e.CodeSnippet=311]="CodeSnippet",e[e.Cut=312]="Cut",e[e.EmojiAdd=313]="EmojiAdd",e[e.EmojiAddGradient=314]="EmojiAddGradient",e[e.TwinCamMid=315]="TwinCamMid",e[e.TwinCamMidGradient=316]="TwinCamMidGradient",e[e.TwinCamMidOff=317]="TwinCamMidOff",e[e.TwinCamMidOffGradient=318]="TwinCamMidOffGradient",e[e.TopPanelExpand=319]="TopPanelExpand",e[e.TopPanelCollapse=320]="TopPanelCollapse",e[e.CallTransfer=321]="CallTransfer",e[e.CallRemoteNdiRecord=322]="CallRemoteNdiRecord",e[e.AddImage=323]="AddImage",e[e.MicrophoneActivity=324]="MicrophoneActivity",e[e.MicrophoneSpark=325]="MicrophoneSpark",e[e.Click=326]="Click",e[e.Tap=327]="Tap",e[e.TodayTabInverted=328]="TodayTabInverted",e[e.TodayTabInvertedGradient=329]="TodayTabInvertedGradient",e[e.TabAdd=330]="TabAdd",e[e.Eye=331]="Eye",e[e.SignOut=332]="SignOut",e[e.Highlight=333]="Highlight",e[e.AppStore=334]="AppStore",e[e.News=335]="News",e[e.HeartCircle=336]="HeartCircle",e[e.DismissCircle=337]="DismissCircle",e[e.DismissCircleInverted=338]="DismissCircleInverted",e[e.History=339]="History",e[e.SearchSite=340]="SearchSite",e[e.Briefcase=341]="Briefcase",e[e.Color=342]="Color",e[e.DeviceMeetingRoomRemote=343]="DeviceMeetingRoomRemote",e[e.EmojiLaugh=344]="EmojiLaugh",e[e.Games=345]="Games",e[e.HatGraduation=346]="HatGraduation",e[e.Health=347]="Health",e[e.Language=348]="Language",e[e.Luggage=349]="Luggage",e[e.Pen=350]="Pen",e[e.PeopleCommunity=351]="PeopleCommunity",e[e.SportSoccer=352]="SportSoccer",e[e.FileAudioBig=353]="FileAudioBig",e[e.FilePDF=354]="FilePDF",e[e.FilePDFBig=355]="FilePDFBig",e[e.MSExcelBig=356]="MSExcelBig",e[e.MSWordBig=357]="MSWordBig",e[e.MSPowerPointBig=358]="MSPowerPointBig",e[e.FileVideo=359]="FileVideo",e[e.FileVideoBig=360]="FileVideoBig",e[e.DownArrow=361]="DownArrow",e[e.FileBig=362]="FileBig",e[e.FileAVI=363]="FileAVI",e[e.FileAVIBig=364]="FileAVIBig",e[e.Sparkle=365]="Sparkle",e[e.ToText=366]="ToText",e[e.PinFilled=367]="PinFilled",e[e.PersonDelete=368]="PersonDelete",e[e.StarEdit=369]="StarEdit",e[e.FileZip=370]="FileZip",e[e.FileZipBig=371]="FileZipBig",e[e.ContactPermission=372]="ContactPermission",e[e.LinkYourPhone=373]="LinkYourPhone",e[e.PersonAvailable=374]="PersonAvailable",e[e.Phone=375]="Phone",e[e.Outlook=376]="Outlook",e[e.Google=377]="Google",e[e.FilePicture=378]="FilePicture",e[e.FilePictureBig=379]="FilePictureBig"}(o=t.SkypeIcon||(t.SkypeIcon={})),function(e){e[e.size6=6]="size6",e[e.size8=8]="size8",e[e.size10=10]="size10",e[e.size12=12]="size12",e[e.size14=14]="size14",e[e.size15=15]="size15",e[e.size16=16]="size16",e[e.size18=18]="size18",e[e.size20=20]="size20",e[e.size24=24]="size24",e[e.size28=28]="size28",e[e.size30=30]="size30",e[e.size32=32]="size32",e[e.size36=36]="size36",e[e.size40=40]="size40",e[e.default=44]="default",e[e.size48=48]="size48",e[e.size58=58]="size58",e[e.size60=60]="size60",e[e.size64=64]="size64",e[e.size67=67]="size67",e[e.size80=80]="size80",e[e.size96=96]="size96",e[e.size100=100]="size100",e[e.size120=120]="size120",e[e.size128=128]="size128"}(t.IconSize||(t.IconSize={})),t.getIcon=function(e,t,s,a={}){const{gradientcolor1:r=s,gradientcolor2:l=s}=Object.assign(Object.assign({},n.GradientStopColorsByMainColor[s]),a),{viewBox:c="0 0 24 24",width:d=t,height:u=t}=a,g={viewBox:c,width:d,height:u,fill:s,gradientcolor1:r,gradientcolor2:l};return function(e){switch(e){case o.Blank:return i(867885);case o.SkypeIcon:return i(526019);case o.MSOutlook:return i(820976);case o.MSXbox:return i(229165);case o.MSOneDrive:return i(337945);case o.MSOffice:return i(769946);case o.Bing:return i(679604);case o.BingFull:return i(311955);case o.MSTeams:return i(245531);case o.CallStart:return i(831081);case o.CallEnd:return i(906098);case o.Video:return i(953432);case o.VideoFilled:return i(885125);case o.VideoFilledInvertedGradient:return i(79976);case o.VideoOff:return i(14582);case o.Dialpad:return i(679944);case o.DialpadFilledInvertedGradient:return i(935818);case o.Microphone:return i(407780);case o.MicrophoneOff:return i(307189);case o.MicrophoneActivity:return i(67393);case o.MicrophoneSpark:return i(614506);case o.More:return i(901590);case o.ScreenShare:return i(409581);case o.ScreenShareGradient:return i(161083);case o.ScreenShareOff:return i(706717);case o.ScreenShareStopGradient:return i(114783);case o.CallMissed:return i(788278);case o.CallIn:return i(332680);case o.CallOut:return i(643183);case o.CallError:return i(550012);case o.Favourite:return i(799883);case o.FavouriteFilled:return i(370504);case o.CallDisabled:return i(972354);case o.Landline:return i(235504);case o.ShareiOS:return i(592583);case o.Clippy:return i(313890);case o.Mention:return i(167447);case o.Call:return i(764303);case o.CallAdd:return i(638920);case o.CallAddGradient:return i(322516);case o.CallQualityIndicator:return i(677466);case o.Contact:return i(479157);case o.ContactAdd:return i(859462);case o.PersonAddGradient:return i(249345);case o.SkypeAddressbook:return i(524572);case o.ContactCard:return i(103389);case o.ContactGroupAdd:return i(946174);case o.ContactGroup:return i(276441);case o.BlockNotification:return i(348612);case o.ContactGroupCall:return i(756114);case o.ContactGroupTwoPersonas:return i(23090);case o.ContactGroupTwoPersonasGradient:return i(117916);case o.Bot:return i(982173);case o.BotAdd:return i(49865);case o.Message:return i(947100);case o.MessageGradient:return i(763701);case o.Videomail:return i(29848);case o.File:return i(823958);case o.FileAudio:return i(886899);case o.Menu:return i(773489);case o.MenuList:return i(518671);case o.Location:return i(784770);case o.MyLocation:return i(15899);case o.EmoticonStroke:return i(352289);case o.EmoticonNotPresent:return i(220817);case o.Checkmark:return i(452622);case o.CheckmarkCircle:return i(990402);case o.UnreadMark:return i(629233);case o.ForwardItem:return i(19470);case o.SwitchCamera:return i(801683);case o.Badge:return i(738150);case o.MSWord:return i(443466);case o.MSWordBig:return i(194143);case o.MSExcel:return i(886480);case o.MSExcelBig:return i(512878);case o.MSPowerPoint:return i(553014);case o.MSPowerPointBig:return i(166838);case o.MSVisio:return i(660183);case o.MSOneNote:return i(929380);case o.FileMultiple:return i(707431);case o.QuoteClose:return i(782349);case o.Media:return i(407352);case o.Send:return i(440619);case o.Share:return i(702998);case o.MoreVertical:return i(176939);case o.QuickLook:return i(904152);case o.Undo:return i(639636);case o.SkypeTranslator:return i(894736);case o.SkypeTranslatorNew:return i(440416);case o.ShareAndroid:return i(981962);case o.QuoteOpen:return i(743869);case o.VolumeMax:return i(398430);case o.VolumeMid:return i(552861);case o.VolumeMin:return i(456821);case o.VolumeOff:return i(811461);case o.Search:return i(4950);case o.Headset:return i(685322);case o.Bluetooth:return i(401310);case o.Camera:return i(711426);case o.Topic:return i(904318);case o.Play:return i(1274);case o.PlayGradient:return i(18729);case o.PauseOffCircle:return i(637638);case o.PauseCircle:return i(665160);case o.Pause:return i(12443);case o.PauseGradient:return i(493503);case o.Mail:return i(930431);case o.MailOff:return i(8127);case o.Ok:return i(305038);case o.Cancel:return i(520652);case o.Plus:return i(28551);case o.Down:return i(21609);case o.Up:return i(356619);case o.DownChevron:return i(169468);case o.UpChevron:return i(225547);case o.NavigationBackCentered:case o.LeftChevron:return i(744743);case o.NavigationForwardCentered:case o.Nub:return i(559335);case o.RightChevron:return i(67007);case o.Picture:return i(431608);case o.Save:return i(909183);case o.Backspace:return i(908223);case o.NavigationBack:return i(570202);case o.AddText:return i(579185);case o.NavigationForward:return i(543740);case o.Move:return i(869124);case o.HeartOutline:return i(731359);case o.ScreenCapture:return i(654e3);case o.FlashOn:return i(583675);case o.FlashOff:return i(909361);case o.SkypeCredit:return i(931205);case o.QR:return i(134754);case o.Globe:return i(420965);case o.SubscriptionRegion:return i(512981);case o.SubscriptionWorld:return i(93285);case o.GlobeCredit:return i(906410);case o.CreditGlobe:return i(453296);case o.Money:return i(279605);case o.Error:return i(457878);case o.Warning:return i(989297);case o.Info:return i(79181);case o.Question:return i(413101);case o.Refresh:return i(972029);case o.Privacy:return i(188137);case o.Settings:return i(712420);case o.SkypeMobile:return i(630487);case o.Notification:return i(360040);case o.NotificationOff:return i(112453);case o.InfoStroke:return i(902765);case o.Link:return i(600866);case o.LinkDismiss:return i(479407);case o.LocationPin:return i(966986);case o.Pinning:case o.Pin:return i(813093);case o.PinOff:return i(643409);case o.Reload:return i(293182);case o.MagicWand:return i(991527);case o.Alert:return i(621949);case o.AlertOn:return i(542406);case o.AlertOff:return i(340621);case o.AppStore:return i(899942);case o.CallAnimSmall1:return i(959875);case o.CallAnimSmall4:return i(533237);case o.PresenceOnline:return i(270716);case o.PresenceOnlineGradient:return i(631974);case o.PresenceBlocked:return i(341976);case o.Moji:return i(697241);case o.MojiDeleted:return i(140073);case o.MojiMaskInverted:return i(437706);case o.Download:return i(38225);case o.Card:return i(394225);case o.Lightbulb:return i(18712);case o.Filter:return i(224553);case o.FilterMenu:return i(653355);case o.Clear:return i(129336);case o.Connecting:return i(862808);case o.Sticker:return i(962604);case o.StickerDeleted:return i(822639);case o.ClosePanel:return i(794361);case o.Calendar:return i(84781);case o.Bookmark:return i(47613);case o.Bookmarked:return i(38358);case o.CallList:return i(542727);case o.PresenceDND:return i(119022);case o.PresenceInvisible:return i(963823);case o.PresenceAway:return i(470352);case o.PresenceBusy:return i(336473);case o.Compose:return i(596679);case o.CallRecord:return i(298407);case o.CallRecordGradient:return i(693559);case o.CallRecordStroke:return i(246275);case o.CallRecordDot:return i(874934);case o.MobileOk:return i(980725);case o.MobileSending:return i(255060);case o.MobileSms:return i(282674);case o.MobileError:return i(733589);case o.Gallery1:return i(374882);case o.SwitchVideoCamera:return i(735532);case o.PrivateCallFill:return i(841820);case o.PrivateSessionKey:return i(595166);case o.PrivateChatFill:return i(149599);case o.Lock:return i(6597);case o.Delete:return i(877683);case o.SettingsAudio:return i(368629);case o.Birthday:return i(775281);case o.Stop:return i(714514);case o.ContactsGroup:return i(604047);case o.PeopleAdd:return i(586755);case o.BookContacts:return i(525685);case o.People:return i(753326);case o.PersonCircle:return i(120894);case o.PersonVoice:return i(958222);case o.PersonNote:return i(397931);case o.Copy:return i(929992);case o.Gif:return i(460774);case o.MobileSmsNew:return i(434066);case o.MessageUnread:return i(396049);case o.MessageRead:return i(278661);case o.SkypeInvite:return i(285178);case o.RotateOrientation:return i(3149);case o.CallInFilled:return i(172024);case o.TV:return i(921984);case o.CallOutFilled:return i(717933);case o.CallMissedFilled:return i(460159);case o.CallBlockedFilled:return i(494774);case o.CallErrorFilled:return i(837747);case o.Reply:return i(310303);case o.QuestionCircle:return i(714907);case o.SkypeNumber:return i(717163);case o.CameraTest:return i(887563);case o.ClosedCaption:return i(903683);case o.ClosedCaptionOff:return i(103241);case o.ClosedCaptionFilled:return i(933144);case o.SwitchAccount:return i(881814);case o.SelectAll:return i(728135);case o.SkypeOut:return i(188264);case o.CallOptions:return i(51887);case o.Expand:return i(682191);case o.Contract:return i(85920);case o.Office:return i(913133);case o.Snapshot:return i(258821);case o.Recent:return i(799965);case o.Hide:return i(522162);case o.MissingPreview:return i(143798);case o.Paste:return i(723169);case o.MeetNow:return i(14759);case o.MeetNowFilled:return i(228954);case o.ModeratedChat:return i(52879);case o.SoundWave:return i(287182);case o.GPS:return i(237667);case o.LiveLocation:return i(222687);case o.PanelBottomFilled:return i(241434);case o.PanelLeftFilled:return i(673462);case o.PanelFloatingFilled:return i(161149);case o.Repeat:return i(606433);case o.ListClock:return i(582209);case o.LanguageSwitch:return i(650062);case o.CallWarning:return i(620528);case o.Robot:return i(647706);case o.Wand:return i(990961);case o.FilePDF:return i(694661);case o.FilePDFBig:return i(467388);case o.FileAVI:case o.FileVideo:return i(355290);case o.FileAVIBig:case o.FileVideoBig:return i(58971);case o.FileAudioBig:return i(127882);case o.DownArrow:return i(237732);case o.FileBig:return i(585257);case o.FileZip:return i(152513);case o.FileZipBig:return i(236432);case o.FilePicture:return i(266156);case o.FilePictureBig:return i(561541);case o.CallsInverted:return i(79264);case o.CallsInvertedGradient:return i(646073);case o.ChatsInverted:return i(852917);case o.ChatsInvertedGradient:return i(958976);case o.CameraInverted:return i(558680);case o.ContactsGroupInverted:return i(124630);case o.AlertFillNewFont:return i(879286);case o.AlertFillNewFontGradient:return i(346836);case o.BookContactsFill:return i(706270);case o.BookContactsFillInvertedGradient:return i(385270);case o.StickersCamera:return i(209898);case o.ReactionAdd:return i(325423);case o.AdMaskNeg:return i(875496);case o.GuestAccountExpired:return i(587610);case o.GuestAccount:return i(697918);case o.GridView:return i(668458);case o.FocusedView3:return i(419688);case o.ContentView:return i(88026);case o.Schedule:return i(418815);case o.CircleBigNeg:return i(541366);case o.PreviousNext:return i(901793);case o.CallerID:return i(993997);case o.Poll:return i(990362);case o.CategoryTrending:return i(803157);case o.CategoryHappy:return i(354176);case o.CategorySad:return i(579765);case o.CategoryYes:return i(382675);case o.CategoryNo:return i(736596);case o.CategoryCute:return i(484639);case o.MessageVideo:return i(22625);case o.ClosedCaptionSettings:return i(984008);case o.OpenOutside:return i(175422);case o.Exclaimation:return i(94363);case o.CallMerge:return i(301);case o.OriginalSize:case o.ViewSwitcher:return i(665795);case o.Presenter:return i(943770);case o.Audience:return i(909391);case o.GalleryLarge:return i(378677);case o.Gallery:return i(966827);case o.FitToWindow:return i(632698);case o.StartIncomingVideo:return i(812522);case o.Left:return i(370222);case o.Right:return i(579654);case o.ScreenSharingRequestControl:return i(198923);case o.ScreenSharingStopControl:return i(394478);case o.GifPlay:return i(916912);case o.BackgroundReplacement:return i(445188);case o.RaiseHand:return i(785992);case o.LowerHand:return i(419930);case o.LowerHandGradient:return i(37693);case o.RaiseHandCrossed:return i(825144);case o.Format:return i(27793);case o.Bold:return i(546696);case o.Italic:return i(835427);case o.Strikethrough:return i(143117);case o.CodeSnippet:return i(651911);case o.Cut:return i(600810);case o.EmojiAdd:return i(698463);case o.EmojiAddGradient:return i(355218);case o.TwinCamMid:return i(869080);case o.TwinCamMidGradient:return i(527947);case o.TwinCamMidOff:return i(910690);case o.TwinCamMidOffGradient:return i(580319);case o.TopPanelExpand:return i(647558);case o.TopPanelCollapse:return i(433700);case o.CallTransfer:return i(849961);case o.CallRemoteNdiRecord:return i(583237);case o.AddImage:return i(569808);case o.Click:return i(504277);case o.Tap:return i(377362);case o.TodayTabInverted:return i(364885);case o.TodayTabInvertedGradient:return i(766567);case o.TabAdd:return i(878487);case o.Eye:return i(295571);case o.SignOut:return i(277046);case o.Highlight:return i(461926);case o.News:return i(734808);case o.HeartCircle:return i(15128);case o.DismissCircle:return i(206231);case o.DismissCircleInverted:return i(546225);case o.History:return i(16371);case o.SearchSite:return i(63349);case o.Briefcase:return i(702527);case o.Color:return i(717220);case o.DeviceMeetingRoomRemote:return i(387044);case o.EmojiLaugh:return i(439898);case o.Games:return i(890441);case o.HatGraduation:return i(577775);case o.Health:return i(894677);case o.Language:return i(507710);case o.Luggage:return i(101738);case o.Pen:return i(722958);case o.PeopleCommunity:return i(835092);case o.SportSoccer:return i(103044);case o.Sparkle:return i(225444);case o.ToText:return i(27793);case o.PinFilled:return i(356305);case o.PersonDelete:return i(364189);case o.StarEdit:return i(305821);case o.ContactPermission:return i(151391);case o.LinkYourPhone:return i(520472);case o.PersonAvailable:return i(398375);case o.Phone:return i(754620);case o.Outlook:return i(245146);case o.Google:return i(735780);default:return i(867885)}}(e).default(g)}},33714:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScheduleCallAlertTypes=void 0,function(e){e[e.Received=1]="Received",e[e.InvitationAccepted=2]="InvitationAccepted",e[e.InvitationDeclined=3]="InvitationDeclined",e[e.Canceled=4]="Canceled",e[e.Edited=5]="Edited"}(t.ScheduleCallAlertTypes||(t.ScheduleCallAlertTypes={}))},478135:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SkypeColor=void 0,function(e){e.orangeLightTint50="#FDEFE7",e.orangeLightTint40="#FAD2BD",e.orangeLightTint30="#F6B18E",e.orangeLightTint20="#F2915E",e.orangeLightTint10="#ED6B26",e.orangeLightPrimary="#B4470E",e.orangeLightPrimary50p="rgba(180, 71, 14, 0.5)",e.orangeLightShade10="#6D2B09",e.orangeLightShade20="#3D1805",e.orangeDarkTint40="#331505",e.orangeDarkTint30="#552207",e.orangeDarkTint20="#6D2B09",e.orangeDarkTint10="#B4470E",e.orangeDarkPrimary="#ED6B26",e.orangeDarkPrimary50p="rgba(237, 107, 38, 0.5)",e.orangeDarkShade10="#F2915E",e.orangeDarkShade20="#F6B18E",e.orangeDarkShade30="#F8C2A5",e.orange100="#552207",e.orange150="#6D2B09",e.orange250="#9C3E0C",e.orange550="#F2915E",e.orange600="#F4A176",e.orange750="#FAD2BD",e.orange800="#FCE2D4",e.orangeGradientLightPrimaryStop0="#6D2B09",e.orangeGradientLightPrimaryStop1="#B4470E",e.orangeGradientLightSecondaryStop0="#B4470E",e.orangeGradientLightSecondaryStop1="#ED6B26",e.orangeGradientLightTertiaryStop0="#FDEFE7",e.orangeGradientLightTertiaryStop1="#F6B18E",e.orangeGradientDarkPrimaryStop0="#F2915E",e.orangeGradientDarkPrimaryStop1="#ED6B26",e.orangeGradientDarkSecondaryStop0="#ED6B26",e.orangeGradientDarkSecondaryStop1="#B4470E",e.orangeGradientDarkTertiaryStop0="#552207",e.orangeGradientDarkTertiaryStop1="#B4470E",e.yellowLightShade20="#423000",e.yellowLightShade10="#755500",e.yellowLightPrimary="#8F6800",e.yellowLightPrimary50p="rgba(143, 104, 0, 0.5)",e.yellowLightTint10="#DB9F00",e.yellowLightTint20="#F6BD28",e.yellowLightTint30="#FCCE55",e.yellowLightTint40="#FFEBB8",e.yellowLightTint50="#FFF3D6",e.yellowDarkTint40="#271D02",e.yellowDarkTint30="#5C4300",e.yellowDarkTint20="#755500",e.yellowDarkTint10="#BD8900",e.yellowDarkPrimary="#F6BD28",e.yellowDarkPrimary50p="rgba(246, 189, 40, 0.5)",e.yellowDarkShade10="#FCCE55",e.yellowDarkShade20="#FFDD84",e.yellowDarkShade30="#FFE49E",e.yellow100="#5C4300",e.yellow150="#755500",e.yellow250="#A87A00",e.yellow550="#FCCE55",e.yellow600="#FED66D",e.yellow750="#FFEBB8",e.yellow800="#FFF1CC",e.yellowGradientLightPrimaryStop0="#5C4300",e.yellowGradientLightPrimaryStop1="#8F6800",e.yellowGradientLightSecondaryStop0="#755500",e.yellowGradientLightSecondaryStop1="#BD8900",e.yellowGradientLightTertiaryStop0="#FFF6E0",e.yellowGradientLightTertiaryStop1="#FFDD84",e.yellowGradientDarkPrimaryStop0="#FCCE55",e.yellowGradientDarkPrimaryStop1="#BD8900",e.yellowGradientDarkSecondaryStop0="#DB9F00",e.yellowGradientDarkSecondaryStop1="#8F6800",e.yellowGradientDarkTertiaryStop0="#423000",e.yellowGradientDarkTertiaryStop1="#8F6800",e.greenLightTint50="#DEFCE5",e.greenLightTint40="#BCF7CA",e.greenLightTint30="#80E89B",e.greenLightTint20="#53DB7C",e.greenLightTint10="#36C967",e.greenLightPrimary="#147B49",e.greenLightPrimary50p="rgba(20, 123, 73, 0.5)",e.greenLightShade10="#106B43",e.greenLightShade20="#0A5C41",e.greenDarkTint40="#04251A",e.greenDarkTint30="#0B5639",e.greenDarkTint20="#106B43",e.greenDarkTint10="#23A85B",e.greenDarkPrimary="#36C967",e.greenDarkPrimary50p="rgba(54, 201, 103, 0.5)",e.greenDarkShade10="#53DB7C",e.greenDarkShade20="#80E89B",e.greenDarkShade30="#9CF0B1",e.green100="#0B5639",e.green150="#106B43",e.green250="#1D9957",e.green550="#53DB7C",e.green600="#68E38B",e.green750="#B1F6C1",e.green800="#CBFBD6",e.greenGradientLightPrimaryStop0="#0A5C41",e.greenGradientLightPrimaryStop1="#178C54",e.greenGradientLightSecondaryStop0="#106B43",e.greenGradientLightSecondaryStop1="#23A85B",e.greenGradientLightTertiaryStop0="#DEFCE5",e.greenGradientLightTertiaryStop1="#9CF0B1",e.greenGradientDarkPrimaryStop0="#53DB7C",e.greenGradientDarkPrimaryStop1="#23A85B",e.greenGradientDarkSecondaryStop0="#36C967",e.greenGradientDarkSecondaryStop1="#147B49",e.greenGradientDarkTertiaryStop0="#084934",e.greenGradientDarkTertiaryStop1="#147B49",e.tealLightTint50="#E0FAF6",e.tealLightTint40="#B2FAF0",e.tealLightTint30="#61F5DF",e.tealLightTint20="#11E8C8",e.tealLightTint10="#09A58F",e.tealLightPrimary="#047261",e.tealLightPrimary50p="rgba(4, 114, 97, 0.5)",e.tealLightShade10="#024B40",e.tealLightShade20="#01372F",e.tealDarkTint40="#012822",e.tealDarkTint30="#024B40",e.tealDarkTint20="#035E50",e.tealDarkTint10="#069882",e.tealDarkPrimary="#08C9AC",e.tealDarkPrimary50p="rgba(8, 201, 172, 0.5)",e.tealDarkShade10="#11E8C8",e.tealDarkShade20="#61F5DF",e.tealDarkShade30="#8BF8E8",e.teal100="#024B40",e.teal150="#035E50",e.teal250="#068471",e.teal550="#11E8C8",e.teal600="#36F2D6",e.teal750="#AEFAEF",e.teal800="#C8F9F2",e.tealGradientLightPrimaryStop0="#01372F",e.tealGradientLightPrimaryStop1="#047261",e.tealGradientLightSecondaryStop0="#035E50",e.tealGradientLightSecondaryStop1="#09A58F",e.tealGradientLightTertiaryStop0="#E0FAF6",e.tealGradientLightTertiaryStop1="#8BF8E8",e.tealGradientDarkPrimaryStop0="#11E8C8",e.tealGradientDarkPrimaryStop1="#069882",e.tealGradientDarkSecondaryStop0="#08C9AC",e.tealGradientDarkSecondaryStop1="#068471",e.tealGradientDarkTertiaryStop0="#01372F",e.tealGradientDarkTertiaryStop1="#068471",e.blueLightTint50="#E0FAFF",e.blueLightTint40="#A7EEFC",e.blueLightTint30="#4AD8F7",e.blueLightTint20="#00BCF2",e.blueLightTint10="#099ADE",e.blueLightPrimary="#0E72CF",e.blueLightPrimary50p="rgba(14, 114, 207, 0.5)",e.blueLightShade10="#0F4699",e.blueLightShade20="#0C2F66",e.blueDarkTint40="#081E40",e.blueDarkTint30="#0E3B82",e.blueDarkTint20="#0F4699",e.blueDarkTint10="#0E72CF",e.blueDarkPrimary="#099ADE",e.blueDarkPrimary50p="rgba(9, 154, 222, 0.5)",e.blueDarkShade10="#00BCF2",e.blueDarkShade20="#4AD8F7",e.blueDarkShade30="#75E4FA",e.blue100="#0E3B82",e.blue150="#0F4699",e.blue250="#0F61BF",e.blue550="#00BCF2",e.blue600="#1DCAF5",e.blue750="#A7EEFC",e.blue800="#CCF7FF",e.blueGradientLightPrimaryStop0="#0F4699",e.blueGradientLightPrimaryStop1="#0E72CF",e.blueGradientLightSecondaryStop0="#1054AD",e.blueGradientLightSecondaryStop1="#099ADE",e.blueGradientLightTertiaryStop0="#E0FAFF",e.blueGradientLightTertiaryStop1="#A7EEFC",e.blueGradientDarkPrimaryStop0="#00BCF2",e.blueGradientDarkPrimaryStop1="#0E72CF",e.blueGradientDarkSecondaryStop0="#05ABE8",e.blueGradientDarkSecondaryStop1="#0E72CF",e.blueGradientDarkTertiaryStop0="#0B2C60",e.blueGradientDarkTertiaryStop1="#0E72CF",e.indigoLightTint50="#EDECF8",e.indigoLightTint40="#CDCBEB",e.indigoLightTint30="#ACA9DB",e.indigoLightTint20="#9B97D3",e.indigoLightTint10="#8A85CC",e.indigoLightPrimary="#6761BD",e.indigoLightPrimary50p="rgba(103, 97, 189, 0.5)",e.indigoLightShade10="#262353",e.indigoLightShade20="#16142F",e.indigoDarkTint40="#211E48",e.indigoDarkTint30="#1E1B41",e.indigoDarkTint20="#262353",e.indigoDarkTint10="#3F3988",e.indigoDarkPrimary="#8A85CC",e.indigoDarkPrimary50p="rgba(138, 133, 204, 0.5)",e.indigoDarkShade10="#8A85CC",e.indigoDarkShade20="#ACA9DB",e.indigoDarkShade30="#BCB9E4",e.indigo100="#1E1B41",e.indigo150="#262353",e.indigo250="#373277",e.indigo550="#8A85CC",e.indigo600="#9B97D3",e.indigo750="#CDCBEB",e.indigo800="#DFDEF2",e.indigoGradientLightPrimaryStop0="#262353",e.indigoGradientLightPrimaryStop1="#6761BD",e.indigoGradientLightSecondaryStop0="#3F3988",e.indigoGradientLightSecondaryStop1="#8A85CC",e.indigoGradientLightTertiaryStop0="#EDECF8",e.indigoGradientLightTertiaryStop1="#BCB9E4",e.indigoGradientDarkPrimaryStop0="#BCB9E4",e.indigoGradientDarkPrimaryStop1="#8A85CC",e.indigoGradientDarkSecondaryStop0="#9B97D3",e.indigoGradientDarkSecondaryStop1="#47419B",e.indigoGradientDarkTertiaryStop0="#16142F",e.indigoGradientDarkTertiaryStop1="#544DAC",e.purpleLightTint50="#FCF0FF",e.purpleLightTint40="#ECB7F6",e.purpleLightTint30="#D160EA",e.purpleLightTint20="#C741E8",e.purpleLightTint10="#BC29E3",e.purpleLightPrimary="#A01CC4",e.purpleLightPrimary50p="rgba(160, 28, 196, 0.5)",e.purpleLightShade10="#6A138E",e.purpleLightShade20="#2D0237",e.purpleDarkTint40="#2D0237",e.purpleDarkTint30="#441369",e.purpleDarkTint20="#501376",e.purpleDarkTint10="#A01CC4",e.purpleDarkPrimary="#D160EA",e.purpleDarkPrimary50p="rgba(209, 96, 234, 0.5)",e.purpleDarkShade10="#D87BED",e.purpleDarkShade20="#ECB7F6",e.purpleDarkShade30="#F6E2FA",e.purple100="#38135B",e.purple150="#441369",e.purple250="#5E1383",e.purple550="#BC29E3",e.purple600="#C741E8",e.purple750="#F5BEFF",e.purple800="#F6E2FA",e.purpleGradientLightPrimaryStop0="#4F167A",e.purpleGradientLightPrimaryStop1="#B920E3",e.purpleGradientLightSecondaryStop0="#6A138E",e.purpleGradientLightSecondaryStop1="#A01CC4",e.purpleGradientLightTertiaryStop0="#FCF0FF",e.purpleGradientLightTertiaryStop1="#F2B2FF",e.purpleGradientDarkPrimaryStop0="#EA8CFF",e.purpleGradientDarkPrimaryStop1="#D02DFA",e.purpleGradientDarkSecondaryStop0="#D87BED",e.purpleGradientDarkSecondaryStop1="#C741E8",e.purpleGradientDarkTertiaryStop0="#2A1047",e.purpleGradientDarkTertiaryStop1="#6D1598",e.pinkLightTint50="#FCF2FA",e.pinkLightTint40="#F5C1E1",e.pinkLightTint30="#EE95CC",e.pinkLightTint20="#E665B5",e.pinkLightTint10="#E43AA2",e.pinkLightPrimary="#DA1B90",e.pinkLightPrimary50p="rgba(218, 27, 144, 0.5)",e.pinkLightShade10="#6C0946",e.pinkLightShade20="#3D0528",e.pinkDarkTint40="#2F0E22",e.pinkDarkTint30="#550737",e.pinkDarkTint20="#6C0946",e.pinkDarkTint10="#B40E74",e.pinkDarkPrimary="#E43AA2",e.pinkDarkPrimary50p="rgba(228, 58, 162, 0.5)",e.pinkDarkShade10="#E665B5",e.pinkDarkShade20="#EE95CC",e.pinkDarkShade30="#F2ABD7",e.pink100="#550737",e.pink150="#6C0946",e.pink250="#9C0D64",e.pink550="#E665B5",e.pink600="#EB7FC1",e.pink750="#F5C1E1",e.pink800="#F9D7EC",e.pinkGradientLightPrimaryStop0="#6C0946",e.pinkGradientLightPrimaryStop1="#DA1B90",e.pinkGradientLightSecondaryStop0="#9C0D64",e.pinkGradientLightSecondaryStop1="#DA1B90",e.pinkGradientLightTertiaryStop0="#FCF2FA",e.pinkGradientLightTertiaryStop1="#F2ABD7",e.pinkGradientDarkPrimaryStop0="#EE95CC",e.pinkGradientDarkPrimaryStop1="#E43AA2",e.pinkGradientDarkSecondaryStop0="#E453AC",e.pinkGradientDarkSecondaryStop1="#CD0E83",e.pinkGradientDarkTertiaryStop0="#3D0528",e.pinkGradientDarkTertiaryStop1="#9C0D64",e.gray25="#F8F8F8",e.gray50="#F1F1F1",e.gray100="#E1E1E1",e.gray200="#C8C8C8",e.gray300="#ACACAC",e.gray400="#919191",e.gray500="#6E6E6E",e.gray600="#404040",e.gray700="#303030",e.gray800="#292929",e.gray900="#212121",e.gray925="#1F1F1F",e.gray950="#141414",e.white="#FFFFFF",e.white20p="rgba(255, 255, 255, 0.2)",e.white60p="rgba(255, 255, 255, 0.6)",e.white0p="rgba(255, 255, 255, 0)",e.black="#000000",e.gray92560p="rgba(31, 31, 31, 0.6)",e.black6p="rgba(0, 0, 0, 0.06)",e.black0p="rgba(0, 0, 0, 0)",e.disabledLight="#235809",e.disabledDark="#3FF23F",e.hyperlinkLight="#5800B3",e.hyperlinkDark="#FFFF00",e.highlightLight="#1E30FF",e.highlightDark="#1AEBFF",e.classicBubbleLight="#D4F8FF",e.classicBubbleDark="#2B333B",e.successLight="#4CAF50",e.successDark="#4DD965",e.warningLight="#835C00",e.warningDark="#FFB900",e.dangerLight="#E00B00",e.dangerDark="#FE0B00",e.dangerBackgroundLight="#F9D9D9",e.dangerBackgroundDark="#250909",e.presenceInvisibleLight="#8A8886",e.presenceInvisibleDark="#979593",e.darkCloudsColor="#012c3e",e.darkCloudsColorInputBackground="#011821",e.colorfulBackgroundGradientStop0="rgba(199, 26, 244, 0.4)",e.colorfulBackgroundGradientStop1="rgba(0, 188, 242, 0.4)",e.colorfulBackgroundGradientStop2="rgba(72, 221, 107, 0.4)",e.presenceOnlineLightStop0="#37813B",e.presenceOnlineLightStop1="#4CAF50",e.presenceOnlineDarkStop0="#36C967",e.presenceOnlineDarkStop1="#46A44B",e.presenceAwayLightStop0="#E67700",e.presenceAwayLightStop1="#FF9900",e.presenceAwayDarkStop0="#FFAA44",e.presenceAwayDarkStop1="#F08500",e.presenceDndLightStop0="#D60B00",e.presenceDndLightStop1="#EB0C00",e.presenceDndDarkStop0="#FF5A52",e.presenceDndDarkStop1="#E00B00",e.todayLightStop0="#F6FCFF",e.todayLightStop1="#E1FFFB",e.todayLightStop2="#DBF0FF",e.todayDarkStop0="#1B1919",e.todayDarkStop1="#26272B",e.todayDarkStop2="#2B2C31"}(t.SkypeColor||(t.SkypeColor={}))},616238:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},316392:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StackNavigationType=t.StackNavigationDirection=t.StackNavigatorId=t.DesktopNavigationType=void 0,function(e){e[e.Stack=0]="Stack",e[e.StackCollapsible=1]="StackCollapsible"}(t.DesktopNavigationType||(t.DesktopNavigationType={})),t.StackNavigatorId={Mobile:"mobile",DesktopContent:"desktopcontent",DesktopModal:"desktopmodal",DesktopSidebar:"desktopsidebar"},function(e){e[e.Push=1]="Push",e[e.Present=2]="Present"}(t.StackNavigationDirection||(t.StackNavigationDirection={})),function(e){e[e.Push=1]="Push",e[e.PopToRoot=2]="PopToRoot",e[e.Replace=3]="Replace"}(t.StackNavigationType||(t.StackNavigationType={}))},249603:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BarStyleTheme=void 0,function(e){e[e.Default=0]="Default",e[e.Light=1]="Light",e[e.Dark=2]="Dark"}(t.BarStyleTheme||(t.BarStyleTheme={}))},911698:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Rate=t.ComponentName=t.SelectedMessagesActionType=t.QuotesTriggerType=void 0,function(e){e[e.ActionMenu=0]="ActionMenu",e[e.Selection=1]="Selection",e[e.Swipe=2]="Swipe",e[e.KeyboardCopyPaste=3]="KeyboardCopyPaste"}(t.QuotesTriggerType||(t.QuotesTriggerType={})),function(e){e[e.Forward=0]="Forward",e[e.Remove=1]="Remove",e[e.Copy=2]="Copy",e[e.Cancel=3]="Cancel"}(t.SelectedMessagesActionType||(t.SelectedMessagesActionType={})),function(e){e.Calling="Calling",e.Views="Splitview",e.Hotkeys="Hotkey",e.Unknown="Unknown",e.Privacy="Privacy"}(t.ComponentName||(t.ComponentName={}));class i{constructor(){this._total=0,this._count=0,this._max=0,this._min=0,this._sample=1}getCount(){return this._count}average(){return this._total&&this._count?Math.round(this._total/this._count*100)/100:0}max(){return this._max}min(){return this._min}push(e){e&&(this._total>i.maxValue&&(this._total/=2,this._count/=2,this._sample*=2),this._count%this._sample==0&&(this._total+=e,this._count++,this._max<=e&&(this._max=e),(this._min>=e||0===this._min)&&(this._min=e)))}isEmpty(){return 0===this._count}}i.maxValue=Number.MAX_VALUE/2,t.Rate=i},163841:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextStyleCategories=t.Theme=void 0,function(e){e[e.Colorful=1]="Colorful",e[e.Accessible=2]="Accessible",e[e.Mono=3]="Mono",e[e.AccessibleDark=4]="AccessibleDark",e[e.ColorfulDark=7]="ColorfulDark",e[e.MonoDark=8]="MonoDark",e[e.ClassicDeprecated=9]="ClassicDeprecated",e[e.ClassicDarkDeprecated=10]="ClassicDarkDeprecated",e[e.Delphi=11]="Delphi",e[e.DelphiDark=12]="DelphiDark"}(t.Theme||(t.Theme={})),function(e){e[e.Subtitle=0]="Subtitle",e[e.Caption=1]="Caption",e[e.SelectedCaption=2]="SelectedCaption",e[e.CaptionSmall=3]="CaptionSmall",e[e.SelectedCaptionSmall=4]="SelectedCaptionSmall",e[e.RowTitle=5]="RowTitle",e[e.Body=6]="Body",e[e.BodyBold=7]="BodyBold",e[e.CardTitle=8]="CardTitle",e[e.CardTitleSmall=9]="CardTitleSmall",e[e.PanelHeader=10]="PanelHeader",e[e.PanelHeaderLandscape=11]="PanelHeaderLandscape",e[e.CallHeaderSubtitleV2=12]="CallHeaderSubtitleV2",e[e.MessagingHeader=13]="MessagingHeader",e[e.MessagingHeaderSmall=14]="MessagingHeaderSmall",e[e.BodyBig=15]="BodyBig",e[e.BodyBigBold=16]="BodyBigBold",e[e.BodySmall=17]="BodySmall",e[e.BodySmallBold=18]="BodySmallBold",e[e.ModernizeChatSmallHeaderTitle=19]="ModernizeChatSmallHeaderTitle",e[e.ModernizeChatSmallHeaderTitleMobile=20]="ModernizeChatSmallHeaderTitleMobile",e[e.NativeHeaderMobile=21]="NativeHeaderMobile",e[e.NativeHeaderMobileSamll=22]="NativeHeaderMobileSamll"}(t.TextStyleCategories||(t.TextStyleCategories={}))},361694:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UrlType=void 0,function(e){e[e.Unknown=0]="Unknown",e[e.Web=1]="Web",e[e.Email=2]="Email",e[e.Skype=3]="Skype",e[e.Tel=4]="Tel",e[e.CallTo=5]="CallTo",e[e.VoipAudio=6]="VoipAudio",e[e.VoipVideo=7]="VoipVideo",e[e.Messaging=8]="Messaging",e[e.SkypeWin=9]="SkypeWin",e[e.Winshell=10]="Winshell",e[e.OneNote=11]="OneNote"}(t.UrlType||(t.UrlType={}))},598180:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UrlNavigationAction=void 0,function(e){e.CreateWebPartnerFlow="createmeetnow",e.JoinWebPartnerFlow="joinmeetnow"}(t.UrlNavigationAction||(t.UrlNavigationAction={}))},956280:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ECSResponseConfigIdKeys=t.AdsListGroupType=t.AdsType=t.AdsProvider=t.RightSidebarSize=t.SideBarResizeMode=void 0,function(e){e[e.None=0]="None",e[e.Resize=1]="Resize",e[e.ResizeOnCommit=2]="ResizeOnCommit"}(t.SideBarResizeMode||(t.SideBarResizeMode={})),function(e){e.Fullscreen="fullscreen",e.Large="large",e.Regular="regular"}(t.RightSidebarSize||(t.RightSidebarSize={})),function(e){e.Msn="msn",e.MeetNow="meetnow"}(t.AdsProvider||(t.AdsProvider={})),function(e){e.ListItem="listItem",e.ListItemNarrow="listItemNarrow",e.PanelBanner="panelBanner"}(t.AdsType||(t.AdsType={})),function(e){e.Favourites="favourites",e.Recents="recents",e.MagicBot="magicbot",e.None="none"}(t.AdsListGroupType||(t.AdsListGroupType={})),t.ECSResponseConfigIdKeys=["Ads","AsyncMediaClient","ConsumerEntitlement","DebugabilitySquad","Headers","Join","MDN_TRAP","OEM_Operator_Squad","PeopleSearch","S4L_Caap","S4L_CMC","S4L_Commerce","S4L_Config","S4L_Contacts","S4L_Engagement","S4L_Feedback","S4L_Integrations","S4L_MeetNow","S4L_Messaging","S4L_NativePlatforms","S4L_Onboarding","S4L_Search","S4L_SISU","S4L_Stratus","S4L_Telemetry","S4L_UI","S4L","SkypeAudioLibrary","SkypeEngagement","SkypePersonalization","SkypeRealTimeMedia","SkypeRootTools","SkypeTelemetry","TrouterJScriptClient"]},90774:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},3553:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(570655);n.__exportStar(i(90774),t),n.__exportStar(i(316392),t),n.__exportStar(i(478135),t),n.__exportStar(i(616238),t),n.__exportStar(i(236533),t)},236533:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SECOND=t.MINUTE=t.HOUR=t.DAY=void 0,t.DAY=864e5,t.HOUR=36e5,t.MINUTE=6e4,t.SECOND=1e3},478262:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MediaViewSize=t.MediaBarCustomAction=t.TextToHighlightType=t.CallDirectionType=t.PermissionPromptOptions=t.PermissionType=t.AudioState=t.UploadFileType=t.ThreadMemberAccessType=t.LocationType=t.ResponsiveWidth=t.ReactionsTextType=t.ReactionsTextStyle=t.PhoneNumberTypes=t.AvatarSize=t.eGender=t.MessageNotificationClass=t.NumberShim=void 0,function(e){e[e.MAX_SAFE_INTEGER=9007199254740991]="MAX_SAFE_INTEGER"}(t.NumberShim||(t.NumberShim={})),function(e){e[e.SystemInformational=0]="SystemInformational",e[e.Normal=1]="Normal",e[e.OneOnOne=2]="OneOnOne",e[e.MentionedOrQuoted=3]="MentionedOrQuoted"}(t.MessageNotificationClass||(t.MessageNotificationClass={})),function(e){e[e.Unspecified=0]="Unspecified",e[e.Male=1]="Male",e[e.Female=2]="Female"}(t.eGender||(t.eGender={})),function(e){e[e.Small=0]="Small",e[e.Medium=1]="Medium",e[e.Large=2]="Large"}(t.AvatarSize||(t.AvatarSize={})),function(e){e[e.Home=0]="Home",e[e.Office=1]="Office",e[e.Mobile=2]="Mobile",e[e.Other=3]="Other"}(t.PhoneNumberTypes||(t.PhoneNumberTypes={})),function(e){e[e.Default=0]="Default",e[e.Sticker=1]="Sticker",e[e.Snapshot=2]="Snapshot",e[e.Animation=3]="Animation",e[e.CallEvent=4]="CallEvent"}(t.ReactionsTextStyle||(t.ReactionsTextStyle={})),function(e){e[e.Default=0]="Default",e[e.CallEventMuted=1]="CallEventMuted",e[e.CallEventKickedOut=2]="CallEventKickedOut",e[e.CallEventTransfer=3]="CallEventTransfer",e[e.CallEventKickedOutOwn=4]="CallEventKickedOutOwn"}(t.ReactionsTextType||(t.ReactionsTextType={})),function(e){e[e.MinDesktop=0]="MinDesktop",e[e.Tiny=1]="Tiny",e[e.Small=2]="Small",e[e.Medium=3]="Medium",e[e.Large=4]="Large"}(t.ResponsiveWidth||(t.ResponsiveWidth={})),function(e){e[e.None=1]="None",e[e.Current=2]="Current",e[e.Custom=3]="Custom",e[e.Search=4]="Search",e[e.NearBy=5]="NearBy"}(t.LocationType||(t.LocationType={})),function(e){e[e.Admin=0]="Admin",e[e.User=1]="User"}(t.ThreadMemberAccessType||(t.ThreadMemberAccessType={})),function(e){e[e.File=1]="File",e[e.Picture=2]="Picture",e[e.Thumbnail=3]="Thumbnail",e[e.Video=4]="Video",e[e.VideoMessage=5]="VideoMessage",e[e.Audio=6]="Audio",e[e.AudioMessage=7]="AudioMessage",e[e.GroupAvatar=8]="GroupAvatar",e[e.Excel=9]="Excel",e[e.OneNote=10]="OneNote",e[e.Powerpoint=11]="Powerpoint",e[e.Word=12]="Word",e[e.PDF=13]="PDF",e[e.AVI=14]="AVI",e[e.Zip=15]="Zip"}(t.UploadFileType||(t.UploadFileType={})),function(e){e[e.None=0]="None",e[e.IncomingRing=1]="IncomingRing",e[e.Call=2]="Call"}(t.AudioState||(t.AudioState={})),function(e){e[e.Camera=0]="Camera",e[e.CameraRoll=1]="CameraRoll",e[e.WriteCameraRoll=2]="WriteCameraRoll",e[e.Microphone=3]="Microphone",e[e.Contacts=4]="Contacts",e[e.Notifications=5]="Notifications",e[e.Location=6]="Location",e[e.LocationAlways=7]="LocationAlways",e[e.ReadPhoneState=8]="ReadPhoneState",e[e.DrawOver=9]="DrawOver",e[e.MicrophoneAndCamera=10]="MicrophoneAndCamera",e[e.BackgroundExecution=11]="BackgroundExecution",e[e.Calendar=12]="Calendar",e[e.ScreenRecording=13]="ScreenRecording"}(t.PermissionType||(t.PermissionType={})),function(e){e[e.PromptAgainIfDenied=1]="PromptAgainIfDenied",e[e.SkipPrePrompt=2]="SkipPrePrompt",e[e.DontPrompt=4]="DontPrompt",e[e.SkipAugmentedWebPanel=8]="SkipAugmentedWebPanel"}(t.PermissionPromptOptions||(t.PermissionPromptOptions={})),function(e){e[e.Outgoing=0]="Outgoing",e[e.Incoming=1]="Incoming",e[e.Missed=2]="Missed"}(t.CallDirectionType||(t.CallDirectionType={})),function(e){e[e.DisplayName=0]="DisplayName",e[e.Participant=1]="Participant",e[e.PhoneNumber=2]="PhoneNumber",e[e.SkypeId=3]="SkypeId"}(t.TextToHighlightType||(t.TextToHighlightType={})),function(e){e[e.LaunchCamera=0]="LaunchCamera",e[e.LaunchSearch=1]="LaunchSearch",e[e.LaunchEmoticon=2]="LaunchEmoticon",e[e.LaunchMoji=3]="LaunchMoji",e[e.LaunchKeyboard=4]="LaunchKeyboard",e[e.MentionBing=5]="MentionBing",e[e.LaunchBingToolbox=6]="LaunchBingToolbox",e[e.CloseKeyboard=7]="CloseKeyboard",e[e.LaunchSticker=8]="LaunchSticker",e[e.LaunchGif=9]="LaunchGif"}(t.MediaBarCustomAction||(t.MediaBarCustomAction={})),function(e){e[e.Thumbnail=0]="Thumbnail",e[e.ThumbnailUncropped=1]="ThumbnailUncropped",e[e.ThumbnailBlurred=2]="ThumbnailBlurred",e[e.MobilePreview=3]="MobilePreview",e[e.Full=4]="Full"}(t.MediaViewSize||(t.MediaViewSize={}))},217756:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(67930),a=i(898278),r=i(861614),l=i(746096),c=i(436237),d=i(915877),u=i(733754),g=i(476192),h=i(954976),p=i(22222),S=i(311010),m=i(619675),C=i(853374),y=i(897634),f=(0,d.lazyProperties)({container:()=>o.Styles.createViewStyle({padding:20,marginTop:10,flex:1}),description:()=>o.Styles.createTextStyle({paddingTop:20}),radioSet:()=>o.Styles.createViewStyle({marginVertical:20}),textStyle:()=>o.Styles.createTextStyle({marginRight:40})});class b extends s.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._submitted=!1,this._onChangeSelection=e=>{const t=parseInt(e,10);this.setState({selectedOption:t})},this._onConfirm=()=>{const e=C.default.newCauseId();c.log(l.LogTraceArea.GenericUnsafe,"CaptivePortalQuestionnaire._onConfirm, causeId: "+e),this._submitted=!0,this._goBack(e)}}static getHeaderText(){return u.getString("ConnectivityStatusBar.CaptivePortalDismissHeader")}_getHeaderText(e){return b.getHeaderText()}componentWillUnmount(){super.componentWillUnmount();const e=this._submitted&&this.state.selectedOption||g.CaptivePortalQuestionnaireOption.NoAnswer;r.default.answerCaptivePortalQuestionnaire(e)}render(){const e=[{key:g.CaptivePortalQuestionnaireOption.Invalid.toString(),text:u.getString("ConnectivityStatusBar.CaptivePortalDismissOptionInvalid")},{key:g.CaptivePortalQuestionnaireOption.Useless.toString(),text:u.getString("ConnectivityStatusBar.CaptivePortalDismissOptionUseless")},{key:g.CaptivePortalQuestionnaireOption.DontUnderstand.toString(),text:u.getString("ConnectivityStatusBar.CaptivePortalDismissOptionNotUnderstand")},{key:g.CaptivePortalQuestionnaireOption.Other.toString(),text:u.getString("ConnectivityStatusBar.CaptivePortalDismissOptionOther")}],t=y.currentTheme(this._getContext(),this.props.route.params.colorThemeOverride),i=this.props.navigation?void 0:(0,n.jsxs)(m.Header,Object.assign({size:a.HeaderSize.h2},{children:[u.getString("ConnectivityStatusBar.CaptivePortalDismissHeader")," "]}));return(0,n.jsxs)(o.View,Object.assign({style:f.container},{children:[i,(0,n.jsx)(m.BodyText,Object.assign({style:f.description},{children:u.getString("ConnectivityStatusBar.CaptivePortalDismissQuestion")})),(0,n.jsx)(h.default,{style:f.radioSet,radioButtons:e,selectedKey:this.state.selectedOption?this.state.selectedOption.toString():void 0,textStyle:[S.default.bodyFontStyle(t),f.textStyle],dividerType:h.DividerType.None,onSelected:this._onChangeSelection,fullWidth:!0}),(0,n.jsx)(p.default,{buttonSize:a.SXButtonSize.Medium,title:u.getString("Global.OkLabel"),allowTextWrap:!0,onPress:this._onConfirm})]}))}}t.default=b},57231:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DetailsPanel=void 0;const n=i(785893),o=i(516778),s=i(67930),a=i(806562),r=i(581697),l=i(671830),c=i(154457),d=i(539549),u=i(866957),g=i(746096),h=i(862057),p=i(436237),S=i(733754),m=i(104735),C=i(330124),y=i(29130),f=i(451070),b=i(681115),_=i(536150),v=i(190631),T=i(581760),P=i(680837),k=i(779195),A=i(853374),I=i(897634);class w extends s.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._scrollOffset=0,this._scrollTop=0,this._setScrollViewRef=e=>{this._scrollView=e||void 0},this._onCloseButtonFocus=()=>{this._scrollToTop()},this._onScrollToOffsetRequested=e=>!!(this._scrollView&&e>0&&this._scrollTop<e)&&(this._scrollView.setScrollTop(e-this._scrollTop),this._onScroll(e,0),!0),this._onChatSettingsClicked=()=>{m.default.showChatSettingsPanel(this.state.otherPartyMri,this.props.route.params.mri,this._getRootViewId())},this._onScroll=(e,t)=>{this._scrollOffset||(this._scrollOffset=this._getContext().isPresentedInDesktopSubview?u.DetailsPanelHeaderSizes.scrollOffsetDesktop:u.DetailsPanelHeaderSizes.scrollOffsetMobile),this._scrollTop=e;const i=e>this._scrollOffset;this.state.showHeader!==i&&this.setState({showHeader:i})},this._onCloseButtonPress=e=>{e&&e.stopPropagation();const t=A.default.newCauseId();p.log(g.LogTraceArea.Navigation,"DetailsPanel._onCloseButtonPress,  causeId: "+t),this._goBack(t)}}_buildState(e,t){const i={};let n;const o=this._getRootViewId();let s=u.DetailsPanelViewMode.None;if(l.isThread(e.route.params.mri)){const t=(0,d.default)().getConversation(e.route.params.mri);i.otherPartyMri=t&&t.isOneOnOne()?t.getOtherPartyMri():void 0,i.otherPartyMri||(n=t?t.isOneOnOne()?"Conversation getOtherPartyMri returned undefined, viewmode: ":"Conversation is not OneOnOne, viewmode: ":"Conversation is undefined, viewmode: ")}else i.otherPartyMri=e.route.params.mri,i.otherPartyMri||(n="Non thread mri props is undefined, viewmode: ");if(e.route.params.mri&&(s=l.isGroupConversation(e.route.params.mri)?u.DetailsPanelViewMode.Group:l.isAgent(e.route.params.mri)?u.DetailsPanelViewMode.Bot:l.isConnector(e.route.params.mri)?u.DetailsPanelViewMode.Connector:u.DetailsPanelViewMode.User),n){const e=n+s;p.log(g.LogTraceArea.Profile,e)}return i.deviceOrientation=y.default.getDeviceOrientation(o),i.viewMode=s,i.isUsingStackNavigationContext=C.default.isUsingStackNavigationContext(),i.showScreenReaderHeader=_.default.isMobileScreenReaderEnabled(),i.statusBarHeight=this._getContext().isPresentedInDesktopSubview?0:f.default.statusBarPadding(),t&&(i.showHeader=!1),i}componentDidMount(){super.componentDidMount(),r.default.forceThreadDetailsFetchIfNeeded(this.props.route.params.mri)}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.isUsingStackNavigationContext||this.props.route.params.mri===e.route.params.mri||this._scrollToTop(),this.state.statusBarHeight!==t.statusBarHeight&&!this.state.showHeader&&this._scrollView&&this._scrollView.setScrollTop(0)}render(){const e=this._isHeaderOpaqueStyle(),t=e,i=this._getCloseButtonTitle(),{headerIconColor:s,iconHoverColor:a}=I.themeColors(this._getContext(),this.props.route.params.colorThemeOverride),r=this.state.isUsingStackNavigationContext?{closeButtonType:v.CloseButtonType.Close,color:t?s:T.Color.white,title:i}:{closeButtonType:this.props.route.params.isAloneInNavStack?v.CloseButtonType.Close:v.CloseButtonType.Back,color:t?s:T.Color.white,hoverColor:t?a:T.Color.whiteOverlay80,onPress:this._onCloseButtonPress,onFocus:this._onCloseButtonFocus,title:this.props.route.params.isAloneInNavStack?i:S.getString("Global.BackButtonTitle")},l=(0,n.jsx)(v.SimplePanelHeader,{floating:!this.state.showScreenReaderHeader,panelName:e?this._getHeaderText(this.state):void 0,useTransparentBackground:!e,hideBottomBorder:!e,leftButton:r,ignorePointerEvents:!e,delayHeaderFocus:!1}),{primaryBackgroundColorStyle:c}=I.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),d=[P.default.flexOne,c];let u;this.state.statusBarHeight&&!this.state.showScreenReaderHeader&&(d.push(b.default.marginTopStyle(this.state.statusBarHeight),P.default.overflowVisible),u=b.default.marginTopStyle(-1*this.state.statusBarHeight));let g=this._renderPanelContent();return u&&(g=(0,n.jsx)(o.View,Object.assign({style:u},{children:g}))),(0,n.jsxs)(o.View,Object.assign({style:[P.default.flexOne,c]},{children:[l,(0,n.jsx)(o.ScrollView,Object.assign({ref:this._setScrollViewRef,style:d,onScroll:this._onScroll,keyboardShouldPersistTaps:!0},{children:g}))]}))}_getCloseButtonTitle(){switch(this.state.viewMode){case u.DetailsPanelViewMode.User:return S.getString("DetailsPanelHeader.CloseUserProfileButtonTitle");case u.DetailsPanelViewMode.Bot:case u.DetailsPanelViewMode.Connector:return S.getString("DetailsPanelHeader.CloseBotProfileButtonTitle");case u.DetailsPanelViewMode.Group:return S.getString("DetailsPanelHeader.CloseGroupProfileButtonTitle");default:return S.getString("Global.CloseButtonTitle")}}_scrollToTop(){this._scrollView&&(this._scrollView.setScrollTop(0,!1),this._onScroll(0,0))}_renderPanelContent(){switch(this.state.viewMode){case u.DetailsPanelViewMode.Bot:return(0,n.jsx)(a.default,{botMri:this.props.route.params.mri,showConversationSettings:this.props.route.params.showConversationSettings,origin:this.props.route.params.origin,onBotAdded:this.props.route.params.onBotAdded,openMagicBotToolboxByDefault:this.props.route.params.openMagicBotToolboxByDefault});case u.DetailsPanelViewMode.Group:return(0,n.jsx)(h.default,{conversationId:this.props.route.params.mri,onScrollInParentRequested:this._onScrollToOffsetRequested});case u.DetailsPanelViewMode.User:return(0,n.jsx)(k.default,{userMri:this.state.otherPartyMri,conversationMri:this.props.route.params.mri,origin:this.props.route.params.origin,showSettings:this.props.route.params.showConversationSettings,onChatSettingsClicked:this._onChatSettingsClicked});case u.DetailsPanelViewMode.Connector:return(0,n.jsx)(c.default,{mri:this.props.route.params.mri,conversationId:this.props.route.params.conversationId,onCloseProfile:this._onCloseButtonPress});default:return}}_getHeaderText(e){return e.viewMode===u.DetailsPanelViewMode.User||e.viewMode===u.DetailsPanelViewMode.Bot||e.viewMode===u.DetailsPanelViewMode.Group?S.getString("DetailsPanelHeader.UserProfileTitle"):void 0}_isHeaderOpaqueStyle(){return!!this.state.showScreenReaderHeader||!!this.state.showHeader}}t.DetailsPanel=w,t.default=w},980449:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(705465);t.default=function({top:e=0,children:t}){return(0,n.jsx)(o.View,Object.assign({style:o.StyleSheet.flatten([s.absoluteContainer,{top:e}])},{children:t}))};const s=o.StyleSheet.create({absoluteContainer:{position:"absolute",top:0,left:0,right:0,zIndex:2}})},256886:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.COLLAPSIBLE_HEADER_SEARCH_MAX_HEIGHT=void 0;const n=i(785893),o=i(752414),s=i(980449);t.COLLAPSIBLE_HEADER_SEARCH_MAX_HEIGHT=52,t.default=function({accessory:e,value:i,valueFrom:a,valueTo:r,placeholder:l,onPress:c}){return(0,n.jsx)(s.default,{children:(0,n.jsx)(o.SearchRowCollapsible,Object.assign({value:i,valueFrom:a,valueTo:r,maxHeight:t.COLLAPSIBLE_HEADER_SEARCH_MAX_HEIGHT,variant:"onAccent"},{children:(0,n.jsx)(o.SearchInputButton,{variant:"onAccent",accessory:e,onPress:c,placeholder:l})}))})}},263492:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(667294),a=i(844285),r=i(436237),l=i(746096),c=i(864722),d=i(853374),u=i(733754),g=i(980760);t.default=(0,o.withResubAutoSubscriptions)((function(e){const[t,i]=(0,s.useState)(c.ConversationStatusPillState.Invisible),o=c.default.isMeetingCreatingInBackground(),h=c.default.getMostRecentlyCreatedMeetNow(),p=(0,s.useRef)(null);(0,s.useEffect)((()=>{var e,n;if(o&&t===c.ConversationStatusPillState.Invisible)i(c.ConversationStatusPillState.ShowConversationCreateInProgress),null===(e=p.current)||void 0===e||e.touch();else if(!o&&t!==c.ConversationStatusPillState.Invisible){const e=h?c.ConversationStatusPillState.ShowConversationCreated:c.ConversationStatusPillState.ShowConversationCreationFailed;e!==t&&(i(e),null===(n=p.current)||void 0===n||n.touch())}}),[o,h,t]);const S=()=>{const e=d.default.newCauseId();r.log(l.LogTraceArea.Navigation,"ConversationCreatingInBackgroundPill onPillDismissed, causeId: "+e),i(c.ConversationStatusPillState.Invisible)},m=()=>{const e=d.default.newCauseId();r.log(l.LogTraceArea.Navigation,"ConversationCreatingInBackgroundPill nOpenCreateConversationLobbyRequested, causeId: "+e),i(c.ConversationStatusPillState.Invisible),a.MeetNowHelpers.maybeShowCreatorLobbyForMostRecentlyCreatedMeeting(e)},C=(t,i,o,s,a)=>(0,n.jsx)(g.StatusPillView,{ref:p,statusPillInstance:e.statusPillInstance,customContent:t,maxWidth:e.statusPillMaxWidth,onClickOverride:i,customAutoHideBehaviour:{autoHideDisabled:o,customAutoHideTimeout:s,onAutoHidden:a},disableAbsolutePosition:!0,shouldRespectAccentColor:!0});switch(t){case c.ConversationStatusPillState.ShowConversationCreateInProgress:return C(u.getString("MeetNow.CreatingMeetingInBackgroundLabel"),S,!0);case c.ConversationStatusPillState.ShowConversationCreated:return C(u.getString("MeetNow.CreatedMeetingInBackgroundLabel"),m,!1,6e3,S);case c.ConversationStatusPillState.ShowConversationCreationFailed:return C(u.getString("MeetNow.FailedToCreateMeetingInBackgroundLabel"),m,!1,6e3,S)}return null}))},893315:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(752414);t.default=function({accessory:e,placeholder:t,onPress:i}){return(0,n.jsx)(o.SearchRow,Object.assign({variant:"onAccent"},{children:(0,n.jsx)(o.SearchInputButton,{variant:"onAccent",accessory:e,onPress:i,placeholder:t})}))}},510706:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(583367),a=i(959844),r=i(665768),l=i(516778),c=i(667294),d=i(4736),u=i(924521),g=i(72105),h=i(300060),p=i(889391),S=i(978547),m=i(996074),C=i(282773),y=i(394894),f=i(911009),b=i(803056),_=i(484994),v=i(898278),T=i(691e3),P=i(475760),k=i(528805),A=i(437490),I=i(180843),w=i(968894),x=i(746096),N=i(881722),M=i(211375),L=i(707213),O=i(790070),D=i(766649),R=i(436237),E=i(861253),B=i(897073),F=i(502830),V=i(915877),U=i(733754),j=i(866127),H=i(289951),W=i(263492),z=(i(734537),i(10909)),G=i(104735),K=i(217093),q=i(795691),Q=i(827357),X=i(24148),J=i(948199),$=i(3415),Y=i(770170),Z=i(29130),ee=i(451070),te=(i(886045),i(190631)),ie=i(316392),ne=i(344352),oe=i(980760),se=i(581760),ae=i(640363),re=i(711828),le=(i(680837),i(360305)),ce=i(163841),de=i(853374),ue=i(878440),ge=i(356129),he=(i(73877),i(191066)),pe=i(667024),Se=i(415963),me=i(897634),Ce=i(115340),ye=i(350554),fe=i(593486),be=i(178735),_e=i(46929),ve=i(291944),Te=i(330124),Pe=[K.HubTab.Recents,K.HubTab.Calls,K.HubTab.People,K.HubTab.Today,K.HubTab.Notifications],ke=(0,V.lazyProperties)({hub:()=>l.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),headerStyle:()=>l.Styles.createViewStyle({height:70}),headerStyleSmall:()=>l.Styles.createViewStyle({height:60}),headerLandscapeStyle:()=>l.Styles.createViewStyle({height:44}),tabShadow:()=>l.Styles.createViewStyle({left:0,right:0,height:1}),contentContainer:()=>l.Styles.createViewStyle({flex:1,flexDirection:"column-reverse"}),contentInnerContainer:()=>l.Styles.createViewStyle({flex:1,alignItems:"stretch"}),tabWrapper:()=>l.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),headerWrapper:()=>l.Styles.createViewStyle({flex:0,overflow:"visible"}),fab:()=>l.Styles.createViewStyle({position:"absolute",bottom:15,right:15}),stackedFab:()=>l.Styles.createViewStyle({marginTop:10})});class Ae extends m.BaseNavigationView{constructor(e){super(e),this._statusPillInstance=new ne.default,this._miniToastKey=o.uniqueId("MobileHub"),this._todayTabPanelWebview=(0,c.createRef)(),this._skipUpdatingHeaderTab=!1,this._skypeToPhoneCardExperimentSettings={location:N.ExperimentLocation.CallsPanel,name:"DialpadFab",layoutOption:"default"},this._resetTransitionTransformValue=new l.Animated.Value(0),this._resetTransitionOpacityValue=new l.Animated.Value(1),this._resetSearchTransitionStyle=l.Styles.createAnimatedViewStyle({opacity:this._resetTransitionOpacityValue,transform:[{translateY:this._resetTransitionTransformValue}]}),this._contentTransformValue=new l.Animated.Value(0),this._contentOpacityValue=new l.Animated.Value(1),this._contentAnimatedStyle=l.Styles.createAnimatedViewStyle({opacity:this._contentOpacityValue,transform:[{translateX:this._contentTransformValue}]}),this._fabOpacityValue=new l.Animated.Value(1),this._fabOpacityStyle=l.Styles.createAnimatedViewStyle({opacity:this._fabOpacityValue}),this._coachMarkContext={coachMarkArea:f.CoachMarkAreaType.MobileHub},this._hubHeaderPanelRef=()=>this._hubHeaderPanel,this._onWhatsNewTooltipPress=e=>{e.stopPropagation(),e.preventDefault();const t=de.default.newCauseId();G.default.navigateToMeControl(this._getRootViewId(),t,ie.StackNavigationDirection.Present)},this._onConversationListLayout=e=>{this._statusPillMaxWidth=e.width-4},this._onConversationListPanel=e=>{this._conversationsListPanel=e||void 0},this._onHubHeaderPanel=e=>{this._hubHeaderPanel=e||void 0},this._onAppStateChange=e=>{this._handleAppStateChange(e)},this._tabConfig=e=>{switch(e){case K.HubTab.Recents:return this._getWrappedRecentsTabConfig();case K.HubTab.Calls:return this._getCallsTabConfig();case K.HubTab.People:return this._getContactsTabConfig();case K.HubTab.Notifications:return this._getNotificationsTabConfig();case K.HubTab.Today:return this._getTodayTabConfig();case K.HubTab.MeetNowChats:case K.HubTab.MeetNowCalls:case K.HubTab.Phone:return}},this._goToRecent=()=>{this._onBottomTabPress(K.HubTab.Recents,void 0)},this._onBottomTabPress=(e,t,i)=>{var n;if(this._getContext().isPresentedInDesktopLeftNav&&A.dismissAll(),i){this._tabChangeTrackerId&&pe.default.cancelTimeout(this._tabChangeTrackerId),this._tabChangeTrackerId=de.default.newCauseId();const t={tab:e};pe.default.createTrackerAndMarkPressTime(this._tabChangeTrackerId,Se.ScenarioName.ResponsivenessSelectHubTab,i,t)}if(I.default.disableTooltip(w.EngagementTooltipType.Profile),this.state.currentTab!==e){const t=this._convertTabEnumToIndex(e),i=this._convertTabEnumToIndex(this.state.currentTab),n=20*(t>i?1:-1),s=o.clone(this.state.tabRenderFlags);s[e]=!0;const a=!(0,E.default)(s,this.state.tabRenderFlags);if(this._skipUpdatingHeaderTab=a,this.isComponentMounted()){const o=()=>{if(this._swipableTabView&&i!==t){const e=r.Common.Duration.Tiny,i=()=>{this._skipUpdatingHeaderTab=!1,this._updateHeaderTab(this.state.currentTab,!0),this._contentTransformValue.setValue(n),this._contentOpacityValue.setValue(.4),this._fabOpacityValue.setValue(1),this._swipableTabView&&this._swipableTabView.goToTab(t,!1),r.parallel([r.timing.shotgun({value:this._contentTransformValue,toValue:0,duration:e,useNativeDriver:!0}),r.timing.shotgun({value:this._contentOpacityValue,toValue:1,duration:e,useNativeDriver:!0})]).start()};if(a){this._fabOpacityValue.setValue(0);const t=!0;r.parallel([r.timing.easeOut({value:this._contentTransformValue,toValue:-n,duration:e,useNativeDriver:t}),r.timing.easeOut({value:this._contentOpacityValue,toValue:0,duration:e,useNativeDriver:t})]).start((e=>{e.finished&&i()}))}else this._contentOpacityValue.setValue(0),i()}};a?this.setState({tabRenderFlags:s,currentTab:e},o):this.setState({currentTab:e},o)}0}else switch(e){case K.HubTab.Recents:this._conversationsListPanel&&this._conversationsListPanel.scrollToTop();break;case K.HubTab.Calls:this._quickCallPanel&&this._quickCallPanel.scrollToTop();break;case K.HubTab.People:this._contactsPanel&&this._contactsPanel.scrollToTop();break;case K.HubTab.Notifications:this._notificationsPanel&&this._notificationsPanel.scrollToTop();break;case K.HubTab.Today:this._todayTabPanelWebview&&(null===(n=this._todayTabPanelWebview.current)||void 0===n||n.scrollToTop())}},this._onTabChangeEnd=(e,t)=>{if(this.isComponentMounted()){this._tabChangeTrackerId&&(pe.default.markActionDoneAndRemoveTracker(this._tabChangeTrackerId),this._tabChangeTrackerId=void 0);const t=this._convertIndexToTabEnum(e),i=(0,ye.getTelemetryTabName)(t);R.track(new X.NavigationTab(i));const n=ae.default.isUsingExperimentalNav();n&&this.isComponentMounted()&&this.state.currentTab!==t&&(R.log(x.LogTraceArea.MobileHub,"MobileHub: setting currentTab to "+t),this.setState({currentTab:t})),o.defer((()=>{G.default.updateHubNavigationContext(t,!n)}))}I.default.disableTooltip(w.EngagementTooltipType.Profile)},this.handleFocusEvent=e=>(R.log(x.LogTraceArea.GenericUnsafe,"MobileHub.handleFocusEvent"),e===M.FocusEvent.OpenCallSideBar&&(this._focusCenterControl(),!0)),this._renderCallsTabContent=()=>(0,n.jsx)(Y.default,{ref:this._onQuickCallPanelRef,hideHeader:!0,hideSearchBar:!1,topInset:50,bottomPadding:160,isMobileTab:!0}),this.toggleNavigation=e=>{this.setState({hideHeaderAndTabNavigation:e})},this._renderTodayTabContent=()=>{const{props:{route:{params:{params:e}}}}=this,t=null==e?void 0:e.openInterestsManagerOnLoad;return(0,n.jsx)(ve.TodayTabPanel,{getIsActiveTab:()=>this.state.currentTab===K.HubTab.Today,ref:this._todayTabPanelWebview,toggleNavigation:this.toggleNavigation,openInterestsManagerOnLoad:t})},this._onContactsTabCountUpdated=e=>{if(!this.isComponentMounted())return;const t=1===e;t!==this.state.showShadowForPeopleTab&&this.setState({showShadowForPeopleTab:t})},this._onSwipableTabViewRef=e=>{this._swipableTabView=e},this._onPrimaryFABPress=e=>{const t=O.default.actionButtonForHubTab(this.state.currentTab,this.state.disableHighBandwidthOperations);t&&this._isCTAExperiment()&&F.default.registerCallButtonClickAction(this._skypeToPhoneCardExperimentSettings),this._intFABPress(e,t,this._getRootViewId())},this._onQuickCallPanelRef=e=>{this._quickCallPanel=e||void 0},this._onContactsPanelV2Ref=e=>{this._contactsPanel=e||void 0},this._onNotificationsPanelRef=e=>{this._notificationsPanel=e||void 0},this._onContentWrapperRef=e=>{this._wrappedContentTransitionView=e||void 0},this._goBack=e=>(R.log(x.LogTraceArea.MobileHub,"MobileHub._goBack: causeId: "+e),this.state.onTopOfNavStack,!1),this._initialTab=e.route.params.hubTab,J.default.transitionInfoEvent().subscribe((e=>{J.default.isHubSearchTransition()&&e.progress?this._setAnimatedValues(e.progress,0):e.fromRoute&&e.fromRoute.type===J.RouteType.Hub&&this._clearAnimatedValues()})),this._navigationStateStoreToken=Q.default.subscribe((()=>this._onNavigationStateStoreHubTabChange()),q.TriggerKeys.HubTab)}_buildState(e,t){var i;const{enableRecentsFilterPills:n}=p.default.getS4LUiFeatures(),a=fe.default.isChildOrMinor(),r={enableRecentsFilterPills:n&&Te.default.isUsingStackNavigationContext()&&!a};r.shouldSkipRendering=B.default.shouldSkipMobileHub(),t&&(r.unreadAlertsCount=0,r.activeConversationsCount=0),r.disableHighBandwidthOperations=D.default.isUsingGogoNetwork();const c=this._getRootViewId();r.onTopOfNavStack=Q.default.isOnTopOfNavigationStack(K.MobileHubNavigationId),r.deviceOrientation=Z.default.getDeviceOrientation(c),r.leavePaddingForStatusBar=l.StatusBar.isOverlay()&&r.deviceOrientation===s.DeviceOrientation.Portrait,r.statusBarHeight=ee.default.statusBarHeight(),r.bottomSafeAreaInset=ee.default.bottomSafeAreaInset(),r.useCompactLayout=Z.default.isSmallDevice(c);const d=p.default.getEngagementFeatures().whatsNewSetting;r.isWhatsNewTooltipEnabled=d.enabled&&d.coachmarkEnabled,r.showWhatsNewTooltip=ue.default.showTooltip()&&S.default.isAppUpdated(),r.onTopOfNavStack&&(r.unreadAlertsCount=g.default.getUnreadAlertsCount(),r.activeConversationsCount=P.default.getActiveRecentsConversationCount()),!t&&ae.default.isUsingExperimentalNav()||(r.currentTab=e.route.params.hubTab),r.isTablet=le.default.isTablet(),r.windowHeight=Z.default.getHeight(c),r.unreadConversationIds=o.keys(P.default.getConversationsWithUnreadCounts());const u=p.default.getS4LCommerceFeatures().todayTab.enabled,h=fe.default.isChildOrMinor();return r.showTodayTab=!h&&!r.isTablet&&u&&be.default.getTodayTabToggledButtonSwitchedOn(),r.showTodayTabBadge=_e.default.shouldShowTodayBadge(),t?(r.tabRenderFlags=Object.assign({[e.route.params.hubTab]:!0},null!==(i=e.route.params.params)&&void 0!==i?i:{}),r.showShadowForPeopleTab=!1,r.hideHeaderAndTabNavigation=!1):r.deviceOrientation!==this.state.deviceOrientation&&(r.tabRenderFlags=this._resetTabRenderFlags(r)),r.modernizeConversationList=j.default.canModernizeConversationList(),r}_renderHeaderWithOptions(e){const t=this.state.deviceOrientation===s.DeviceOrientation.Landscape;let i;return i=e.heightOverride?l.Styles.createViewStyle({height:e.heightOverride},!1):t?ke.headerLandscapeStyle:this.state.useCompactLayout?ke.headerStyleSmall:ke.headerStyle,(0,n.jsx)(H.default,{ref:this._onHubHeaderPanel,style:i,currentHubTab:this.state.currentTab,unreadAlertsCount:e.hideAlertsButton?void 0:this.state.unreadAlertsCount,deviceOrientation:this.state.deviceOrientation,animatedTransitionStyle:e.contentTransitionStyle,hideAlertsButton:e.hideAlertsButton,disableHighBandwidthOperations:this.state.disableHighBandwidthOperations,shouldTrackUnreadAlerts:e.shouldTrackUnreadAlerts})}_getBookmarkTooltip(){return this.state.showBookmarkTooltip?(0,n.jsx)(y.default,{title:U.getString("BookmarksTooltips.BookmarksCanBeFoundHere"),accessibilityLabel:U.getString("BookmarksTooltips.BookmarksCanBeFoundHere"),anchor:this._hubHeaderPanelRef}):void 0}_getWhatsNewTooltip(){return this.state.isWhatsNewTooltipEnabled&&this.state.showWhatsNewTooltip?(0,n.jsx)(ge.default,{title:U.getString("Onboarding.LandingScreenWithCardsCardTitle1"),accessibilityLabel:U.getString("Onboarding.LandingScreenWithCardsCardTitle1"),anchor:this._hubHeaderPanelRef,onPress:this._onWhatsNewTooltipPress}):void 0}_renderConnectivityStatusPill(){return(0,n.jsx)(oe.StatusPillView,{disableAbsolutePosition:!0,statusPillInstance:this._statusPillInstance,connectionStatusOnly:!0})}_getRecentsTabConfig(e){return Object.assign(Object.assign({},e.params),{accessibilityLabel:this._tabAccessibilityLabel(K.HubTab.Recents),renderContent:()=>{if(e.hideContent)return;const t=e.wrapperStyle,i=this.state.currentTab===K.HubTab.Recents,o=(0,n.jsx)(k.default,{ref:this._onConversationListPanel,useMobileView:!0,showFilterIcon:!0,isScrollToTopTarget:i&&this._scrollsToTop(),isActiveTab:i,topInset:this._topScrollInset(),bottomPadding:e.bottomPadding,hideSearchBar:e.hideSearchBar});return e.contentWrapper?e.contentWrapper(o):(0,n.jsx)(l.View,Object.assign({style:t,onLayout:this._onConversationListLayout},{children:o}),"conversation-list")}})}_placeholderTabConfig(){return{renderContent:()=>{}}}_tabAccessibilityLabel(e){let t="";const i=this._convertTabEnumToIndex(e)+1;if(e===K.HubTab.Recents)t+=U.getString("Hub.RecentsTabScreenReaderLabel",{count:this.state.activeConversationsCount});return t+=" "+U.getString("AccessibilityLabel.TabControlLabel")+" "+U.getString("AccessibilityLabel.TabCountLabel",{currentTab:i,totalTabs:this._totalTabs()}),t}render(){if(this.state.shouldSkipRendering)return null;const{primaryBackgroundColorStyle:e}=me.themeStyles(this._getContext()),t=(me.isUsingDarkTheme(this._getContext()),me.isUsingAccessibleTheme(this._getContext()),[ke.hub,e]);const i=this._additionalContainerStyles();return i&&t.push(i),(0,n.jsx)(b.default,Object.assign({goBack:this._goBack},{children:(0,n.jsx)(l.Animated.View,Object.assign({style:t},{children:(0,n.jsx)(f.CoachMarkContext.Provider,Object.assign({value:this._coachMarkContext},{children:this._renderContent()}))}),"panel")}))}_renderContent(){const e=this._getTabs(),t=o.compact(o.map(e,this._tabConfig));this._getContext().isRTL&&o.reverse(t);const i=this._isPresentedInTabletLeftNav(),s=o.includes(e,K.HubTab.Notifications),r=this.state.hideHeaderAndTabNavigation&&this.state.currentTab===K.HubTab.Today||this.props.route.params.hideHeader?void 0:this._renderHeaderWithOptions({heightOverride:te.HeaderHeight,contentTransitionStyle:this._contentAnimatedStyle,hideAlertsButton:i||this.state.isTablet||s,shouldTrackUnreadAlerts:s}),c=this.state.hideHeaderAndTabNavigation&&this.state.currentTab===K.HubTab.Today?void 0:(0,n.jsx)(L.default,{tabs:e,currentHubTab:this.state.currentTab,showSpinnerWhenSyncing:!0,activeConversationsCount:o.includes(e,K.HubTab.Recents)?this.state.activeConversationsCount:void 0,unreadAlertsCount:o.includes(e,K.HubTab.Notifications)?this.state.unreadAlertsCount:void 0,showTodayTabBadge:o.includes(e,K.HubTab.Today)?this.state.showTodayTabBadge:void 0,onTabPress:this._onBottomTabPress});let d;if(r){const e=this._getContext().isPresentedInDesktopLeftNav?void 0:(0,n.jsx)($.default,{},"networkConnectionAlert");let t;if(!i||this.state.currentTab===K.HubTab.Recents){const e=l.Styles.createViewStyle({position:"absolute",top:te.HeaderHeight,alignSelf:"center"},!1);t=(0,n.jsx)(l.View,Object.assign({style:e},{children:this._renderConnectivityStatusPill()}),"connectionStatusWrapper")}d=[(0,n.jsxs)(l.View,Object.assign({style:ke.headerWrapper},{children:[r,this._getBookmarkTooltip(),this._getWhatsNewTooltip(),e,(0,n.jsx)(W.default,{statusPillInstance:this._statusPillInstance,statusPillMaxWidth:this._statusPillMaxWidth})]}),"headerWrapper"),t]}const u=[ke.contentContainer],g=[ke.contentInnerContainer];return(0,n.jsx)(Ce.KeyboardAvoidingView,Object.assign({enabled:this.state.isTablet},{children:(0,n.jsxs)(he.default,Object.assign({ref:this._onContentWrapperRef,style:u,shouldGroupAccessibilityChildren:this._getContext().isPresentedInDesktopLeftNav},{children:[(0,n.jsxs)(l.View,Object.assign({style:g},{children:[(0,n.jsxs)(l.Animated.View,Object.assign({style:[ke.contentInnerContainer,this._contentAnimatedStyle]},{children:[(0,n.jsx)(a.default,{ref:this._onSwipableTabViewRef,startingTabIndex:this._convertTabEnumToIndex(this._initialTab),tabConfigs:t,tabHeight:0,swipeDisabled:!0,tabsHidden:!0,hideTabUnderline:!0,isRTL:this._getContext().isRTL,contentOnly:!0,onTabChangeEnd:this._onTabChangeEnd,initialTabCountToRender:e.length}),this._renderFABContent()]})),c]})),d]}))}))}_getTabs(){const e=o.clone(Pe);if(!this.state.showTodayTab){const t=e.indexOf(K.HubTab.Today);-1!==t&&e.splice(t,1)}if(!this.state.isTablet){const t=e.indexOf(K.HubTab.Notifications);-1!==t&&e.splice(t,1)}return e}componentDidMount(){super.componentDidMount(),this._activationSubToken=h.default.subscribeForChanges("MobileHub",this._onAppStateChange),this._indexToTabEnumMap=this._generateIndexToTabEnumMap(),this._tabEnumToIndexMap=this._generateTabEnumToIndexMap(),this._focusCenterControl(!1),this._updateHeaderTab(this.state.currentTab),this._addBottomMargin(),this._isPresentedInTabletLeftNav()&&M.register(M.FocusEvent.OpenCallSideBar,this),ue.default.maybeSetTooltipVisibility(!0),ue.default.maybeSetRedDotVisibility(!0),r.NativeUtils.markAnimatedValue(this._contentTransformValue,0),r.NativeUtils.markAnimatedValue(this._contentOpacityValue,1)}_shouldComponentUpdate(e,t,i,n,o,s){return e?i.deviceOrientation!==o.deviceOrientation||i.useCompactLayout!==o.useCompactLayout||i.leavePaddingForStatusBar!==o.leavePaddingForStatusBar||i.statusBarHeight!==o.statusBarHeight||i.windowHeight!==o.windowHeight||i.shouldSkipRendering!==o.shouldSkipRendering||i.onTopOfNavStack!==o.onTopOfNavStack:super._shouldComponentUpdate(e,t,i,n,o,s)}_componentWillUpdate(e,t,i,n,s){super._componentWillUpdate(e,t,i,n,s);const a=this._getTabs();if(o.includes(a,K.HubTab.Recents)){const e=o.includes(n.unreadConversationIds,n.selectedConversationId)||o.includes(t.unreadConversationIds,t.selectedConversationId);if(t.activeConversationsCount!==n.activeConversationsCount&&!e){const e=U.getString("Hub.RecentsTabScreenReaderLabel",{count:t.activeConversationsCount||0});l.Accessibility.announceForAccessibility(e)}}if(t.unreadAlertsCount!==n.unreadAlertsCount&&o.includes(a,K.HubTab.Notifications)){const e=U.getString("Hub.UnreadCounterScreenReaderLabel",{count:t.unreadAlertsCount||0});l.Accessibility.announceForAccessibility(e)}t.shouldSkipRendering!==n.shouldSkipRendering&&R.log(x.LogTraceArea.MobileHub,"MobileHub.UNSAFE_componentWillUpdate: shouldSkipRendering "+t.shouldSkipRendering)}_componentDidUpdate(e,t,i){super._componentDidUpdate(e,t,i),t.currentTab!==this.state.currentTab&&this._updateHeaderTab(this.state.currentTab,!0),this.state.onTopOfNavStack!==t.onTopOfNavStack&&(this.state.onTopOfNavStack?this._addBottomMargin():z.default.removeBottomMargin(this._miniToastKey)),this.state.onTopOfNavStack&&!t.onTopOfNavStack&&this._hubHeaderPanel&&this._hubHeaderPanel.focusCenterControl(),t.currentTab!==K.HubTab.Today||t.showTodayTab||this.isComponentMounted()&&this._goToRecent(),o.delay((()=>{this.isComponentMounted()&&this.setState({showBookmarkTooltip:C.default.shouldDisplayTooltipOnMobile(this.state.onTopOfNavStack)})}),1e3)}componentWillUnmount(){super.componentWillUnmount(),this._activationSubToken&&(this._activationSubToken.unsubscribe(),this._activationSubToken=void 0),this._statusPillInstance&&this._statusPillInstance.destroy(),this._navigationStateStoreToken&&(Q.default.unsubscribe(this._navigationStateStoreToken),this._navigationStateStoreToken=void 0),this._selectedConversationIdToken&&(this._selectedConversationIdToken.unsubscribe(),this._selectedConversationIdToken=void 0),z.default.removeBottomMargin(this._miniToastKey),M.unregister(M.FocusEvent.OpenCallSideBar,this),I.default.disableTooltip(w.EngagementTooltipType.Profile)}_addBottomMargin(){z.default.addOrUpdateBottomMargin(this._miniToastKey,_.default.tabBarHeight(v.TabBarHeight.Default)+Math.max(10,this.state.bottomSafeAreaInset+10))}_focusCenterControl(e=!0){const t=()=>{this.isComponentMounted()&&this._hubHeaderPanel&&this._hubHeaderPanel.focusCenterControl()};e?o.delay(t,100):t()}_resetTabRenderFlags(e){const t={};return t[o.isUndefined(e.currentTab)?this.state.currentTab:e.currentTab]=!0,t[K.HubTab.Recents]=!0,t}_onNavigationStateStoreHubTabChange(){if(this.isComponentMounted()){const e=Q.default.getCurrentHubTab();R.log(x.LogTraceArea.MobileHub,"MobileHub._onNavigationStateStoreHubTabChange "+e),this._swipableTabView&&e!==this.state.currentTab&&this._swipableTabView.goToTab(this._convertTabEnumToIndex(e),!1)}I.default.disableTooltip(w.EngagementTooltipType.Profile)}_updateHeaderTab(e,t=!1){this._skipUpdatingHeaderTab||t&&this._isPresentedInTabletLeftNav()&&this._focusCenterControl()}_getContactsTabConfig(){return this.state.tabRenderFlags[K.HubTab.People]?{renderContent:()=>(0,n.jsx)(T.default,{ref:this._onContactsPanelV2Ref,hideHeader:!0,hideSearchBar:!1,topInset:50,bottomPadding:80,isHidden:this.state.currentTab!==K.HubTab.People||!this.state.onTopOfNavStack,onTabCountUpdated:this._onContactsTabCountUpdated})}:this._placeholderTabConfig()}_getCallsTabConfig(){return this.state.tabRenderFlags[K.HubTab.Calls]?{renderContent:this._renderCallsTabContent}:this._placeholderTabConfig()}_getNotificationsTabConfig(){return this.state.tabRenderFlags[K.HubTab.Notifications]?{renderContent:()=>(0,n.jsx)(u.default,{ref:this._onNotificationsPanelRef,hideHeader:!0,onClose:this._goToRecent})}:this._placeholderTabConfig()}_getTodayTabConfig(){return this.state.tabRenderFlags[K.HubTab.Today]?{renderContent:this._renderTodayTabContent}:this._placeholderTabConfig()}_getWrappedRecentsTabConfig(){if(!this.state.tabRenderFlags[K.HubTab.Recents])return this._placeholderTabConfig();const e={wrapperStyle:this._wrapperStyle(),bottomPadding:80,hideSearchBar:!0,params:{}};return this._getRecentsTabConfig(e)}_renderFABContent(){if(this.state.currentTab===K.HubTab.Notifications)return;const e=O.default.actionButtonForHubTab(this.state.currentTab,this.state.disableHighBandwidthOperations);return e?(0,n.jsx)(l.Animated.View,Object.assign({style:[ke.fab,this._fabOpacityStyle],ignorePointerEvents:!0},{children:(0,n.jsx)(d.default,{style:ke.stackedFab,size:d.ActionButtonSize.FAB,icon:e.icon,iconSize:re.IconSize.size24,iconColor:this._getContext().theme!==ce.Theme.AccessibleDark?se.Color.white:void 0,accessibilityLabel:e.title,reverseGradientColor:!0,disabled:e.disabled,disabledOpacity:e.disabled?1:void 0,onPress:this._onPrimaryFABPress})})):void 0}_intFABPress(e,t,i){t&&t.onPressCallback&&t.onPressCallback(i,e)}_wrapperStyle(){return[ke.tabWrapper]}_setAnimatedValues(e,t){if(this._wrappedContentTransitionView){const i=l.Styles.createAnimatedViewStyle({opacity:e.interpolate({inputRange:[t-1,t,t+.5,t+1],outputRange:[1,1,0,0]}),transform:[{translateY:e.interpolate({inputRange:[t-1,t,t+1],outputRange:[0,0,-100]})}]});this._wrappedContentTransitionView.setAnimatedStyle(i)}}_clearAnimatedValues(){this._wrappedContentTransitionView&&this._wrappedContentTransitionView.setAnimatedStyle(this._resetSearchTransitionStyle)}_scrollsToTop(){return!!this.state.onTopOfNavStack&&!1}_topScrollInset(){const e=this._isPresentedInTabletLeftNav();return this.state.enableRecentsFilterPills?50:e?0:50}_totalTabs(){return 4}_additionalContainerStyles(){0}_handleAppStateChange(e){if(!this.isComponentMounted())return;R.log(x.LogTraceArea.MobileHub,"MobileHub._handleAppStateChange, reset tab render flags");const t=this._resetTabRenderFlags(this.state);(0,E.default)(this.state.tabRenderFlags,t)||this.setState({tabRenderFlags:t})}_generateIndexToTabEnumMap(){let e=o.clone(this._getTabs());return e=this._getContext().isRTL?o.reverse(e):e,_.default.generateIndexToTabEnumMap(e)}_generateTabEnumToIndexMap(){let e=o.clone(this._getTabs());return e=this._getContext().isRTL?o.reverse(e):e,_.default.generateTabEnumToIndexMap(e)}_convertIndexToTabEnum(e){return this._indexToTabEnumMap||(this._indexToTabEnumMap=this._generateIndexToTabEnumMap()),this._indexToTabEnumMap[e]}_convertTabEnumToIndex(e){this._tabEnumToIndexMap||(this._tabEnumToIndexMap=this._generateTabEnumToIndexMap());const t=o.isUndefined(e)?K.HubTab.Recents:e;return this._tabEnumToIndexMap[t]}_isCTAExperiment(){return this.state.currentTab===K.HubTab.Calls}_pauseWhenNotVisible(){return!0}_componentId(){return"MobileHub"}}t.default=Ae},350554:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MobileHub=t.getTelemetryTabName=void 0;const n=i(785893),o=i(667294),s=i(705465),a=i(217041),r=i(379707),l=i(583367),c=i(757361),d=i(701025),u=i(919640),g=i(889391),h=i(711828),p=i(924521),S=i(528805),m=i(770170),C=i(691e3),y=i(677381),f=i(911009),b=i(711930),_=i(217093),v=i(733754),T=i(258187),P=i(475760),k=i(72105),A=i(581760),I=i(790070),w=i(869425),x=i(579258),N=i(717640),M=i(667024),L=i(853374),O=i(878440),D=i(788062),R=i(415963),E=i(777806),B=i(311010),F=i(24148),V=i(436237),U=i(180843),j=i(968894),H=i(746096),W=i(40858),z=i(490720),G=i(593486),K=i(3415),q=i(178735),Q=i(46929),X=i(360305),J=i(29130),$=i(449216),Y=i(74491),Z=i(795691),ee=i(474728),te=i(109106),ie=i(291944),ne=i(256928),oe=i(512952),se=s.StyleSheet.create({badge:{maxWidth:100,borderWidth:2,fontWeight:"bold",fontSize:B.default.controlFontSize.smallBadge,lineHeight:B.default.controlFontSize.smallBadge+4,textAlign:"center",textAlignVertical:"center",borderRadius:B.default.controlFontSize.smallBadge},badgeTransparent:{backgroundColor:"rgba(0,0,0,0)"},tabWrapper:{flex:1},tabBarIconUnfocused:{opacity:.8}});class ae extends a.ComponentBase{_buildState(){const{modernizeIllustrations:e}=g.default.getS4LMessagingFeatures();return{modernizeIllustrations:e,shouldShowMyBotFloatToolTip:oe.default.shouldShowMyBotFloatToolTip()}}render(){return(0,n.jsx)(re,{navigation:this.props.navigation,route:this.props.route,modernizeIllustrations:this.state.modernizeIllustrations,shouldShowMyBotFloatToolTip:this.state.shouldShowMyBotFloatToolTip})}}function re({modernizeIllustrations:e,shouldShowMyBotFloatToolTip:t}){const i=(0,T.useCommonContext)(),a=(0,c.useIsFocused)(),r=(0,o.useRef)(null),l=(0,o.useRef)(null);(0,c.useScrollToTop)(r);const d=e?0:80,u=t?(0,n.jsx)(ne.MyBotFloatTooltip,{title:v.getString("MyBotConversation.HightlightedTooltip"),anchor:()=>{var e;return null===(e=r.current)||void 0===e?void 0:e.getMyBotRef()},offsetY:oe.default.getToolTipOffset(),parentRef:()=>null===l.current?void 0:l.current}):void 0;return(0,n.jsxs)(s.View,Object.assign({style:se.tabWrapper,ref:l},{children:[i.isPresentedInDesktopLeftNav?null:(0,n.jsx)(K.default,{}),(0,n.jsx)(S.default,{ref:r,useMobileView:!0,showFilterIcon:!0,isScrollToTopTarget:!1,isActiveTab:a,topInset:50,bottomPadding:d,hideSearchBar:!0}),u,(0,n.jsx)(x.default,{icon:h.SkypeIcon.Compose,accessibilityLabel:v.getString("HubHeaderPanel.NewConversationTitle"),onPress:()=>I.default.onSuperComposerClick(i.rootViewId)})]}))}class le extends a.ComponentBase{_buildState(){const{modernizeIllustrations:e,enableNewCallsTabPanel:t,emoticonForEmptyCallsTab:i}=g.default.getS4LMessagingFeatures();return{modernizeIllustrations:e,enableNewCallsTabPanel:t,emoticonForEmptyState:i,showEmptyIllustration:e&&ee.default.getCallsEmpty()}}render(){return(0,n.jsx)(ce,{navigation:this.props.navigation,route:this.props.route,modernizeIllustrations:this.state.modernizeIllustrations,enableNewCallsTabPanel:this.state.enableNewCallsTabPanel,emoticonForEmptyState:this.state.emoticonForEmptyState,showEmptyIllustration:this.state.showEmptyIllustration})}}function ce({enableNewCallsTabPanel:e,showEmptyIllustration:t,emoticonForEmptyState:i}){const a=(0,T.useCommonContext)(),r=(0,o.useRef)(null),l=(0,o.useRef)(null);const c=e?(0,n.jsx)($.CallsTabPanel,{ref:r,showEmptyStateIllustration:t,emptyStateEmoticon:i}):(0,n.jsx)(m.default,{ref:l,hideHeader:!0,hideSearchBar:!0,topInset:50,bottomPadding:160,isMobileTab:!0});return(0,n.jsxs)(s.View,Object.assign({style:se.tabWrapper},{children:[a.isPresentedInDesktopLeftNav?null:(0,n.jsx)(K.default,{}),c,(0,n.jsx)(x.default,{icon:h.SkypeIcon.Dialpad,accessibilityLabel:v.getString("PeopleList.PstnDialpadLabel"),onPress:()=>I.default.onDialpadButtonClick(a.rootViewId)})]}))}class de extends a.ComponentBase{_buildState(){const{modernizeIllustrations:e,emoticonForEmptyPhoneTab:t}=g.default.getS4LMessagingFeatures();return{modernizeIllustrations:e,emoticonForEmptyState:t,showEmptyIllustration:e&&ee.default.getPhoneCallsEmpty()}}render(){return(0,n.jsx)(ue,{navigation:this.props.navigation,route:this.props.route,modernizeIllustrations:this.state.modernizeIllustrations,showEmptyIllustration:this.state.showEmptyIllustration,emoticonForEmptyState:this.state.emoticonForEmptyState})}}function ue({showEmptyIllustration:e,emoticonForEmptyState:t}){const i=(0,T.useCommonContext)(),a=(0,o.useRef)(null);return(0,n.jsxs)(s.View,Object.assign({style:se.tabWrapper},{children:[(0,n.jsx)(K.default,{}),(0,n.jsx)(Y.PhoneTabPanel,{ref:a,showEmptyStateIllustration:e,emptyStateEmoticon:t}),(0,n.jsx)(x.default,{icon:h.SkypeIcon.Dialpad,accessibilityLabel:v.getString("PeopleList.PstnDialpadLabel"),onPress:()=>I.default.onDialpadButtonClick(i.rootViewId)})]}))}const ge=(e,t)=>{const i=v.getString("Hub.CallsTabTitle"),n=e?b.default.tabAccessibilityLabel(i,1,5):b.default.tabAccessibilityLabel(i,1,4);return{tabBarIcon:e=>_e(e,h.SkypeIcon.VideoFilledInvertedGradient,h.SkypeIcon.Video,t),tabBarLabel:v.getString("Hub.CallsTabTitle"),tabBarAccessibilityLabel:n}},he=e=>{const t=v.getString("Hub.PhoneTabTitle"),i=b.default.tabAccessibilityLabel(t,2,5);return{tabBarIcon:t=>_e(t,h.SkypeIcon.DialpadFilledInvertedGradient,h.SkypeIcon.Dialpad,e),tabBarLabel:v.getString("Hub.PhoneTabTitle"),tabBarAccessibilityLabel:i}},pe=(e,t,i,n)=>{const o=v.getString("Hub.MyFeedTabTitle");return{tabBarIcon:e=>_e(e,h.SkypeIcon.TodayTabInvertedGradient,h.SkypeIcon.TodayTabInverted,n),tabBarLabel:o,tabBarAccessibilityLabel:i?b.default.tabAccessibilityLabel(o,4,5):b.default.tabAccessibilityLabel(o,3,4),tabBarBadge:e?"":void 0,tabBarBadgeStyle:t}};class Se extends a.ComponentBase{_buildState(){const{modernizeIllustrations:e}=g.default.getS4LMessagingFeatures(),{enableAllFilterByDefault:t}=g.default.getS4LContactsFeatures();return{modernizeIllustrations:e,enableAllFilterByDefault:t}}render(){return(0,n.jsx)(me,{navigation:this.props.navigation,route:this.props.route,modernizeIllustrations:this.state.modernizeIllustrations,enableAllFilterByDefault:this.state.enableAllFilterByDefault})}}function me({enableAllFilterByDefault:e}){const t=(0,T.useCommonContext)(),i=(0,c.useIsFocused)(),a=(0,o.useRef)(null);return(0,n.jsxs)(s.View,Object.assign({style:se.tabWrapper},{children:[t.isPresentedInDesktopLeftNav?null:(0,n.jsx)(K.default,{}),(0,n.jsx)(C.default,{ref:a,hideHeader:!0,hideSearchBar:!0,topInset:50,bottomPadding:80,isHidden:!i,initialTab:e?Z.ContactsPanelV2.All:void 0}),(0,n.jsx)(x.default,{icon:h.SkypeIcon.ContactAdd,accessibilityLabel:v.getString("Hub.AddContactsLabelGrouped"),onPress:()=>I.default.onPeoplePlusButtonClickForNewMobileHub(t.rootViewId)})]}))}const Ce=(e,t)=>{const i=v.getString("Hub.ContactsTabTitle"),n=e?b.default.tabAccessibilityLabel(i,3,5):b.default.tabAccessibilityLabel(i,2,4);return{tabBarIcon:e=>_e(e,h.SkypeIcon.BookContactsFillInvertedGradient,h.SkypeIcon.BookContacts,t),tabBarLabel:v.getString("Hub.ContactsTabTitle"),tabBarAccessibilityLabel:n}};function ye(){const e=(0,o.useRef)(null),t=(0,T.useCommonContext)();return(0,n.jsxs)(s.View,Object.assign({style:se.tabWrapper},{children:[t.isPresentedInDesktopLeftNav?null:(0,n.jsx)(K.default,{}),(0,n.jsx)(p.default,{ref:e,hideHeader:!0})]}))}const fe=(e,t,i,n)=>{const o=v.getString("Notifications.Notify"),s=b.default.combinedAccessibilityLabel(o,v.getString("Hub.NotificationCounterScreenReaderLabel",{count:e}));return{tabBarIcon:e=>_e(e,h.SkypeIcon.AlertFillNewFontGradient,h.SkypeIcon.Alert,n),tabBarLabel:o,tabBarAccessibilityLabel:i?b.default.tabAccessibilityLabel(s||o,4,5):b.default.tabAccessibilityLabel(s||o,3,4),tabBarBadge:e||void 0,tabBarBadgeStyle:t}};function be(e){const t=(0,o.useRef)(),i=(0,c.useNavigation)(),a=(0,T.useCommonContext)(),{route:{params:r}}=e;(0,o.useEffect)((()=>i.addListener("tabPress",(()=>{var e;i.isFocused()&&(null===(e=t.current)||void 0===e||e.scrollToTop())}))),[i,t]);return(0,n.jsxs)(s.View,Object.assign({style:se.tabWrapper},{children:[a.isPresentedInDesktopLeftNav?null:(0,n.jsx)(K.default,{}),(0,n.jsx)(ie.TodayTabPanel,{ref:t,openInterestsManagerOnLoad:null==r?void 0:r.openInterestsManagerOnLoad,getIsActiveTab:()=>e.route.name===_.HubTab.Today})]}))}function _e(e,t,i,o){let a={};if(o){const[e,t]=o;a={gradientcolor1:e,gradientcolor2:t}}const r=(0,h.getIcon)(e.focused?t:i,e.size,e.color,a);return e.focused?r:(0,n.jsx)(s.View,Object.assign({style:se.tabBarIconUnfocused},{children:r}))}function ve(e){switch(e){case _.HubTab.Recents:return"Recents";case _.HubTab.Calls:return"Calls";case _.HubTab.Phone:return"Phone";case _.HubTab.People:return"People";case _.HubTab.Notifications:return"Notifications";case _.HubTab.Today:return"Today"}return"Unknown"}t.getTelemetryTabName=ve;const Te={coachMarkArea:f.CoachMarkAreaType.MobileHub},Pe=(0,r.createBottomTabNavigator)();function ke({activeConversationsCount:e,unreadAlertsCount:t,isSyncing:i,todayEnabled:a,shouldShowTodayBadge:r,shouldShowNotificationsInHeader:l,shouldShowTodayTab:g,isLandscape:p,enableNewCallsTabPanel:S}){const{mode:m,themeColors:C,userColor:y,gradients:P}=(0,T.useCommonContext)(),k=m.isAccessible?C.tabIndicatorColor:(0,w.iconColorForColor)(y.primaryAccent),I=P.secondary,x=C.surfaceAccent,N=(0,o.useRef)(),B=(0,d.useSafeAreaFrame)(),G=(0,d.useSafeAreaInsets)(),K=(0,u.getDefaultHeaderHeight)(B,!1,G.top);oe.default.setToolTipOffset(K),(0,o.useEffect)((()=>{O.default.maybeSetTooltipVisibility(!0),O.default.maybeSetRedDotVisibility(!0)}),[]),(0,c.useFocusEffect)((0,o.useCallback)((()=>{var e;const t=null===(e=s.StatusBar.pushStackEntry)||void 0===e?void 0:e.call(s.StatusBar,{backgroundColor:x});return()=>{var e;null===(e=s.StatusBar.popStackEntry)||void 0===e||e.call(s.StatusBar,t)}}),[x]));const q=(0,o.useMemo)((()=>s.StyleSheet.flatten([se.badge,s.StyleSheet.create({borderColor:{borderColor:C.primaryBackgroundColor}}).borderColor])),[C.primaryBackgroundColor]);return(0,n.jsxs)(f.CoachMarkContext.Provider,Object.assign({value:Te},{children:[(0,n.jsx)(D.default,{headerHeight:K}),(0,n.jsxs)(Pe.Navigator,Object.assign({screenOptions:({route:e})=>({headerShadowVisible:!1,headerShown:!0,title:"",headerStyle:{backgroundColor:C.surfaceAccent,height:void 0},headerLeft:()=>(0,n.jsx)(W.default,Object.assign({isLandscapeLayout:p},e)),headerRight:()=>(0,n.jsx)(z.default,Object.assign({isLandscapeLayout:p},e)),tabBarActiveTintColor:k,tabBarInactiveTintColor:C.headerIconColor,tabBarStyle:{borderColor:C.dividerPrimary},tabBarButton:e=>(0,n.jsx)(s.Pressable,Object.assign({},e,{onPress:t=>{var i,n;N.current&&M.default.cancelTimeout(N.current),N.current=L.default.newCauseId();const o=(null===(i=e.to)||void 0===i?void 0:i.split("/").pop())||"unknown",s={tab:o};V.track(new te.PressAction(te.PressScenario.HubTab,R.ScenarioName.ResponsivenessSelectHubTab,o)),M.default.createTrackerAndMarkPressTime(N.current,R.ScenarioName.ResponsivenessSelectHubTab,t,s),null===(n=e.onPress)||void 0===n||n.call(e,t)}},{children:e.children}))}),initialRouteName:_.HubTab.Recents,screenListeners:e=>({focus:()=>{N.current&&(M.default.markActionDoneAndRemoveTracker(N.current),N.current=void 0)},state:()=>{const t=ve(e.route.name);V.track(new F.NavigationTab(t)),V.log(H.LogTraceArea.MobileHub,"MobileHub: setting currentTab to "+t),U.default.disableTooltip(j.EngagementTooltipType.Profile)}})},{children:[(0,n.jsx)(Pe.Screen,{name:_.HubTab.Recents,component:ae,options:()=>((e,t,i,o,s,a)=>{const r=v.getString("Hub.RecentsTabTitle"),l=b.default.combinedAccessibilityLabel(v.getString("Hub.RecentsTabTitle"),v.getString("Hub.UnreadCounterScreenReaderLabel",{count:t})),c=b.default.tabAccessibilityLabel(l||r,0,s?5:4);return{tabBarBadge:e?(0,n.jsx)(E.default,{size:12,color:A.Color.transparent,indicatorColor:o.secondaryTextColor,largeIndicator:!0}):t||void 0,tabBarBadgeStyle:e?se.badgeTransparent:i,tabBarIcon:e=>_e(e,h.SkypeIcon.ChatsInvertedGradient,h.SkypeIcon.Message,a),tabBarLabel:r,tabBarAccessibilityLabel:c}})(i,e,q,C,S,I)}),(0,n.jsx)(Pe.Screen,{name:_.HubTab.Calls,component:le,options:ge(S,I)}),S&&(0,n.jsx)(Pe.Screen,{name:_.HubTab.Phone,component:de,options:he(I)}),(0,n.jsx)(Pe.Screen,{name:_.HubTab.People,component:Se,options:Ce(S,I)}),g?(0,n.jsx)(Pe.Screen,{name:_.HubTab.Today,component:be,options:pe(r,q,S,I)}):null,!a&&!l&&(0,n.jsx)(Pe.Screen,{name:_.HubTab.Notifications,component:ye,options:fe(t,q,S,I)})]}))]}))}class Ae extends y.default{_buildState(){const{todayTab:e}=g.default.getS4LCommerceFeatures(),{enableNewCallsTabPanel:t}=g.default.getS4LMessagingFeatures(),i=X.default.isTablet(),n=G.default.isChildOrMinor(),o=e.enabled&&!n,s=o&&!n&&q.default.getTodayTabToggledButtonSwitchedOn(),a=J.default.getDeviceOrientation(this._getRootViewId())===l.DeviceOrientation.Landscape;return{shouldShowTodayBadge:Q.default.shouldShowTodayBadge(),isSyncing:N.default.isSyncingConversationList()||N.default.isSyncingMessages(),activeConversationsCount:P.default.getActiveRecentsConversationCount(),unreadAlertsCount:k.default.getUnreadAlertsCount(),todayEnabled:o,shouldShowNotificationsInHeader:!i,shouldShowTodayTab:s,isLandscape:a,enableNewCallsTabPanel:t}}render(){return(0,n.jsx)(ke,{isSyncing:this.state.isSyncing,activeConversationsCount:this.state.activeConversationsCount,unreadAlertsCount:this.state.unreadAlertsCount,todayEnabled:this.state.todayEnabled,shouldShowNotificationsInHeader:this.state.shouldShowNotificationsInHeader,shouldShowTodayTab:this.state.shouldShowTodayTab,shouldShowTodayBadge:this.state.shouldShowTodayBadge,isLandscape:this.state.isLandscape,enableNewCallsTabPanel:this.state.enableNewCallsTabPanel})}}t.MobileHub=Ae},958144:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(996074),s=i(803056),a=i(746096),r=i(436237),l=i(897073),c=i(510706);class d extends o.BaseNavigationView{constructor(){super(...arguments),this._goBack=e=>(r.log(a.LogTraceArea.MobileHub,"MobileHubWrapper._goBack: causeId: "+e),!1)}_buildState(e,t){return{shouldSkipRendering:l.default.shouldSkipMobileHub()}}render(){return this.state.shouldSkipRendering?null:(0,n.jsx)(s.default,Object.assign({goBack:this._goBack},{children:(0,n.jsx)(c.default,Object.assign({},this.props))}))}_componentId(){return"MobileHubWrapper"}}t.default=d},578087:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AboutPanelNavigation=void 0;const n=i(785893),o=i(156879);t.AboutPanelNavigation=e=>(0,n.jsx)(o.default,{showHeader:!e.navigation}),t.default=t.AboutPanelNavigation},217267:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderTemplateId=void 0;const n=i(785893),o=i(496486),s=i(959844),a=i(396265),r=i(516778),l=i(996074),c=i(752754),d=i(341444),u=i(915877),g=i(374606),h=i(733754),p=i(104735),S=i(330124),m=i(190631),C=i(711828),y=i(680837),f=i(622951),b=i(619675),_=i(853374),v=i(897634),T=i(724067),P=(0,u.lazyProperties)({container:()=>y.default.flexOne,title:()=>r.Styles.createTextStyle({paddingTop:30,paddingBottom:10,marginHorizontal:20}),row:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",alignSelf:"stretch",justifyContent:"flex-end",paddingHorizontal:20,paddingVertical:10}),searchButtonContainer:()=>y.default.flexOne,inputContainer:()=>r.Styles.createViewStyle({alignSelf:"stretch"}),resetButton:()=>r.Styles.createViewStyle({alignSelf:"center",borderWidth:1,borderRadius:5,paddingHorizontal:5,marginRight:15}),featureName:()=>r.Styles.createTextStyle({flex:1}),resetAllButtonStyle:()=>r.Styles.createTextStyle({width:60}),backgroundStyleResetTextStyles:()=>r.Styles.createTextStyle({}),backgroundStyleResetButtonStyles:()=>r.Styles.createButtonStyle({})});t.HeaderTemplateId="header";const k="boolean";class A extends l.BaseNavigationView{constructor(){super(...arguments),this._allowReset=!0,this._includeNumbers=!1,this._renderItem=e=>{if(e.template===t.HeaderTemplateId)return this._renderSectionTitle(e.categoryName);const{secondaryTextColorStyle:i,primaryTextColorStyle:o,rowHoverViewStyle:s}=this._getContext().themeStyles,a=[v.isUsingDarkTheme(this._getContext())?i:o],l=s,c=e.onReset?(0,n.jsx)(r.Button,Object.assign({style:[P.resetButton,P.backgroundStyleResetButtonStyles],onPress:e.onReset,title:"Reset"},{children:(0,n.jsx)(r.Text,Object.assign({style:P.backgroundStyleResetTextStyles},{children:"Reset"}))})):void 0,d=e.template===k?(0,n.jsx)(g.default,{disable:!e.onPress,falseLabel:h.getString("ToggleSwitch.SelectionToggleOff"),trueLabel:h.getString("ToggleSwitch.SelectionToggleOn"),isOn:!!e.featureValue}):(0,n.jsx)(r.Text,{children:e.featureValue});return(0,n.jsxs)(r.View,Object.assign({style:[P.row,e.key===this.state.itemKeyHovering?l:void 0],onPress:e.onPress,onMouseEnter:e.onHoverStart,onMouseLeave:e.onHoverEnd},{children:[(0,n.jsx)(r.View,Object.assign({style:P.featureName},{children:(0,n.jsx)(r.Text,Object.assign({style:a},{children:e.featureName}))})),c,d]}))},this._searchInputRefCallback=e=>{this._searchInputRef=e||void 0},this._onInputChange=e=>{this.setState({inputText:e})},this._onPressClose=()=>{const e=_.default.newCauseId();p.default.navigateBack(e,this._getContext())}}_buildState(e,t){const i=this._getSubscribedState(),n={listItems:this._generateConfigItems(i),overridenListItems:this._generateOverrideItems(i),isUsingStackNavigationContext:S.default.isUsingStackNavigationContext()};return t&&(n.inputText=""),n}_generateListOfItemsRecursive(e,t,i,n,s){const a=i.join("|"),r="boolean"==typeof n,l="number"==typeof n,c=this._allowReset&&(void 0===s||void 0!==o.get(s,[t,a]));if(o.isObject(n))o.each(n,((n,o)=>{const a=i.concat(o);this._generateListOfItemsRecursive(e,t,a,n,s)}));else if(r||this._includeNumbers&&l||c){const o=t+"|"+a,s=i.join(".");e.push({height:50,key:o,featureName:s,featureValue:n,categoryName:t,template:r?k:"number",onPress:r?this._onListItemClickBuilder(t,i,!n):void 0,onHoverStart:()=>this._onHover(o),onHoverEnd:()=>this._onHover(void 0),onReset:c?this._onResetPressBuilder(t,i):void 0})}}_createHeaderItem(e){return{key:e,height:60,categoryName:e,template:t.HeaderTemplateId,featureName:""}}_onHover(e){this.setState({itemKeyHovering:e})}_renderSectionTitle(e){return(0,n.jsx)(b.Subtitle,Object.assign({style:P.title},{children:e}))}_renderSearchHeader(){let e;return e=this.state.isUsingStackNavigationContext?(0,n.jsx)(c.default,{ref:this._searchInputRefCallback,initialValue:1,showButtonWhenInactive:!0,placeholderText:h.getString("SearchInputControl.PlaceHolderTextShort"),rawSearchQuery:this.state.inputText,onInputTextChange:this._onInputChange}):(0,n.jsx)(r.View,Object.assign({style:P.searchButtonContainer},{children:(0,n.jsx)(d.default,{ref:this._searchInputRefCallback,showButtonWhenInactive:!0,placeholderText:h.getString("SearchInputControl.PlaceHolderTextShort"),rawSearchQuery:this.state.inputText,autoFocus:!0,forceInputValueUpdate:!0,onInputTextChange:this._onInputChange})})),e}focus(){this.isComponentMounted()&&this._searchInputRef&&this._searchInputRef.focusInput()}_getResetAllButton(){return{onPress:()=>this._onResetAll(),text:"Reset all"}}_renderHeader(){if(this.props.navigation)return null;const e={icon:C.SkypeIcon.NavigationBack,title:h.getString("Global.CloseButtonTitle"),onPress:this._onPressClose};return(0,n.jsx)(m.SimplePanelHeader,{panelName:this._getPanelName(),leftButton:e})}_getFilteredListItems(e){const i=this.state.inputText.toLowerCase();if(!i)return e;const n=o.filter(e,(e=>o.includes(e.featureName.toLowerCase(),i)||e.template===t.HeaderTemplateId||o.includes(e.categoryName.toLowerCase(),i)));return o.filter(n,(e=>e.template!==t.HeaderTemplateId||o.some(n,(i=>i.categoryName===e.categoryName&&i.template!==t.HeaderTemplateId))))}_getAllTabConfig(){return{renderTabTitle:()=>(0,n.jsx)(f.default,{title:h.getString("DesktopSearchResultsFilter.All")}),renderContent:()=>(0,n.jsx)(a.VirtualListView,{itemList:this._getFilteredListItems(this.state.listItems),renderItem:this._renderItem})}}_getOverridenTabConfig(){return{renderTabTitle:()=>(0,n.jsx)(f.default,{title:"Overridden"}),renderContent:()=>(0,n.jsx)(r.View,Object.assign({style:P.container},{children:(0,n.jsx)(a.VirtualListView,{itemList:this._getFilteredListItems(this.state.overridenListItems),renderItem:this._renderItem})}))}}render(){const e=this._getAllTabConfig(),t=[e,this._getOverridenTabConfig()];return(0,n.jsxs)(r.View,Object.assign({style:[P.container,this._getContext().themeStyles.primaryBackgroundColorStyle]},{children:[this._renderHeader(),(0,n.jsxs)(r.View,Object.assign({style:P.container},{children:[(0,n.jsx)(r.View,Object.assign({style:P.inputContainer},{children:this._renderSearchHeader()})),this.state.overridenListItems.length?(0,n.jsx)(s.default,{tabConfigs:t,tabHeight:40,isRTL:r.International.isRTL()}):e.renderContent()]})),(0,n.jsx)(T.default,{button:this._getResetAllButton()})]}))}}t.default=A},873709:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(583367),s=i(496486),a=i(396265),r=i(516778),l=i(787720),c=i(889391),d=i(67930),u=i(994224),g=i(707095),h=i(47447),p=(i(711930),i(147204)),S=i(898278),m=i(587134),C=i(746096),y=i(139285),f=i(110117),b=i(733754),_=i(915877),v=i(451072),T=i(46929),P=i(104735),k=i(121936),A=i(772136),I=i(451070),w=i(583181),x=i(285683),N=i(190631),M=i(581760),L=i(640363),O=i(711828),D=i(359433),R=i(79669),E=i(680837),B=i(619675),F=i(461596),V=i(24576),U=i(897634),j=(0,_.lazyProperties)({panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>r.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible",flexGrow:1}),settingsBlockContainerDesktop:()=>r.Styles.createViewStyle({paddingHorizontal:20}),controlRowNoDivider:()=>r.Styles.createViewStyle({marginVertical:4,flexDirection:"row",alignItems:"center",justifyContent:"space-between",minHeight:60}),label:()=>r.Styles.createTextStyle({flex:1,paddingRight:10}),caption:()=>r.Styles.createTextStyle({marginTop:4,marginBottom:12}),title:()=>r.Styles.createTextStyle({paddingTop:30,paddingBottom:10}),settingsContainer:()=>r.Styles.createViewStyle({paddingBottom:10,paddingTop:2,flex:1}),countryPickerButton:()=>r.Styles.createButtonStyle({flexDirection:"row",alignItems:"stretch",marginLeft:10}),pickerText:()=>r.Styles.createTextStyle({maxWidth:250}),pickerChevron:()=>r.Styles.createViewStyle({marginLeft:4,marginTop:2}),countrySelectorPickerContainer:()=>r.Styles.createViewStyle({flexDirection:"row",minHeight:30,alignItems:"center",alignSelf:"stretch"}),link:()=>r.Styles.createTextStyle({color:M.Color.blue,textDecorationLine:"underline"}),warningLabel:()=>r.Styles.createTextStyle({paddingBottom:10}),emergencyCallingSection:()=>r.Styles.createViewStyle({paddingTop:4,flex:1}),countrySelectorPopupContainer:()=>r.Styles.createViewStyle({height:350,width:300}),menuItemContainer:()=>r.Styles.createButtonStyle({minHeight:40,alignItems:"center",justifyContent:"space-between",flexDirection:"row",borderLeftWidth:2,borderStyle:"solid",borderColor:M.Color.transparent,height:40}),countryListItemName:()=>r.Styles.createTextStyle({flexDirection:"row",flex:1}),countryListItemCode:()=>r.Styles.createTextStyle({flex:0,textAlign:"right"}),menuItemText:()=>r.Styles.createTextStyle({marginHorizontal:20})}),H=e=>({key:e.country,height:40,template:z.COUNTRY}),W="countrySelectorPopup",z={COUNTRY:"dcs_country"},G=[{x:0,y:0,label:b.getString("AdvancedCallingSettingsPanel.NdiWatermarkLocationTopLeft")},{x:.5,y:0,label:b.getString("AdvancedCallingSettingsPanel.NdiWatermarkLocationTopMiddle")},{x:1,y:0,label:b.getString("AdvancedCallingSettingsPanel.NdiWatermarkLocationTopRight")},{x:0,y:1,label:b.getString("AdvancedCallingSettingsPanel.NdiWatermarkLocationBottomLeft")},{x:.5,y:1,label:b.getString("AdvancedCallingSettingsPanel.NdiWatermarkLocationBottomMiddle")},{x:1,y:1,label:b.getString("AdvancedCallingSettingsPanel.NdiWatermarkLocationBottomRight")}];class K extends d.BaseNavigationViewPresentedInModal{static getHeaderText(){return b.getString("AdvancedCallingSettingsPanel.HeaderText")}constructor(e){super(e),this._onWatermarkLocationSelected=e=>{k.default.setWatermarkLocation(e)},this._onLeanMoreNdiPress=()=>{r.Linking.openUrl(this.state.learnMoreNdiLink)},this._onToggleIsNdiEnabled=(e,t)=>{k.default.setNdiEnabled(t),this.setState({isNdiEnabled:t})},this._onCountryPickerButtonRef=e=>{this._countryPickerButton=e||void 0},this._onPressTermsOfServiceHandler=()=>{P.default.navigateToSsoWebFlow(this.state.termsOfServiceGoLink,"userInfo.emergencyCalling",b.getString("TermsOfServiceWebFlow.Title"),this._getRootViewId())},this._onCountryPickerClick=()=>{const e={getAnchor:()=>this._countryPickerButton,renderPopup:(e,t,i,o)=>{const{popoverBackgroundColor:s,popupBorderColor:l}=U.themeColors(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsx)(R.default,Object.assign({anchorPosition:e,anchorOffset:t,popupWidth:i,popupHeight:o,fillColor:s,strokeColor:U.isUsingDarkTheme(this._getContext(),this.props.route.params.colorThemeOverride)?l:void 0,skipPopupAutoFocus:!0},{children:(0,n.jsx)(r.View,Object.assign({style:j.countrySelectorPopupContainer},{children:(0,n.jsx)(r.View,Object.assign({style:E.default.flexOne},{children:(0,n.jsx)(a.VirtualListView,{itemList:this._getCountriesListItems(),renderItem:this._renderCountryListItem,animateChanges:!1,keyboardShouldPersistTaps:!0,accessibilityLabel:b.getString("PSTNCountryList.CountryList")})}))}))}))},positionPriorities:["bottom","top"],dismissIfShown:!0,rootViewId:this._getRootViewId()};p.default.showPopup(e,W)},this._onCountrySelected=e=>{T.default.setEmergencyCallDefaultCountry(e),this.setState({emergencyCallDefaultCountry:e}),this.setState({isEmergencyCallEligibleCountry:this._isEmergencyCallEligibleCountry(e)}),p.default.dismissPopup(W,this._getRootViewId()),this._countryPickerButton&&this._countryPickerButton.requestFocus()},this._renderCountryListItem=e=>e.template===z.COUNTRY?this._renderCountryItem(e):[],this._renderCountryItem=e=>{const t=this.state.countries[e.key];return(0,n.jsx)(q,{onSelect:this._onCountrySelected,country:t})},this._isEmergencyCallEligibleCountry=e=>{const t=c.default.getS4LEntitlementFeatures().SCE.Dialpad.EmergencyCall.allowedCountries;return!!e&&t.indexOf(e)>-1};const t=L.default.isRTL()?"desc":"asc";this._watermarkLocationList=s.orderBy(G,["y","x"],["asc",t]).map((e=>({value:e.x.toString()+","+e.y.toString(),label:e.label})))}_buildState(e,t){const i=c.default.getS4LCMCFeatures(),n=T.default.getEmergencyCallDefaultCountry(),o={showNdiSettings:i.enableNDISetting&&u.default.NdiHookupService.isSupported(),isNdiEnabled:k.default.isNdiEnabled(),watermarkLocation:k.default.getWatermarkLocation(),isInACall:w.default.isInCall(),learnMoreNdiLink:c.default.getS4LCMCFeaturesNoSubscription().learnMoreNDILink,broadcastTermsOfServiceUrl:c.default.getS4LCMCFeaturesNoSubscription().broadcastTermsOfServiceUrl,safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:I.default.horizontalPaddingStyle(S.HorizontalInsetZero),countries:A.default.getCountries(),emergencyCallDefaultCountry:n,termsOfServiceGoLink:c.default.getConfigSettings().mySettings.termsOfServiceGoLink,isEmergencyCallEligibleCountry:this._isEmergencyCallEligibleCountry(n)};return t&&(o.isEmergencyCallSettingSupported=!1),o}componentDidMount(){super.componentDidMount(),o.default.supportsNativeEmergencyCalling().catch((()=>!1)).then((e=>{this.setState({isEmergencyCallSettingSupported:!e})}))}render(){const e=[j.settingsBlockContainer];this._getContext().isPresentedInGenericDesktopModal&&e.push(j.settingsBlockContainerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?N.CloseButtonType.Close:N.CloseButtonType.Back},i=this.props.navigation?void 0:(0,n.jsx)(N.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t}),o=b.getString("AdvancedCallingSettingsPanel.ContentCreatorsSectionTitleUpperLabel"),s=b.getString("AdvancedCallingSettingsPanel.EmergencyCallWarningTitleUpperLabel"),a=this.state.showNdiSettings?(0,n.jsx)(x.SectionTitle,{title:o,titleStyles:j.title}):void 0,l=L.default.getPlatformType()!==C.PlatformType.iOS&&L.default.getPlatformType()!==C.PlatformType.Android?(0,n.jsx)(x.SectionTitle,{title:s,titleStyles:j.title}):void 0,{primaryBackgroundColorStyle:c}=U.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(r.View,Object.assign({style:[j.panel,c]},{children:[i,(0,n.jsx)(r.ScrollView,Object.assign({style:E.default.flexOne},{children:(0,n.jsxs)(r.View,Object.assign({style:e},{children:[this._getAutoAnswerSetting(),a,this._getNdiSetting(),l,this._getEmergencyCallSettings()]}))}))]}))}_getHeaderText(e){return K.getHeaderText()}_wrapLinkWithAccessibilityView(e,t){return e}_getAutoAnswerSetting(){if(h.CallingCapabilities.autoAnswerSupported())return(0,n.jsxs)(r.View,{children:[(0,n.jsx)(x.SectionTitle,{title:b.getString("AdvancedCallingSettingsPanel.AutomaticCallAnswerSectionTitleUpperLabel"),titleStyles:j.title}),(0,g.getAutoAnswerSettings)(this.props)]})}_getNdiSwitch(){const e=b.getString("AdvancedCallingSettingsPanel.EnableNdiButtonLabel"),t=(0,g.renderLabels)(e,void 0,!1);return(0,n.jsx)(l.default,Object.assign({style:j.controlRowNoDivider,isOn:this.state.isNdiEnabled,accessibilityLabel:e,onChange:this._onToggleIsNdiEnabled},{children:t}),"ndiEnabled")}_getNdiExplanation(){return(0,n.jsx)(B.BodyText,Object.assign({style:j.label},{children:b.getString("AdvancedCallingSettingsPanel.EnableNdiExplanation")}),"ndiExplanation")}_getNdiLink(){const e=this.state.learnMoreNdiLink,t=b.getString("AdvancedCallingSettingsPanel.EnableNdiLinkTitle"),i=(0,n.jsx)(B.BodyText,Object.assign({style:j.label},{children:(0,n.jsx)(D.default,Object.assign({url:"#",title:e,style:E.default.pointerCursor,blue:!0,onPress:this._onLeanMoreNdiPress},{children:t}))}),"ndiLink");return this._wrapLinkWithAccessibilityView(i,t)}_getRegisteredTrademarkExplanation(){return(0,n.jsx)(B.Caption,Object.assign({style:[j.label,j.caption]},{children:b.getString("AdvancedCallingSettingsPanel.NdiRegisteredTrademarkExplanation")}),"ndiRegisteredTrademarkExplanation")}_getNdiSetting(){if(this.state.showNdiSettings)return(0,n.jsxs)(r.View,{children:[this._getNdiSwitch(),this._getNdiExplanation(),this._getNdiLink(),this._getRegisteredTrademarkExplanation(),this._getWatermarkLocationPicker(),(0,n.jsx)(m.default,{marginTop:8})]})}_getWatermarkLocationPicker(){if(this.state.isNdiEnabled)return(0,n.jsx)(F.default,{title:b.getString("AdvancedCallingSettingsPanel.NdiSkypeWatermarkLocationLabel"),disabled:!this.state.isNdiEnabled,items:this._watermarkLocationList,onValueChange:this._onWatermarkLocationSelected,selectedValue:this.state.watermarkLocation.toString()})}_getEmergencyCallSettings(){if(!this.state.isEmergencyCallSettingSupported)return;const e=this.state.emergencyCallDefaultCountry?(0,n.jsx)(B.RowTitle,Object.assign({accessibilityHidden:!0},{children:b.getString("UserSettingsPanel.EmergencyCallDefaultLocationLabel")})):void 0,t=(0,n.jsxs)(r.View,Object.assign({style:j.countrySelectorPickerContainer},{children:[e,(0,n.jsx)(r.Button,Object.assign({ref:this._onCountryPickerButtonRef,style:[j.countryPickerButton,E.default.noncollapsibleView],accessibilityLabel:this._getSelectedCountryAccessibilityLabel(),accessibilityTraits:[r.Types.AccessibilityTrait.Button,r.Types.AccessibilityTrait.HasPopup],onPress:this._onCountryPickerClick},{children:(0,n.jsxs)(y.default,Object.assign({style:j.countrySelectorPickerContainer},{children:[(0,n.jsx)(B.BodyText,Object.assign({bold:!0,style:j.pickerText},{children:this._getSelectedItemLabel()})),(0,n.jsx)(f.default,{icon:O.SkypeIcon.DownChevron,size:O.IconSize.size15,color:M.Color.gray300,style:j.pickerChevron})]}))}))]}));let i;return i=this.state.emergencyCallDefaultCountry?this.state.isEmergencyCallEligibleCountry?(0,n.jsxs)(r.View,Object.assign({style:E.default.flexOne},{children:[(0,n.jsx)(B.RowTitle,Object.assign({style:j.warningLabel,textThemeColor:B.TextThemeColor.Destructive},{children:b.getString("PSTNDialerPanel.EmergencyCallingLimitedLabel")}),"EmergencyCallingLimitedLabel"),(0,n.jsxs)(B.BodyText,Object.assign({style:j.label},{children:[b.getString("PstnUtils.EmergencyCallWarning")," ",b.getParts("UserSettingsPanel.TermsOfServiceWarning",{termsOfServiceLink:(0,n.jsx)(r.Text,Object.assign({style:j.link,onPress:this._onPressTermsOfServiceHandler},{children:b.getString("IntegrationConsentModal.TermsOfServiceLabel")}),"fairUsagePolicyLinkId")})]}),"EmergencyCallWarning"),(0,n.jsx)(B.BodyText,Object.assign({style:j.label},{children:b.getString("UserSettingsPanel.AlternativeAccessWarning")}),"AlternativeAccessWarning"),t]})):(0,n.jsxs)(r.View,Object.assign({style:E.default.flexOne},{children:[(0,n.jsx)(B.RowTitle,Object.assign({style:j.warningLabel,textThemeColor:B.TextThemeColor.Destructive},{children:b.getString("PSTNDialerPanel.EmergencyCallingNoCallingLabel")}),"EmergencyCallingNoCallingLabel"),(0,n.jsx)(B.BodyText,Object.assign({style:j.label},{children:b.getString("UserSettingsPanel.EmergencyCallingLabel")}),"EmergencyCallingLabel"),t]})):(0,n.jsxs)(r.View,Object.assign({style:E.default.flexOne},{children:[(0,n.jsx)(B.BodyText,Object.assign({style:j.label},{children:b.getString("UserSettingsPanel.EmergencyCallCheckDefaultLocationLabel")}),"EmergencyCallCheckDefaultLocationLabel"),t]})),(0,n.jsxs)(r.View,Object.assign({style:j.emergencyCallingSection},{children:[(0,n.jsx)(r.View,Object.assign({style:j.settingsContainer},{children:(0,n.jsx)(r.View,Object.assign({accessibilityTraits:r.Types.AccessibilityTrait.Text,importantForAccessibility:r.Types.ImportantForAccessibility.Yes},{children:i}))})),(0,n.jsx)(m.default,{},"emergencyCallSettingsDivider")]}))}_getSelectedCountryAccessibilityLabel(){if(this.state.emergencyCallDefaultCountry){const e=s.find(this.state.countries,(e=>e.country===this.state.emergencyCallDefaultCountry));return e&&b.getString("UserSettingsPanel.DefaultCountryAccessibilityLabel",{countryTitle:e.countryName})}return b.getString("UserSettingsPanel.SetDefaultCountryAccessibilityLabel")}_getSelectedItemLabel(){if(this.state.emergencyCallDefaultCountry){const e=s.find(this.state.countries,(e=>e.country===this.state.emergencyCallDefaultCountry));return e&&e.countryName}return b.getString("UserSettingsPanel.SetEmergencyCallDefaultLocationLabel")}_getCountriesListItems(){return s.map(this.state.countries,H)}}t.default=K;class q extends V.default{constructor(){super(...arguments),this._onPress=()=>{this.props.onSelect(this.props.country.country)}}render(){const e=[j.menuItemText,this._themeStyles.secondaryTextColorStyle];return(0,n.jsxs)(v.default.Button,Object.assign({style:j.menuItemContainer,onPress:this._onPress,accessibilityTraits:r.Types.AccessibilityTrait.Button,accessibilityLabel:`${this.props.country.countryName} +${this.props.country.countryCode}`,importantForAccessibility:r.Types.ImportantForAccessibility.Yes},{children:[(0,n.jsx)(B.BodyText,Object.assign({style:[e,j.countryListItemName],numberOfLines:1},{children:this.props.country.countryName})),(0,n.jsxs)(B.BodyText,Object.assign({style:[e,j.countryListItemCode]},{children:["+",this.props.country.countryCode]}))]}))}}},565427:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AlertsHubNavigation=void 0;const n=i(785893),o=i(924521);t.AlertsHubNavigation=e=>(0,n.jsx)(o.default,{hideHeader:!!e.navigation}),t.default=t.AlertsHubNavigation},151013:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(1706),r=i(918161),l=i(671830),c=i(898278),d=i(662602),u=i(400984),g=i(677381),h=i(952262),p=i(746096),S=i(436237),m=i(733754),C=i(715854),y=i(104735),f=i(404057),b=i(22222),_=i(581760),v=i(853374),T=i(846116),P=i(871664),k=i(61375);class A extends g.default{constructor(){super(...arguments),this._onKeyPress=e=>d.default.maybeHandleKeyPress(e,(()=>this._onPressUnblockButton(e))),this._onPressUnblockButton=e=>{e.stopPropagation(),this.setState({isUnblocking:!0}),u.default.unblockContact(this.props.userMri,k.BlockConversationSource.BlockedUsersListPanel).then((()=>{(0,T.isMagicBotConversation)(this.props.userMri)&&P.default.giveConsent()})).fail((()=>{this.isComponentMounted()&&this.setState({isUnblocking:!1})})).finally((()=>{let e=m.getString("SkypeUserListItem.DisplayNameLabel",{displayName:this.state.displayName});e+=m.getString("UserSettingsPanel.UnblockButtonTitle"),s.Accessibility.announceForAccessibility(e)})),this.props.onPress&&this.props.onPress(e)}}_buildState(e,t){const i=h.default.getDisplayableProfile(e.userMri),n={displayName:i&&i.getDisplayName()};return t&&(n.isUnblocking=!1),n}render(){const e={backgroundColor:_.Color.gray100,textColor:_.Color.gray400,indicatorColor:_.Color.gray400};return(0,n.jsx)(b.default,{buttonStyle:c.SXButtonStyle.Custom,buttonSize:c.SXButtonSize.Small,title:m.getString("UserSettingsPanel.UnblockButtonTitle"),showActivityIndicator:this.state.isUnblocking,allowTextWrap:!0,onPress:this._onPressUnblockButton,buttonConfig:e,onKeyPress:this._onKeyPress})}}class I extends C.default{constructor(){super(...arguments),this._onPressRightButton=()=>{this._headerBackButtonRef&&this._headerBackButtonRef.requestFocus()}}_getUsersMris(){const e=r.getBlockedUsersOrConvOwners();return o.sortBy(e,(e=>{const t=h.default.getDisplayName(e);return t&&f.default.deburrLocaleLowerCase(t)}))}_onItemPress(e,t){const i=v.default.newCauseId();if(S.log(p.LogTraceArea.Navigation,"BlockedUsersListPanel._onItemPress, causeId: "+i),l.isAgent(t)){const e=a.default.getAgentDescriptionForMri(t);if(e&&e.isUnknown)return}y.default.showDetailsPanelWithParams({mri:t,rootViewId:this._getRootViewId(),causeId:i})}_getRightControlButton(e){return(0,n.jsx)(A,{userMri:e,onPress:this._onPressRightButton})}_getHeaderText(e){return I.getHeaderText()}static getHeaderText(){return m.getString("UserSettingsPanel.BlockedContactsTitle")}}t.default=I},692626:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(244387),a=i(889391),r=i(67930),l=i(410683),c=i(16625),d=i(72416),u=i(898278),g=i(437490),h=i(587134),p=i(746096),S=i(110117),m=i(436237),C=i(915877),y=i(733754),f=i(104735),b=i(330124),_=i(772136),v=i(22222),T=i(451070),P=i(190631),k=i(316392),A=i(581760),I=i(311010),w=i(711828),x=i(680837),N=i(619675),M=i(897634),L=i(853374),O=i(677524),D=i(115340),R=i(711930),E=i(267824),B=(0,C.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),scrollViewContainer:()=>o.Styles.createViewStyle({flex:1}),innerContainer:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch",paddingBottom:15,paddingHorizontal:10,overflow:"visible",flexGrow:1}),innerContainerDesktop:()=>o.Styles.createViewStyle({paddingBottom:20,paddingHorizontal:20}),explanationText:()=>o.Styles.createTextStyle({marginTop:15,marginBottom:18,fontSize:15}),navigationButtonContainer:()=>o.Styles.createViewStyle({marginBottom:20}),navigationButton:()=>o.Styles.createButtonStyle({paddingTop:10,paddingBottom:14}),input:()=>o.Styles.createTextInputStyle({flex:1,paddingVertical:19,lineHeight:22,backgroundColor:A.Color.transparent}),inputAdjustAndroid:()=>o.Styles.createViewStyle({marginTop:2,marginBottom:4}),inputRTL:()=>o.Styles.createTextInputStyle({textAlign:"right"}),inputNotice:()=>o.Styles.createViewStyle({marginTop:8}),errorText:()=>o.Styles.createTextStyle({marginTop:4,color:A.Color.red}),errorLabelText:()=>o.Styles.createTextStyle({color:A.Color.red}),errorDivider:()=>o.Styles.createViewStyle({backgroundColor:A.Color.red}),submitButton:()=>o.Styles.createButtonStyle({marginTop:30}),notice:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"flex-start",marginTop:15}),noticeIcon:()=>o.Styles.createViewStyle({flex:0,marginTop:3,marginRight:10}),noticeText:()=>o.Styles.createTextStyle({flex:1,fontSize:14})});class F extends r.BaseNavigationViewPresentedInModal{static getHeaderText(){return y.getString("CallingSettingsPanel.CallerID")}constructor(e){super(e),this._preventPendingNumberReset=!1,this._onLeftButtonPress=()=>{this._close()},this._onCountryPressed=()=>{this.state.isUsingStackNavigationContext||(this._preventPendingNumberReset=!0);const e=this._getRootViewId(),t=c.default.getCallerIdCountryCodes();f.default.navigateToCountrySelectorWithFilter(e,this._onCountrySelected,t,!0,!0)},this._onCountrySelected=e=>{const{number:t}=this.state.callerIdPendingNumber;c.default.setCallerIdPendingNumberValues(e,t)},this._onChangeNumberText=e=>{const{countryCode:t}=this.state.callerIdPendingNumber;c.default.setCallerIdPendingNumberValues(t,e)},this._onChangeCodeText=e=>{const{countryCode:t,number:i}=this.state.callerIdPendingNumber;c.default.setCallerIdPendingNumberValues(t,i,e)},this._getNotice=e=>{const{secondaryTextColor:t}=M.themeColors(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(o.View,Object.assign({style:B.notice},{children:[(0,n.jsx)(S.default,{icon:w.SkypeIcon.Info,size:w.IconSize.size14,color:t,style:B.noticeIcon}),e]}))},this._getSkypeNumberButton=()=>{const e=y.getString("CallerIdSettingsPanel.AddSkypeNumberLabel"),t=[(0,n.jsx)(N.Caption,Object.assign({style:B.noticeText},{children:y.getString("CallerIdSettingsPanel.SkypeNumberNoticeText")}))];return(0,n.jsxs)(o.View,{children:[(0,n.jsx)(v.default,{style:B.submitButton,buttonSize:u.SXButtonSize.Large,buttonStyle:u.SXButtonStyle.ColorStroke,title:e,allowTextWrap:!0,onPress:this._onSkypeNumberPress}),this._getNotice(t)]})},this._onAddPhoneNumberPress=()=>{c.default.addCallerIdPendingNumber(),m.track(new d.CallerIdSettingsEvent(d.CallerIdSettingsAction.AddNumberEnter,"mobile"))},this._onSkypeNumberPress=()=>{m.track(new d.CallerIdSettingsEvent(d.CallerIdSettingsAction.AddSkypeNumber,"skypein")),f.default.navigateToSkypeNumberNativePurchaseFlow(k.StackNavigationType.Push,this._getRootViewId())},this._onContinuePress=()=>{c.default.verifyCallerIdPendingNumber(),m.track(new d.CallerIdSettingsEvent(d.CallerIdSettingsAction.AddNumberVerify,"mobile"))},this._onResendPress=()=>{c.default.addCallerIdPendingNumber();const{codeAttempt:e}=this.state.callerIdPendingNumber;m.track(new d.CallerIdSettingsEvent(d.CallerIdSettingsAction.ResendCode,"mobile",e))},c.default.setCallerIdPendingNumberDefaultCountry()}_getHeaderText(e){return F.getHeaderText()}_buildState(e,t){const i=c.default.getCallerIdPendingNumber(),n=i.countryCode?_.default.getCountryByCode(i.countryCode):void 0,o=c.default.isAddingCallerIdPendingNumber()||c.default.isVerifyingCallerIdPendingNumber(),s=a.default.getS4LCommerceFeatures().callingSettingsPanel.callerId.upsellSkypeNumber,r=a.default.getS4LCommerceFeatures().skypeNumber.nativeBuyExperience.enabled;return{callerIdPendingNumber:i,selectedCountry:n,showActivityIndicator:o,isUsingStackNavigationContext:b.default.isUsingStackNavigationContext(),safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:T.default.horizontalPaddingStyle(u.HorizontalInsetZero),upsellSkypeNumber:s,isNativeBuyExperienceEnabled:r}}componentDidMount(){super.componentDidMount(),m.track(new d.CallerIdSettingsEvent(d.CallerIdSettingsAction.AddNumberOpen))}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i);const{status:n}=t.callerIdPendingNumber,{status:o}=this.state.callerIdPendingNumber;n!==l.CallerIdPendingNumberStatus.Verified&&o===l.CallerIdPendingNumberStatus.Verified&&(this._close(),m.track(new d.CallerIdSettingsEvent(d.CallerIdSettingsAction.AddNumberSuccess)),m.track(new d.CallerIdSettingsEvent(d.CallerIdSettingsAction.SetPrimaryNumber,"mobile")))}componentWillUnmount(){super.componentWillUnmount(),this._preventPendingNumberReset||c.default.resetCallerIdPendingNumberNoTrigger()}render(){const e=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?P.CloseButtonType.Close:P.CloseButtonType.Back,onPress:this._onLeftButtonPress},t=this.props.navigation?void 0:(0,n.jsx)(P.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:e}),i=[B.innerContainer];this._getContext().isPresentedInGenericDesktopModal&&i.push(B.innerContainerDesktop),this.state.safeAreaHorizontalPaddingStyle&&i.push(this.state.safeAreaHorizontalPaddingStyle);const{primaryBackgroundColorStyle:s}=M.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(D.KeyboardAvoidingView,Object.assign({style:[B.panel,s]},{children:[t,(0,n.jsx)(o.View,Object.assign({style:B.scrollViewContainer},{children:(0,n.jsx)(o.ScrollView,Object.assign({style:x.default.flexOne,keyboardShouldPersistTaps:!0},{children:(0,n.jsxs)(o.View,Object.assign({style:i},{children:[this._getExplanationSection(),this._getCountrySection(),this._getNumberSection(),this._getCodeSection(),this._getSubmitButtonSection()]}))}))}))]}))}_close(){const e=L.default.newCauseId();m.log(p.LogTraceArea.Navigation,"CallerIdNumberPanel._close, causeId: "+e),g.dismissAll(),f.default.goBack(e,this._getContext())}_getExplanationSection(){const e=this._getExplanationText();return(0,n.jsx)(N.Caption,Object.assign({style:B.explanationText,textThemeColor:N.TextThemeColor.Primary},{children:e}))}_getExplanationText(){if(this.state.callerIdPendingNumber.status===l.CallerIdPendingNumberStatus.New)return y.getString("CallerIdSettingsPanel.AddNumberExplanation");const{numberFull:e,codeAttempt:t=0}=this.state.callerIdPendingNumber,i={number:"+"+e};return t>1?y.getString("CallerIdSettingsPanel.EnterAnotherCodeExplanation",i):y.getString("CallerIdSettingsPanel.EnterCodeExplanation",i)}_getCountrySection(){if(this.state.callerIdPendingNumber.status!==l.CallerIdPendingNumberStatus.New)return;const e=this.state.selectedCountry,t=e?e.countryName+" (+"+e.countryCode+")":void 0,i=y.getString("CallerIdSettingsPanel.CountryLabel"),s=y.getString("CallerIdSettingsPanel.CountryPlaceholder");let a;const{searchPlaceholderTextColor:r}=M.themeColors(this._getContext(),this.props.route.params.colorThemeOverride);t||(a=o.Styles.createTextInputStyle({color:r},!1));let c=s;return t&&(c=t+", "+c),(0,n.jsxs)(o.View,Object.assign({style:B.navigationButtonContainer},{children:[(0,n.jsx)(N.Subtitle,Object.assign({numberOfLines:1},{children:i})),(0,n.jsx)(O.WideButton,{label:t||s,labelStyle:a,accessibilityLabel:c,buttonStyles:B.navigationButton,onPressed:this._onCountryPressed})]}))}_getNumberSection(){if(this.state.callerIdPendingNumber.status!==l.CallerIdPendingNumberStatus.New)return;const{number:e="",error:t}=this.state.callerIdPendingNumber,i=y.getString("CallerIdSettingsPanel.PhoneNumberLabel"),n=y.getString("CallerIdSettingsPanel.PhoneNumberPlaceholder"),o=t===l.CallerIdPendingNumberError.InvalidNumber?y.getString("CallerIdSettingsPanel.InvalidPhoneNumberError"):void 0,s=y.getString("CallerIdSettingsPanel.ServiceNotificationsNotice");return this._getTextInput(e,i,n,!0,this._onChangeNumberText,o,s)}_getCodeSection(){if(this.state.callerIdPendingNumber.status===l.CallerIdPendingNumberStatus.New)return;const{code:e="",error:t}=this.state.callerIdPendingNumber,i=y.getString("CallerIdSettingsPanel.CodeLabel"),n=y.getString("CallerIdSettingsPanel.CodePlaceholder"),o=t===l.CallerIdPendingNumberError.InvalidCode?y.getString("CallerIdSettingsPanel.InvalidCodeError"):void 0;return this._getTextInput(e,i,n,!1,this._onChangeCodeText,o)}_getTextInput(e,t,i,a,r,l,c){const d=l?B.errorLabelText:void 0,u=l?B.errorDivider:void 0,{primaryTextColorStyle:g}=M.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),p=[B.input,g,I.default.fontStyle.bodyBold];let S,m;this._getContext().isRTL&&p.push(B.inputRTL),l&&(S=(0,n.jsx)(N.Caption,Object.assign({style:B.errorText},{children:l}))),c&&(m=(0,n.jsx)(N.Caption,Object.assign({style:B.inputNotice,textThemeColor:N.TextThemeColor.Primary},{children:c})));const{searchPlaceholderTextColor:C}=M.themeColors(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(o.View,{children:[(0,n.jsx)(N.Subtitle,Object.assign({style:d,numberOfLines:1},{children:t})),(0,n.jsx)(s.default,{style:p,value:e,onChangeText:r,placeholder:i,placeholderTextColor:C,accessibilityLabel:i,keyboardType:a?"number-pad":"default",returnKeyType:"done",autoFocus:!0,blurOnSubmit:!0,touchContainerStyle:B.inputAdjustAndroid}),(0,n.jsx)(h.default,{style:u}),S,m]})}_getSubmitButtonSection(){const{status:e,countryCode:t,number:i,code:s}=this.state.callerIdPendingNumber,a=e===l.CallerIdPendingNumberStatus.New?y.getString("CallerIdSettingsPanel.AddPhoneNumberLabel"):y.getString("CallerIdSettingsPanel.ContinueLabel"),r=this.state.showActivityIndicator||(e===l.CallerIdPendingNumberStatus.New?!t||!i:!s),c=e===l.CallerIdPendingNumberStatus.New?this._onAddPhoneNumberPress:this._onContinuePress;let d;const g=y.getString("CallerIdSettingsPanel.ResendLink");R.default.linkAccessibilityInfo(g);if(e!==l.CallerIdPendingNumberStatus.New){const e=(0,n.jsx)(E.Link,Object.assign({url:"#",textElement:N.Caption,title:g,correctiveMargin:-3,onPress:this._onResendPress},{children:g}),"resendCodeLink"),t=[(0,n.jsx)(N.Caption,Object.assign({style:x.default.flexOne},{children:y.getParts("CallerIdSettingsPanel.ResendCodeExplanation",{link:e})}))];d=this._getNotice(t)}return(0,n.jsxs)(o.View,{children:[(0,n.jsx)(v.default,{style:B.submitButton,buttonSize:u.SXButtonSize.Large,title:a,disabled:r,showActivityIndicator:this.state.showActivityIndicator,allowTextWrap:!0,onPress:c,accessibilityLabel:a,accessibilityTraits:o.Types.AccessibilityTrait.Button,importantForAccessibility:o.Types.ImportantForAccessibility.Yes}),d,this.state.isNativeBuyExperienceEnabled&&this.state.upsellSkypeNumber&&e===l.CallerIdPendingNumberStatus.New&&this._getSkypeNumberButton()]})}}t.default=F},772619:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(787720),a=i(67930),r=i(410683),l=i(35169),c=i(16625),d=i(72416),u=i(898278),g=i(587134),h=i(746096),p=i(436237),S=i(915877),m=i(733754),C=i(104735),y=i(707095),f=i(451070),b=i(190631),_=i(915415),v=i(581760),T=i(680837),P=i(619675),k=i(853374),A=i(677524),I=i(897634),w=(0,S.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),innerContainer:()=>o.Styles.createViewStyle({alignSelf:"stretch",paddingBottom:15,paddingHorizontal:10,overflow:"visible",flexGrow:1}),innerContainerDesktop:()=>o.Styles.createViewStyle({paddingBottom:20,paddingHorizontal:20}),activityIndicator:()=>o.Styles.createViewStyle({flex:1,alignItems:"center",justifyContent:"center"}),divider:()=>o.Styles.createViewStyle({marginTop:10}),toggle:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:6}),explanationText:()=>o.Styles.createTextStyle({marginTop:18,marginBottom:12,fontSize:15}),navigationButton:()=>o.Styles.createButtonStyle({paddingTop:10,paddingBottom:14})});class x extends a.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._onCallerIdToggle=()=>{if(this.state.isCallerIdEnabled||0!==this.state.callerIdNumbersCount){c.default.toggleCallerId();const e=this.state.isCallerIdEnabled?d.CallerIdSettingsAction.Disable:d.CallerIdSettingsAction.Enable;p.track(new d.CallerIdSettingsEvent(e))}else this._navigateToCallerIdNumberPanel()},this._onAutoSelectToggle=()=>{c.default.toggleCallerIdAutoSelect();const e=this.state.isCallerIdAutoSelectEnabled?d.CallerIdSettingsAction.DisableAutoSelect:d.CallerIdSettingsAction.EnableAutoSelect;p.track(new d.CallerIdSettingsEvent(e))},this._onAddNumberPressed=()=>{this._navigateToCallerIdNumberPanel()}}static getHeaderText(){return m.getString("CallingSettingsPanel.CallerID")}_getHeaderText(e){return x.getHeaderText()}_buildState(e,t){return{callerIdDataStatus:c.default.getCallerIdDataStatus(),isCallerIdEnabled:c.default.isCallerIdEnabled(),isCallerIdAutoSelectEnabled:c.default.isCallerIdAutoSelectEnabled(),canEnableCallerIdAutoSelect:c.default.canEnableCallerIdAutoSelect(),callerIdNumbersCount:c.default.getCallerIdCapableNumbersCount(),safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:f.default.horizontalPaddingStyle(u.HorizontalInsetZero)}}componentDidMount(){super.componentDidMount(),c.default.maybeRefreshCallerIdData(),c.default.maybeRefreshCallerIdCountryCodes(),p.track(new d.CallerIdSettingsEvent(d.CallerIdSettingsAction.Open))}render(){const e=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?b.CloseButtonType.Close:b.CloseButtonType.Back},t=this.props.navigation?void 0:(0,n.jsx)(b.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:e}),i=this._getActivityIndicator(),s=this._getContent(),{primaryBackgroundColorStyle:a}=I.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(o.View,Object.assign({style:[w.panel,a]},{children:[t,i||s]}))}_getActivityIndicator(){if(this.state.callerIdDataStatus===r.CallerIdDataStatus.Pending)return(0,n.jsx)(o.View,Object.assign({style:w.activityIndicator},{children:(0,n.jsx)(_.default,{size:u.SXActivityIndicatorSize.Medium,tintColor:v.Color.blue})}))}_getContent(){if(this.state.callerIdDataStatus===r.CallerIdDataStatus.Pending)return;const e=[w.innerContainer];return this._getContext().isPresentedInGenericDesktopModal&&e.push(w.innerContainerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle),(0,n.jsx)(o.ScrollView,Object.assign({style:T.default.flexOne},{children:(0,n.jsxs)(o.View,Object.assign({style:e},{children:[this._getCallerIdToggleSection(),this._getAutoSelectToggleSection(),this._getNumbersSection(),this._getAddNumberSection()]}))}))}_getCallerIdToggleSection(){const e=m.getString("CallerIdSettingsPanel.EnableCallerIdLabel"),t=this.state.isCallerIdEnabled?m.getString("CallerIdSettingsPanel.ChooseCallerIdNumberExplanation"):m.getString("CallerIdSettingsPanel.CallerIdExplanation");return(0,n.jsxs)(o.View,{children:[(0,n.jsx)(s.default,Object.assign({style:w.toggle,isOn:this.state.isCallerIdEnabled,accessibilityLabel:e,onChange:this._onCallerIdToggle},{children:(0,y.renderLabels)(e)})),(0,n.jsx)(g.default,{style:w.divider}),(0,n.jsx)(P.Caption,Object.assign({style:w.explanationText,textThemeColor:P.TextThemeColor.Primary},{children:t}))]})}_getAutoSelectToggleSection(){if(!this.state.isCallerIdEnabled)return;const e=m.getString("CallerIdSettingsPanel.AutoSelectLabel"),t=m.getString("CallerIdSettingsPanel.AutoSelectExplanation");return(0,n.jsxs)(o.View,{children:[(0,n.jsx)(s.default,Object.assign({style:w.toggle,isOn:this.state.isCallerIdAutoSelectEnabled,disable:!this.state.canEnableCallerIdAutoSelect,accessibilityLabel:e,onChange:this._onAutoSelectToggle},{children:(0,y.renderLabels)(e,t,!this.state.canEnableCallerIdAutoSelect)})),(0,n.jsx)(g.default,{style:w.divider})]})}_getNumbersSection(){if(this.state.isCallerIdEnabled)return(0,n.jsx)(l.default,{})}_getAddNumberSection(){if(!this.state.isCallerIdEnabled)return;const e=m.getString("CallerIdSettingsPanel.AddNumberLinkLabel"),t=m.getString("CallerIdSettingsPanel.AddNumberLinkExplanation");return(0,n.jsx)(A.WideButton,{label:e,labelBottom:t,accessibilityLabel:t,buttonStyles:w.navigationButton,onPressed:this._onAddNumberPressed})}_navigateToCallerIdNumberPanel(){const e=k.default.newCauseId();p.log(h.LogTraceArea.Navigation,"CallerIdSettingsPanel._navigateToCallerIdNumberPanel, causeId: "+e),C.default.navigateToCallerIdNumberPanel(this._getRootViewId(),e)}}t.default=x},707095:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getAutoAnswerSettings=t.AutoAnswerSettings=t.renderLabels=void 0;const n=i(785893),o=i(583367),s=i(516778),a=i(775352),r=i(598925),l=i(115489),c=i(787720),d=i(889391),u=i(67930),g=i(410683),h=i(16625),p=i(994224),S=i(610190),m=i(47447),C=i(711930),y=i(898278),f=i(587134),b=i(746096),_=i(436237),v=i(915877),T=i(733754),P=i(178735),k=i(104735),A=i(827357),I=i(932226),w=i(451070),x=i(536150),N=i(285683),M=i(190631),L=i(680837),O=i(619675),D=i(24576),R=i(853374),E=i(677524),B=i(832182),F=i(897634),V=(0,v.lazyProperties)({panel:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>s.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible",flexGrow:1}),settingsBlockContainerDesktop:()=>s.Styles.createViewStyle({paddingHorizontal:20}),controlRowNoDivider:()=>s.Styles.createViewStyle({marginVertical:4,flexDirection:"row",alignItems:"center",justifyContent:"space-between",minHeight:60}),titleMediumSemiLarge:()=>s.Styles.createTextStyle({flex:1,marginRight:12,marginTop:4,marginBottom:2}),subtitleMediumSemiLarge:()=>s.Styles.createTextStyle({flex:1,marginRight:12,marginTop:2,marginBottom:4})});function U(e,t,i){const o=(0,n.jsx)(O.RowTitle,Object.assign({style:V.titleMediumSemiLarge,numberOfLines:2,disabled:i},{children:e})),a=t?(0,n.jsx)(O.Caption,Object.assign({style:V.subtitleMediumSemiLarge},{children:t})):void 0;return(0,n.jsxs)(s.View,Object.assign({style:L.default.flexOne},{children:[o,a]}))}t.renderLabels=U;class j extends D.default{constructor(){super(...arguments),this._onToggleAutoAnswerCalls=(e,t)=>{P.default.setUserPreferencesLocal({autoAnswerCalls:t})},this._onToggleAutoAnswerCallsWithVideo=(e,t)=>{P.default.setUserPreferencesLocal({autoAnswerCallsWithVideo:t})}}_buildState(e,t){const i=P.default.getUserPreferencesLocal();return{autoAnswerCalls:!!i.autoAnswerCalls,autoAnswerCallsWithVideo:!!i.autoAnswerCallsWithVideo}}render(){return(0,n.jsxs)(s.View,{children:[this._getAutoAnswerSetting(),this._getAutoAnswerWithVideoSetting()]})}_getAutoAnswerSetting(){const e=this._renderLabels(T.getString("UserSettingsPanel.AutoAnswerCalls"));return(0,n.jsxs)(s.View,{children:[(0,n.jsx)(c.default,Object.assign({style:[V.controlRowNoDivider],isOn:this.state.autoAnswerCalls,accessibilityLabel:T.getString("UserSettingsPanel.AutoAnswerCalls"),onChange:this._onToggleAutoAnswerCalls},{children:e}),"autoAnswerCalls"),(0,n.jsx)(f.default,{marginTop:2})]})}_getAutoAnswerWithVideoSetting(){const e=!this.state.autoAnswerCalls;if(e)return;const t=this._renderLabels(T.getString("UserSettingsPanel.AutoAnswerCallsWithVideo"),void 0,e);return(0,n.jsxs)(s.View,{children:[(0,n.jsx)(c.default,Object.assign({style:[V.controlRowNoDivider],isOn:this.state.autoAnswerCallsWithVideo,disable:e,accessibilityLabel:T.getString("UserSettingsPanel.AutoAnswerCallsWithVideo"),onChange:this._onToggleAutoAnswerCallsWithVideo},{children:t}),"autoAnswerCallsWithVideo"),(0,n.jsx)(f.default,{marginTop:2})]})}_renderLabels(e,t,i){return U(e,t,i)}}function H(e){if(m.CallingCapabilities.autoAnswerSupported())return(0,n.jsx)(j,Object.assign({},e))}t.AutoAnswerSettings=j,t.getAutoAnswerSettings=H;class W extends u.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._ecoModeItems=[{label:T.getString("CallingSettingsPanel.EcoModeOff"),value:r.EcoMode[r.EcoMode.Off]},{label:T.getString("CallingSettingsPanel.EcoModeMobileNetwork"),value:r.EcoMode[r.EcoMode.MobileNetwork]},{label:T.getString("CallingSettingsPanel.EcoModeAllNetworks"),value:r.EcoMode[r.EcoMode.AllNetworks]}],this._fetchSettings=()=>{S.default.fetch(),h.default.maybeRefreshCallerIdData()},this._onAdvancedCallingSettingsButtonPressed=()=>{p.default.CallNavigationHelper.navigateToAdvancedCallingSettingsPanel(!1,this._getRootViewId())},this._onSubtitlesCallingSettingsButtonPressed=()=>{p.default.CallNavigationHelper.navigateToSubtitlesCallingSettingsPanel(!1,!1,this._getRootViewId())},this._onEcoModeChange=e=>{let t;switch(e){case r.EcoMode[r.EcoMode.AllNetworks]:t=r.EcoMode.AllNetworks;break;case r.EcoMode[r.EcoMode.MobileNetwork]:t=r.EcoMode.MobileNetwork;break;default:t=r.EcoMode.Off}P.default.setUserPreferencesLocal({callingEcoMode:t}),p.default.CallingStore.setupIntKey(r.SlimcoreSetupKeys.EnableEcoMode,t),_.track(new l.EcoModeSettingsEvent(this.state.isInCall,this.state.callingEcoMode,t,a.MicrophoneSettingsOrigin.AVSettings))},this._onEcoModeSelected=e=>e===r.EcoMode[this.state.callingEcoMode],this._toggleCallMonitor=(e,t)=>{P.default.setUserPreferencesLocal({disableCallMonitor:!t})},this._onCallerIdPressed=()=>{const e=R.default.newCauseId();_.log(b.LogTraceArea.Navigation,"CallingSettingsPanel._onCallerIdPressed,  causeId: "+e),k.default.navigateToCallerIdSettingsPanel(this._getRootViewId(),e)},this._onCallForwardingPressed=()=>{const e=R.default.newCauseId();_.log(b.LogTraceArea.Navigation,"CallingSettingsPanel._onCallForwardingPressed,  causeId: "+e),this.state.callForwardingFeature&&k.default.navigateToSsoWebFlow(this.state.callForwardingFeature.goTarget,"userInfo.calling-settings",T.getString("CallingSettingsPanel.CallForwardingLabel"),this._getRootViewId())}}static getHeaderText(){return T.getString("UserSettingsPanel.CallSettingsTitle")}_buildState(e,t){const i=P.default.getUserPreferencesLocal(),n=d.default.getS4LCMCFeatures(),o=d.default.getS4LCommerceFeatures(),s={isOnline:I.default.isConnected(),isInCall:p.default.CallingStore.hasConnectedCalls(),isNDISettingSupported:n.enableNDISetting&&p.default.NdiHookupService.isSupported(),callForwardingFeature:S.default.callForwardingFeature(),isCallerIdFeatureEnabled:o.callingSettingsPanel.callerId.enabled,callerIdDataStatus:h.default.getCallerIdDataStatus(),isCallerIdEnabled:h.default.isCallerIdEnabled(),callerIdPrimaryNumber:h.default.getCallerIdPrimaryNumber(),enableCallMonitor:!i.disableCallMonitor,safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:w.default.horizontalPaddingStyle(y.HorizontalInsetZero),isMobileScreenReaderEnabled:x.default.isMobileScreenReaderEnabled(),enableEcoMode:n.enableEcoMode,callingEcoMode:i.callingEcoMode};return t&&(s.isEmergencyCallSettingSupported=!1),s}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i),t.isOnline&&!this.state.isOnline&&this._fetchSettings()}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this._navigationStateStoreToken=A.default.subscribe(this._fetchSettings),this._fetchSettings()}componentDidMount(){super.componentDidMount(),o.default.supportsNativeEmergencyCalling().catch((()=>!1)).then((e=>{this.setState({isEmergencyCallSettingSupported:!e})}))}componentWillUnmount(){super.componentWillUnmount(),this._navigationStateStoreToken&&(A.default.unsubscribe(this._navigationStateStoreToken),this._navigationStateStoreToken=void 0)}_getCallerIdStatusLabel(){return this.state.callerIdDataStatus===g.CallerIdDataStatus.Pending?"":this.state.isCallerIdEnabled&&this.state.callerIdPrimaryNumber?"+"+this.state.callerIdPrimaryNumber.number:T.getString("CallingSettingsPanel.Disabled")}_getCallForwardingStatusLabel(){return this.state.callForwardingFeature&&this.state.callForwardingFeature.fetched?this.state.callForwardingFeature.active?T.getString("CallingSettingsPanel.Enabled"):T.getString("CallingSettingsPanel.Disabled"):""}_useAdvancedCallingPanel(){return this.state.isNDISettingSupported||this.state.isEmergencyCallSettingSupported}render(){const e=[V.settingsBlockContainer];this._getContext().isPresentedInGenericDesktopModal&&e.push(V.settingsBlockContainerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?M.CloseButtonType.Close:M.CloseButtonType.Back},i=this.props.route.params.isAloneInNavStack&&!this.state.isMobileScreenReaderEnabled&&this._getContext().isPresentedInSplitView||this.props.navigation?void 0:(0,n.jsx)(M.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t,delayHeaderFocus:!1}),{primaryBackgroundColorStyle:o}=F.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(s.View,Object.assign({style:[V.panel,o]},{children:[i,(0,n.jsx)(s.ScrollView,Object.assign({style:L.default.flexOne},{children:(0,n.jsxs)(s.View,Object.assign({style:e},{children:[(0,n.jsx)(N.SectionTitle,{title:T.getString("UserSettingsPanel.CallSettingsTitleUpper")}),this._renderCallerID(),this._renderCallForwarding(),this._getAutoAnswerSettings(),this._getCallMonitorSettings(),this._getSubtitleCallingSettings(),this.state.enableEcoMode&&this._getEcoModeSettings(),this._getAdvancedCallingSettings()]}))}))]}))}_getHeaderText(e){return W.getHeaderText()}_renderCallForwarding(){if(!this.state.callForwardingFeature||!this.state.callForwardingFeature.clientEnabled)return;const e=this._getCallForwardingStatusLabel(),t=C.default.combinedAccessibilityLabel(T.getString("CallingSettingsPanel.CallForwardingLabel"),e);return(0,n.jsx)(E.WideButton,{label:T.getString("CallingSettingsPanel.CallForwardingLabel"),accessibilityLabel:t,labelRight:e,onPressed:this._onCallForwardingPressed,labelNumberOfLines:3})}_renderCallerID(){if(!this.state.isCallerIdFeatureEnabled)return;const e=this._getCallerIdStatusLabel(),t=C.default.combinedAccessibilityLabel(T.getString("CallingSettingsPanel.CallerID"),e);return(0,n.jsx)(E.WideButton,{label:T.getString("CallingSettingsPanel.CallerID"),accessibilityLabel:t,labelRight:e,showSpinner:this.state.callerIdDataStatus===g.CallerIdDataStatus.Pending,onPressed:this._onCallerIdPressed})}_getAutoAnswerSettings(){if(!this._useAdvancedCallingPanel())return H(this.props)}_getAdvancedCallingSettings(){if(this._useAdvancedCallingPanel())return this._getWideButton({label:T.getString("CallingSettingsPanel.AdvancedSettingsButtonLabel"),accessibilityLabel:T.getString("CallingSettingsPanel.AdvancedSettingsButtonLabel"),key:"advancedCallingSettings",onPressed:this._onAdvancedCallingSettingsButtonPressed})}_getSubtitleCallingSettings(){return this._getWideButton({label:T.getString("CallingSettingsPanel.SubtitlesButtonLabel"),accessibilityLabel:T.getString("CallingSettingsPanel.SubtitlesButtonLabel"),key:"subtitlesCallingSettings",onPressed:this._onSubtitlesCallingSettingsButtonPressed})}_getWideButton(e){return(0,n.jsx)(E.WideButton,Object.assign({},e,{buttonStyles:y.ListItem.small.shortHeightStyle}))}_getCallMonitorSettings(){if(!m.CallingCapabilities.callMonitorSupported())return;const e=this._renderLabels(T.getString("UserSettingsPanel.EnableCallMonitor"));return(0,n.jsxs)(s.View,{children:[(0,n.jsx)(c.default,Object.assign({style:[V.controlRowNoDivider],isOn:this.state.enableCallMonitor,accessibilityLabel:T.getString("UserSettingsPanel.EnableCallMonitor"),onChange:this._toggleCallMonitor},{children:e})),(0,n.jsx)(f.default,{marginTop:2})]})}_getEcoModeSettings(){return(0,n.jsx)(B.default,{id:"callingEcoMode",items:this._ecoModeItems,rowTitle:T.getString("CallingSettingsPanel.EcoModeTitle"),caption:T.getString("CallingSettingsPanel.EcoModeCaption"),isItemSelected:this._onEcoModeSelected,onHandleItemSelection:this._onEcoModeChange,selectedItemLabel:this._getEcoModeSelectedItemLabel(),style:this.props.route.params.style})}_getEcoModeSelectedItemLabel(){const e=this._ecoModeItems.find((e=>e.value===r.EcoMode[this.state.callingEcoMode]));return e?e.label:""}_renderLabels(e,t,i){return U(e,t,i)}}t.default=W},666222:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(481169),r=i(400984),l=i(481627),c=i(952262),d=i(746096),u=i(913944),g=i(110117),h=i(436237),p=i(915877),S=i(733754),m=i(715854),C=i(104735),y=i(536150),f=i(404057),b=i(293194),_=i(640363),v=i(711828),T=i(734528),P=i(853374),k=i(897634),A=(0,p.lazyProperties)({moreButton:()=>s.Styles.createViewStyle({paddingRight:5,height:20})}),I="deleteContact",w="viewProfile";class x extends m.default{constructor(){super(...arguments),this._getConnectedUserMenuItems=()=>{const e=[];return e.push({text:S.getString("UserProfilePanel.DeleteContactLabel"),command:I},{text:S.getString("UserProfilePanel.ViewProfileLabel"),command:w}),e},this._onHandleConnectedUserMenuOptions=(e,t)=>{const i=P.default.newCauseId();switch(h.log(d.LogTraceArea.Navigation,"ConnectedUsersListPanel._onHandleConnectedUserMenuOptions, causeId: "+i),e){case I:r.default.removeContact(t,l.DeleteContactOrigin.ManageConnectedPeople).then((()=>{const e=c.default.getDisplayableProfile(t),i=e&&e.getDisplayName();s.Accessibility.announceForAccessibility(S.getString("UserSettingsPanel.ContactRemovedAccessibilityLabel",{displayName:i}))}));break;case w:C.default.showDetailsPanelWithParams({mri:t,causeId:i,rootViewId:this._getRootViewId()});case b.SXActionMenuCancel:}}}static getHeaderText(){return S.getString("UserSettingsPanel.ProfileVisiblityTitle")}_buildState(e,t){return Object.assign(Object.assign({},super._buildState(e,t)),{isMobileScreenReaderEnabled:y.default.isMobileScreenReaderEnabled()})}_getUsersMris(){return(0,a.chain)(o.values(r.default.getFilteredAllContactProfiles("",{excludeBots:!0})),(0,a.sortBy)((e=>f.default.deburrLowerCase(e.getDisplayName()))),(0,a.map)((e=>e.getMri())),(0,a.compact)())}_onItemPress(e,t,i){const n={anchor:()=>i,buttons:this._getConnectedUserMenuItems(),positionPriorities:["bottom"],destructiveButtonIndex:0};b.default.showWithActionMenuConfig({options:n,callback:e=>this._onHandleConnectedUserMenuOptions(e,t),rootViewId:this._getRootViewId(),invokingEvent:e})}_getRightControlButton(e){if(this.state.isMobileScreenReaderEnabled)return;const{primaryIconColor:t,secondaryTextColor:i,primaryTextColor:o}=k.themeColors(this._getContext(),this.props.route.params.colorThemeOverride);if(_.default.isElectronWindows())return(0,n.jsx)(g.default,{icon:v.SkypeIcon.More,size:v.IconSize.size24,color:t});const a=c.default.getDisplayableProfile(e),r=a&&a.getDisplayName(),l=[s.Types.AccessibilityTrait.Button,s.Types.AccessibilityTrait.MenuItem],d=S.getString("Global.ContactMoreButtonAccessibilityLabel",{displayName:r});return(0,n.jsx)(u.default,{title:S.getString("Global.MoreButtonTitle"),onPress:t=>this._onItemPress(t,e),size:v.IconSize.size24,color:i,hoverColor:o,style:A.moreButton,icon:T.moreIcon(),accessibilityTraits:l,accessibilityLabel:d},"moreButton")}_getHeaderText(e){return x.getHeaderText()}}t.default=x},849899:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(478931),a=i(915877),r=i(733754),l=i(104735),c=i(677524),d=(0,a.lazyProperties)({titleMediumSemiLarge:()=>o.Styles.createTextStyle({flex:1,marginRight:12})});class u extends s.default{constructor(){super(...arguments),this._onPress=()=>{l.default.navigateToSendDiagnosticLogs(this._getRootViewId())}}static getHeaderText(){return r.getString("UserSettingsPanel.DiagnosticToolsTitle")}_getHeaderText(e){return u.getHeaderText()}_renderContent(){return(0,n.jsx)(c.WideButton,{label:r.getString("SendDiagnosticLogsDialog.SendDiagnosticLogs"),labelStyle:d.titleMediumSemiLarge,onPressed:this._onPress},"diagnosticTools")}}t.default=u},50035:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(217267),s=i(889391),a=i(184469);class r extends o.default{_getPanelName(){return"Manage feature flags"}_getSubscribedState(){return{ecsConfig:s.default.getMergedEcsConfig(),overrides:a.default.getOverrides()}}_generateConfigItems(e){return this._generateListOfItems(e.ecsConfig,e.overrides)}_generateOverrideItems(e){return this._generateListOfItems(e.overrides)}_onResetAll(){a.default.resetAllOverrides()}_generateListOfItems(e,t){const i=[];return n.each(e,((e,o)=>{i.push(this._createHeaderItem(o));const s=i.length;n.each(e,((e,n)=>{this._generateListOfItemsRecursive(i,o,[n],e,t)})),i.length===s&&i.pop()})),i}_onListItemClickBuilder(e,t,i){return()=>{a.default.setOverride(e,t,i)}}_onResetPressBuilder(e,t){return i=>{a.default.clearOverride(e,t),i.stopPropagation()}}}t.default=r},750876:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(583367),s=i(67930),a=i(436237),r=i(458666),l=i(614532),c=i(733754),d=i(281232),u=i(853374),g=i(746096),h=i(886045),p=i(330124),S=i(29130),m=i(451070),C="reset-language-option";class y extends s.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._setAppLanguage=e=>{let t;a.track(new l.LanguageUIChangedEvent(c.getLocale(),e)),e&&e!==C?(r.setLocale(e),t=c.getString(e)):(r.resetLocaleToSystem(),t=c.getResetLanguageOptionString()),h.default.maybeAnnounceForAccessibility(c.getString("SettingsLanguages.LanguageSelectedAnnouncement",{newLanguage:t}),1e3)},this._goBackUtil=()=>{const e=u.default.newCauseId();a.log(g.LogTraceArea.Navigation,"LanguagePickerPanel._onDoneButtonPress,  causeId: "+e),this._goBack(e)},this._getHeaderText=()=>y.getHeaderText()}static getHeaderText(){return c.getString("SettingsLanguages.LanguageLabel")}_buildState(){const e=c.getLocale();let t=0;const i=[{item:null,label:c.getResetLanguageOptionString(),key:C,index:0,separators:{highlight:()=>{},unhighlight:()=>{},updateProps:(e,t)=>{}}}];return{languages:r.sortedLanguageInfo.reduce(((n,o,s)=>(o.code===e&&(t=s),i.push({item:null,label:r.getLanguageTitle(o.code),key:o.code,index:s,separators:{highlight:()=>{},unhighlight:()=>{},updateProps:(e,t)=>{}}}),i)),[]),initialItemKey:e,initialItemIndex:t,isPortrait:S.default.getDeviceOrientation(this.context.rootViewId)===o.DeviceOrientation.Portrait,statusBarPadding:m.default.statusBarPadding(),isSmallDevice:S.default.isSmallDevice(this.context.rootViewId),isMobileScreenSize:S.default.isMobileScreenSize(this.context.rootViewId),isUsingStackNavigationContext:p.default.isUsingStackNavigationContext()}}render(){return(0,n.jsx)(d.default,{action:this._setAppLanguage,items:this.state.languages,initialItemKey:this.state.initialItemKey,initialItemIndex:this.state.initialItemIndex,headerText:c.getString("SettingsLanguages.LanguageLabel"),isAloneInNavStack:this.props.route.params.isAloneInNavStack,goBack:this._goBackUtil,searchEnabled:!0,isPortrait:this.state.isPortrait,statusBarPadding:this.state.statusBarPadding,isSmallDevice:this.state.isSmallDevice,isMobileScreenSize:this.state.isMobileScreenSize,isUsingStackNavigationContext:this.state.isUsingStackNavigationContext})}}t.default=y},449896:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(396265),a=i(516778),r=i(67930),l=i(898278),c=i(746096),d=i(110117),u=i(436237),g=i(458666),h=i(614532),p=i(915877),S=i(733754),m=i(451072),C=i(178735),y=i(29130),f=i(451070),b=i(536150),_=i(886045),v=i(190631),T=i(711828),P=i(680837),k=i(619675),A=i(853374),I=i(897634),w=i(724067),x=(0,p.lazyProperties)({panel:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),languageOption:()=>(0,p.lazyProperties)({row:()=>a.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"flex-start",marginHorizontal:10,borderBottomWidth:1,height:60}),compositeRow:()=>a.Styles.createViewStyle({marginHorizontal:20}),selectedIcon:()=>a.Styles.createViewStyle({margin:5,minWidth:T.IconSize.size15})})});class N extends r.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._renderItem=e=>{const{dividerBorderColorStyle:t}=I.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),{primaryTextColor:i}=I.themeColors(this._getContext(),this.props.route.params.colorThemeOverride),o=[x.languageOption.row,P.default.pointerCursor,P.default.noncollapsibleView,t,this._getContext().isPresentedInDesktopSubview?x.languageOption.compositeRow:void 0,this.state.isMobileScreenSize?l.ListItem.small.regularHeightStyle:l.ListItem.small.shortHeightStyle],s=(0,n.jsx)(d.default,{icon:T.SkypeIcon.Ok,size:T.IconSize.size15,color:i,style:x.languageOption.selectedIcon});let a=!1;switch(e.template){case"reset-language-row":a=!this.state.currentLocale;const t=S.getResetLanguageOptionString(),i=t+(a?", "+S.getString("Global.SelectedAccessibilityLabel"):"");return(0,n.jsxs)(m.default.Button,Object.assign({style:o,onPress:this._onResetLanguagePress,accessibilityLabel:i},{children:[a?s:void 0,(0,n.jsx)(k.BodyText,Object.assign({bold:a,style:P.default.flexNegativeOne},{children:t}))]}),"language_reset");case"language-row":a=e.key===this.state.currentLocale;const r=g.getLanguageTitle(e.key),l=r+(a?", "+S.getString("Global.SelectedAccessibilityLabel"):""),c=[P.default.flexNegativeOne];return"ar-SA"===e.key&&c.push(P.default.noWrap),(0,n.jsxs)(m.default.Button,Object.assign({style:o,onPress:()=>{this._onLanguagePress(e.key)},accessibilityLabel:l},{children:[a?s:void 0,(0,n.jsx)(k.BodyText,Object.assign({bold:a,style:c},{children:r}))]}),"language"+e.key);default:return A.default.switchStatementExhaustiveChecking(e.template)}},this._onDoneButtonRef=e=>{this._doneButtonRef=e||void 0},this._onDoneButtonPress=()=>{const e=A.default.newCauseId();u.log(c.LogTraceArea.Navigation,"LanguagePickerPanel._onDoneButtonPress,  causeId: "+e),this._getContext().isPresentedInDesktopSubview?this._setAppLanguage():(this._setAppLanguage(),this._goBack(e))},this._setAppLanguage=()=>{u.track(new h.LanguageUIChangedEvent(S.getLocale(),this.state.currentLocale)),this.state.currentLocale?g.setLocale(this.state.currentLocale):g.resetLocaleToSystem()},this._onResetLanguagePress=e=>{e.preventDefault();const t=S.getString("SettingsLanguages.ResetLanguageOption");_.default.maybeAnnounceForAccessibility(S.getString("SettingsLanguages.LanguageSelectedAnnouncement",{language:t}),1e3),this.setState({currentLocale:""})},this._onLanguagePress=e=>{const t=g.getLanguageTitle(e);_.default.maybeAnnounceForAccessibility(S.getString("SettingsLanguages.LanguageSelectedAnnouncement",{language:t}),1e3),this.setState({currentLocale:e})}}static getHeaderText(){return S.getString("SettingsLanguages.LanguageLabel")}_buildState(e,t){const i=[{key:"reset-language-row",template:"reset-language-row",height:60,accessibilityTrait:a.Types.AccessibilityTrait.Button}];o.each(g.sortedLanguageInfo,(e=>{i.push({key:e.code,template:"language-row",height:60,accessibilityTrait:a.Types.AccessibilityTrait.Button})}));const n=this._getRootViewId(),s=C.default.getUserPreferencesLocal(),r={isMobileScreenSize:y.default.isMobileScreenSize(n),safeAreaHorizontalInsets:f.default.horizontalInsets(l.HorizontalInsetDefault),isMobileScreenReaderEnabled:b.default.isMobileScreenReaderEnabled(),items:i,userLocale:s.locale?S.getLocale():""};return t&&(r.currentLocale=r.userLocale),r}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._doneButtonRef&&this._doneButtonRef.requestFocus&&this.state.currentLocale!==t.currentLocale&&this._doneButtonRef.requestFocus()}_getActionDoneButton(){return{onPress:this._onDoneButtonPress,disabled:this.state.currentLocale===this.state.userLocale,text:S.getString("Global.ApplyButtonTitle"),accessibilityLabel:S.getString("Global.ApplyButtonTitle"),setButtonRef:this._onDoneButtonRef}}render(){let e;if(!(this.props.route.params.isAloneInNavStack&&!this.state.isMobileScreenReaderEnabled&&this._getContext().isPresentedInSplitView)&&!this.props.navigation){const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?v.CloseButtonType.Close:v.CloseButtonType.Back};e=(0,n.jsx)(v.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t,delayHeaderFocus:!1})}const{primaryBackgroundColorStyle:t}=I.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(a.View,Object.assign({style:[x.panel,t]},{children:[e,(0,n.jsx)(s.VirtualListView,{itemList:this.state.items,renderItem:this._renderItem,animateChanges:!0,horizontalPadding:this.state.safeAreaHorizontalInsets,accessibilityLabel:this._getHeaderText(this.state)}),(0,n.jsx)(w.default,{button:this._getActionDoneButton()})]}))}_getHeaderText(e){return N.getHeaderText()}}t.default=N},150296:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(705465),s=i(733754),a=i(898278),r=i(711828),l=i(31280),c=i(717719),d=i(471502),u=i(797822),g=i(677381),h=o.StyleSheet.create({view:{flexDirection:"row",justifyContent:"flex-end",alignSelf:"stretch",alignItems:"center"},text:{paddingLeft:5,paddingRight:5,flexDirection:"row"}}),p=({rootViewId:e,phoneNumber:t})=>{const i=null!=t?t:s.getString("MyUserInfo.MicrosoftAccountPhoneSet"),d=s.getString("MyUserInfo.MicrosoftAccountPhone"),g=`${d} ${i}`;return(0,n.jsx)(c.default,Object.assign({icon:r.SkypeIcon.CallStart,label:d,accessibilityLabel:g,shorterControlHeight:!1,onPress:()=>{t||(0,u.startPhoneNumberVerification)(e)},treatAsLink:!1},{children:(0,n.jsx)(o.View,Object.assign({style:h.view},{children:(0,n.jsx)(l.BodyText,Object.assign({style:h.text,selectable:!1,textThemeColor:a.TextThemeColor.Secondary},{children:i}))}))}),i)};class S extends g.default{constructor(){super(...arguments),this._getMsaPhoneNumber=()=>{const e=this.state.entries;return d.default.getMSAPhoneNumber(e)}}_buildState(){return{entries:d.default.getEntries()}}render(){return(0,n.jsx)(p,{rootViewId:this._getRootViewId(),phoneNumber:this._getMsaPhoneNumber()})}}t.default=S},851424:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(471502),r=i(787720),l=i(889391),c=i(67930),d=(i(711930),i(898278)),u=i(662602),g=i(587134),h=i(746096),p=i(110117),S=i(436237),m=i(915877),C=i(540522),y=i(733754),f=i(10909),b=i(18078),_=i(104735),v=i(267824),T=i(525313),P=i(797822),k=i(527683),A=i(328377),I=i(49140),w=i(29130),x=i(451070),N=i(681115),M=i(285683),L=i(590602),O=i(190631),D=i(404057),R=i(293194),E=i(915415),B=i(581760),F=i(711828),V=i(680837),U=i(619675),j=i(24576),H=i(897634),W=i(626712),z=i(853374),G=i(677524),K=i(593486),q=(0,m.lazyProperties)({panel:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),entry:()=>(0,m.lazyProperties)({container:()=>s.Styles.createViewStyle({paddingVertical:10,flexDirection:"row",alignItems:"center",justifyContent:"space-between",flex:1}),status:()=>s.Styles.createTextStyle({marginLeft:10,flex:1,textAlign:"right"})}),includeInSearch:()=>(0,m.lazyProperties)({row:()=>s.Styles.createViewStyle({marginVertical:4,flexDirection:"row",alignItems:"center",justifyContent:"space-between",flex:1})}),listItemContainer:()=>(0,m.lazyProperties)({row:()=>s.Styles.createViewStyle({flex:1,paddingHorizontal:20})}),searchExplanationRow:()=>s.Styles.createViewStyle({flexDirection:"row",marginTop:15,marginBottom:25,flex:1}),explanationNoMargins:()=>s.Styles.createViewStyle({marginTop:0,marginBottom:10}),iconFont:()=>s.Styles.createViewStyle({paddingHorizontal:15}),searchTextExplanationColumn:()=>s.Styles.createViewStyle({flex:1,paddingRight:15}),manageAccountBanner:()=>s.Styles.createTextStyle({flex:1,paddingHorizontal:15,paddingVertical:10,borderBottomWidth:1,borderTopWidth:1,color:B.Color.gray500,borderStyle:"solid",fontSize:14}),bannerNoBackground:()=>s.Styles.createTextStyle({backgroundColor:B.Color.transparent}),bannerBackground:()=>s.Styles.createTextStyle({backgroundColor:B.Color.blueOverlay10})});class Q extends j.default{constructor(){super(...arguments),this._renderVerificationStatus=()=>{let e;const t=[q.entry.status];return this.props.entry.VerifiedState===a.VerificationState.Verified&&this.props.entry.Searchable?e=y.getString("ManageSearchInfoPanel.SearchVisibilityStateEnabled"):this.props.entry.VerifiedState===a.VerificationState.Verified?e=y.getString("ManageSearchInfoPanel.SearchVisibilityStateDisabled"):(e=y.getString("ManageSearchInfoPanel.SearchVisibilityStateUnverified"),t.push(this._themeStyles.destructiveTextColorStyle)),(0,n.jsx)(U.BodyText,Object.assign({style:t,numberOfLines:2,ref:this._onVerificationStatusTextRef},{children:e}))},this._onVerificationStatusTextRef=e=>{this._verificationStatusText=e||void 0}}_buildState(e,t){const i={};return t&&(i.isLoading=!1),i}render(){let e,t;this.state.isLoading?e=(0,n.jsx)(E.default,{size:d.SXActivityIndicatorSize.ExtraSmall,tintColor:this._themeColors.primaryIconColor}):this.props.isEditable&&(e=this._renderVerificationStatus());const i={style:V.default.flexOne,numberOfLines:2},o=this.getLabel();return t=this.props.isEditable?(0,n.jsx)(U.BodyText,Object.assign({bold:!0},i,{children:o})):(0,n.jsx)(U.Subtitle,Object.assign({},i,{children:o})),this.onPress?(0,n.jsxs)(s.Button,Object.assign({accessibilityLabel:o,style:q.entry.container,onPress:this.onPress,disabled:!this.props.isEditable},{children:[t,e]})):(0,n.jsxs)(s.View,Object.assign({style:q.entry.container},{children:[t,e]}))}}class X extends Q{constructor(){super(...arguments),this.onPress=e=>{e.stopPropagation();const t={anchor:()=>this._verificationStatusText,useTheme:!0,positionPriorities:["bottom","top"],popupOffset:{x:60,y:5},hideDivider:!0};R.default.showWithOptions({id:X._menuId,config:t,getMenuItems:this._getMenuItems,handleMenuCommand:this._onHandleMenuCommand,destructiveButtonIndex:1,rootViewId:this._getRootViewId(),invokingEvent:e})},this._getMenuItems=()=>{const e=[];return this.props.entry.VerifiedState!==a.VerificationState.Verified&&this.props.canVerifyPhone?e.push({text:y.getString("ManageSearchInfoPanel.PhoneVerificationActionVerify"),command:"verify"}):this.props.entry.VerifiedState===a.VerificationState.Verified&&(this.props.entry.Searchable?e.push({text:y.getString("ManageSearchInfoPanel.PhoneVerificationActionDisable"),command:"disable"}):e.push({text:y.getString("ManageSearchInfoPanel.PhoneVerificationActionEnable"),command:"enable"})),e},this._onHandleMenuCommand=e=>{switch(e){case"disable":this.setState({isLoading:!0});const t=this.props.entry.Phone;a.default.hidePhoneNumberInSearch(t).then((()=>{T.default.isUserPhoneVerified().then((()=>T.default.removePhoneFromProfile(t.Number,t.CountryIsoCode,t.CountryCallingCode).then(o.noop)))}),(t=>{this._logServiceError(e,t)})).finally((()=>{S.track(new I.PhoneNumberDiscoverabilityPrivacyEvent(!1,I.PhoneDiscoverabilityOrigin.ApplicationSettings)),this._updateVerificationState(y.getString("ManageSearchInfoPanel.SearchVisibilityStateDisabled"))}));break;case"enable":this.setState({isLoading:!0}),a.default.showPhoneNumberInSearch(this.props.entry.Phone,this.props.entry.Source).then(o.noop,(t=>{this._logServiceError(e,t)})).finally((()=>{S.track(new I.PhoneNumberDiscoverabilityPrivacyEvent(!0,I.PhoneDiscoverabilityOrigin.ApplicationSettings)),this._updateVerificationState(y.getString("ManageSearchInfoPanel.SearchVisibilityStateEnabled"))}));break;case"verify":(0,P.startPhoneNumberVerificationFromManageSearchPanel)(this._getRootViewId(),this.props.entry.Phone.Number);break;case"cancel":case R.SXActionMenuCancel:break;default:z.default.switchStatementExhaustiveChecking(e)}},this._updateVerificationState=e=>{this.isComponentMounted()&&(this.setState({isLoading:!1}),f.default.scheduleMessage({key:"phoneSearchableText",textMessage:e,color:B.Color.gray300,rootViewId:this._getRootViewId()}))}}getLabel(){const e=this.props.entry.Phone,t=k.default.parse(e.Number,e.CountryCallingCode);return t?k.default.format(t,k.PhoneNumberFormat.NATIONAL):e.Number}_logServiceError(e,t){S.log(h.LogTraceArea.ManageSearchInfo,"Service error while trying to "+e+" phone number. Error: "+D.default.errorAsString(t))}}X._menuId=R.default.menuId();class J extends Q{getLabel(){return this.props.entry.EmailAddress}}class $ extends c.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._onLinkPress=()=>{0},this._onPressProfileVisiblityButton=()=>{_.default.navigateToConnectedUsersList(this._getRootViewId())},this._onChangeIncludeMeInSearch=(e,t)=>{this.state.includeMeInSearchEnabled!==t&&(A.default.setIncludeMeInSearchPrivacyOption({searchable:t,recommendable:!1}),S.track(new I.AppearInSearchEvent(t,this.props.route.params.origin)),t&&T.default.isUserPhoneVerified().then((e=>{if(e){const e=a.default.getEntries();o.each(e,((e,t)=>{e instanceof a.PhoneABCHEntry&&(e.VerifiedState!==a.VerificationState.Verified||e.Searchable||"Msa"!==e.Source||a.default.showPhoneNumberInSearch(e.Phone,e.Source).then(o.noop,(e=>{S.log(h.LogTraceArea.ManageSearchInfo,"Service error while trying to make phone number searchable. Error: "+D.default.errorAsString(e))})))}))}})))},this._onAddPhoneNumberPress=()=>{(0,P.startPhoneNumberVerificationFromManageSearchPanel)(this._getRootViewId())},this.getExplanationStyles=()=>[q.searchExplanationRow,q.explanationNoMargins],this._renderAppearInSearchResultsExplanation=()=>{const e=W.default.appendLanguageUrlParameter(l.default.getConfigSettingsNoSubscription().privacyUrl.splitSearchSuggestionsSettingsUrl);return this._renderSuggestionsAndSearchExplanationWithLearnMoreLink(e)},this._renderSuggestionsAndSearchExplanationWithLearnMoreLink=e=>{const t=!1,i=y.getString("AudioVideoSettings.LearnMore");let o;const a=(0,n.jsxs)(v.Link,Object.assign({url:e,onPress:this._onLearnMorePressedForSearch},{children:[" ",i]}),"suggestionsLearnMoreLink");return(0,n.jsxs)(s.View,{children:[(0,n.jsx)(s.View,Object.assign({style:this.getExplanationStyles()},{children:(0,n.jsx)(s.View,Object.assign({style:q.searchTextExplanationColumn,accessibilityLabel:o?o.label:void 0,accessibilityTraits:o?o.traits:void 0,importantForAccessibility:void 0,tabIndex:void 0,onPress:void 0,onKeyPress:void 0},{children:(0,n.jsx)(U.Caption,Object.assign({accessibilityHidden:!1},{children:y.getParts("ManageSearchInfoPanel.SearchResultsSecondaryExplanationSplitPolicySettings",{learnMoreLink:a})}))}))})),(0,n.jsx)(g.default,{})]})},this._onLearnMorePressedForSearch=()=>{const e=W.default.appendLanguageUrlParameter(l.default.getConfigSettingsNoSubscription().privacyUrl.splitSearchSuggestionsSettingsUrl);C.openUrlWithParams({origin:h.BrowserOrigin.SearchSuggestionsSettings,url:e,rootViewId:this._getRootViewId()})},this._onLearnMoreKeyPressed=(e,t)=>u.default.maybeHandleKeyPress(e,this._onLearnMorePressedForSearch),this._onLearnMorePressedForProfile=()=>{const e=W.default.appendLanguageUrlParameter(l.default.getConfigSettingsNoSubscription().privacyUrl.profileLearnMoreUrl);C.openUrlWithParams({origin:h.BrowserOrigin.PrivacyProfile,url:e,rootViewId:this._getRootViewId()})},this._onLearnMoreKeyPressedForProfile=e=>u.default.maybeHandleKeyPress(e,this._onLearnMorePressedForProfile)}_buildState(e,t){const i=a.default.getEntries(),n=b.default.getMsaIdFromSignIn(),o=l.default.getConfigSettings().msAccountContactInfoUrl.url,{searchable:s}=A.default.getIncludeMeInSearchPrivacyOption(t);return{entries:i,includeMeInSearchEnabled:s,isUserAMinor:K.default.isChild(),safeAreaHorizontalInsets:x.default.horizontalInsets(d.HorizontalInsetDefault),isFullScreenModal:w.default.isMobileScreenSize(this._getRootViewId()),microsoftAccountLink:n?o+"?username="+encodeURIComponent(n):o}}_getHeaderText(e){return y.getString("ManageSearchInfoPanel.PanelTitleContactsPrivacy")}render(){const e=[q.listItemContainer.row];N.default.hasHorizontalSafeAreas(this.state.safeAreaHorizontalInsets)&&e.push(N.default.horizontalPaddingStyle(this.state.safeAreaHorizontalInsets));const t=[this._getPhoneAndMailSection(),this._getSearchTogglesSection(),this._getProfileSection()],{primaryBackgroundColorStyle:i}=H.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(s.View,Object.assign({style:[q.panel,i]},{children:[this._getHeader(),this._getManageAccountBanner(),(0,n.jsx)(s.ScrollView,Object.assign({style:V.default.flexOne},{children:(0,n.jsx)(s.View,Object.assign({style:e},{children:t}))}))]}))}_getProfileSection(){return(0,n.jsxs)(s.View,{children:[this._getProfileHeader(),this._renderProfileVisibilityExplanation(),this._getProfileVisiblityButton()]},"profile")}_getPhoneAndMailSection(){return(0,n.jsxs)(s.View,{children:[this._getPhoneSection(),this._getEmailSection()]},"phoneMail")}_getPhoneSection(){const e=this._getPhoneNumbers();if(o.size(e)>0)return(0,n.jsxs)(s.View,{children:[this._getPhoneHeader(),e]},"phone")}_getEmailSection(){const e=this._getEmails();return 0===o.size(e)?void 0:(0,n.jsxs)(s.View,{children:[this._getMailHeader(),e]},"email")}_getManageAccountBanner(){let e;const t=y.getString("ManageSearchInfoPanel.MicrosoftAccountLinkTitle"),i=this._getMicrosoftAccountLink(t),o=H.isUsingAccessibleTheme(this._getContext(),this.props.route.params.colorThemeOverride)?q.bannerNoBackground:q.bannerBackground;const{headerShadowBorderColorStyle:a}=H.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsx)(s.View,{children:(0,n.jsx)(s.View,Object.assign({style:[q.manageAccountBanner,a,o],accessibilityLabel:null==e?void 0:e.label,accessibilityTraits:null==e?void 0:e.traits,importantForAccessibility:void 0,onPress:this._onLinkPress},{children:(0,n.jsx)(U.Caption,Object.assign({accessibilityHidden:!1,numberOfLines:3},{children:y.getParts("ManageSearchInfoPanel.PhoneNumberSectionEditLink",{microsoftAccountLink:i})}))}))})}_getMicrosoftAccountLink(e){return(0,n.jsx)(v.Link,Object.assign({url:this.state.microsoftAccountLink,textElement:U.Caption,correctiveMargin:-3},{children:e}),"microsoftAccountLink")}_getPhoneHeader(){return(0,n.jsxs)(s.View,Object.assign({style:V.default.flexOne},{children:[(0,n.jsx)(M.SectionTitle,{title:y.getString("ManageSearchInfoPanel.PhoneNumberSectionSubtitleCaps")}),(0,n.jsx)(U.Caption,Object.assign({numberOfLines:3},{children:y.getString("ManageSearchInfoPanel.PhoneNumberSectionExplanation")}))]}))}_getPhoneNumbers(){const e=[];return o.each(this.state.entries,(t=>{t instanceof a.PhoneABCHEntry&&e.push((0,n.jsxs)(s.View,{children:[(0,n.jsx)(X,{entry:t,canVerifyPhone:this.state.includeMeInSearchEnabled,isEditable:!0}),(0,n.jsx)(g.default,{})]},"phone"+t.Phone))})),e}_getAddPhoneNumber(){const{primaryIconColor:e}=H.themeColors(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(s.View,{children:[(0,n.jsxs)(s.Button,Object.assign({onPress:this._onAddPhoneNumberPress,style:q.entry.container,accessibilityLabel:y.getString("ManageSearchInfoPanel.AddMobileNumberLabel")},{children:[(0,n.jsx)(U.BodyText,Object.assign({bold:!0,accessibilityHidden:!0},{children:y.getString("ManageSearchInfoPanel.AddMobileNumberLabel")})),(0,n.jsx)(p.default,{icon:F.SkypeIcon.Plus,size:F.IconSize.size24,color:e,style:q.iconFont})]})),(0,n.jsx)(g.default,{})]})}_getEmails(){const e=[];return o.each(this.state.entries,(t=>{t instanceof a.EmailABCHEntry&&"Msa"!==t.Source&&e.push((0,n.jsxs)(s.View,{children:[(0,n.jsx)(J,{entry:t,isEditable:!1}),(0,n.jsx)(g.default,{})]},"email"+t.EmailAddress))})),e}_getMailHeader(){return(0,n.jsxs)(s.View,Object.assign({style:V.default.flexOne},{children:[(0,n.jsx)(M.SectionTitle,{title:y.getString("ManageSearchInfoPanel.EmailSectionSubtitleCaps")}),(0,n.jsx)(U.Caption,Object.assign({numberOfLines:3},{children:y.getString("ManageSearchInfoPanel.EmailSectionExplanation")}))]}))}_getSearchTogglesHeader(){return(0,n.jsx)(M.SectionTitle,{title:y.getString("ManageSearchInfoPanel.SearchResultsHeaderTitleCapsSplitPolicySettings")},"searchHeader")}_getProfileHeader(){return(0,n.jsx)(M.SectionTitle,{title:y.getString("ManageSearchInfoPanel.ProfileSectionHeaderCaps")},"profileHeader")}_getSearchTogglesSection(){return(0,n.jsxs)(s.View,{children:[this._getSearchTogglesHeader(),(0,n.jsxs)(s.View,{children:[this._getAppearInSearchResultsToggle(),this._renderAppearInSearchResultsExplanation()]})]},"toggles")}_renderProfileVisibilityExplanation(){let e;const t=y.getString("AudioVideoSettings.LearnMore"),i=(0,n.jsx)(v.Link,Object.assign({url:W.default.appendLanguageUrlParameter(l.default.getConfigSettingsNoSubscription().privacyUrl.profileLearnMoreUrl),onPress:this._onLearnMorePressedForProfile},{children:t}),"profileLearnMoreLink ");return(0,n.jsx)(s.View,{children:(0,n.jsx)(s.View,Object.assign({style:this.getExplanationStyles()},{children:(0,n.jsx)(s.View,Object.assign({style:q.searchTextExplanationColumn,accessibilityLabel:e?e.label:void 0,accessibilityTraits:e?e.traits:void 0,importantForAccessibility:void 0,tabIndex:void 0,onPress:void 0,onKeyPress:void 0},{children:(0,n.jsx)(U.Caption,Object.assign({accessibilityHidden:!1,numberOfLines:3},{children:y.getParts("ManageSearchInfoPanel.ProfileSectionExplanation",{learnMoreLink:i})}))}))}))})}_getProfileVisiblityButton(){return(0,n.jsx)(G.WideButton,{label:y.getString("ManageSearchInfoPanel.ProfileVisiblityButton"),labelStyle:L.default.titleMediumSemiLarge,onPressed:this._onPressProfileVisiblityButton},"profileVisibility")}_getHeader(){if(this.props.navigation)return null;const e={closeButtonType:this.props.route.params.isAloneInNavStack?O.CloseButtonType.Close:O.CloseButtonType.Back},t=y.getString("ManageSearchInfoPanel.PanelTitleContactsPrivacy");return(0,n.jsx)(O.SimplePanelHeader,{panelName:t,leftButton:e,allowTextWrap:!0})}_getAppearInSearchResultsToggle(){return(0,n.jsx)(r.default,Object.assign({style:q.includeInSearch.row,isOn:!this.state.isUserAMinor&&this.state.includeMeInSearchEnabled,accessibilityLabel:y.getString("UserSettingsPanel.IncludeMeInSearchAndSuggestions"),onChange:this._onChangeIncludeMeInSearch,showSpinner:o.isUndefined(this.state.includeMeInSearchEnabled),disable:this.state.isUserAMinor},{children:(0,n.jsx)(M.SwitchLabel,{title:y.getString("UserSettingsPanel.IncludeMeInSearchAndSuggestionsSplitPolicySettings"),subtitle:this.state.isUserAMinor?y.getString("UserSettingsPanel.DontIncludeMinorsInSearchAndSuggestions"):void 0})}),"includeMeInSearchAndSuggestions")}}t.default=$},715854:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(396265),s=i(516778),a=i(67930),r=i(898278),l=i(915877),c=i(29130),d=i(451070),u=i(190631),g=i(27177),h=i(680837),p=i(897634),S=(0,l.lazyProperties)({panel:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),listItem:()=>(0,l.lazyProperties)({itemDivider:()=>s.Styles.createViewStyle({height:1,marginRight:30,marginLeft:60}),itemDividerSmallScreen:()=>s.Styles.createViewStyle({marginRight:10}),rowItems:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch",flexDirection:"row",alignItems:"center"})})});class m extends a.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._onBackButtonRef=e=>{this._headerBackButtonRef=e||void 0},this._onHandleItemPress=(e,t,i)=>{this._onItemPress(e,i,t)},this._renderItem=e=>{const{dividerColorStyle:t}=p.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),i=[S.listItem.itemDivider,t];this.state.isMobileScreenSize&&i.push(S.listItem.itemDividerSmallScreen);const o=e.key;return(0,n.jsxs)(s.View,Object.assign({style:h.default.flexOne},{children:[(0,n.jsx)(s.View,Object.assign({style:S.listItem.rowItems},{children:(0,n.jsx)(g.default,{userMri:o,itemHeight:55,hideBlockedOverlay:!0,renderAsListItem:!0,customRightButtonControl:this._getRightControlButton(o),onItemPress:this._onHandleItemPress})})),(0,n.jsx)(s.View,{style:i},"itemDivider")]}),"mri"+o)}}_buildState(e,t){const i=this._getUsersMris(),n=[];i.forEach((e=>{n.push({key:e,height:56,template:"userListItem"})}));const o=this._getRootViewId();return{isMobileScreenSize:c.default.isMobileScreenSize(o),safeAreaHorizontalInsets:d.default.horizontalInsets(r.HorizontalInsetDefault),userItems:n}}render(){const e={closeButtonType:this.props.route.params.isAloneInNavStack?u.CloseButtonType.Close:u.CloseButtonType.Back,setButtonRef:this._onBackButtonRef},t=this._getHeaderText(this.state),i=this.props.navigation?void 0:(0,n.jsx)(u.SimplePanelHeader,{panelName:t,leftButton:e}),{primaryBackgroundColorStyle:a}=p.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(s.View,Object.assign({style:[S.panel,a]},{children:[i,(0,n.jsx)(o.VirtualListView,{itemList:this.state.userItems,renderItem:this._renderItem,animateChanges:!0,horizontalPadding:this.state.safeAreaHorizontalInsets,accessibilityLabel:t})]}))}_getRightControlButton(e){}}t.default=m},634887:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(67930),a=i(898278),r=i(915877),l=i(733754),c=i(414951),d=i(330124),u=i(190631),g=i(680837),h=i(897634),p=(0,r.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),containerDesktop:()=>o.Styles.createViewStyle({marginHorizontal:20}),containerMobile:()=>o.Styles.createViewStyle({marginHorizontal:10})});class S extends s.BaseNavigationViewPresentedInModal{static getHeaderText(){return l.getString("UserSettingsPanel.ManageContactsTitle")}constructor(e){super(e),this._leftButton={closeButtonType:u.CloseButtonType.Back}}_buildState(e,t){return{isUsingStackNavigationContext:d.default.isUsingStackNavigationContext()}}render(){const e=this.state.isUsingStackNavigationContext?p.containerMobile:p.containerDesktop,{primaryBackgroundColorStyle:t}=h.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),i=this.props.navigation?void 0:(0,n.jsx)(u.SimplePanelHeader,{panelName:l.getString("UserSettingsPanel.ManageContactsTitle"),delayHeaderFocus:this._getContext().isPresentedByMobileStackNavigator,leftButton:this._leftButton});return(0,n.jsxs)(o.View,Object.assign({style:[p.panel,t]},{children:[i,(0,n.jsx)(o.ScrollView,Object.assign({style:g.default.flexOne},{children:(0,n.jsx)(o.View,Object.assign({style:e},{children:(0,n.jsx)(c.default,{buttonStyles:this.state.isUsingStackNavigationContext?void 0:a.ListItem.small.shortHeightStyle})}))}))]}))}_getHeaderText(e){return S.getHeaderText()}}t.default=S},972660:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(996074),a=i(898278),r=i(915877),l=i(733754),c=i(451070),d=i(834170),u=i(190631),g=i(316392),h=i(680837),p=(0,r.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>o.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible"})});class S extends s.BaseNavigationView{_buildState(e,t){return{safeAreaHorizontalPaddingStyle:c.default.horizontalPaddingStyle(a.HorizontalInsetZero)}}UNSAFE_componentWillUpdate(e,t,i){super.UNSAFE_componentWillUpdate(e,t,i)}render(){const e=[p.settingsBlockContainer];this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=(0,n.jsx)(o.ScrollView,Object.assign({style:h.default.flexOne},{children:(0,n.jsx)(o.View,Object.assign({style:e},{children:(0,n.jsx)(d.default,{})}))}));if(this.props.navigation)return t;const i={closeButtonType:this.props.route.params.navigationDirection===g.StackNavigationDirection.Present?u.CloseButtonType.Close:u.CloseButtonType.Back};return(0,n.jsxs)(o.View,Object.assign({style:[p.panel,this._getContext().themeStyles.primaryBackgroundColorStyle]},{children:[(0,n.jsx)(u.SimplePanelHeader,{panelName:l.getString("UserSettingsPanel.SettingsTitle"),leftButton:i,delayHeaderFocus:this._getContext().isPresentedByMobileStackNavigator}),t]}))}}t.default=S},351464:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(583367),s=i(516778),a=i(413565),r=i(795691),l=i(526424),c=i(538185),d=i(475793),u=i(545200),g=i(388273),h=i(172758),p=i(915877),S=i(996074),m=i(190631),C=i(677524),y=i(285683),f=i(680837),b=i(18078),_=i(24148),v=i(49140),T=i(217093),P=i(681115),k=i(889391),A=i(104735),I=i(29130),w=i(451070),x=i(536150),N=i(436237),M=i(733754),L=i(898278),O=i(746096),D=i(581760),R=i(711828),E=i(478262),B=i(150296),F=(i(760860),(0,p.lazyProperties)({panel:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),container:()=>s.Styles.createScrollViewStyle({marginTop:10,marginHorizontal:10}),sectionHeader:()=>s.Styles.createTextStyle({paddingTop:30,paddingBottom:10})}));class V extends S.BaseNavigationView{constructor(){super(...arguments),this._onScrollViewRef=e=>{this._scrollView=e||void 0},this._onUserCardRef=e=>{this._userCardRef=e||void 0},this._onScroll=(e,t)=>{const i=e>100;this.state.showHeader!==i&&this.setState({showHeader:i})},this._navigateToGroup=e=>{A.default.navigateToSettingsGroup(e,this._getRootViewId())},this._onHelpAndFeedbackButtonPressed=()=>{N.track(new _.NavigationHelpAndFeedback(r.NavigationSettingsItem.HelpAndFeedback,r.NavigationSettingsOrigin.MySettingsPanel)),A.default.navigateToSettingsGroup(T.SettingsGroup.HelpAndFeedback,this._getRootViewId())},this._goToPrivacy=()=>{A.default.navigateToManageSearchInfoPanel(v.ManageSearchOrigin.ApplicationSettings,this._getRootViewId())},this._debugSettingsPress=()=>{this._navigateToGroup(T.SettingsGroup.Debug)}}_buildState(e,t){const i=h.default.getFullUserProfileByMri(b.default.getSkypeMri()),n=this._getRootViewId(),a=s.StatusBar.isOverlay()&&this._getContext().isPresentedByMobileStackNavigator&&I.default.getDeviceOrientation(n)===o.DeviceOrientation.Portrait,r={displayName:i.getDisplayName(),showScreenReaderHeader:x.default.isMobileScreenReaderEnabled(),gender:i&&i.gender||E.eGender.Unspecified,safeAreaHorizontalInsets:this._getContext().isPresentedInDesktopSubview?L.HorizontalInsetZero:w.default.horizontalInsets(L.HorizontalInsetDefault),leavePaddingForStatusBar:a,hugeEmoticonsFeatureEnabled:k.default.getS4LMessagingFeatures().singleEmoticonSize>=l.EmoticonSize.ExtraLarge,myUserStatus:g.default.getStatus(),statusBarHeight:a?w.default.statusBarHeight():0,enableRefreshedPalette:k.default.getS4LUiFeatures().enableRefreshedPalette,enableMsaPhoneNumber:V.showMSAPhoneNumberOnOther()};return t&&(r.showHeader=!1),r}componentDidMount(){super.componentDidMount(),this._userCardRef&&this._userCardRef.requestFocus(),k.default.getS4LCommerceFeatures().offerStore.prefetch&&a.default.requestUpdate()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.statusBarHeight!==t.statusBarHeight&&!this.state.showHeader&&this._scrollView&&this._scrollView.setScrollTop(0)}render(){let{headerIconColor:e,iconHoverColor:t,iconPrimary:i}=this._getContext().themeColors;this.state.enableRefreshedPalette&&(e=i,t=i);const o=F.sectionHeader,a=this._isHeaderOpaqueStyle(),r=a?e:D.Color.white,l=a?t:D.Color.whiteOverlay80,c={closeButtonType:this.props.route.params.useCloseIcon?m.CloseButtonType.Close:m.CloseButtonType.Back,color:r,hoverColor:l},g=M.getString("UserSettingsPanel.MyProfileTitle"),h=(0,n.jsx)(m.SimplePanelHeader,{floating:!this.state.showScreenReaderHeader,panelName:a?g:void 0,useTransparentBackground:!a,hideBottomBorder:!a,leftButton:c,leavePaddingForStatusBar:this.state.leavePaddingForStatusBar,ignorePointerEvents:!a}),p=[f.default.flexOne,P.default.horizontalPaddingStyle(this.state.safeAreaHorizontalInsets)],S=[];return this.state.statusBarHeight&&!this.state.showScreenReaderHeader&&(p.push(P.default.marginTopStyle(this.state.statusBarHeight),f.default.overflowVisible),S.push(P.default.marginTopStyle(-1*this.state.statusBarHeight))),P.default.hasHorizontalSafeAreas(this.state.safeAreaHorizontalInsets)&&S.push(s.Styles.createViewStyle({marginLeft:-1*this.state.safeAreaHorizontalInsets.left,marginRight:-1*this.state.safeAreaHorizontalInsets.right},!1)),(0,n.jsxs)(s.View,Object.assign({style:[F.panel,this._getContext().themeStyles.primaryBackgroundColorStyle]},{children:[h,(0,n.jsxs)(s.ScrollView,Object.assign({ref:this._onScrollViewRef,style:p,onScroll:this._onScroll,scrollEventThrottle:32,keyboardShouldPersistTaps:!0},{children:[(0,n.jsx)(s.View,Object.assign({style:S},{children:(0,n.jsx)(d.default,{ref:this._onUserCardRef,allowEditAvatar:!0,allowOpenAvatarInMediaViewer:!1,replaceHeader:!0,userMri:b.default.getSkypeMri()})})),(0,n.jsxs)(s.View,Object.assign({style:F.container},{children:[this._renderShareProfileOption(),this._getSectionTitle(M.getString("UserSettingsPanel.MyProfileTitleUpper"),"profile",o),(0,n.jsx)(u.default,{userMri:b.default.getSkypeMri()}),this._getHelpAndAbout()]}))]}))]}))}_getHelpAndAbout(){return(0,n.jsxs)(s.View,{children:[this._getSectionTitle(M.getString("UserSettingsPanel.OtherUpperTitle"),"other",F.sectionHeader),this._getDebugSettings(),!!this.state.enableMsaPhoneNumber&&(0,n.jsx)(B.default,{}),(0,n.jsx)(C.WideButton,{icon:R.SkypeIcon.ContactGroup,label:M.getString("MyUserInfo.ManagePrivacyTitle"),onPressed:this._goToPrivacy}),(0,n.jsx)(C.WideButton,{icon:R.SkypeIcon.Info,label:M.getString("UserSettingsPanel.HelpAndAboutTitle"),onPressed:this._onHelpAndFeedbackButtonPressed})]})}_getSectionTitle(e,t,i){return(0,n.jsx)(y.SectionTitle,{title:e,titleStyles:i},t)}_renderShareProfileOption(){return(0,n.jsx)(c.default,{origin:O.ContactInviteOrigin.ShareProfile,desktop:!1})}_getDebugSettings(){}_isHeaderOpaqueStyle(){return this.state.showScreenReaderHeader||this.state.showHeader}static showMSAPhoneNumberOnOther(){return!1}}t.default=V},234898:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(75672),a=i(67930),r=i(952262),l=i(587134),c=i(746096),d=i(915877),u=i(733754),g=i(18078),h=i(169156),p=i(328377),S=i(954976),m=i(285683),C=i(190631),y=i(311010),f=i(680837),b=i(619675),_=i(567977),v=i(897634),T=(0,d.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),content:()=>o.Styles.createViewStyle({flex:1,paddingHorizontal:20}),contentSection:()=>o.Styles.createViewStyle({paddingVertical:10}),visibilityTitle:()=>o.Styles.createViewStyle({paddingBottom:15}),visibilitySubtitle:()=>o.Styles.createViewStyle({paddingBottom:10}),avatarContainer:()=>o.Styles.createViewStyle({alignItems:"center",alignSelf:"center",padding:10}),radioButton:()=>o.Styles.createTextStyle({paddingVertical:10})});class P extends a.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._changeProfilePictureVisibility=e=>{e!==this.state.avatarPolicy&&p.default.setAvatarPolicy(e,c.AvatarPolicyChangeOrigin.ProfilePicturePanel)}}static getHeaderText(){return u.getString("UserSettingsPanel.ProfilePictureTitle")}_buildState(e,t){return{avatarPolicy:p.default.getAvatarPolicy(t),hasPhoto:!!r.default.getDisplayableProfile(g.default.getSkypeMri()).getAvatarUrl()}}render(){const e=this.state.hasPhoto?u.getString("UserSettingsPanel.ProfilePictureCaptionWithPhoto"):u.getString("UserSettingsPanel.ProfilePictureCaptionNoPhoto"),t=(0,n.jsxs)(o.View,Object.assign({style:T.contentSection},{children:[(0,n.jsx)(o.View,{children:(0,n.jsx)(m.SectionTitle,{title:e,titleStyles:f.default.flexOne,numberOfLines:2})}),(0,n.jsx)(s.default,{mri:g.default.getSkypeMri(),iconSize:_.UserIconSize.Size160,style:T.avatarContainer,accessibilityLabel:u.getString("MyProfilePanel.SelectAvatarAccessibilityLabel"),origin:c.AvatarPickerOrigin.ProfilePicturePanel,showUploadPictureButton:!0,showAltViewAsMediaIcon:!0})]})),i=[{key:h.OptionsServiceAvatarPolicyValueType.EVERYONE_CAN_SEE,text:u.getString("UserSettingsPanel.ProfilePicturePublicLabel"),secondaryText:u.getString("UserSettingsPanel.ProfilePicturePublicDescription"),disabled:!this.state.hasPhoto},{key:h.OptionsServiceAvatarPolicyValueType.BUDDIES_OR_AUTHORIZED_CAN_SEE,text:u.getString("UserSettingsPanel.ProfilePictureContactsOnlyLabel"),secondaryText:u.getString("UserSettingsPanel.ProfilePictureContactsOnlyDescription"),disabled:!this.state.hasPhoto}],a=v.currentTheme(this._getContext(),this.props.route.params.colorThemeOverride),{disabledTextColorStyle:r,primaryBackgroundColorStyle:d}=v.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),p=[y.default.bodyFontStyle(a)],P=[y.default.captionFontStyle(a)];this.state.hasPhoto||(p.push(r),P.push(r));const k=(0,n.jsxs)(o.View,Object.assign({style:[T.contentSection]},{children:[(0,n.jsx)(m.SectionTitle,{title:u.getString("UserSettingsPanel.ProfilePictureVisibilitySubtitle"),titleStyles:T.visibilitySubtitle,numberOfLines:2}),(0,n.jsx)(S.default,{radioButtons:i,selectedKey:this.state.hasPhoto?this.state.avatarPolicy:void 0,rowStyle:T.radioButton,textStyle:p,secondaryTextStyle:P,dividerType:S.DividerType.None,onSelected:this._changeProfilePictureVisibility})]})),A=this.props.navigation?void 0:(0,n.jsx)(C.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:{closeButtonType:C.CloseButtonType.Back}});return(0,n.jsxs)(o.View,Object.assign({style:[T.panel,d]},{children:[A,(0,n.jsx)(o.ScrollView,Object.assign({style:f.default.flexOne},{children:(0,n.jsxs)(o.View,Object.assign({style:T.content},{children:[t,(0,n.jsx)(b.BodyText,Object.assign({style:T.visibilityTitle},{children:u.getString("UserSettingsPanel.ProfilePictureVisibilityTitle")})),(0,n.jsx)(l.default,{}),k]}))}))]}))}_getHeaderText(e){return P.getHeaderText()}}t.default=P},10250:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(217267),s=i(219784),a=i(861253),r=i(733754),l=i(178735);class c extends o.default{constructor(){super(...arguments),this._allowReset=!1,this._includeNumbers=!0}_getPanelName(){return"Raw app preferences"}_getSubscribedState(){const e=l.default.getUserPreferencesLocal(),t=l.default.internal_getUserPreferencesLocalDefaults();return{preferences:e,overrides:this._calculateOverrides(e,t)}}_calculateOverrides(e,t){const i={};return n.each(e,((e,o)=>{if(void 0===t[o])void 0!==e&&(i[o]=e);else if(n.isObject(e)){const s=this._calculateOverrides(e,t[o]);n.isEmpty(s)||(i[o]=s)}else(0,a.default)(e,t[o])||(i[o]=e)})),{MyUserPreferencesLocalStore:i}}_generateConfigItems(e){const t=[];n.each(e.preferences,((i,n)=>{this._generateListOfItemsRecursive(t,"MyUserPreferencesLocalStore",[n],i,e.overrides)}));const i=n.sortBy(t,"featureName");return i.unshift(this._createHeaderItem("MyUserPreferencesLocalStore")),i}_generateOverrideItems(e){const t=[];return n.each(e.overrides,((e,i)=>{t.push(this._createHeaderItem(i)),n.each(e,((e,n)=>{this._generateListOfItemsRecursive(t,i,[n],e)}))})),t}_onResetAll(){const e=[{text:r.getString("Global.CancelLabel"),isCancel:!0},{text:r.getString("Global.DeleteLabel"),onPress:()=>{l.default.reset()},style:"destructive",isSubmit:!0}],t="Are you sure you want to reset all local preferences?";s.default.showWithOptions({title:"Reset all preferences",dialogAccessibilityTitle:t,message:t,buttons:e,rootViewId:this._getRootViewId()})}_onListItemClickBuilder(e,t,i){return()=>{const e={};n.set(e,t,i),l.default.setUserPreferencesLocal(e)}}_onResetPressBuilder(e,t){return e=>{e.stopPropagation()}}}t.default=c},946999:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(67930),a=i(898278),r=i(548642),l=i(915877),c=i(875913),d=i(733754),u=i(190631),g=i(22222),h=i(581760),p=i(311010),S=i(619675),m=i(897634),C=i(115340),y=20,f=(0,l.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),scrollContainer:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch",marginLeft:y,marginRight:y}),textHeader:()=>o.Styles.createTextStyle({paddingTop:y,paddingBottom:y}),textInputContainer:()=>o.Styles.createViewStyle({borderRadius:10,marginTop:10}),textInput:()=>o.Styles.createTextInputStyle({padding:6,borderRadius:10,font:p.default.font.uiDisplayRegular,fontSize:p.default.controlFontSize.body,wordBreak:"break-word",backgroundColor:h.Color.transparent,height:180,textAlignVertical:"top"}),buttonContainer:()=>o.Styles.createViewStyle({alignItems:"stretch",marginTop:y}),linksContainer:()=>o.Styles.createViewStyle({flex:1,alignItems:"flex-end",justifyContent:"center",flexDirection:"row",marginBottom:y,marginTop:50}),linkDivider:()=>o.Styles.createTextStyle({marginLeft:8,marginRight:8})});class b extends s.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._openTerms=()=>{c.default.openTerms()},this._openPrivacy=()=>{c.default.openPrivacy()},this._onChangeText=e=>{this.setState({userInput:e})},this._onSendButtonPressed=()=>{r.default.handleSubmitFeedbackIntent(void 0,!0,!1,this._getRootViewId(),this.state.userInput)}}static getHeaderText(){return d.getString("SendDiagnosticLogsDialog.SendDiagnosticLogs")}_buildState(e,t){const i={};return t&&(i.userInput=""),i}render(){const e=this.props.navigation?void 0:(0,n.jsx)(u.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:{closeButtonType:u.CloseButtonType.Back}}),{primaryBackgroundColorStyle:t,rowHighlightViewStyle:i,primaryTextColorStyle:s}=m.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride),{secondaryTextColor:r}=m.themeColors(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(C.KeyboardAvoidingView,Object.assign({style:[f.panel,t]},{children:[e,(0,n.jsx)(o.ScrollView,{children:(0,n.jsxs)(o.View,Object.assign({style:f.scrollContainer},{children:[(0,n.jsx)(S.Header,Object.assign({size:4,style:f.textHeader},{children:d.getString("SendDiagnosticLogsDialog.TextTitle")})),(0,n.jsx)(S.BodyText,{children:d.getString("SendDiagnosticLogsDialog.TextBody")}),(0,n.jsx)(o.View,Object.assign({style:[f.textInputContainer,i]},{children:(0,n.jsx)(o.TextInput,{style:[f.textInput,s],value:this.state.userInput,onChangeText:this._onChangeText,autoCorrect:!0,multiline:!0,autoCapitalize:"sentences",placeholder:d.getString("SendDiagnosticLogsDialog.TextInputPlaceholder"),placeholderTextColor:r,maxLength:1e3,clearButtonMode:"never"})})),(0,n.jsx)(o.View,Object.assign({style:f.buttonContainer},{children:(0,n.jsx)(g.default,{buttonStyle:a.SXButtonStyle.ThemeFill,onPress:this._onSendButtonPressed,title:d.getString("SendDiagnosticLogsDialog.SendDiagnosticLogs"),disabled:0===this.state.userInput.length,allowTextWrap:!0})})),(0,n.jsxs)(o.View,Object.assign({style:f.linksContainer},{children:[(0,n.jsx)(o.Button,Object.assign({onPress:this._openTerms},{children:(0,n.jsx)(S.Subtitle,{children:d.getString("ReportAProblemDialog.TermsOfUseButton")})})),(0,n.jsx)(S.Subtitle,Object.assign({style:f.linkDivider},{children:"|"})),(0,n.jsx)(o.Button,Object.assign({onPress:this._openPrivacy},{children:(0,n.jsx)(S.Subtitle,{children:d.getString("ReportAProblemDialog.PrivacyAndCookiePolicyButton")})}))]}))]}))})]}))}_getHeaderText(e){return b.getHeaderText()}}t.default=b},663201:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsGroupPanel=void 0;const n=i(785893),o=i(516778),s=i(667294),a=i(384122),r=i(319436),l=i(775352),c=i(872514),d=i(373175),u=i(296623),g=i(72822),h=i(670635),p=i(254365),S=i(234452),m=i(712150),C=i(733754),y=i(932090),f=i(217093),b=i(920941),_=i(906476),v=i(818956),T=i(190631),P=i(316392),k=i(915877),A=i(258187),I=(0,k.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"})});function w(e){let t;switch(e){case f.SettingsGroup.Notifications:t=C.getString("UserSettingsPanel.NotificationsTitle");break;case f.SettingsGroup.Contacts:t=C.getString("UserSettingsPanel.ContactsTitle");break;case f.SettingsGroup.Privacy:t=C.getString("UserSettingsPanel.PrivacyHeader");break;case f.SettingsGroup.Chat:t=C.getString("UserSettingsPanel.MessagingAndChatsTitle");break;case f.SettingsGroup.HelpAndFeedback:t=C.getString("MyProfilePanel.HelpAndFeedbackButtonTitle");break;case f.SettingsGroup.MyAccountAndProfile:case f.SettingsGroup.AccountAndProfile:t=C.getString("UserSettingsPanel.MyAccountAndProfileTitle");break;case f.SettingsGroup.AudioVideoSettings:t=C.getString("UserSettingsPanel.AudioVideoSettingsTitle");break;case f.SettingsGroup.General:t=C.getString("UserSettingsPanel.GeneralTitle");break;case f.SettingsGroup.Debug:t="[Debug]";break;case f.SettingsGroup.HotKeys:t=C.getString("KeyboardShortcuts.Title2");break;case f.SettingsGroup.ReportProblem:t=C.getString("FeedbackMechanism.ReportAProblemDialogTitle");break;case f.SettingsGroup.ThemeSettings:t=C.getString("UserSettingsPanel.AppearanceButton")}return t}function x(e){let t,i;switch((0,s.useEffect)((()=>{var t;null===(t=e.navigation)||void 0===t||t.setOptions({title:w(e.route.params.group)})}),[e.route.params.group,e.navigation]),e.route.params.group){case f.SettingsGroup.Notifications:t=C.getString("UserSettingsPanel.NotificationsTitle"),i=(0,n.jsx)(b.default,{});break;case f.SettingsGroup.Contacts:t=C.getString("UserSettingsPanel.ContactsTitle"),i=(0,n.jsx)(d.default,{});break;case f.SettingsGroup.Privacy:t=C.getString("UserSettingsPanel.PrivacyHeader"),i=(0,n.jsx)(_.default,{});break;case f.SettingsGroup.Chat:t=C.getString("UserSettingsPanel.MessagingAndChatsTitle"),i=(0,n.jsx)(c.default,{});break;case f.SettingsGroup.HelpAndFeedback:t=C.getString("MyProfilePanel.HelpAndFeedbackButtonTitle"),i=(0,n.jsx)(S.default,{});break;case f.SettingsGroup.MyAccountAndProfile:t=C.getString("UserSettingsPanel.MyAccountAndProfileTitle"),i=(0,n.jsx)(y.default,{});break;case f.SettingsGroup.AccountAndProfile:t=C.getString("UserSettingsPanel.MyAccountAndProfileTitle"),i=(0,n.jsx)(a.default,{});break;case f.SettingsGroup.AudioVideoSettings:t=C.getString("UserSettingsPanel.AudioVideoSettingsTitle"),i=(0,n.jsx)(r.default,{settingsMode:l.SettingsMode.All});break;case f.SettingsGroup.General:t=C.getString("UserSettingsPanel.GeneralTitle"),i=(0,n.jsx)(p.default,{});break;case f.SettingsGroup.Debug:t="[Debug]",i=(0,n.jsx)(u.default,{});break;case f.SettingsGroup.HotKeys:t=C.getString("KeyboardShortcuts.Title2"),i=(0,n.jsx)(m.default,{});break;case f.SettingsGroup.ReportProblem:t=C.getString("FeedbackMechanism.ReportAProblemDialogTitle"),i=(0,n.jsx)(h.default,{});break;case f.SettingsGroup.ThemeSettings:t=C.getString("UserSettingsPanel.AppearanceButton"),i=(0,n.jsx)(v.default,{origin:g.DialogNavOrigin.Settings})}const k={closeButtonType:e.route.params.navigationDirection===P.StackNavigationDirection.Present?T.CloseButtonType.Close:T.CloseButtonType.Back},{themeStyles:x}=(0,A.useCommonContext)(),N=(0,A.useCommonContext)(),M=e.navigation?void 0:(0,n.jsx)(T.SimplePanelHeader,{panelName:t,leftButton:k,delayHeaderFocus:N.isPresentedByMobileStackNavigator});return(0,n.jsxs)(o.View,Object.assign({style:[I.panel,x.primaryBackgroundColorStyle]},{children:[M,i]}))}t.SettingsGroupPanel=x,t.default=x},67164:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(397691),a=i(787720),r=i(67930),l=i(994224),c=i(598925),d=i(898278),u=i(915877),g=i(832182),h=i(451070),p=i(190631),S=i(711828),m=i(680837),C=i(897634),y=(0,u.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>o.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible",flexGrow:1}),settingsBlockContainerDesktop:()=>o.Styles.createViewStyle({paddingHorizontal:20}),toggle:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:6})}),f=[{label:"Production",value:c.ConversationServiceUrlType.Prod},{label:"Dev",value:c.ConversationServiceUrlType.Dev}],b=[{label:"Production",value:c.UdpTransportUrlType.Prod},{label:"Dev",value:c.UdpTransportUrlType.Dev}],_=[{label:"Production",value:c.KeyDistributionUrlType.Prod},{label:"Dev",value:c.KeyDistributionUrlType.Dev}],v=[{label:"4",value:"4"},{label:"10",value:"10"},{label:"12",value:"12"},{label:"51",value:"51"}];class T extends r.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._onHeaderResetButtonClick=e=>{this._updateSlimcoreProperty(c.SlimcoreSetupKeys.ConversationServiceUrl,e?c.ConversationServiceUrlType.Prod:c.ConversationServiceUrlType.Dev,!1),this._updateSlimcoreProperty(c.SlimcoreSetupKeys.UdpTransportUrl,e?c.UdpTransportUrlType.Prod:c.UdpTransportUrlType.Dev,!1),this._updateSlimcoreProperty(c.SlimcoreSetupKeys.KeyDistributionUrl,e?c.KeyDistributionUrlType.Prod:c.KeyDistributionUrlType.Dev,!1),this._updateSlimcoreProperty(c.SlimcoreSetupKeys.EnableUdpCanary,e,!1),this._updateSlimcoreProperty(c.SlimcoreSetupKeys.UdpEnabled,e,!1),this.forceUpdate()},this._updateSlimcoreProperty=(e,t,i=!0)=>{const n="boolean"==typeof t?t?"1":"0":t;l.default.CallingStore.setupKey(e,n),i&&this.forceUpdate()}}_buildState(e,t){return{safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:h.default.horizontalPaddingStyle(d.HorizontalInsetZero)}}componentDidMount(){super.componentDidMount(),this._updateState()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this._updateState()}_updateState(){const e=[l.default.CallingStore.getIntKey(c.SlimcoreSetupKeys.UdpEnabled),l.default.CallingStore.getIntKey(c.SlimcoreSetupKeys.MaxNrOfVideosVisibleInUI),l.default.CallingStore.getIntKey(c.SlimcoreSetupKeys.EnableDnsCache),l.default.CallingStore.getIntKey(c.SlimcoreSetupKeys.AdditionalVideoLinesForGroupCalls),l.default.CallingStore.getIntKey(c.SlimcoreSetupKeys.EnableEncryptedHttp),l.default.CallingStore.getIntKey(c.SlimcoreSetupKeys.EnableEncryptedHttpForBroker),l.default.CallingStore.getIntKey(c.SlimcoreSetupKeys.EnableUdpCanary),l.default.CallingStore.getIntKey(c.SlimcoreSetupKeys.AutoJoinOnConflict),l.default.CallingStore.getIntKey(c.SlimcoreSetupKeys.EnableEcoMode)];s.all(e).then((e=>{const[t,i,n,o,s,a,r,l,c]=e;this.setState({udpEnabled:1===t,maxNrOfVideosVisibleInUI:i,enableDnsCache:1===n,additionalVideoLinesForGroupCalls:1===o,enableEncryptedHttp:1===s,enableEncryptedHttpForBroker:1===a,enableUdpCanary:1===r,autoJoinOnConflict:1===l,enableEcoMode:1===c})}));const t=[l.default.CallingStore.getKey(c.SlimcoreSetupKeys.ConversationServiceUrl),l.default.CallingStore.getKey(c.SlimcoreSetupKeys.UdpTransportUrl),l.default.CallingStore.getKey(c.SlimcoreSetupKeys.KeyDistributionUrl)];s.all(t).then((e=>{const[t,i,n]=e;this.setState({conversationServiceUrl:t,udpTransportUrl:i,keyDistributionUrl:n})}))}render(){const e=[y.settingsBlockContainer];this._getContext().isPresentedInGenericDesktopModal&&e.push(y.settingsBlockContainerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?p.CloseButtonType.Close:p.CloseButtonType.Back},i=[{onPress:()=>this._onHeaderResetButtonClick(!1),icon:S.SkypeIcon.Bot,title:"Reset to Dev"},{onPress:()=>this._onHeaderResetButtonClick(!0),icon:S.SkypeIcon.TV,title:"Reset to Prod"}],s=(0,n.jsx)(p.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t,rightButtons:i}),{primaryBackgroundColorStyle:a}=C.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(o.View,Object.assign({style:[y.panel,a]},{children:[s,(0,n.jsx)(o.ScrollView,Object.assign({style:m.default.flexOne},{children:(0,n.jsxs)(o.View,Object.assign({style:e},{children:[this._renderListPicker(c.SlimcoreSetupKeys.ConversationServiceUrl,f),this._renderListPicker(c.SlimcoreSetupKeys.UdpTransportUrl,b),this._renderListPicker(c.SlimcoreSetupKeys.KeyDistributionUrl,_),this._renderListPicker(c.SlimcoreSetupKeys.MaxNrOfVideosVisibleInUI,v),this._renderToggle(c.SlimcoreSetupKeys.UdpEnabled,this.state.udpEnabled),this._renderToggle(c.SlimcoreSetupKeys.EnableEcoMode,this.state.enableEcoMode),this._renderToggle(c.SlimcoreSetupKeys.EnableDnsCache,this.state.enableDnsCache),this._renderToggle(c.SlimcoreSetupKeys.AdditionalVideoLinesForGroupCalls,this.state.additionalVideoLinesForGroupCalls),this._renderToggle(c.SlimcoreSetupKeys.EnableEncryptedHttp,this.state.enableEncryptedHttp),this._renderToggle(c.SlimcoreSetupKeys.EnableEncryptedHttpForBroker,this.state.enableEncryptedHttpForBroker),this._renderToggle(c.SlimcoreSetupKeys.EnableUdpCanary,this.state.enableUdpCanary),this._renderToggle(c.SlimcoreSetupKeys.AutoJoinOnConflict,this.state.autoJoinOnConflict)]}))}))]}))}_renderToggle(e,t){return(0,n.jsx)(a.default,Object.assign({id:e,style:y.toggle,isOn:t,accessibilityLabel:e,onChange:(t,i)=>this._updateSlimcoreProperty(e,i)},{children:(0,n.jsx)(o.Text,{children:this._getTitle(e)})}))}_renderListPicker(e,t){return(0,n.jsx)(g.default,{id:e,items:t,rowTitle:this._getTitle(e),isItemSelected:t=>this._isItemSelected(e,t),onHandleItemSelection:t=>this._updateSlimcoreProperty(e,t),selectedItemLabel:this._getSelectedItemLabel(e)})}_isItemSelected(e,t){switch(e){case c.SlimcoreSetupKeys.ConversationServiceUrl:return t===this.state.conversationServiceUrl;case c.SlimcoreSetupKeys.UdpTransportUrl:return t===this.state.udpTransportUrl;case c.SlimcoreSetupKeys.KeyDistributionUrl:return t===this.state.keyDistributionUrl;case c.SlimcoreSetupKeys.MaxNrOfVideosVisibleInUI:return t===this.state.maxNrOfVideosVisibleInUI;default:return!1}}_getSelectedItemLabel(e){switch(e){case c.SlimcoreSetupKeys.ConversationServiceUrl:return this.state.conversationServiceUrl===c.ConversationServiceUrlType.Dev?"Dev":"Production";case c.SlimcoreSetupKeys.UdpTransportUrl:return this.state.udpTransportUrl===c.UdpTransportUrlType.Dev?"Dev":"Production";case c.SlimcoreSetupKeys.KeyDistributionUrl:return this.state.keyDistributionUrl===c.KeyDistributionUrlType.Dev?"Dev":"Production";case c.SlimcoreSetupKeys.MaxNrOfVideosVisibleInUI:return this.state.maxNrOfVideosVisibleInUI+" participants";default:return""}}_getTitle(e){return Object.getOwnPropertyNames(c.SlimcoreSetupKeys).find((t=>c.SlimcoreSetupKeys[t]===e))}_getHeaderText(e){return"Manage Slimcore Flags"}}t.default=T},398155:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConsentPanel=void 0;const n=i(785893),o=i(516778),s=i(889391),a=i(67930),r=i(746096),l=i(436237),c=i(733754),d=i(330124),u=i(190631),g=i(55585),h=i(680837),p=i(404775),S=i(853374),m=i(492798),C=i(897634);class y extends a.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._onCloseButtonPress=e=>{e&&e.stopPropagation();const t=S.default.newCauseId();l.log(r.LogTraceArea.Navigation,"SpeechConsent panel close, causeId: "+t),this._goBack(t)},this._onContribute=()=>{g.default.setSpeechConsentValue(!0),this.setState({showReceipt:!0})},this._onDoNotContribute=()=>{g.default.setSpeechConsentValue(!1),this._onCloseButtonPress()}}_buildState(e,t){const i={isUsingStackNavigationContext:d.default.isUsingStackNavigationContext(),privacyStatementUrl:s.default.getConfigSettings().translator.privacyStatementUrl};return t&&(i.showReceipt=!1),i}_getHeaderText(e){return c.getString("SpeechConsentPanel.PanelTitle")}_getCloseButtonTitle(){return c.getString("Global.CloseButtonTitle")}render(){const{headerIconColor:e,iconHoverColor:t}=C.themeColors(this._getContext(),this.props.route.params.colorThemeOverride),i=this._getCloseButtonTitle(),s=this.state.isUsingStackNavigationContext?{closeButtonType:u.CloseButtonType.Close,color:e,title:i}:{closeButtonType:this.props.route.params.isAloneInNavStack?u.CloseButtonType.Close:u.CloseButtonType.Back,color:e,hoverColor:t,onPress:this._onCloseButtonPress,title:this.props.route.params.isAloneInNavStack?i:c.getString("Global.BackButtonTitle")},a=this.props.navigation?void 0:(0,n.jsx)(u.SimplePanelHeader,{useTransparentBackground:!0,hideBottomBorder:!0,leftButton:s});let r;r=this.state.showReceipt?(0,n.jsx)(p.default,{onDone:this._onCloseButtonPress}):(0,n.jsx)(m.default,{onContribute:this._onContribute,onDoNotContribute:this._onDoNotContribute});const{primaryBackgroundColorStyle:l}=C.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(o.View,Object.assign({style:[h.default.flexOne,l]},{children:[a,r]}))}}t.SpeechConsentPanel=y,t.default=y},716079:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(583367),s=i(889391),a=i(67930),r=i(458666),l=i(733754),c=i(281232),d=i(46929),u=i(853374),g=i(436237),h=i(746096),p=i(886045),S=i(330124),m=i(29130),C=i(451070),y=i(805581);class f extends a.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._setSpokenLanguage=e=>{let t=l.getString(e);if(this.props.route.params.action){const t=u.default.newCauseId();this.props.route.params.action(this.props.route.params.isLocal,e,t)}else e&&"reset-language-option"!==e?d.default.setCallTranslatorBotSpokenLanguageLocale(e):(r.resetLocaleToSystem(),t=l.getResetLanguageOptionString());p.default.maybeAnnounceForAccessibility(l.getString("SettingsLanguages.LanguageSelectedAnnouncement",{newLanguage:t}),1e3)},this._goBackUtil=()=>{const e=u.default.newCauseId();g.log(h.LogTraceArea.Navigation,"SpokenLanguagePickerPanel._goBackUtil,  causeId: "+e),this._goBack(e)},this._getHeaderText=()=>f.getHeaderText()}static getHeaderText(){return l.getString("LanguageAndTranslationSettingsPanel.SpokenLanguage")}_buildState(e,t){const i=s.default.getS4LCMCFeatures().callTranslatorBotConfig.languageSupport.speech||[];let n=d.default.getCallTranslatorBotSpokenLanguageLocale()||"";e.route.params.action&&(n=e.route.params.isLocal?y.default.getLocalPstnCallTranlatorBotSpokenLanguageLocale(e.route.params.conversationMri)||"":y.default.getOtherPstnCallTranlatorBotSpokenLanguageLocale(e.route.params.conversationMri)||"");let a=0;const l=[];i.forEach(((e,t)=>{const i=r.getLanguageTitle(e);e===n&&(a=t),l.push({item:null,label:i,key:e,index:t,separators:{highlight:()=>{},unhighlight:()=>{},updateProps:(e,t)=>{}}})}));return{languages:l,initialItemKey:n,initialItemIndex:a,isPortrait:m.default.getDeviceOrientation(this.context.rootViewId)===o.DeviceOrientation.Portrait,statusBarPadding:C.default.statusBarPadding(),isSmallDevice:m.default.isSmallDevice(this.context.rootViewId),isMobileScreenSize:m.default.isMobileScreenSize(this.context.rootViewId),isUsingStackNavigationContext:S.default.isUsingStackNavigationContext()}}render(){return(0,n.jsx)(c.default,{action:this._setSpokenLanguage,items:this.state.languages,initialItemKey:this.state.initialItemKey,initialItemIndex:this.state.initialItemIndex,headerText:l.getString("LanguageAndTranslationSettingsPanel.SpokenLanguage"),goBack:this._goBackUtil,isAloneInNavStack:this.props.route.params.isAloneInNavStack,searchEnabled:!0,isPortrait:this.state.isPortrait,statusBarPadding:this.state.statusBarPadding,isSmallDevice:this.state.isSmallDevice,isMobileScreenSize:this.state.isMobileScreenSize,isUsingStackNavigationContext:this.state.isUsingStackNavigationContext})}}t.default=f},482994:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(787720),a=i(889391),r=i(67930),l=i(707095),c=i(711930),d=i(898278),u=i(587134),g=i(805581),h=i(915877),p=i(733754),S=i(46929),m=i(451070),C=i(190631),y=i(131237),f=i(116874),b=i(680837),_=i(897634),v=(0,h.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),container:()=>o.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible",flexGrow:1}),containerDesktop:()=>o.Styles.createViewStyle({paddingHorizontal:20}),toggle:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:6})});class T extends r.BaseNavigationViewPresentedInModal{static getHeaderText(){return p.getString("CallingSettingsPanel.SubtitlesButtonLabel")}_buildState(e,t){const i=a.default.getS4LCMCFeatures();return{enableSubtitlesForAllCalls:S.default.getEnableSubtitlesForAllCalls(),enableOnlyShowSubtitlesForOtherParticipants:S.default.getOnlyShowSubtitlesForOtherParticipants(),enableMessageTranslation:i.enableMessageTranslation,callCaptionsHideSpokenLangInSettings:i.callCaptionsHideSpokenLangInSettings,safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:m.default.horizontalPaddingStyle(d.HorizontalInsetZero),isSpokenLanguageSupported:g.default.isDeviceLanguageSupportedForTranslation()}}render(){const e=[v.container];this._getContext().isPresentedInGenericDesktopModal&&e.push(v.containerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?C.CloseButtonType.Close:C.CloseButtonType.Back},i=this.props.navigation?void 0:(0,n.jsx)(C.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t}),{primaryBackgroundColorStyle:s}=_.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(o.View,Object.assign({style:[v.panel,s]},{children:[i,(0,n.jsx)(o.ScrollView,Object.assign({style:b.default.flexOne},{children:(0,n.jsxs)(o.View,Object.assign({style:e},{children:[this._getSpokenLanguageSetting(),this._getSubtitleForAllCallsToggle(),this._getSubtitlesForOtherOnlyToggle(),this._getSubtitleSettingsMessage()]}))}))]}))}_getHeaderText(e){return T.getHeaderText()}_getSpokenLanguageSetting(){if(!(!this.state.enableMessageTranslation||this.props.route.params.hideLangSelector&&this.state.callCaptionsHideSpokenLangInSettings))return this._wrapElementWithDivider((0,n.jsx)(y.default,{showRowTitle:!0,showCaption:!0,onHandleMenuCommand:e=>{S.default.setCallTranslatorBotSpokenLanguageLocale(e)}}))}_getSubtitleForAllCallsToggle(){const e=p.getString("SubtitlesSettingsPanel.EnableSubtitlesForAllCallsLabel"),t=p.getString("SubtitlesSettingsPanel.EnableSubtitlesForAllCallsExplanation");return this._wrapElementWithDivider((0,n.jsx)(s.default,Object.assign({style:v.toggle,isOn:this.state.enableSubtitlesForAllCalls&&this.state.isSpokenLanguageSupported,disable:!this.state.isSpokenLanguageSupported,accessibilityLabel:c.default.combinedAccessibilityLabel(e,t),onChange:(e,t)=>{S.default.setEnableSubtitlesForAllCalls(t)}},{children:(0,l.renderLabels)(e,t,!this.state.isSpokenLanguageSupported)})))}_getSubtitlesForOtherOnlyToggle(){const e=p.getString("SubtitlesSettingsPanel.OnlyShowSubtitlesForOtherParticipantsLabel"),t=p.getString("SubtitlesSettingsPanel.OnlyShowSubtitlesForOtherParticipantsExplanation");return this._wrapElementWithDivider((0,n.jsx)(s.default,Object.assign({style:v.toggle,isOn:this.state.enableOnlyShowSubtitlesForOtherParticipants&&this.state.isSpokenLanguageSupported,disable:!this.state.isSpokenLanguageSupported,accessibilityLabel:c.default.combinedAccessibilityLabel(e,t),onChange:(e,t)=>{S.default.setOnlyShowSubtitlesForOtherParticipants(t)}},{children:(0,l.renderLabels)(e,t,!this.state.isSpokenLanguageSupported)})))}_getSubtitleSettingsMessage(){if(!this.state.enableMessageTranslation)return(0,n.jsx)(f.default,{})}_wrapElementWithDivider(e){return(0,n.jsxs)(o.View,{children:[e,(0,n.jsx)(u.default,{marginTop:10})]})}}t.default=T},944699:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(396265),a=i(5374),r=i(516778),l=i(67930),c=i(915877),d=i(733754),u=i(190631),g=i(581760),h=i(311010),p=h.default.fontSize.size13Deprecated,S=(0,c.lazyProperties)({rootPanel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch",backgroundColor:g.Color.white}),thirdPartyNoticesText:()=>r.Styles.createTextInputStyle({paddingHorizontal:15,font:h.default.font.uiDisplayRegular,fontSize:p,color:g.Color.black})});class m extends l.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._renderItem=(e,t)=>{const i=Number(e.key),o=this.state.legalParagraphs[i];return(0,n.jsx)(r.Text,Object.assign({style:S.thirdPartyNoticesText},{children:o}))}}static getHeaderText(){return d.getString("ThirdPartyNoticesPanel.ThirdPartyNoticesTitle")}_buildState(e,t){const i={};return t&&(i.legalParagraphs=[],i.itemList=[]),i}componentDidMount(){super.componentDidMount(),a.default.getNotices().then((e=>{if(!this.isComponentMounted())return;const t=o.compact(e.split("\n")),i=o.map(t,((e,t)=>({key:t.toString(),measureHeight:!0,height:Math.max(Math.round(e.length*p/70),p),template:"legal"})));this.setState({legalParagraphs:t,itemList:i})}))}_getHeaderText(e){return m.getHeaderText()}render(){const e=this.props.navigation?void 0:(0,n.jsx)(u.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:{closeButtonType:this.props.route.params.isAloneInNavStack?u.CloseButtonType.Close:u.CloseButtonType.Back}});return(0,n.jsxs)(r.View,Object.assign({style:S.rootPanel},{children:[e,(0,n.jsx)(s.VirtualListView,{itemList:this.state.itemList,renderItem:this._renderItem})]}))}}t.default=m},307069:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(667294),a=i(281878),r=i(705465),l=i(889391),c=i(898278),d=i(711828),u=i(733754),g=i(46929),h=i(104735),p=i(217093),S=i(600212),m=i(89808),C=i(201990),y=i(190631),f=i(619675),b=i(680837),_=i(22222),v=i(267824),T=i(110117),P=r.StyleSheet.create({notificationInnerContainer:{flexDirection:"row",alignSelf:"stretch"},notificationInnerButtonsContainer:{flex:1,flexDirection:"row",alignSelf:"center"},notificationInnerButtonsContainerMargin:{marginTop:8},notificationButton:{alignItems:"center"},notificationConsentContainer:{flex:1,flexDirection:"column",alignSelf:"stretch",padding:34,paddingTop:10,minHeight:void 0},consentTextBox:{alignSelf:"center"},flexDirectionColumn:{flexDirection:"column"},scrollView:{flex:1},bulletMargin:{marginRight:5}});t.default=s.memo((0,o.withResubAutoSubscriptions)((({navigation:e})=>{const t=()=>{(null==e?void 0:e.canGoBack())?null==e||e.goBack():h.default.navigateToSettingsGroup(p.SettingsGroup.Privacy,c.MainRootViewId)},{secondaryTextColor:i}=(0,S.useSkypeTheme)().themeColors,o=m.default.getPrimaryColor(),s=l.default.getS4LCMCFeaturesNoSubscription().translationFeatures.truVoiceName,k=g.default.getCallTranslatorTranslationConsent(),A=u.getString(k?"CallTranscriptionNotifications.TranslationConsentSettingDisable":"CallTranscriptionNotifications.TranslationConsentSettingEnable"),I=u.getString(k?"CallTranscriptionNotifications.TranslationConsentSettingKeep":"CallTranscriptionNotifications.TranslationConsentSettingCancel"),w={closeButtonType:y.CloseButtonType.Back},x=e?null:(0,n.jsx)(y.SimplePanelHeader,{useTransparentBackground:!0,hideBottomBorder:!0,leftButton:w}),N=r.StyleSheet.flatten([P.notificationInnerContainer,P.consentTextBox]),M=r.StyleSheet.flatten([b.default.flexOne,b.default.textAlignCenter]);let L;return(0,n.jsxs)(a.Box,Object.assign({style:b.default.flexOneRN},{children:[x,(0,n.jsxs)(a.Box,Object.assign({style:P.notificationConsentContainer},{children:[(0,n.jsxs)(r.ScrollView,Object.assign({style:r.StyleSheet.flatten([P.flexDirectionColumn,P.scrollView])},{children:[(0,n.jsx)(a.Box,Object.assign({style:N},{children:(0,n.jsx)(T.default,{icon:d.SkypeIcon.SkypeTranslatorNew,size:d.IconSize.size20,color:o})})),(0,n.jsx)(a.Box,Object.assign({style:N,paddingTop:4},{children:(0,n.jsx)(f.Header,Object.assign({size:c.HeaderSize.h4,style:M},{children:u.getString("CallTranscriptionNotifications.TranslationConsent")}))})),(0,n.jsx)(a.Box,Object.assign({style:N,paddingTop:4},{children:(0,n.jsx)(f.Caption,Object.assign({style:M},{children:u.getString("CallTranscriptionNotifications.TranslationConsentSettingText",{featureName:s})}))})),(0,n.jsxs)(a.Box,Object.assign({style:[P.notificationInnerContainer,P.consentTextBox,P.flexDirectionColumn],paddingTop:4,paddingLeft:L,paddingRight:L},{children:[(0,n.jsxs)(a.Box,Object.assign({flexDirection:"row"},{children:[(0,n.jsx)(f.Caption,Object.assign({style:P.bulletMargin},{children:"• "})),(0,n.jsx)(f.Caption,Object.assign({style:b.default.flexOne},{children:u.getString("CallTranscriptionNotifications.TranslationConsentSettingSubtext1")}))]})),(0,n.jsxs)(a.Box,Object.assign({flexDirection:"row"},{children:[(0,n.jsx)(f.Caption,Object.assign({style:P.bulletMargin},{children:"• "})),(0,n.jsx)(f.Caption,Object.assign({style:b.default.flexOne},{children:u.getString("CallTranscriptionNotifications.TranslationConsentSettingSubtext2",{featureName:s})}))]})),(0,n.jsxs)(a.Box,Object.assign({flexDirection:"row"},{children:[(0,n.jsx)(f.Caption,Object.assign({style:P.bulletMargin},{children:"• "})),(0,n.jsx)(f.Caption,Object.assign({style:b.default.flexOne},{children:u.getString("CallTranscriptionNotifications.TranslationConsentSettingSubtext3")}))]}))]})),(0,n.jsx)(a.Box,Object.assign({style:N,paddingTop:4,color:o},{children:(0,n.jsx)(f.Caption,Object.assign({style:r.StyleSheet.flatten(M)},{children:(0,n.jsx)(v.AccessibleLink,Object.assign({url:l.default.getS4LCMCFeaturesNoSubscription().skypeTranslation.privacyLink,textElement:f.Caption},{children:u.getString("CallTranscriptionNotifications.TranslationConsentSettingLearnMore")}))}))}))]})),(0,n.jsxs)(a.Box,Object.assign({style:r.StyleSheet.flatten([P.notificationInnerContainer,P.flexDirectionColumn]),paddingTop:4},{children:[(0,n.jsx)(_.default,Object.assign({buttonStyle:c.SXButtonStyle.GradientFill,buttonSize:c.SXButtonSize.Small,backgroundStyle:{marginBottom:8},title:A,style:P.notificationButton,onPress:k?()=>{C.resetTranslationConsent(),C.resetTruVoiceConsent(),C.truVoiceDisable(),t()}:()=>{C.giveTranslationConsent(),t()}},{children:A})),(0,n.jsx)(_.default,Object.assign({buttonStyle:c.SXButtonStyle.ColorStroke,buttonSize:c.SXButtonSize.Small,buttonConfig:{textColor:i,borderColor:i},title:I,style:P.notificationButton,onPress:t},{children:I}))]}))]}))]}))})))},359161:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(889391),a=i(67930),r=i(898278),l=i(587134),c=i(438891),d=i(915877),u=i(733754),g=i(46929),h=i(451070),p=i(190631),S=i(131237),m=i(104735),C=i(159452),y=i(680837),f=i(733574),b=i(897634),_=i(493620),v=(0,d.lazyProperties)({panel:()=>o.Styles.createViewStyle({flex:1,alignSelf:"stretch"}),settingsBlockContainer:()=>o.Styles.createViewStyle({alignSelf:"stretch",paddingHorizontal:10,overflow:"visible",flexGrow:1}),settingsBlockContainerDesktop:()=>o.Styles.createViewStyle({paddingHorizontal:20})});class T extends a.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._renderNewPanel=()=>{const e=[v.settingsBlockContainer];this._getContext().isPresentedInGenericDesktopModal&&e.push(v.settingsBlockContainerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?p.CloseButtonType.Close:p.CloseButtonType.Back},i=this.props.navigation?void 0:(0,n.jsx)(p.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t}),{primaryBackgroundColorStyle:s}=b.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(o.View,Object.assign({style:[v.panel,s]},{children:[i,(0,n.jsx)(o.ScrollView,Object.assign({style:y.default.flexOne},{children:(0,n.jsxs)(o.View,Object.assign({style:e},{children:[this._getTranslationSpokenLanguage(),(0,n.jsx)(l.default,{}),this._getTranslationVoice(),(0,n.jsx)(l.default,{})]}))}))]}))},this._getTranslationSpokenLanguage=()=>(0,n.jsx)(_.default,{label:u.getString("LanguageAndTranslationSettingsPanel.SpokenLanguage"),captionText:u.getString("LanguageAndTranslationSettingsPanel.SpokenLanguageCaption"),activeLabel:this.state.currentLanguage,onPress:this._onLanguagePickerButtonPress,hideDivider:!0}),this._getTranslationVoice=()=>(0,n.jsx)(_.default,{label:u.getString("LanguageAndTranslationSettingsPanel.TranslationVoiceLabel"),captionText:u.getString("LanguageAndTranslationSettingsPanel.TranslationVoiceCaption"),activeLabel:this.state.currentVoice,onPress:this._onVoicePickerButtonPress,hideDivider:!0}),this._onLanguagePickerButtonPress=()=>{m.default.navigateToSpokenLanguagePicker(!1,this._getRootViewId(),!1,void 0)},this._onVoicePickerButtonPress=()=>{m.default.navigateToVoicePicker(!1,this._getRootViewId())},this._renderOldPanel=()=>{const e=[v.settingsBlockContainer];this._getContext().isPresentedInGenericDesktopModal&&e.push(v.settingsBlockContainerDesktop),this.state.safeAreaHorizontalPaddingStyle&&e.push(this.state.safeAreaHorizontalPaddingStyle);const t=this.props.route.params.isAloneInNavStack&&this._getContext().isPresentedInSplitView?void 0:{closeButtonType:this.props.route.params.isAloneInNavStack?p.CloseButtonType.Close:p.CloseButtonType.Back},i=this.props.navigation?void 0:(0,n.jsx)(p.SimplePanelHeader,{panelName:this._getHeaderText(this.state),leftButton:t}),{primaryBackgroundColorStyle:s}=b.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(o.View,Object.assign({style:[v.panel,s]},{children:[i,(0,n.jsx)(o.ScrollView,Object.assign({style:y.default.flexOne},{children:(0,n.jsxs)(o.View,Object.assign({style:e},{children:[this._getSpokenLanguagePicker(),this._getSubtitleLanguagePicker(),this._getTranslationVoicePicker()]}))}))]}))},this._onSpokenLanguagePickerHandleMenuCommand=e=>{g.default.setCallTranslatorBotSpokenLanguageLocale(e)},this._onSubtitleLanguagePickerHandleMenuCommand=e=>{g.default.setCallTranslatorBotSubtitleLanguageLocale(e)}}static getHeaderText(){return u.getString("UserSettingsPanel.TranslationSettingsTitle")}_buildState(e,t){let i=u.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionFemale");switch(g.default.getCallTranslatorBotTranslationVoice()){case c.Gender.female.toLowerCase():i=u.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionFemale");break;case c.Gender.male.toLowerCase():i=u.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionMale")}return{enableSubtitlesForAllCalls:g.default.getEnableSubtitlesForAllCalls(),enableOnlyShowSubtitlesForOtherParticipants:g.default.getOnlyShowSubtitlesForOtherParticipants(),safeAreaHorizontalPaddingStyle:this._getContext().isPresentedInDesktopSubview?void 0:h.default.horizontalPaddingStyle(r.HorizontalInsetZero),enableMessageTranslation:s.default.getS4LCMCFeatures().enableMessageTranslation,enableSpeechConsentFlow:s.default.getS4LCMCFeatures().enableSpeechConsentFlow,currentLanguage:g.default.getCallTranslatorBotSpokenLanguageLocale()||"en-US",currentVoice:i}}render(){return s.default.getS4LCMCFeaturesNoSubscription().enableNewLanguageSelectors?this._renderNewPanel():this._renderOldPanel()}_getHeaderText(e){return T.getHeaderText()}_getSpokenLanguagePicker(){return this._wrapElementWithDivider((0,n.jsx)(S.default,{showRowTitle:!0,showCaption:!0,onHandleMenuCommand:this._onSpokenLanguagePickerHandleMenuCommand}))}_getTranslationVoicePicker(){return this._wrapElementWithDivider((0,n.jsx)(f.default,{}))}_getSubtitleLanguagePicker(){if(!this.state.enableMessageTranslation)return this._wrapElementWithDivider((0,n.jsx)(C.default,{rowTitle:!0,caption:!0,onHandleMenuCommand:this._onSubtitleLanguagePickerHandleMenuCommand}))}_wrapElementWithDivider(e){return(0,n.jsxs)(o.View,{children:[e,(0,n.jsx)(l.default,{marginTop:10})]})}}t.default=T},630631:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(217041),s=i(667294),a=i(281878),r=i(705465),l=i(889391),c=i(898278),d=i(711828),u=i(733754),g=i(46929),h=i(104735),p=i(217093),S=i(600212),m=i(89808),C=i(201990),y=i(190631),f=i(680837),b=i(110117),_=i(619675),v=i(267824),T=i(22222),P=r.StyleSheet.create({notificationInnerContainer:{flexDirection:"row",alignSelf:"stretch"},notificationInnerButtonsContainer:{flex:1,flexDirection:"row",alignSelf:"center"},notificationInnerButtonsContainerMargin:{marginTop:8},notificationButton:{alignItems:"center"},notificationConsentContainer:{flex:1,flexDirection:"column",alignSelf:"stretch",padding:34,paddingTop:10,minHeight:void 0},consentTextBox:{alignSelf:"center"},flexDirectionColumn:{flexDirection:"column"},scrollView:{flex:1},bulletMargin:{marginRight:5}});t.default=s.memo((0,o.withResubAutoSubscriptions)((({navigation:e})=>{const t=()=>{(null==e?void 0:e.canGoBack())?null==e||e.goBack():h.default.navigateToSettingsGroup(p.SettingsGroup.Privacy,c.MainRootViewId)},{secondaryTextColor:i}=(0,S.useSkypeTheme)().themeColors,o=m.default.getPrimaryColor(),s=l.default.getS4LCMCFeaturesNoSubscription().translationFeatures.truVoiceName,k=g.default.getCallTranslatorTruVoiceConsent(),A=u.getString(k?"CallTranscriptionNotifications.TruVoiceConsentSettingDisable":"CallTranscriptionNotifications.TruVoiceConsentSettingEnable"),I=u.getString(k?"CallTranscriptionNotifications.TruVoiceConsentSettingKeep":"CallTranscriptionNotifications.TruVoiceConsentSettingCancel"),w={closeButtonType:y.CloseButtonType.Back},x=e?null:(0,n.jsx)(y.SimplePanelHeader,{useTransparentBackground:!0,hideBottomBorder:!0,leftButton:w}),N=r.StyleSheet.flatten([P.notificationInnerContainer,P.consentTextBox]),M=r.StyleSheet.flatten([f.default.flexOne,f.default.textAlignCenter]);let L;return(0,n.jsxs)(a.Box,Object.assign({style:f.default.flexOneRN},{children:[x,(0,n.jsxs)(a.Box,Object.assign({style:P.notificationConsentContainer},{children:[(0,n.jsxs)(r.ScrollView,Object.assign({style:r.StyleSheet.flatten([P.flexDirectionColumn,P.scrollView])},{children:[(0,n.jsx)(a.Box,Object.assign({style:N},{children:(0,n.jsx)(b.default,{icon:d.SkypeIcon.MicrophoneSpark,size:d.IconSize.size20,color:o})})),(0,n.jsx)(a.Box,Object.assign({style:N,paddingTop:4},{children:(0,n.jsx)(_.Header,Object.assign({size:c.HeaderSize.h4,style:M},{children:u.getString("CallTranscriptionNotifications.TruVoiceFeatureNameAi",{featureName:s})}))})),(0,n.jsx)(a.Box,Object.assign({style:N,paddingTop:4},{children:(0,n.jsx)(_.Caption,Object.assign({style:M},{children:u.getString("CallTranscriptionNotifications.TruVoiceConsentSettingText",{featureName:s})}))})),(0,n.jsxs)(a.Box,Object.assign({style:[P.notificationInnerContainer,P.consentTextBox,P.flexDirectionColumn],paddingTop:4,paddingLeft:L,paddingRight:L},{children:[(0,n.jsxs)(a.Box,Object.assign({flexDirection:"row"},{children:[(0,n.jsx)(_.Caption,Object.assign({style:P.bulletMargin},{children:"• "})),(0,n.jsx)(_.Caption,Object.assign({style:f.default.flexOne},{children:u.getString("CallTranscriptionNotifications.TruVoiceConsentSettingSubtext1",{featureName:s})}))]})),(0,n.jsxs)(a.Box,Object.assign({flexDirection:"row"},{children:[(0,n.jsx)(_.Caption,Object.assign({style:P.bulletMargin},{children:"• "})),(0,n.jsx)(_.Caption,Object.assign({style:f.default.flexOne},{children:u.getString("CallTranscriptionNotifications.TruVoiceConsentSettingSubtext2",{featureName:s})}))]})),(0,n.jsxs)(a.Box,Object.assign({flexDirection:"row"},{children:[(0,n.jsx)(_.Caption,Object.assign({style:P.bulletMargin},{children:"• "})),(0,n.jsx)(_.Caption,Object.assign({style:f.default.flexOne},{children:u.getString("CallTranscriptionNotifications.TruVoiceConsentSettingSubtext3",{featureName:s})}))]}))]})),(0,n.jsx)(a.Box,Object.assign({style:N,paddingTop:4,color:o},{children:(0,n.jsx)(_.Caption,Object.assign({style:M},{children:(0,n.jsx)(v.AccessibleLink,Object.assign({url:l.default.getS4LCMCFeaturesNoSubscription().skypeTranslation.privacyLink,textElement:_.Caption},{children:u.getString("CallTranscriptionNotifications.TruVoiceConsentSettingLearnMore")}))}))}))]})),(0,n.jsxs)(a.Box,Object.assign({style:r.StyleSheet.flatten([P.notificationInnerContainer,P.flexDirectionColumn]),paddingTop:4},{children:[(0,n.jsx)(T.default,Object.assign({buttonStyle:c.SXButtonStyle.GradientFill,buttonSize:c.SXButtonSize.Small,backgroundStyle:{marginBottom:8},title:A,style:P.notificationButton,onPress:k?()=>{C.resetTruVoiceConsent(),C.truVoiceDisable(),t()}:()=>{C.giveTruVoiceConsent(),t()}},{children:A})),(0,n.jsx)(T.default,Object.assign({buttonStyle:c.SXButtonStyle.ColorStroke,buttonSize:c.SXButtonSize.Small,buttonConfig:{textColor:i,borderColor:i},title:I,style:P.notificationButton,onPress:t},{children:I}))]}))]}))]}))})))},530197:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(583367),s=i(67930),a=i(733754),r=i(281232),l=i(46929),c=i(438891),d=i(853374),u=i(436237),g=i(746096),h=i(886045),p=i(330124),S=i(29130),m=i(451070),C=c.Gender.female;class y extends s.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._filter=e=>e===c.Gender.male.toLowerCase()?a.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionMale"):e===c.Gender.female.toLowerCase()?a.getString("LanguageAndTranslationSettingsPanel.TranslatedVoiceOptionFemale"):"",this._setVoice=e=>{e&&l.default.setCallTranslatorBotTranslationVoice(e),h.default.maybeAnnounceForAccessibility(a.getString("ListSearchPickerPanel.ItemSelectedAnnouncement",{item:this._filter(e)}),1e3)},this._goBackUtil=()=>{const e=d.default.newCauseId();u.log(g.LogTraceArea.Navigation,"VoicePickerPanel._goBackUtil,  causeId: "+e),this._goBack(e)}}static getHeaderText(){return a.getString("LanguageAndTranslationSettingsPanel.TranslationVoiceLabel")}_buildState(e,t){const i=l.default.getCallTranslatorBotTranslationVoice()||C,n=[];return Object.keys(c.Gender).forEach(((e,t)=>{n.push({item:null,label:this._filter(e),key:e,index:t,separators:{highlight:()=>{},unhighlight:()=>{},updateProps:(e,t)=>{}}})})),{items:n,initialItemKey:i,isPortrait:S.default.getDeviceOrientation(this.context.rootViewId)===o.DeviceOrientation.Portrait,statusBarPadding:m.default.statusBarPadding(),isSmallDevice:S.default.isSmallDevice(this.context.rootViewId),isMobileScreenSize:S.default.isMobileScreenSize(this.context.rootViewId),isUsingStackNavigationContext:p.default.isUsingStackNavigationContext()}}render(){return(0,n.jsx)(r.default,{action:this._setVoice,items:this.state.items,initialItemKey:this.state.initialItemKey.toLowerCase(),initialItemIndex:0,headerText:this._getHeaderText(),goBack:this._goBackUtil,isAloneInNavStack:this.props.route.params.isAloneInNavStack,searchEnabled:!1,isPortrait:this.state.isPortrait,statusBarPadding:this.state.statusBarPadding,isSmallDevice:this.state.isSmallDevice,isMobileScreenSize:this.state.isMobileScreenSize,isUsingStackNavigationContext:this.state.isUsingStackNavigationContext})}_getHeaderText(){return y.getHeaderText()}}t.default=y},539474:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderSearch=t.CollapsibleHeaderSearch=void 0;var n=i(256886);Object.defineProperty(t,"CollapsibleHeaderSearch",{enumerable:!0,get:function(){return n.default}});var o=i(893315);Object.defineProperty(t,"HeaderSearch",{enumerable:!0,get:function(){return o.default}})},222573:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(996074),o=i(746880);t.default=(0,n.forNavigation)(o.default)},892024:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(996074),o=i(969197);t.default=(0,n.forNavigation)(o.default)},887634:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(996074),o=i(841736);t.default=(0,n.forNavigation)(o.default)},20957:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(583367),a=i(823113),r=i(516778),l=i(244770),c=i(397691),d=i(803056),u=i(898278),g=i(72822),h=i(746096),p=i(172146),S=i(139285),m=i(436237),C=i(915877),y=i(733754),f=i(499201),b=i(104735),_=i(888553),v=i(928159),T=i(853154),P=i(938980),k=i(383643),A=i(833348),I=i(581736),w=i(29130),x=i(115489),N=i(915415),M=i(581760),L=i(311010),O=i(711828),D=i(734528),R=i(478262),E=i(853374),B=i(897634),F=i(996074),V=i(47447),U=i(111612),j=i(889391),H=i(330124),W=(0,C.lazyProperties)({fillFlex:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center",backgroundColor:M.Color.black}),panel:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center"}),imageContainer:()=>r.Styles.createViewStyle({flex:1,alignSelf:"stretch",justifyContent:"flex-end"}),imageContainerCompact:()=>r.Styles.createViewStyle({justifyContent:"flex-start"}),imageContainerV2:()=>r.Styles.createViewStyle({justifyContent:"flex-start"}),image:()=>r.Styles.createViewStyle({borderTopLeftRadius:20,borderTopRightRadius:20,width:300,height:356,backgroundColor:M.Color.transparent,alignSelf:"center",justifyContent:"center",borderColor:M.Color.transparent,borderWidth:0,paddingTop:20}),imageSmall:()=>r.Styles.createViewStyle({width:280,height:320,alignSelf:"center",justifyContent:"flex-start"}),permissionRow:()=>r.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"center",alignSelf:"stretch",paddingLeft:10,paddingRight:20,marginVertical:10}),fakeText:()=>r.Styles.createViewStyle({height:6,borderRadius:3,flex:1,backgroundColor:M.Color.gray200,marginHorizontal:10}),fakeTextDark:()=>r.Styles.createViewStyle({backgroundColor:M.Color.gray300}),descriptionText:()=>r.Styles.createTextStyle({marginHorizontal:50,textAlign:"center",lineHeight:21,color:M.Color.black}),darkThemeDescription:()=>r.Styles.createTextStyle({color:M.Color.white}),imageNew:()=>r.Styles.createImageStyle({alignSelf:"center",borderColor:M.Color.transparent,borderWidth:0,width:200,height:198}),imageContainerCentered:()=>r.Styles.createViewStyle({justifyContent:"center",flexGrow:0,marginVertical:64}),imageContainerCenteredSmall:()=>r.Styles.createViewStyle({justifyContent:"center",flexGrow:0,marginTop:30,marginBottom:38}),textLarge:()=>r.Styles.createTextStyle({fontSize:L.default.fontSize.size18})});class z extends F.BaseNavigationView{constructor(){super(...arguments),this._orientationLockKey=o.uniqueId("PromptPermissionDialog"),this._renderModernizedIllustrationContent=e=>{const t=(0,n.jsx)(U.IllustrationScreenHeader,{headerText:this._getHeaderText(),bodyText:e});return(0,n.jsx)(U.IllustrationScreen,{topSlot:t,emoticon:this.state.emoticonForOnboardingPermissionsTab})},this._onContentLayout=e=>{this.state.availableHeight!==e.height&&this.setState({availableHeight:e.height})},this._navigateToNext=()=>{if(this._sendTelemetryEvent(g.DialogNavExit.Submit),this.props.route.params.scenarioNavigator)return m.log(h.LogTraceArea.Onboarding,"PromptPermissionDialog navigateToNext - with scenario navigator"),void this.props.route.params.scenarioNavigator.goNext();m.log(h.LogTraceArea.Onboarding,"PromptPermissionDialog navigateToNext - no scenario navigator"),b.default.navigateToRecentsTab()},this._goBack=e=>(this._sendTelemetryEvent(g.DialogNavExit.Close),this.props.route.params.scenarioNavigator?(m.log(h.LogTraceArea.Onboarding,"PromptPermissionDialog goBack - with scenario navigator, causeId: "+e),this.props.route.params.scenarioNavigator.goBack(),!0):(m.log(h.LogTraceArea.Onboarding,"PromptPermissionDialog goBack - no scenario navigator, causeId: "+e),super._goBack(e))),this._onCloseButtonClicked=()=>{const e=E.default.newCauseId();m.log(h.LogTraceArea.Onboarding,"PromptPermissionDialog._onCloseButtonClicked,  causeId: "+e),this._goBack(e)},this._promptForPermissions=()=>{const e=I.default.systemPromptHasNotBeenDisplayed(R.PermissionType.Notifications),t=I.default.systemPromptHasNotBeenDisplayed(R.PermissionType.Microphone),i=I.default.systemPromptHasNotBeenDisplayed(R.PermissionType.Camera),n=V.UICapabilities.androidReadPhoneStatePermissionRequired()&&I.default.systemPromptHasNotBeenDisplayed(R.PermissionType.ReadPhoneState);c.Resolved().then((()=>{if(t)return this._requestPermission(R.PermissionType.Microphone)})).then((()=>{if(i&&!this.state.enableInContextCameraPermission)return this._requestPermission(R.PermissionType.Camera)})).then((()=>{if(n)return this._requestPermission(R.PermissionType.ReadPhoneState)})).then((()=>{if(e||!p.default.isSetupWizardCompleted(!1))return this._telemetryEvent&&this._telemetryEvent.markPermissionRequested(R.PermissionType.Notifications),_.default.initNotificationsAndRequestPermissions().then((e=>{this._telemetryEvent&&this._telemetryEvent.markPermissionGranted(R.PermissionType.Notifications,e);const t=e?a.PermissionStatus.Granted:a.PermissionStatus.Denied;m.log(h.LogTraceArea.Onboarding,"PromptPermissionDialog notification permission: "+e),I.default.setPermissionStatus(R.PermissionType.Notifications,t,t,a.PermissionOrigin.OnboardingPromptDialog)}))}),(()=>{this._telemetryEvent&&this._telemetryEvent.markNotificationPermissionRequestFailed(),m.log(h.LogTraceArea.Onboarding,"Notification permission request failed")})).finally((()=>{this._navigateToNext()}))}}_buildState(e,t){const i=this._getRootViewId(),n={animationIsPending:A.default.isAnimationPending(),deviceSize:w.default.deviceSize(i),showModernizeIllustrations:j.default.getS4LMessagingFeatures().modernizeIllustrations&&H.default.isMobileEnvironmentWithStackNavigation(),emoticonForOnboardingPermissionsTab:j.default.getS4LMessagingFeatures().emoticonForOnboardingPermissionsTab};if(t){const t=(0,k.getOnboardingFeatures)(e.route.params.scenarioNavigator);n.themeAwareOnboardingEnabled=t.themeAwareOnboardingEnabled,n.enableInContextCameraPermission=t.enableInContextCameraPermission,n.learnMoreLink=t.features.userProfileScreen.learnMoreLink;const i=I.default.systemPromptHasNotBeenDisplayed(R.PermissionType.Notifications),o=I.default.systemPromptHasNotBeenDisplayed(R.PermissionType.Microphone);let s=!1;n.enableInContextCameraPermission||(s=I.default.systemPromptHasNotBeenDisplayed(R.PermissionType.Camera)),n.showUIPrompts=e.route.params.showUIPrompts&&(i||o||s),n.availableHeight=0,this._setupTelemetryEvent(e,i,o,s)}return n}componentDidMount(){super.componentDidMount(),f.default.addOrUpdateOrientationLock(this._orientationLockKey,s.DeviceOrientation.Portrait),this.state.animationIsPending||this.state.showUIPrompts||this._promptForPermissions()}componentDidUpdate(e,t,i){super.componentDidUpdate(e,t,i),this.state.animationIsPending||!t.animationIsPending||this.state.showUIPrompts||this._promptForPermissions()}componentWillUnmount(){super.componentWillUnmount(),f.default.removeOrientationLock(this._orientationLockKey),this._sendTelemetryEvent(g.DialogNavExit.CancelOrBack)}render(){if(this.state.showUIPrompts){const e=this.state.deviceSize===w.DeviceSize.Small,t=this.state.deviceSize===w.DeviceSize.Large,i=e?320:356,o=[W.imageContainer,this.state.availableHeight<i?W.imageContainerCompact:void 0,W.imageContainerV2],s={imageSource:l.Collection.ONBOARDING_PERMISSIONS_VARIANT_DESKTOP,imageStyle:[W.imageNew]},a=[W.imageContainer,W.imageContainerCentered,W.imageContainerV2,e?W.imageContainerCenteredSmall:void 0],c=(0,n.jsx)(S.default,Object.assign({style:a},{children:(0,n.jsx)(r.Image,{style:s.imageStyle,resizeMode:"contain",source:s.imageSource},"imageHeaderAndDesc")})),h=[W.descriptionText,t?W.textLarge:void 0];B.isUsingDarkTheme(this._getContext())&&h.push(W.darkThemeDescription);const p=V.UICapabilities.androidReadPhoneStatePermissionRequired()?y.getString("PromptPermissionPanel.DescriptionText3"):y.getString("PromptPermissionPanel.DescriptionText2"),m=this.state.showModernizeIllustrations?this._renderModernizedIllustrationContent(p):(0,n.jsx)(r.View,Object.assign({style:W.panel,onLayout:this._onContentLayout},{children:(0,n.jsxs)(r.View,Object.assign({style:o},{children:[c,(0,n.jsx)(r.Text,Object.assign({style:h},{children:p}))]}))})),C=this.props.route.params.origin===g.DialogNavOrigin.Onboarding?T.OnboardingDialogWizardNextButtonVariant.TextAndIcon:T.OnboardingDialogWizardNextButtonVariant.IconOnly;let f=this.props.route.params.origin===g.DialogNavOrigin.Onboarding?y.getString("Onboarding.WizardGenericStepContinueButton"):void 0;return this._isLastStepInSequence()&&(f=y.getString("PromptPermissionPanel.FinishButton")),(0,n.jsx)(d.default,Object.assign({goBack:this._goBack},{children:(0,n.jsx)(v.default,Object.assign({headerText:this.state.showModernizeIllustrations?"":this._getHeaderText(),hideCloseButton:this.props.route.params.hideCloseButton,hideSkipButton:!0,onNextButtonClicked:this._promptForPermissions,onSkipButtonClicked:this._navigateToNext,closeButtonIcon:D.backIcon(),nextButtonVariant:C,nextButtonTitle:f,disablePresentationAnimation:!0,onCloseButtonClicked:this._onCloseButtonClicked,showTopButtonsRowEvenIfEmpty:!this.state.showModernizeIllustrations,nextButtonSize:u.SXButtonSize.Small,nextButtonIcon:O.SkypeIcon.Blank,isLargeDevice:t,enableDesignV2:!0},{children:m}))}))}return(0,n.jsx)(d.default,Object.assign({goBack:this._goBack},{children:(0,n.jsx)(r.View,Object.assign({style:W.fillFlex},{children:(0,n.jsx)(N.default,{size:u.SXActivityIndicatorSize.Large,tintColor:M.Color.white})}))}))}_setupTelemetryEvent(e,t,i,n){let o,s;const a=(0,k.getTypedScenarioNavigator)(e.route.params.scenarioNavigator);a&&(o=a.getCurrentStep(),s=a.getTotalNumberOfSteps()),this._telemetryEvent=new x.PromptPermissionDialogEvent(e.route.params.origin,x.PromptPermissionDialogVersion.V1,o,s),this._telemetryEvent.markWhetherSystemPromptsHaveAlreadyBeenDisplayed(t,i,n)}_isLastStepInSequence(){const e=(0,k.getTypedScenarioNavigator)(this.props.route.params.scenarioNavigator);return!!e&&e.getCurrentStep()===e.getTotalNumberOfSteps()}_componentId(){return"PromptPermissionsDialog"}_requestPermission(e){return this._telemetryEvent&&this._telemetryEvent.markPermissionRequested(e),I.default.requestPermission(e,R.PermissionPromptOptions.SkipPrePrompt|R.PermissionPromptOptions.PromptAgainIfDenied,a.PermissionOrigin.OnboardingPromptDialog).then((t=>(this._telemetryEvent&&this._telemetryEvent.markPermissionGranted(e,t===a.PermissionStatus.Granted),c.Resolved())))}_sendTelemetryEvent(e){this._telemetryEvent&&(this._telemetryEvent.setExit(e),P.default.track(this._telemetryEvent),this._telemetryEvent=void 0)}_getHeaderText(){return y.getString("PromptPermissionPanel.HeaderText2")}}t.default=z},847473:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(516778),s=i(787720),a=i(1706),r=i(889391),l=i(67930),c=i(249758),d=i(746096),u=i(351077),g=i(871908),h=i(671830),p=i(400984),S=i(190631),m=i(539549),C=i(898278),y=i(436237),f=i(915877),b=(i(540522),i(733754)),_=i(898278),v=i(104735),T=i(330124),P=i(311010),k=i(364822),A=i(451070),I=i(886045),w=i(190631),x=i(680837),N=i(677524),M=i(198762),L=i(172758),O=i(853374),D=i(681115),R=i(897634),E=i(115340),B=i(619675),F=i(711930),V=i(267824),U=i(846116),j=i(871664),H=d.ReportCategory.Spam,W=(0,f.lazyProperties)({buttonStyle:()=>o.Styles.createTextStyle({borderTopWidth:1}),buttonTextStyle:()=>o.Styles.createTextStyle({paddingVertical:16,textAlign:"center"}),container:()=>o.Styles.createViewStyle({flex:1,flexDirection:"column"}),footerContainer:()=>o.Styles.createViewStyle({position:"absolute",bottom:0,left:0,right:0}),innerContainer:()=>o.Styles.createViewStyle({paddingHorizontal:30,paddingVertical:10}),reportReasonText:()=>o.Styles.createTextStyle({flex:-1,paddingRight:10}),selectReasonText:()=>o.Styles.createTextStyle({alignSelf:"center",marginVertical:16,font:P.default.font.uiDisplayBold}),scrollContainer:()=>o.Styles.createViewStyle({marginBottom:130}),toggleContainer:()=>o.Styles.createViewStyle({flexDirection:"row",alignItems:"center",justifyContent:"space-between",alignSelf:"stretch",paddingTop:20,paddingBottom:20})});class z extends l.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._getActionLabel=()=>this.state.selectedReason===d.ReportCategory.Infringement||this.state.selectedReason===d.ReportCategory.NonConsensualIntimateImagery?this.state.blockContact?b.getString("ConfirmationDialog.BlockAndReportExternallyLabel"):b.getString("ConfirmationDialog.ReportExternallyLabel"):this.state.reportConcern&&this.state.blockContact?b.getString("ConfirmationDialog.BlockAndReportLabel"):this.props.route.params.reportInfo.isBlockingDialog?b.getString("ConfirmationDialog.BlockLabel"):b.getString("ConfirmationDialog.ReportLabel"),this._performAction=()=>{this.state.blockContact?this._blockIfNeeded():this._report()},this._cancelReport=()=>{this.props.route.params.afterReportActions&&this.props.route.params.afterReportActions.onCancelPress&&this.props.route.params.afterReportActions.onCancelPress(),this._closeModal()},this._closeModal=()=>{v.default.closeReportConcernModal(_.MainRootViewId,this._getContext())},this._onCloseButtonRef=e=>{this._closeButtonRef=e||void 0},this._updateReportReason=e=>{this.setState({selectedReason:e})},this._updateReportDetails=e=>{this.setState({reportDetails:e})},this._onLinkPress=()=>{0},this._report=()=>{switch(this.state.reportContext){case d.ReportContextListOptions.Message:case d.ReportContextListOptions.PictureMessage:case d.ReportContextListOptions.AudioMessage:case d.ReportContextListOptions.FileMessage:case d.ReportContextListOptions.VideoMessage:case d.ReportContextListOptions.BingImage:this._reportMessage();break;case d.ReportContextListOptions.ProfilePicture:this._reportAbuse()}},this._reportExternallyWithBrowser=()=>{o.Linking.openUrl(this._getLinkToReportExternally()).then((()=>{this._showConfirmationAfterSendingReport(),this._hideReportedMessage(this.props.route.params.reportInfo.content)})).catch((()=>{this._showInfoAboutFailWithSendingTheReport()}))},this._getLinkToReportExternally=e=>{switch(e||this.state.selectedReason){case d.ReportCategory.NonConsensualIntimateImagery:return this.state.linkToReportRevengePorn;case d.ReportCategory.Infringement:default:return this.state.linkToReportInfringement}},this._blockIfNeeded=()=>{this.state.blockContact&&(this.props.route.params.reportInfo.groupConversationId?this._blockGroupConversation():this._blockContact())},this._blockContact=()=>{y.log(d.LogTraceArea.Navigation,"BlockUnblockDialog._blockContact, causeId: "+this.state.causeId),this.state.isAgent&&y.track(new c.BotContactInteraction(d.BotsInteraction.BlockBot,h.stripMriNamespace(this.props.route.params.reportInfo.mriToBlock),this.state.agentDisplayName)),this.state.userDisplayName&&I.default.maybeAnnounceForAccessibility(b.getString("ConversationsListItem.BlockContactAccessibilityAnnouncement",{displayName:this.state.userDisplayName}),2500),p.default.blockContact(this.props.route.params.reportInfo.mriToBlock,this.state.contextName,this.state.reportConcern?this.state.selectedReason:void 0,this.props.route.params.afterReportActions?this.props.route.params.afterReportActions.declineInvite:void 0,this.state.reportDetails,this.props.route.params.source),(0,U.isMagicBotConversation)(this.props.route.params.reportInfo.mriToBlock)&&j.default.revokeConsent(),this.props.route.params.afterReportActions&&this.props.route.params.afterReportActions.onBlocked&&this.props.route.params.afterReportActions.onBlocked(),this.props.route.params.afterReportActions&&this.props.route.params.afterReportActions.navigateAway&&(this.props.route.params.afterReportActions.declineInvite?this._navigateAfterDecline():v.default.navigateAfterBlock(this.props.route.params.reportInfo.mriToBlock,this.state.causeId,this._getContext())),this._closeModal()},this._blockGroupConversation=()=>{this.props.route.params.reportInfo.groupConversationId&&(p.default.blockGroupConversation(this.props.route.params.reportInfo.groupConversationId,this.props.route.params.reportInfo.mriToBlock,this.state.contextName,this.state.selectedReason),this._navigateAfterDecline()),this._closeModal()},this._onToggleBlockReport=(e,t)=>{this.props.route.params.reportInfo.isBlockingDialog?this.setState({reportConcern:t}):this.setState({blockContact:t})}}_buildState(e,t){const{reportInfo:i}=e.route.params,n=i.groupConversationId?void 0:L.default.getDisplayableUserByMri(i.mriToBlock),o=i.reportContext?i.reportContext:i.content?this._getReportContextForMessage(i.content):void 0,s=h.isAgent(i.mriToBlock),l=s?a.default.getAgentDescriptionForMri(i.mriToBlock):void 0,c={linkToServicesAgreement:r.default.getConfigSettings().skypeGoLinks.servicesAgreement,linkToReportInfringement:r.default.getConfigSettings().externalReportingUrl.infringement,linkToReportRevengePorn:r.default.getConfigSettings().externalReportingUrl.revengePorn,reportContext:o,contextName:this._getReportContextOptionValue(o),isAgent:s,agentDisplayName:l?l.displayName:"",userDisplayName:n?n.getDisplayName():void 0,isUsingStackNavigationContext:T.default.isUsingStackNavigationContext(),isAbleToHideMessage:r.default.getS4LMessagingFeatures().hideReportedMessages,safeAreaHorizontalInsets:A.default.horizontalInsets(C.HorizontalInsetDefault)};return t&&(c.causeId=O.default.newCauseId(),c.blockContact=!!i.isBlockingDialog,c.reportConcern=!i.isBlockingDialog,c.selectedReason=H,c.reportDetails=""),c}_getHeaderText(e){return z.getHeaderText()}static getHeaderText(){return b.getString("BlockUnblockDialog.BlockBotConfirmationContent")}render(){const e=this._getReportDialogConfirmationTitle();let t;const i=[x.default.flexOne,W.innerContainer];D.default.hasHorizontalSafeAreas(this.state.safeAreaHorizontalInsets)&&(t=D.default.horizontalPaddingStyle(this.state.safeAreaHorizontalInsets),i.push(t));const{dividerColor:s}=R.themeColors(this._getContext(),this.props.route.params.colorThemeOverride),a=(0,n.jsx)(N.WideButton,{label:b.getString("Global.CancelLabel"),hideArrow:!0,onPressed:this._cancelReport,labelStyle:W.buttonTextStyle,style:[W.buttonStyle,{borderColor:s}]}),r=(0,n.jsx)(N.WideButton,{label:this._getActionLabel(),hideArrow:!0,onPressed:this._performAction,labelStyle:W.buttonTextStyle}),{primaryBackgroundColorStyle:l}=R.themeStyles(this._getContext(),this.props.route.params.colorThemeOverride);return(0,n.jsxs)(E.KeyboardAvoidingView,Object.assign({style:[W.container,l]},{children:[(0,n.jsx)(w.SimplePanelHeader,{panelName:e,leftButton:{closeButtonType:S.CloseButtonType.Close,setButtonRef:this._onCloseButtonRef},useCenteredControls:!0}),(0,n.jsx)(o.ScrollView,Object.assign({style:[x.default.flexOne,W.scrollContainer],keyboardShouldPersistTaps:!0},{children:(0,n.jsxs)(o.View,Object.assign({style:i},{children:[this._getSecondActionToggle(),this._getLearnMoreNote(),this._getBlockReasons()]}))})),(0,n.jsxs)(o.View,Object.assign({style:W.footerContainer},{children:[a,r]}))]}))}componentDidMount(){super.componentDidMount(),this._closeButtonRef&&this._closeButtonRef.requestFocus()}_getReportContextForMessage(e){switch(u.getMessageTypeGroup(e)){case u.MessageTypeGroups.UriFile:return d.ReportContextListOptions.FileMessage;case u.MessageTypeGroups.Picture:return d.ReportContextListOptions.PictureMessage;case u.MessageTypeGroups.Audio:return d.ReportContextListOptions.AudioMessage;case u.MessageTypeGroups.Video:return d.ReportContextListOptions.VideoMessage;case u.MessageTypeGroups.MediaAlbum:return d.ReportContextListOptions.BingImage;default:return d.ReportContextListOptions.Message}}_getReportContextOptionValue(e){switch(e){case d.ReportContextListOptions.Message:case d.ReportContextListOptions.PictureMessage:case d.ReportContextListOptions.AudioMessage:case d.ReportContextListOptions.VideoMessage:case d.ReportContextListOptions.FileMessage:case d.ReportContextListOptions.BingImage:return"message";case d.ReportContextListOptions.ProfilePicture:return"profile_image";case d.ReportContextListOptions.ContactRequest:return"contact_request";case d.ReportContextListOptions.DeleteContact:return"delete_contact";case d.ReportContextListOptions.BlockContact:return"block_contact";case d.ReportContextListOptions.Profile:return"profile";case d.ReportContextListOptions.SearchReportContextListOptions:return"search";default:return""}}_getReportDialogConfirmationTitle(){if(this.props.route.params.reportInfo.isBlockingDialog)return this.state.isAgent?b.getString("BlockUnblockDialog.BlockBotConfirmationContent"):b.getString("UserProfilePanel.BlockContactConfirmationContent");if(this.state.isAgent)return b.getString("BlockUnblockDialog.BlockBotConfirmationContent");switch(this.state.reportContext){case d.ReportContextListOptions.Message:return b.getString("BlockUnblockDialog.ReportMessageDialogTitle");case d.ReportContextListOptions.ProfilePicture:case d.ReportContextListOptions.PictureMessage:case d.ReportContextListOptions.BingImage:return b.getString("BlockUnblockDialog.ReportPictureDialogTitle");case d.ReportContextListOptions.AudioMessage:return b.getString("BlockUnblockDialog.ReportAudioDialogTitle");case d.ReportContextListOptions.VideoMessage:return b.getString("BlockUnblockDialog.ReportVideoDialogTitle");case d.ReportContextListOptions.FileMessage:return b.getString("BlockUnblockDialog.ReportFileDialogTitle");default:return b.getString("UserProfilePanel.BlockContactConfirmationContent")}}_getSecondActionToggle(){const{primaryTextColor:e}=R.themeColors(this._getContext(),this.props.route.params.colorThemeOverride),t=o.Styles.createTextStyle({color:e},!1);return(0,n.jsx)(s.default,Object.assign({style:W.toggleContainer,isOn:this.props.route.params.reportInfo.isBlockingDialog?this.state.reportConcern:this.state.blockContact,accessibilityLabel:this._getToggleQuestion(),onChange:this._onToggleBlockReport},{children:(0,n.jsx)(o.Text,Object.assign({style:[W.reportReasonText,t]},{children:this._getToggleQuestion()}))}))}_getBlockReasons(){return this.props.route.params.reportInfo.isBlockingDialog&&this.state.reportConcern||this.state.reportConcern?(0,n.jsx)(k.default,{reasonSelected:this._updateReportReason,onChangeDetails:this._updateReportDetails,modalHorizontalPadding:30,isMagicBotConversation:(0,U.isMagicBotConversation)(this.props.route.params.reportInfo.mriToBlock),isPictureMessage:this.state.reportContext===d.ReportContextListOptions.PictureMessage||this.state.reportContext===d.ReportContextListOptions.BingImage}):void 0}_getLearnMoreNote(){const e=this._getLearnMoreLink(),t=b.getParts("BlockUnblockDialog.TellUsYourConcernInfo",{learnMoreLink:e}),i=F.default.linkAccessibilityInfo(b.getString("BlockUnblockDialog.PersonalInformationDisplayText",{learnMoreLink:b.getString("Global.LearnMore")}),!0);return(0,n.jsx)(o.View,Object.assign({accessibilityLabel:null==i?void 0:i.label,accessibilityTraits:null==i?void 0:i.traits,importantForAccessibility:void 0,onPress:this._onLinkPress,style:[W.reportReasonText]},{children:(0,n.jsx)(B.Caption,Object.assign({style:x.default.flexOne},{children:t}))}))}_getLearnMoreLink(){return(0,n.jsx)(V.Link,Object.assign({url:this.state.linkToServicesAgreement,textElement:B.Caption,correctiveMargin:-3},{children:b.getString("Global.LearnMore")}),"learnMore")}_reportAbuse(){y.log(d.LogTraceArea.Navigation,"ReportDialog._reportAbuse, causeId: "+this.state.causeId),this._isReportedExternally()?(this._reportExternallyWithBrowser(),this._blockIfNeeded()):this._reportAbuseToPCS(),this._closeModal()}_reportMessage(){y.log(d.LogTraceArea.Navigation,"ReportDialog._reportMessage, causeId: "+this.state.causeId),this.props.route.params.reportInfo.content&&(this._isReportedExternally()?(this._reportExternallyWithBrowser(),this._blockIfNeeded()):this._reportMessageToPCS(),this._closeModal())}_reportMessageToPCS(){if(!this.props.route.params.reportInfo.content)return;const e=this.props.route.params.reportInfo.content;p.default.reportMessage(this.props.route.params.reportInfo.mriToBlock,this.state.selectedReason,!!this.state.blockContact,this.props.route.params.reportInfo.content,this.state.contextName,this.state.reportDetails).then((()=>{this._hideReportedMessage(e),this._showConfirmationAfterSendingReport(),this.state.blockContact&&v.default.navigateAfterBlock(this.props.route.params.reportInfo.mriToBlock,this.state.causeId,void 0)})).catch((()=>{this._showInfoAboutFailWithSendingTheReport()}))}_reportAbuseToPCS(){p.default.reportAbuse(this.props.route.params.reportInfo.mriToBlock,this.state.selectedReason,!!this.state.blockContact,this.state.contextName,this.state.reportDetails).then((()=>{this._showConfirmationAfterSendingReport(),this.state.blockContact&&v.default.navigateAfterBlock(this.props.route.params.reportInfo.mriToBlock,this.state.causeId,void 0)})).catch((()=>{this._showInfoAboutFailWithSendingTheReport()}))}_isReportedExternally(){return this.state.selectedReason===d.ReportCategory.Infringement||this.state.selectedReason===d.ReportCategory.NonConsensualIntimateImagery}_showConfirmationAfterSendingReport(){this._isReportedExternally()?M.default.scheduleTextMessage(b.getString("ConfirmationDialog.ReportExternallyMessage")):M.default.scheduleTextMessage(b.getString("ConfirmationDialog.ReportSuccessMessage"))}_showInfoAboutFailWithSendingTheReport(){M.default.scheduleTextMessage(b.getString("ConfirmationDialog.ReportFailMessage"))}_hideReportedMessage(e){e&&this.state.isAbleToHideMessage&&g.markMessageReported(e,!0)}_navigateAfterDecline(){const e=O.default.newCauseId();y.log(d.LogTraceArea.Navigation,"ReportConcernModal._navigateAfterDecline, causeId: "+e),this.state.isUsingStackNavigationContext?v.default.navigateAfterDecliningContactRequest(e,this._getContext()):v.default.navigateToConversation({convId:(0,m.default)().getMostRecentJoinedConversationId(this.props.route.params.reportInfo.mriToBlock),origin:d.NavigationConversationOrigin.CompositeNavRedirectToRecentConv,causeId:e})}_getToggleQuestion(){return this.props.route.params.reportInfo.isBlockingDialog?this.state.isAgent?b.getString("BlockUnblockDialog.ReportAbuseTitleForBot"):b.getString("BlockUnblockDialog.ReportAbuseTitleForUser"):this.state.isAgent?b.getString("BlockUnblockDialog.BlockBotConfirmationContent"):b.getString("UserProfilePanel.BlockContactConfirmationContent")}}t.default=z},995182:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(996074),o=i(811411);t.default=(0,n.forNavigation)(o.default)},921485:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(996074),r=i(746096),l=i(552115),c=i(436237),d=i(915877),u=i(733754),g=i(330124),h=i(190631),p=i(581760),S=i(734528),m=i(359910),C=i(619675),y=i(853374),f=(0,d.lazyProperties)({panel:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch",backgroundColor:p.Color.white}),panelContainer:()=>s.Styles.createViewStyle({flex:1,flexDirection:"column"}),rowContainer:()=>s.Styles.createTextStyle({flex:1,backgroundColor:p.Color.white,alignItems:"center",flexDirection:"row",margin:8,alignSelf:"stretch",justifyContent:"space-between"}),labelsContainer:()=>s.Styles.createTextStyle({flex:1,flexDirection:"column"}),bandwidthContainer:()=>s.Styles.createTextStyle({textAlign:"right",color:p.Color.gray400}),rowTitle:()=>s.Styles.createTextStyle({color:p.Color.black}),rowDescription:()=>s.Styles.createTextStyle({color:p.Color.gray400,marginTop:3}),delimeter:()=>s.Styles.createTextStyle({height:1,alignSelf:"stretch",backgroundColor:p.Color.gray100,marginHorizontal:8})});class b extends a.BaseNavigationView{constructor(){super(...arguments),this._closeModal=()=>{const e=y.default.newCauseId();c.log(r.LogTraceArea.Navigation,"TelemetryPerfPanel._closeModal,  causeId: "+e),this._goBack(e)}}_buildState(e,t){return{monitorEnabled:!0,isUsingStackNavigationContext:g.default.isUsingStackNavigationContext(),items:m.default.getSortedEventsStatistics()}}componentDidMount(){super.componentDidMount(),this._statisticsUpdatedSubscriptionToken=m.default.statisticsUpdated.subscribe((()=>{this.isComponentMounted()&&this.setState({items:m.default.getSortedEventsStatistics()})}))}componentWillUnmount(){super.componentWillUnmount(),this._statisticsUpdatedSubscriptionToken&&(this._statisticsUpdatedSubscriptionToken.unsubscribe(),this._statisticsUpdatedSubscriptionToken=void 0)}render(){const e=this.state.isUsingStackNavigationContext?{closeButtonType:h.CloseButtonType.Back}:{icon:S.backIcon(),title:u.getString("Global.BackButtonTitle"),onPress:this._closeModal},t=this.props.navigation?void 0:(0,n.jsx)(h.SimplePanelHeader,{panelName:"Telemetry Monitor",leftButton:e});return(0,n.jsxs)(s.View,Object.assign({style:f.panel},{children:[t,(0,n.jsx)(s.ScrollView,Object.assign({style:f.panelContainer},{children:this._renderEventsRows()}))]}))}_renderEventsRows(){const e=[];return this.state.items?(e.push(...this._renderTotalRow()),o.each(this.state.items,(t=>{const[i,n]=t;let o=n.numberOfEvents+" event";n.numberOfEvents>1&&(o+="s");const s=o+"  ·  sampling "+n.sampling,a=l.default.formatFileSize(n.numberOfBytes,1).formattedString;e.push(...this._renderEventRow(i,s,a))})),e):[]}_renderTotalRow(){let e=0,t=0;o.each(this.state.items,(i=>{const n=i[1];e+=n.numberOfBytes,t+=n.numberOfEvents}));const i=l.default.formatFileSize(e,1).formattedString;return this._renderEventRow("[ TOTAL ]",t+" events sent",i)}_renderEventRow(e,t,i){return[(0,n.jsxs)(s.View,Object.assign({style:f.rowContainer},{children:[(0,n.jsxs)(s.View,Object.assign({style:f.labelsContainer},{children:[(0,n.jsx)(C.BodyText,Object.assign({bold:!0,size:C.BodyTextSize.BigDeprecated,style:f.rowTitle},{children:e})),(0,n.jsx)(C.BodyText,Object.assign({size:C.BodyTextSize.SmallDeprecated,style:f.rowDescription},{children:t}))]})),(0,n.jsx)(C.BodyText,Object.assign({bold:!0,size:C.BodyTextSize.SmallDeprecated,style:f.bandwidthContainer},{children:i}))]}),e),(0,n.jsx)(s.View,{style:f.delimeter},"line"+e)]}}t.default=b},747358:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(583367),a=i(516778),r=i(67930),l=i(803056),c=i(10102),d=i(72822),u=i(746096),g=i(436237),h=i(915877),p=i(733754),S=i(499201),m=i(89808),C=i(928159),y=i(853154),f=i(938980),b=i(383643),_=i(29130),v=i(536150),T=i(115489),P=i(581760),k=i(711828),A=i(680837),I=i(619675),w=i(163841),x=i(418037),N=i(559248),M=i(897634),L=i(587331),O=i(853374),D=(0,h.lazyProperties)({panel:()=>a.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"center",overflow:"visible",marginTop:50}),panelSmall:()=>a.Styles.createViewStyle({marginTop:20}),newToggleButtonContainer:()=>a.Styles.createViewStyle({alignSelf:"center",alignItems:"center",width:320}),newToggleButtonContainerCompact:()=>a.Styles.createViewStyle({width:280}),newToggleButtonInnerContainer:()=>a.Styles.createViewStyle({flexDirection:"row",justifyContent:"space-between",alignItems:"center",alignSelf:"stretch",padding:12}),highContrastToggle:()=>a.Styles.createViewStyle({alignSelf:"stretch",marginTop:20,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:12}),highContrastToggleText:()=>a.Styles.createTextStyle({color:P.Color.gray400})});class R extends r.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._orientationLockKey=o.uniqueId("ColorThemeDialog"),this._goBack=e=>(g.log(u.LogTraceArea.ConversationColorStore,"ThemeDialog._goBack causeId: "+e),this._sendTelemetryEvent(d.DialogNavExit.Close),this.props.route.params.scenarioNavigator?(this.props.route.params.scenarioNavigator.goBack(),!0):super._goBack(e)),this._onCloseButtonClicked=()=>{const e=O.default.newCauseId();g.log(u.LogTraceArea.ConversationColorStore,"ThemeDialog._onCloseButtonClicked causeId: "+e),this._goBack(e)},this._onNextButtonClicked=()=>{const e=O.default.newCauseId();g.log(u.LogTraceArea.ConversationColorStore,"ThemeDialog._onNextButtonClicked causeId: "+e),x.default.setTheme(this.state.currentTheme);const t=this._adjustedUserColor(this.state.currentTheme);t!==this.state.userColor&&m.default.setUserColor(t,e),this._sendTelemetryEvent(d.DialogNavExit.Submit),this._performNavigation()},this._onSkipButtonPressed=()=>{this._sendTelemetryEvent(d.DialogNavExit.Skip),this._performNavigation()},this._onLightTogglePressed=()=>this._onLightDarkTogglePressed(!1),this._onDarkTogglePressed=()=>this._onLightDarkTogglePressed(!0),this._onHighContrastTogglePress=()=>{const e=!this.state.useHighContrastTheme,t=p.getString(e?"ColorThemeDialog.SelectedHighContrastTitleAccessible":"ColorThemeDialog.DeselectedHighContrastTitleAccessible");this._updateThemeForSimpleLayout(this.state.isDarkTheme,e,(()=>{a.Accessibility.announceForAccessibility(t)}))}}static getHeaderText(){return p.getString("ColorThemeDialog.HeaderText")}_buildState(e,t){const i={userColor:m.default.getColorInfo(),selectedTheme:x.default.colorTheme()},n=this._getRootViewId();if(t){const t=(0,b.getOnboardingFeatures)(e.route.params.scenarioNavigator);i.themeAwareOnboardingEnabled=t.themeAwareOnboardingEnabled,i.useHighContrastTheme=x.default.isAccessibleTheme(),i.isMobileScreenReaderEnabled=v.default.isMobileScreenReaderEnabled(),i.originalTheme=i.selectedTheme,i.isSmallDevice=_.default.isSmallDevice(n),i.currentTheme=x.default.colorTheme(),i.isDarkTheme=x.default.isDarkTheme(),this._setupTelemetryEvent(e)}return i}componentDidMount(){super.componentDidMount(),this._getContext().isPresentedInDesktopSubview||S.default.addOrUpdateOrientationLock(this._orientationLockKey,s.DeviceOrientation.Portrait)}componentWillUnmount(){super.componentWillUnmount(),S.default.removeOrientationLock(this._orientationLockKey),this._sendTelemetryEvent(d.DialogNavExit.CancelOrBack)}_componentId(){return"ThemeDialog"}_setupTelemetryEvent(e){let t,i;const n=(0,b.getTypedScenarioNavigator)(e.route.params.scenarioNavigator);n&&(t=n.getCurrentStep(),i=n.getTotalNumberOfSteps()),this._telemetryEvent=new T.ThemeDialogEvent(e.route.params.origin,t,i)}_onLightDarkTogglePressed(e){if(this.state.isDarkTheme===e)return;this._telemetryEvent&&this._telemetryEvent.markDidToggleLightDarkTab();this._updateThemeForSimpleLayout(e,this.state.useHighContrastTheme,(()=>{const t=this._getAccessibleTitleForLightOrDarkTheme(e,!0);t&&a.Accessibility.announceForAccessibility(t)}))}_updateThemeForSimpleLayout(e,t,i){const n=t?e?w.Theme.AccessibleDark:w.Theme.Accessible:e?w.Theme.DelphiDark:w.Theme.Delphi;this.setState({currentTheme:n,isDarkTheme:e,useHighContrastTheme:t},i)}_performNavigation(){const e=O.default.newCauseId();g.log(u.LogTraceArea.ConversationColorStore,"ThemeDialog._performNavigation causeId: "+e),this.props.route.params.scenarioNavigator?this.props.route.params.scenarioNavigator.goNext():this.props.route.params.onNextButtonPressed?this.props.route.params.onNextButtonPressed():this._getContext().isPresentedByMobileStackNavigator?this._isComponentVisible()&&this._goBack(e):this._goBack(e)}_getAccessibleTitleForLightOrDarkTheme(e,t){return t?p.getString(e?"ColorThemeDialog.SelectedDarkToggleTitleAccessible":"ColorThemeDialog.SelectedLightToggleTitleAccessible"):p.getString(e?"ColorThemeDialog.DarkToggleTitleAccessible":"ColorThemeDialog.LightToggleTitleAccessible")}_renderToggleButton(e,t){const i=this._getAccessibleTitleForLightOrDarkTheme(e,t&&!1),o=[a.Types.AccessibilityTrait.Button];t&&o.push(a.Types.AccessibilityTrait.Selected);const s=this.state.themeAwareOnboardingEnabled?this.state.currentTheme:void 0;return(0,n.jsx)(N.default,{size:N.ThumbnailSize.Small,dark:e,selected:t,compact:this.state.isSmallDevice,highContrast:this.state.useHighContrastTheme,accessibilityTraits:o,accessibilityLabel:i,colorThemeOverride:s,onPress:e?this._onDarkTogglePressed:this._onLightTogglePressed},"thumb"+e)}_adjustedUserColor(e){const t=M.isMonoTheme(e),i=M.isClassicTheme(e);return(t||i)&&(t&&!M.isMonoTheme(this.state.selectedTheme)||i&&!M.isClassicTheme(this.state.selectedTheme))?c.getColorInfoForSerializedColor(c.SerializedColorByNumber.Mint):this.state.userColor}_sendTelemetryEvent(e){this._telemetryEvent&&(this._telemetryEvent.setExit(e),this.state.originalTheme!==this.state.currentTheme&&e===d.DialogNavExit.Submit&&this._telemetryEvent.markDidSelectNewTheme(),this._telemetryEvent.setFinalTheme(e===d.DialogNavExit.Submit?this.state.currentTheme:this.state.originalTheme),f.default.track(this._telemetryEvent),this._telemetryEvent=void 0)}_getHeaderText(e){return R.getHeaderText()}render(){const e=[D.panel];this.state.isSmallDevice,e.push(D.panelSmall);const t=[this._renderToggleButton(!1,!this.state.isDarkTheme),this._renderToggleButton(!0,this.state.isDarkTheme)],i=p.getString("ColorThemeDialog.HighContrastThemeTitle"),o=this.state.useHighContrastTheme?p.getString("Global.ItemSelectedAccessibilityLabel",{text:i}):i,s=[A.default.overflowVisible,D.newToggleButtonContainer];this.state.isSmallDevice&&s.push(D.newToggleButtonContainerCompact);const r=this.state.themeAwareOnboardingEnabled?this.state.currentTheme:void 0,c=(0,n.jsxs)(a.View,Object.assign({style:s},{children:[(0,n.jsx)(a.View,Object.assign({style:[A.default.overflowVisible,D.newToggleButtonInnerContainer]},{children:t})),(0,n.jsxs)(a.Button,Object.assign({style:D.highContrastToggle,accessibilityLabel:o,activeOpacity:.8,onPress:this._onHighContrastTogglePress},{children:[(0,n.jsx)(I.BodyText,Object.assign({style:this.state.themeAwareOnboardingEnabled?void 0:D.highContrastToggleText,numberOfLines:2,colorThemeOverride:r},{children:i})),(0,n.jsx)(L.default,{isOn:this.state.useHighContrastTheme,colorThemeOverride:r})]}))]})),u=this.props.route.params.origin===d.DialogNavOrigin.Onboarding?y.OnboardingDialogWizardNextButtonVariant.TextAndIcon:y.OnboardingDialogWizardNextButtonVariant.IconOnly,g=this.props.route.params.origin===d.DialogNavOrigin.Onboarding?p.getString("Onboarding.WizardGenericStepContinueButton"):void 0;return(0,n.jsx)(l.default,Object.assign({goBack:this._goBack},{children:(0,n.jsx)(C.default,Object.assign({headerText:this.props.route.params.hideHeader?void 0:this._getHeaderText(this.state),descriptionElement:p.getString("ColorThemeDialog.DescriptionText"),onNextButtonClicked:this._onNextButtonClicked,onCloseButtonClicked:this._onCloseButtonClicked,onSkipButtonClicked:this.props.route.params.hideSkipButton?void 0:this._onSkipButtonPressed,showTopButtonsRowEvenIfEmpty:!0,hideSkipButton:this.props.route.params.hideSkipButton,hideCloseButton:this.props.route.params.hideCloseButton,hideNextButton:!1,closeButtonIcon:this.props.route.params.closeButtonIcon,nextButtonIcon:this.props.route.params.nextButtonIcon||k.SkypeIcon.Ok,nextButtonTheme:this.state.currentTheme,nextButtonUserColor:this._adjustedUserColor(this.state.currentTheme),nextButtonVariant:u,nextButtonTitle:g,disablePresentationAnimation:!0,disableContentFocusOnMount:this.props.route.params.hideHeader,scenarioNavigator:this.props.route.params.scenarioNavigator,isContentScrollable:!0,colorThemeOverride:this.state.themeAwareOnboardingEnabled?this.state.currentTheme:w.Theme.Colorful},{children:(0,n.jsx)(a.View,Object.assign({style:e},{children:c}))}))}))}}t.default=R},404335:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(785893),o=i(496486),s=i(516778),a=i(471502),r=i(67930),l=i(803056),c=i(898278),d=i(72822),u=i(746096),g=i(436237),h=i(915877),p=i(540522),S=i(733754),m=i(494109),C=i(46929),y=i(18078),f=i(928159),b=i(853154),_=i(887226),v=i(938980),T=i(383643),P=i(49140),k=i(29130),A=i(115489),I=i(404057),w=i(22222),x=i(581760),N=i(311010),M=i(711828),L=i(734528),O=i(619675),D=i(912770),R=i(475793),E=i(567977),B=i(172758),F=i(853374),V=(0,h.lazyProperties)({container:()=>s.Styles.createViewStyle({flex:1,alignSelf:"stretch",alignItems:"center",justifyContent:"flex-start",overflow:"visible",paddingTop:40}),containerSmall:()=>s.Styles.createViewStyle({paddingTop:0}),userCardContainer:()=>s.Styles.createViewStyle({alignSelf:"stretch",marginHorizontal:20}),privacyContainer:()=>s.Styles.createViewStyle({marginTop:30,marginHorizontal:50,flex:1,justifyContent:"flex-start"}),privacyContainerSmall:()=>s.Styles.createViewStyle({marginTop:15}),phoneEmailButtonsContainer:()=>s.Styles.createViewStyle({margin:30}),centeredText:()=>s.Styles.createTextStyle({textAlign:"center",lineHeight:21}),textLarge:()=>s.Styles.createTextStyle({fontSize:N.default.fontSize.size18}),actionButton:()=>s.Styles.createButtonStyle({marginBottom:15}),learnMoreContainer:()=>s.Styles.createTextStyle({textAlign:"center"}),learnMoreLink:()=>s.Styles.createTextStyle({color:x.Color.blue})});class U extends r.BaseNavigationViewPresentedInModal{constructor(){super(...arguments),this._exitEditingModeTime=100,this._onProfileFocus=()=>{g.log(u.LogTraceArea.Onboarding,"_onProfileFocus"),this.setState({isEditing:!0})},this._onProfileBlur=()=>{g.log(u.LogTraceArea.Onboarding,"_onProfileBlur"),D.default.setTimeout((()=>{this.setState({isEditing:!1})}),this._exitEditingModeTime)},this._onPressLearnMore=()=>{p.openUrlWithParams({origin:u.BrowserOrigin.UserProfileOnboarding,url:this.state.userProfileScreen.learnMoreLink,rootViewId:this._getRootViewId()})},this._onUserCardRef=e=>{this._userCardRef=e||void 0},this._onNextButtonClicked=()=>{var e;const t=null===(e=this.state.userContacts)||void 0===e?void 0:e.phoneNumbersAndParts[0];t&&t.phoneParts&&t.source&&(this._showPhoneNumberInSearch(t.phoneParts,t.source),C.default.setOnboardingUserProfileScreenSeen(!0)),this._performNavigation()},this._onBackButtonClicked=()=>{const e=F.default.newCauseId();g.log(u.LogTraceArea.Onboarding,"UserProfileDialog._onBackButtonClicked causeId: "+e),this._sendTelemetryEvent(d.DialogNavExit.Close),m.default.redirectToLogout(u.LogoutReason.Onboarding)},this._goBack=e=>(g.log(u.LogTraceArea.Onboarding,"UserProfileDialog._goBack causeId: "+e),this._sendTelemetryEvent(d.DialogNavExit.CancelOrBack),this.props.route.params.scenarioNavigator?(this.props.route.params.scenarioNavigator.goBack(),!0):super._goBack(e))}_buildState(e,t){const i=(0,T.getOnboardingFeatures)(e.route.params.scenarioNavigator),n=B.default.getFullUserProfileByMri(y.default.getSkypeMri()),o=a.default.getParsedProfile(),s=this._getRootViewId(),r={userProfile:n,userProfileScreen:i.features.userProfileScreen,userContacts:o,isEditing:!1,deviceSize:k.default.deviceSize(s)};return t&&this._setupTelemetryEvent(e),r}componentDidMount(){super.componentDidMount(),this._userCardRef&&this._userCardRef.requestFocus()}componentWillUnmount(){super.componentWillUnmount(),this._sendTelemetryEvent(d.DialogNavExit.CancelOrBack)}_getHeaderText(){return U.getHeaderText()}static getHeaderText(){return S.getString("UserProfileDialog.HeaderText")}_setupTelemetryEvent(e){const t=(0,T.getTypedScenarioNavigator)(e.route.params.scenarioNavigator),i=null==t?void 0:t.getCurrentStep(),n=null==t?void 0:t.getTotalNumberOfSteps();this._telemetryEvent=new A.UserProfileDialogEvent(e.route.params.origin,i,n)}render(){let e=[];const t=this.state.deviceSize===k.DeviceSize.Small,i=this.state.deviceSize===k.DeviceSize.Large;if(this.state.userContacts&&this.state.userContacts.phoneNumbersAndParts){e=[...this.state.userContacts.phoneNumbersAndParts.map((e=>e.phoneNumber)),...this.state.userContacts.emails]}const a=S.getString("UserProfileDialog.PrivacyStatement",{source:e.join(", ")}),r=(0,n.jsx)(s.Link,Object.assign({url:this.state.userProfileScreen.learnMoreLink,onPress:this._onPressLearnMore,style:V.learnMoreLink},{children:S.getString("UserSettingsPanel.HotkeysLearnMoreLink")}),"learnMore"),d=this._isHiddenContent(),g=y.default.getSkypeMri(),h=this.state.userProfileScreen.closeBackIconEnabled?L.closeIcon():L.backIcon(),p=[V.container,t?V.containerSmall:void 0],m=[V.privacyContainer,t?V.privacyContainerSmall:void 0],C=[V.centeredText,i?V.textLarge:void 0],_=[V.learnMoreContainer,i?V.textLarge:void 0];return(0,n.jsx)(l.default,Object.assign({goBack:this._goBack},{children:!o.isEmpty(this.state.userContacts)&&(0,n.jsx)(f.default,Object.assign({headerText:this._getHeaderText(),onNextButtonClicked:this._onNextButtonClicked,onCloseButtonClicked:this._onBackButtonClicked,hideSkipButton:!0,closeButtonIcon:h,nextButtonVariant:b.OnboardingDialogWizardNextButtonVariant.TextAndIcon,nextButtonTitle:S.getString("Onboarding.WizardGenericStepContinueButton"),disablePresentationAnimation:!0,hideNextButton:d,nextButtonIcon:M.SkypeIcon.Blank,nextButtonSize:c.SXButtonSize.Small,isLargeDevice:i,enableDesignV2:!0},{children:(0,n.jsxs)(s.View,Object.assign({style:p},{children:[(0,n.jsx)(s.View,Object.assign({style:V.userCardContainer},{children:(0,n.jsx)(R.default,{ref:this._onUserCardRef,origin:u.AvatarUpdateLocation.UserProfileOnboarding,userMri:g,allowOpenAvatarInMediaViewer:!1,allowEditAvatar:!0,replaceHeader:!0,hideGradientBackground:!0,hideUserStatus:!0,onProfileFocus:this._onProfileFocus,onProfileBlur:this._onProfileBlur,userIconSize:E.UserIconSize.Size120,enableDesignV2:!0})})),!d&&(0,n.jsxs)(s.View,Object.assign({style:m},{children:[(0,n.jsx)(O.BodyText,Object.assign({style:C},{children:a})),(0,n.jsx)(O.BodyText,Object.assign({style:_},{children:r})),this._getPhoneEmailButtons()]}))]}))}))}))}_isHiddenContent(){return!1}_getPhoneEmailButtons(){const e={style:V.actionButton,buttonStyle:c.SXButtonStyle.AgnosticGradientFill,agnosticGradientColor:x.AgnosticGradientFillButtonColors.blue,title:S.getString("UserProfileDialog.AddPhoneNumber"),buttonSize:c.SXButtonSize.Medium,onPress:this._onAddPhoneButtonClicked},t={style:V.actionButton,buttonStyle:c.SXButtonStyle.AgnosticGradientFill,agnosticGradientColor:x.AgnosticGradientFillButtonColors.blue,title:S.getString("UserProfileDialog.AddEmail"),buttonSize:c.SXButtonSize.Medium,onPress:this._onAddEmailButtonClicked},{enableAddPhone:i,enableAddEmail:a}=this.state.userProfileScreen||{};return this.state.userContacts?(0,n.jsxs)(s.View,Object.assign({style:V.phoneEmailButtonsContainer},{children:[i&&o.isEmpty(this.state.userContacts.phoneNumbersAndParts)&&(0,n.jsx)(w.default,Object.assign({},e)),a&&o.isEmpty(this.state.userContacts.emails)&&(0,n.jsx)(w.default,Object.assign({},t))]})):null}_onAddPhoneButtonClicked(){g.track(new _.UserProfileChange({origin:d.DialogNavOrigin.UserProfilePage,addPhoneNumber:!0}))}_onAddEmailButtonClicked(){g.track(new _.UserProfileChange({origin:d.DialogNavOrigin.UserProfilePage,addEmail:!0}))}_performNavigation(){const e=F.default.newCauseId();g.log(u.LogTraceArea.Onboarding,"UserProfileDialog._performNavigation causeId: "+e),this._sendTelemetryEvent(d.DialogNavExit.Submit),this.props.route.params.scenarioNavigator&&this.props.route.params.scenarioNavigator.goNext()}_showPhoneNumberInSearch(e,t){a.default.showPhoneNumberInSearch(e,t).then((()=>{g.track(new P.PhoneNumberDiscoverabilityPrivacyEvent(!0,P.PhoneDiscoverabilityOrigin.UserProfile))})).catch((e=>{g.track(new P.PhoneNumberDiscoverabilityPrivacyEvent(void 0,P.PhoneDiscoverabilityOrigin.UserProfile,{errorStatusCode:null==e?void 0:e.code,errorMessage:I.default.errorAsString(e)})),g.log(u.LogTraceArea.ManageSearchInfo,"Service error while trying to enable phone number for discoverability. Error: "+I.default.errorAsString(e))}))}_sendTelemetryEvent(e){this._telemetryEvent&&(this._telemetryEvent.setExit(e),v.default.track(this._telemetryEvent),this._telemetryEvent=void 0)}test_showPhoneNumberInSearch(e,t){return this._showPhoneNumberInSearch(e,t)}}t.default=U},137799:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UserProfileDialog=t.TranslationSettingsPanel=t.ThirdPartyNoticesPanel=t.ThemeDialog=t.TelemetryPerfPanel=t.SubtitlesCallingSettingsPanel=t.SpeechConsentPanel=t.SplashScreenNavigation=t.SlimcoreFlagsPanel=t.SettingsGroupPanel=t.SendDiagnosticLogsPanel=t.ReportConcernModal=t.RawPreferences=t.PromptPermissionDialog=t.ProfilePicturePanel=t.PnvDebugNavigation=t.PnvEnterNumberNavigation=t.PnvEnterCodeNavigation=t.MySettingsPanel=t.MobileHubWrapper=t.MobileHubHeaderRight=t.MobileHubHeaderLeft=t.MobileHubV2=t.MobileHub=t.MobileSettingsPanel=t.ManageUsersSettingsPanel=t.ManageUsersListPanel=t.ManageSearchInfoPanel=t.VoicePickerPanel=t.SpokenLanguagePickerPanel=t.LanguagePickerPanelOld=t.LanguagePickerPanel=t.FeatureFlags=t.DiagnosticToolsPanel=t.DetailsPanel=t.ConnectedUsersListPanel=t.CaptivePortalQuestionnaire=t.CallingSettingsPanel=t.CallerIdSettingsPanel=t.CallerIdNumberPanel=t.BlockedUsersListPanel=t.AlertsHubPanelNavigation=t.AdvancedCallingSettingsPanel=t.AbstractConfigList=t.AboutPanelNavigation=void 0;var n=i(578087);Object.defineProperty(t,"AboutPanelNavigation",{enumerable:!0,get:function(){return n.default}});var o=i(217267);Object.defineProperty(t,"AbstractConfigList",{enumerable:!0,get:function(){return o.default}});var s=i(873709);Object.defineProperty(t,"AdvancedCallingSettingsPanel",{enumerable:!0,get:function(){return s.default}});var a=i(565427);Object.defineProperty(t,"AlertsHubPanelNavigation",{enumerable:!0,get:function(){return a.default}});var r=i(151013);Object.defineProperty(t,"BlockedUsersListPanel",{enumerable:!0,get:function(){return r.default}});var l=i(692626);Object.defineProperty(t,"CallerIdNumberPanel",{enumerable:!0,get:function(){return l.default}});var c=i(772619);Object.defineProperty(t,"CallerIdSettingsPanel",{enumerable:!0,get:function(){return c.default}});var d=i(707095);Object.defineProperty(t,"CallingSettingsPanel",{enumerable:!0,get:function(){return d.default}});var u=i(217756);Object.defineProperty(t,"CaptivePortalQuestionnaire",{enumerable:!0,get:function(){return u.default}});var g=i(666222);Object.defineProperty(t,"ConnectedUsersListPanel",{enumerable:!0,get:function(){return g.default}});var h=i(57231);Object.defineProperty(t,"DetailsPanel",{enumerable:!0,get:function(){return h.default}});var p=i(849899);Object.defineProperty(t,"DiagnosticToolsPanel",{enumerable:!0,get:function(){return p.default}});var S=i(50035);Object.defineProperty(t,"FeatureFlags",{enumerable:!0,get:function(){return S.default}});var m=i(750876);Object.defineProperty(t,"LanguagePickerPanel",{enumerable:!0,get:function(){return m.default}});var C=i(449896);Object.defineProperty(t,"LanguagePickerPanelOld",{enumerable:!0,get:function(){return C.default}});var y=i(716079);Object.defineProperty(t,"SpokenLanguagePickerPanel",{enumerable:!0,get:function(){return y.default}});var f=i(530197);Object.defineProperty(t,"VoicePickerPanel",{enumerable:!0,get:function(){return f.default}});var b=i(851424);Object.defineProperty(t,"ManageSearchInfoPanel",{enumerable:!0,get:function(){return b.default}});var _=i(715854);Object.defineProperty(t,"ManageUsersListPanel",{enumerable:!0,get:function(){return _.default}});var v=i(634887);Object.defineProperty(t,"ManageUsersSettingsPanel",{enumerable:!0,get:function(){return v.default}});var T=i(972660);Object.defineProperty(t,"MobileSettingsPanel",{enumerable:!0,get:function(){return T.default}});var P=i(510706);Object.defineProperty(t,"MobileHub",{enumerable:!0,get:function(){return P.default}});var k=i(350554);Object.defineProperty(t,"MobileHubV2",{enumerable:!0,get:function(){return k.MobileHub}});var A=i(40858);Object.defineProperty(t,"MobileHubHeaderLeft",{enumerable:!0,get:function(){return A.default}});var I=i(490720);Object.defineProperty(t,"MobileHubHeaderRight",{enumerable:!0,get:function(){return I.default}});var w=i(958144);Object.defineProperty(t,"MobileHubWrapper",{enumerable:!0,get:function(){return w.default}});var x=i(351464);Object.defineProperty(t,"MySettingsPanel",{enumerable:!0,get:function(){return x.default}});var N=i(892024);Object.defineProperty(t,"PnvEnterCodeNavigation",{enumerable:!0,get:function(){return N.default}});var M=i(887634);Object.defineProperty(t,"PnvEnterNumberNavigation",{enumerable:!0,get:function(){return M.default}});var L=i(222573);Object.defineProperty(t,"PnvDebugNavigation",{enumerable:!0,get:function(){return L.default}});var O=i(234898);Object.defineProperty(t,"ProfilePicturePanel",{enumerable:!0,get:function(){return O.default}});var D=i(20957);Object.defineProperty(t,"PromptPermissionDialog",{enumerable:!0,get:function(){return D.default}});var R=i(10250);Object.defineProperty(t,"RawPreferences",{enumerable:!0,get:function(){return R.default}});var E=i(847473);Object.defineProperty(t,"ReportConcernModal",{enumerable:!0,get:function(){return E.default}});var B=i(946999);Object.defineProperty(t,"SendDiagnosticLogsPanel",{enumerable:!0,get:function(){return B.default}});var F=i(663201);Object.defineProperty(t,"SettingsGroupPanel",{enumerable:!0,get:function(){return F.default}});var V=i(67164);Object.defineProperty(t,"SlimcoreFlagsPanel",{enumerable:!0,get:function(){return V.default}});var U=i(995182);Object.defineProperty(t,"SplashScreenNavigation",{enumerable:!0,get:function(){return U.default}});var j=i(398155);Object.defineProperty(t,"SpeechConsentPanel",{enumerable:!0,get:function(){return j.default}});var H=i(482994);Object.defineProperty(t,"SubtitlesCallingSettingsPanel",{enumerable:!0,get:function(){return H.default}});var W=i(921485);Object.defineProperty(t,"TelemetryPerfPanel",{enumerable:!0,get:function(){return W.default}});var z=i(747358);Object.defineProperty(t,"ThemeDialog",{enumerable:!0,get:function(){return z.default}});var G=i(944699);Object.defineProperty(t,"ThirdPartyNoticesPanel",{enumerable:!0,get:function(){return G.default}});var K=i(359161);Object.defineProperty(t,"TranslationSettingsPanel",{enumerable:!0,get:function(){return K.default}});var q=i(404335);Object.defineProperty(t,"UserProfileDialog",{enumerable:!0,get:function(){return q.default}})},588391:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(496486),o=i(662783);class s extends o.GenericRestClient{constructor(){super(""),this._defaultOptions.priority=o.WebRequestPriority.DontCare,this._defaultOptions.acceptType="*/*",this._defaultOptions.contentType="application/bond-compact-binary"}sendTelemetryEvents(e,t,i,o,s){const a={headers:{"Client-Id":"NO_AUTH","SDK-Version":"AWT-Web-JS"}};return n.isString(t)&&(a.headers["Content-Encoding"]="base64"),a.excludeEndpointUrl=!0,this.performApiPostDetailed(e,t,a).then((e=>{s(e.statusCode,e.headers)}),(e=>{!0===e.timedOut?i(e.statusCode,e.headers):o(e.statusCode,e.headers)}))}}t.default=s},372816:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getValueBySearchAndRecommendationPair=void 0;const n=i(496486),o=i(397691),s=i(889391),a=i(169156),r=i(169156),l=i(13159),c=i(640363),d=i(994214),u=i(853374),g="service-settings.skypegraph-search-policy";t.getValueBySearchAndRecommendationPair=({searchable:e,recommendable:t})=>e?t?a.SkypeGraphSearchPolicy.SEARCHABLE:a.SkypeGraphSearchPolicy.SEARCHABLE_NOT_RECOMMENDABLE:t?a.SkypeGraphSearchPolicy.NOT_SEARCHABLE_RECOMMENDABLE:a.SkypeGraphSearchPolicy.NOT_SEARCHABLE;class h extends l.SkypeRestClient{constructor(){super(s.default.getConfigSettingsNoSubscription().optionsService.productionHost),this._defaultOptions.mustHaveValidSkypeToken=!0,this._defaultOptions.acceptType="json"}_getHeaders(e){const t=super._getHeaders(e);return t["X-Skypetoken"]=d.default.getRawSkypeToken(),t["X-Skype-Version-ID"]=c.default.getUIVersion(),t["X-Microsoft-Skype-Chain-ID"]=u.default.newGuid(),t["X-Microsoft-Skype-Message-ID"]=u.default.newGuid(),t}getIncludeMeInSearchPrivacyOption(){return this.performApiGet(`v1/users/self/options/${g}`).then((e=>(e=>{switch(e){case a.SkypeGraphSearchPolicy.SEARCHABLE:return{searchable:!0,recommendable:!0};case a.SkypeGraphSearchPolicy.NOT_SEARCHABLE_RECOMMENDABLE:return{searchable:!1,recommendable:!0};case a.SkypeGraphSearchPolicy.SEARCHABLE_NOT_RECOMMENDABLE:return{searchable:!0,recommendable:!1};case a.SkypeGraphSearchPolicy.NOT_SEARCHABLE_NOT_RECOMMENDABLE:default:return{searchable:!1,recommendable:!1}}})(e?e.value:a.SkypeGraphSearchPolicy.NOT_SEARCHABLE_RECOMMENDABLE)))}setIncludeMeInSearchPrivacyOption({searchable:e,recommendable:i}){const n={value:(0,t.getValueBySearchAndRecommendationPair)({searchable:e,recommendable:i})};return this.performApiPut(`v1/users/self/options/${g}`,n)}getUiColorOption(){return this.performApiGet(`v1/users/self/options/${a.UiColorOptionName}`).then((e=>e&&e.value?e.value.color:void 0))}setUiColorOption(e){const t={value:{color:e}};return this.performApiPut(`v1/users/self/options/${a.UiColorOptionName}`,t)}getIsCallForwardingEnabledOption(){const e=this.performApiGet(`v1/users/self/options/${r.CallForwardingOptionName}`).then((e=>!(!e||!e.value)&&e.value.state===r.CallingOptionValues.Enabled)),t=this.performApiGet(`v1/users/self/options/${r.VoicemailOptionName}`).then((e=>!(!e||!e.value)&&e.value.state===r.CallingOptionValues.Enabled));return o.all([e,t]).then((e=>e[0]||e[1]))}getAvatarPolicy(){return this.performApiGet(`v1/users/self/options/${r.AvatarPolicyOptionName}`).then((e=>e?e.value:a.OptionsServiceAvatarPolicyValueType.BUDDIES_OR_AUTHORIZED_CAN_SEE))}setAvatarPolicy(e){const t={value:e};return this.performApiPutDetailed(`v1/users/self/options/${r.AvatarPolicyOptionName}`,t)}getProfileInformedUserData(){return this.performApiGet(`v1/users/self/options/${r.ProfileInformedUserOptionName}`)}setProfileInformedUserData(e){const t={value:e};return this.performApiPutDetailed(`v1/users/self/options/${r.ProfileInformedUserOptionName}`,t)}getEmailMissedContentOptions(){return this._getUserOptionsBatch(a.OptionServiceOptions.EmailMissedCallReminders,a.OptionServiceOptions.EmailMissedMessageReminders)}setEmailMissedContentOption(e,t){return this._setUserOption(e,t)}_getUserOptionsBatch(...e){const t=n.join(e,",");return this.performApiGet(`v1/users/self/options?names=${t}`)}_setUserOption(e,t){const i={value:t};return this.performApiPutDetailed(`v1/users/self/options/${e}`,i)}}t.default=new h},761369:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(662783),o=i(397691),s=i(889391),a=i(897811),r=i(436237),l=i(192210),c=i(335704),d=i(13159),u=i(981956),g=i(640363),h=i(853374),p=i(3553),S="X-Skype-Request-Id";class m extends d.SkypeRestClient{constructor(){super(s.default.getConfigSettingsNoSubscription().rps.host),this._customErrorHandler=(e,t)=>{const i=t.requestOptions,o={statusCode:t.statusCode,statusText:t.statusText||"",date:t.headers.date||""};return 400===t.statusCode||401===t.statusCode||403===t.statusCode?(i.authTelemetry.failed("Request Failed",o),n.ErrorHandlingType.DoNotRetry):(i.authTelemetry.retry("Request Failed, will retry",o),n.ErrorHandlingType.RetryCountedWithBackoff)},this._defaultOptions.customErrorHandler=this._customErrorHandler,this._defaultOptions.priority=n.WebRequestPriority.Critical,this._defaultOptions.timeout=3e5,this._defaultOptions.retries=5}_getHeaders(e){const t=super._getHeaders(e);return t["X-Skype-Caller"]=g.default.getClientId(),t[S]=h.default.newGuid(),t}getSkypeAuthInfoFromRPSAccessToken(e,t=30*p.SECOND){const i={scopes:"client",clientVersion:g.default.getUIVersion(),access_token:e,site_name:"lw"},s={retries:5,timeout:t,priority:n.WebRequestPriority.Critical,authTelemetry:new c.default("RpsClient",l.ScenarioName.LoginAuth,{scenario:"skypeAuth",service:"RpsClient"})};return s.authTelemetry.begin(),this.performApiPostDetailed("rps/v1/rps/skypetoken",i,s).then((e=>{const t=e.body;if(!t){r.track(new a.FundamentalsDebugEmptyBodyEvent("RPS","getSkypeAuthInfoFromRPSAccessToken",e.requestHeaders[S],e.statusCode,e.statusText));const t={statusCode:e.statusCode||"",statusText:e.statusText||""};return s.authTelemetry.failed("Undefined response",t),o.Rejected(e)}return s.authTelemetry.succeeded(),{skypeId:t.skypeid,skypeToken:new u.default(t.skypetoken,Date.now()+1e3*t.expiresIn),signinName:t.signinname,anid:t.anid}}))}}t.default=new m},13159:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SkypeRestClient=void 0;const n=i(496486),o=i(516778),s=i(662783),a=i(397691),r=i(889391),l=i(544135),c=i(746096),d=i(436237),u=i(17791),g=i(994214);class h extends s.GenericRestClient{_blockRequestUntil(e){const t=r.default.getConfigSettingsNoSubscription().chat.maxSimultaneousRESTRequests;if(t){const e=u.default.getNetworkType(),i=t.maxRequestsByNetworkType&&t.maxRequestsByNetworkType[e]||t.defaultMaxRequests;i&&i!==s.SimpleWebRequestOptions.MaxSimultaneousRequests&&(s.SimpleWebRequestOptions.MaxSimultaneousRequests=i,d.log(c.LogTraceArea.GenericUnsafe,"Updated max simultaneous REST requests to "+i+" because current network type is "+o.Types.DeviceNetworkType[e])),s.SimpleWebRequestOptions.ReservedForCriticalRequests=t.reservedForCriticalRequests}if(e.mustHaveValidSkypeToken&&!g.default.hasUsableSkypeToken())return d.log(c.LogTraceArea.GenericUnsafe,"Blocking GenericRestClient call until valid SkypeToken arrives..."),g.default.performWhenValidSkypeTokenArrives()}performRequest(e,t){const i={timeout:e.timeout,priority:e.priority,retries:e.retries};return this._performApiCall(e.path,e.method,e.passedData,n.extend(i,t))}_performApiCall(e,t,i,o){return super._performApiCall(e,t,i,o).then((e=>{if(null!==e.body)return e;const{checkCorruptNullBody:t}=r.default.getConfigSettingsNoSubscription().restClient;if(!t)return e;const i=e.headers["content-length"],o=Number(i);if(n.isNaN(o)||0===o||4===o)return e;if(24===o&&"gzip"===e.headers["content-encoding"])return e;let s=this.constructor.name;if(!s){const e=/function (.{1,})\(/.exec(this.constructor.toString());s=e&&e.length>1?e[1]:""}const l=Object.assign(Object.assign({},e),{timedOut:!1,canceled:!1,invalidNullBody:!0});return a.Rejected(l)}))}performRequestBackground(e,t,i,o){const s={timeout:i.timeout,priority:i.priority,retries:i.retries};return this._performApiCallBackground({backgroundType:e,backgroundContext:t,apiPath:i.path,action:i.method,postData:i.passedData,requestOptions:n.extend(s,o)})}_performApiCallBackground(e){const t=n.defaults({},e.requestOptions,this._defaultOptions);t.mustHaveValidSkypeToken&&(g.default.hasUsableSkypeToken()||d.error(c.LogTraceArea.GenericUnsafe,"API is supposed to have a valid skypetoken but does not"));const i=!t.overrideGetHeaders&&!t.headers,o=n.extend({},i?this._getHeaders(t):void 0,t.overrideGetHeaders,t.headers,t.augmentHeaders);t.contentType||(t.contentType=n.isString(e.postData)?"form":"json");const a=t.excludeEndpointUrl?e.apiPath:this._endpointUrl+e.apiPath,r={subscriberType:e.backgroundType,context:e.backgroundContext,action:e.action,url:a,headers:o,acceptType:s.SimpleWebRequest.mapContentType(t.acceptType||"json"),contentType:s.SimpleWebRequest.mapContentType(t.contentType),downloadToUri:e.downloadGetToUri,downloadToPublicFolder:!!e.downloadToPublicFolder,downloadPublicFolderUseSkypeFolder:!!e.downloadPublicFolderUseSkypeFolder,filename:e.filename,priority:t.priority,withCredentials:t.withCredentials,timeout:t.timeout,progressTimeout:t.progressTimeout,resumable:t.resumable,resumableUploadStatusUrl:t.resumableUploadStatusUrl,resumableAttemptsSoFar:t.resumableAttemptsSoFar};if(e.postData){const t=e.postData.uri;n.isObject(e.postData)&&t?r.postFileUri=t:r.postData=e.postData}return l.default.startTransfer(r)}}t.SkypeRestClient=h},500127:e=>{e.exports=JSON.parse('[{"name":"all_notifications_panel","required":true,"fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"ItemClicked","fields":["Type"],"required":true},{"name":"ItemLoaded","fields":["Type"],"required":true}]}},{"name":"billing_flow","required":true,"fields":["flowType","responseCode"],"extends":"telemetryeventbase"},{"name":"bing_auto_suggestion","required":true,"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Clicked","required":true},{"name":"Shown","required":true}]}},{"name":"bing_trending_search","required":true,"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Clicked","required":true},{"name":"Shown","required":true}]}},{"name":"bing_iab_header","required":true,"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Clicked","required":true},{"name":"Shown","required":true}]}},{"name":"bing_message_attribution","fields":["Type","Source"],"extends":"conversationtelemetrybase"},{"name":"bingasonchatlisttelemetryevents","fields":["Origin","Suggestion"],"extends":"bing_auto_suggestion"},{"name":"bing_search_history","required":true,"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Clicked","required":true},{"name":"Shown","required":true}]}},{"name":"bingimageclicknotificationtelemetry","required":true,"fields":["StatusCode"],"extends":"telemetryeventbase"},{"name":"bing_web_search_history","required":true,"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Delete","required":true},{"name":"ClearAll","required":true}]}},{"name":"callbase","fields":["CallId","CallDurationSeconds","ParticipantId","ConversationId","ToggleCameraCount","LocalMuteCount","LocalUnmuteCount","Origin","CallConversationMriNamespace","CallConnectionDurationMilliseconds","PhotoSnapshotCount","DidUserPostPhotoSnapshot","PhotoSnapshotAudioCount","PhotoSnapshotVideoCount","PhotoSnapshotScreenShareCount","PhotoReactionCount","MuteMicButtonPressCount"],"extends":"telemetryeventbase"},{"name":"calling_call","required":true,"fields":["CallingStack","IsMeetNow","IsGroupCall","IsPSTNCall","IsCallCreator","IsTranslatedCall","StartCaptioningCount","StopCaptioningCount","StartPstnTranslationAttemptCount","StartSkypeTranslationAttemptCount","StopSkypeTranslationAttemptCount","SkypeTranslationStartedCount","SkypeTranslationStoppedCount","TranslationConsentChangeDate","TranslationTruvoiceConsentChangeDate","StartTruvoiceCount","StopTruvoiceCount","StartTranslationAutoDetectCount","StopTranslationAutoDetectCount","DidReceiveCaptions","DidRenderRemoteVideo","FirstCaptionReceivedLengthSeconds","FailedCaptioningConfigCount","ReceiverSetupCount","ConversationId","StartVideoCount","StartScreenSharingCount","StopScreenSharingCount","StartSoundSharingCount","CancelScreenSharingCount","ScreenSharingDroppedCount","StartRecordingCount","StopRecordingCount","StartNdiCount","StopNdiCount","ShowBlockedVideoBannerCount","MaxConnectedParticipants","ToggleVideoSuccessfulCount","StartBackgroundBlurCount","StopBackgroundBlurCount","StartBackgroundEffectBlurCount","StopBackgroundEffectBlurCount","StartBackgroundEffectImageCount","StopBackgroundEffectImageCount","BingBackgroundEffectCaptionClickCount","ScreenShareControlSentControlRequestCount","ScreenShareControlRequestAcceptedCount","ScreenShareControlRequestDeniedCount","ScreenShareControlGrantedCount","HadNewCallStageEnabled","HadOldCallStageEnabled","HadNativeIncomingCallNotificationsEnabled","AverageCallingStoreUpdateTime","Source","ZoomedInCount","ZoomedInDuration","ZoomedOutCount","ZoomDragUsed","ZoomUIControlsUsedCount","ZoomScrollWheelUsedCount","ZoomKeyboardUsedCount","ZoomTrackPadUsedCount","ShowShareTwinCamConnectionCount","TwinCamConnectionUsedCount","TwinCamConnectionFailedCount","StopTwinCamCount","AbleToStartTwinCam","CallNetworkErrorReason","CallManagerUsed","IsIgnoringBatteryOptimizations","CaptionsPositionModeChangeCount","LastCaptionsPositionMode","CaptionsStartingMessageClickedCount","DidShowReconnectUI","CallReconnectDuration","CallDurationAfterReconnect","CallDroppedDuringReconnect","DidShowPoorConnectionUI","FailedToggleMicCount","ToggleMicTimedOutCount","FailedHangUpCount","HangUpDuration.","FailedToggleVideoCount","ToggleVideoBestDuration","ToggleVideoMedianDuration","ToggleVideoWorstDuration","NoiseSuppressionAvailable"],"extends":"callbase"},{"name":"mdsc_call_quality_feedback","required":true,"fields":["call_mos_score","call_mos_score_problem_tokens","call_max_connected_participants"],"extends":"telemetryeventbase"},{"name":"calling_call_entry_point","required":true,"fields":["Origin","CallId","IsRejoiningCall","IsGroupCall","IsVideoCall","IsPstnCall","IsIncomingCall","ConversationId","CauseId"],"extends":"prioritytelemetryeventbase"},{"name":"calling_call_intention","required":true,"fields":["CallIntentionOrigin","IsGroupCall","IsVideoCall","IsPstnCall","ConversationId","CauseId"],"extends":"telemetryeventbase"},{"name":"calling_warm_call_notification","extends":"telemetryeventbase"},{"name":"calling_background_effects_settings","required":true,"fields":["EffectType","HasActiveCall","IsPredefinedImage","PredefinedImageName"],"extends":"telemetryeventbase"},{"name":"calling_background_effects_bing_click","extends":"telemetryeventbase"},{"name":"calling_bing_background_download_api","extends":"telemetryeventbase"},{"name":"callbackremindertapped","extends":"telemetryeventbase"},{"name":"calling_incoming_video_notification","extends":"telemetryeventbase"},{"name":"audiooutputdeviceswitcher","extends":"telemetryeventbase"},{"name":"calling_call_captions_notifications","fields":["Action","CallId","Type","Variant","ActionButton"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"NotificationDisplayed","required":true},{"name":"NotificationClicked","required":true}]}},{"name":"calling_action","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"BackgroundBlurEvent","fields":["CallId","BlurSessionDuration"]},{"name":"BackgroundEffectEvent","fields":["CallId"]},{"name":"CallKitError","fields":["CallId","Operation","ErrorDomain","ErrorCode","Terminal"],"required":true},{"name":"CallKitSuccess"},{"name":"CallActionCalleeUserPresence"},{"name":"CallInitFailure","fields":["CauseId","CallInitOrigin"],"required":true},{"name":"IncomingCallNotificationFailure","fields":["CallId","Reason","Details"],"required":true},{"name":"StartRinging","fields":["CallId","Origin"],"required":true},{"name":"StopRinging","fields":["CallId","Reason","RingingDuration","Details"],"required":true},{"name":"EnterFromCallCard"},{"name":"TouchBarButtonClick"},{"name":"CallManagerError","fields":["MethodName","CallId"],"required":true},{"name":"Error","fields":["CallId","CallFailureType","CallFailureTypeLabel","CallTerminatedReason","CallTerminatedReasonLabel","CallValidationFailureReason","ErrorMessage","CallAction","CauseId"],"required":true},{"name":"InviteFreeDecline"},{"name":"PushNotification","fields":["CallId","EventType","IsStarted","Source","TimeWaitingToProcess","ActivationState","StopRingReason","ParticipantId","IsDuplicate","RegistrationId"],"required":true},{"name":"TokenRequested"},{"name":"CallAddPhotosEvent","extends":"CallAddPhotosBaseEvent"},{"name":"CallAddPhotosWithFabEvent","extends":"CallAddPhotosBaseEvent"},{"name":"AddToCallEvent"},{"name":"CallAudioSettingsPopup","fields":["CallId","DidChangeMicDevice","DidChangeSpeakerDevice","DidAdjustSpeakerVolume","DidAdjustMicVolume"],"required":true},{"name":"CallCaptioningEvent","fields":["Action","IsAutoJoin","CaptioningLengthSeconds","FistCaptionReceivedLengthSeconds","CallId","CaptioningSessionId","SpokenLanguage","SubtitleLanguage","OtherSpokenLanguage","FirstCaptionReceivedLengthSeconds","StartMessageClickedCount"],"required":true},{"name":"CallPstnTranslationLanguageChangeEvent","fields":["CallId","CaptioningSessionId","PrevLanguage","Language","IsLocal"],"required":true},{"name":"CallPstnTranslationSettingsOpened","fields":["CallId","CaptioningSessionId"]},{"name":"CallCrash","fields":["CallId","CallState","ParticipantId"],"required":true},{"name":"CallDataChannelEvent"},{"name":"CallFullScreenBotError","fields":["CallId","ErrorCode","BotType"],"required":true},{"name":"CallAudienceEvent"},{"name":"CallGridViewEvent"},{"name":"CallMergeEvent"},{"name":"MuteEveryone"},{"name":"CallPreview"},{"name":"CallRecorderBotDebugEvent"},{"name":"CallRecordingEvent"},{"name":"InCallRosterSession"},{"name":"CallStageLayoutChange"},{"name":"CallTranslatorDebug"},{"name":"AddBotToCallInitiated","fields":["BotType","CallId"],"required":true},{"name":"AddBotToCallSucceeded","fields":["BotType","CallId","AddBotDurationInMs"],"required":true},{"name":"AddBotToCallFailed","fields":["BotType","CallId","AddBotDurationInMs","ErrorCode"],"required":true},{"name":"CallVideoSettingsPopup","fields":["CallId","DidChangeCameraDevice"],"required":true},{"name":"CallViewMenuAction"},{"name":"CancelPreheatedCallNotJoined"},{"name":"CanvasAndRibbonActionsEvent"},{"name":"EndCallPopupMenuEvent"},{"name":"FallbackFromJoinPreheatedToRegularJoin"},{"name":"FullChatUX"},{"name":"InCallActivity"},{"name":"InCallReaction"},{"name":"InCallUFD","fields":["CallId","UFDType","UFDActionType"],"required":true},{"name":"LocalVideoActionsEvent"},{"name":"MaybeEndCallFromAndroidBtScoDisconnect"},{"name":"MediaAction"},{"name":"MobileCallAnswerEvent"},{"name":"NdiBroadcastEvent"},{"name":"OverflowMenuOpened"},{"name":"RaiseHand"},{"name":"LowerMyHand"},{"name":"LowerOthersHand"},{"name":"RaisedHandListExpanded"},{"name":"RibbonSettingsMenuEvent"},{"name":"RingTheGroup"},{"name":"RinglessCallInterstitial"},{"name":"GetIcon"},{"name":"GetPreview"},{"name":"ScreenSharingStopped"},{"name":"SpeakerView"},{"name":"SystemHotKeyCall"},{"name":"TogetherModePanelAction"},{"name":"UnansweredCallActionEvent","fields":["CallId","CallingTerminatedReason","CallingFailureType","UcuxReason","UcuxAction"],"required":true},{"name":"Zoomed"},{"name":"PinCallParticipant","fields":["CallId"],"required":true},{"name":"UnpinCallParticipant","fields":["CallId"],"required":true},{"name":"ToggleCallTray","fields":["CallId","WasHidden"],"required":true},{"name":"CallConnectedOnAnswer","fields":["CallId","Origin","ConnectedIn","IsTimedOut"],"required":true},{"name":"IncomingCallScreenDisplayed","fields":["CallId","Duration","IsTimedOut"],"required":true},{"name":"CallSlimCoreError","fields":["CallId","SlimCoreErrorType","CauseId","TerminatedReason","CurrentState","NewState"],"required":true},{"name":"CallAddPhotosBaseEvent"}]}},{"name":"s4l_call_tabs","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"CallTabsSearch","fields":["origin"],"extends":"CallTabsBase","required":true},{"name":"CallTabsButtons","fields":["tab","button","event","userHasEntitlements"],"extends":"CallTabsBase","required":true},{"name":"CallTabsList","fields":["tab","event"],"extends":"CallTabsBase","required":true},{"name":"CallTabsBase","fields":["Action"]}]}},{"name":"captureactionbase","extends":"telemetryeventbase"},{"name":"navigationcapturescreen","extends":"captureactionbase"},{"name":"camera_action","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"CameraVisibleTime"},{"name":"MarkupAdded"},{"name":"VideoReencode"},{"name":"CameraFailure","extends":"CameraEventBase"},{"name":"CameraFirstFrame","extends":"CameraEventBase"},{"name":"MediaCaptured","fields":["MediaCount","Success","FailureReason"],"extends":"CameraEventBase","required":true},{"name":"QRCodeScan"},{"name":"ColorFilterFailure"},{"name":"ColorFilterRenderDuration"},{"name":"CameraEventBase","fields":["Source"]}]}},{"name":"office_lens_lenssdk_launchlensandroid","required":true,"fields":["SessionId","LensSdkVersion","TelemetryEventTimestamp","CurrentWorkFlowType","CameraXBindUsecasesToPreview","IsEmbeddedLaunch","RecoveryMode","IsDexModeEnabled","IsInterimCropEnabled","IsMultiWindowEnabled","IsTalkBackEnabled","SDKMode","CameraXBindUsecasesApi","LaunchPerf"],"extends":"telemetryeventbase"},{"name":"office_lens_lenssdk_savemediaandroid","required":true,"fields":["SessionId","LensSdkVersion","TelemetryEventTimestamp","CurrentWorkFlowType","MediaId","FileSizeBeforeCleanUp","ImageWidthBeforeCleanUp","ImageHeightBeforeCleanUp","FileSizeAfterCleanUp","ImageWidthAfterCleanUp","ImageHeightAfterCleanUp","Source","ProcessMode","Filter","FileSizeAfterSave","Reason","Duration","TrimmedDuration","OriginalVideoFileSize"],"extends":"telemetryeventbase"},{"name":"office_lens_lenssdk_launchlensios","required":true,"fields":["Lens_SessionId","version","currentWorkflowId","LensEventName","defaultWorkflow","imageDPI","isExistingUser","isFirstLaunch","isResumeSession","launchReason","launchWorkflowItem","mediaCompressionFactor"],"extends":"telemetryeventbase"},{"name":"office_lens_lenssdk_savemediaios","required":true,"fields":["Lens_SessionId","version","currentWorkflowId","LensEventName","mediaId","source","mode","filter","imageSize","imageDPI","sizeinPixel","Ink","TextSticker","orignalImageSize","processedImageSize","VideoEntity","duration"],"extends":"telemetryeventbase"},{"name":"office_lens_fallback_android","required":true,"fields":["Mode"],"extends":"telemetryeventbase"},{"name":"captureprovider","required":true,"fields":["Scenario","Provider","Success","UserCancelled","FailureReason"],"extends":"telemetryeventbase"},{"name":"s4l_entitlement_experiments","fields":["Action","ExperimentName","ExperimentLocation","LayoutOption","UserEntitlementsSummary","IsFreeTrialAvailable","NavigateTo"],"extends":"telemetryeventbase"},{"name":"s4l_entitlement_ucux_cta","fields":["Action"],"extends":"telemetryeventbase"},{"name":"s4l_callerid","fields":["Action","Location","LayoutOption","TerminatedReasonName","PromptShownCount","MessageShownCount","DialpadShowCount","CampaignDurationDays","Type","Attempt"],"extends":"telemetryeventbase"},{"name":"s4l_failure_screen","required":true,"fields":["Action","Location"],"extends":"telemetryeventbase"},{"name":"s4l_component","fields":["Action","Location","Component"],"extends":"telemetryeventbase"},{"name":"s4l_taster_call_ended","fields":["Action","CallDuration","TerminatedReason"],"extends":"telemetryeventbase"},{"name":"credit_upsell","fields":["Action"],"extends":"telemetryeventbase"},{"name":"messaging_sms","required":true,"fields":["Action","ClientMessageId","ErrorCategory","Status","CallerIdType"],"extends":"telemetryeventbase"},{"name":"s4l_dialpad","required":true,"fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"NavigateToDialpad","fields":["NavigationSource","UsePrefilledNumber"]},{"name":"PasteNumber"},{"name":"StartCall"},{"name":"EmergencyNumber"},{"name":"EmergencyCall","fields":["Action"],"required":true},{"name":"EmergencyCallFailed","fields":["Action"],"required":true},{"name":"EmergencyCallDefaultCountryChanged","fields":["Country"]},{"name":"DialerPanelComponentClick","fields":["Target","UserEntitlementsSummary"]},{"name":"SaveContactButtonShow"},{"name":"SaveContactSuceeded"},{"name":"SaveContactCancelled"},{"name":"ContactSelected"},{"name":"DefaultCountryStored","fields":["CountryOld","CountryNew"]},{"name":"TasterImageShown"},{"name":"E911Acknowledgement","fields":["Action"],"required":true},{"name":"E911LocationConsent","fields":["Action","IsGranted"],"required":true},{"name":"E911LocationUpdate","fields":["Action"],"required":true},{"name":"E911EmergencyContent","fields":["Action"],"required":true},{"name":"E911BingMaps","fields":["Action","StatusCode"],"required":true}]}},{"name":"monetization_ads","fields":["Action","AdsElapsedTime","ErrorCode","ErrorMessage"],"extends":"telemetryeventbase"},{"name":"s4l_atu","fields":["Action"],"extends":"telemetryeventbase"},{"name":"adid_provisioning","fields":["ad_id","MSACID"],"extends":"telemetryeventbase"},{"name":"s4l_offers","required":true,"fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"PromotionDetailsReceived","fields":["OfferType","InAppAllowed","GoLink"]},{"name":"PurchaseContinuationPanelOpened","fields":["Action","OfferType","CampaignRef"]},{"name":"RecommendedSubscriptionsLoaded","fields":["Action","CardsToShowCount","TotalCardsCount"],"required":true},{"name":"SkypeNumberLoaded","fields":["StartOrderSessionId"],"required":true},{"name":"CreditProductsLoaded","fields":["StartOrderSessionId"],"required":true},{"name":"CreditProductRequestFailed","fields":["StartOrderSessionId","IsNative"],"required":true},{"name":"ContinueButtonClicked","fields":["CardType","Location","OfferType","CampaignRef","CardsToShowCount","isDefaultOpened","StartOrderSessionId","OrderId","SkuId"]},{"name":"OffersIntroductionButtonClick","fields":["Step"]},{"name":"CreditOfferOptionClick","fields":["CreditOffer","IsStacked","CreditPickerSize"]},{"name":"BuyCreditOfferOptionClick","fields":["CreditOffer","ButtonType","Location"]},{"name":"CreditPickerRenderingError","fields":["Action"],"required":true},{"name":"CreditPickerNoOffersToRender","fields":["Action","Location","StartOrderSessionId"],"required":true},{"name":"CreditPickerNoOffersRetryClick","fields":["Location"]},{"name":"SkypeNumberPanelOpened","fields":["Location"]},{"name":"SkypeNumberPurchaseFlowClick","fields":["ButtonClicked","DefaultClick","StartOrderSessionId"]},{"name":"SkypeNumberPurchaseFlowOptionClick","fields":["SkypeNumberOption"]},{"name":"SkypeNumberPurchaseFlowOptionSelected","fields":["SkypeNumberOption","OptionSelectedCountryRegion","OptionSelectedArea","OptionSelectedPrefix"]},{"name":"LoadingFinished","fields":["Action","Duration","Location","ClosedBeforeLoadingFinish","IsNative","StartOrderSessionId"],"required":true},{"name":"SkypeNumberGetClicked"},{"name":"SkypeNumberProfileGetClicked","fields":["Location"]},{"name":"SkypeNumberMeControlGetClicked"},{"name":"SkypeNumberListEntryClicked"},{"name":"SkypeNumberListGetClicked"},{"name":"SkypeNumberInfoClicked"},{"name":"SkypeNumberInfoScreenContinueButtonClicked"},{"name":"SkypeNumberMeControlListEntryClicked"},{"name":"SkypeNumberProfileSectionViewed"},{"name":"SkypeNumberProfileSectionViewedNativeExperience"},{"name":"SkypeNumberProfileSectionClickedShowPurchaseFlow","fields":["Location"]},{"name":"SkypeNumberProfileSectionClickedShowListNumbers","fields":["Location"]},{"name":"SkypeNumberMeControlSectionViewed"},{"name":"SkypeNumberMeControlSectionViewedNativeExperience"},{"name":"SkypeNumberMeControlSectionClickedShowPurchaseFlow","fields":["Location"]},{"name":"SkypeNumberMeControlSectionClickedShowListNumbers","fields":["Location"]},{"name":"SkypeNumberPurchaseButtonClickedShowPurchaseFlow","fields":["Action","Location"]},{"name":"SkypeNumberRefreshedSkypeNumberTenTimes"},{"name":"SkypeNumberReservationSuceeded"},{"name":"SkypeNumberReservationFailed","fields":["Action"],"required":true},{"name":"SkypeNumberPurchaseEntryButtonShown","fields":["Location"]},{"name":"SkypeNumberLearnMoreButtonShown","fields":["Location"]},{"name":"SkypeNumberWebGetButtonShown","fields":["Location"]},{"name":"SkypeNumberFetchedAfterBuy","fields":["Action","FromBuyToFetchDuration"],"required":true},{"name":"SkypeNumberWasProvisioned","fields":["Action"],"required":true},{"name":"SkypeNumberCopyClicked"},{"name":"SkypeNumberDesktopShareClicked"},{"name":"SkypeNumberDesktopShareClickedOutlook"},{"name":"SkypeNumberDesktopShareClickedDefaultMail"},{"name":"SkypeNumberDesktopShareClickedGmail"},{"name":"SkypeNumberShareClicked"},{"name":"SkypeNumberShareError","fields":["Action"],"required":true},{"name":"SkypeNumberShareSuccess"},{"name":"SkypeNumberEmailClicked"},{"name":"SkypeNumberSettingsClicked"},{"name":"SkypeNumberManageClicked"},{"name":"SkypeNumberOverlayDisplayed"},{"name":"SkypeNumberPanelViewed"},{"name":"SkypeNumberDialogOpened"},{"name":"SkypeNumberActionClickedSettings"},{"name":"SkypeNumberActionClickedReactivate"},{"name":"SkypeNumberActionClickedExtend"},{"name":"SkypeNumberActionClickedIosSettings"},{"name":"SkypeNumberActionDialogClickedSettings"},{"name":"SkypeNumberActionDialogClickedReactivate"},{"name":"SkypeNumberActionDialogClickedExtend"},{"name":"SkypeNumberActionDialogClickedIosSettings"},{"name":"SkypeNumberCallerIdDisabled"},{"name":"SkypeNumberCallerIdEnabled"},{"name":"SkypeNumberCallerIdChanged"}]}},{"name":"s4l_stratus_commerce","required":true,"fields":["Action","ApiFunction","TimeSpent","Method","AcceptType","EndpointUrl","StatusCode","StratusStatusCode"],"extends":"telemetryeventbase"},{"name":"s4l_payments","required":true,"fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"gplay_step","fields":["step","supportsGooglePlay","supportsGooglePlaySubscriptions","errorCode","errorDomain","paymentStatus","product_id","product_price","product_currency","product_country","method","unexpectedCode","configuredProducts","receivedProducts","reinitializationCount","retryNumber"],"required":true},{"name":"gpay_step","fields":["step","errorCode","errorMessage"],"required":true},{"name":"payment_step","fields":["step","product_id","productIdentifier","paymentStatus","error","errorCode","errorDomain","errorBody","method","product_price","product_currency","product_country","code","transactionId","configuredProducts","received","identifier","location","billingPeriods","status","retryNumber","startOrderSessionId","orderId","skuid"],"required":true},{"name":"purchase_step","fields":["step"]},{"name":"buy_credit_click","extends":"PurchaseIntentBase","required":true},{"name":"buy_subscription_click","extends":"PurchaseIntentBase","required":true},{"name":"buy_skypenumber_click","fields":["CountryRegion","Area","Prefix"],"extends":"PurchaseIntentBase","required":true},{"name":"purchase_dialog_open","fields":["Action","DialogId"],"required":true},{"name":"purchase_dialog_click","fields":["Action","DialogId","ButtonType"],"required":true},{"name":"fetch_native_product","fields":["Duration","IsSuccess","Error"]},{"name":"send_credit","fields":["Step"],"required":true},{"name":"open_productpanel","fields":["StartOrderSessionId"],"required":true},{"name":"close_productpanel","fields":["StartOrderSessionId"],"required":true},{"name":"click_purchase_number_panel","fields":["StartOrderSessionId"],"required":true},{"name":"skype_order_create_success","fields":["order","SessionIdd","orderId"],"required":true},{"name":"skype_start_payment","fields":["StartOrderSessionId"],"required":true},{"name":"native_purchase_success","fields":["StartOrderSessionId","orderId","productId"],"required":true},{"name":"skypenumber_purchase_success","fields":["StartOrderSessionId"],"required":true},{"name":"skypenumber_purchase_failed","fields":["StartOrderSessionId","error"],"required":true},{"name":"native_order_delivered","fields":["startOrderSessionId","orderId"],"required":true},{"name":"PurchaseIntentBase","fields":["IsNative","Product","ProductCurrency","AppStoreCountry","TimeSpent","ButtonType"]}]}},{"name":"s4l_entitlement","required":true,"fields":["Action"],"extends":"prioritytelemetryeventbase","variation":{"key":"Action","variants":[{"name":"RatesFetching","fields":["Action","Duration"],"required":true},{"name":"OrderPollNotificationReceived","fields":["Action","Reason"],"required":true},{"name":"OrderNotificationOrEntitlementsUpdated","fields":["Action","ConsumeTime","DidConsumeFail","DidBalanceUpdate","DidSubscriptionsUpdate","DidSkypeNumbersUpdate","Reason"],"required":true},{"name":"EntitlementIntegrationError","fields":["Action","Step","Description"],"required":true},{"name":"PushEtagExpired","fields":["Action","CurrentEtag","PushEtag","EtagDiff"],"required":true},{"name":"ReactivationStep","fields":["Step"]},{"name":"BalanceStateNavigation","fields":["NavigationSource","EntitlementsCombination","ContentShown"],"required":true},{"name":"BalanceStatePanelComponentClick","fields":["Target"]},{"name":"SubscriptionDetailsLinkClick","fields":["SubscriptionId"]},{"name":"SubscriptionUpgrade","fields":["Step","OriginSubscriptionId","UpgradeSubscriptionId","OriginSubscriptionMinutesLeft"]},{"name":"SubscriptionSearchComponentClick","fields":["Target","SearchedCountry"]},{"name":"SubscriptionSearchAction","fields":["SearchedCountry"]},{"name":"ManageSubscription","fields":["Step","SubscriptionId"]},{"name":"AADCPanelLoaded","fields":["navigationScreen","infoLinkClicked"],"required":true}]}},{"name":"s4l_entitlement_polling","fields":["Action"],"extends":"prioritytelemetryeventbase","variation":{"key":"Action","variants":[{"name":"ServicesFetching","fields":["Duration"]},{"name":"BalanceStatePollNotificationReceived","fields":["Reason"]},{"name":"BalanceStatePollNotificationConsumed","fields":["ConsumeTime","DidConsumeFail","DidBalanceUpdate","DidSubscriptionsUpdate","DidSkypeNumbersUpdate","Reason"]}]}},{"name":"s4l_channels","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"ChannelOpen","required":true},{"name":"ChannelPreview","required":true},{"name":"ChannelFollow","fields":["Origin","WasSuccessful"],"required":true},{"name":"ChannelUnfollow","fields":["Origin","WasSuccessful"],"required":true},{"name":"ChannelMute","fields":["Origin","WasSuccessful"],"required":true},{"name":"ChannelUnmute","fields":["Origin","WasSuccessful"],"required":true},{"name":"ChannelShare","required":true},{"name":"FREOpen","required":true},{"name":"FREComplete","required":true}]}},{"name":"context_menu_event","required":true,"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Shown","required":true}]}},{"name":"kpibase","fields":["DeviceInfo_Os_Version"],"extends":"telemetryeventbase"},{"name":"telemetryeventbase","fields":["Skype_InitiatingUser_IsGuest","Skype_InitiatingUser_Username","ShellType","PlatformType","Version","Platform_Id","Platform_Uiversion","session_id","ChatEndpointId","NetworkType","ecs_etag","AppInfo.ExperimentIds","DeviceInfo.Model","DeviceInfo.Make"],"extends":"ariabase"},{"name":"kpi_inapp_activity_start","required":true,"fields":["Entry_Point","IsUedEventProcessingEnabled"],"extends":"prioritykpibase"},{"name":"messagecorrelationkpibase","fields":["Message_Correlation_Id","Registration_Id","Endpoint_Id","Conversation_Id","Client_Message_Id","Server_Message_Id","MriNamespace","ThreadSuffix"],"extends":"prioritykpibase"},{"name":"kpi_message_sent","required":true,"fields":["Sending_Time","Queue_Time","Blocked_Time","Retry_Count","Message_Type","Message_RawType","Character_Count","Bot_Conversation"],"extends":"messagecorrelationkpibase"},{"name":"kpi_message_delivered","required":true,"fields":["Message_Type","MessageRawType","CorrelationVector","Message_Origin","OriginsCount","MessageAlreadySeen","Delivery_Timestamp","DeliveryDelay","MessageStoreUsed"],"extends":"messagecorrelationkpibase"},{"name":"ariabase","fields":["AppInfo.Version","AppInfo.Language","UserInfo.Language","UserInfo.TimeZone","UserInfo.Id","DeviceInfo.OsName","DeviceInfo.OsVersion","DeviceInfo.Id","DeviceInfo.BrowserName","DeviceInfo.BrowserVersion","EventInfo.Name","EventInfo.SdkVersion","EventInfo.Source","EventInfo.Time"]},{"name":"browser_calling_support","required":true,"fields":["Action","ErrorMessage"],"extends":"telemetryeventbase"},{"name":"fundamentals_database_error","required":true,"fields":["WebSQLCode","SQLiteCode","Message"],"extends":"telemetryeventbase"},{"name":"fundamentals_empty_body_debug","required":true,"fields":["RestClient","Scenario","RequestId","StatusCode","StatusText"],"extends":"telemetryeventbase"},{"name":"all_notification_registration","required":true,"fields":["Action","Code","Message","NetworkConnectivityLevel","RegistrationAction"],"extends":"prioritytelemetryeventbase"},{"name":"all_reencode_session","required":true,"fields":["State","ReencodeDuration","OriginalAssetFetchDuration","HasOverlay","ErrorType","ErrorInfo","VideoDuration","SourceWidth","SourceHeight","SourceFileSize","OutputWidth","OutputHeight","OutputFileSize","EstimatedFileSize","TransactionID"],"extends":"telemetryeventbase"},{"name":"all_notification","required":true,"fields":["Action","EventType","EventTypeName","SignedIn","TimeToProcess","CorrelationVector"],"extends":"telemetryeventbase"},{"name":"push_notification","required":true,"fields":["EventType","EventCode","MessageId","ClientMessageId","IsMyMessage","Result","MessageCorrelationId","ErrorCode","CorrelationVector","EventDate","TelemetrySentFrom"],"extends":"telemetryeventbase"},{"name":"awt_stats","required":true,"fields":["TenantId"],"extends":"ariabase"},{"name":"ecs_tsclient_fetch_config","required":true,"fields":["fetch_delay_ms","fetch_response_code","fetch_attempts","authenticated_user","url","fetch_duration_valid","cache_available","response_size","config_age","config_expired","fetch_start","fetch_end","is_user_config","fetched_etag","fetch_timed_out","fetch_response_parsing_error","fetch_error_message"]},{"name":"appcore_report_problem_dialog"},{"name":"ipad_cred_migiration","required":true,"fields":["isDone"],"extends":"telemetryeventbase"},{"name":"watch_connected","required":true,"fields":["isConnected"],"extends":"telemetryeventbase"},{"name":"siri","required":true,"fields":["Action"],"extends":"telemetryeventbase"},{"name":"calendar_extension","required":true,"fields":["Action"],"extends":"telemetryeventbase"},{"name":"notification_received","required":true,"fields":["timestamp","correlationId","cv","eventType"],"extends":"telemetryeventbase"},{"name":"notification_slimcore_completed","required":true,"fields":["result","callId","eventType"],"extends":"telemetryeventbase"},{"name":"notification_handling","required":true,"extends":"telemetryeventbase"},{"name":"notification_emitted_to_react","required":true,"fields":["timestamp","correlationId","cv"],"extends":"telemetryeventbase"},{"name":"all_settings","extends":"telemetryeventbase"},{"name":"prioritytelemetryeventbase","extends":"telemetryeventbase"},{"name":"prioritykpibase","fields":["DeviceInfo_Os_Version"],"extends":"prioritytelemetryeventbase"},{"name":"purposefulevent","required":true,"fields":["CorrelationId"],"extends":"telemetryeventbase"},{"name":"local_storage_usage","required":true,"extends":"telemetryeventbase"},{"name":"all_navigation","required":true,"fields":["NavigationType","NavigationTo","CallId"],"extends":"telemetryeventbase"},{"name":"fundamentals_service_worker","required":true,"fields":["State"],"extends":"telemetryeventbase"},{"name":"engagementtelemetryeventbase","fields":["Action","CampaignId","T_CampaignId","T_VariantId","T_Iteration","PostMessageReason"],"extends":"telemetryeventbase"},{"name":"engagement_popcard_event","required":true,"extends":"engagementtelemetryeventbase","variation":{"key":"Action","variants":[{"name":"PopCardDelivered","fields":["DeliveryTime","SentTime","DeliveryDuration","MessageId","MessageCorrelationId"],"required":true},{"name":"PopCardReceived","required":true},{"name":"PopCardDisplay","required":true},{"name":"PopCardTapButton","fields":["buttonIndex"],"required":true},{"name":"PopCardParseError"},{"name":"PopCardBulkSizeExceeded"},{"name":"PopCardClientVersionMismatch"},{"name":"PopCardCompleted"},{"name":"PopCardDiscardedOnFirstRun"},{"name":"PopCardDiscardedForChild"},{"name":"PopCardDismiss"},{"name":"PopCardExpand"},{"name":"PopCardExperimentNotAllocated"},{"name":"PopCardExperimentVariantMismatch"},{"name":"PopCardExpired"},{"name":"PopCardInvalidPlaceholder"},{"name":"PopCardMissingContent"},{"name":"PopCardReceivedControl"},{"name":"PopCardSuppressed"},{"name":"PopCardTapCard"},{"name":"PopCardTimeout"},{"name":"PopCardUnsupportedValidForPeriod"},{"name":"PopCardUnsupportedDelayForPeriod"},{"name":"PopCardEnqueued"},{"name":"PopCardDequeued"},{"name":"PopCardWrongLanguage"},{"name":"PopCardWrongPlatform"}]}},{"name":"engagement_notice_event","required":true,"extends":"engagementtelemetryeventbase","variation":{"key":"Action","variants":[{"name":"NoticeDelivered","fields":["DeliveryTime","SentTime","DeliveryDuration","MessageId","MessageCorrelationId"],"required":true},{"name":"NoticeReceived","required":true},{"name":"NoticeTapCard","required":true},{"name":"NoticeTapButton"},{"name":"NoticeBulkSizeExceeded"},{"name":"NoticeClientVersionMismatch"},{"name":"NoticeCompleted"},{"name":"NoticeDiscardedOnFirstRun"},{"name":"NoticeDiscardedForChild"},{"name":"NoticeDismiss"},{"name":"NoticeExperimentNotAllocated"},{"name":"NoticeExperimentVariantMismatch"},{"name":"NoticeExpired"},{"name":"NoticeInvalidPlaceholder"},{"name":"NoticeMissingContent"},{"name":"NoticeParseError"},{"name":"NoticeReceivedControl"},{"name":"NoticeTimeout"},{"name":"NoticeUnsupportedContentType"},{"name":"NoticeUnsupportedValidForPeriod"},{"name":"NoticeUnsupportedDelayForPeriod"},{"name":"NoticeEnqueued"},{"name":"NoticeDequeued"},{"name":"NoticeWrongLanguage"}]}},{"name":"engagement_push_notification_event","required":true,"extends":"engagementtelemetryeventbase","variation":{"key":"Action","variants":[{"name":"PushNotificationDelivered","fields":["DeliveryTime","SentTime","DeliveryDuration","MessageId","MessageCorrelationId"],"required":true},{"name":"PushNotificationReceived","required":true},{"name":"PushNotificationDisplayed","required":true},{"name":"PushNotificationTap","required":true},{"name":"PushNotificationClientVersionMismatch"},{"name":"PushDiscardedForChild"},{"name":"PushNotificationDismissedDueToActivity"},{"name":"PushNotificationDismissedOnFeatureCategory"},{"name":"PushNotificationDisplayFailed"},{"name":"PushNotificationExperimentNotAllocated"},{"name":"PushNotificationExperimentVariantMismatch"},{"name":"PushNotificationParseError"},{"name":"PushNotificationReceivedControl"},{"name":"PushNotificationSuppressed"},{"name":"PushNotificationTimestampParsingError"},{"name":"PushNotificationWrongLanguage"}]}},{"name":"engagement_pull_request","required":true,"fields":["DidSucceed","Source","FailureReason","CampaignId","CampaignVariant","RequestDurationMs","ServerStatusCode","MessageCorrelationId"],"extends":"telemetryeventbase"},{"name":"engagement_guest_upsell","required":true,"fields":["Action","Type"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"UpsellPanelPresented","required":true},{"name":"SisuStarted","required":true},{"name":"SisuFinished","required":true},{"name":"MeetNowFlowStarted"},{"name":"UnknownAction"}]}},{"name":"engagement_banner","required":true,"fields":["Action","BannerType"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Displayed","required":true},{"name":"Clicked","required":true},{"name":"Dismissed"},{"name":"NotDisplayed"}]}},{"name":"engagement_tooltip","required":true,"fields":["Action","TooltipType"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Display","required":true}]}},{"name":"engagement_settings","required":true,"fields":["Source","IsToggled"],"extends":"telemetryeventbase"},{"name":"engagement_coach_mark_event","required":true,"fields":["Action","CoachMarkType","Error","ErrorDescription"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Open","required":true},{"name":"Close"},{"name":"Suppress","required":true}]}},{"name":"inviteuser","fields":["Status","Count"],"extends":"telemetryeventbase"},{"name":"contactinvite","fields":["Type","Origin"],"extends":"telemetryeventbase"},{"name":"engagement_feedback_event","extends":"engagementtelemetryeventbase"},{"name":"feedback_navigation","fields":["Target","IsFailure"],"extends":"telemetryeventbase"},{"name":"feedbackinitiated","extends":"telemetryeventbase"},{"name":"celebration_notification","fields":["Action","CampaignId","CardGuid","NumberOfTopContacts","DidIdentifyDifferentTopContacts","CelebratedUser"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"NotificationCreated"},{"name":"SelectedTopContactUserProfileIncomplete"},{"name":"PullCampaignContentServiceFailed"},{"name":"ContactCutOffLimitReached"},{"name":"NotificationAlreadyShown"}]}},{"name":"engagement_shareable_content","fields":["Action","CampaignId","TextInputEnabled","CarouselEnabled","OneClickSendEnabled","HasShareButton","SharesCount","HasUsedSearch","HasUsedCarousel","HasSharedTextMsg","CardsShareCount","CardsShared"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"OpenDialog"},{"name":"CloseDialog"},{"name":"DismissDialog"}]}},{"name":"engagement_message","fields":["Action","MessageType","MessageCorrelationId","MessageId","ConversationId"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"BotMessageServiceConvSyncFailBricked"},{"name":"BotMessageServiceConvSyncFailNoMeta"},{"name":"BotMessageServiceConvSyncFailNoProgress"},{"name":"BotMessageServiceUnsupportedMessageType"},{"name":"BotMessageServiceWaitingMessage"},{"name":"ChatServiceBlockedMessage"},{"name":"TelemetryObjectNotFound"},{"name":"InvalidPlatformListInPayload"},{"name":"InvalidClientVersionInPayload"}]}},{"name":"engagement_client_triggered_campaigns","fields":["Action","IsOfflineTargeted","CampaignId","CampaignVariant","CampaignVersion","NewCampaignsCount","UpdatedCampaignsCount","DeletedCampaignsCount","DurationInMs","Status","MessageCorrelationId"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"New"},{"name":"Update"},{"name":"Delete"},{"name":"Finished"},{"name":"LoadCampaign"},{"name":"LoadingCampaign"},{"name":"OpenCampaign"},{"name":"Reset"}]}},{"name":"intelligence_tonerewrite","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"SuggestionPress","fields":["Tone"],"required":true},{"name":"ToneChange","fields":["Tone"],"required":true},{"name":"MessageUpdate","fields":["Tone"],"required":true},{"name":"MessageCopy","fields":["Tone"],"required":true},{"name":"TonesMismatch","required":true},{"name":"LoadingDrop","required":true},{"name":"InstructionsRequest","fields":["TimeSpent"],"required":true},{"name":"InstructionsRequestError","fields":["TimeSpent","ErrorCode"],"required":true}]}},{"name":"join_conversation","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"JoinGroupConversation","fields":["ExistingMember","IsMeetNowThread"],"extends":"JoinTelemetryEventBase","required":true},{"name":"AddMemberToThreadError","fields":["StatusCode","StatusText","ContextId","ErrorCode","ErrorMessage"],"extends":"JoinTelemetryEventBase","required":true},{"name":"JoinTelemetryEventBase","fields":["Action","JoinLinkOrigin","PreSisu","NavigationConversationOrigin","BrowserOrigin","ConversationId"]}]}},{"name":"join_guest","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"GuestCreationError","fields":["RequestId","TimedOut","StatusCode","Url"],"extends":"GuestJoinTelemetryEventBase","required":true},{"name":"GuestCreationSuccess","extends":"GuestJoinTelemetryEventBase","required":true},{"name":"GuestLoginAvailable","extends":"GuestJoinTelemetryEventBase","required":true},{"name":"GuestLoginAttempt","extends":"GuestJoinTelemetryEventBase","required":true},{"name":"GuestMeetingCreationServiceError","extends":"GuestCreationServiceErrorEvent","required":true},{"name":"GuestJoinTelemetryEventBase","fields":["Action"]},{"name":"GuestCreationServiceErrorEvent","fields":["RequestId","TimedOut","StatusCode","Url"]}]}},{"name":"join_link_resolution","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"JoinLinkResolutionError","fields":["ResolutionError"],"extends":"JoinLinkResolutionTelemetryEventBase","required":true},{"name":"ShortIdResolutionServiceSuccess","extends":"ShortIdResolutionServiceEventBase","required":true},{"name":"ShortIdResolutionServiceError","fields":["RequestId","TimedOut","StatusCode"],"extends":"ShortIdResolutionServiceEventBase","required":true},{"name":"JoinLinkResolutionTelemetryEventBase","fields":["Action"]},{"name":"ShortIdResolutionServiceEventBase","fields":["ShortId","ConversationId"],"extends":"JoinLinkResolutionTelemetryEventBase"}]}},{"name":"join_link_retrieval","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"JoinLinkRetrievalServiceSuccess","extends":"JoinLinkRetrievalServiceEventBase","required":true},{"name":"JoinLinkRetrievalServiceError","fields":["RequestId","IsTimedOut","StatusCode","Url"],"extends":"JoinLinkRetrievalServiceEventBase","required":true},{"name":"JoinLinkRetrievalServiceEventBase","fields":["ConversationId","ShortId"]}]}},{"name":"navigation_deeplink","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"OpenDeepLink","fields":["JoinLinkPath","UrlAction","TabName","UrlParamSource","LinkType"],"extends":"DeepLinkTelemetryEventBase","required":true},{"name":"DeepLinkTelemetryEventBase"}]}},{"name":"calling_meet_now","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MeetNowUriReceived","fields":["Origin","Partner"],"required":true},{"name":"MeetNowDeeplinkProcessed","fields":["Origin","Partner"],"required":true},{"name":"MeetNowError","fields":["MeetNowError","MeetNowErrorCode"],"required":true},{"name":"MeetNowClick","fields":["ClickType"],"required":true},{"name":"MeetNowLobbyMounted","fields":["Origin","Partner"],"required":true},{"name":"MeetNowRepeatedGuestLogin","required":true},{"name":"MeetNowClosePanel"},{"name":"MeetNowCreatedOnJoinLinkPanel"},{"name":"MeetNowJoinLinkPanelClosed"},{"name":"MeetNowAddSkypeContact"},{"name":"MeetNowMeetingNameManuallyChanged","required":true},{"name":"MeetNowUserNameChanged","required":true},{"name":"MeetNowAvatarPickerOpen","required":true},{"name":"MeetNowAvatarNotSelected","required":true},{"name":"MeetNowAvatarSelected","fields":["SelectedAvatarType","EmoticonsSelectedBeforeUpload","StickersSelectedBeforeUpload"],"required":true},{"name":"MeetNowTitleSelected","fields":["MeetingName","Category","WasSuggested"],"required":true},{"name":"MeetNowSharePopupCloseEvent"},{"name":"MeetNowJoinLinkInSearchBarEvent"},{"name":"ShareProfileQRCodeButtonClicked"},{"name":"ShareProfileQRCodeSuccess","required":true},{"name":"ShareProfileQRCodeFailure","required":true}]}},{"name":"conversationtelemetrybase","fields":["ConversationId","IsBotConversation","IsGroupConversation","IsEncryptedConversation","IsBookmarkConversation","IsMeetNowThread","MriNamespace","ThreadSuffix"],"extends":"prioritytelemetryeventbase"},{"name":"messagetelemetrybase","fields":["MessageCorrelationId","MessageType","MessageRawType","IsOwnMessage"],"extends":"conversationtelemetrybase"},{"name":"message_sent","required":true,"fields":["ReceiverMri","ReceiverUserId","ClientMessageId","EndpointId","RegistrationId","CharacterCount","PostSource","EmoticonCount","NativeEmojiCount","HasWikiMarkup","DirectMentionCount","HasAllMention","IsBingBotConversation","HasBingBotMention"],"extends":"messagetelemetrybase"},{"name":"message_read","required":true,"extends":"messagetelemetrybase","optionalFields":["MessageType"]},{"name":"message_received_read","required":true,"fields":["Bot_Conversation","Conversation_Id","MessageCount","Group_Conversation","Conversation_Members_Number","IsEncryptedConversation"],"extends":"messagetelemetrybase"},{"name":"message_typing","required":true,"fields":["EndpointId","RegistrationId"],"extends":"conversationtelemetrybase"},{"name":"reactionactiontelemetrybase","extends":"messagetelemetrybase","optionalFields":["IsOwnMessage"]},{"name":"reaction_action","extends":"reactionactiontelemetrybase"},{"name":"reaction_summary_click","extends":"reactionactiontelemetrybase"},{"name":"messaging_reaction","fields":["Action"],"extends":"reactionactiontelemetrybase","variation":{"key":"Action","variants":[{"name":"ReactionAdded","fields":["Success","Origin"],"required":true},{"name":"ReactionRemoved","fields":["Success","Origin"],"required":true}]}},{"name":"chat_service_force_sync","required":true,"fields":["Reason","ForceSyncSuccess"],"extends":"telemetryeventbase"},{"name":"chat_service_failure","required":true,"fields":["scenario","mriType","StatusCode","StatusText","error_code","ErrorMessage","context_id","ServerTime","Connection_Type","Canceled","TimedOut","CorrelationVector","source","threadType","Partner","propKey","RetryAfter"],"extends":"telemetryeventbase"},{"name":"chat_service_app_internal_failure","required":true,"fields":["NetworkType","WasNetworkingAvailable"],"extends":"chat_service_failure"},{"name":"chat_service_transformation_failure","required":true,"fields":["Message","ResourceType","CorrelationVector","Error","MriNamespace","ThreadSuffix"],"extends":"telemetryeventbase"},{"name":"chat_service_redirect","required":true,"fields":["Source","TargetEnvironment","PreviousEnvironment","TargetUrl","PreviousUrl"],"extends":"telemetryeventbase"},{"name":"ams_failure","required":true,"fields":["service_name","scenario","status_code","request_id","correlation_id","transaction_id"],"extends":"telemetryeventbase"},{"name":"download_service","required":true,"fields":["operation","failure_source","time_to_failure","number_retries","status_code","status_text","requestId","correlationId","transactionId"],"extends":"telemetryeventbase"},{"name":"file_sent","required":true,"fields":["Message_Type","Size","Source","Success","UploadDuration","Extension","NumOfConvs","Reason","ViewId","DocId","FinishedAttemptsCount","ResponseStatusCode"],"extends":"kpibase"},{"name":"file_received","required":true,"fields":["Success","DownloadDuration","Intent","MediaProfile","Extension","ViewId","DocId","FailureReason","Size","DownloadSpeed","FinishedAttemptsCount","ResponseStatusCode","ErrorInfo"],"extends":"kpibase"},{"name":"file_action","required":true,"fields":["file_type","action","file_size_bytes","version","network_type","auto_download"],"extends":"kpibase"},{"name":"basepostingfailure","fields":["failure_source","post_source","num_of_convs","time_to_failure","number_retries","status_code","status_text","file_size","file_type","TriggeredBy","correlationId","transactionId","error_code","error_message","context_id","date"],"extends":"telemetryeventbase"},{"name":"send_failure","required":true,"fields":["is_permanent"],"extends":"basepostingfailure"},{"name":"send_recovered","required":true,"extends":"basepostingfailure"},{"name":"messaging_avatarpicker","fields":["Action","TriggeredBy"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"PESAvatarChanged","fields":["IsSuccess","IsUserAvatar","ErrorType","ErrorCode"],"required":true}]}},{"name":"messaging_pes","required":true,"extends":"telemetryeventbase"},{"name":"messaging_pesitem","extends":"telemetryeventbase"},{"name":"messaging_pes_backgroundcolor","extends":"telemetryeventbase"},{"name":"people_presence","required":true,"fields":["Origin","IsSuccess","RetriesCount","ErrorCode","ErrorMessage","ToPresence"],"extends":"telemetryeventbase"},{"name":"people_presence_error","required":true,"fields":["Origin"],"extends":"telemetryeventbase"},{"name":"people_presence_failure","required":true,"fields":["ServiceType","Scenario","StatusCode","StatusText","DidTimeOut","Url","Method","CorrelationId"],"extends":"telemetryeventbase"},{"name":"my_presence","required":true,"fields":["UpsStatus","CsStatus","CsCorrelationId","UpsCorrelationId","Scenario"],"extends":"telemetryeventbase"},{"name":"presence_for_mris","required":true,"fields":["Total","Same","CsCorrelationId","UpsCorrelationId"],"extends":"telemetryeventbase"},{"name":"people_syncaddressbookdialog","required":true,"fields":["DidPressNextOnValueProp","DidHavePermission","DidPromptBefore","DidRequestPermission","DidGrantPermission","DidStartSync","DidVisitPrivacyStatement","DidSeeLearnMoreButton","DidVisitLearnMorePopup"],"extends":"onboardingdialogevent"},{"name":"people_contacts_action","fields":["Action","Status"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"GetContacts","fields":["IsFromServer","ErrorCode"],"required":true}]}},{"name":"reportmessage","extends":"telemetryeventbase"},{"name":"reportmessagefailure","required":true,"fields":["ErrorCode"],"extends":"telemetryeventbase"},{"name":"settings_privacy","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"ManageSearchOpened"},{"name":"ReceiveContactSuggestions"},{"name":"AppearInSuggestionResults"},{"name":"AppearInSearchResults"},{"name":"PhoneDiscoverability"},{"name":"SendFullTelemetry","fields":["DidGrantPermission","Origin"],"required":true}]}},{"name":"randomlysampledkpibase","extends":"kpibase"},{"name":"kpi_longpoll_complete","required":true,"fields":["EventCountTotal","RequestDuration","ActiveTimeout"],"extends":"randomlysampledkpibase"},{"name":"kpi_longpoll_failed","required":true,"fields":["ResponseCode","RequestDuration","DidProcessEvents","ActiveTimeout"],"extends":"randomlysampledkpibase"},{"name":"chat_service_bundle_processing_failure","required":true,"fields":["description"],"extends":"telemetryeventbase"},{"name":"kpi_chatsync_failed","required":true,"fields":["response_code"],"extends":"randomlysampledkpibase"},{"name":"kpi_chatsync_complete","required":true,"fields":["sync_time","ran_in_background","synced_conversations","synced_messages","is_first_sync","is_full_sync"],"extends":"randomlysampledkpibase"},{"name":"messaging_e2ee","fields":["Action","Status","Reason"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Invite","fields":["Origin"]},{"name":"Accept","fields":["Origin"]},{"name":"Confirm","fields":["IsAutoConfirm"],"required":true},{"name":"Reject","fields":["RejectionReason"],"required":true},{"name":"Retry","fields":["RetryType"],"required":true},{"name":"EncryptionFailure","required":true},{"name":"DecryptionFailure","required":true}]}},{"name":"messaging_network","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"CaptivePortal","fields":["RequestSuccess","CheckResult","ConnectedBefore","CheckBefore","StatusText","IsTimeout"],"required":true},{"name":"CaptivePortalBrowserOpen"},{"name":"ConnectivityAlertShow","fields":["AlertType"]},{"name":"ConnectivityAlertDismiss","fields":["AlertType"]},{"name":"CaptivePortalQuestionnaire"}]}},{"name":"people_census","required":true,"fields":["ConversationsCountTotal","ConversationsCountDisplayable","ConversationsCountDisplayed","RecentListConversationsCount","RecentListSkype1on1ConversationsCount","RecentListSkypeGroupConversationsCount","RecentListSkypeBotConversationsCount","RecentListPstnConversationsCount","RecentListPrivateConversationsCount","RecentListConversationsWithTabsCount","RecentListOtherConversationsCount","Muted1on1ConversationsCount","MutedGroupConversationsCount","SmartMutedConversationsCount","TranslatedConversationsCount","ManuallyAddedContactsCount","BlockedContactsCount","BotsContactsCount","FavoritesContactsCount","AllNonBlockedContactsCount","OneWayShortCircuitContactsCount","TwoWayShortCircuitContactsCount","PstnContactsCount","EngagedContactsCount","AllShownContactsCount","RemovedAuthorizedContactsCount"],"extends":"telemetryeventbase"},{"name":"messaging_toast","fields":["Action","ToastType","IsGroupConversation","ConversationId"],"extends":"telemetryeventbase"},{"name":"messaging_notification","required":true,"fields":["NotificationAction","IsSystemNotification"],"extends":"messaging_toast"},{"name":"messaging_search","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"OpenedMessageSearch"},{"name":"ClosedMessageSearch"},{"name":"TriggeredLoadMoreMessages"},{"name":"NavigatedToPrevResult"},{"name":"NavigatedToNextResult"}]}},{"name":"unsafe_domain","extends":"telemetryeventbase"},{"name":"messaging_share_to_skype","required":true,"fields":["Action","IsSharedToContact","ErrorCode","IsSendingVideo","IsSendingImage","Type"],"extends":"telemetryeventbase"},{"name":"invitestelemetryevents","fields":["Origin","InviteType"],"extends":"telemetryeventbase"},{"name":"people_invite_link_shared","extends":"invitestelemetryevents"},{"name":"people_invite_link_revoked","required":true,"fields":["InviteType","RequestDuration","ErrorCode","ErrorMessage","IsSuccess"],"extends":"invitestelemetryevents"},{"name":"profile","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MyMoodEdited","fields":["MoodCharCount","UpdateLocation","IsSuccess","ErrorCode","Duration"],"required":true},{"name":"ProfileFetchRequestEvent","fields":["IsSuccess","ErrorCode","IsGuestNameUpdate"],"required":true},{"name":"MyProfileFetch","fields":["IsSuccess","ErrorCode"],"required":true},{"name":"EditOrCopyLinkClicked","fields":["ClickType","ClickSource"]},{"name":"ProfileOpened","fields":["Type","Origin"]}]}},{"name":"messaging_action","fields":["Action","Origin","TimeToActionDuration","DocId","SearchSelectionUsedAfterHintShown"],"extends":"messagetelemetrybase","variation":{"key":"Action","variants":[{"name":"Forward","fields":["SkypeConversationCount","PrivateConversationCount","SmsConversationCount"],"required":true},{"name":"ShareFile","fields":["IsShared","Error","FileExtension"],"required":true},{"name":"Quote","extends":"QuotesEventTelemetry","required":true},{"name":"ClearQuote","extends":"QuotesEventTelemetry","required":true},{"name":"KeyboardCopy","extends":"KeyboardMessagesTelemetry","required":true},{"name":"KeyboardPaste","extends":"KeyboardMessagesTelemetry","required":true},{"name":"SelectMessages","extends":"SelectedMessagesTelemetry","required":true},{"name":"Cancel","required":true},{"name":"CancelRejected","required":true},{"name":"RetryFailed","required":true},{"name":"ShowReportedMessage","required":true},{"name":"Copy","required":true},{"name":"CopyLink","required":true},{"name":"Delete","required":true},{"name":"Edit","required":true},{"name":"MarkMessageUnread","required":true},{"name":"DismissActionMenu","required":true},{"name":"DragDropFromConversationToRecentLists","required":true},{"name":"AddBookmark","required":true},{"name":"RemoveBookmark","required":true},{"name":"SearchSelection","required":true},{"name":"QuickReply","fields":["IsQuickReply"],"required":true},{"name":"QuickReplyLoaded","required":true},{"name":"QuotesEventTelemetry","fields":["QuotesTriggerType","QuotesMessageType"]},{"name":"KeyboardMessagesTelemetry","fields":["MessagesCount"]},{"name":"SelectedMessagesTelemetry","fields":["SelectedMessagesCount","SelectedMessagesAction","ForwardToConversationCount","SelectedMessagesDisabledCopy","SelectedMessagesDisabledRemove","SelectedMessagesDisabledForward"]}]}},{"name":"conversation_action","fields":["Action","Conversation_NameSpace","Conversation_Id"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"conversation_marked_read","fields":["Consumption_Horizon"],"required":true},{"name":"conversation_archived","fields":["Origin","IsGroupConversation"],"required":true},{"name":"conversation_unarchived","fields":["Origin","IsGroupConversation"],"required":true},{"name":"conversation_deleted","fields":["Source","ConversationType"],"required":true},{"name":"conversation_deletion_failed","fields":["ErrorCode","Source","ConversationType"],"required":true},{"name":"conversation_deletion_canceled","fields":["ConversationType","Source"],"required":true},{"name":"conversation_list_item_clicked","fields":["Item_id","ConversationType"],"required":true},{"name":"translation_action","fields":["TranslationAction","FromLanguage","ToLanguage"],"required":true}]}},{"name":"people_user_actions","required":true,"fields":["Action","Duration","Scenario","IsFirstSuccessfulSearch"],"extends":"telemetryeventbase"},{"name":"notificationsprompt_action","fields":["Action","Origin"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"displayed","required":true},{"name":"opened","fields":["Enabled_Notifications"],"required":true},{"name":"closed","required":true}]}},{"name":"messaging_gallery","fields":["Action","IsGroupConversation","IsEncryptedConversation"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Opened","required":true},{"name":"AddItemPanelOpened"},{"name":"AddItemViaDragAndDrop"},{"name":"CommandSelected","fields":["ItemType","Command"],"required":true},{"name":"ItemViewed","fields":["ItemType"],"required":true},{"name":"FilterSwitched","fields":["From","To"]}]}},{"name":"enhanced_history_search","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Reveal"},{"name":"Date"},{"name":"QuickLastImage"},{"name":"QuickLastLink"}]}},{"name":"messaging_translateone","fields":["Action","ToggleOrigin","MessageCorrelationId"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"TranslateOneMessage","required":true},{"name":"ShowOriginalMessage","required":true},{"name":"OpenTranslateMenu","required":true},{"name":"ChangeLanguageAndTranslateOneMessage","fields":["Lang"],"required":true}]}},{"name":"messaging_magicbot","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MagicBotPin","required":true},{"name":"MagicBotUnpin","required":true},{"name":"MagicBotMentionedByClick","required":true},{"name":"MagicBotConsentGivenOnSendAttempt","required":true},{"name":"MagicBotConsentGivenOnWelcome","required":true},{"name":"MagicBotWaitListClicked","required":true},{"name":"WaitListPopCardOpenedViaConversation","required":true},{"name":"PreviewLabelClicked","required":true},{"name":"MagicBotAutoAddedByMention","required":true},{"name":"MagicBotOneOnOneMessageSent","required":true},{"name":"MagicBotOneOnOneToggle","fields":["Origin","Enabled"],"required":true},{"name":"ToolboxOpen","fields":["Origin"],"required":true},{"name":"ToolboxSectionClick","fields":["SectionId"],"required":true},{"name":"ToolboxItemClick","fields":["SectionId","ItemId"],"required":true}]}},{"name":"people_contacts_panel","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Opened","extends":"ContactsPanelEvent"},{"name":"Closed","extends":"ContactsPanelEvent"},{"name":"TabsSwitched","extends":"ContactsPanelEvent"},{"name":"ShowActiveNow","extends":"ContactsPanelEvent"},{"name":"ShowAllMyContacts","extends":"ContactsPanelEvent"},{"name":"AddContactPanelOpened","fields":["Origin"]},{"name":"ContactsPanelEvent","fields":["Action","Tab"]}]}},{"name":"contactspanelbannerevent","fields":["BannerType"],"extends":"people_contacts_panel","variation":{"key":"Action","variants":[{"name":"Shown"},{"name":"Clicked"},{"name":"Dismissed"}]}},{"name":"caap_message_composer_overflow","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MessageOverflowOpenButtonClicked"},{"name":"MessageOverflowCloseButtonClicked"},{"name":"MessageOverflowMinimized"}]}},{"name":"integrationevent","fields":["IntegrationCorrelationId"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"IntegrationLaunched"},{"name":"IntegrationCloseButtonClicked"},{"name":"IntegrationSharePreviewLaunched"},{"name":"IntegrationShared"},{"name":"IntegrationShareCanceled"}]}},{"name":"integrationshareevent","fields":["ContentType","SessionCorrelationId","Origin"],"extends":"integrationevent"},{"name":"caap_bing","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"bing_location_permissions","fields":["Status","PermissionEntryPoint"],"required":true}]}},{"name":"caap_bot","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MessageBot","fields":["BotID"],"required":true},{"name":"DeleteBot","fields":["BotID"],"required":true},{"name":"BlockBot","fields":["BotID"],"required":true},{"name":"ClickChatWithBot","fields":["BotID"],"required":true},{"name":"ClickShareBot","fields":["BotID"],"required":true},{"name":"ViewBotProfile","fields":["BotID"],"required":true},{"name":"AutoAddBot","fields":["BotID"],"required":true},{"name":"ShareMagicBotLink"}]}},{"name":"messaging_link_bing","extends":"conversationtelemetrybase"},{"name":"messaging_settings","fields":["Setting"],"extends":"telemetryeventbase","variation":{"key":"Setting","variants":[{"name":"ChatNotifications","fields":["DidEnable","ConversationId","Value","Source","ConversationType"],"required":true},{"name":"AutoDownloadFilesV2","fields":["Mode"],"required":true}]}},{"name":"messaging_mybot","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"FreHeadClose","fields":["NoMessage"],"required":true},{"name":"MyBotTooltipShow","required":true},{"name":"MyBotTooltipClose","fields":["CloseType"],"required":true}]}},{"name":"onboardingtelemetryeventbase","fields":["IsNewUser"],"extends":"telemetryeventbase"},{"name":"onboarding_setup","fields":["DialogOrigin"],"extends":"onboardingtelemetryeventbase","variation":{"key":"Action","variants":[{"name":"started","fields":["DialogOrigin","AppState","StepSequence","NotificationsPermission","CameraPermission","MicrophonePermission","ContactsPermission"],"extends":"SetupWizardEventBase","required":true},{"name":"avatar_changed","fields":["ChangeType","Success","Duration","DialogOrigin"],"extends":"SetupWizardEventBase","required":true},{"name":"failed","fields":["DialogOrigin"],"extends":"SetupWizardEventBase","required":true},{"name":"finished","fields":["Duration","DialogOrigin","Success","StepSequence"],"extends":"SetupWizardEventBase","required":true},{"name":"bugReportedInWizard","fields":["DialogOrigin"],"extends":"SetupWizardEventBase"},{"name":"clickedOutside","fields":["DialogOrigin"],"extends":"SetupWizardEventBase"},{"name":"user_profile_change","extends":"SetupWizardEventBase"},{"name":"SetupWizardEventBase"}]}},{"name":"onboarding_user_status","required":true,"fields":["AvatarPolicy","AvatarState","SetupWizardCompletionTimestamp","UserIsNew","NotificationsPermission","CameraPermission","MicrophonePermission","ContactsPermission"],"extends":"telemetryeventbase"},{"name":"dialogevent","fields":["Origin","Duration","OnboardingDisplayOrder","OnboardingStepsCount","Exit","IsNewUser"],"extends":"telemetryeventbase"},{"name":"onboardingdialogevent","extends":"dialogevent"},{"name":"settings_avatarpickerdialog","fields":["DidHaveInitialAvatar","DidHaveFinalAvatar","DidSetNewAvatar","DidRemoveAvatar","DidUseCommonAvatarPicker","AvatarSource","DidRequestCameraPermission","DidGrantCameraPermission","DidRequestCameraRollPermission","DidGrantCameraRollPermission"],"extends":"onboardingdialogevent"},{"name":"settings_avsettingsdialog","fields":["DialogType","DidChangeCameraSetting","DidChangeMicSetting","DidChangeSpeakerSetting","DidChangeSpeakerVolume","DidChangeRingingDeviceSetting","DidAdjustMicrophone","DidChangeMicAutoAdjustment","ShouldAutoAdjustMic","DidPerformAudioTest","DidPerformTestCall"],"extends":"onboardingdialogevent"},{"name":"settings_promptpermissiondialog","fields":["DidAlreadyPropmptNotificationsPermission","DidAlreadyPropmptMicPermission","DidAlreadyPropmptCameraPermission","DidRequestNotificationsPermission","DidRequestMicPermission","DidRequestCameraPermission","DidRequestReadPhoneStatePermission","DidGrantNotificationsPermission","DidGrantMicPermission","DidGrantCameraPermission","DidGrantReadPhoneStatePermission","DidNotificationPermissionRequestFailed","DialogVersion"],"extends":"onboardingdialogevent"},{"name":"onboarding_postsetup","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"tutorialLaunched","fields":["Origin","IsRestarted"],"extends":"OnboardingPostSetupEventBase"},{"name":"emptyStateCtaDisplayed","fields":["Origin"],"extends":"OnboardingPostSetupEventBase"},{"name":"welcomeViewWithProfileUpdateDisplayed","extends":"OnboardingPostSetupEventBase"},{"name":"welcomeViewWithCardsDisplayed","extends":"OnboardingPostSetupEventBase"},{"name":"finishSetupPromptClicked","extends":"OnboardingPostSetupEventBase"},{"name":"activityDone","fields":["ActivityType"],"extends":"OnboardingPostSetupEventBase"},{"name":"SetupWizardEventBase"},{"name":"OnboardingPostSetupEventBase"}]}},{"name":"onboarding_homescreen","fields":["Action","IsNewUser"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"LandingPageShown","extends":"HomeScreenEventBase"},{"name":"StartNewConversationClicked","extends":"HomeScreenEventBase"},{"name":"SwitchAccountClick","extends":"CheckAccountSectionEventBase"},{"name":"CheckAccountSectionUnknownSignId","fields":["OriginalVariant"],"extends":"CheckAccountSectionEventBase"},{"name":"HomeScreenEventBase"},{"name":"CheckAccountSectionEventBase","fields":["Variant"],"extends":"HomeScreenEventBase"}]}},{"name":"onboarding_landing_page_with_cards","required":true,"fields":["CardName","ActionPerformed"],"extends":"onboardingtelemetryeventbase"},{"name":"settings_themedialog","fields":["DidToggleLightDarkTab","DidSelectNewTheme","FinalTheme","UserColor","Mode"],"extends":"onboardingdialogevent"},{"name":"settings_optionaltelemetryconsentdialog","extends":"onboardingdialogevent"},{"name":"settings_permission_status","required":true,"fields":["Type","Status","Origin"],"extends":"telemetryeventbase"},{"name":"shortcircuitcontactsprocessed","required":true,"fields":["count","isInitialSync","duration","HashSentCount"],"extends":"telemetryeventbase"},{"name":"shortcircuitcontactserror","required":true,"fields":["error","isInitialSync","HashSentCount"],"extends":"telemetryeventbase"},{"name":"correct_local_address_book_phone_numbers","required":true,"fields":["shortPhoneNumbersCount","correctedPhoneNumbersCount"],"extends":"telemetryeventbase"},{"name":"sayhipopuptelemetryevent","required":true,"fields":["Action","IsNewUser","SkypeContactCount","ShortCircuitContactCount"],"extends":"telemetryeventbase"},{"name":"notifymyfriendsevent","required":true,"fields":["StatusCode","ShortCircuitContactCount"],"extends":"telemetryeventbase"},{"name":"perf","required":true,"fields":["Scenario","Duration","IsZeroTermSearch","Endpoint","SearchLimit","ErrorCode","ErrorMessage","WasNetworkAvailable","AdditionalLoading","QueryLength","Origin","SearchResultsListOrigin","RequestStepDuration","PublicDirectoryRequestDuration","MessageRequestDuration","IndexedDbRequestDuration","BotsRequestDuration","AllPeopleRequestDuration","FastContactsRequestDuration","MessageInConversationRequestDuration","ConfirmedGoodConnection","MessageCorrelationId"],"extends":"prioritytelemetryeventbase"},{"name":"foreground_start_not_allowed","required":true,"fields":["CallId","TotalTimeDuration"],"extends":"telemetryeventbase"},{"name":"notif_perf","required":true,"fields":["Provider","NotificationInitializedJS","IncomingCallScreenDisplayed","Phase_Waiting_For_JS_Initialization","Phase_Initial_Native_Processing","Phase_JS_Processing","Phase_Native_Displaying","Phase_Total","NotificationProcessing","IsTimeout","ActivationState"],"extends":"telemetryeventbase"},{"name":"app_open_status","required":true,"fields":["AdvertisingId","UserHasActiveEntitlements"],"extends":"telemetryeventbase"},{"name":"install_attribution","required":true,"fields":["campaign","adid","trackerName","network","adjustCallbackPerf","adjustInitPerf"],"extends":"telemetryeventbase"},{"name":"pluginlessbaseevent","fields":["uiVersion","clientVersion","vdiVersion","userAgent","userType","UserRole","clientType","buildtime","appState","pageVisible","flights","theme","preferredLocales","locale","localeResolution","dbOpen","host","authType","sessionId","identitytype","rtlMode","MSACID","UserInfo_Id","AppInfo.Version","AppInfo.ExperimentIds","CorrelationId","DeviceInfo.OsVersion","DeviceInfo.BrowserName","DeviceInfo.BrowserVersion","DeviceInfo.OsName","DeviceInfo.Id","EventInfo.Name","EventInfo.SdkVersion","EventInfo.Source","EventInfo.Time","UserInfo.Language","UserInfo.TimeZone","UserInfo.Id"]},{"name":"mdsc_webrtc_session_initial","required":true,"fields":["TerminatedReason","TerminatedState","participant_id","endpoint_id","media_leg_id","ts_calling_version","Extensions_WebRTCStats_recvCounters_video","Extensions_WebRTCStats_recvCounters_sharing","Extensions_WebRTCStats_ssrc_audio_send_audioInputLevel","Extensions_WebRTCStats_ssrc_audio_send_googResidualEchoLikelihoodRecentMax","Extensions_WebRTCStats_ssrc_audio_send_googEchoCancellationEchoDelayMedian","Extensions_WebRTCStats_ssrc_audio_send_googEchoCancellationEchoDelayStdDev","Extensions_WebRTCStats_ssrc_audio_send_googEchoCancellationReturnLoss","Extensions_WebRTCStats_ssrc_audio_send_googCodecName","Extensions_WebRTCStats_ssrc_audio_send_totalAudioEnergy","Extensions_WebRTCStats_ssrc_audio_send_ssrc","Extensions_WebRTCStats_ssrc_audio_send_googTypingNoiseState","Extensions_WebRTCStats_ssrc_audio_send_googEchoCancellationReturnLossEnhancement","Extensions_WebRTCStats_ssrc_audio_send_packetsSent","Extensions_WebRTCStats_ssrc_audio_send_bytesSent","Extensions_WebRTCStats_ssrc_audio_send_totalSamplesDuration","Extensions_WebRTCStats_ssrc_audio_send_packetsLost","Extensions_WebRTCStats_ssrc_audio_send_googRtt","Extensions_WebRTCStats_ssrc_audio_send_jitter","Extensions_WebRTCStats_bweStat_googActualEncBitrate","Extensions_WebRTCStats_bweStat_googAvailableSendBandwidth","Extensions_WebRTCStats_ssrc_audio_send_googResidualEchoLikelihood","Extensions_WebRTCStats_bweStat_googAvailableReceiveBandwidth","Extensions_WebRTCStats_bweStat_googTargetEncBitrate","Extensions_WebRTCStats_bweStat_googBucketDelay","Extensions_WebRTCStats_bweStat_googTransmitBitrate","Extensions_WebRTCStats_bweStat_googRetransmitRate","Extensions_WebRTCStats_statsErrors","Extensions_WebRTCStats_ssrc_audio_recv_googCaptureStartNtpTimeMs","Extensions_WebRTCStats_ssrc_audio_recv_packetsLost","Extensions_WebRTCStats_ssrc_audio_recv_googSecondaryDecodedRate","Extensions_WebRTCStats_ssrc_audio_recv_googDecodingPLC","Extensions_WebRTCStats_ssrc_audio_recv_packetsReceived","Extensions_WebRTCStats_ssrc_audio_recv_jitter","Extensions_WebRTCStats_ssrc_audio_recv_googDecodingCNG","Extensions_WebRTCStats_ssrc_audio_recv_googPreferredJitterBufferMs","Extensions_WebRTCStats_ssrc_audio_recv_googSpeechExpandRate","Extensions_WebRTCStats_ssrc_audio_recv_totalSamplesDuration","Extensions_WebRTCStats_ssrc_audio_recv_totalAudioEnergy","Extensions_WebRTCStats_ssrc_audio_recv_googDecodingPLCCNG","Extensions_WebRTCStats_ssrc_audio_recv_googCodecName","Extensions_WebRTCStats_ssrc_audio_recv_googDecodingNormal","Extensions_WebRTCStats_ssrc_audio_recv_googSecondaryDiscardedRate","Extensions_WebRTCStats_ssrc_audio_recv_googAccelerateRate","Extensions_WebRTCStats_ssrc_audio_recv_bytesReceived","Extensions_WebRTCStats_ssrc_audio_recv_googCurrentDelayMs","Extensions_WebRTCStats_ssrc_audio_recv_googExpandRate","Extensions_WebRTCStats_ssrc_audio_recv_googPreemptiveExpandRate","Extensions_WebRTCStats_ssrc_audio_recv_googJitterBufferMs","Extensions_WebRTCStats_ssrc_audio_recv_googDecodingMuted","Extensions_WebRTCStats_ssrc_video_send_packetsSent","Extensions_WebRTCStats_ssrc_video_send_packetsLost","Extensions_WebRTCStats_ssrc_video_send_hugeFramesSent","Extensions_WebRTCStats_ssrc_video_send_framesEncoded","Extensions_WebRTCStats_ssrc_video_send_googCodecName","Extensions_WebRTCStats_ssrc_video_send_codecImplementationName","Extensions_WebRTCStats_ssrc_video_send_qpSum","Extensions_WebRTCStats_ssrc_video_send_googContentType","Extensions_WebRTCStats_ssrc_video_send_googFrameRateInput","Extensions_WebRTCStats_ssrc_video_send_googFrameRateSent","Extensions_WebRTCStats_ssrc_video_send_googFrameWidthInput","Extensions_WebRTCStats_ssrc_video_send_googFrameHeightInput","Extensions_WebRTCStats_ssrc_video_send_googFrameWidthSent","Extensions_WebRTCStats_ssrc_video_send_googFrameHeightSent","Extensions_WebRTCStats_ssrc_video_send_googNacksReceived","Extensions_WebRTCStats_ssrc_video_send_googEncodeUsagePercent","Extensions_WebRTCStats_ssrc_video_send_googAvgEncodeMs","Extensions_WebRTCStats_ssrc_video_send_googCpuLimitedResolution","Extensions_WebRTCStats_ssrc_video_send_googBandwidthLimitedResolution","Extensions_WebRTCStats_ssrc_video_send_googHasEnteredLowResolution","Extensions_WebRTCStats_ssrc_video_send_googAdaptationChanges","Extensions_WebRTCStats_ssrc_video_send_googPlisReceived","Extensions_WebRTCStats_ssrc_video_send_googFirsReceived","Extensions_WebRTCStats_ssrc_video_send_googRtt","Extensions_Video_send_DurationSeconds","Extensions_Video_send_QpAvg","Extensions_Video_send_frameRateAvg","Extensions_Video_send_bitrateAvg","Extensions_Video_send_bitrateMax","Extensions_Video_send_DelayCur","Extensions_Video_send_DelayAvg","Extensions_Video_send_TimeSinceLastEncodeStart","Extensions_Video_send_AllocateBWAvg","Extensions_Video_send_CaptureFramerateAvg","Extensions_Video_send_MaxCapabilities","Extensions_Video_send_CameraOpenWidth","Extensions_Video_send_CameraOpenHeight","Extensions_Video_send_OvershootEvents","Extensions_Video_send_OvershootDurations","Extensions_Video_send_FreezeIntervals","Extensions_Video_send_KeyFrameStats","Extensions_WebRTCStats_ssrc_video_recv_googContentType","Extensions_WebRTCStats_ssrc_video_recv_googCaptureStartNtpTimeMs","Extensions_WebRTCStats_ssrc_video_recv_googTargetDelayMs","Extensions_WebRTCStats_ssrc_video_recv_packetsLost","Extensions_WebRTCStats_ssrc_video_recv_googDecodeMs","Extensions_WebRTCStats_ssrc_video_recv_googFrameHeightReceived","Extensions_WebRTCStats_ssrc_video_recv_googFrameRateOutput","Extensions_WebRTCStats_ssrc_video_recv_packetsReceived","Extensions_WebRTCStats_ssrc_video_recv_googRenderDelayMs","Extensions_WebRTCStats_ssrc_video_recv_googMaxDecodeMs","Extensions_WebRTCStats_ssrc_video_recv_googFrameWidthReceived","Extensions_WebRTCStats_ssrc_video_recv_codecImplementationName","Extensions_WebRTCStats_ssrc_video_recv_googInterframeDelayMax","Extensions_WebRTCStats_ssrc_video_recv_googCodecName","Extensions_WebRTCStats_ssrc_video_recv_googFrameRateReceived","Extensions_WebRTCStats_ssrc_video_recv_framesDecoded","Extensions_WebRTCStats_ssrc_video_recv_googNacksSent","Extensions_WebRTCStats_ssrc_video_recv_googFirsSent","Extensions_WebRTCStats_ssrc_video_recv_bytesReceived","Extensions_WebRTCStats_ssrc_video_recv_googCurrentDelayMs","Extensions_WebRTCStats_ssrc_video_recv_googFrameRateDecoded","Extensions_WebRTCStats_ssrc_video_recv_googJitterBufferMs","Extensions_WebRTCStats_ssrc_video_recv_googPlisSent","Extensions_WebRTCStats_ssrc_video_recv_googFirstFrameReceivedToDecodedMs","Extensions_WebRTCStats_ssrc_video_recv_qpSum","Extensions_AudioTransportRecvBitrate","Extensions_AudioTransportSendBitrate","Extensions_AudioPayloadSendBitrate","Extensions_AudioPayloadRecvBitrate","Extensions_VideoPayloadSendBitrate","Extensions_VideoPayloadRecvBitrate","Extensions_TimerAudioTransportRecvBitrate","Extensions_TimerAudioTransportSendBitrate","Extensions_TimerVideoPayloadRecvBitrate","Extensions_TimerVideoPayloadSendBitrate","Extensions_StartTime","Extensions_EndTime","Extensions_MaxSessionBandwidth","Extensions_OfferedSrtp","Extensions_NegotiatedSrtp","Extensions_IceConnectionState","Extensions_IceConnectionStatePrevious","Extensions_SignalingState","Extensions_SignalingStatePrevious","Extensions_ReportedSendBWMin","Extensions_RelayCandidate","Extensions_Bandwidth_JumpsHistogram","Extensions_ReportedSendBWMax","Extensions_IceTransportPolicy","Extensions_IceServers","Extensions_FakeIceCandidate","Extensions_iceCandidateErrors","Extensions_BweType","Extensions_SdpSemantics","Extensions_BundlePolicy","Extensions_H264_available_profiles","Extensions_Video_recv_DurationSeconds","Extensions_Video_recv_QpAvg","Extensions_Video_recv_frameRateAvg","Extensions_Video_recv_bitrateAvg","Extensions_Video_recv_bitrateMax","Extensions_Video_recv_TimeSinceLastDecodeStart","Extensions_Video_recv_FreezeHistogram","Extensions_Video_recv_FreezeTimestamps","Extensions_Video_recv_LongestFreezeDuration","Extensions_Video_recv_RecvAvgFreezeDuration","Extensions_Video_recv_TotalFreezeDuration","Extensions_Video_recv_OngoingFreeze","Extensions_Video_recv_NumResolutionSwitches","Extensions_Video_recv_PreferredResolution","Extensions_Video_recv_ResolutionDurations","Extensions_Video_recv_StreamsMin","Extensions_Video_recv_StreamsMax","Extensions_Video_recv_StreamsMode","Extensions_WebRTCStats_ssrc_sharing_recv_transport_localCertificateId","Extensions_Video_SubscriptionEvents","metrics_SessionId","metrics_CallNumber","metrics_NoIceCandidatesBadEventCount","metrics_NoIceCandidatesGoodEventCount","metrics_NoRelayIceCandidatesBadEventCount","metrics_NoRelayIceCandidatesGoodEventCount","metrics_CameraInUseBadEventCount","metrics_CameraInUseGoodEventCount","metrics_MicrophoneInUseBadEventCount","metrics_MicrophoneInUseGoodEventCount","metrics_CameraFreezeStartEventCount","metrics_CameraFreezeEndEventCount","metrics_RetargetIncomingCount","metrics_RetargetOutgoingCount","metrics_RetargetCompletedCount","metrics_ReconnectAttemptedCount","metrics_EscalationRejectedCount","metrics_ScreenSharingIncomingDecoderFailureCount","metrics_ScreenSharingIncomingDecoderFailureRecoverDelta","metrics_ScreenSharingIncomingDecoderResetCount","metrics_CreationTime","metrics_InitTime","metrics_TerminationTime","metrics_CallDuration","metrics_InitialNegotiationType","metrics_InitialNegotiationCompleted","metrics_NegotiationCount","metrics_RejectedNegotiationCount","metrics_MediaLegId","metrics_MultiParty","metrics_ErrorType","metrics_ErrorDetail","metrics_TerminationReason_code","metrics_TerminationReason_subCode","metrics_TerminationReason_phrase","metrics_TerminationReason_remoteTerminated","metrics_TerminationReason_clientReasonSubCode","metrics_TerminationReason_resultCategories","metrics_IncompatibleOffer","metrics_DtmfSuccess","metrics_DtmfFailure","metrics_Relay","metrics_RelayManager","metrics_AllowedAudioSend","metrics_AllowedVideoSend","metrics_AllowedScreensharingSend","metrics_IceInitTime","metrics_FinalAnswerTime","metrics_IceConnectedStateTime","metrics_UsedMicrophone","metrics_UsedSpeaker","metrics_UsedCamera","metrics_DeviceSelectionChangeCount","metrics_DevicesChangeCount","metrics_DevicesPollChangeCount","metrics_DevicesCount","metrics_ETag","metrics_ConfigIds","metrics_AllowedSharingSend","metrics_CallMutedRatio","metrics_CallOsMuted","metrics_CallHwSilent","metrics_CallSwMuted","metrics_CallSpeakerMuted","metrics_CallIsSpeaking","metrics_NetworkRecvGood","metrics_NetworkRecvPoor","metrics_NetworkRecvBad","metrics_NetworkSendGood","metrics_NetworkSendPoor","metrics_NetworkSendBad","metrics_NetworkRecvGoodRatio","metrics_NetworkRecvPoorRatio","metrics_NetworkRecvBadRatio","metrics_NetworkSendGoodRatio","metrics_NetworkSendPoorRatio","metrics_NetworkSendBadRatio","metrics_DeviceEvents","metrics_DeviceList","metrics_DeviceListDebug","metrics_PermissionStates","metrics_ReconnectInProgress","metrics_TransportReconnectedCount","metrics_ReconnectAttempts","metrics_UFDs","metrics_MediaQosEnabled","metrics_PortRangeConfigured","metrics_RollbackNegotiation"],"extends":"pluginlessbaseevent"},{"name":"mdsc_webrtc_session","required":true,"fields":["Extensions_WebRTCStats_ssrc_sharing_send_packetsSent","Extensions_WebRTCStats_ssrc_sharing_send_bytesSent","Extensions_WebRTCStats_ssrc_sharing_send_transport_selectedCandidatePairId"],"extends":"mdsc_webrtc_session_initial"},{"name":"skypecosi_concore_web_csa_conversation_callmodality","required":true,"fields":["Type","ResultDetail","ResultValue","ParticipantId","EndpointId"],"extends":"pluginlessbaseevent","optionalFields":["theme","UserRole","uiVersion","sessionId","identitytype","host","authType","rtlMode","vdiVersion"]},{"name":"pressaction","required":true,"fields":["scenario","origin","timeGap"],"extends":"telemetryeventbase"},{"name":"scenario","fields":["ScenarioName","ScenarioId"],"extends":"telemetryeventbase","variation":{"key":"ScenarioName","variants":[{"name":"LoginAuth","fields":["ScenarioAction_service","ScenarioAction_scenario","ScenarioAction_errorName","ScenarioAction_statusCode"],"extends":"RequestReliabilityTrackerBase","required":true},{"name":"AppStartup","fields":["ScenarioAction_currentIntent","ScenarioAction_intentBased","ScenarioAction_step_name_phase0","ScenarioAction_step_name_phase1","ScenarioAction_step_name_phase2","ScenarioAction_step_name_phase3","ScenarioAction_step_name_phase4","ScenarioAction_step_name_phase5"],"extends":"TelemetryScenarioTracker","required":true},{"name":"AppStartupIntent","fields":["ScenarioAction_AppState","ScenarioAction_StartupContext","ScenarioAction_ColdStartup","ScenarioAction_ColdStartup_step_duration","ScenarioAction_ColdStartup_total_duration","ScenarioAction_intentBased","ScenarioAction_reason","ScenarioAction_Phase0_step_duration","ScenarioAction_Phase0_total_duration","ScenarioAction_Phase1_step_duration","ScenarioAction_Phase1_total_duration","ScenarioAction_Phase2_step_duration","ScenarioAction_Phase2_total_duration","ScenarioAction_Phase3_step_duration","ScenarioAction_Phase3_total_duration","ScenarioAction_Phase4_step_duration","ScenarioAction_Phase4_total_duration","ScenarioAction_Phase5_step_duration","ScenarioAction_Phase5_total_duration","ScenarioAction_CheckAppState_step_duration","ScenarioAction_CheckAppState_total_duration","ScenarioAction_StartedProcessingLocalNotification_step_duration","ScenarioAction_StartedProcessingLocalNotification_total_duration","ScenarioAction_StartedProcessingPush_step_duration","ScenarioAction_StartedProcessingPush_total_duration","ScenarioAction_PushProcessingComplete_step_duration","ScenarioAction_PushProcessingComplete_total_duration","ScenarioAction_IncomingCallPush_step_duration","ScenarioAction_IncomingCallPush_total_duration","ScenarioAction_NotifyingCallee_step_duration","ScenarioAction_NotifyingCallee_total_duration","ScenarioAction_DisplayIncomingCallNotification_step_duration","ScenarioAction_DisplayIncomingCallNotification_total_duration","ScenarioAction_PresentIncomingRing_step_duration","ScenarioAction_PresentIncomingRing_total_duration","ScenarioAction_CallPanelRendered_step_duration","ScenarioAction_CallPanelRendered_total_duration","ScenarioAction_WillNavigateToRecents_step_duration","ScenarioAction_WillNavigateToRecents_total_duration","ScenarioAction_RecentsWillMount_step_duration","ScenarioAction_RecentsWillMount_total_duration","ScenarioAction_ConversationListPanelRendered_step_duration","ScenarioAction_ConversationListPanelRendered_total_duration","ScenarioAction_RecentsRendered_step_duration","ScenarioAction_RecentsRendered_total_duration","ScenarioAction_WillNavigateToChat_step_duration","ScenarioAction_WillNavigateToChat_total_duration","ScenarioAction_MessaggeStreamRendered_step_duration","ScenarioAction_MessaggeStreamRendered_total_duration","ScenarioAction_WillNavigateToDialpad_step_duration","ScenarioAction_WillNavigateToDialpad_total_duration","ScenarioAction_DialpadRendered_step_duration","ScenarioAction_DialpadRendered_total_duration"],"extends":"TelemetryScenarioTracker","required":true},{"name":"TimeToConnected","fields":["ScenarioAction_ConnectionType","ScenarioAction_ReasonForConnecting"],"extends":"TelemetryScenarioTracker","required":true},{"name":"AnswerCall","fields":["ScenarioName"],"extends":"TelemetryScenarioTracker","required":true},{"name":"HtmlNotification","extends":"TelemetryScenarioTracker","required":true},{"name":"Responsiveness","fields":["ScenarioAction_cause"],"extends":"TelemetryScenarioTracker","required":true},{"name":"ResponsivenessSelectHubTab","fields":["ScenarioAction_cause","ScenarioAction_tab"],"extends":"TelemetryScenarioTracker","required":true},{"name":"CreateMeetNow","fields":["ScenarioAction_EntryPoint","ScenarioAction_Partner","ScenarioAction_ConversationId","ScenarioAction_step_name_startnewmeetnow","ScenarioAction_step_name_meetnowpanelready","ScenarioAction_step_name_meetnowpanelclosed","ScenarioAction_step_name_startmeetnowbuttonclicked","ScenarioAction_step_name_callstarted","ScenarioAction_step_name_callmade"],"extends":"TelemetryScenarioTracker","required":true},{"name":"JoinMeetNow","fields":["ScenarioAction_Partner","ScenarioAction_EntryPoint","ScenarioAction_IsMeetNow","ScenarioAction_ConversationId","ScenarioAction_step_name_validjoinlinkentered","ScenarioAction_step_name_userisconversationparticipant","ScenarioAction_step_name_lobbynavigationstarted","ScenarioAction_step_name_meetnowpanelready","ScenarioAction_step_name_meetnowpanelclosed","ScenarioAction_step_name_startorjoinmeetnowbuttonclicked","ScenarioAction_step_name_callstarted","ScenarioAction_step_name_callmade"],"extends":"TelemetryScenarioTracker","required":true},{"name":"StreamFrom","fields":["ScenarioAction_origin","ScenarioAction_browserOrigin"],"extends":"TelemetryScenarioTracker","required":true},{"name":"NewGroupChat","fields":["ScenarioAction_NewGroupChatNavOrigin","ScenarioAction_AvatarSelected","ScenarioAction_ParticipantsCount","ScenarioAction_VisitedParticipantPicker","ScenarioAction_VisitedSetConvInfoPanel","ScenarioAction_ExistingConversationFound","ScenarioAction_WizardSteps","ScenarioAction_step_name_funnelcompleted","ScenarioAction_step_name_funneldropped","ScenarioAction_step_name_conversationcreated"],"extends":"TelemetryScenarioTracker","required":true},{"name":"EmoticonPesPickerOpen","fields":["ScenarioAction_step_name_finished_keyboard_seen","ScenarioAction_step_name_finished_first_item_load","ScenarioAction_step_name_finished_open","ScenarioAction_totalCount"],"extends":"TelemetryScenarioTracker","required":true},{"name":"EmergencyRestoreEndpoints","fields":["ScenarioAction_step_name_GotSkypeToken","ScenarioAction_step_name_MarkEndpointsMissing","ScenarioAction_step_name_EndpointRestored","ScenarioAction_step_name_PushSubscriptionRestored","ScenarioAction_step_name_TimedOut","ScenarioAction_step_name_Failed","ScenarioAction_step_name_Ignored"],"extends":"TelemetryScenarioTracker","required":true},{"name":"Search","fields":["ScenarioAction_step_name_ClickOnResult","ScenarioAction_step_name_ClickOnResultContextMenu","ScenarioAction_QueryLength","ScenarioAction_Origin","ScenarioAction_ResultType","ScenarioAction_Index"],"extends":"TelemetryScenarioTracker","required":true},{"name":"InvalidGrant","fields":["ScenarioAction_step_name_PreparingToShowMsaInterrupt","ScenarioAction_step_name_MsaInterruptResolved","ScenarioAction_step_name_MsaInterruptFailure","ScenarioAction_InvalidGrantErrorCode","ScenarioAction_InvalidGrantErrorCategory","ScenarioAction_IsOneAuthInterrupt"],"extends":"TelemetryScenarioTracker","required":true},{"name":"TokenStoreInitialization","fields":["ScenarioAction_step_name_InitializedWithOneAuthStarted","ScenarioAction_step_name_InitializedWithOneAuthFinished","ScenarioAction_step_name_InitializedWithOneAuthFailed","ScenarioAction_step_name_InitializedWithLegacyAuthStack","ScenarioAction_step_name_InitializedWithOneAuthFromLegacyAuthStack","ScenarioAction_step_name_MigrationToOneAuthStarted","ScenarioAction_step_name_MigrationToOneAuthFailed","ScenarioAction_step_name_MigrationToOneAuthFinished","ScenarioAction_step_name_MigrateBackToLegacyAuthStackStarted","ScenarioAction_step_name_MigrateBackToLegacyAuthStackFailed","ScenarioAction_step_name_MigrateBackToLegacyAuthStackFinished","ScenarioAction_step_name_ForceLogoutSet"],"extends":"TelemetryScenarioTracker","required":true},{"name":"PerfScenarioTracker","fields":["ScenarioAction_step_name_started","ScenarioAction_error_description"]},{"name":"TelemetryScenarioTracker","fields":["ScenarioAction_step_name","ScenarioAction_step_duration","ScenarioAction_total_duration","ScenarioAction_is_final","ScenarioAction_target_duration_ms"],"extends":"PerfScenarioTracker"},{"name":"RequestReliabilityTrackerBase","fields":["ScenarioAction_requestId","ScenarioAction_attempt"],"extends":"TelemetryScenarioTracker"}]}},{"name":"sisutelemetryeventbase","fields":["IsFirstTimeSignIn"],"extends":"telemetryeventbase"},{"name":"sisu_welcome_screen","required":true,"fields":["Action","IsMSASignUpWebViewLoaded","IsFromOneAuth"],"extends":"sisutelemetryeventbase","variation":{"key":"Action","variants":[{"name":"WelcomeScreenLoaded","required":true},{"name":"NeedHelpClicked"},{"name":"LoginFlowStarted","required":true},{"name":"CreateAccountFlowStarted","required":true}]}},{"name":"sisu_app_entry_start","required":true,"fields":["Method","IsFromOneAuth"],"extends":"sisutelemetryeventbase"},{"name":"sisu_app_entry","required":true,"fields":["Method","IsFromOneAuth"],"extends":"sisutelemetryeventbase"},{"name":"sisu_msa_signup_funnel","required":true,"fields":["FunnelPageName","ErrorCode"],"extends":"sisutelemetryeventbase"},{"name":"sisu_msa_signin_funnel","required":true,"fields":["FunnelPageName","ErrorCode"],"extends":"sisutelemetryeventbase"},{"name":"sisu_msa_interrupt_handler","required":true,"fields":["Action"],"extends":"sisutelemetryeventbase","variation":{"key":"Action","variants":[{"name":"RefreshTokenStored","required":true},{"name":"UserSwitchedAccounts","required":true},{"name":"UserSignedIn","required":true}]}},{"name":"sisu_sso_screen","required":true,"fields":["Action","IsFromOneAuth"],"extends":"sisutelemetryeventbase","variation":{"key":"Action","variants":[{"name":"SsoTokenSignIn","extends":"SsoTokenWithPackageIdBase","required":true},{"name":"SsoTokenAutoRefreshed","extends":"SsoTokenWithPackageIdBase","required":true},{"name":"SsoTokenInterrupted","extends":"SsoTokenWithPackageIdBase","required":true},{"name":"SsoTokenSignedIn","extends":"SsoTokenWithPackageIdBase","required":true},{"name":"SsoTokenWithPackageIdBase","fields":["ProviderPackageId"]}]}},{"name":"sisu_refreshtoken_error","required":true,"fields":["ErrorCode","TokenSource","ErrorName","ErrorMessage"],"extends":"sisutelemetryeventbase"},{"name":"sisu_auto_signin","required":true,"fields":["Action","IsFirstTimeSignIn"],"extends":"sisutelemetryeventbase","variation":{"key":"Action","variants":[{"name":"ExtraSignInStarted"},{"name":"WAMCacheInvalidated","required":true},{"name":"WAMLoginFailure","required":true},{"name":"WAMLoginCompleted","required":true},{"name":"WAMTokenRequested","extends":"WAMTokenEventBase","required":true},{"name":"WAMTokenRetrieved","extends":"WAMTokenEventBase","required":true},{"name":"WAMTokenRetrievalFailure","fields":["ErrorCode","ErrorMessage","HResult"],"extends":"WAMTokenEventBase","required":true},{"name":"WAMTokenEventBase","fields":["IsRefreshRequest","SignInSource","WamCorrelationId"]}]}},{"name":"sisu_auth_background_refresh","required":true,"extends":"prioritytelemetryeventbase","variation":{"key":"Action","variants":[{"name":"RefreshScheduled","extends":"AuthBackgroundRefreshBaseEvent","required":true},{"name":"UpdateTriggered","extends":"AuthBackgroundRefreshBaseEvent","required":true},{"name":"HasValidToken","extends":"AuthBackgroundRefreshBaseEvent","required":true},{"name":"AuthBackgroundRefreshBaseEvent","fields":["Action"]}]}},{"name":"sisu_login_logout","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"RedirectToLogin","fields":["Reason","ErrorCode","TimeSinceLastRefresh","ErrorCorrelationId"],"extends":"LoginLogoutEventBase","required":true},{"name":"StartupError","fields":["Error","AppWakeupReason"],"extends":"LoginLogoutEventBase","required":true},{"name":"Logout","fields":["Reason","IsSaveCredentials"],"extends":"LoginLogoutEventBase","required":true},{"name":"KeychainFailure","fields":["Error","FailureType","TokenType"],"extends":"LoginLogoutEventBase","required":true},{"name":"TokenIssue","fields":["TokenType","TokenIssueType","Source"],"extends":"LoginLogoutEventBase","required":true},{"name":"PreSignOutPanelAction","extends":"LoginLogoutEventBase"},{"name":"LoginLogoutEventBase"}]}},{"name":"sisu_phone_verification","fields":["Stage","Error"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"MsaPhoneAccrualStart","extends":"PnvTelemetryEventBase","required":true},{"name":"MsaPhoneAccrualVerified","extends":"PnvTelemetryEventBase","required":true},{"name":"MsaPhoneAccrualRegistered","extends":"PnvTelemetryEventBase","required":true},{"name":"MsaEmailAccrualVerified","extends":"PnvTelemetryEventBase","required":true},{"name":"MsaEmailAccrualRegistered","extends":"PnvTelemetryEventBase","required":true},{"name":"MsaPhoneAccrualCancelled","extends":"PnvTelemetryEventBase","required":true},{"name":"MsaPhoneAccrualError","extends":"PnvTelemetryEventBase","required":true},{"name":"NeedVerification","extends":"PnvTelemetryEventBase"},{"name":"PnvTelemetryEventBase","fields":["Action"]}]}},{"name":"sisu_qso","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Started","extends":"QuickSignOnTelemetryBaseEvent","required":true},{"name":"AutoRefreshed","extends":"QuickSignOnTelemetryBaseEvent","required":true},{"name":"Interrupted","extends":"QuickSignOnTelemetryBaseEvent","required":true},{"name":"SignedIn","extends":"QuickSignOnTelemetryBaseEvent","required":true},{"name":"AccountListFetched","fields":["AccountListSize"],"extends":"QuickSignOnTelemetryBaseEvent","required":true},{"name":"QuickSignOnTelemetryBaseEvent","fields":["Action"]}]}},{"name":"sisu_guest_meetnow","required":true,"fields":["SisuPageName","IsPresentedAsMainCTAButton"],"extends":"sisutelemetryeventbase"},{"name":"sisu_msa_profile_fetch","required":true,"fields":["AgeGroup","ErrorStatus"],"extends":"telemetryeventbase"},{"name":"sisu_msa_qr_sign_in","required":true,"fields":["Action","QrShowType","ErrorType","ErrorStatus"],"extends":"sisutelemetryeventbase","variation":{"key":"Action","variants":[{"name":"QrSignInSuccessful","extends":"QrSignInEventBase","required":true},{"name":"QrSignInTokenExchangeFailed","extends":"QrSignInEventBase","required":true},{"name":"QrSignInQrCodeRenderedSuccessfully","extends":"QrSignInEventBase","required":true},{"name":"QrSignInQrCodeRenderFailed","extends":"QrSignInEventBase","required":true},{"name":"QrSignInNotAvailable","extends":"QrSignInEventBase","required":true},{"name":"QrSignInEventBase","fields":["Action"]}]}},{"name":"sisu_msix_background_task","required":true,"fields":["Action","IsSuccessful","CorrelationId","BackgroundTaskName","BackgroundTaskTriggerType","TimeTriggerInterval"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"Register","required":true},{"name":"Unregister","required":true},{"name":"UnregisterAll","required":true}]}},{"name":"sisu_msa_interrupt_notification_clicked","required":true,"fields":["IsMsaInvalidGrantInterruptReminder"],"extends":"telemetryeventbase"},{"name":"sisu_migrated_t1_credentials","fields":["Type","Step","WLIDErrorCode","WebErrorStatusCode","WebErrorShortName"],"extends":"telemetryeventbase"},{"name":"sisu_converged_msa","fields":["Action"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"CallInterruptAvoided","extends":"ConvergedMsaEventBase"},{"name":"NotificationInterruptAvoided","extends":"ConvergedMsaEventBase"},{"name":"BackgroundInterruptAvoided","extends":"ConvergedMsaEventBase"},{"name":"UnexpectedRetrySuccess","extends":"ConvergedMsaEventBase"},{"name":"ConvergedMsaEventBase"}]}},{"name":"sisu_network_error_debug","required":true,"fields":["RestClient","Scenario","StatusCode","StatusText","Error"],"extends":"telemetryeventbase"},{"name":"sisu_oneauth_action","required":true,"fields":["Action","IsError","ErrorType","ErrorOneAuthStatus","ErrorOneAuthSubStatus","ErrorReason","IsRefreshTokenFromQrCodeSignIn","Scope","IsQsoLogout","NumberOfAccountsFetched","isEmailAccrual","isPhoneAccrual","WithTokenToRenew"],"extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"RefreshTokenMigration","required":true},{"name":"SignOut","required":true},{"name":"GetAvailableAccounts","required":true},{"name":"SignInOrSignUp","required":true},{"name":"AcquireCredentialsSilently","required":true},{"name":"AcquireCredentialsSilentlyWithUIFallback","required":true},{"name":"AcquireCredentialsInteractively","required":true}]}},{"name":"sisu_background_token_refresh_ios","required":true,"fields":["Action","CorrelationId","Success","FailureReason"]},{"name":"s4l_today","extends":"telemetryeventbase","variation":{"key":"Action","variants":[{"name":"TodayBridgeTelemetry","fields":["origin","channelScenario","errorType"],"extends":"TodayTabBase","required":true},{"name":"TodayWebView","fields":["stage","origin","isFirstLoad","loadDuration","code","description","statusCode"],"extends":"TodayTabBase","required":true},{"name":"TodayShareTelemetry","fields":["shareAction","origin"],"extends":"TodayTabBase","required":true},{"name":"TodayActionMenu","fields":["menuAction","origin"],"extends":"TodayTabBase","required":true},{"name":"TodayTabToggleSetting","fields":["DidEnable"],"extends":"TodayTabBase","required":true},{"name":"TodayArticleReaderTelemetry","fields":["action","origin"],"extends":"TodayTabBase","required":true},{"name":"TodayArticleReaderSizeOverride","fields":["overrideType"],"extends":"TodayTabBase","required":true},{"name":"TodayMarketChangeTelemetry","fields":["selectedMarket"],"extends":"TodayTabBase","required":true},{"name":"TodayInterestPageAvailabilityChangeTelemetry","fields":["isEnabled"],"extends":"TodayTabBase","required":true},{"name":"TodayFeedRefreshActionTelemetry","extends":"TodayTabBase","required":true},{"name":"TodayTabBase","fields":["Action"]}]}}]')}}]);